/*! For license information please see main.js.LICENSE.txt */
var silex;silex=(()=>{var e={1807:e=>{var t=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t},1296:(e,t,n)=>{var i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=r.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i,o,r,s,a,l,c=0,u=!1,d=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n)}function v(e){return c=e,a=setTimeout(S,t),u?y(e):s}function E(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=r}function S(){var e=f();if(E(e))return w(e);a=setTimeout(S,function(e){var n=t-(e-l);return d?p(n,r-(e-c)):n}(e))}function w(e){return a=void 0,b&&i?y(e):(i=o=void 0,s)}function x(){var e=f(),n=E(e);if(i=arguments,o=this,l=e,n){if(void 0===a)return v(l);if(d)return a=setTimeout(S,t),y(l)}return void 0===a&&(a=setTimeout(S,t)),s}return t=g(t)||0,m(n)&&(u=!!n.leading,r=(d="maxWait"in n)?h(g(n.maxWait)||0,t):r,b="trailing"in n?!!n.trailing:b),x.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=o=a=void 0},x.flush=function(){return void 0===a?s:w(f())},x}},773:(e,t,n)=>{var i,o="__lodash_hash_undefined__",r=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,a="object"==typeof self&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),c=Array.prototype,u=Function.prototype,d=Object.prototype,h=l["__core-js_shared__"],p=(i=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",f=u.toString,m=d.hasOwnProperty,g=d.toString,b=RegExp("^"+f.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=c.splice,v=k(l,"Map"),E=k(Object,"create");function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function C(e,t){for(var n,i,o=e.length;o--;)if((n=e[o][0])===(i=t)||n!=n&&i!=i)return o;return-1}function T(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function k(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!A(e)||p&&p in e)return!1;var t=function(e){var t=A(e)?g.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?b:r;return t.test(function(e){if(null!=e){try{return f.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function I(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,i);return n.cache=r.set(o,s),s};return n.cache=new(I.Cache||x),n}function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}S.prototype.clear=function(){this.__data__=E?E(null):{}},S.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},S.prototype.get=function(e){var t=this.__data__;if(E){var n=t[e];return n===o?void 0:n}return m.call(t,e)?t[e]:void 0},S.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:m.call(t,e)},S.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?o:t,this},w.prototype.clear=function(){this.__data__=[]},w.prototype.delete=function(e){var t=this.__data__,n=C(t,e);return!(n<0||(n==t.length-1?t.pop():y.call(t,n,1),0))},w.prototype.get=function(e){var t=this.__data__,n=C(t,e);return n<0?void 0:t[n][1]},w.prototype.has=function(e){return C(this.__data__,e)>-1},w.prototype.set=function(e,t){var n=this.__data__,i=C(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new S,map:new(v||w),string:new S}},x.prototype.delete=function(e){return T(this,e).delete(e)},x.prototype.get=function(e){return T(this,e).get(e)},x.prototype.has=function(e){return T(this,e).has(e)},x.prototype.set=function(e,t){return T(this,e).set(e,t),this},I.Cache=x,e.exports=I},3096:(e,t,n)=>{var i="Expected a function",o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||a.test(e)?l(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(i);return g(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),function(e,t,n){var o,r,s,a,l,c,u=0,d=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=o,i=r;return o=r=void 0,u=t,a=e.apply(i,n)}function E(e){return u=e,l=setTimeout(w,t),d?v(e):a}function S(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=s}function w(){var e=m();if(S(e))return x(e);l=setTimeout(w,function(e){var n=t-(e-c);return h?f(n,s-(e-u)):n}(e))}function x(e){return l=void 0,y&&o?v(e):(o=r=void 0,a)}function C(){var e=m(),n=S(e);if(o=arguments,r=this,c=e,n){if(void 0===l)return E(c);if(h)return l=setTimeout(w,t),v(c)}return void 0===l&&(l=setTimeout(w,t)),a}return t=b(t)||0,g(n)&&(d=!!n.leading,s=(h="maxWait"in n)?p(b(n.maxWait)||0,t):s,y="trailing"in n?!!n.trailing:y),C.cancel=function(){void 0!==l&&clearTimeout(l),u=0,o=c=r=l=void 0},C.flush=function(){return void 0===l?a:x(m())},C}(e,t,{leading:o,maxWait:t,trailing:r})}},1528:function(e,t){var n,i,o;!function(r,s){"use strict";"object"==typeof e.exports?e.exports=s():(i=[],void 0===(o="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=o))}(0,(function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return!0;if(o(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function i(t){return e.call(t)}var o=Array.isArray||function(t){return"[object Array]"===e.call(t)};function r(e){var t=parseInt(e);return t.toString()===e?t:e}function s(e){var s,a=function(e){return Object.keys(a).reduce((function(t,n){return"create"===n||"function"==typeof a[n]&&(t[n]=a[n].bind(a,e)),t}),{})};function l(e,t){if(s(e,t))return e[t]}function c(t,n,i,o){if("number"==typeof n&&(n=[n]),!n||0===n.length)return t;if("string"==typeof n)return c(t,n.split(".").map(r),i,o);var s=n[0],a=l(t,s);if(e.includeInheritedProps&&("__proto__"===s||"constructor"===s&&"function"==typeof a))throw new Error("For security reasons, object's magic properties cannot be set");return 1===n.length?(void 0!==a&&o||(t[s]=i),a):(void 0===a&&("number"==typeof n[1]?t[s]=[]:t[s]={}),c(t[s],n.slice(1),i,o))}return s=(e=e||{}).includeInheritedProps?function(){return!0}:function(e,n){return"number"==typeof n&&Array.isArray(e)||t(e,n)},a.has=function(n,i){if("number"==typeof i?i=[i]:"string"==typeof i&&(i=i.split(".")),!i||0===i.length)return!!n;for(var s=0;s<i.length;s++){var a=r(i[s]);if(!("number"==typeof a&&o(n)&&a<n.length||(e.includeInheritedProps?a in Object(n):t(n,a))))return!1;n=n[a]}return!0},a.ensureExists=function(e,t,n){return c(e,t,n,!0)},a.set=function(e,t,n,i){return c(e,t,n,i)},a.insert=function(e,t,n,i){var r=a.get(e,t);i=~~i,o(r)||(r=[],a.set(e,t,r)),r.splice(i,0,n)},a.empty=function(e,t){var r,l;if(!n(t)&&null!=e&&(r=a.get(e,t))){if("string"==typeof r)return a.set(e,t,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===i(e)}(r))return a.set(e,t,!1);if("number"==typeof r)return a.set(e,t,0);if(o(r))r.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===i(e)}(r))return a.set(e,t,null);for(l in r)s(r,l)&&delete r[l]}}},a.push=function(e,t){var n=a.get(e,t);o(n)||(n=[],a.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},a.coalesce=function(e,t,n){for(var i,o=0,r=t.length;o<r;o++)if(void 0!==(i=a.get(e,t[o])))return i;return n},a.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return a.get(e,t.split("."),n);var i=r(t[0]),o=l(e,i);return void 0===o?n:1===t.length?o:a.get(e[i],t.slice(1),n)},a.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return a.del(e,t.split("."));var i=r(t[0]);return s(e,i)?1!==t.length?a.del(e[i],t.slice(1)):(o(e)?e.splice(i,1):delete e[i],e):e},a}var a=s();return a.create=s,a.withInheritedProps=s({includeInheritedProps:!0}),a}))},2236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCreators=t.ActionTypes=void 0;var n={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};t.ActionTypes=n;var i={undo:function(){return{type:n.UNDO}},redo:function(){return{type:n.REDO}},jumpToFuture:function(e){return{type:n.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:n.JUMP_TO_PAST,index:e}},jump:function(e){return{type:n.JUMP,index:e}},clearHistory:function(){return{type:n.CLEAR_HISTORY}}};t.ActionCreators=i},8823:(e,t)=>{"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e){i=e},t.start=function(e,t){o={header:[],prev:[],action:[],next:[],msgs:[]},i&&(console.group?(o.header=["%credux-undo","font-style: italic","action",e.type],o.action=l("action",s,e),o.prev=l("prev history",r,t)):(o.header=["redux-undo action",e.type],o.action=["action",e],o.prev=["prev history",t]))},t.end=function(e){var t,r,s,c,u,d,h,p,f,m,g,b,y,v,E,S;i&&(console.group?o.next=l("next history",a,e):o.next=["next history",e],b=(g=o).header,y=g.prev,v=g.next,E=g.action,S=g.msgs,console.group?((t=console).groupCollapsed.apply(t,n(b)),(r=console).log.apply(r,n(y)),(s=console).log.apply(s,n(E)),(c=console).log.apply(c,n(v)),(u=console).log.apply(u,n(S)),console.groupEnd()):((d=console).log.apply(d,n(b)),(h=console).log.apply(h,n(y)),(p=console).log.apply(p,n(E)),(f=console).log.apply(f,n(v)),(m=console).log.apply(m,n(S))))},t.log=function(){if(i){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.msgs=o.msgs.concat([].concat(t,["\n"]))}};var r="#9E9E9E",s="#03A9F4",a="#4CAF50";function l(e,t,n){return["%c".concat(e),"color: ".concat(t,"; font-weight: bold"),n]}},1619:(e,t)=>{"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"==typeof e?[e]:t}Object.defineProperty(t,"__esModule",{value:!0}),t.parseActions=n,t.isHistory=function(e){return void 0!==e.present&&void 0!==e.future&&void 0!==e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},t.includeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0}},t.excludeAction=function(e){var t=n(e);return function(e){return t.indexOf(e.type)<0}},t.combineFilters=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}),(function(){return!0}))},t.groupByActionTypes=function(e){var t=n(e);return function(e){return t.indexOf(e.type)>=0?e.type:null}},t.newHistory=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:t,future:n,group:i,_latestUnfiltered:t,index:e.length,limit:e.length+n.length+1}}},1090:(e,t,n)=>{"use strict";Object.defineProperty(t,"zF",{enumerable:!0,get:function(){return o.ActionCreators}}),Object.defineProperty(t,"an",{enumerable:!0,get:function(){return r.includeAction}}),Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return s.default}});var i,o=n(2236),r=n(1619),s=(i=n(2479))&&i.__esModule?i:{default:i}},2479:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.set(t.debug);var n,i=c({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:r.ActionTypes.UNDO,redoType:r.ActionTypes.REDO,jumpToPastType:r.ActionTypes.JUMP_TO_PAST,jumpToFutureType:r.ActionTypes.JUMP_TO_FUTURE,jumpType:r.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},t,{initTypes:(0,s.parseActions)(t.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,s.parseActions)(t.clearHistoryType,[r.ActionTypes.CLEAR_HISTORY])}),a=i.neverSkipReducer?function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];return c({},t,{present:e.apply(void 0,[t.present,n].concat(o))})}:function(e){return e};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.start(r,t);for(var l,c=t,u=arguments.length,d=new Array(u>2?u-2:0),y=2;y<u;y++)d[y-2]=arguments[y];if(!n){if(o.log("history is uninitialized"),void 0===t){var v={type:"@@redux-undo/CREATE_HISTORY"},E=e.apply(void 0,[t,v].concat(d));return c=h(E,i.ignoreInitialState),o.log("do not set initialState on probe actions"),o.end(c),c}(0,s.isHistory)(t)?(c=n=i.ignoreInitialState?t:(0,s.newHistory)(t.past,t.present,t.future),o.log("initialHistory initialized: initialState is a history",n)):(c=n=h(t,i.ignoreInitialState),o.log("initialHistory initialized: initialState is not a history",n))}switch(r.type){case void 0:return c;case i.undoType:return l=g(c,-1),o.log("perform undo"),o.end(l),a.apply(void 0,[l,r].concat(d));case i.redoType:return l=g(c,1),o.log("perform redo"),o.end(l),a.apply(void 0,[l,r].concat(d));case i.jumpToPastType:return l=m(c,r.index),o.log("perform jumpToPast to ".concat(r.index)),o.end(l),a.apply(void 0,[l,r].concat(d));case i.jumpToFutureType:return l=f(c,r.index),o.log("perform jumpToFuture to ".concat(r.index)),o.end(l),a.apply(void 0,[l,r].concat(d));case i.jumpType:return l=g(c,r.index),o.log("perform jump to ".concat(r.index)),o.end(l),a.apply(void 0,[l,r].concat(d));case b(r.type,i.clearHistoryType):return l=h(c.present,i.ignoreInitialState),o.log("perform clearHistory"),o.end(l),a.apply(void 0,[l,r].concat(d));default:if(l=e.apply(void 0,[c.present,r].concat(d)),i.initTypes.some((function(e){return e===r.type})))return o.log("reset history due to init action"),o.end(n),n;if(c._latestUnfiltered===l)return c;var S="function"==typeof i.filter&&!i.filter(r,l,c);if(S){var w=(0,s.newHistory)(c.past,l,c.future,c.group);return i.syncFilter||(w._latestUnfiltered=c._latestUnfiltered),o.log("filter ignored action, not storing it in past"),o.end(w),w}var x=i.groupBy(r,l,c);if(null!=x&&x===c.group){var C=(0,s.newHistory)(c.past,l,c.future,c.group);return o.log("groupBy grouped the action with the previous action"),o.end(C),C}return c=p(c,l,i.limit,x),o.log("inserted new state into history"),o.end(c),c}}};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}(n(8823)),r=n(2236),s=n(1619);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){var n=(0,s.newHistory)([],e,[]);return t&&(n._latestUnfiltered=null),n}function p(e,t,n,i){var r=e.past.length+1;o.log("inserting",t),o.log("new free: ",n-r);var a=e.past,l=e._latestUnfiltered,c=n&&n<=r,u=a.slice(c?1:0),h=null!=l?[].concat(d(u),[l]):u;return(0,s.newHistory)(h,t,[],i)}function f(e,t){if(t<0||t>=e.future.length)return e;var n=e.past,i=e.future,o=e._latestUnfiltered,r=[].concat(d(n),[o],d(i.slice(0,t))),a=i[t],l=i.slice(t+1);return(0,s.newHistory)(r,a,l)}function m(e,t){if(t<0||t>=e.past.length)return e;var n=e.past,i=e.future,o=e._latestUnfiltered,r=n.slice(0,t),a=[].concat(d(n.slice(t+1)),[o],d(i)),l=n[t];return(0,s.newHistory)(r,l,a)}function g(e,t){return t>0?f(e,t-1):t<0?m(e,e.past.length+t):e}function b(e,t){return t.indexOf(e)>-1?e:!e}},5055:(e,t,n)=>{var i=n(6282),o=n(180),r=TypeError;e.exports=function(e){if(i(e))return e;throw r(o(e)+" is not a function")}},2004:(e,t,n)=>{var i=n(6282),o=String,r=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw r("Can't set "+o(e)+" as a prototype")}},9256:(e,t,n)=>{var i=n(8149),o=n(1525),r=n(9168).f,s=i("unscopables"),a=Array.prototype;null==a[s]&&r(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},3615:(e,t,n)=>{"use strict";var i=n(7321).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},3046:(e,t,n)=>{var i=n(1786),o=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},1474:(e,t,n)=>{var i=n(5896),o=String,r=TypeError;e.exports=function(e){if(i(e))return e;throw r(o(e)+" is not an object")}},8774:(e,t,n)=>{var i=n(6183);e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},1269:(e,t,n)=>{"use strict";var i=n(528).forEach,o=n(1923)("forEach");e.exports=o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},5675:(e,t,n)=>{var i=n(3206),o=n(9623),r=n(1829),s=function(e){return function(t,n,s){var a,l=i(t),c=r(l),u=o(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},528:(e,t,n)=>{var i=n(1098),o=n(1768),r=n(7530),s=n(9473),a=n(1829),l=n(2768),c=o([].push),u=function(e){var t=1==e,n=2==e,o=3==e,u=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,m,g,b){for(var y,v,E=s(f),S=r(E),w=i(m,g),x=a(S),C=0,T=b||l,k=t?T(f,x):n||h?T(f,0):void 0;x>C;C++)if((p||C in S)&&(v=w(y=S[C],C,E),e))if(t)k[C]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:c(k,y)}else switch(e){case 4:return!1;case 7:c(k,y)}return d?-1:o||u?u:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},4820:(e,t,n)=>{var i=n(6183),o=n(8149),r=n(4324),s=o("species");e.exports=function(e){return r>=51||!i((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},1923:(e,t,n)=>{"use strict";var i=n(6183);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},6589:(e,t,n)=>{var i=n(5055),o=n(9473),r=n(7530),s=n(1829),a=TypeError,l=function(e){return function(t,n,l,c){i(n);var u=o(t),d=r(u),h=s(u),p=e?h-1:0,f=e?-1:1;if(l<2)for(;;){if(p in d){c=d[p],p+=f;break}if(p+=f,e?p<0:h<=p)throw a("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=f)p in d&&(c=n(c,d[p],p,u));return c}};e.exports={left:l(!1),right:l(!0)}},4072:(e,t,n)=>{var i=n(9623),o=n(1829),r=n(2759),s=Array,a=Math.max;e.exports=function(e,t,n){for(var l=o(e),c=i(t,l),u=i(void 0===n?l:n,l),d=s(a(u-c,0)),h=0;c<u;c++,h++)r(d,h,e[c]);return d.length=h,d}},9882:(e,t,n)=>{var i=n(7931),o=n(2240),r=n(5896),s=n(8149)("species"),a=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===a||i(t.prototype))||r(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},2768:(e,t,n)=>{var i=n(9882);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},1751:(e,t,n)=>{var i=n(8149)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},1510:(e,t,n)=>{var i=n(1768),o=i({}.toString),r=i("".slice);e.exports=function(e){return r(o(e),8,-1)}},9225:(e,t,n)=>{var i=n(4823),o=n(6282),r=n(1510),s=n(8149)("toStringTag"),a=Object,l="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?n:l?r(t):"Object"==(i=r(t))&&o(t.callee)?"Arguments":i}},7790:(e,t,n)=>{"use strict";var i=n(1768),o=n(6367),r=n(6582).getWeakData,s=n(1474),a=n(5896),l=n(3046),c=n(1518),u=n(528),d=n(8281),h=n(1030),p=h.set,f=h.getterFor,m=u.find,g=u.findIndex,b=i([].splice),y=0,v=function(e){return e.frozen||(e.frozen=new E)},E=function(){this.entries=[]},S=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};E.prototype={get:function(e){var t=S(this,e);if(t)return t[1]},has:function(e){return!!S(this,e)},set:function(e,t){var n=S(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&b(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var u=e((function(e,o){l(e,h),p(e,{type:t,id:y++,frozen:void 0}),null!=o&&c(o,e[i],{that:e,AS_ENTRIES:n})})),h=u.prototype,m=f(t),g=function(e,t,n){var i=m(e),o=r(s(t),!0);return!0===o?v(i).set(t,n):o[i.id]=n,e};return o(h,{delete:function(e){var t=m(this);if(!a(e))return!1;var n=r(e);return!0===n?v(t).delete(e):n&&d(n,t.id)&&delete n[t.id]},has:function(e){var t=m(this);if(!a(e))return!1;var n=r(e);return!0===n?v(t).has(e):n&&d(n,t.id)}}),o(h,n?{get:function(e){var t=m(this);if(a(e)){var n=r(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),u}}},6645:(e,t,n)=>{"use strict";var i=n(4761),o=n(8454),r=n(1768),s=n(1949),a=n(2054),l=n(6582),c=n(1518),u=n(3046),d=n(6282),h=n(5896),p=n(6183),f=n(1751),m=n(820),g=n(7770);e.exports=function(e,t,n){var b=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),v=b?"set":"add",E=o[e],S=E&&E.prototype,w=E,x={},C=function(e){var t=r(S[e]);a(S,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(s(e,!d(E)||!(y||S.forEach&&!p((function(){(new E).entries().next()})))))w=n.getConstructor(t,e,b,v),l.enable();else if(s(e,!0)){var T=new w,k=T[v](y?{}:-0,1)!=T,I=p((function(){T.has(1)})),A=f((function(e){new E(e)})),_=!y&&p((function(){for(var e=new E,t=5;t--;)e[v](t,t);return!e.has(-0)}));A||((w=t((function(e,t){u(e,S);var n=g(new E,e,w);return null!=t&&c(t,n[v],{that:n,AS_ENTRIES:b}),n}))).prototype=S,S.constructor=w),(I||_)&&(C("delete"),C("has"),b&&C("get")),(_||k)&&C(v),y&&S.clear&&delete S.clear}return x[e]=w,i({global:!0,constructor:!0,forced:w!=E},x),m(w,e),y||n.setStrong(w,e,b),w}},882:(e,t,n)=>{var i=n(8281),o=n(1441),r=n(5663),s=n(9168);e.exports=function(e,t,n){for(var a=o(t),l=s.f,c=r.f,u=0;u<a.length;u++){var d=a[u];i(e,d)||n&&i(n,d)||l(e,d,c(t,d))}}},7401:(e,t,n)=>{var i=n(6183);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2538:(e,t,n)=>{"use strict";var i=n(6524).IteratorPrototype,o=n(1525),r=n(9273),s=n(820),a=n(6126),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=o(i,{next:r(+!c,n)}),s(e,u,!1,!0),a[u]=l,e}},1501:(e,t,n)=>{var i=n(723),o=n(9168),r=n(9273);e.exports=i?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},9273:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2759:(e,t,n)=>{"use strict";var i=n(2988),o=n(9168),r=n(9273);e.exports=function(e,t,n){var s=i(t);s in e?o.f(e,s,r(0,n)):e[s]=n}},2054:(e,t,n)=>{var i=n(6282),o=n(9168),r=n(5903),s=n(7194);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;return i(n)&&r(n,c,a),a.global?l?e[t]=n:s(t,n):(a.unsafe?e[t]&&(l=!0):delete e[t],l?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})),e}},6367:(e,t,n)=>{var i=n(2054);e.exports=function(e,t,n){for(var o in t)i(e,o,t[o],n);return e}},7194:(e,t,n)=>{var i=n(8454),o=Object.defineProperty;e.exports=function(e,t){try{o(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},7583:(e,t,n)=>{"use strict";var i=n(4761),o=n(4552),r=n(8977),s=n(4530),a=n(6282),l=n(2538),c=n(4204),u=n(5900),d=n(820),h=n(1501),p=n(2054),f=n(8149),m=n(6126),g=n(6524),b=s.PROPER,y=s.CONFIGURABLE,v=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,S=f("iterator"),w="keys",x="values",C="entries",T=function(){return this};e.exports=function(e,t,n,s,f,g,k){l(n,t,s);var I,A,_,O=function(e){if(e===f&&M)return M;if(!E&&e in D)return D[e];switch(e){case w:case x:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},L=t+" Iterator",N=!1,D=e.prototype,P=D[S]||D["@@iterator"]||f&&D[f],M=!E&&P||O(f),R="Array"==t&&D.entries||P;if(R&&(I=c(R.call(new e)))!==Object.prototype&&I.next&&(r||c(I)===v||(u?u(I,v):a(I[S])||p(I,S,T)),d(I,L,!0,!0),r&&(m[L]=T)),b&&f==x&&P&&P.name!==x&&(!r&&y?h(D,"name",x):(N=!0,M=function(){return o(P,this)})),f)if(A={values:O(x),keys:g?M:O(w),entries:O(C)},k)for(_ in A)(E||N||!(_ in D))&&p(D,_,A[_]);else i({target:t,proto:!0,forced:E||N},A);return r&&!k||D[S]===M||p(D,S,M,{name:f}),m[t]=M,A}},723:(e,t,n)=>{var i=n(6183);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7282:(e,t,n)=>{var i=n(8454),o=n(5896),r=i.document,s=o(r)&&o(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},6181:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2387:(e,t,n)=>{var i=n(7282)("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},7594:(e,t,n)=>{var i=n(1510),o=n(8454);e.exports="process"==i(o.process)},2543:(e,t,n)=>{var i=n(4991);e.exports=i("navigator","userAgent")||""},4324:(e,t,n)=>{var i,o,r=n(8454),s=n(2543),a=r.process,l=r.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(o=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(o=+i[1]),e.exports=o},8409:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4761:(e,t,n)=>{var i=n(8454),o=n(5663).f,r=n(1501),s=n(2054),a=n(7194),l=n(882),c=n(1949);e.exports=function(e,t){var n,u,d,h,p,f=e.target,m=e.global,g=e.stat;if(n=m?i:g?i[f]||a(f,{}):(i[f]||{}).prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(p=o(n,u))&&p.value:n[u],!c(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&r(h,"sham",!0),s(n,u,h,e)}}},6183:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9696:(e,t,n)=>{"use strict";n(9989);var i=n(1768),o=n(2054),r=n(5510),s=n(6183),a=n(8149),l=n(1501),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var h=a(e),p=!s((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),f=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!p||!f||n){var m=i(/./[h]),g=t(h,""[e],(function(e,t,n,o,s){var a=i(e),l=t.exec;return l===r||l===u.exec?p&&!s?{done:!0,value:m(t,n,o)}:{done:!0,value:a(n,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(u,h,g[1])}d&&l(u[h],"sham",!0)}},3116:(e,t,n)=>{var i=n(6183);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},6218:(e,t,n)=>{var i=n(160),o=Function.prototype,r=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(r):function(){return s.apply(r,arguments)})},1098:(e,t,n)=>{var i=n(1768),o=n(5055),r=n(160),s=i(i.bind);e.exports=function(e,t){return o(e),void 0===t?e:r?s(e,t):function(){return e.apply(t,arguments)}}},160:(e,t,n)=>{var i=n(6183);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4552:(e,t,n)=>{var i=n(160),o=Function.prototype.call;e.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},4530:(e,t,n)=>{var i=n(723),o=n(8281),r=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=o(r,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&s(r,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1768:(e,t,n)=>{var i=n(160),o=Function.prototype,r=o.bind,s=o.call,a=i&&r.bind(s,s);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},4991:(e,t,n)=>{var i=n(8454),o=n(6282),r=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e]):i[e]&&i[e][t]}},650:(e,t,n)=>{var i=n(9225),o=n(9827),r=n(6126),s=n(8149)("iterator");e.exports=function(e){if(null!=e)return o(e,s)||o(e,"@@iterator")||r[i(e)]}},7755:(e,t,n)=>{var i=n(4552),o=n(5055),r=n(1474),s=n(180),a=n(650),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(o(n))return r(i(n,e));throw l(s(e)+" is not iterable")}},9827:(e,t,n)=>{var i=n(5055);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},4742:(e,t,n)=>{var i=n(1768),o=n(9473),r=Math.floor,s=i("".charAt),a=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,d,h){var p=n+e.length,f=i.length,m=u;return void 0!==d&&(d=o(d),m=c),a(h,m,(function(o,a){var c;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":c=d[l(a,1,-1)];break;default:var u=+a;if(0===u)return o;if(u>f){var h=r(u/10);return 0===h?o:h<=f?void 0===i[h-1]?s(a,1):i[h-1]+s(a,1):o}c=i[u-1]}return void 0===c?"":c}))}},8454:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},8281:(e,t,n)=>{var i=n(1768),o=n(9473),r=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(o(e),t)}},4377:e=>{e.exports={}},7461:(e,t,n)=>{var i=n(4991);e.exports=i("document","documentElement")},4985:(e,t,n)=>{var i=n(723),o=n(6183),r=n(7282);e.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},7530:(e,t,n)=>{var i=n(1768),o=n(6183),r=n(1510),s=Object,a=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a(e,""):s(e)}:s},7770:(e,t,n)=>{var i=n(6282),o=n(5896),r=n(5900);e.exports=function(e,t,n){var s,a;return r&&i(s=t.constructor)&&s!==n&&o(a=s.prototype)&&a!==n.prototype&&r(e,a),e}},6901:(e,t,n)=>{var i=n(1768),o=n(6282),r=n(2047),s=i(Function.toString);o(r.inspectSource)||(r.inspectSource=function(e){return s(e)}),e.exports=r.inspectSource},6582:(e,t,n)=>{var i=n(4761),o=n(1768),r=n(4377),s=n(5896),a=n(8281),l=n(9168).f,c=n(6785),u=n(6675),d=n(6662),h=n(9059),p=n(3116),f=!1,m=h("meta"),g=0,b=function(e){l(e,m,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},f=!0;var e=c.f,t=o([].splice),n={};n[m]=1,e(n).length&&(c.f=function(n){for(var i=e(n),o=0,r=i.length;o<r;o++)if(i[o]===m){t(i,o,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,m)){if(!d(e))return"F";if(!t)return"E";b(e)}return e[m].objectID},getWeakData:function(e,t){if(!a(e,m)){if(!d(e))return!0;if(!t)return!1;b(e)}return e[m].weakData},onFreeze:function(e){return p&&f&&d(e)&&!a(e,m)&&b(e),e}};r[m]=!0},1030:(e,t,n)=>{var i,o,r,s=n(4404),a=n(8454),l=n(1768),c=n(5896),u=n(1501),d=n(8281),h=n(2047),p=n(8873),f=n(4377),m="Object already initialized",g=a.TypeError,b=a.WeakMap;if(s||h.state){var y=h.state||(h.state=new b),v=l(y.get),E=l(y.has),S=l(y.set);i=function(e,t){if(E(y,e))throw new g(m);return t.facade=e,S(y,e,t),t},o=function(e){return v(y,e)||{}},r=function(e){return E(y,e)}}else{var w=p("state");f[w]=!0,i=function(e,t){if(d(e,w))throw new g(m);return t.facade=e,u(e,w,t),t},o=function(e){return d(e,w)?e[w]:{}},r=function(e){return d(e,w)}}e.exports={set:i,get:o,has:r,enforce:function(e){return r(e)?o(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},5859:(e,t,n)=>{var i=n(8149),o=n(6126),r=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[r]===e)}},7931:(e,t,n)=>{var i=n(1510);e.exports=Array.isArray||function(e){return"Array"==i(e)}},6282:e=>{e.exports=function(e){return"function"==typeof e}},2240:(e,t,n)=>{var i=n(1768),o=n(6183),r=n(6282),s=n(9225),a=n(4991),l=n(6901),c=function(){},u=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=i(h.exec),f=!h.exec(c),m=function(e){if(!r(e))return!1;try{return d(c,u,e),!0}catch(e){return!1}},g=function(e){if(!r(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},1949:(e,t,n)=>{var i=n(6183),o=n(6282),r=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(o(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},5896:(e,t,n)=>{var i=n(6282);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},8977:e=>{e.exports=!1},1527:(e,t,n)=>{var i=n(4991),o=n(6282),r=n(1786),s=n(4746),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&r(t.prototype,a(e))}},1518:(e,t,n)=>{var i=n(1098),o=n(4552),r=n(1474),s=n(180),a=n(5859),l=n(1829),c=n(1786),u=n(7755),d=n(650),h=n(9193),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,n){var g,b,y,v,E,S,w,x=n&&n.that,C=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),I=i(t,x),A=function(e){return g&&h(g,"normal",e),new f(!0,e)},_=function(e){return C?(r(e),k?I(e[0],e[1],A):I(e[0],e[1])):k?I(e,A):I(e)};if(T)g=e;else{if(!(b=d(e)))throw p(s(e)+" is not iterable");if(a(b)){for(y=0,v=l(e);v>y;y++)if((E=_(e[y]))&&c(m,E))return E;return new f(!1)}g=u(e,b)}for(S=g.next;!(w=o(S,g)).done;){try{E=_(w.value)}catch(e){h(g,"throw",e)}if("object"==typeof E&&E&&c(m,E))return E}return new f(!1)}},9193:(e,t,n)=>{var i=n(4552),o=n(1474),r=n(9827);e.exports=function(e,t,n){var s,a;o(e);try{if(!(s=r(e,"return"))){if("throw"===t)throw n;return n}s=i(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw n;if(a)throw s;return o(s),n}},6524:(e,t,n)=>{"use strict";var i,o,r,s=n(6183),a=n(6282),l=n(1525),c=n(4204),u=n(2054),d=n(8149),h=n(8977),p=d("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(o=c(c(r)))!==Object.prototype&&(i=o):f=!0),null==i||s((function(){var e={};return i[p].call(e)!==e}))?i={}:h&&(i=l(i)),a(i[p])||u(i,p,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},6126:e=>{e.exports={}},1829:(e,t,n)=>{var i=n(3917);e.exports=function(e){return i(e.length)}},5903:(e,t,n)=>{var i=n(6183),o=n(6282),r=n(8281),s=n(723),a=n(4530).CONFIGURABLE,l=n(6901),c=n(1030),u=c.enforce,d=c.get,h=Object.defineProperty,p=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||a&&e.name!==t)&&h(e,"name",{value:t,configurable:!0}),p&&n&&r(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return r(i,"source")||(i.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return o(this)&&d(this).source||l(this)}),"toString")},1021:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},323:(e,t,n)=>{var i=n(4324),o=n(6183);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},4404:(e,t,n)=>{var i=n(8454),o=n(6282),r=n(6901),s=i.WeakMap;e.exports=o(s)&&/native code/.test(r(s))},8513:(e,t,n)=>{var i=n(8454),o=n(6183),r=n(1768),s=n(7655),a=n(9749).trim,l=n(8342),c=i.parseInt,u=i.Symbol,d=u&&u.iterator,h=/^[+-]?0x/i,p=r(h.exec),f=8!==c(l+"08")||22!==c(l+"0x16")||d&&!o((function(){c(Object(d))}));e.exports=f?function(e,t){var n=a(s(e));return c(n,t>>>0||(p(h,n)?16:10))}:c},4727:(e,t,n)=>{"use strict";var i=n(723),o=n(1768),r=n(4552),s=n(6183),a=n(1340),l=n(8074),c=n(4043),u=n(9473),d=n(7530),h=Object.assign,p=Object.defineProperty,f=o([].concat);e.exports=!h||s((function(){if(i&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||a(h({},t)).join("")!=o}))?function(e,t){for(var n=u(e),o=arguments.length,s=1,h=l.f,p=c.f;o>s;)for(var m,g=d(arguments[s++]),b=h?f(a(g),h(g)):a(g),y=b.length,v=0;y>v;)m=b[v++],i&&!r(p,g,m)||(n[m]=g[m]);return n}:h},1525:(e,t,n)=>{var i,o=n(1474),r=n(262),s=n(8409),a=n(4377),l=n(7461),c=n(7282),u=n(8873)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&i?p(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(i);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[u]=e):n=f(),void 0===t?n:r.f(n,t)}},262:(e,t,n)=>{var i=n(723),o=n(8654),r=n(9168),s=n(1474),a=n(3206),l=n(1340);t.f=i&&!o?Object.defineProperties:function(e,t){s(e);for(var n,i=a(t),o=l(t),c=o.length,u=0;c>u;)r.f(e,n=o[u++],i[n]);return e}},9168:(e,t,n)=>{var i=n(723),o=n(4985),r=n(8654),s=n(1474),a=n(2988),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=i?r?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=u(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5663:(e,t,n)=>{var i=n(723),o=n(4552),r=n(4043),s=n(9273),a=n(3206),l=n(2988),c=n(8281),u=n(4985),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=a(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return s(!o(r.f,e,t),e[t])}},6675:(e,t,n)=>{var i=n(1510),o=n(3206),r=n(6785).f,s=n(4072),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==i(e)?function(e){try{return r(e)}catch(e){return s(a)}}(e):r(o(e))}},6785:(e,t,n)=>{var i=n(5113),o=n(8409).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},8074:(e,t)=>{t.f=Object.getOwnPropertySymbols},4204:(e,t,n)=>{var i=n(8281),o=n(6282),r=n(9473),s=n(8873),a=n(7401),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=r(e);if(i(t,l))return t[l];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},6662:(e,t,n)=>{var i=n(6183),o=n(5896),r=n(1510),s=n(8774),a=Object.isExtensible,l=i((function(){a(1)}));e.exports=l||s?function(e){return!!o(e)&&(!s||"ArrayBuffer"!=r(e))&&(!a||a(e))}:a},1786:(e,t,n)=>{var i=n(1768);e.exports=i({}.isPrototypeOf)},5113:(e,t,n)=>{var i=n(1768),o=n(8281),r=n(3206),s=n(5675).indexOf,a=n(4377),l=i([].push);e.exports=function(e,t){var n,i=r(e),c=0,u=[];for(n in i)!o(a,n)&&o(i,n)&&l(u,n);for(;t.length>c;)o(i,n=t[c++])&&(~s(u,n)||l(u,n));return u}},1340:(e,t,n)=>{var i=n(5113),o=n(8409);e.exports=Object.keys||function(e){return i(e,o)}},4043:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},5900:(e,t,n)=>{var i=n(1768),o=n(1474),r=n(2004);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return o(n),r(i),t?e(n,i):n.__proto__=i,n}}():void 0)},4117:(e,t,n)=>{"use strict";var i=n(4823),o=n(9225);e.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},6891:(e,t,n)=>{var i=n(4552),o=n(6282),r=n(5896),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!r(a=i(n,e)))return a;if(o(n=e.valueOf)&&!r(a=i(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!r(a=i(n,e)))return a;throw s("Can't convert object to primitive value")}},1441:(e,t,n)=>{var i=n(4991),o=n(1768),r=n(6785),s=n(8074),a=n(1474),l=o([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=s.f;return n?l(t,n(e)):t}},8734:(e,t,n)=>{var i=n(4552),o=n(1474),r=n(6282),s=n(1510),a=n(5510),l=TypeError;e.exports=function(e,t){var n=e.exec;if(r(n)){var c=i(n,e,t);return null!==c&&o(c),c}if("RegExp"===s(e))return i(a,e,t);throw l("RegExp#exec called on incompatible receiver")}},5510:(e,t,n)=>{"use strict";var i,o,r=n(4552),s=n(1768),a=n(7655),l=n(8383),c=n(6558),u=n(1748),d=n(1525),h=n(1030).get,p=n(7672),f=n(9729),m=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,b=g,y=s("".charAt),v=s("".indexOf),E=s("".replace),S=s("".slice),w=(o=/b*/g,r(g,i=/a/,"a"),r(g,o,"a"),0!==i.lastIndex||0!==o.lastIndex),x=c.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(w||C||x||p||f)&&(b=function(e){var t,n,i,o,s,c,u,p=this,f=h(p),T=a(e),k=f.raw;if(k)return k.lastIndex=p.lastIndex,t=r(b,k,T),p.lastIndex=k.lastIndex,t;var I=f.groups,A=x&&p.sticky,_=r(l,p),O=p.source,L=0,N=T;if(A&&(_=E(_,"y",""),-1===v(_,"g")&&(_+="g"),N=S(T,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(T,p.lastIndex-1))&&(O="(?: "+O+")",N=" "+N,L++),n=new RegExp("^(?:"+O+")",_)),C&&(n=new RegExp("^"+O+"$(?!\\s)",_)),w&&(i=p.lastIndex),o=r(g,A?n:p,N),A?o?(o.input=S(o.input,L),o[0]=S(o[0],L),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:w&&o&&(p.lastIndex=p.global?o.index+o[0].length:i),C&&o&&o.length>1&&r(m,o[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&I)for(o.groups=c=d(null),s=0;s<I.length;s++)c[(u=I[s])[0]]=o[u[1]];return o}),e.exports=b},8383:(e,t,n)=>{"use strict";var i=n(1474);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},6558:(e,t,n)=>{var i=n(6183),o=n(8454).RegExp,r=i((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=r||i((function(){return!o("a","y").sticky})),a=r||i((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:r}},7672:(e,t,n)=>{var i=n(6183),o=n(8454).RegExp;e.exports=i((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},9729:(e,t,n)=>{var i=n(6183),o=n(8454).RegExp;e.exports=i((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7431:e=>{var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},820:(e,t,n)=>{var i=n(9168).f,o=n(8281),r=n(8149)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,r)&&i(e,r,{configurable:!0,value:t})}},8873:(e,t,n)=>{var i=n(1748),o=n(9059),r=i("keys");e.exports=function(e){return r[e]||(r[e]=o(e))}},2047:(e,t,n)=>{var i=n(8454),o=n(7194),r="__core-js_shared__",s=i[r]||o(r,{});e.exports=s},1748:(e,t,n)=>{var i=n(8977),o=n(2047);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.2",mode:i?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.2/LICENSE",source:"https://github.com/zloirock/core-js"})},7321:(e,t,n)=>{var i=n(1768),o=n(8037),r=n(7655),s=n(7431),a=i("".charAt),l=i("".charCodeAt),c=i("".slice),u=function(e){return function(t,n){var i,u,d=r(s(t)),h=o(n),p=d.length;return h<0||h>=p?e?"":void 0:(i=l(d,h))<55296||i>56319||h+1===p||(u=l(d,h+1))<56320||u>57343?e?a(d,h):i:e?c(d,h,h+2):u-56320+(i-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},9749:(e,t,n)=>{var i=n(1768),o=n(7431),r=n(7655),s=n(8342),a=i("".replace),l="["+s+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(e){return function(t){var n=r(o(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,u,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},9623:(e,t,n)=>{var i=n(8037),o=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):r(n,t)}},3206:(e,t,n)=>{var i=n(7530),o=n(7431);e.exports=function(e){return i(o(e))}},8037:(e,t,n)=>{var i=n(1021);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},3917:(e,t,n)=>{var i=n(8037),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},9473:(e,t,n)=>{var i=n(7431),o=Object;e.exports=function(e){return o(i(e))}},3948:(e,t,n)=>{var i=n(4552),o=n(5896),r=n(1527),s=n(9827),a=n(6891),l=n(8149),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!o(e)||r(e))return e;var n,l=s(e,u);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!o(n)||r(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},2988:(e,t,n)=>{var i=n(3948),o=n(1527);e.exports=function(e){var t=i(e,"string");return o(t)?t:t+""}},4823:(e,t,n)=>{var i={};i[n(8149)("toStringTag")]="z",e.exports="[object z]"===String(i)},7655:(e,t,n)=>{var i=n(9225),o=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},180:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9059:(e,t,n)=>{var i=n(1768),o=0,r=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+r,36)}},4746:(e,t,n)=>{var i=n(323);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8654:(e,t,n)=>{var i=n(723),o=n(6183);e.exports=i&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8149:(e,t,n)=>{var i=n(8454),o=n(1748),r=n(8281),s=n(9059),a=n(323),l=n(4746),c=o("wks"),u=i.Symbol,d=u&&u.for,h=l?u:u&&u.withoutSetter||s;e.exports=function(e){if(!r(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&r(u,e)?c[e]=u[e]:c[e]=l&&d?d(t):h(t)}return c[e]}},8342:e=>{e.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},8165:(e,t,n)=>{"use strict";var i=n(4761),o=n(528).filter;i({target:"Array",proto:!0,forced:!n(4820)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},7543:(e,t,n)=>{"use strict";var i=n(3206),o=n(9256),r=n(6126),s=n(1030),a=n(9168).f,l=n(7583),c=n(8977),u=n(723),d="Array Iterator",h=s.set,p=s.getterFor(d);e.exports=l(Array,"Array",(function(e,t){h(this,{type:d,target:i(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");var f=r.Arguments=r.Array;if(o("keys"),o("values"),o("entries"),!c&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(e){}},7985:(e,t,n)=>{"use strict";var i=n(4761),o=n(6589).left,r=n(1923),s=n(4324),a=n(7594);i({target:"Array",proto:!0,forced:!r("reduce")||!a&&s>79&&s<83},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},6618:(e,t,n)=>{var i=n(723),o=n(4530).EXISTS,r=n(1768),s=n(9168).f,a=Function.prototype,l=r(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(c.exec);i&&!o&&s(a,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},7692:(e,t,n)=>{var i=n(4761),o=n(4727);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},2352:(e,t,n)=>{var i=n(4823),o=n(2054),r=n(4117);i||o(Object.prototype,"toString",r,{unsafe:!0})},4249:(e,t,n)=>{var i=n(4761),o=n(8513);i({global:!0,forced:parseInt!=o},{parseInt:o})},9989:(e,t,n)=>{"use strict";var i=n(4761),o=n(5510);i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},3344:(e,t,n)=>{"use strict";var i=n(7321).charAt,o=n(7655),r=n(1030),s=n(7583),a="String Iterator",l=r.set,c=r.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:o(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=i(n,o),t.index+=e.length,{value:e,done:!1})}))},8307:(e,t,n)=>{"use strict";var i=n(4552),o=n(9696),r=n(1474),s=n(3917),a=n(7655),l=n(7431),c=n(9827),u=n(3615),d=n(8734);o("match",(function(e,t,n){return[function(t){var n=l(this),o=null==t?void 0:c(t,e);return o?i(o,t,n):new RegExp(t)[e](a(n))},function(e){var i=r(this),o=a(e),l=n(t,i,o);if(l.done)return l.value;if(!i.global)return d(i,o);var c=i.unicode;i.lastIndex=0;for(var h,p=[],f=0;null!==(h=d(i,o));){var m=a(h[0]);p[f]=m,""===m&&(i.lastIndex=u(o,s(i.lastIndex),c)),f++}return 0===f?null:p}]}))},4390:(e,t,n)=>{"use strict";var i=n(6218),o=n(4552),r=n(1768),s=n(9696),a=n(6183),l=n(1474),c=n(6282),u=n(8037),d=n(3917),h=n(7655),p=n(7431),f=n(3615),m=n(9827),g=n(4742),b=n(8734),y=n(8149)("replace"),v=Math.max,E=Math.min,S=r([].concat),w=r([].push),x=r("".indexOf),C=r("".slice),T="$0"==="a".replace(/./,"$0"),k=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(e,t,n){var r=k?"$":"$0";return[function(e,n){var i=p(this),r=null==e?void 0:m(e,y);return r?o(r,e,i,n):o(t,h(i),e,n)},function(e,o){var s=l(this),a=h(e);if("string"==typeof o&&-1===x(o,r)&&-1===x(o,"$<")){var p=n(t,s,a,o);if(p.done)return p.value}var m=c(o);m||(o=h(o));var y=s.global;if(y){var T=s.unicode;s.lastIndex=0}for(var k=[];;){var I=b(s,a);if(null===I)break;if(w(k,I),!y)break;""===h(I[0])&&(s.lastIndex=f(a,d(s.lastIndex),T))}for(var A,_="",O=0,L=0;L<k.length;L++){for(var N=h((I=k[L])[0]),D=v(E(u(I.index),a.length),0),P=[],M=1;M<I.length;M++)w(P,void 0===(A=I[M])?A:String(A));var R=I.groups;if(m){var B=S([N],P,D,a);void 0!==R&&w(B,R);var W=h(i(o,void 0,B))}else W=g(N,a,D,P,R,o);D>=O&&(_+=C(a,O,D)+W,O=D+N.length)}return _+C(a,O)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||k)},9703:(e,t,n)=>{"use strict";var i,o=n(8454),r=n(1768),s=n(6367),a=n(6582),l=n(6645),c=n(7790),u=n(5896),d=n(6662),h=n(1030).enforce,p=n(4404),f=!o.ActiveXObject&&"ActiveXObject"in o,m=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=l("WeakMap",m,c);if(p&&f){i=c.getConstructor(m,"WeakMap",!0),a.enable();var b=g.prototype,y=r(b.delete),v=r(b.has),E=r(b.get),S=r(b.set);s(b,{delete:function(e){if(u(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new i),y(this,e)||t.frozen.delete(e)}return y(this,e)},has:function(e){if(u(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new i),v(this,e)||t.frozen.has(e)}return v(this,e)},get:function(e){if(u(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new i),v(this,e)?E(this,e):t.frozen.get(e)}return E(this,e)},set:function(e,t){if(u(e)&&!d(e)){var n=h(this);n.frozen||(n.frozen=new i),v(this,e)?S(this,e,t):n.frozen.set(e,t)}else S(this,e,t);return this}})}},7323:(e,t,n)=>{n(9703)},3542:(e,t,n)=>{var i=n(8454),o=n(6181),r=n(2387),s=n(1269),a=n(1501),l=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in o)o[c]&&l(i[c]&&i[c].prototype);l(r)},4079:(e,t,n)=>{var i=n(8454),o=n(6181),r=n(2387),s=n(7543),a=n(1501),l=n(8149),c=l("iterator"),u=l("toStringTag"),d=s.values,h=function(e,t){if(e){if(e[c]!==d)try{a(e,c,d)}catch(t){e[c]=d}if(e[u]||a(e,u,t),o[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var p in o)h(i[p]&&i[p].prototype,p);h(r,"DOMTokenList")},7121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),e=n.hmd(e);const i=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},1907:function(e,t){var n,i;n=function(e,t){"use strict";t.exports=i;var n="placeholder pattern spellcheck autocomplete autocapitalize autofocus accessKey accept lang minLength maxLength required".split(" ");function i(e){function t(e,t,n,i){var o=document.createElement(e);for(var r in t&&(o.className=t),n&&(o.textContent=n),i)o.setAttribute("data-"+r,i[r]);return o}function i(e,t){return!0===t?Array.prototype.slice.call(d.querySelectorAll(e)):d.querySelector(e)}function o(){return i(".tag",!0).map((function(e){return e.textContent})).concat(d.input.value||[]).join(",")}function r(){e.value=o(),e.dispatchEvent(new Event("change"))}function s(n){if(~n.indexOf(",")&&(n=n.split(",")),Array.isArray(n))return n.forEach(s);var o=n&&n.trim();if(!o)return!1;if(!e.getAttribute("duplicates")){var r=function(){var e=i('[data-tag="'+o+'"]');if(e)return e.classList.add("dupe"),setTimeout((function(){return e.classList.remove("dupe")}),100),{v:!1}}();if("object"==typeof r)return r.v}d.insertBefore(t("span","tag",o,{tag:o}),d.input)}function a(e){var t=i(".selected");t&&t.classList.remove("selected"),e&&e.classList.add("selected")}function l(){var e=i(".tag",!0).pop(),t=d.offsetWidth;t&&(d.input.style.width=Math.max(t-(e?e.offsetLeft+e.offsetWidth:5)-5,t/4)+"px")}function c(e){"string"==typeof e||Array.isArray(e)||(e=d.input.value),!1!==s(e)&&(d.input.value="",r(),l())}function u(e){return e.target.classList.contains("tag")&&a(e.target),e.target===d.input?a():(d.input.focus(),e.preventDefault(),!1)}var d=t("div","tags-input"),h=e.nextSibling;e.parentNode[h?"insertBefore":"appendChild"](d,h),e.style.cssText="position:absolute;left:0;top:-99px;width:1px;height:1px;opacity:0.01;",e.tabIndex=-1,d.input=t("input"),d.input.setAttribute("type","text"),n.forEach((function(t){if(e[t]!==d.input[t]){d.input[t]=e[t];try{delete e[t]}catch(e){}}})),d.appendChild(d.input),e.addEventListener("focus",(function(){d.input.focus()})),d.input.addEventListener("focus",(function(){d.classList.add("focus"),a()})),d.input.addEventListener("blur",(function(){d.classList.remove("focus"),a(),c()})),d.input.addEventListener("keydown",(function(e){var t=d.input,n=e.keyCode||e.which,o=i(".tag.selected"),s=t.selectionStart===t.selectionEnd&&t.selectionStart,u=i(".tag",!0).pop();if(l(),13===n||188===n||9===n){if(!t.value&&188!==n)return;c()}else if(46===n&&o)o.nextSibling!==d.input&&a(o.nextSibling),d.removeChild(o),l(),r();else if(8===n)if(o)a(o.previousSibling),d.removeChild(o),l(),r();else{if(!u||0!==s)return;a(u)}else if(37===n)if(o)o.previousSibling&&a(o.previousSibling);else{if(0!==s)return;a(u)}else{if(39!==n)return a();if(!o)return;a(o.nextSibling)}return e.preventDefault(),!1})),d.input.addEventListener("input",(function(){e.value=o(),e.dispatchEvent(new Event("input"))})),d.input.addEventListener("paste",(function(){return setTimeout(c,0)})),d.addEventListener("mousedown",u),d.addEventListener("touchstart",u),d.setValue=function(e){i(".tag",!0).forEach((function(e){return d.removeChild(e)})),c(e)},d.getValue=o,c(e.value)}i.enhance=i.tagsInput=i},void 0===(i=n.apply(t,[t,e]))||(e.exports=i)},4125:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CloudStorage:()=>Gt,INITIAL_ELEMENT_SIZE:()=>no,Notification:()=>me,SilexTasks:()=>xr,addDialog:()=>pr,addElement:()=>Ao,addLink:()=>Po,addMediaQueryIfMobileOnly:()=>Hi,addToPage:()=>Lo,browse:()=>yo,cloneElement:()=>er,cloneElements:()=>Qo,componentStyleChanged:()=>Au,config:()=>de,copySelection:()=>Zo,count:()=>Hr,createElements:()=>Pn,createPage:()=>gr,createPages:()=>$i,crudIdKey:()=>Qt,deleteElements:()=>Mn,deletePages:()=>Fi,duplicateSelection:()=>Jo,editLink:()=>bo,editPage:()=>br,editPageSettings:()=>Er,fromData:()=>tn,fromElementData:()=>Ln,fromPageData:()=>zi,getAllParents:()=>ri,getAllStyles:()=>mo,getBody:()=>ai,getBoundingBox:()=>uo,getChildren:()=>ni,getChildrenRecursive:()=>ii,getComponentClassName:()=>Li,getComponents:()=>_i,getComponentsDef:()=>Ii,getCreateAction:()=>io,getCreationDropZone:()=>ho,getCssClasses:()=>Ni,getCurrentPage:()=>sr,getDefaultStyle:()=>ro,getDisplayName:()=>fo,getDropStyle:()=>po,getElementByDomElement:()=>ti,getElementById:()=>ei,getElementRect:()=>co,getElementStyle:()=>lo,getElements:()=>Bn,getEmptyElementData:()=>oo,getFirstPagedParent:()=>di,getNewId:()=>ao,getPageById:()=>rr,getPages:()=>Yi,getParent:()=>oi,getPseudoClassData:()=>gi,getSelectedElements:()=>ci,getSelectedElementsNoSectionContent:()=>ui,getSite:()=>fi,getState:()=>On,getUi:()=>an,getVisibleDialogs:()=>_s,hasElementsToPaste:()=>nr,hasRedo:()=>vn,hasUndo:()=>yn,indexOfElement:()=>vo,init:()=>$u,initComponent:()=>Oi,initProdotype:()=>wi,initStyle:()=>Iu,initializeData:()=>Rr,initializeElements:()=>Dn,initializePages:()=>Ui,initializeSite:()=>hi,initializeUi:()=>rn,isBody:()=>si,isComponent:()=>Ai,isDialogVisible:()=>As,isDirty:()=>fn,isSameTag:()=>Pi,isVisibleInPage:()=>go,loadComponents:()=>ki,moveDown:()=>jo,moveElements:()=>wo,movePage:()=>Vi,movePageTo:()=>vr,moveToBottom:()=>qo,moveToTop:()=>zo,moveUp:()=>Ho,multipleStylesChanged:()=>To,noSectionContent:()=>li,onAddElements:()=>Qr,onAddPages:()=>ns,onChangeUi:()=>us,onCrudChange:()=>on,onDeleteElements:()=>es,onDeletePages:()=>is,onUpdateElements:()=>ts,onUpdatePages:()=>ss,once:()=>jr,openComponentEditor:()=>Ri,openDashboardToLoadAWebsite:()=>bs,openDialog:()=>mr,openFile:()=>ys,openPage:()=>hr,openRecent:()=>gs,openStyleEditor:()=>Bi,pasteClipBoard:()=>ir,pasteElements:()=>or,position:()=>Wo,preview:()=>Fr,previewResponsize:()=>Gr,publish:()=>Ss,redo:()=>bn,removeDialog:()=>fr,removeElements:()=>_o,removeElementsWithoutConfirm:()=>Oo,removeFromPage:()=>No,removeLink:()=>Mo,removePage:()=>yr,removeStyle:()=>_u,resetComponentEditor:()=>Mi,resetDirty:()=>pn,resetUndo:()=>mn,save:()=>fs,saveEditableChildren:()=>Wi,selectBody:()=>Eo,selectElements:()=>So,setAttributes:()=>ko,setClassName:()=>Io,setHideOnDesktop:()=>xo,setImageUrl:()=>Uo,setPreviewWindowLocation:()=>Vr,setStyleToDom:()=>ji,start:()=>Fu,store:()=>Tn,styleChanged:()=>Co,subscribeElements:()=>Wn,subscribePages:()=>Xi,subscribeSite:()=>mi,subscribeTo:()=>_n,subscribeToCrud:()=>An,subscribeUi:()=>ln,toData:()=>nn,toElementData:()=>Nn,toPageData:()=>qi,undo:()=>gn,updateComponents:()=>Ti,updateComponentsDependencies:()=>Di,updateElements:()=>Rn,updatePages:()=>Gi,updateSite:()=>pi,updateUi:()=>sn,visibleOnAllPages:()=>Do,withCrudReducer:()=>en,withDirtyDispatcher:()=>cn,withUndoDispatcher:()=>En}),n(2352),n(3542);var i,o=n(1807),r=n.n(o),s=(n(4249),n(7692),n(8165),n(7543),n(3344),n(7323),n(4079),n(3096)),a=n.n(s),l=n(1296),c=n.n(l),u=n(773),d=n.n(u),h=[],p="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(i||(i={}));var f,m=function(e){return Object.freeze(e)},g=function(e,t){this.inlineSize=e,this.blockSize=t,m(this)},b=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,m(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),y=function(e){return e instanceof SVGElement&&"getBBox"in e},v=function(e){if(y(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var o=e,r=o.offsetWidth,s=o.offsetHeight;return!(r||s||e.getClientRects().length)},E=function(e){var t,n;if(e instanceof Element)return!0;var i=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(i&&e instanceof i.Element)},S="undefined"!=typeof window?window:{},w=new WeakMap,x=/auto|scroll/,C=/^tb|vertical/,T=/msie|trident/i.test(S.navigator&&S.navigator.userAgent),k=function(e){return parseFloat(e||"0")},I=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new g((n?t:e)||0,(n?e:t)||0)},A=m({devicePixelContentBoxSize:I(),borderBoxSize:I(),contentBoxSize:I(),contentRect:new b(0,0,0,0)}),_=function(e,t){if(void 0===t&&(t=!1),w.has(e)&&!t)return w.get(e);if(v(e))return w.set(e,A),A;var n=getComputedStyle(e),i=y(e)&&e.ownerSVGElement&&e.getBBox(),o=!T&&"border-box"===n.boxSizing,r=C.test(n.writingMode||""),s=!i&&x.test(n.overflowY||""),a=!i&&x.test(n.overflowX||""),l=i?0:k(n.paddingTop),c=i?0:k(n.paddingRight),u=i?0:k(n.paddingBottom),d=i?0:k(n.paddingLeft),h=i?0:k(n.borderTopWidth),p=i?0:k(n.borderRightWidth),f=i?0:k(n.borderBottomWidth),g=d+c,E=l+u,S=(i?0:k(n.borderLeftWidth))+p,_=h+f,O=a?e.offsetHeight-_-e.clientHeight:0,L=s?e.offsetWidth-S-e.clientWidth:0,N=o?g+S:0,D=o?E+_:0,P=i?i.width:k(n.width)-N-L,M=i?i.height:k(n.height)-D-O,R=P+g+L+S,B=M+E+O+_,W=m({devicePixelContentBoxSize:I(Math.round(P*devicePixelRatio),Math.round(M*devicePixelRatio),r),borderBoxSize:I(R,B,r),contentBoxSize:I(P,M,r),contentRect:new b(d,l,P,M)});return w.set(e,W),W},O=function(e,t,n){var o=_(e,n),r=o.borderBoxSize,s=o.contentBoxSize,a=o.devicePixelContentBoxSize;switch(t){case i.DEVICE_PIXEL_CONTENT_BOX:return a;case i.BORDER_BOX:return r;default:return s}},L=function(e){var t=_(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=m([t.borderBoxSize]),this.contentBoxSize=m([t.contentBoxSize]),this.devicePixelContentBoxSize=m([t.devicePixelContentBoxSize])},N=function(e){if(v(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},D=function(){var e=1/0,t=[];h.forEach((function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach((function(t){var n=new L(t.target),o=N(t.target);i.push(n),t.lastReportedSize=O(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){n.callback.call(n.observer,i,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,i=t;n<i.length;n++)(0,i[n])();return e},P=function(e){h.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(N(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},M=[],R=0,B={attributes:!0,characterData:!0,childList:!0,subtree:!0},W=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],H=function(e){return void 0===e&&(e=0),Date.now()+e},j=!1,z=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!j){j=!0;var n,i=H(e);n=function(){var n=!1;try{n=function(){var e,t=0;for(P(t);h.some((function(e){return e.activeTargets.length>0}));)t=D(),P(t);return h.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:p}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=p),window.dispatchEvent(e)),t>0}()}finally{if(j=!1,e=i-H(),!R)return;n?t.run(1e3):e>0?t.run(e):t.start()}},function(e){if(!f){var t=0,n=document.createTextNode("");new MutationObserver((function(){return M.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),f=function(){n.textContent=""+(t?t--:t++)}}M.push(e),f()}((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,B)};document.body?t():S.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),W.forEach((function(t){return S.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),W.forEach((function(t){return S.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),q=function(e){!R&&e>0&&z.start(),!(R+=e)&&z.stop()},U=function(){function e(e,t){this.target=e,this.observedBox=t||i.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=O(this.target,this.observedBox,!0);return e=this.target,y(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),$=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},F=new WeakMap,G=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},V=function(){function e(){}return e.connect=function(e,t){var n=new $(e,t);F.set(e,n)},e.observe=function(e,t,n){var i=F.get(e),o=0===i.observationTargets.length;G(i.observationTargets,t)<0&&(o&&h.push(i),i.observationTargets.push(new U(t,n&&n.box)),q(1),z.schedule())},e.unobserve=function(e,t){var n=F.get(e),i=G(n.observationTargets,t),o=1===n.observationTargets.length;i>=0&&(o&&h.splice(h.indexOf(n),1),n.observationTargets.splice(i,1),q(-1))},e.disconnect=function(e){var t=this,n=F.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Y=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");V.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!E(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");V.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!E(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");V.unobserve(this,e)},e.prototype.disconnect=function(){V.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),X=(n(7985),n(9989),n(8307),n(6618),n(4390),function(e){return Array.prototype.reduce.call(e,(function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var i=n[1].replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}));switch(t.value){case"true":e[i]=!0;break;case"false":e[i]=!1;break;case void 0:e[i]=!0;break;default:e[i]=t.value}}return e}),{})});function K(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function Z(e){return e&&e.ownerDocument?e.ownerDocument:document}var J=null,Q=null;function ee(e){if(null===J){var t=Z(e);if(void 0===t)return J=0;var n=t.body,i=t.createElement("div");i.classList.add("simplebar-hide-scrollbar"),n.appendChild(i);var o=i.getBoundingClientRect().right;n.removeChild(i),J=o}return J}r()&&window.addEventListener("resize",(function(){Q!==window.devicePixelRatio&&(Q=window.devicePixelRatio,J=null)}));var te=function(){function e(t,n){var i=this;this.onScroll=function(){var e=K(i.el);i.scrollXTicking||(e.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0),i.scrollYTicking||(e.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0)},this.scrollX=function(){i.axis.x.isOverflowing&&(i.showScrollbar("x"),i.positionScrollbar("x")),i.scrollXTicking=!1},this.scrollY=function(){i.axis.y.isOverflowing&&(i.showScrollbar("y"),i.positionScrollbar("y")),i.scrollYTicking=!1},this.onMouseEnter=function(){i.showScrollbar("x"),i.showScrollbar("y")},this.onMouseMove=function(e){i.mouseX=e.clientX,i.mouseY=e.clientY,(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseMoveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseMoveForAxis("y")},this.onMouseLeave=function(){i.onMouseMove.cancel(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseLeaveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseLeaveForAxis("y"),i.mouseX=-1,i.mouseY=-1},this.onWindowResize=function(){i.scrollbarWidth=i.getScrollbarWidth(),i.hideNativeScrollbar()},this.hideScrollbars=function(){i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.track.rect)||(i.axis.y.scrollbar.el.classList.remove(i.classNames.visible),i.axis.y.isVisible=!1),i.isWithinBounds(i.axis.x.track.rect)||(i.axis.x.scrollbar.el.classList.remove(i.classNames.visible),i.axis.x.isVisible=!1)},this.onPointerEvent=function(e){var t,n;i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&(t=i.isWithinBounds(i.axis.x.track.rect)),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&(n=i.isWithinBounds(i.axis.y.track.rect)),(t||n)&&(e.preventDefault(),e.stopPropagation(),"mousedown"===e.type&&(t&&(i.axis.x.scrollbar.rect=i.axis.x.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.x.scrollbar.rect)?i.onDragStart(e,"x"):i.onTrackClick(e,"x")),n&&(i.axis.y.scrollbar.rect=i.axis.y.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.scrollbar.rect)?i.onDragStart(e,"y"):i.onTrackClick(e,"y"))))},this.drag=function(t){var n=i.axis[i.draggedAxis].track,o=n.rect[i.axis[i.draggedAxis].sizeAttr],r=i.axis[i.draggedAxis].scrollbar,s=i.contentWrapperEl[i.axis[i.draggedAxis].scrollSizeAttr],a=parseInt(i.elStyles[i.axis[i.draggedAxis].sizeAttr],10);t.preventDefault(),t.stopPropagation();var l=(("y"===i.draggedAxis?t.pageY:t.pageX)-n.rect[i.axis[i.draggedAxis].offsetAttr]-i.axis[i.draggedAxis].dragOffset)/(o-r.size)*(s-a);"x"===i.draggedAxis&&(l=i.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?l-(o+r.size):l,l=i.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-l:l),i.contentWrapperEl[i.axis[i.draggedAxis].scrollOffsetAttr]=l},this.onEndDrag=function(e){var t=Z(i.el),n=K(i.el);e.preventDefault(),e.stopPropagation(),i.el.classList.remove(i.classNames.dragging),t.removeEventListener("mousemove",i.drag,!0),t.removeEventListener("mouseup",i.onEndDrag,!0),i.removePreventClickId=n.setTimeout((function(){t.removeEventListener("click",i.preventClick,!0),t.removeEventListener("dblclick",i.preventClick,!0),i.removePreventClickId=null}))},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.minScrollbarWidth=20,this.options=Object.assign({},e.defaultOptions,n),this.classNames=Object.assign({},e.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,e.instances.has(this.el)||(this.recalculate=a()(this.recalculate.bind(this),64),this.onMouseMove=a()(this.onMouseMove.bind(this),64),this.hideScrollbars=c()(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=c()(this.onWindowResize.bind(this),64,{leading:!0}),e.getRtlHelpers=d()(e.getRtlHelpers),this.init())}e.getRtlHelpers=function(){var t=document.createElement("div");t.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var n=t.firstElementChild;document.body.appendChild(n);var i=n.firstElementChild;n.scrollLeft=0;var o=e.getOffset(n),r=e.getOffset(i);n.scrollLeft=999;var s=e.getOffset(i);return{isRtlScrollingInverted:o.left!==r.left&&r.left-s.left!=0,isRtlScrollbarInverted:o.left!==r.left}},e.getOffset=function(e){var t=e.getBoundingClientRect(),n=Z(e),i=K(e);return{top:t.top+(i.pageYOffset||n.documentElement.scrollTop),left:t.left+(i.pageXOffset||n.documentElement.scrollLeft)}};var t=e.prototype;return t.init=function(){e.instances.set(this.el,this),r()&&(this.initDOM(),this.setAccessibilityAttributes(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},t.initDOM=function(){var e=this;if(Array.prototype.filter.call(this.el.children,(function(t){return t.classList.contains(e.classNames.wrapper)})).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var t=document.createElement("div"),n=document.createElement("div");t.classList.add(this.classNames.track),n.classList.add(this.classNames.scrollbar),t.appendChild(n),this.axis.x.track.el=t.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=t.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},t.setAccessibilityAttributes=function(){var e=this.options.ariaLabel||"scrollable content";this.contentWrapperEl.setAttribute("tabindex","0"),this.contentWrapperEl.setAttribute("role","region"),this.contentWrapperEl.setAttribute("aria-label",e)},t.initListeners=function(){var e=this,t=K(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(t){e.el.addEventListener(t,e.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(t){e.el.addEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})})),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),t.addEventListener("resize",this.onWindowResize);var n=!1,i=t.ResizeObserver||Y;this.resizeObserver=new i((function(){n&&e.recalculate()})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),t.requestAnimationFrame((function(){n=!0})),this.mutationObserver=new t.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},t.recalculate=function(){var e=K(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.heightAutoObserverEl.offsetHeight<=1,n=this.heightAutoObserverEl.offsetWidth<=1,i=this.contentEl.offsetWidth,o=this.contentWrapperEl.offsetWidth,r=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=t?"auto":"100%",this.placeholderEl.style.width=n?i+"px":"auto",this.placeholderEl.style.height=a+"px";var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=l>i,this.axis.y.isOverflowing=a>c,this.axis.x.isOverflowing="hidden"!==r&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>o-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>c-u,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},t.getScrollbarSize=function(e){if(void 0===e&&(e="y"),!this.axis[e].isOverflowing)return 0;var t,n=this.contentEl[this.axis[e].scrollSizeAttr],i=this.axis[e].track.el[this.axis[e].offsetSizeAttr],o=i/n;return t=Math.max(~~(o*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(t=Math.min(t,this.options.scrollbarMaxSize)),t},t.positionScrollbar=function(t){if(void 0===t&&(t="y"),this.axis[t].isOverflowing){var n=this.contentWrapperEl[this.axis[t].scrollSizeAttr],i=this.axis[t].track.el[this.axis[t].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[t].sizeAttr],10),r=this.axis[t].scrollbar,s=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],a=(s="x"===t&&this.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-s:s)/(n-o),l=~~((i-r.size)*a);l="x"===t&&this.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?l+(i-r.size):l,r.el.style.transform="x"===t?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},t.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll"):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden"),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none"},t.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},t.onMouseMoveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.rect=this.axis[e].track.el.getBoundingClientRect(),this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[e].scrollbar.rect)?this.axis[e].scrollbar.el.classList.add(this.classNames.hover):this.axis[e].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[e].track.rect)?(this.showScrollbar(e),this.axis[e].track.el.classList.add(this.classNames.hover)):this.axis[e].track.el.classList.remove(this.classNames.hover)},t.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.el.classList.remove(this.classNames.hover),this.axis[e].scrollbar.el.classList.remove(this.classNames.hover)},t.showScrollbar=function(e){void 0===e&&(e="y");var t=this.axis[e].scrollbar.el;this.axis[e].isVisible||(t.classList.add(this.classNames.visible),this.axis[e].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},t.onDragStart=function(e,t){void 0===t&&(t="y");var n=Z(this.el),i=K(this.el),o=this.axis[t].scrollbar,r="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=r-o.rect[this.axis[t].offsetAttr],this.draggedAxis=t,this.el.classList.add(this.classNames.dragging),n.addEventListener("mousemove",this.drag,!0),n.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(n.addEventListener("click",this.preventClick,!0),n.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},t.onTrackClick=function(e,t){var n=this;if(void 0===t&&(t="y"),this.options.clickOnTrack){var i=K(this.el);this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect();var o=this.axis[t].scrollbar.rect[this.axis[t].offsetAttr],r=parseInt(this.elStyles[this.axis[t].sizeAttr],10),s=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],a=("y"===t?this.mouseY-o:this.mouseX-o)<0?-1:1,l=-1===a?s-r:s+r;!function e(){var o,r;-1===a?s>l&&(s-=n.options.clickOnTrackSpeed,n.contentWrapperEl.scrollTo(((o={})[n.axis[t].offsetAttr]=s,o)),i.requestAnimationFrame(e)):s<l&&(s+=n.options.clickOnTrackSpeed,n.contentWrapperEl.scrollTo(((r={})[n.axis[t].offsetAttr]=s,r)),i.requestAnimationFrame(e))}()}},t.getContentElement=function(){return this.contentEl},t.getScrollElement=function(){return this.contentWrapperEl},t.getScrollbarWidth=function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:ee(this.el)}catch(e){return ee(this.el)}},t.removeListeners=function(){var e=this,t=K(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(t){e.el.removeEventListener(t,e.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(t){e.el.removeEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},t.unMount=function(){this.removeListeners(),e.instances.delete(this.el)},t.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},t.findChild=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,(function(e){return n.call(e,t)}))[0]},e}();te.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},te.instances=new WeakMap,te.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(e){"init"===e.getAttribute("data-simplebar")||te.instances.has(e)||new te(e,X(e.attributes))}))},te.removeObserver=function(){this.globalObserver.disconnect()},te.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(te.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},te.handleMutations=function(e){e.forEach((function(e){Array.prototype.forEach.call(e.addedNodes,(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?!te.instances.has(e)&&document.documentElement.contains(e)&&new te(e,X(e.attributes)):Array.prototype.forEach.call(e.querySelectorAll("[data-simplebar]"),(function(e){"init"!==e.getAttribute("data-simplebar")&&!te.instances.has(e)&&document.documentElement.contains(e)&&new te(e,X(e.attributes))})))})),Array.prototype.forEach.call(e.removedNodes,(function(e){1===e.nodeType&&("init"===e.getAttribute("data-simplebar")?te.instances.has(e)&&!document.documentElement.contains(e)&&te.instances.get(e).unMount():Array.prototype.forEach.call(e.querySelectorAll('[data-simplebar="init"]'),(function(e){te.instances.has(e)&&!document.documentElement.contains(e)&&te.instances.get(e).unMount()})))}))}))},te.getOptions=X,r()&&te.initHtmlApi();var ne=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},ie=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},oe=function(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"},re=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},se=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ae=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,le=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ce=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ue(e){var t=function(e){return""!==e&&le.reduce((function(t,n){var i=n[0],o=n[1];if(t)return t;var r=o.exec(e);return!!r&&[i,r]}),!1)}(e);if(!t)return null;var n=t[0],i=t[1];if("searchbot"===n)return new re;var o=i[1]&&i[1].split(/[._]/).slice(0,3);o?o.length<3&&(o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(o,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-o.length))):o=[];var r=o.join("."),s=function(e){for(var t=0,n=ce.length;t<n;t++){var i=ce[t],o=i[0];if(i[1].exec(e))return o}return null}(e),a=ae.exec(e);return a&&a[1]?new oe(n,r,s,a[1]):new ne(n,r,s)}const de={debug:!1,WIKI_SILEX:"https://github.com/silexlabs/Silex/wiki",WIKI_SILEX_CUSTOM_CSS_CLASS:"https://github.com/silexlabs/Silex/wiki/Silex-CSS-editor#custom-css-classes",CROWD_FUNDING:"http://crowdfunding.silex.me/",ISSUES_SILEX:"https://github.com/silexlabs/Silex/issues?state=open",DOWNLOADS_TEMPLATE_SILEX:"https://github.com/silexlabs/Silex/issues?labels=template&state=open",DOWNLOADS_WIDGET_SILEX:"https://github.com/silexlabs/Silex/issues?labels=widget&state=open",ABOUT_SILEX_LABS:"http://www.silexlabs.org/",SUBSCRIBE_SILEX_LABS:"http://eepurl.com/F48q5",SOCIAL_DIASPORA:"https://diasp.org/people/f37438103a9b013250aa2a0000053625",SOCIAL_TWITTER:"http://twitter.com/silexlabs",SOCIAL_FB:"http://www.facebook.com/silexlabs",FORK_CODE:"https://github.com/silexlabs/Silex",CONTRIBUTE:"https://github.com/silexlabs/Silex/wiki/Contribute",singleSiteMode:!1,componentFolders:["./prodotype/components"],shortcuts:[{label:"New File",id:"file.new",key:"n",altKey:!0},{label:"Open File...",id:"file.open",key:"o",ctrlKey:!0},{label:"Save File",id:"file.save",key:"s",ctrlKey:!0},{label:"Save As...",id:"file.saveas",key:"s",ctrlKey:!0,shiftKey:!0},{label:"Publish",id:"file.publish",key:"p",ctrlKey:!0},{label:"Settings...",id:"file.publish.settings",key:"o",altKey:!0},{label:"Move Up",id:"edit.position.up",key:"ArrowUp",modifiers:!1,input:!1},{label:"Move Down",id:"edit.position.down",key:"ArrowDown",modifiers:!1,input:!1},{label:"Move Left",id:"edit.position.left",key:"ArrowLeft",modifiers:!1,input:!1},{label:"Move Right",id:"edit.position.right",key:"ArrowRight",modifiers:!1,input:!1},{label:"Move Up in the DOM",id:"edit.move.up",key:"ArrowUp",altKey:!0,input:!1},{label:"Move Down in the DOM",id:"edit.move.down",key:"ArrowDown",altKey:!0,input:!1},{label:"Move Top",id:"edit.move.to.top",key:"ArrowUp",shiftKey:!0,altKey:!0,input:!1},{label:"Move Bottom",id:"edit.move.to.bottom",key:"ArrowDown",shiftKey:!0,altKey:!0,input:!1},{label:"Copy",id:"edit.copy.selection",key:"c",ctrlKey:!0,input:!1},{label:"Paste",id:"edit.paste.selection",key:"v",ctrlKey:!0,input:!1},{label:"Duplicate",id:"edit.duplicate.selection",key:"D",ctrlKey:!0,input:!1},{label:"Undo",id:"edit.undo",key:"z",ctrlKey:!0,input:!1},{label:"Redo",id:"edit.redo",key:"z",ctrlKey:!0,shiftKey:!0,input:!1},{label:"Delete selection",id:"edit.delete.selection",key:"Delete",input:!1},{label:"Empty selection",id:"edit.empty.selection",key:"Escape",input:!1},{label:"Rename page",id:"edit.rename.page",key:"r",altKey:!0},{label:"Preview",id:"view.file",key:"v",altKey:!0},{label:"Preview in Responsize",id:"view.file.responsize",key:"v",shiftKey:!0,altKey:!0},{label:"Mobile editor",id:"tools.mobile.mode",key:"m",altKey:!0},{label:"Next tab in the property tool",id:"tools.next.property",key:"l",altKey:!0},{label:"Previous tab in the property tool",id:"tools.prev.property",key:"l",shiftKey:!0,altKey:!0},{label:"HTML <head> editor",id:"view.open.htmlHeadEditor",key:"e",altKey:!0},{label:"JS scripts editor",id:"view.open.jsEditor",key:"j",altKey:!0},{label:"CSS styles editor",id:"view.open.cssEditor",key:"d",altKey:!0},{label:"Text box",id:"insert.text",key:"t",altKey:!0},{label:"Image...",id:"insert.image",key:"i",altKey:!0},{label:"Container",id:"insert.container",key:"c",altKey:!0},{label:"HTML box",id:"insert.html",key:"h",altKey:!0},{label:"Section",id:"insert.section",key:"s",altKey:!0},{label:"New page",id:"insert.page",key:"p",altKey:!0}]};var he,pe,fe;!function(e){e[e.NONE=0]="NONE",e[e.WEBSITE=1]="WEBSITE",e[e.SILEX=2]="SILEX"}(he||(he={}));class me{constructor(){throw new Error("this is a static class and it canot be instanciated")}static get isActive(){return!!me.currentDialog&&!document.querySelector(".alerts").classList.contains("closed")}static get currentDialog(){return document.querySelector(`.${me.NOTIFICATION_CSS_CLASS}`)}static close(e=!1,t=null){if(me.currentDialog){document.querySelector(".alerts").classList.add("closed");const n=e?me.cbkOk:me.cbkCancel;return me.currentDialog.remove(),me.cbkCancel=null,me.cbkOk=null,n(),t&&t.preventDefault(),t&&t.stopPropagation(),!1}}static alert(e,t,n,i="ok"){me.close(),me.create(me.getMarkup({labelOk:i,title:e,content:t})),me.cbkCancel=me.cbkOk=()=>n(),me.currentDialog.querySelector(`#${me.NOTIFICATION_CSS_CLASS}_ok`).onclick=e=>me.close(!1,e)}static prompt(e,t,n,i,o,r="ok",s="cancel"){me.close(),me.create(me.getMarkup({labelOk:r,labelCancel:s,defaultValue:n,title:e,content:t,placeholder:i}));const a=me.currentDialog.querySelector(`#${me.NOTIFICATION_CSS_CLASS}_value`);me.cbkOk=()=>{o(!0,a.value)},me.cbkCancel=()=>{o(!1,null)},me.currentDialog.querySelector(`#${me.NOTIFICATION_CSS_CLASS}_ok`).onclick=e=>me.close(!0,e),me.currentDialog.querySelector(`#${me.NOTIFICATION_CSS_CLASS}_cancel`).onclick=e=>me.close(!1,e)}static confirm(e,t,n,i="ok",o="cancel"){me.close(),me.create(me.getMarkup({labelOk:i,labelCancel:o,title:e,content:t})),me.cbkOk=()=>n(!0),me.cbkCancel=()=>n(!1),me.currentDialog.querySelector(`#${me.NOTIFICATION_CSS_CLASS}_ok`).onclick=e=>me.close(!0,e),me.currentDialog.querySelector(`#${me.NOTIFICATION_CSS_CLASS}_cancel`).onclick=e=>me.close(!1,e)}static lightDialog(e,t){const n=document.querySelector(".light-dialog"),i=document.createElement("p");return i.classList.add("light-dialog__content"),i.innerHTML=`\n      ${t?'<div class="light-dialog__close">X</div>':""}\n      ${e}\n    `,n.appendChild(i),setTimeout((()=>i.classList.add("light-dialog__content--open")),100),t&&(i.querySelector(".light-dialog__close").onclick=e=>{t(),i.remove()}),i}static notifySuccess(e){const t=document.querySelector(".alerts-notify"),n=document.createElement("p");n.innerHTML=e,t.appendChild(n);const i=setTimeout((()=>{n.remove()}),me.NOTIFICATION_DURATION_MS);n.onclick=e=>{clearTimeout(i),n.remove()}}static notifyError(e){console.error(e),me.notifySuccess(e)}static setContent(e,t=!1){if(me.currentDialog){const n=me.currentDialog.querySelector(`.${me.NOTIFICATION_CSS_CLASS}_content`);t||(n.innerHTML=""),n.appendChild(e),me.updateFocus()}}static setText(e){if(me.currentDialog){const t=document.createElement("div");t.insertAdjacentHTML("afterbegin",`<p>${e}</p>`),me.setContent(t)}}static addButton(e){me.currentDialog&&(me.currentDialog.querySelector(`.${me.NOTIFICATION_CSS_CLASS}_buttons`).appendChild(e),me.updateFocus())}static setInfoPanel(e){if(me.currentDialog){let t=me.currentDialog.querySelector(`#${me.NOTIFICATION_CSS_CLASS}_info`);t||(t=document.createElement("div"),t.insertAdjacentHTML("afterbegin",`<p class="${me.NOTIFICATION_CSS_CLASS}_info"></p>`),me.setContent(t,!0)),t.style.maxHeight=Math.round(2*window.innerHeight/3)+"px",me.currentDialog.insertBefore(t,me.currentDialog.childNodes[me.currentDialog.childNodes.length-1]),t.innerHTML="",t.appendChild(e)}}static getMarkup(e){return`\n      <section class="${me.NOTIFICATION_CSS_CLASS}">\n        <h2>${e.title}</h2>\n        <p class="${me.NOTIFICATION_CSS_CLASS}_content">\n          ${e.content}\n          ${void 0!==e.defaultValue?`\n              <input\n                autofocus\n                id="${me.NOTIFICATION_CSS_CLASS}_value"\n                ${e.placeholder?`placeholder="${e.placeholder}"`:""}\n                class="block-dialog" type="text" value="${e.defaultValue}"\n              >`:""}\n        </p>\n        <div class="${me.NOTIFICATION_CSS_CLASS}_buttons">\n          ${e.labelCancel?`<input id="${me.NOTIFICATION_CSS_CLASS}_cancel" type="button" value="${e.labelCancel}">`:""}\n          ${e.labelOk?`<input id="${me.NOTIFICATION_CSS_CLASS}_ok" type="button" value="${e.labelOk}">`:""}\n        </div>\n      </section>\n    `}static create(e){const t=document.querySelector(".alerts");t.insertAdjacentHTML("afterbegin",e),t.classList.remove("closed"),me.updateFocus()}static updateFocus(){const e=me.currentDialog.querySelector("[autofocus]");e&&e.focus()}}me.NOTIFICATION_DURATION_MS=3e4,me.NOTIFICATION_CSS_CLASS="notification-dialog";class ge{static getUrlParams(){return window.location.search.substr(1).split("&").reduce(((e,t)=>{const n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}static updateFileInfo(e,t){if(!e)return null;const n=Object.assign({},e,t);return Object.assign({},n,{url:ge.getBaseUrl()+n.service+"/get/"+n.path})}static getBaseUrl(){return window.location.href}static getRootUrl(e){const t=e||window.location.href,n=t.indexOf("//"),i=t.indexOf("/",n+2);return t.substr(0,i)}static getHost(e){const t=ge.getRootUrl(e);return t.substr(t.indexOf("//")+2)}static isAbsoluteUrl(e){return 0===e.indexOf("http")||0===e.indexOf("//")}static removeUrlKeyword(e){return e.startsWith("url(")&&(e=e.substr(4)),e.endsWith(")")&&(e=e.substr(0,e.length-1)),(e.startsWith("'")||e.startsWith('"'))&&(e=e.substr(1)),(e.endsWith("'")||e.endsWith('"'))&&(e=e.substr(0,e.length-1)),e.startsWith("&quot;")&&(e=e.substr(6)),e.endsWith("&quot;")&&(e=e.substr(0,e.length-6)),e.startsWith("%5C")&&(e=e.substr(3)),e.startsWith("%22")&&(e=e.substr(3)),e.endsWith("%22")&&(e=e.substr(0,e.length-3)),e.endsWith("%5C")&&(e=e.substr(0,e.length-3)),e}static addUrlKeyword(e){return`url('${e}')`}static addCacheControl(e){return(e=ge.removeCacheControl(e)).indexOf("?")>0?e+="&":e+="?",e+(ge.CACHE_CONTROL_PARAM_NAME+"=")+Date.now()}static removeCacheControl(e){if(e.indexOf(ge.CACHE_CONTROL_PARAM_NAME)>0){const t=new RegExp("([?|&|&amp;]"+ge.CACHE_CONTROL_PARAM_NAME+"=[0-9]*[&*]?)","gi");e=e.replace(t,((e,t,n)=>"?"===t.charAt(0)&&"&"===t.charAt(t.length-1)?"?":"&"===t.charAt(t.length-1)||"&"===t.charAt(0)?"&":""))}return e}}function be(e){const t=Ce(Se(e)),n=e.getBoundingClientRect();return{top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x,width:n.width,height:n.height}}function ye(e){const t={top:1/0,left:1/0,bottom:-1/0,right:-1/0,width:0,height:0};return e.forEach((e=>{const n=Pe(e.metrics);t.top=Math.min(t.top,n.top),t.left=Math.min(t.left,n.left),t.bottom=Math.max(t.bottom,n.top+n.height),t.right=Math.max(t.right,n.left+n.width)})),{...t,width:t.right-t.left,height:t.bottom-t.top}}function ve(e,t){const n=Ce(e),i=Ee(e);return i.innerHeight<t.height?(n.y+i.innerHeight<t.top||n.y>t.bottom)&&(n.y=t.top-0):n.y>t.top?n.y=t.top-0:n.y<t.bottom-i.innerHeight&&(n.y=t.bottom+0-i.innerHeight),i.innerWidth<t.width?(n.x+i.innerWidth<t.left||n.x>t.right)&&(n.x=t.left-0):n.x>t.left?n.x=t.left-0:n.x<t.right-i.innerWidth&&(n.x=t.right+0-i.innerWidth),{x:Math.max(0,n.x),y:Math.max(0,n.y)}}function Ee(e){return e.parentWindow||e.defaultView}function Se(e){return e.ownerDocument}function we(e,t,n,i=!1){const o=Ee(Se(e)).getComputedStyle(e);function r(n,i,r){const s=t[n][i];(parseInt(o.getPropertyValue(n+"-"+i))||0)!==s&&(e.style[r]=s+"px")}if(o.getPropertyValue("position")!==t.position&&(e.style.position=t.position),i){const i=Pe(t);"static"!==t.position&&(e.style.top=i.top+"px",e.style.left=i.left+"px"),e.style.width=i.width+"px",e.style[n?"minHeight":"height"]=i.height+"px"}else"static"!==t.position&&(r("computedStyleRect","top","top"),r("computedStyleRect","left","left")),r("computedStyleRect","width","width"),r("computedStyleRect","height",n?"minHeight":"height");r("margin","top","marginTop"),r("margin","left","marginLeft"),r("margin","bottom","marginBottom"),r("margin","right","marginRight"),r("padding","top","paddingTop"),r("padding","left","paddingLeft"),r("padding","bottom","paddingBottom"),r("padding","right","paddingRight"),r("border","top","borderTopWidth"),r("border","left","borderLeftWidth"),r("border","bottom","borderBottomWidth"),r("border","right","borderRightWidth")}function xe(e){const t=Ee(Se(e)).getComputedStyle(e),n=be(e);return{position:t.getPropertyValue("position"),proportions:n.height/(n.width||1e-12),computedStyleRect:{width:parseInt(t.getPropertyValue("width"))||0,height:parseInt(t.getPropertyValue("height"))||0,left:parseInt(t.getPropertyValue("left"))||0,top:parseInt(t.getPropertyValue("top"))||0,bottom:parseInt(t.getPropertyValue("bottom"))||0,right:parseInt(t.getPropertyValue("right"))||0},border:{left:parseInt(t.getPropertyValue("border-left-width"))||0,top:parseInt(t.getPropertyValue("border-top-width"))||0,right:parseInt(t.getPropertyValue("border-right-width"))||0,bottom:parseInt(t.getPropertyValue("border-bottom-width"))||0},padding:{left:parseInt(t.getPropertyValue("padding-left"))||0,top:parseInt(t.getPropertyValue("padding-top"))||0,right:parseInt(t.getPropertyValue("padding-right"))||0,bottom:parseInt(t.getPropertyValue("padding-bottom"))||0},margin:{left:parseInt(t.getPropertyValue("margin-left"))||0,top:parseInt(t.getPropertyValue("margin-top"))||0,right:parseInt(t.getPropertyValue("margin-right"))||0,bottom:parseInt(t.getPropertyValue("margin-bottom"))||0},clientRect:{top:n.top,left:n.left,bottom:n.bottom,right:n.right,width:n.width,height:n.height}}}function Ce(e){const t=Ee(e);return{x:t.scrollX,y:t.scrollY}}function Te(e,t){Ee(e).scroll(t.x,t.y)}ge.CACHE_CONTROL_PARAM_NAME="silex-cache-control",function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM"}(pe||(pe={})),function(e){e[e.NONE=0]="NONE",e[e.DRAG=1]="DRAG",e[e.RESIZE=2]="RESIZE",e[e.DRAW=3]="DRAW",e[e.HIDE=4]="HIDE"}(fe||(fe={}));const ke="default";function Ie(e){if("left"===e.x&&"top"===e.y)return"nw-resize";if("right"===e.x&&"top"===e.y)return"ne-resize";if("left"===e.x&&"bottom"===e.y)return"sw-resize";if("right"===e.x&&"bottom"===e.y)return"se-resize";if("left"===e.x&&""===e.y)return"w-resize";if("right"===e.x&&""===e.y)return"e-resize";if(""===e.x&&"top"===e.y)return"n-resize";if(""===e.x&&"bottom"===e.y)return"s-resize";throw new Error("direction not found")}function Ae(e,t){return"object"==typeof e?(""!==t.x||""!==t.y)&&[{x:"left",y:"top"},{x:"right",y:"top"},{x:"left",y:"bottom"},{x:"right",y:"bottom"}].reduce(((n,i)=>n||(e[i.x]&&t.x===i.x||""===t.x)&&(e[i.y]&&t.y===i.y||""===t.y)),!1):""!==t.x||""!==t.y}function _e(e,t,n,i){if(i){const o=function(e,t,n,i){const o=i.metrics.clientRect,r=e+n.x-o.left,s=o.width+o.left-(e+n.x),a=t+n.y-o.top,l=o.height+o.top-(t+n.y),c={x:"",y:""};return r<10?c.x="left":s<10&&(c.x="right"),a<10?c.y="top":l<10&&(c.y="bottom"),c}(e,t,n,i);return Ae(i.resizeable,o)?{x:o.x,y:o.y,cursorType:Ie(o)}:i.draggable?{x:"",y:"",cursorType:"move"}:i.selected?{x:"",y:"",cursorType:"pointer"}:{x:"",y:"",cursorType:ke}}return{x:"",y:"",cursorType:ke}}function Oe(e,t){return e.getState().selectables.find((e=>e.el===t))}function Le(e){return e.getState().selectables.filter((e=>e.selected))}function Ne(e,t){let n,i=t;for(;i&&!(n=Oe(e,i));)i=i.parentElement;return n}function De(e,t){const n=Ne(e,t.parentElement);return!!n&&(!(!n.selected||!n.draggable)||De(e,n.el))}function Pe(e){return{top:Math.round(e.clientRect.top+e.margin.top),left:Math.round(e.clientRect.left+e.margin.left),right:Math.round(e.clientRect.right+e.margin.left+e.padding.left+e.padding.right+e.border.left+e.border.right-(e.border.left+e.border.right)),bottom:Math.round(e.clientRect.bottom+e.margin.top+e.padding.top+e.padding.bottom+e.border.top+e.border.bottom-(e.border.top+e.border.bottom)),width:Math.round(e.clientRect.width+e.padding.left+e.padding.right+e.border.left+e.border.right-2*(e.border.left+e.border.right)),height:Math.round(e.clientRect.height+e.border.top+e.border.bottom+e.padding.top+e.padding.bottom-2*(e.border.top+e.border.bottom))}}function Me(e,t,n,i,o){const r=Ee(e),s=(e,t,n)=>Math.min(Math.max(e,t),n),a=s(i,0,r.innerWidth-1),l=s(o,0,r.innerHeight-1),c=t.getState().selectables,u=c.filter((e=>e.selected));return e.elementsFromPoint(a,l).filter((e=>{const t=c.find((t=>t.el===e));return t&&t.isDropZone&&!u.find((t=>t.el===e))}))}function Re(e,t,n,i){return{...e,translation:e.translation?{x:e.translation.x+n,y:e.translation.y+i}:null,metrics:{...e.metrics,clientRect:{...e.metrics.clientRect,top:e.metrics.clientRect.top+i,left:e.metrics.clientRect.left+n,bottom:e.metrics.clientRect.bottom+i,right:e.metrics.clientRect.right+n},computedStyleRect:t?e.metrics.computedStyleRect:{...e.metrics.computedStyleRect,top:e.metrics.computedStyleRect.top+i,left:e.metrics.computedStyleRect.left+n,bottom:e.metrics.computedStyleRect.bottom+i,right:e.metrics.computedStyleRect.right+n}}}}function Be(e,t,n,i={}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}const We="UI_SET_MODE",He=e=>({type:We,mode:e}),je="UI_SET_REFRESHING",ze=e=>({type:je,refreshing:e}),qe="UI_SET_CATCHING_EVENTS",Ue="UI_SET_STICKY",$e="UI_SET_ENABLE_STICKY",Fe="SELECTION_SET",Ge="SELECTION_RESET",Ve="SELECTION_ADD",Ye="SELECTION_REMOVE",Xe=e=>({type:Fe,selectables:e}),Ke=()=>({type:Ge}),Ze=e=>({type:Ve,selectable:e}),Je=e=>({type:Ye,selectable:e});class Qe{constructor(e,t,n){this.win=e,this.store=t,this.hooks=n,this.unsubscribeAll=[],this.unsubscribeAll.push(Be(window,"keydown",(e=>this.onKeyDown(e))),Be(e,"keydown",(e=>this.onKeyDown(e))))}cleanup(){this.unsubscribeAll.forEach((e=>e()))}onKeyDown(e){const t=e.key,n=this.store.getState(),i=e.target;if(n.ui.catchingEvents&&"input"!==i.tagName.toLowerCase()&&"textarea"!==i.tagName.toLowerCase()&&!i.hasAttribute("contenteditable")){switch(t){case"Escape":n.ui.mode!==fe.NONE&&(this.store.dispatch(He(fe.NONE)),this.store.dispatch(Ke()));break;case"Enter":this.hooks.onEdit&&this.hooks.onEdit();break;default:return}e.preventDefault(),e.stopPropagation()}}}const et="MOUSE_SCROLL",tt=e=>({type:et,scrollData:e}),nt="MOUSE_CURSOR",it=e=>({type:nt,cursorData:e}),ot="MOUSE_DATA",rt="SELECTABLE_UPDATE",st="SELECTABLE_RESET",at="SELECTABLE_CREATE",lt="SELECTABLE_DELETE",ct=(e,t=!1)=>({type:rt,selectables:e,preventDispatch:t});var ut;!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.DRAGGING=2]="DRAGGING",e[e.WAITING_DBL_CLICK_DOWN=3]="WAITING_DBL_CLICK_DOWN",e[e.WAITING_DBL_CLICK_DOWN2=4]="WAITING_DBL_CLICK_DOWN2",e[e.WAITING_DBL_CLICK_UP=5]="WAITING_DBL_CLICK_UP"}(ut||(ut={}));class dt{constructor(e,t,n,i){this.winStage=e,this.winOverlay=t,this.store=n,this.hooks=i,this.mouseMode=ut.UP,this.wasMultiSelected=!1,this.unsubscribeAll=[],this.unsubscribeAll.push(Be(this.winOverlay,"scroll",(e=>this.scroll(e)),!0),Be(this.winOverlay.document,"mousedown",(e=>this.down(e)),!0),Be(this.winOverlay.document,"mouseup",(e=>this.up(e)),!0),Be(this.winOverlay.document,"mousemove",(e=>this.move(e)),!0),Be(document,"mouseup",(e=>this.upOut(e)),!0),Be(document,"mousemove",(e=>this.moveOut(e)),!0))}cleanup(){this.unsubscribeAll.forEach((e=>e()))}subscribeMouseEvent(e,t){const n=[Be(this.winOverlay,e,(e=>t(e)),!0),Be(document,e,(e=>t(e)),!0)];return()=>n.forEach((e=>e()))}scroll(e){const t=Ce(this.winOverlay.document);this.store.dispatch(tt(t))}down(e){if(!this.store.getState().ui.catchingEvents)return;try{e.target.setCapture()}catch(e){}e.preventDefault();const t=this.eventToMouseData(e);if(this.mouseMode===ut.WAITING_DBL_CLICK_UP)this.mouseMode=ut.WAITING_DBL_CLICK_DOWN2;else if(this.mouseMode===ut.DRAGGING)this.mouseMode=ut.UP,this.onDrop(t);else{this.mouseMode=ut.WAITING_DBL_CLICK_DOWN,this.firstOnDownMouseData=t;const e=setTimeout((()=>{this.mouseMode===ut.WAITING_DBL_CLICK_DOWN?(this.mouseMode=ut.DOWN,this.firstOnDownMouseData=null,this.onDown(t)):this.mouseMode===ut.WAITING_DBL_CLICK_UP&&(this.mouseMode=ut.DOWN,this.firstOnDownMouseData=null,this.onDown(t),this.mouseMode=ut.UP,this.onUp(t))}),300);this.clearTimeout=()=>{clearTimeout(e),this.clearTimeout=null}}}up(e,t=null){if(!this.store.getState().ui.catchingEvents)return;e.preventDefault();const n=this.eventToMouseData(e,t);this.mouseMode===ut.WAITING_DBL_CLICK_DOWN?this.mouseMode=ut.WAITING_DBL_CLICK_UP:this.mouseMode===ut.WAITING_DBL_CLICK_DOWN2?(this.clearTimeout(),this.mouseMode=ut.UP,this.onDblClick(n)):this.mouseMode===ut.DOWN?(this.mouseMode=ut.UP,this.onUp(n)):this.mouseMode===ut.DRAGGING&&(this.mouseMode=ut.UP,this.onDrop(n))}move(e,t=null){if(!this.store.getState().ui.catchingEvents)return;e.preventDefault();const n=this.eventToMouseData(e,t);this.store.dispatch((e=>({type:ot,mouseData:e}))(n));const i=this.store.getState().selectables.filter((e=>e.hovered!==n.hovered.includes(e.el)));switch(i.length>0&&this.store.dispatch(ct(i.map((e=>({...e,hovered:n.hovered.includes(e.el)}))))),this.mouseMode){case ut.WAITING_DBL_CLICK_UP:this.mouseMode=ut.DOWN,this.onDown(this.firstOnDownMouseData),this.mouseMode=ut.UP,this.onUp(this.firstOnDownMouseData),this.onMove(n);break;case ut.WAITING_DBL_CLICK_DOWN:case ut.WAITING_DBL_CLICK_DOWN2:this.mouseMode=ut.DOWN,this.onDown(this.firstOnDownMouseData);case ut.DOWN:this.mouseMode=ut.DRAGGING,this.onStartDrag(n);break;case ut.DRAGGING:this.onDrag(n);break;default:this.onMove(n)}this.firstOnDownMouseData=null}upOut(e){if(this.mouseMode!==ut.UP){const t=this.winOverlay.frameElement.getBoundingClientRect();this.up(e,t)}}moveOut(e){if(this.mouseMode!==ut.UP){const t=this.winOverlay.frameElement.getBoundingClientRect();this.move(e,t)}}eventToMouseData(e,t=null){const n=e.clientX-(t?t.left:0),i=e.clientY-(t?t.top:0),o=function(e,t,n,i){const o=Ee(e),r=(e,t,n)=>Math.min(Math.max(e,t),n),s=r(n,0,o.innerWidth-1),a=r(i,0,o.innerHeight-1),l=t.getState().selectables;return e.elementsFromPoint(s,a).filter((e=>!!l.find((t=>t.el===e))))}(this.winStage.document,this.store,n,i),r=o?o[0]:null;return{movementX:e.movementX,movementY:e.movementY,mouseX:n,mouseY:i,shiftKey:e.shiftKey,target:r,hovered:o}}onDblClick(e){const{target:t,shiftKey:n}=e,i=Ne(this.store,t);n?this.store.dispatch(Ze(i)):i&&(i.selected||this.store.dispatch(Xe([i]))),this.hooks.onEdit&&this.hooks.onEdit()}onDown(e){const{target:t,shiftKey:n}=e,i=Ne(this.store,t);i&&i.selectable?(this.wasMultiSelected=Le(this.store).length>1&&i.selected,this.wasMultiSelected||n?this.store.dispatch(Ze(i)):this.store.dispatch(Xe([i]))):this.wasMultiSelected=!1}onUp(e){const{target:t,shiftKey:n}=e,i=Ne(this.store,t);i&&i.selectable?n?this.wasMultiSelected&&i.selected&&this.store.dispatch(Je(i)):this.store.dispatch(Xe([i])):n||this.store.dispatch(Ke()),this.wasMultiSelected=!1}onMove(e){const{mouseX:t,mouseY:n,target:i}=e,o=Ne(this.store,i);this.store.dispatch(it(_e(t,n,this.store.getState().mouse.scrollData,o)))}onDrag(e){}onStartDrag(e){const t=Ne(this.store,e.target);if(t){const e=this.store.getState().mouse.cursorData;Ae(t.resizeable,e)?this.store.dispatch(He(fe.RESIZE)):t.draggable?this.store.dispatch(He(fe.DRAG)):this.store.dispatch(He(fe.DRAW))}else this.store.dispatch(He(fe.DRAW))}onDrop(e){this.store.dispatch(He(fe.NONE))}}class ht{constructor(e,t,n,i){this.stageDocument=e,this.overlayDocument=t,this.store=n,this.hooks=i,this.isRefreshing=!1,this.state=[],this.prevState=[],this.unsubscribeAll=[],this.unsubscribeAll.push(n.subscribe(((e,t)=>this.onStateChanged(e,t)),(e=>e.selectables)),n.subscribe(((e,t)=>this.onUiChanged(e,t)),(e=>e.ui)))}onUiChanged(e,t){this.isRefreshing=e.refreshing}cleanup(){this.unsubscribeAll.forEach((e=>e()))}onStateChanged(e=this.state,t=this.prevState){if(this.state=e,!this.isRefreshing){this.prevState=t;const n=(e,n)=>{const i=t.find((e=>n.el===e.el));return!i||JSON.stringify(i[e])!==JSON.stringify(n[e])},i=t.filter((t=>!e.find((e=>e.el===t.el)))),o=e.filter((e=>n("metrics",e)));i.length+o.length>0&&this.onMetrics(o,i);const r=e.filter((e=>n("selected",e)));r.length>0&&this.onSelection(r);const s=e.filter((e=>n("translation",e)));s.length>0&&this.onTranslation(s)}}onMetrics(e,t){e.forEach((e=>{e.preventMetrics||we(e.el,e.metrics,e.useMinHeight)})),this.hooks.onChange&&this.hooks.onChange(e.concat(t))}onSelection(e){this.hooks.onSelect&&this.hooks.onSelect(e)}onTranslation(e){e.forEach((e=>{e.translation?(e.el.style.transform=`translate(${e.translation.x}px, ${e.translation.y}px)`,e.el.style.zIndex="99999999","static"===e.metrics.position&&(e.el.style.top="0",e.el.style.left="0",e.el.style.position="relative")):(e.el.style.transform="",e.el.style.zIndex="",e.el.style.position="")}))}}const pt=new Map;function ft(e){if(!pt.has(e))throw new Error("DOM observer not found for this DOM element");{const{mutationObserver:t,resizeObserver:n}=pt.get(e);n.disconnect(),t.disconnect(),t.takeRecords(),pt.delete(e)}}class mt{constructor(e,t){this.cbk=t,this.isRefreshing=!1,this.state=[],this.prevState=[],this.unsubscribeAll=[],this.unsubscribeAll.push(e.subscribe(((e,t)=>this.onStateChanged(e,t)),(e=>e.selectables)),e.subscribe(((e,t)=>this.onUiChanged(e,t)),(e=>e.ui)))}onUiChanged(e,t){this.isRefreshing=e.refreshing}cleanup(){this.unsubscribeAll.forEach((e=>e())),Array.from(pt.keys()).forEach((e=>ft(e)))}onRemoved(e){ft(e.el)}onAdded(e){!function(e,t){if("undefined"==typeof ResizeObserver)throw new Error("ResizeObserver is not supported by your browser. The drag and drop features will not work properly");pt.has(e)&&ft(e);const n=new ResizeObserver(t);n.observe(e,{});const i=new MutationObserver(t);pt.set(e,{mutationObserver:i,resizeObserver:n})}(e.el,(t=>this.onChanged(e,t)))}onChanged(e,t){this.cbk(e,t)}onStateChanged(e=this.state,t=this.prevState){this.state=e,this.isRefreshing||(this.prevState=t,e.filter((e=>!t.find((t=>t.el===e.el)))).forEach((e=>this.onAdded(e))),t.filter((t=>!e.find((e=>e.el===t.el)))).forEach((e=>this.onRemoved(e))))}}class gt{constructor(e,t,n,i){this.stageDocument=e,this.overlayDocument=t,this.hooks=i,this.unsubscribeAll=[],this.unsubscribeAll.push(n.subscribe(((e,t)=>this.onStateChanged(e,t)),(e=>e.mouse)))}cleanup(){this.unsubscribeAll.forEach((e=>e()))}onStateChanged(e,t){e.scrollData.x===t.scrollData.x&&e.scrollData.y===t.scrollData.y||Te(this.stageDocument,e.scrollData)}}class bt{constructor(e,t,n,i){this.stageDocument=e,this.overlayDocument=t,this.store=n,this.hooks=i,this.debounceScrollPending=!1,this.selection=n.getState().selectables,this.selection=this.selection.filter((e=>e.selected)),this.unsubsribe=n.subscribe(((e,t)=>this.update(e.mouseData)),(e=>e.mouse)),this.unsubsribeScroll=this.store.subscribe(((e,t)=>this.onScroll(e,t)),(e=>e.mouse.scrollData))}update(e){}release(){this.unsubsribeScroll(),this.unsubsribe()}debounceScroll(e){this.debounceScrollPending||setTimeout((()=>{this.debounceScrollPending=!1,this.store.dispatch(tt(this.debounceScrollData))}),100),this.debounceScrollPending=!0,this.debounceScrollData=e}onScroll(e,t){const n={x:e.x-t.x,y:e.y-t.y},i=this.store.getState().mouse.mouseData;this.update({...i,movementX:n.x,movementY:n.y})}}class yt extends bt{constructor(e,t,n,i){super(e,t,n,i),this.cursorData=this.store.getState().mouse.cursorData,this.selection=this.selection.filter((e=>Ae(e.resizeable,this.cursorData))),this.hooks.onStartResize&&this.hooks.onStartResize(this.selection)}update(e){super.update(e),this.selection=this.selection.map((t=>{const n={...t.metrics.clientRect},i={...t.metrics.computedStyleRect};switch(this.cursorData.x){case"":break;case"left":i.width-=e.movementX,n.width-=e.movementX;break;case"right":i.width+=e.movementX,n.width+=e.movementX;break;default:throw new Error("unknown direction "+this.cursorData.x)}if(""!=this.cursorData.y&&(e.shiftKey&&""!=this.cursorData.x?(i.height=i.width*t.metrics.proportions,n.height=n.width*t.metrics.proportions):"top"===this.cursorData.y?(i.height-=e.movementY,n.height-=e.movementY):(i.height+=e.movementY,n.height+=e.movementY)),"left"===this.cursorData.x&&(i.left+=e.movementX,n.left+=e.movementX),"top"===this.cursorData.y&&(i.top+=e.movementY,n.top+=e.movementY),""!==this.cursorData.x){const e=t.el.style.width;t.el.style.width=Math.max(20,i.width)+"px";const o=be(t.el),r=n.width-o.width;i.width-=r,n.width-=r,"left"===this.cursorData.x&&(i.left+=r,n.left+=r),t.el.style.width=e}if(""!==this.cursorData.y){const e=t.useMinHeight?"minHeight":"height",o=t.el.style[e];t.el.style[e]=Math.max(20,i.height)+"px";const r=be(t.el),s=n.height-r.height;i.height-=s,n.height-=s,"top"===this.cursorData.y&&(i.top+=s,n.top+=s),t.el.style[e]=o}return i.right=i.left+i.width,n.right=n.left+n.width,i.bottom=i.top+i.height,n.bottom=n.top+n.height,{...t,metrics:{...t.metrics,clientRect:n,computedStyleRect:i}}})),this.store.dispatch(ct(this.selection));const t=this.store.getState().mouse.scrollData,n={top:e.mouseY+t.y,left:e.mouseX+t.x,bottom:e.mouseY+t.y,right:e.mouseX+t.x,height:0,width:0},i=ve(this.stageDocument,n);i.x===t.x&&i.y===t.y||this.debounceScroll(i),this.hooks.onResize&&this.hooks.onResize(this.selection,n)}release(){super.release();const e=this.store.getState(),t=Ne(this.store,e.mouse.mouseData.target);this.store.dispatch(it(_e(e.mouse.mouseData.mouseX,e.mouse.mouseData.mouseY,e.mouse.scrollData,t))),setTimeout((()=>{this.store.dispatch(ze(!0));const e=this.store.getState().selectables.map((e=>({...e,metrics:xe(e.el)})));this.store.dispatch(ct(e)),this.store.dispatch(ze(!1)),this.hooks.onResizeEnd&&this.hooks.onResizeEnd(this.selection)}),0)}}class vt extends bt{constructor(e,t,n,i){super(e,t,n,i),this.hooks.onStartDraw&&this.hooks.onStartDraw();const o=n.getState(),r=Ce(this.stageDocument);this.initialX=o.mouse.mouseData.mouseX+r.x,this.initialY=o.mouse.mouseData.mouseY+r.y,this.regionMarker=t.createElement("div"),this.regionMarker.classList.add("region-marker"),this.moveRegion({left:-999,top:-999,right:-999,bottom:-999,width:0,height:0}),t.body.appendChild(this.regionMarker)}update(e){super.update(e);const t=Ce(this.stageDocument),n={left:Math.min(this.initialX,e.mouseX+t.x),top:Math.min(this.initialY,e.mouseY+t.y),right:Math.max(this.initialX,e.mouseX+t.x),bottom:Math.max(this.initialY,e.mouseY+t.y),height:Math.abs(this.initialY-(e.mouseY+t.y)),width:Math.abs(this.initialX-(e.mouseX+t.x))};this.moveRegion(n);let i=this.store.getState().selectables.filter((e=>e.selectable&&e.draggable&&e.metrics.clientRect.left<n.right&&e.metrics.clientRect.right>n.left&&e.metrics.clientRect.top<n.bottom&&e.metrics.clientRect.bottom>n.top));this.selection.filter((e=>!i.find((t=>e.el===t.el)))).forEach((e=>{this.store.dispatch(Je(e))})),i.filter((e=>!this.selection.find((t=>e.el===t.el)))).forEach((e=>{this.store.dispatch(Ze(e))})),this.selection=i;const o=this.store.getState().mouse.scrollData,r=ve(this.stageDocument,n);r.x===o.x&&r.y===o.y||this.debounceScroll(r),this.hooks.onDraw&&this.hooks.onDraw(this.selection,n)}release(){super.release(),this.regionMarker.parentNode.removeChild(this.regionMarker),this.hooks.onDrawEnd&&this.hooks.onDrawEnd(),this.selection=[]}moveRegion({left:e,top:t,width:n,height:i}){this.regionMarker.style.width=n+"px",this.regionMarker.style.height=i+"px",this.regionMarker.style.transform=`translate(${e}px, ${t}px)`}}class Et extends bt{constructor(e,t,n,i){super(e,t,n,i),this.selection=this.selection.filter((e=>e.draggable)).filter((e=>!De(n,e.el))),this.hooks.onStartDrag&&this.hooks.onStartDrag(this.selection),this.positionMarker=this.stageDocument.createElement("div"),this.positionMarker.classList.add("position-marker"),this.positionMarker.style.backgroundColor="rgba(0, 0, 0, .5)",this.positionMarker.style.display="inline-block",this.positionMarker.style.border="1px solid rgba(255, 255, 255, .5)",this.positionMarker.style.position="absolute",this.positionMarker.style.minWidth="1px",this.positionMarker.style.minHeight="1px",this.selection=this.selection.map((e=>({...e,preventMetrics:!0,translation:{x:0,y:0}}))),this.store.dispatch(ct(this.selection))}update(e){if(super.update(e),0===this.selection.length)return;this.positionMarker.parentNode&&this.positionMarker.parentNode.removeChild(this.positionMarker),this.initialMouse||(this.initialMouse={x:e.mouseX-e.movementX,y:e.mouseY-e.movementY}),this.initialScroll||(this.initialScroll={...this.store.getState().mouse.scrollData});const t={...this.store.getState().mouse.scrollData},n=t.x-this.initialScroll.x,i=t.y-this.initialScroll.y,{movementX:o,movementY:r}=(()=>{const t=this.selection[0].translation,o=-t.x+(e.mouseX-this.initialMouse.x),r=-t.y+(e.mouseY-this.initialMouse.y);if(e.shiftKey&&this.selection.length>0){const{x:n,y:i}={x:e.mouseX-this.initialMouse.x,y:e.mouseY-this.initialMouse.y},s=Math.atan2(i,n);return Math.abs(Math.sin(s))<Math.abs(Math.cos(s))?{movementX:o,movementY:-t.y}:{movementX:-t.x,movementY:r}}return{movementX:o+n,movementY:r+i}})(),s=ye(this.selection),a=this.selection.some((e=>"static"===e.metrics.position)),l=!this.store.getState().ui.enableSticky||a?{top:null,left:null,bottom:null,right:null}:this.store.getState().selectables.filter((e=>!e.selected&&e.selectable&&"static"!==e.metrics.position)).reduce(((e,t)=>(Math.abs(t.metrics.clientRect.top-(s.top+r))<5&&(e.top=t.metrics.clientRect.top-s.top),Math.abs(t.metrics.clientRect.left-(s.left+o))<5&&(e.left=t.metrics.clientRect.left-s.left),Math.abs(t.metrics.clientRect.bottom-(s.bottom+r))<5&&(e.bottom=t.metrics.clientRect.bottom-s.bottom),Math.abs(t.metrics.clientRect.right-(s.right+o))<5&&(e.right=t.metrics.clientRect.right-s.right),Math.abs(t.metrics.clientRect.bottom-(s.top+r))<5&&(e.top=t.metrics.clientRect.bottom-s.top),Math.abs(t.metrics.clientRect.right-(s.left+o))<5&&(e.left=t.metrics.clientRect.right-s.left),Math.abs(t.metrics.clientRect.top-(s.bottom+r))<5&&(e.bottom=t.metrics.clientRect.top-s.bottom),Math.abs(t.metrics.clientRect.left-(s.right+o))<5&&(e.right=t.metrics.clientRect.left-s.right),e)),{top:null,left:null,bottom:null,right:null}),c=null===l.left?null==l.right?o:l.right:l.left,u=null===l.top?null==l.bottom?r:l.bottom:l.top;this.selection=this.selection.map((e=>Re(e,!1,c,u))),this.selection=this.selection.map((t=>{let n=Me(this.stageDocument,this.store,this.hooks,e.mouseX,e.mouseY).filter((e=>this.hooks.canDrop(t.el,e)))[0];if(n){if("static"===t.metrics.position){let i=this.findNearestPosition(n,e.mouseX,e.mouseY);return this.updateDestinationNonAbsolute(t,i)}return this.updateDestinationAbsolute(t,n)}return t}));const d=this.store.getState().selectables.filter((e=>De(this.store,e.el))).map((e=>Re(e,!0,o,r)));this.store.dispatch(ct(this.selection.concat(d))),this.store.dispatch((e=>({type:Ue,sticky:e}))({top:null!==l.top,left:null!==l.left,bottom:null!==l.bottom,right:null!==l.right}));const h=this.store.getState().mouse.scrollData,p=ve(this.stageDocument,{top:e.mouseY+h.y-30,bottom:e.mouseY+h.y+30,left:e.mouseX+h.x-30,right:e.mouseX+h.x+30,height:60,width:60});p.x===h.x&&p.y===h.y||this.debounceScroll(p),this.hooks.onDrag&&this.hooks.onDrag(this.selection,s)}release(){super.release(),this.initialMouse=null,this.selection=this.selection.map((e=>{if(e.dropZone&&e.dropZone.parent)if(e.dropZone.nextElementSibling){if(e.dropZone.nextElementSibling!==e.el.nextElementSibling&&e.dropZone.nextElementSibling!==e.el)try{e.el.parentNode.removeChild(e.el),e.dropZone.parent.insertBefore(e.el,e.dropZone.nextElementSibling)}catch(e){console.error(e)}}else(e.dropZone.parent!==e.el.parentElement||e.el.nextElementSibling)&&(e.el.parentNode.removeChild(e.el),e.dropZone.parent.appendChild(e.el));let t=e.metrics;if("static"!==e.metrics.position){const n=e.el.style.top,i=e.el.style.left,o=e.el.style.transform,r=e.el.style.position;e.el.style.top=e.metrics.computedStyleRect.top+"px",e.el.style.left=e.metrics.computedStyleRect.left+"px",e.el.style.transform="",e.el.style.position="";const s=be(e.el),a={top:e.metrics.computedStyleRect.top+(e.metrics.clientRect.top-s.top),left:e.metrics.computedStyleRect.left+(e.metrics.clientRect.left-s.left),right:0,bottom:0};e.el.style.top=n,e.el.style.left=i,e.el.style.transform=o,e.el.style.position=r,a.right=a.left+e.metrics.computedStyleRect.width,a.bottom=a.top+e.metrics.computedStyleRect.height,t={...e.metrics,computedStyleRect:{...e.metrics.computedStyleRect,...a}}}return{...e,preventMetrics:!1,translation:null,metrics:t}})),this.positionMarker.parentNode&&this.positionMarker.parentNode.removeChild(this.positionMarker),this.store.dispatch(ct(this.selection),(()=>{this.store.dispatch(ze(!0));const e=this.store.getState().selectables.map((e=>({...e,metrics:xe(e.el)})));this.store.dispatch(ct(e)),this.store.dispatch(ze(!1));const t=ye(this.selection),n=this.store.getState().mouse.scrollData,i=ve(this.stageDocument,t);i.x===n.x&&i.y===n.y||this.debounceScroll(i),this.hooks.onDrop&&this.hooks.onDrop(this.selection)}))}updateDestinationAbsolute(e,t){return null===t?(console.info("no dropZone under the mouse found, how is it poussible!"),e):{...e,dropZone:{...e.dropZone,parent:t}}}updateDestinationNonAbsolute(e,t){return null===t.distance?(console.info("no nearest position found, how is it poussible?"),e):(this.markPosition(t),{...e,dropZone:t})}markPosition(e){e.nextElementSibling?e.nextElementSibling.parentNode.insertBefore(this.positionMarker,e.nextElementSibling):e.parent&&e.parent.appendChild(this.positionMarker);let t=be(this.positionMarker),n=this.positionMarker.previousElementSibling?be(this.positionMarker.previousElementSibling):null,i=this.positionMarker.nextElementSibling?be(this.positionMarker.nextElementSibling):null;(!n||t.top>=n.bottom)&&(!i||t.bottom<=i.top)?(this.positionMarker.style.width=n?n.width+"px":i?i.width+"px":"100%",this.positionMarker.style.height="0"):(this.positionMarker.style.height=n?n.height+"px":i?i.height+"px":"100%",this.positionMarker.style.width="0")}findNearestPosition(e,t,n){let i=this.stageDocument.createElement("div");i.classList.add("phantom");let o={nextElementSibling:null,distance:null,parent:null};for(let r=0;r<e.children.length;r++){let s=e.children[r];e.insertBefore(i,s);let a=this.getDistance(i,t,n);(null===o.distance||o.distance>a)&&(o.nextElementSibling=s,o.parent=e,o.distance=a),e.removeChild(i)}e.appendChild(i);let r=this.getDistance(i,t,n);return(null===o.distance||o.distance>r)&&(o.nextElementSibling=null,o.parent=e,o.distance=r),e.removeChild(i),o.nextElementSibling===this.positionMarker&&(o.nextElementSibling=this.positionMarker.nextElementSibling),o}getDistance(e,t,n){const i=e.getBoundingClientRect(),o=i.left+i.width/2,r=i.top+i.height/2;return Math.sqrt((o-t)*(o-t)+(r-n)*(r-n))}}class St{constructor(e,t,n,i){this.stageDocument=e,this.overlayDocument=t,this.store=n,this.hooks=i,this.unsubscribeAll=[],this.handler=null,this.unsubscribeAll.push(n.subscribe(((e,t)=>this.onUiStateChanged(e,t)),(e=>e.ui)))}cleanup(){this.unsubscribeAll.forEach((e=>e()))}onUiStateChanged(e,t){if(t.mode!==e.mode)switch(this.handler&&(this.handler.release(),this.handler=null),this.overlayDocument.body.classList.remove(e.mode!==fe.DRAG?"dragging-mode":"not-dragging-mode",e.mode!==fe.RESIZE?"resizing-mode":"not-resizing-mode",e.mode!==fe.DRAW?"drawing-mode":"not-drawing-mode"),this.overlayDocument.body.classList.add(e.mode===fe.DRAG?"dragging-mode":"not-dragging-mode",e.mode===fe.RESIZE?"resizing-mode":"not-resizing-mode",e.mode===fe.DRAW?"drawing-mode":"not-drawing-mode"),e.mode){case fe.NONE:break;case fe.DRAG:this.handler=new Et(this.stageDocument,this.overlayDocument,this.store,this.hooks);break;case fe.RESIZE:this.handler=new yt(this.stageDocument,this.overlayDocument,this.store,this.hooks);break;case fe.DRAW:this.handler=new vt(this.stageDocument,this.overlayDocument,this.store,this.hooks)}}}var wt,xt,Ct,Tt,kt=n(7121),It=function(){return Math.random().toString(36).substring(7).split("").join(".")},At={INIT:"@@redux/INIT"+It(),REPLACE:"@@redux/REPLACE"+It(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+It()}};function _t(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ot(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(Ot)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,r=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return r}function d(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!_t(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,r=o(r,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,h({type:At.REPLACE})}function f(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[kt.Z]=function(){return this},e}return h({type:At.INIT}),(i={dispatch:h,subscribe:d,getState:u,replaceReducer:p})[kt.Z]=f,i}function Lt(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function Nt(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];"function"==typeof e[o]&&(n[o]=e[o])}var r,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:At.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:At.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+At.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var i=!1,o={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],d=c(u,t);if(void 0===d){var h=Lt(l,t);throw new Error(h)}o[l]=d,i=i||d!==u}return(i=i||s.length!==Object.keys(e).length)?o:e}}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(n,!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}class Bt{constructor(){this.store=Bt.createStore()}[Symbol.observable](){return this}static createStore(){return Ot(Nt({selectables:(e,t)=>((e=[],t)=>{switch(t.type){case at:return[...e,t.selectable];case st:return[];case lt:return e.filter((e=>e.id!==t.selectable.id));case rt:return e.map((e=>t.selectables.find((t=>t.id===e.id))||e));default:return e}})(((e=[],t)=>{switch(t.type){case"SELECTION_TOGGLE":return e.map((e=>e===t.selectable?{...e,selected:!e.selected}:e));case Ye:return e.map((e=>e===t.selectable?{...e,selected:!1}:e));case Ge:return e.map((e=>({...e,selected:!1})));case Ve:return e.map((e=>e===t.selectable?{...e,selected:!0}:e));case Fe:return e.map((e=>t.selectables.includes(e)?{...e,selected:!0}:{...e,selected:!1}));default:return e}})(e,t),t),ui:(e,t)=>((e=(()=>({mode:fe.NONE,refreshing:!1,catchingEvents:!0,sticky:{top:null,left:null,bottom:null,right:null},enableSticky:!0}))(),t)=>{switch(t.type){case We:return{...e,mode:t.mode};case je:return{...e,refreshing:t.refreshing};case qe:return{...e,catchingEvents:t.catchingEvents};case Ue:return{...e,sticky:t.sticky};case $e:return{...e,enableSticky:t.enableSticky};default:return e}})(e,t),mouse:(e,t)=>((e={scrollData:{x:0,y:0},cursorData:{x:"",y:"",cursorType:""},mouseData:{movementX:0,movementY:0,mouseX:0,mouseY:0,shiftKey:!1,target:null,hovered:[]}},t)=>{switch(t.type){case et:return{...e,scrollData:t.scrollData};case nt:return{...e,cursorData:t.cursorData};case ot:return{...e,mouseData:t.mouseData};default:return e}})(e,t)}),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},r=t.map((function(e){return e(o)}));return Mt({},n,{dispatch:i=Rt.apply(void 0,r)(n.dispatch)})}}}(Bt.preventDispatchDuringRedraw))}static preventDispatchDuringRedraw({getState:e}){return e=>t=>t.preventDispatch?(console.warn("prevent dispatch",t),null):e(t)}subscribe(e,t=(e=>e)){let n=t(this.store.getState());return this.store.subscribe((()=>{let i=t(this.store.getState());if(i!==n){let t=n;n=i,e(n,t)}}))}clone(e){let t;if(t=e instanceof Array?e.slice():e instanceof Object?{...e}:e,e===t)throw"not cloned";return t}dispatch(e,t=null){return this.store.dispatch(e),t&&t(),null}getState(){return this.store.getState()}replaceReducer(){throw new Error("not implemented")}}class Wt{constructor(e,t,n){this.iframe=e,this.overlay=t,this.store=n,this.boxes=[],this.unsubscribeAll=[],this.isRefreshing=!1,this.unsubscribeAll.push(Be(window,"resize",(()=>this.resizeOverlay())),n.subscribe((e=>this.update(e)),(e=>e.selectables)),n.subscribe(((e,t)=>this.onMouseChanged(e,t)),(e=>e.mouse)),n.subscribe(((e,t)=>this.onUiChanged(e,t)),(e=>e.ui))),this.resizeOverlay(),this.overlay.contentDocument.body.style.overflow="auto",e.contentDocument.body.style.overflow="scroll",this.overlay.contentDocument.head.innerHTML="\n      <style>\n        body {\n          overflow: scroll;\n          margin: -5px;\n        }\n\n        body.dragging-mode .box.not-selected.not-aboutToDrop,\n        body.resizing-mode .box.not-selected { display: none; }\n\n        .aboutToDrop, .selected.box, .box.target {\n          border: 1px solid rgba(0, 0, 0, .5);\n        }\n        .box.aboutToDrop:before,\n        .box.selected:before,\n        .box.target:before {\n          content: ' ';\n          position: absolute;\n          z-index: -1;\n          top: 1px;\n          left: 1px;\n          right: 1px;\n          bottom: 1px;\n          border: 1px solid rgba(255, 255, 255, .3);\n        }\n        .not-selectable,\n        .not-selected .handle { display: none; }\n\n        .handle {\n          position: absolute;\n          z-index: 999;\n          border: 1px solid rgba(0, 0, 0, .5);\n          background-color: rgba(255, 255, 255, 1);\n          width: 5px;\n          height: 5px;\n          border-radius: 2.5px;\n        }\n        .handle-nw { top: -4px; left: -4px; }\n        .not-resizeable-nw .handle-nw { display: none; }\n\n        .handle-ne { top: -4px; right: -4px; }\n        .not-resizeable-ne .handle-ne { display: none; }\n\n        .handle-sw { bottom: -4px; left: -4px; }\n        .not-resizeable-sw .handle-sw { display: none; }\n\n        .handle-se { bottom: -4px; right: -4px; }\n        .not-resizeable-se .handle-se { display: none; }\n\n        .region-marker {\n          background-color: rgba(0, 0, 0, .1);\n          border: 1px solid rgba(255, 255, 255, .5);\n          display: flex;\n          position: absolute;\n          left: 0;\n          top: 0;\n          min-width: 1px;\n          min-height: 1px;\n        }\n\n        .stycky-left { border-left-color: red !important; }\n        .stycky-top { border-top-color: red !important; }\n        .stycky-right { border-right-color: red !important; }\n        .stycky-bottom { border-bottom-color: red !important; }\n    "}static async createUi(e,t){return new Promise(((n,i)=>{const o=Se(e),r=o.createElement("iframe");o.body.appendChild(r),"complete"===r.contentDocument.readyState?n(new Wt(e,r,t)):r.contentWindow.onload=()=>{n(new Wt(e,r,t))}}))}resizeOverlay(){this.resize()}cleanup(){this.unsubscribeAll.forEach((e=>e())),this.overlay.parentElement.removeChild(this.overlay),this.overlay=null}resize(){const e=xe(this.iframe),t=this.iframe.contentWindow.getComputedStyle(this.iframe).getPropertyValue("z-index");e.position="absolute",we(this.overlay,e,!1,!0),this.overlay.style.backgroundColor="transparent",this.overlay.style.zIndex=((parseInt(t)||0)+1).toString(),this.overlay.style.border="none"}onUiChanged(e,t){this.isRefreshing=e.refreshing,e.catchingEvents===t.catchingEvents&&e.mode===t.mode||(this.overlay.style.pointerEvents=e.catchingEvents?"":"none",e.mode===fe.HIDE?(this.overlay.style.top="-999999px",this.overlay.style.left="-999999px",this.overlay.style.width="0",this.overlay.style.height="0"):this.resizeOverlay())}onMouseChanged(e,t){if((e.scrollData.x!==t.scrollData.x||e.scrollData.y!==t.scrollData.y)&&(Te(this.overlay.contentDocument,e.scrollData),this.store.getState().ui.mode!==fe.HIDE)){Te(this.iframe.contentDocument,e.scrollData);const t=Ce(this.iframe.contentDocument);e.scrollData.x===t.x&&e.scrollData.y===t.y||Te(this.overlay.contentDocument,t)}e.cursorData.cursorType!==t.cursorData.cursorType&&(this.overlay.contentDocument.body.style.cursor=e.cursorData.cursorType)}update(e){if(!this.isRefreshing){const{scrollWidth:t,scrollHeight:n}=this.iframe.contentWindow.document.scrollingElement;this.overlay.contentDocument.body.style.width=t+"px",this.overlay.contentDocument.body.style.height=n+"px",this.boxes.filter((t=>!e.find((e=>t.selectable.el===e.el)))).forEach((e=>e.ui.parentElement.removeChild(e.ui))),this.boxes=this.boxes.filter((t=>e.find((e=>t.selectable.el===e.el)))),this.boxes=this.boxes.concat(e.filter((e=>!this.boxes.find((t=>t.selectable.el===e.el)))).map((e=>({selectable:e,ui:this.overlay.contentDocument.body.appendChild(this.createBoxUi())}))));const i=this.store.getState().ui.mode===fe.DRAG?e.filter((e=>e.dropZone&&e.dropZone.parent)).map((e=>e.dropZone.parent)):[];this.boxes.map((t=>this.updateBox(t,e.find((e=>e.el===t.selectable.el)),i)))}}createBoxUi(){const e=this.overlay.contentDocument.createElement("div");return e.innerHTML="\n      <div class='handle handle-nw'></div>\n      <div class='handle handle-ne'></div>\n      <div class='handle handle-sw'></div>\n      <div class='handle handle-se'></div>\n    ",e}updateBox(e,t,n){const i=t.selected?this.store.getState().ui.sticky:{top:null,left:null,bottom:null,right:null},o=!!n.find((e=>e===t.el)),r=this.store.getState().mouse.mouseData.target===e.selectable.el;return e.selectable=t,we(e.ui,{...e.selectable.metrics,position:"absolute",padding:{top:0,left:0,bottom:0,right:0},margin:{top:0,left:0,bottom:0,right:0},border:{top:1,left:1,bottom:1,right:1}},!1,!0),e.ui.classList.remove(e.selectable.selected?"not-selected":"selected",e.selectable.selectable?"not-selectable":"selectable",e.selectable.draggable?"not-draggable":"draggable",e.selectable.hovered?"not-hover":"hover",r?"not-target":"target",e.selectable.resizeable.top||e.selectable.resizeable.left?"not-resizeable-nw":"resizeable-nw",e.selectable.resizeable.top||e.selectable.resizeable.right?"not-resizeable-ne":"resizeable-ne",e.selectable.resizeable.bottom||e.selectable.resizeable.left?"not-resizeable-sw":"resizeable-sw",e.selectable.resizeable.bottom||e.selectable.resizeable.right?"not-resizeable-se":"resizeable-se",e.selectable.isDropZone?"not-isDropZone":"isDropZone",i.left?"not-stycky-left":"stycky-left",i.top?"not-stycky-top":"stycky-top",i.right?"not-stycky-right":"stycky-right",i.bottom?"not-stycky-bottom":"stycky-bottom",o?"not-aboutToDrop":"aboutToDrop"),e.ui.classList.add("box",e.selectable.selected?"selected":"not-selected",e.selectable.selectable?"selectable":"not-selectable",e.selectable.draggable?"draggable":"not-draggable",e.selectable.hovered?"hover":"not-hover",r?"target":"not-target",e.selectable.resizeable.top&&e.selectable.resizeable.left?"resizeable-nw":"not-resizeable-nw",e.selectable.resizeable.top&&e.selectable.resizeable.right?"resizeable-ne":"not-resizeable-ne",e.selectable.resizeable.bottom&&e.selectable.resizeable.left?"resizeable-sw":"not-resizeable-sw",e.selectable.resizeable.bottom&&e.selectable.resizeable.right?"resizeable-se":"not-resizeable-se",e.selectable.isDropZone?"isDropZone":"not-isDropZone",i.left?"stycky-left":"not-stycky-left",i.top?"stycky-top":"not-stycky-top",i.right?"stycky-right":"not-stycky-right",i.bottom?"stycky-bottom":"not-stycky-bottom",o?"aboutToDrop":"not-aboutToDrop"),e}hideUi(e){this.overlay.contentDocument.body.style.display=e?"none":""}}class Ht{constructor(e,t,n={}){var i;this.unsubscribeAll=[],this.waitingListeners=[],window.Stage=Ht,this.iframe=e,this.contentWindow=this.iframe.contentWindow,this.contentDocument=this.iframe.contentDocument,this.hooks={...n,getId:n.getId||(e=>{if(e.hasAttribute("data-stage-id"))return e.getAttribute("data-stage-id");const t=Math.round(999999*Math.random()).toString();return e.setAttribute("data-stage-id",t),t}),isSelectable:n.isSelectable||(e=>e.classList.contains("selectable")),isDraggable:n.isDraggable||(e=>e.classList.contains("draggable")),isDropZone:n.isDropZone||(e=>e.classList.contains("droppable")),isResizeable:n.isResizeable||(e=>e.classList.contains("resizeable")),useMinHeight:n.useMinHeight||(e=>!0),canDrop:n.canDrop||((e,t)=>!0)},(i=this.contentWindow).document.elementsFromPoint||(i.document.elementsFromPoint=function(e,t){return Array.from(i.document.body.querySelectorAll("*")).filter((function(n){var i=n.getBoundingClientRect();return i.left<=e&&e<=i.right&&i.top<=t&&t<=i.bottom}))}),this.store=new Bt,Wt.createUi(e,this.store).then((e=>{this.ui=e,this.selectablesObserver=new ht(this.contentDocument,this.ui.overlay.contentDocument,this.store,this.hooks),this.domObserver=new mt(this.store,((e,t)=>this.domObserverCallback(e,t))),this.uiObserver=new St(this.contentDocument,this.ui.overlay.contentDocument,this.store,this.hooks),this.mouseObserver=new gt(this.contentDocument,this.ui.overlay.contentDocument,this.store,this.hooks),this.mouse=new dt(this.contentWindow,this.ui.overlay.contentWindow,this.store,this.hooks);const n=new Qe(this.ui.overlay.contentWindow,this.store,this.hooks);this.unsubscribeAll.push((()=>this.selectablesObserver.cleanup()),(()=>this.domObserver.cleanup()),(()=>this.uiObserver.cleanup()),(()=>this.mouseObserver.cleanup()),(()=>this.mouse.cleanup()),(()=>n.cleanup()),Be(window,"resize",(()=>this.updateMetrics()))),this.reset(t),this.waitingListeners.forEach((e=>e())),this.waitingListeners=[]}))}domObserverCallback(e,t){this.updateMetrics(t.map((e=>e.target)).concat(e.el))}updateMetrics(e=null){const t=e?e.map((e=>this.getState(e))).filter((e=>!!e)):this.store.getState().selectables,n=this.store.getState().selectables.filter((e=>this.getParents(e.el).some((e=>t.some((t=>t.el===e)))))),i=[...new Set(t.concat(n))];if(i.length>0){const e=this.store.getState().ui.refreshing;e||this.store.dispatch(ze(!0)),this.store.dispatch(ct(i.map((e=>({...e,metrics:xe(e.el)}))))),e||this.store.dispatch(ze(!1))}}getParents(e){return e?this.getParents(e.parentElement).concat(e.parentElement?[e.parentElement]:[]):[]}startDrag(){const e=ye(this.getSelection());this.mouse.mouseMode=ut.DRAGGING,this.store.dispatch(He(fe.DRAG)),this.uiObserver.handler.initialMouse={x:e.left+e.width/2-this.iframe.contentWindow.scrollX,y:e.top+e.height/2-this.iframe.contentWindow.scrollY}}cleanup(){this.unsubscribeAll.forEach((e=>e())),this.ui.cleanup(),this.ui=null}get catchingEvents(){return this.store.getState().ui.catchingEvents}set catchingEvents(e){this.store.dispatch({type:qe,catchingEvents:e})}get visible(){return this.store.getState().ui.mode!==fe.HIDE}set visible(e){this.store.dispatch(He(e?fe.NONE:fe.HIDE)),this.setScroll({x:this.iframe.contentWindow.scrollX,y:this.iframe.contentWindow.scrollY})}get enableSticky(){return this.store.getState().ui.enableSticky}set enableSticky(e){this.store.dispatch({type:$e,enableSticky:e})}resizeWindow(){this.ui.resizeOverlay()}subscribeMouseEvent(e,t){let n;return this.mouse?this.mouse.subscribeMouseEvent(e,t):(this.waitingListeners.push((()=>{n=this.subscribeMouseEvent(e,t)})),()=>n())}hideUi(e){this.ui.hideUi(e)}reset(e){const t=this.store.getState().ui.refreshing;t||this.store.dispatch(ze(!0)),this.store.dispatch({type:st}),Array.from(e).forEach((e=>this.addElement(e,!1))),t||this.store.dispatch(ze(!1)),this.ui.update(this.store.getState().selectables),this.domObserver.onStateChanged()}getSelection(){return Le(this.store)}setSelection(e){this.store.dispatch(Xe(e.map((e=>this.getState(e)))))}getStateById(e){return this.store.getState().selectables.find((t=>t.id===e))}getState(e){return Oe(this.store,e)}setState(e,t){const n=this.getState(e);this.store.dispatch(ct([{...n,...t}]))}addElement(e,t=!0){const n={id:this.hooks.getId(e),el:e,selected:!1,hovered:!1,selectable:this.hooks.isSelectable(e),draggable:this.hooks.isDraggable(e),resizeable:this.getElementResizeable(e),isDropZone:this.hooks.isDropZone(e),useMinHeight:this.hooks.useMinHeight(e),metrics:xe(e)},i=this.store.getState().ui.refreshing;t&&(i||this.store.dispatch(ze(!0)),this.domObserver.onAdded(n)),this.store.dispatch({type:at,selectable:n}),t&&(i||this.store.dispatch(ze(!1)))}getElementResizeable(e){const t=this.hooks.isResizeable(e);return"object"==typeof t?t:{top:t,left:t,bottom:t,right:t}}removeElement(e){var t;this.store.dispatch((t=this.store.getState().selectables.find((t=>t.id===e)),{type:lt,selectable:t}))}getDropZone(e,t,n=null){const i=Me(this.contentDocument,this.store,this.hooks,e,t);return n?i.filter((e=>this.hooks.canDrop(n,e)))[0]:i[0]}getBoundingBox(e){const t=this.store.getState();return ye(e.map((e=>t.selectables.find((t=>t.id===this.hooks.getId(e))))))}getSelectionBox(){return ye(Le(this.store))}show(e){const t=this.store.getState(),n=ye(e.map((e=>t.selectables.find((t=>t.id===this.hooks.getId(e)))))),i=t.mouse.scrollData,o=ve(this.contentDocument,n);o.x===i.x&&o.y===i.y||this.store.dispatch(tt(o))}center(e){const t=this.store.getState(),n=ye(e.map((e=>t.selectables.find((t=>t.id===this.hooks.getId(e))))).filter((e=>!!e))),i=t.mouse.scrollData,o=this.contentWindow.innerWidth,r=this.contentWindow.innerHeight,s={x:Math.max(0,Math.round(n.left+n.width/2-o/2)),y:Math.max(0,Math.round(n.top+n.height/2-r/2))};s.x===i.x&&s.y===i.y||this.store.dispatch(tt(s))}setScroll(e){const t=this.store.getState().mouse.scrollData;e.x===t.x&&e.y===t.y||this.store.dispatch(tt(e))}getScroll(){return this.store.getState().mouse.scrollData}}class jt{}let zt,qt;function Ut(){zt||(zt=document.createElement("input"),zt.style.left="-1000px",zt.style.position="absolute",document.body.appendChild(zt)),setTimeout((()=>{zt.focus(),zt.blur(),document.getSelection().removeAllRanges()}),0)}jt.PAGE_NAME_PREFIX="#!",jt.PAGE_ID_PREFIX="page-",jt.JSON_STYLE_TAG_CLASS_NAME="silex-json-styles",jt.WEBSITE_CONTEXT_RUNTIME_CLASS_NAME="silex-runtime",jt.WEBSITE_CONTEXT_EDITOR_CLASS_NAME="silex-editor",jt.WEBSITE_CONTEXT_PUBLISHED_CLASS_NAME="silex-published",jt.PAGED_CLASS_NAME="paged-element",jt.PAGEABLE_PLUGIN_READY_CLASS_NAME="pageable-plugin-created",jt.PAGED_HIDDEN_CLASS_NAME="paged-element-hidden",jt.PAGES_CONTAINER_CLASS_NAME="silex-pages",jt.PAGE_PREVENT_DELETE="data-prevent-delete",jt.PAGE_PREVENT_MOVE="data-prevent-delete",jt.PAGE_PREVENT_RENAME="data-prevent-rename",jt.PAGE_PREVENT_PROPERTIES="data-prevent-properties",jt.PAGED_VISIBLE_CLASS_NAME="paged-element-visible",jt.PAGE_LINK_ACTIVE_CLASS_NAME="page-link-active",jt.TYPE_PAGE="page-element",jt.TYPE_ATTR="data-silex-type",jt.ELEMENT_ID_ATTR_NAME="data-silex-id",jt.STATIC_ASSET_ATTR="data-silex-static",jt.ATTR_REMOVE_PUBLISH="data-silex-remove-publish",jt.ELEMENT_CONTENT_CLASS_NAME="silex-element-content",jt.WEBSITE_WIDTH_CLASS_NAME="website-width",jt.LINK_ATTR="href",jt.STAGE_COMPONENT_SELECTED_CLASS_NAME="selected",jt.STAGE_COMPONENT_NOT_SELECTED_CLASS_NAME="not-selected",jt.SELECTED_CLASS_NAME="silex-selected",jt.RESIZING_CLASS_NAME="silex-resizing",jt.DRAGGING_CLASS_NAME="silex-dragging",jt.HIDE_ON_MOBILE="hide-on-mobile",jt.HIDE_ON_DESKTOP="hide-on-desktop",jt.EDITABLE_CLASS_NAME="editable-style",jt.PREVENT_RESIZABLE_CLASS_NAME="prevent-resizable",jt.PREVENT_RESIZABLE_TOP_CLASS_NAME="prevent-resizable-top",jt.PREVENT_RESIZABLE_LEFT_CLASS_NAME="prevent-resizable-left",jt.PREVENT_RESIZABLE_BOTTOM_CLASS_NAME="prevent-resizable-bottom",jt.PREVENT_RESIZABLE_RIGHT_CLASS_NAME="prevent-resizable-right",jt.PREVENT_SELECTABLE_CLASS_NAME="prevent-selectable",jt.PREVENT_DRAGGABLE_CLASS_NAME="prevent-draggable",jt.PREVENT_DROPPABLE_CLASS_NAME="prevent-droppable",jt.SILEX_USE_HEIGHT_NOT_MINHEIGHT="silex-use-height-not-minheight",jt.SILEX_STYLE_ELEMENT_CSS_CLASS="silex-style",jt.SILEX_SCRIPT_ELEMENT_CSS_CLASS="silex-script",jt.PRODOTYPE_DEPENDENCY_ATTR="data-dependency",jt.CUSTOM_FONTS_CSS_CLASS="silex-custom-font",jt.ENABLE_MOBILE_CSS_CLASS="enable-mobile",jt.MOBILE_MODE_CSS_CLASS="mobile-mode",jt.LOADING_ELEMENT_CSS_CLASS="loading-image",jt.LOADING_SITE_CSS_CLASS="loading-website",jt.LOADING_SILEX_CSS_CLASS="loading-pending",jt.MOBILE_BREAKPOINT=480,jt.MOBILE_MEDIA_QUERY=`only screen and (max-width: ${jt.MOBILE_BREAKPOINT}px)`,jt.SILEX_CURRENT_PAGE_ID="current-page-style",jt.SILEX_TEMP_TAGS_CSS_CLASS="silex-temp-tag",jt.RISZE_HANDLE_CSS_CLASS="ui-resizable-handle",jt.INLINE_STYLE_TAG_CLASS_NAME="silex-inline-styles",jt.HEAD_TAG_START="\x3c!-- Silex HEAD tag do not remove --\x3e",jt.HEAD_TAG_STOP="\x3c!-- End of Silex HEAD tag do not remove --\x3e",jt.COMPONENT_CLASS_NAME="silex-component",jt.STYLE_CLASS_NAME="silex-prodotype-style",jt.BODY_STYLE_NAME="All style",jt.BODY_STYLE_CSS_CLASS="all-style",jt.EMPTY_STYLE_CLASS_NAME="empty-style-class-name",jt.EMPTY_STYLE_DISPLAY_NAME="",jt.COMPONENT_TYPE="component",jt.STYLE_TYPE="style",jt.STYLE_VISIBILITY=["desktop","mobile"],jt.SILEX_CLASS_NAMES=[jt.WEBSITE_WIDTH_CLASS_NAME],jt.SILEX_TEMP_CLASS_NAMES=[jt.PAGEABLE_PLUGIN_READY_CLASS_NAME,jt.PAGED_HIDDEN_CLASS_NAME,jt.PAGED_VISIBLE_CLASS_NAME],jt.SILEX_CLASS_NAMES_TO_REMOVE_AT_PUBLISH=[],jt.ELEMENTS_TO_REMOVE_AT_PUBLISH=[".prodotype-preview","["+jt.ATTR_REMOVE_PUBLISH+"]"],function(e){e.CONTAINER="container-element",e.SECTION="section-element",e.IMAGE="image-element",e.TEXT="text-element",e.HTML="html-element"}(wt||(wt={})),function(e){e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT"}(xt||(xt={})),function(e){e.UP="UP",e.DOWN="DOWN",e.TOP="TOP",e.BOTTOM="BOTTOM"}(Ct||(Ct={})),function(e){e.PAGE="LinkTypePage",e.URL="LinkTypeExternal"}(Tt||(Tt={}));class $t{constructor(e){if(this.isOpen=!1,e.name&&(this.name=e.name,$t.dialogs.set(this.name,this)),!e.element)throw new Error('Modal dialog options missing a "element" field');if(this.element=e.element,!e.onOpen)throw new Error('Modal dialog options missing a "onOpen" field');if(this.onOpen=e.onOpen,!e.onClose)throw new Error('Modal dialog options missing a "onClose" field');this.onClose=e.onClose,this.element.classList.add($t.MODAL_DIALOG_CLASS_NAME),this.element.classList.add($t.HIDE_DIALOG_CLASS_NAME);const t=this.element.querySelector(".close-btn");t&&(t.onclick=e=>this.close()),document.addEventListener("keydown",(e=>{this.isOpen&&"Escape"===e.key&&(this.close(),e.preventDefault(),e.stopPropagation())}))}static open(e,t=null){$t.dialogs.has(e)?$t.dialogs.get(e).open(t):console.error("could not open dialog",e,$t.dialogs)}static close(){$t.currentDialog?$t.currentDialog.close():console.error("could not close dialog, there is no dialog opened")}open(e){this.isOpen?console.warn("this dialog is already opened",this.name?this.name:""):(this.isOpen=!0,$t.currentDialog&&$t.currentDialog.close(),$t.currentDialog=this,this.element.classList.remove($t.HIDE_DIALOG_CLASS_NAME),this.onOpen(e))}close(){this.isOpen?(this.isOpen=!1,$t.currentDialog=null,this.onClose(),Ut(),this.element.classList.add($t.HIDE_DIALOG_CLASS_NAME)):console.warn("dialog is already closed",this.name?this.name:"")}}function Ft(){return qt=qt||{fileExplorer:document.querySelector("#silex-file-explorer"),contextMenu:document.querySelector(".silex-context-menu"),menu:document.querySelector(".silex-menu"),breadCrumbs:document.querySelector(".silex-bread-crumbs"),pageTool:document.querySelector(".silex-page-tool"),htmlEditor:document.querySelector(".silex-html-editor"),cssEditor:document.querySelector(".silex-css-editor"),jsEditor:document.querySelector(".silex-js-editor"),settingsDialog:document.querySelector(".silex-settings-dialog"),dashboard:document.querySelector(".silex-dashboard"),propertyTool:document.querySelector(".silex-property-tool"),textFormatBar:document.querySelector(".silex-text-format-bar"),workspace:document.querySelector(".silex-workspace"),verticalSplitter:document.querySelector(".vertical-splitter")},qt}$t.dialogs=new Map,$t.HIDE_DIALOG_CLASS_NAME="silex-hide-dialog",$t.MODAL_DIALOG_CLASS_NAME="silex-modal-dialog";class Gt{constructor(){this.ce=null}static getInstance(){return Gt.instance=Gt.instance||new Gt,Gt.instance}ready(e){const t=Ft();t.fileExplorer.contentWindow.ce?(this.ce=t.fileExplorer.contentWindow.ce,e()):(null==this.cbks&&(this.cbks=[],t.fileExplorer.addEventListener("load",(e=>{this.ce=t.fileExplorer.contentWindow.ce,this.cbks.forEach((e=>e())),this.cbks=[]}))),this.cbks.push(e))}write(e,t,n,i,o){const r=new XMLHttpRequest;r.onload=()=>{if(200===r.status)i();else{const e=new Event("error"),t=this.getErrorMessage(r);o&&o(e,t,r.status)}};const s=`/website/ce/${e.service}/put/${e.path}`;r.open("PUT",s),r.setRequestHeader("Content-Type","text/plain; charset=utf-8"),r.send(JSON.stringify({html:t,data:n}))}getErrorMessage(e){let t="";try{const n=JSON.parse(e.responseText);n.message&&(t=n.message)}catch(e){}if(""===t)if(""!==e.responseText)t=e.responseText;else switch(e.status){case 404:t="File not found.";break;case 401:t="You are not connected to the cloud service you are trying to use.";break;default:t="Unknown error with HTTP status "+e.status}return""===t?null:t}loadWebsite(e,t,n){const i="/website"+e,o=new XMLHttpRequest;o.addEventListener("load",(e=>{if(200===o.status){const e=JSON.parse(o.responseText);e.message&&me.alert("Website updated",e.message,(()=>{})),t(e.html,e.data)}else{const e=new Event("error"),t=this.getErrorMessage(o);n(e,t,o.status)}})),o.addEventListener("error",(t=>{console.error("could not load website",e,"from",i,t),n&&n(t,"Network error, please check your internet connection or try again later.",o.status)})),o.open("GET",i),o.send()}getServices(e,t){this.ce.getServices().then((t=>{e(t)})).catch((n=>{console.error("Error: could not get the list of services",n),t?t(n,"Error: could not get the list of services"):e([])}))}}class Vt{constructor(){this.ce=null;const e=Ft().fileExplorer;Gt.getInstance().ready((()=>{this.ce=Gt.getInstance().ce})),this.modalDialog=new $t({name:"File explorer",element:e,onOpen:e=>{},onClose:()=>{}})}static get IMAGE_EXTENSIONS(){return[".jpg",".jpeg",".png",".gif",".svg"]}static get HTML_EXTENSIONS(){return[".html",".zip"]}static getInstance(){return Vt.instance=Vt.instance||new Vt,Vt.instance}addAbsPath(e){if(e){const t=e.service?`/ce/${e.service}/get/${e.path}`:e.absPath;return{...e,absPath:t}}}async openFile(e){this.open();const t=await this.ce.openFile(e);if(t){if(t.urls&&t.urls.big&&t.urls.small){const e=await this.promptAttributionAndGetSize(t.attribution,t.urls);return this.close(),{...t,absPath:e}}return this.close(),this.addAbsPath(t)}return this.close(),null}async promptAttributionAndGetSize(e,t){return new Promise(((n,i)=>{const o=e?`\n        <h3>About this image and the author</h3>\n        <p>\n          ${e.message}\n        </p><br/>\n        <code>\n          ${e.content}\n        </code>\n        <button class="copy-btn">Copy</button>\n      `:"",r=`\n        <h3>Image size</h3>\n        <p>You need to choose an image size to continue</p>\n        <ul>\n          <li>Open the <a target="_blank" href="${t.big}">big version</a> in a new tab</li>\n          <li>Or the <a target="_blank" href="${t.small}">small version</a></li>\n        </ul>\n      `,s=document.createElement("div");s.innerHTML=o+r,s.querySelector(".copy-btn").onclick=()=>this.copy(e.content),me.confirm("Insert image","",(e=>{n(e?t.big:t.small)}),"Big size","Small size"),me.setContent(s,!1)}))}copy(e){const t=document.createElement("div");document.body.appendChild(t);try{t.innerHTML=e;const n=document.createRange();n.selectNode(t),window.getSelection().addRange(n),document.execCommand("copy")?me.notifySuccess("Attribution copied to clipboard"):(me.notifyError("Attribution has not been copied to clipboard"),console.error("Could not copy to clipboard",e))}catch(t){me.notifyError("Attribution has not been copied to clipboard"),console.error("Could not copy to clipboard",t,e)}document.body.removeChild(t)}async openFiles(e){this.open();const t=await this.ce.openFiles(e),n=this.addAbsPath(t);return this.close(),n}async openFolder(){this.open();const e=await this.ce.openFolder(),t=this.addAbsPath(e);return this.close(),t}async saveAs(e,t){this.open();const n=await this.ce.saveAs(e,t),i=this.addAbsPath(n);return this.close(),i}open(){this.modalDialog.open()}close(){this.modalDialog.close()}}var Yt,Xt,Kt,Zt;!function(e){e.INITIALIZE="ELEMENT_INITIALISE",e.CREATE="ELEMENT_CREATE",e.DELETE="ELEMENT_DELETE",e.UPDATE="ELEMENT_UPDATE"}(Yt||(Yt={})),function(e){e.INITIALIZE="PAGE_INITIALIZE",e.CREATE="PAGE_CREATE",e.DELETE="PAGE_DELETE",e.UPDATE="PAGE_UPDATE",e.MOVE="PAGE_MOVE"}(Xt||(Xt={})),function(e){e.INITIALIZE="SITE_INITIALIZE",e.UPDATE="SITE_UPDATE"}(Kt||(Kt={})),function(e){e.INITIALIZE="UI_INITIALIZE",e.UPDATE="UI_UPDATE"}(Zt||(Zt={}));var Jt=n(1090);const Qt=Symbol("crudId key");function en(e){const{actionEnum:t,reducer:n}=e;return(e=[],i)=>{switch(i.type in Object.keys(t)&&function(e){if(e.filter((e=>!e[Qt])).length)throw new Error("The items need to have a key. The items you provide to update or deleted need to be retrieved from the store")}(i.items),i.type){case t.INITIALIZE:return i.items;case t.CREATE:return i.items.length?n(e.concat(i.items),i):e;case t.DELETE:return i.items.length?n(e.filter((e=>!i.items.find((t=>t[Qt]===e[Qt])))),i):e;case t.UPDATE:return 0===i.items.length?e:n(e.map((e=>i.items.find((t=>t[Qt]===e[Qt]))||e)),i);default:return n(e,i)}}}function tn(e){return e.map((e=>({...e,[Qt]:Symbol()})))}function nn(e){return e.map((e=>{const{[Qt]:t,...n}=e;return n}))}function on({onAdd:e,onDelete:t,onUpdate:n}){return(i,o)=>{const r=o.filter((e=>!i||!i.find((t=>t[Qt]===e[Qt]))));if(r.length&&e(r),i){const e=i.filter((e=>!o.find((t=>t[Qt]===e[Qt]))));e.length&&t(e);const r=o.map((e=>({from:i.find((t=>t[Qt]===e[Qt])),to:e}))).filter((({from:e,to:t})=>!!e&&e!==t));r.length&&n(r)}}}const rn=(e,t=Tn.dispatch)=>t({type:Zt.INITIALIZE,data:e}),sn=(e,t=Tn.dispatch)=>t({type:Zt.UPDATE,data:e}),an=()=>Tn.getState().present.ui,ln=(e,t=Tn.subscribe)=>_n("ui",e,t);function cn(e,t){const{changeActions:n,resetActions:i}=t;return(t,o)=>{const r=e(t,o);return i.includes(o.type)?(hn(r.present),un(r)):n.includes(o.type)&&r!==t?un(r):r}}function un(e){const t=fn(e.present);return t===e.present.ui.dirty?e:{...e,present:{...e.present,ui:{...e.present.ui,dirty:t}}}}let dn={elements:null,pages:null,site:null};function hn(e=On()){const{elements:t,pages:n,site:i}=e;dn={elements:t,pages:n,site:i}}function pn(e=On()){hn(e),sn({...an(),dirty:!1})}function fn(e=On()){return e.elements!==dn.elements||e.pages!==dn.pages||e.site!==dn.site}function mn(){Tn.dispatch(Jt.zF.clearHistory())}function gn(){Tn.dispatch(Jt.zF.undo())}function bn(){Tn.dispatch(Jt.zF.redo())}function yn(){return Tn.getState().past.length>0}function vn(){return Tn.getState().future.length>0}function En(e,t){const{resetActions:n}=t;return(t,i)=>{const o=e(t,i);return n.includes(i.type)?function(e){return{...e,past:[],future:[]}}(o):o}}const Sn=[Yt.INITIALIZE,Xt.INITIALIZE,Kt.INITIALIZE],wn=[...Object.values(Yt).filter((e=>e!==Yt.INITIALIZE)),...Object.values(Xt).filter((e=>e!==Xt.INITIALIZE)),...Object.values(Kt).filter((e=>e!==Kt.INITIALIZE))],xn=Nt({pages:en({actionEnum:Xt,reducer:(e=[],t)=>{if(t.type===Xt.MOVE){const n=e.findIndex((e=>e===t.item)),i=[...e.slice(0,n),...e.slice(n+1)];return[...i.slice(0,t.idx),t.item,...i.slice(t.idx)]}return e},label:"Pages"}),elements:en({actionEnum:Yt,reducer:(e=[],t)=>(t.type,e),label:"Elements"}),site:(e={description:"",enableMobile:!0,isTemplate:!1,title:"",publicationPath:null,websiteUrl:"",faviconPath:"",thumbnailSocialPath:"",descriptionSocial:"",titleSocial:"",lang:"",width:-1,headStyle:"",headScript:"",headUser:"",hostingProvider:"",twitterSocial:"",dataSources:{},fonts:[],styles:{},file:null,prodotypeDependencies:{},data:{}},t)=>{switch(t.type){case Kt.INITIALIZE:return{...t.data};case Kt.UPDATE:return{...e,...t.data};default:return e}},ui:(e={loading:he.SILEX,dirty:!1,mobileEditor:!1,currentPageId:null,dialogs:[{id:"design",type:"properties",visible:!0},{id:"style",type:"properties",visible:!1},{id:"params",type:"properties",visible:!1}],clipboard:null,components:{}},t)=>{switch(t.type){case Zt.INITIALIZE:return{...t.data};case Zt.UPDATE:return{...e,...t.data};default:return e}}});let Cn=0;const Tn=Ot(cn(En((0,Jt.ZP)(xn,{filter:(0,Jt.an)(wn),groupBy:()=>{const e=Math.floor(Date.now()/1e3),t=e-Cn;return Cn=e,t}}),{resetActions:Sn}),{changeActions:wn,resetActions:Sn}));let kn=Tn.getState().present,In=null;function An(e,t,n=Tn.subscribe){return n((()=>{const n=Tn.getState();In&&n.present[e]===In[e]||t(In?In[e]:null,n.present[e])}))}function _n(e,t,n=Tn.subscribe){return n((()=>{const n=Tn.getState();In&&n.present[e]===In[e]||t(In?In[e]:null,n.present[e])}))}Tn.subscribe((()=>{In=kn,kn=Tn.getState().present}));const On=()=>Tn.getState().present,Ln=e=>tn(e),Nn=e=>nn(e),Dn=(e,t=Tn.dispatch)=>t({type:Yt.INITIALIZE,items:e}),Pn=(e,t=Tn.dispatch)=>t({type:Yt.CREATE,items:e}),Mn=(e,t=Tn.dispatch)=>t({type:Yt.DELETE,items:e}),Rn=(e,t=Tn.dispatch)=>t({type:Yt.UPDATE,items:e}),Bn=()=>Tn.getState().present.elements,Wn=(e,t=Tn.subscribe)=>An("elements",e,t);function Hn(e,t,...n){return[...e.slice(0,t),...n,...e.slice(t)]}const jn=e=>e.reduce(((e,t)=>e.concat(t)),[]);function zn(e,t,n){const i={...n};return"static"===n.position&&(delete i.left,delete i.top),(e.type===wt.SECTION||t)&&(delete i.width,delete i.left,delete i.top),e.type===wt.SECTION&&delete i.height,i}function qn(e,t,n){return{...t,mobile:e?{...t.mobile,...n}:t.mobile,desktop:e?t.desktop:{...t.desktop,...n}}}function Un(e,t,n=""){return Object.keys(e).filter((t=>!!e[t])).map((t=>({key:t,val:e[t]}))).reduce(((e,{key:i,val:o})=>e+(t&&"height"===i?n+"min-height: "+o+"; ":`${n}${i}: ${o}; `)),"")}function $n(e){if(0!==e.indexOf("rgb"))return null;const t=(e=(e=0!==e.indexOf("rgba")?e.replace("rgb",""):e.replace("rgba","")).replace(" ","")).substring(1,e.length-1).split(",");return t.length<4&&t.push("1"),[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),255*parseFloat(t[3])]}function Fn(e,t){return function(e,t){return e.querySelector(`[${jt.ELEMENT_ID_ATTR_NAME}="${t}"]`)}(e,t.id)}function Gn(e){return e.getAttribute(jt.ELEMENT_ID_ATTR_NAME)}function Vn(e,t,n){const i=Xn(e),o=function(e,t,n){for(let i=0;i<e.cssRules.length;i++){const o=e.cssRules[i];if(!1===n&&o.selectorText==="."+t||o.media&&o.cssRules&&o.cssRules[0]&&o.cssRules[0].selectorText==="."+t)return{rule:o,parent:e,index:i}}return null}(i,t,n);o&&i.deleteRule(o.index)}function Yn(e,t,n){const i=t.id,o=n?t.style.mobile:t.style.desktop,r=Xn(e);Vn(e,t.id,n);const s=Un(o,t.useMinHeight);if(s.length){const e=`.${i} {${s}}`;n?r.insertRule(Jn(e),r.cssRules.length):r.insertRule(e,0)}}function Xn(e){let t=e.querySelector("."+jt.INLINE_STYLE_TAG_CLASS_NAME);t||(t=e.createElement("style"),t.classList.add(jt.INLINE_STYLE_TAG_CLASS_NAME),e.head.appendChild(t));for(const n of e.styleSheets){const e=n;if(e.ownerNode&&e.ownerNode===t||e===t.sheet)return e}return console.error("no stylesheet found"),null}function Kn(e){return e.querySelector(":scope > ."+jt.ELEMENT_CONTENT_CLASS_NAME)||e}function Zn(e){let t=Kn(e).innerHTML;return t=function(e){return e.replace(/type="text\/notjavascript"/gi,'type="text/javascript"')}(t),t}function Jn(e){return"@media "+jt.MOBILE_MEDIA_QUERY+"{"+e+"}"}function Qn(e,t){return e.decorate(t.templateName,t.data,t.dataSources)}const ei=(e,t=Bn())=>t.find((t=>t.id===e))||null,ti=(e,t,n=Bn())=>n.find((n=>t===Fn(e,n))),ni=(e,t=Bn())=>e.children.map((e=>ei(e,t))),ii=(e,t=Bn())=>e.children.map((e=>ei(e,t))).filter((e=>!!e)).concat(e.children.reduce(((e,n)=>{const i=ei(n,t);return i?e.concat(ii(i,t)):e}),[])),oi=(e,t=Bn())=>t.find((t=>t.children.includes(e.id))),ri=(e,t=Bn())=>{const n=oi(e,t);return n?[n,...ri(n,t)]:[]},si=(e,t=Bn())=>!oi(e,t),ai=(e=Bn())=>e.find((t=>si(t,e))),li=(e,t=Bn())=>e.isSectionContent?oi(e,t):e,ci=(e=Bn())=>e.filter((e=>e.selected)),ui=(e=Bn())=>e.filter((e=>e.selected)).map((t=>li(t,e)));function di(e,t=Bn()){const n=oi(e,t);return n?n.pageNames.length?n:di(n,t):null}const hi=(e,t=Tn.dispatch)=>t({type:Kt.INITIALIZE,data:e}),pi=(e,t=Tn.dispatch)=>t({type:Kt.UPDATE,data:e}),fi=()=>Tn.getState().present.site,mi=(e,t=Tn.subscribe)=>_n("site",e,t);function gi(e){return jt.STYLE_VISIBILITY.map((t=>({visibility:t,data:e.styles[t]}))).filter((e=>!!e.data)).map((e=>{const t=[];for(const n in e.data)t.push({visibility:e.visibility,pseudoClass:n,data:e.data[n]});return t})).reduce(((e,t)=>e.concat(t)),[])}let bi,yi,vi,Ei,Si=!1;function wi(){vi=Ft().propertyTool.querySelector(".prodotype-style-editor .prodotype-container"),yi=new window.Prodotype(vi,"./prodotype/styles"),ki(de.componentFolders)}function xi(){return bi||wi(),bi}function Ci(){return yi||wi(),yi}async function Ti(e=_i()){const t=(await Promise.all(e.map((e=>Qn(xi(),{templateName:e.data.component.templateName,data:e.data.component.data,dataSources:fi().dataSources}).then((t=>[e,t])).catch((e=>(console.error("could not update component:",e),null))))))).filter((e=>!!e));Rn(t.filter((([e,t])=>e.innerHtml!==t)).map((([e,t])=>({...e,innerHtml:t}))))}function ki(e){Ei=Ft().propertyTool.querySelector(".prodotype-component-editor");const t=new window.Prodotype(Ei,e);bi||(bi=t),t.ready((e=>{e?console.error(e):(bi=t,Si=!0,sn({...an(),components:Ii(jt.COMPONENT_TYPE)}))}))}function Ii(e){const t=e===jt.COMPONENT_TYPE?xi():Ci();return t?t.componentsDef:{}}function Ai(e){return!!e.data.component&&!!e.data.component.templateName}function _i(e=Bn()){return e.filter((e=>Ai(e)))}function Oi(e,t){const n=Ii(jt.COMPONENT_TYPE)[t];if(n){const i=xi().createName(t,Bn().filter((e=>Ai(e))).map((e=>e.data.component))),o=Ni(t)||[],r=void 0===n.useMinHeight?e.useMinHeight:n.useMinHeight,s=n.initialCss||{};return n.initialCssContentContainer&&console.error("not implemented",n.initialCssContentContainer),Qn(xi(),{templateName:t,data:{},dataSources:fi().dataSources}).then((n=>({...e,classList:e.classList.concat(o),data:{...e.data,component:{name:i,templateName:t,data:{}}},innerHtml:n,useMinHeight:r,style:{...e.style,desktop:{...e.style.desktop,...s}}})))}console.error("Component definition not found in prodotype data")}function Li(e){return Ai(e)?Ni(e.data.component.templateName):[]}function Ni(e){const t=Ii(jt.COMPONENT_TYPE)[e];let n=[jt.COMPONENT_CLASS_NAME+"-"+e];if(t)switch(typeof t.initialCssClass){case"undefined":break;case"string":n=n.concat(t.initialCssClass.split(" "));break;default:n=n.concat(t.initialCssClass)}else console.error(`Error: component's definition not found in prodotype templates, with template name "${e}".`);return n}function Di(e=bi,t=Bn(),n=Tn.dispatch){const i=t.filter((e=>Ai(e))).map((e=>e.data.component)),o=e.getDependencies(i),r=Object.keys(o).reduce(((e,t)=>{const n=o[t].filter(((e,n)=>!o[t].find(((t,i)=>n>i&&Pi(e,t)))));return e[t]=e[t]||[],e[t]=e[t].concat(n),e}),{}),s=fi().prodotypeDependencies,a=Object.keys(s),l=Object.keys(r);a.length===l.length&&a.every((e=>{const t=s[e],n=r[e];return!!n&&n.length===t.length&&t.every((e=>n.find((t=>Pi(e,t)))))}))||pi({...fi(),prodotypeDependencies:r},n)}function Pi(e,t){return Object.keys(e).every((n=>e[n]===t[n]))&&Object.keys(t).every((n=>e[n]===t[n]))}function Mi(){Si&&(Ei.classList.add("hide-panel"),xi().edit())}function Ri(e){Si&&(xi().edit(e.data,e.dataSources,e.templateName,e.events),Ei.classList.remove("hide-panel"))}function Bi(e){Si&&Ci().edit(e.data,e.dataSources,e.templateName,e.events)}function Wi(e){const t=document.createDocumentFragment();return Array.from(e.children).forEach((e=>{e.classList.contains("editable-style")&&t.appendChild(e.cloneNode(!0))})),t}function Hi(e,t){return t===jt.STYLE_VISIBILITY[0]?e:Jn(e)}function ji(e,t,n,i,o,r){const s=o||{};s.className=t,s.pseudoClass=n;const a=fi().styles[t]||{className:t,templateName:"text",displayName:r,styles:{}};a.styles[i]||(a.styles[i]={}),a.styles[i][n]=s;const l=e.head;let c=l.querySelector(`[data-style-id="${t}"]`);c||(c=e.createElement("style"),c.className=jt.STYLE_CLASS_NAME,c.setAttribute("data-style-id",t),l.appendChild(c));const u=gi(a);u.length>0&&Promise.all(u.map((e=>Qn(Ci(),{templateName:"text",data:e.data,dataSources:fi().dataSources}).then((t=>Hi(t,e.visibility)))))).then((e=>{c.innerHTML=e.join("")}))}const zi=e=>tn(e),qi=e=>nn(e),Ui=(e,t=Tn.dispatch)=>t({type:Xt.INITIALIZE,items:e}),$i=(e,t=Tn.dispatch)=>t({type:Xt.CREATE,items:e}),Fi=(e,t=Tn.dispatch)=>t({type:Xt.DELETE,items:e}),Gi=(e,t=Tn.dispatch)=>t({type:Xt.UPDATE,items:e}),Vi=({page:e,idx:t},n=Tn.dispatch)=>n({type:Xt.MOVE,item:e,idx:t}),Yi=()=>Tn.getState().present.pages,Xi=(e,t=Tn.subscribe)=>An("pages",e,t),Ki=["href","rel","target","type","title","download"],Zi={href:"",target:"",title:"",rel:"",type:"",download:""};let Ji;function Qi(e){return Ji=Ji||new to,Ji.open(e.data,e.cbk)}function eo(e){return e.startsWith(jt.PAGE_NAME_PREFIX)&&e.split("#").length<=2?Tt.PAGE:Tt.URL}class to{constructor(){}open(e,t){const n=Object.assign({},Zi,e||{});me.prompt('\n      Link editor <a class="link-editor-help-button fa fa-question-circle" target="_blank" href="https://github.com/silexlabs/Silex/wiki/Editor-UI#link-editor"> Help</a>\n    ',"unused","unused","unused",((n,i)=>{if(n){const e=Ki.reduce(((e,t)=>{const n=o.querySelector("."+t);return n?e[t]=n.value:console.error("could not get data from for attribute",t),e}),{}),n=o.querySelector("#link-editor-external").checked,i=o.querySelector(".page").value,r={href:n?e.href:i,linkType:n?Tt.URL:Tt.PAGE};""!==e.target&&(r.target=e.target),""!==e.rel&&(r.rel=e.rel),""!==e.title&&(r.title=e.title),""!==e.type&&(r.type=e.type),""!==e.download&&(r.download=e.download),t(r)}else t(e)}));const i=document.createElement("fragment");i.innerHTML='\n      <button class="alertify-button alertify-button-cancel alertify-button-remove">remove link</button>\n    ',i.querySelector(".alertify-button-remove").onclick=e=>{me.close(),t(null)},me.addButton(i);const o=document.createElement("div");o.insertAdjacentHTML("afterbegin",this.getDialogHtml({linkType:eo(n.href),linkData:n})),Array.from(o.querySelectorAll(".link-editor-tab-label")).forEach((e=>{e.onclick=t=>{Array.from(o.querySelectorAll(".link-editor-tab-label.checked")).forEach((e=>e.classList.remove("checked"))),e.classList.add("checked")}})),me.setContent(o)}getDialogHtml({linkType:e,linkData:t}){return`\n      <section class="link-editor">\n        <div class="labels">\n          <label for="link-editor-external" title="External Link" class="link-editor-tab-label first-button fa fa-lg fa-link${e===Tt.URL?" checked ":""}"></label>\n          <label for="link-editor-internal" title="Link to a page" class="link-editor-tab-label last-button fa fa-lg fa-file${e===Tt.PAGE?" checked ":""}"></label>\n          <div class="space"></div>\n        </div>\n        <div class="link-editor-body">\n        <input autocomplete="nope" id="link-editor-external" class="link-editor-radio" type="radio" name="link-editor-tab-group"${e===Tt.URL?" checked ":""}/>\n        <div class="link-editor-tab link-editor-tab-external">\n          <div class="link-editor-tab-container">\n            <label for="link-editor-href">External link</label>\n            <div class="flex">\n              <input autocomplete="nope" spellcheck="false" id="link-editor-href" class="big alertify-text href tabbed" type="url" value="${e===Tt.URL?t.href:""}">\n              <select autocomplete="nope" id="link-editor-target" class="alertify-text target">\n                <option${""===t.target?" selected ":""} value=""></option>\n                <option${"_self"===t.target?" selected ":""} value="_self">_self</option>\n                <option${"_blank"===t.target?" selected ":""} value="_blank">_blank</option>\n                <option${"_parent"===t.target?" selected ":""} value="_parent">_parent</option>\n                <option${"_top"===t.target?" selected ":""} value="_top">_top</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <input autocomplete="nope" id="link-editor-internal" class="link-editor-radio" type="radio" name="link-editor-tab-group"${e===Tt.PAGE?" checked ":""}/>\n        <div class="link-editor-tab link-editor-tab-internal">\n          <div class="link-editor-tab-container">\n            <label for="link-editor-page">Page</label>\n            <select autocomplete="nope" class="tabbed alertify-text page big" id="link-editor-page">\n              <option value=""${e===Tt.URL?" selected ":""}></option>\n              ${Yi().map((n=>`<option value="${jt.PAGE_NAME_PREFIX+n.id}"${e===Tt.PAGE&&jt.PAGE_NAME_PREFIX+n.id===t.href?" selected ":""} >\n                ${n.displayName}\n              </option>`))}\n            </select>\n          </div>\n        </div>\n        <div class="link-editor-tab-container">\n          <div class="link-editor-2col">\n            <label for="link-editor-title">Title</label>\n            <input autocomplete="nope" id="link-editor-title" class="alertify-text title big" type="text" value="${t.title}">\n          </div>\n        </div>\n        <hr>\n        <div class="link-editor-advanced-container">\n          <input autocomplete="nope" id="link-editor-show-advanced" type="checkbox">\n          <label for="link-editor-show-advanced">Advanced params</label>\n          <div class="link-editor-advanced">\n            <label for="link-editor-rel">The "rel" attribute. Describes the relationship between the current document and the destination.</label>\n            <input autocomplete="nope" id="link-editor-rel" class="alertify-text rel" type="text" value="${t.rel}">\n            <label for="link-editor-type">The "type" attribute. Specifies the MIME type of the linked resource.</label>\n            <input autocomplete="nope" id="link-editor-type" class="alertify-text type" type="text" value="${t.type}">\n            <label for="link-editor-download">The "download" attribute. Indicates that the link is to be used for downloading a resource (such as a file). The author can specify a default file name by providing a value.</label>\n            <input autocomplete="nope" id="link-editor-download" class="alertify-text download" type="text" value="${t.download}">\n          </div>\n        </div>\n        </div>\n      </section>\n    `}}const no=100;async function io({type:e,parent:t,isSectionContent:n,componentName:i}){const[o]=Ln([oo({id:ao(),type:e,isSectionContent:n,isBody:!1})]),r={...t,children:t.children.concat(o.id)};return i?[{...await Oi(o,i),selected:!0},r]:[{...o,selected:!0},r]}function oo({id:e,type:t,isSectionContent:n,isBody:i}){return{id:e,tagName:t===wt.SECTION?"SECTION":"DIV",type:t,alt:null,title:null,isSectionContent:n,visibility:{desktop:!0,mobile:!0},style:{desktop:JSON.parse(JSON.stringify({width:no+"px",height:no+"px","background-color":t===wt.HTML||t===wt.CONTAINER?"rgb(255, 255, 255)":void 0,...ro({type:t,isSectionContent:n,isBody:i})})),mobile:{}},data:{component:null},children:[],pageNames:[],classList:[],attr:{},link:null,enableEdit:t!==wt.SECTION&&t!==wt.CONTAINER,enableDrag:!n,enableDrop:t===wt.SECTION||t===wt.CONTAINER,enableResize:t===wt.SECTION?{top:!1,bottom:!1,left:!1,right:!1}:{top:!0,bottom:!0,left:!0,right:!0},selected:!1,useMinHeight:t!==wt.IMAGE,innerHtml:t===wt.TEXT?"New text box":t===wt.HTML?"<p>New <strong>HTML</strong> box</p>":""}}function ro({type:e,isSectionContent:t,isBody:n}){return Object.assign({position:"absolute"},e===wt.SECTION?{position:"static",top:void 0,left:void 0,height:void 0,width:void 0}:t?{position:"relative",top:void 0,left:void 0,width:void 0,"margin-left":"auto","margin-right":"auto"}:n?{position:"static"}:{})}let so=0;function ao(){return"silex-id-"+function(){let e;do{e=Date.now().toString()+"-"+so++}while(ei(e));return e}()}function lo(e,t,n){return n?void 0!==e.style.mobile[t]?e.style.mobile[t]:"left"!==t&&"top"!==t||e.style.mobile.display&&"static"!==e.style.mobile.display?e.style.desktop[t]:void 0:e.style.desktop[t]}function co(e,t){return e.isSectionContent&&!t?{top:null,left:null,width:fi().width+"px",height:lo(e,"height",t)}:{top:lo(e,"top",t),left:lo(e,"left",t),width:lo(e,"width",t),height:lo(e,"height",t)}}function uo(e){return e.reduce(((e,t)=>{const n={top:parseInt(t.top||"0"),left:parseInt(t.left||"0"),width:parseInt(t.width||"0"),height:parseInt(t.height||"0"),bottom:parseInt(t.top||"0")+parseInt(t.height||"0"),right:parseInt(t.left||"0")+parseInt(t.width||"0")},i={top:Math.min(e.top,n.top),left:Math.min(e.left,n.left),bottom:Math.max(e.bottom,n.bottom),right:Math.max(e.right,n.right)};return{...i,width:i.right-i.left,height:i.bottom-i.top}}),{top:1/0,left:1/0,bottom:-1/0,right:-1/0,width:-1/0,height:-1/0})}function ho(e,t){if(e)return ai();const n=t.contentDocument,i=t.getBoundingClientRect(),o=Math.round(i.width/2),r=Math.round(i.height/2);return n.elementsFromPoint(o,r).map((e=>Bn().find((t=>Fn(n,t)===e)))).filter((e=>!!e&&e.enableDrop)).shift()}function po({stageSize:e,parentSize:t,elementSize:n,offset:i=0}){const o=Math.round(e.height/2-n.height/2-t.top)+i,r=Math.round(e.width/2-n.width/2-t.left)+i;return{top:Math.max(0,Math.min(o,t.height-n.height)),left:Math.max(0,Math.min(r,t.width-n.width))}}function fo(e){if(Ai(e))return`${e.data.component.templateName}`;if(e.isSectionContent)return"Section Container";switch(e.type){case wt.TEXT:return"Text";case wt.IMAGE:return"Image";case wt.CONTAINER:return"Container";case wt.HTML:return"Html";case wt.SECTION:return"Section"}}function mo(){const e=Bn().map((e=>({desktop:Object.keys(e.style.desktop).length?e.style.desktop:null,mobile:Object.keys(e.style.mobile).length?e.style.mobile:null,useMinHeight:e.useMinHeight,id:e.id}))).reduce(((e,{mobile:t,desktop:n,useMinHeight:i,id:o})=>({desktop:e.desktop+(n?`\n.${o} {\n${Un(n,i,"\n    ")}\n}\n`:""),mobile:e.mobile+(t?`\n.${o} {\n${Un(t,i,"\n    ")}\n}\n`:"")})),{desktop:"",mobile:""});return`${e.desktop}\n\n${Jn(e.mobile)}\n`}function go(e,t){return!ri(e).concat(e).find((e=>e.pageNames.length>0&&!e.pageNames.includes(t)))}function bo(e,t,n){e.preventDefault(),Qi({data:t,cbk:n})}function yo(e,t){e.preventDefault(),Vt.getInstance().openFile().then((e=>{e&&t([e])})).catch((e=>{me.notifyError("Error: I could not select the file. <br /><br />"+(e.message||""))}))}function vo(e){const t=e.parentElement.childNodes.length;for(let n=0;n<t;n++)if(e.parentElement.childNodes[n]===e)return n;return-1}const Eo=(e=Bn(),t=Tn.dispatch)=>{So([ai(e)],e,t)},So=(e,t=Bn(),n=Tn.dispatch)=>{Rn(t.filter((t=>t.selected!==e.map((e=>e.id)).includes(t.id))).map((e=>({...e,selected:!e.selected}))),n)},wo=(e,t,n=Bn(),i=Tn.dispatch,o=!1)=>{const{currentPageId:r}=an(),s=(e,t)=>t.findIndex((t=>t===e.id)),a=(e,i)=>{let o=s(e,i.children),a=null;do{o=t===Ct.UP?o-1:t===Ct.DOWN?o+1:t===Ct.TOP?0:i.children.length-1,a=ei(i.children[o],n)}while(a&&a.pageNames.length&&!a.pageNames.includes(r));return o},l=e.map((e=>({el:e,parent:oi(e,n)}))).filter((({el:e,parent:t})=>(t||console.warn("No parent, are you trying to move the root element?",{el:e,parent:t}),!!e&&!!t))).map((({el:e,parent:t})=>({el:e,parent:t,idx:a(e,t)}))).sort(((e,n)=>(n.idx-e.idx)*(t===Ct.UP||t===Ct.TOP?-1:1))).reduce(((e,{el:t,parent:n,idx:i})=>{const o=e.has(n)?e.get(n):{children:n.children,parent:n,beforeMe:0,errored:!1},r=s(t,o.children),a=i;return e.set(n,{parent:o.parent,children:a!==r?Hn(o.children.filter(((e,t)=>t!==r)),a,t.id):o.children,errored:o.errored||a<0||a>=o.parent.children.length,beforeMe:o.beforeMe+1}),e}),new Map),c=Array.from(l.values()).filter((e=>!e.errored&&JSON.stringify(e.children)!==JSON.stringify(e.parent.children))).map((e=>({...e.parent,children:e.children})));c.length&&Rn(c,i)},xo=(e,t,n=Bn(),i=Tn.dispatch)=>{Rn([{...e,visibility:{...e.visibility,desktop:t}}],i)},Co=(e,t,n,i=an().mobileEditor,o=Tn.dispatch)=>{const r={};r[e]=t,To(r,n,i,o)},To=(e,t,n=an().mobileEditor,i=Tn.dispatch)=>{Rn(t.map((t=>({...t,style:qn(n,t.style,e)}))),i)};function ko(e,t=Bn(),n=Tn.dispatch){Rn(ci(t).map((t=>({...t,attr:e}))),n)}function Io(e,t=Bn(),n=Tn.dispatch){Rn(ci(t).map((t=>({...t,classList:[...new Set(e.split(" ").filter((e=>""!==e)))]}))),n)}async function Ao({type:e,parent:t,style:n,componentName:i},o=Tn.dispatch){const[r,s]=await io({type:e,parent:t,componentName:i,isSectionContent:!1}),{currentPageId:a}=an(),l={...r,pageNames:t.pageNames.length||di(t)?[]:[a]},c=await(async()=>{if(e===wt.SECTION){if(!si(t))throw new Error("Sections can only be added to the body");const[e,n]=await io({type:wt.CONTAINER,parent:l,componentName:null,isSectionContent:!0}),i={...e,classList:e.classList.concat([jt.ELEMENT_CONTENT_CLASS_NAME,jt.WEBSITE_WIDTH_CLASS_NAME,jt.PREVENT_DRAGGABLE_CLASS_NAME])};return Pn([n,i],o),ei(n.id,Bn())}return Pn([l],o),ei(l.id,Bn())})();return Rn(ci(Bn()).filter((e=>e!==t&&e!==c)).map((e=>({...e,selected:!1}))).concat([{...c,selected:!0,style:{mobile:{...c.style.mobile,...n.mobile},desktop:{...c.style.desktop,...n.desktop}}},{...s,selected:!1}]),o),[ei(l.id,Bn()),ei(s.id,Bn())]}function _o(e=ci()){const t=ai(),n=e.filter((e=>e!==t));n.length<=0?me.alert("Delete elements","Error: Please select an element to delete.",(()=>{})):me.confirm("Delete elements",`I am about to <strong>delete ${n.length} element(s)</strong>, are you sure?`,(e=>{e&&(Oo(n),Eo())}),"delete","cancel")}function Oo(e,t=Bn(),n=Tn.dispatch){const i=e.map((e=>li(e,t))),o=i.concat(i.reduce(((e,n)=>e.concat(ii(n,t))),[]));Rn(t.filter((e=>!o.includes(e))).filter((e=>e.children.some((e=>!!o.find((t=>t.id===e)))))).map((e=>({...e,children:e.children.filter((e=>!o.find((t=>t.id===e))))}))),n),Mn(o,n)}function Lo(e,t,n=Bn(),i=Tn.dispatch){Rn(e.map((e=>li(e,n))).map((e=>({...e,pageNames:e.pageNames.concat([t.id])}))),i)}function No(e,t,n=Bn(),i=Tn.dispatch){Rn(e.map((e=>li(e))).map((e=>({...e,pageNames:e.pageNames.filter((e=>e!==t.id))}))),i)}function Do(e,t=Tn.dispatch){Rn(e.map((e=>({...e,pageNames:[]}))),t)}function Po(e,t,n=Tn.dispatch){Rn(e.map((e=>({...e,link:t}))),n)}function Mo(e,t=Tn.dispatch){Rn(e.map((e=>({...e,link:null}))),t)}function Ro(e,t=ui()){const n=an().mobileEditor?"mobile":"desktop";wo(t.filter((e=>"static"===e.style[n].position)),e),wo(t.filter((e=>"static"!==e.style[n].position)),function(e){switch(e){case Ct.UP:return Ct.DOWN;case Ct.DOWN:return Ct.UP;case Ct.TOP:return Ct.BOTTOM;case Ct.BOTTOM:return Ct.TOP}}(e))}function Bo(e){if(e.inc||e.dec){const t=parseInt(e.value),n=e.multiply?10:e.divide?1:5;return t+(e.inc?n:-n)+"px"}return e.value}function Wo(e,{altKey:t,ctrlKey:n,shiftKey:i}){if(t)return;const o=an().mobileEditor?"mobile":"desktop";Rn(ui().filter((e=>"static"!==e.style[o].position)).map((t=>({...t,style:{...t.style,[o]:{...t.style[o],top:Bo({value:t.style[o].top,inc:e===xt.DOWN,dec:e===xt.UP,multiply:n,divide:i}),left:Bo({value:t.style[o].left,inc:e===xt.RIGHT,dec:e===xt.LEFT,multiply:n,divide:i})}}})))),Ro(function(e){switch(e){case xt.UP:return Ct.UP;case xt.DOWN:return Ct.DOWN;case xt.LEFT:return Ct.TOP;case xt.RIGHT:return Ct.BOTTOM}}(e),ui().filter((e=>"static"===e.style[o].position)))}function Ho(){Ro(Ct.UP)}function jo(){Ro(Ct.DOWN)}function zo(){Ro(Ct.TOP)}function qo(){Ro(Ct.BOTTOM)}function Uo(e,t){Rn([{...e,innerHtml:`<img src="${t}" />`}]);const n=Fn(Yo(),e).querySelector("img");n.addEventListener("load",(()=>{const t=ei(e.id);Rn([{...t,style:{...t.style,desktop:{...t.style.desktop,width:n.naturalWidth+"px",height:n.naturalHeight+"px"}}}])}))}let $o;function Fo(){$o=$o||new Ko}function Go(e,t,n){return Fo(),$o.setHtml(e,t,n)}function Vo(){return Fo(),$o.getSiteWindow()}function Yo(){return Fo(),$o.getSiteDocument()}function Xo(){return Fo(),$o.iframe}class Ko{constructor(){this.iframe=document.createElement("iframe"),this.iframe.id="silex-stage-iframe",this.iframe.className="silex-stage-iframe notranslate",this.iframe.src="about:blank",document.querySelector(".silex-stage").appendChild(this.iframe);const e=this.getSiteDocument();e.open(),e.write(""),e.close()}getSiteWindow(){return this.iframe.contentWindow}getSiteDocument(){return this.iframe.contentDocument}setHtml(e,t,n){const i=Yo();ma&&ma.cleanup(),i.open(),i.write(""),i.close(),i.open(),i.write(e),i.close(),this.contentChanged(t)}contentChanged(e){const t=Yo(),n=Vo();var i;null!==t.body&&null!==n&&null!==n.jQuery?(e&&e(),Ti(),i=this.iframe,ma||(ma=new ba),ma.init(i),Eo()):setTimeout((()=>{this.contentChanged(e)}))}getHtml(){const e=this.getHtmlGenerator();let t=null;do{t=e.next()}while(!t.done);return t.value}getHtmlAsync(e){const t=this.getHtmlGenerator();this.getHtmlNextStep(e,t)}getHtmlNextStep(e,t){const n=t.next();n.done?setTimeout((()=>e(n.value)),0):setTimeout((()=>this.getHtmlNextStep(e,t)),0)}*getHtmlGenerator(){const e=mo();yield;const t=Yo().cloneNode(!0);var n;yield,t.querySelector("."+jt.INLINE_STYLE_TAG_CLASS_NAME).innerHTML=e,yield,n=t,Array.from(n.querySelectorAll(".wysihtml-editor")).forEach((e=>{e.classList.remove("wysihtml-sandbox"),e.removeAttribute("contenteditable")})),yield;let i=t.documentElement.outerHTML;return yield,i="<!DOCTYPE html>"+i,i}}function Zo(){const e=Qo(ci().map((e=>li(e))));sn({...an(),clipboard:e})}function Jo(){const e=ci().map((e=>li(e)));if(e.length){const t=[],n=[];e.forEach((e=>{const i=er(e);t.push(...i),n.push(...i.filter((e=>e.selected)))})),or({parent:oi(e[0]),rootElements:n,allElements:t})}}function Qo(e,t=Bn()){const n=ai(t),i=jn(e.filter((e=>e!==n)).map((e=>li(e,t))).filter((n=>!e.includes(oi(n,t))&&1===e.filter((e=>e===n)).length)).map((e=>er(e,null,t))));return[i,i.filter((e=>e.selected))]}function er(e,t=null,n=Bn()){return tr(e,t,n).map((e=>{const t=e;return delete t.parentId,t}))}function tr(e,t,n){if(e){const i=ao(),o=jn(e.children.map((e=>tr(ei(e,n),i,n)))),r=o.filter((e=>e.parentId===i));return[{...Nn([e])[0],id:i,parentId:t,selected:null===t,children:r.map((e=>e.id))}].concat(o)}throw new Error("Element could not be cloned because it could not be found")}function nr(){return!!an().clipboard}function ir(){const[e,t]=an().clipboard,n=ho(!1,Xo()),{currentPageId:i}=an();or({parent:n,rootElements:t,allElements:e,pageNames:!n||di(n)?[]:[i]});const o=Qo(t);sn({...an(),clipboard:o})}function or({parent:e,rootElements:t,allElements:n,pageNames:i=null},o=Bn(),r=Tn.dispatch){if(n.length>0){const s=o.filter((e=>e.selected)).map((e=>({...e,selected:!1}))),a=Xo().getBoundingClientRect(),l=Fn(Yo(),e).getBoundingClientRect();let c=0;Pn(Ln(n.map((e=>{const n=t.includes(e),{left:o,top:r}=po({stageSize:a,parentSize:l,elementSize:{width:parseInt(e.style.desktop.width),height:parseInt(e.style.desktop.height)},offset:c});return n&&(c+=20),{...e,pageNames:i||e.pageNames,style:{...e.style,desktop:n&&"static"!==e.style.desktop.position?{...e.style.desktop,top:r+"px",left:o+"px"}:e.style.desktop}}}))),r);const u=ai(o),d=t.filter((e=>e.type!==wt.SECTION)).map((e=>e.id)),h=t.filter((e=>e.type===wt.SECTION)).map((e=>e.id));Rn((d.length?[{...e,children:e.children.concat(d)}]:[]).concat(h.length?{...u,children:u.children.concat(h)}:[]).concat(s.length?s:[]),r),console.info("could be dragged")}}const rr=(e,t=Yi())=>t.find((t=>t.id===e)),sr=(e=an(),t=Yi())=>rr(e.currentPageId,t);class ar{constructor(e,t){this.element=e,this.lockOnChange=!1;const n=window.monaco;if(n){this.editor=n.editor.create(e.querySelector(".ace-editor"),{value:"",language:t,theme:"vs-dark"}),this.editor.onDidChangeModelContent((e=>{this.lockOnChange||this.contentChanged()}));const i=e.querySelector(".dock-btn");i&&i.addEventListener("click",(()=>{ar.isDocked=!ar.isDocked,this.dockPanel(ar.isDocked),this.setOptions(),this.editor.render(),this.editor.layout(),this.editor.focus()}),!1),this.modalDialog=new $t({name:`${t} Editor`,element:e,onOpen:e=>{this.setOptions(),this.editor.render(),this.editor.layout(),this.editor.focus()},onClose:()=>{}})}else me.alert("Error","The monaco editor did not load. This is required by Silex, please try reloading the page or build Silex again.",(()=>{}))}dockPanel(e){const{cssEditor:t,jsEditor:n,htmlEditor:i}=Ft(),o=va();e?(document.body.classList.add("dock-editors"),o.addRight(t),o.addRight(n),o.addRight(i)):(document.body.classList.remove("dock-editors"),o.remove(t),o.remove(n),o.remove(i))}setOptions(){this.editor.updateOptions({lineNumbers:ar.isDocked?"off":"on",minimap:{enabled:!ar.isDocked}})}open(){this.modalDialog.open()}close(){this.modalDialog.close()}setReadOnly(e){this.editor.updateOptions({readOnly:e})}getValue(){return this.editor.getValue()}setValue(e){this.setReadOnly(!1),e!==this.getValue()&&(this.lockOnChange=!0,this.editor.setValue(e),this.lockOnChange=!1)}setError(e){this.setReadOnly(!0),this.lockOnChange=!0,this.editor.setValue(e),this.lockOnChange=!1}contentChanged(){throw new Error("to be overridden in sub classes")}}let lr;function cr(){return lr.open()}class ur extends ar{constructor(e){super(e,"html"),mi((()=>{this.redraw()})),Wn(((e,t)=>{this.redraw()}))}forSelection({htmlBox:e,body:t,error:n}){const i=ci();if(1===i.length){const o=Fn(Yo(),i[0]);i[0].type===wt.HTML?e(i[0]):o&&"body"===o.tagName.toLowerCase()?t():n()}else n()}redraw(){const e=fi().headUser;this.forSelection({htmlBox:e=>this.setValue(e.innerHtml),body:()=>this.setValue(e),error:()=>this.setError("-select an HTML box-")})}contentChanged(){this.forSelection({htmlBox:e=>Rn([{...e,innerHtml:this.getValue()}]),body:()=>pi({...fi(),headUser:this.getValue()}),error:()=>{}})}}class dr{constructor(e){this.nextId=0,this.shortcuts=new Map,this.attach(e)}static isInput(e){return!e.tagName||"INPUT"===e.tagName.toUpperCase()||"TEXTAREA"===e.tagName.toUpperCase()||"true"===e.getAttribute("contenteditable")}attach(e){const t=e=>this.handleKeyDown(e);return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}addShortcut(e,t){const n=e.key.toLowerCase();if(!t||!n)throw new Error("Can not add shortcut, callback and key are required");this.shortcuts.has(n)||this.shortcuts.set(n,[]);const i=this.nextId++;return this.shortcuts.get(n).push({s:e,cbk:t,id:i}),()=>{const e=this.shortcuts.get(n),t=e.findIndex((e=>e.id===i));t>=0&&e.splice(t,1)}}handleKeyDown(e){if(!e.defaultPrevented)if(me.isActive)"Enter"===e.key&&me.close(!0,e),"Escape"===e.key&&me.close(!1,e);else{const t=this.getShortcutsFromEvent(e);t.length>0&&(t.forEach((t=>{e.defaultPrevented||t.cbk(e)})),e.preventDefault())}}getShortcutsFromEvent(e){const t=e.key.toLowerCase();if(!this.shortcuts.has(t))return[];const n=e.ctrlKey||e.metaKey;return this.shortcuts.get(t).filter((t=>(!1===t.s.modifiers||(t.s.shiftKey||!1)===e.shiftKey&&(t.s.altKey||!1)===e.altKey&&(t.s.ctrlKey||!1)===n)&&(!1!==t.s.input||!dr.isInput(e.target))))}}const hr=(e,t=an(),n=Tn.dispatch)=>sn({...t,currentPageId:e.id},n),pr=(e,t=an(),n=Tn.dispatch)=>sn({...t,dialogs:t.dialogs.concat(e)},n),fr=(e,t=an(),n=Tn.dispatch)=>sn({...t,dialogs:t.dialogs.filter((t=>t.id!==e.id||t.type!==e.type))},n),mr=(e,t=an(),n=Tn.dispatch)=>sn({...t,dialogs:t.dialogs.map((t=>t.type===e.type&&t.visible!==(t.id===e.id)?{...t,visible:t.id===e.id}:t))},n);function gr(){return Er(null).then((({id:e,displayName:t})=>{const n=Yi().find((t=>t.id===e));n?(hr(n),me.notifyError("Page not created: page already exists")):$i(zi([{id:e,displayName:t,link:{linkType:Tt.PAGE,href:jt.PAGE_NAME_PREFIX+e},canDelete:!0,canRename:!0,canMove:!0,canProperties:!0}]))})).catch((e=>{}))}function br(e=sr()){Er(e).then((({id:t,displayName:n})=>{e.canRename?Gi([{...e,id:t,displayName:n,link:{linkType:Tt.PAGE,href:jt.PAGE_NAME_PREFIX+t}}]):me.alert("Error","I can not rename this page because <strong>it is a protected page</strong>.",(()=>{}))})).catch((e=>{}))}function yr(e=sr()){me.confirm("Delete page",`I am about to <strong>delete the page "${e.displayName}"</strong>, are you sure?`,(t=>{var n;t&&(n=e,Yi().length<2?me.alert("Error","I can not delete this page because <strong>it is the only page</strong>.",(()=>{})):n.canDelete?Fi([n]):me.alert("Error","I can not delete this page because <strong>it is a protected page</strong>.",(()=>{})))}),"delete","cancel")}function vr(e,t){Vi({page:e,idx:t})}function Er(e=null){return new Promise(((t,n)=>{const i=document.createElement("div");i.innerHTML=`\n      Page Name\n      <input\n        autofocus\n        id="page-property-name"\n        class="block-dialog"\n        placeholder="Your page name here"\n        value="${e?e.displayName:""}"\n        ${!e||e.canRename?"":"disabled"}\n        />\n    `;const o=i.querySelector("#page-property-name");me.confirm(e?"Page Properties":"New page","",(e=>{const i=o.value;if(e&&i&&i.length>0){const e=jt.PAGE_ID_PREFIX+i.replace(/\W+/g,"-").toLowerCase();t({id:e,displayName:i})}else n("Canceled")})),me.setContent(i)}))}let Sr;class wr extends ar{constructor(e){super(e,"css"),mi(((e,t)=>{t.headStyle!==this.getValue()&&this.setValue(t.headStyle)}))}contentChanged(){pi({...fi(),headStyle:this.getValue()})}}class xr{static getInstance(){return xr.instance=xr.instance||new xr,xr.instance}publish(e,t,n){this.callServer("/tasks/publish",JSON.stringify(e),"POST",(e=>t(e)),n)}publishState(e,t){this.callServer("/tasks/publishState","","GET",e,t)}hosting(e,t){this.callServer("/hosting/","","GET",e,t)}authorize(e,t,n){this.callServer(e.authorizeUrl,"","POST",t,n)}vhosts(e,t,n){this.callServer(e.vhostsUrl,"","GET",t,n)}domain(e,t,n){this.callServer(e.domainUrl,"","GET",t,n)}updateDomain(e,t,n,i){this.callServer(e.domainUrl,JSON.stringify({domain:t}),"POST",n,i)}removeDomain(e,t,n,i){this.callServer(e.domainUrl,JSON.stringify({domain:t}),"DELETE",n,i)}callServer(e,t,n,i,o){const r=new XMLHttpRequest;r.addEventListener("load",(e=>{let t=r.responseText,n=null;try{n=JSON.parse(r.responseText),t=n.message}catch(e){}200===r.status?i(n||r.responseText):(console.error("Error while trying to connect with back end",t),o&&o(n?n.message:t))})),r.addEventListener("error",(e=>{console.error("could not load website",e),o&&o("Network error, please check your internet connection or try again later.")})),r.open(n,e),r.setRequestHeader("Content-Type","application/json"),r.send(t)}}function Cr(){const e=window.localStorage.getItem("silex:recent-files");return e?JSON.parse(e):[]}function Tr(e){const t=[e,...Cr().filter(((t,n)=>t.absPath!==e.absPath&&n<5))];window.localStorage.setItem("silex:recent-files",JSON.stringify(t))}const kr=xr.getInstance();function Ir(e){sn({...an(),loading:e?he.SILEX:he.NONE})}function Ar(){Ir(!1),me.close()}function _r(e,t,n){return new Promise(((i,o)=>{e||0===t.providers.length?i({file:null,publicationPath:null,provider:null}):!0===t.skipHostingSelection?i(Or(t.providers[0])):i(function(e,t){return new Promise(((n,i)=>{me.prompt("Publication","unused","unused","unused",(t=>{if(t){const t=r.selectedIndex,i=e[t];n(Or(i))}else n(null)}),"next","cancel");const o=document.createElement("div");o.insertAdjacentHTML("afterbegin",`\n      <p>Choose the hosting provider you love!\n      (<a href="https://github.com/silexlabs/Silex/wiki/Publishing-and-Releasing-Your-Website#hosting-providers" target="_blank" title="About hosting providers" class="help-btn">\n          <span class="label">more info here</span>\n      </a>)</p>\n      <br />\n      <select class="providers">\n        ${e.map((e=>`<option value="${e.name}">${e.displayName}</option>`))}\n      </select>\n      <br />\n    `),me.setContent(o);const r=o.querySelector(".providers");t&&(r.value=t)}))}(t.providers,n))}))}function Or(e){return new Promise(((t,n)=>{pi({...fi(),hostingProvider:e.name}),e.skipFolderSelection?t(Lr(e)):Vt.getInstance().openFolder().then((n=>{pi({...fi(),publicationPath:n}),t(Lr(e))}))}))}function Lr(e){return new Promise(((t,n)=>{e.isLoggedIn?t(Nr(e)):(Ir(!0),kr.authorize(e,(n=>{Ir(!1),me.confirm("Publication",`\n          Please&nbsp;<a href="${n}" target="_blank">click here and login to ${e.displayName}.</a>, then click "next".\n        `,(()=>{t(Nr(e))}),"next","cancel")}),(e=>n(e))))}))}function Nr(e){return new Promise(((t,n)=>{e.vhostsUrl?(Ir(!0),kr.vhosts(e,(n=>{if(Ir(!1),0===n.length)me.alert("Publication",`Please click here to\n            <a href="${e.dashboardUrl}" target="_blank">\n              ${e.pleaseCreateAVhost}\n            </a>\n          `,(()=>{t(Nr(e))}),"Check again");else if(!0===e.skipVhostSelection)t(Dr(e,n[0]));else{me.prompt("Publication","unused","unused","unused",(i=>{if(i){const i=o.selectedIndex,r=n[i];t(Dr(e,r))}}),"next","cancel");const i=document.createElement("div");i.insertAdjacentHTML("afterbegin",`\n              <p>Choose the website you are working on</p>\n              <select class="vhosts">\n                ${n.map((e=>`<option value="${e.name}">${e.name}</option>`))}\n              </select>\n              <br />\n            `),me.setContent(i);const o=i.querySelector(".vhosts"),r=fi().publicationPath;r&&(o.value=r.folder)}}),(e=>n(e)))):t({file:fi().file,publicationPath:fi().publicationPath,provider:e})}))}function Dr(e,t){return new Promise(((n,i)=>{pi({...fi(),websiteUrl:t.url}),!0===t.skipDomainSelection?n({file:fi().file,publicationPath:t.publicationPath,provider:e}):(Ir(!0),kr.domain(t,(o=>{const r=o.domain;o.url&&pi({...fi(),websiteUrl:o.url}),Ir(!1);const s=r||"";me.prompt("Publication","\n          <h3>Optional: provide your domain name<h3>\n          <p>Choose the domain you want associated with this website. Leave blank and you will be provided with a generic domain.</p>\n        "+(e.buyDomainUrl?`\n          <p>You can also <a target="_blank" href="${e.buyDomainUrl}">buy a domain name here.</a></p>\n        `:""),s,"[Optional] your-domain.com",((o,r)=>{const a=i=>{i.url&&pi({...fi(),websiteUrl:i.url}),Ir(!1),me.notifySuccess("Domain updated"),n({file:fi().file,publicationPath:t.publicationPath,provider:e})};o?r!==s?(Ir(!0),""!==r?kr.updateDomain(t,r,(e=>a(e)),(e=>i(e))):kr.removeDomain(t,r,(e=>a(e)),(e=>i(e)))):n({file:fi().file,publicationPath:t.publicationPath,provider:e}):n(null)}),"next","cancel")}),(e=>i(e))))}))}let Pr;class Mr extends ar{constructor(e){super(e,"javascript"),mi(((e,t)=>{t.headScript!==this.getValue()&&this.setValue(t.headScript)}))}contentChanged(){pi({...fi(),headScript:this.getValue()})}}function Rr({site:e,pages:t,elements:n},i=Tn.dispatch){hi(e,i),Ui(t,i),Dn(n,i)}const Br="silex-caping",Wr=function(){try{const e=window.localStorage.getItem(Br),t=e?parseInt(e,10)+1:1;return window.localStorage.setItem(Br,t.toString()),t}catch(e){return-1}}();function Hr(){return Wr}function jr(e,t,n,i){try{!window.localStorage.getItem(n)&&Wr>e&&setTimeout((()=>{window.localStorage.getItem(n)||(window.localStorage.setItem(n,"done"),console.log("done"),i())}),1e3*t)}catch(e){}}class zr{constructor(e){this.element=e,this.init()}init(){this.element.classList.add("tip-of-the-day"),this.element.classList.add("loading");const e=Hr(),t=new XMLHttpRequest;t.open("GET","https://api.github.com/repos/silexlabs/Silex/issues?labels=tip-of-the-day"),t.send(),t.addEventListener("error",(e=>{(this.element.querySelector(".container")||this.element).innerHTML="It looks like you are offline. I could not load data from github issues",this.element.classList.remove("loading")})),t.addEventListener("load",(n=>{const i=JSON.parse(t.responseText),o=i[i.length-e%i.length-1];if(o){const e=document.createElement("div");e.innerHTML=o.body;const t=e.querySelector("a"),n=document.createElement("a");n.target="_blank",n.title=o.title,n.innerHTML="<h3>"+o.title+"</h3><p>"+this.strip(o.body)+"</p>",null!=t&&(n.href=t.href),(this.element.querySelector(".container")||this.element).appendChild(n)}this.element.classList.remove("loading")}))}strip(e){const t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}}let qr,Ur;class $r{constructor(e){if(this.element=e,this.readyCbk=null,this.errorCbk=null,this.selected=null,this.state="",this.modalDialog=new $t({name:"Dashboard",element:e,onOpen:e=>this.redraw(),onClose:()=>{}}),de.singleSiteMode)return;const t=(e,t,n,i,o)=>{const r=`/get/${n}`,s=new XMLHttpRequest;s.addEventListener("error",(t=>{e.innerHTML="It looks like you are offline. I could not load data from github issues",i()})),s.addEventListener("load",(o=>{const r=JSON.parse(s.responseText);this.renderTemplateList(e,t,n,r),i()})),s.open("GET",r),s.send()};this.element.querySelector(".body").onclick=e=>{const t=e.target,n=t.getAttribute("data-editable")||t.parentElement.getAttribute("data-editable"),i=t.getAttribute("data-file-info")||t.parentElement.getAttribute("data-file-info");if(n||i)return this.selected={fileInfo:JSON.parse(i),url:n},this.modalDialog.close(),e.preventDefault(),!1};const n=e=>{if(e.length>0){const i=e.pop(),o=this.element.querySelector(i.selector);o?t(o,i.className,i.repo,(()=>n(e))):n(e)}else this.state="ready",this.readyCbk&&this.readyCbk(),this.readyCbk=null,this.errorCbk=null};n([{selector:".general-pane ul",repo:"silex-templates",className:"silex-templates"},{selector:".general-pane ul",repo:"silex-blank-templates",className:"silex-blank-templates"}]),this.element.querySelector(".clear-btn").onclick=e=>{window.localStorage.removeItem("silex:recent-files"),this.redraw()},this.element.querySelector(".more-btn").onclick=e=>{this.modalDialog.close(),ys(null,null,(()=>this.modalDialog.open()))};const i=this.element.querySelector(".tip-of-the-day");i&&new zr(i)}openDialog(e){de.singleSiteMode?e.ready&&e.ready():("ready"===this.state?e.ready&&e.ready():"error"===this.state?e.error&&e.error():(this.readyCbk=e.ready,this.errorCbk=e.error),this.selected=null,this.modalDialog.onClose=()=>{this.selected?this.selected.fileInfo?e.openFileInfo(this.selected.fileInfo):e.openTemplate(this.selected.url):e.openTemplate(null)},this.modalDialog.open())}renderTemplateList(e,t,n,i){Array.isArray(i)&&i.map((e=>{const i=document.createElement("li");i.classList.add("rendered-item",t);const o=document.createElement("div"),r=`/libs/templates/${n}/${e}`;o.classList.add("thumbnail"),o.style.backgroundImage=`url(${r}/screenshot.png)`,o.setAttribute("data-editable",`${r}/editable.html`),o.setAttribute("data-is-template","true"),i.appendChild(o);const s=document.createElement("div");s.classList.add("ui"),i.appendChild(s);const a=document.createElement("h3");a.innerHTML=e,a.setAttribute("data-editable",`${r}/editable.html`),a.setAttribute("data-is-template","true"),s.appendChild(a);const l=document.createElement("a");l.classList.add("fa","fa-external-link"),l.innerHTML="Preview",l.setAttribute("data-action","preview"),l.target="_blank",l.href=`${r}/index.html`,s.appendChild(l);const c=document.createElement("a");c.classList.add("fa","fa-info"),c.innerHTML="Info",c.target="_blank",c.href=`https://github.com/silexlabs/${n}/blob/gh-pages/${e}/README.md`,c.setAttribute("data-action","info"),s.appendChild(c);const u=document.createElement("a");return u.classList.add("fa","fa-pencil"),u.innerHTML="Select",u.setAttribute("data-editable",`/libs/templates/${n}/${e}/editable.html`),u.setAttribute("data-is-template","true"),s.appendChild(u),i})).forEach((t=>e.appendChild(t)))}redraw(){const e=Cr(),t=this.element.querySelector(".open-pane");e.length>0?t.classList.remove("emty-list"):t.classList.add("emty-list");const n=t.querySelector("ul.list");n.innerHTML="",e.map((e=>{try{const t=document.createElement("li");t.setAttribute("data-file-info",JSON.stringify(e)),t.classList.add("list-item");const n=document.createElement("span");n.setAttribute("data-file-info",JSON.stringify(e));const i=(()=>{switch(e.service){case"github":return["fa","fa-github"];case"dropbox":return["fa","fa-dropbox"];case"webdav":return["fa","fa-cloud-download"];case"ftp":case"sftp":return["fa","fa-server"];case"fs":return["fa","fa-hdd-o"];default:return["fa","fa-cloud"]}})();n.classList.add(...i),t.appendChild(n);const o=document.createElement("span");return o.setAttribute("data-file-info",JSON.stringify(e)),o.innerHTML=e.folder+"<strong>"+(e.name.startsWith("/")?"":"/")+e.name+"</strong>/",t.appendChild(o),t}catch(e){console.error("Catched error: ",e)}return null})).filter((e=>!!e)).forEach((e=>n.appendChild(e)))}}function Fr(){Yr(!1)}function Gr(){Yr(!0)}function Vr(e){if(Ur&&!Ur.closed){if(e)Ur.close(),Ur=window.open(e),Ur.focus();else try{"about:blank"!==Ur.location.href&&Ur.location.reload(!0)}catch(e){Ur.frames[1].location.reload(!0)}Ur.focus()}else e&&(Ur=window.open(e),Ur.focus())}function Yr(e){const t=()=>{fs(fi().file,(()=>{}),(e=>{}))};fi().file&&!fi().isTemplate?((()=>{const t=sr();Vr(e?"./responsize/?url="+window.location.origin+fi().file.absPath+t.link.href:window.location.origin+fi().file.absPath+t.link.href)})(),fn()&&t()):me.alert("Preview website","You need to save the website before I can show a preview",(()=>{t()}))}function Xr(e,t){const n=e.document.body;e.jQuery&&e.jQuery(n).pageable&&e.jQuery(n).pageable({currentPage:t.id})}function Kr(e,t){let n="";return t.forEach((t=>{let i=e;for(const e in t){const n=t[e];i=i.replace(new RegExp("{{"+e+"}}","g"),n)}n+=i})),n}function Zr(e,t){if("body"===e.tagName.toLowerCase())throw new Error("Forbidden to change tag name of body");const n=e.ownerDocument.createElement(t);for(e.getAttributeNames().forEach((t=>n.setAttribute(t,e.getAttribute(t))));e.firstChild;)n.appendChild(e.firstChild);return e.parentNode.replaceChild(n,e),n}function Jr(e,t){let n=e.querySelector("."+jt.JSON_STYLE_TAG_CLASS_NAME);n||(n=e.createElement("script"),n.classList.add(jt.JSON_STYLE_TAG_CLASS_NAME)),n.setAttribute(jt.STATIC_ASSET_ATTR,""),n.innerHTML="\n    window.silex = window.silex || {}\n    window.silex.data = "+JSON.stringify({site:{width:t.site.width},pages:t.pages}),n.type="text/javascript",e.head.insertBefore(n,e.head.firstChild)}const Qr=e=>(t,n=Bn())=>{const i=e.document,o=[];t.forEach((e=>{const t=oi(e,n),r=t?Fn(i,t):i.body;if(function({doc:e,id:t,type:n,parent:i,isSectionContent:o}){let r=null;switch(n){case wt.CONTAINER:r=function(e){const t=e.createElement("div");return t.setAttribute(jt.TYPE_ATTR,wt.CONTAINER),t}(e);break;case wt.SECTION:r=function(e){const t=e.createElement("div");return t.setAttribute(jt.TYPE_ATTR,wt.CONTAINER),t}(e);break;case wt.TEXT:r=function(e){const t=function(e,t){const n=e.createElement("div");n.setAttribute(jt.TYPE_ATTR,t);const i=e.createElement("div");return n.appendChild(i),i.classList.add(jt.ELEMENT_CONTENT_CLASS_NAME),n}(e,wt.TEXT),n=Kn(t);return n.innerHTML="<p>New text box</p>",n.classList.add("normal"),t}(e);break;case wt.HTML:r=function(e){const t=e.createElement("div");t.setAttribute(jt.TYPE_ATTR,wt.HTML);const n=e.createElement("div");return n.innerHTML="<p>New HTML box</p>",t.appendChild(n),n.classList.add(jt.ELEMENT_CONTENT_CLASS_NAME),t}(e);break;case wt.IMAGE:r=function(e){const t=e.createElement("div");return t.setAttribute(jt.TYPE_ATTR,wt.IMAGE),t}(e);break;default:throw new Error("unknown type: "+n)}if(r.classList.add(jt.EDITABLE_CLASS_NAME),r.classList.add(n.toString()),r.setAttribute(jt.ELEMENT_ID_ATTR_NAME,t),r.classList.add(t),i){if(n===wt.SECTION&&i!==e.body)throw new Error("Section can only be added to the body");i.appendChild(r)}else console.info("element not yet created in the dom")}({doc:i,id:e.id,type:e.type,parent:r,isSectionContent:e.isSectionContent}),t&&!r)console.warn("no parent element yet but will come soon hopefully");else{const t=oo({id:e.id,type:e.type,isSectionContent:e.isSectionContent,isBody:!1});o.push({from:t,to:e})}})),o.length&&(ts(e)(o,n),setTimeout((()=>{o.find((({to:e})=>Ai(e)))&&Di()})))},es=e=>t=>{const n=e.document;t.map((e=>(Vn(n,e.id,!0),Vn(n,e.id,!1),Fn(n,e)))).forEach((e=>{!function(e){e.remove()}(e)})),setTimeout((()=>{t.find((e=>Ai(e)))&&Di()}),0)},ts=e=>(t,n=Bn())=>{const i=e.document;t.forEach((({from:t,to:o})=>{const r=Fn(i,o);if(o.pageNames!==t.pageNames){const e=Yi();(function(e,t,n){!function(e,t){e.forEach((e=>{t.classList.remove(e)})),t.classList.remove(jt.PAGED_CLASS_NAME),t.classList.remove(jt.PAGED_VISIBLE_CLASS_NAME),t.classList.remove(jt.PAGED_HIDDEN_CLASS_NAME)}(e.map((e=>e.id)),t),n.forEach((e=>{e?(t.classList.add(e.id),t.classList.add(jt.PAGED_CLASS_NAME)):console.error("This page does not exist anymore")}))})(e,r,o.pageNames.map((t=>e.find((e=>e.id===t))))),Xr(Vo(),sr())}var s,a;if(o.children!==t.children&&function(e,t){t.forEach((t=>{e.appendChild(t)}))}(r,o.children.map((e=>ei(e,n))).filter((e=>!!e)).map((e=>Fn(i,e))).filter((e=>!!e))),o.link!==t.link&&(s=r,(a=o.link)?s.setAttribute(jt.LINK_ATTR,a.href):s.removeAttribute(jt.LINK_ATTR)),o.attr!==t.attr){const e=t.attr||{};Object.entries(e).forEach((([e,t])=>{try{r.removeAttribute(e)}catch(n){console.error("could not remove HTML attr",{name:e,val:t,domEl:r})}}));const n=o.attr||{};Object.entries(n).forEach((([e,t])=>{try{r.setAttribute(e,t||"")}catch(n){console.error("could not add HTML attr",{name:e,val:t,domEl:r})}}))}if(o.classList!==t.classList&&(t.classList.forEach((e=>r.classList.remove(e))),r.classList.add(...o.classList)),o.visibility.desktop!==t.visibility.desktop&&(o.visibility.desktop?function(e){e.classList.remove(jt.HIDE_ON_DESKTOP)}(r):function(e){e.classList.add(jt.HIDE_ON_DESKTOP)}(r)),o.visibility.mobile!==t.visibility.mobile&&(o.visibility.mobile?function(e){e.classList.remove(jt.HIDE_ON_MOBILE)}(r):function(e){e.classList.add(jt.HIDE_ON_MOBILE)}(r)),o.link?"A"!==r.tagName&&(Zr(r,"A"),sa()):o.tagName.toUpperCase()!==r.tagName.toUpperCase()&&Zr(r,o.tagName),o.alt!==t.alt){const e=r.querySelector("img");e?e.alt=o.alt:console.error("could not set alt attribute as no image element was found")}o.title!==t.title&&(r.title=o.title),o.innerHtml!==t.innerHtml&&function(e,t){Kn(e).innerHTML=function(e){return e.replace(/<script.*class="silex-script".*?>/gi,'<script type="text/notjavascript" class="silex-script">')}(t)}(r,o.innerHtml),o.style!==t.style&&(Yn(i,o,!0),Yn(i,o,!1)),!Ai(o)||t.style.mobile.width===o.style.mobile.width&&t.style.mobile.height===o.style.mobile.height&&t.style.desktop.width===o.style.desktop.width&&t.style.desktop.height===o.style.desktop.height&&o.innerHtml===t.innerHtml||function(e,t){const n=t.querySelectorAll("script");for(const t of n)e.eval(t.innerText)}(e,r)})),Jr(i,On())};function ns(e){Jr(Yo(),On())}function is(e,t=!1,n=Bn(),i=Tn.dispatch){function o(e){e.forEach((e=>{Mn([e],i)}))}e.forEach((r=>{const s=n.filter((e=>e.pageNames.includes(r.id))),a=s.filter((e=>1===e.pageNames.length));a.length>0&&(t?o(a):me.confirm("Delete elements",`\n          ${a.length} elements were only visible on this page (${r.id}).\n          <br /><ul>\n            <li>Do you want me to <strong>delete these elements?</strong><br /></li>\n            <li>or keep them and <strong>make them visible on all pages?</strong></li>\n          </ul>\n        `,(e=>{e&&o(a)}),"delete","keep")),setTimeout((()=>{Rn(s.map((e=>({...e,pageNames:e.pageNames.filter((e=>e!==r.id))}))),i),Rn(e.reduce(((e,t)=>e.concat(Bn().filter((e=>!!e.link&&e.link.linkType===Tt.PAGE&&e.link.href===t.link.href)).map((e=>({from:e,to:{...e,link:null}}))))),[]))}),0)})),Jr(Yo(),On())}const os=(e,t)=>!!e.link&&e.link.linkType===Tt.PAGE&&e.link.href===t.link.href,rs=(e,t)=>!!e.pageNames.length&&e.pageNames.includes(t.id);function ss(e,t=Bn(),n=Tn.dispatch){e.forEach((({from:e,to:i})=>{e&&e.id===i.id&&e.link===i.link||(setTimeout((()=>{const o=t.filter((t=>rs(t,e)||os(t,e))).map((t=>({...t,link:os(t,e)?i.link:t.link,pageNames:rs(t,e)?t.pageNames.map((t=>t===e.id?i.id:t)):t.pageNames}))),r=[],s=Yo();Array.from(s.querySelectorAll(`[href="${e.link.href}"], [href^="${e.link.href}#"]`)).forEach((t=>{t.setAttribute("href",t.getAttribute("href").replace(e.link.href,i.link.href)),r.push(t)})),[...new Set(r)].forEach((e=>{const[n,i]=function(e,t,n){let i=t;do{const t=ti(e,i,n);if(t)return[t,i];i=i.parentElement}while(i);return[null,null]}(s,e,t);if(n&&(n.type===wt.HTML||n.type===wt.TEXT)){const e=o.find((e=>e.id===n.id));e?e.innerHtml=Zn(i):o.push({...n,innerHtml:Zn(i)})}})),o.length&&Rn(o,n)}),0),e.id===an().currentPageId&&sn({...an(),currentPageId:i.id}))})),Jr(Yo(),On())}function as(e,t,n,i="property"){let o=e.querySelector(`meta[${i}="${t}"], meta[name="${t}"]`);!o&&n&&""!==n?(o=e.createElement("meta"),o.setAttribute(i,t),o.content=n,e.head.appendChild(o)):n&&""!==n?(o.setAttribute("content",n),o.removeAttribute("name"),o.setAttribute(i,t)):o&&o.parentElement.removeChild(o)}var ls=n(1528);function cs(e,t){const n=Yo();if(e&&e.headStyle===t.headStyle||function(e,t){let n=e.head.querySelector("."+jt.SILEX_STYLE_ELEMENT_CSS_CLASS);n||(n=e.createElement("style"),n.className=jt.SILEX_STYLE_ELEMENT_CSS_CLASS,e.head.appendChild(n)),n.innerHTML=t}(n,t.headStyle),e&&e.headScript===t.headScript||function(e,t){let n=e.head.querySelector("."+jt.SILEX_SCRIPT_ELEMENT_CSS_CLASS);n||(n=e.createElement("script"),n.type="text/javascript",n.className=jt.SILEX_SCRIPT_ELEMENT_CSS_CLASS,e.head.appendChild(n)),n.innerHTML=t}(n,t.headScript),e&&e.title===t.title||function(e,t){let n=e.head.querySelector("title");n||(n=e.createElement("title"),e.head.appendChild(n)),n.innerHTML=t||""}(n,t.title),e&&e.description===t.description||function(e,t){as(e,"description",t)}(n,t.description),e&&e.enableMobile===t.enableMobile||function(e,t){if(null===e.body)return;let n=e.querySelector("meta[name=viewport]");!0===t?(e.body.classList.add(jt.ENABLE_MOBILE_CSS_CLASS),n||(n=e.createElement("meta"),n.name="viewport",n.content="width=device-width, initial-scale=1",e.head.appendChild(n))):(e.body.classList.remove(jt.ENABLE_MOBILE_CSS_CLASS),n&&e.head.removeChild(n))}(n,t.enableMobile),e&&e.faviconPath===t.faviconPath||function(e,t){let n=e.head.querySelector('link[rel="shortcut icon"]');n?t||n.parentElement.removeChild(n):t&&(n=e.createElement("link"),n.setAttribute("href",t),n.setAttribute("rel","shortcut icon"),e.head.appendChild(n)),t&&n.setAttribute("href",t)}(n,t.faviconPath),e&&e.thumbnailSocialPath===t.thumbnailSocialPath||function(e,t){as(e,"twitter:card",t?"summary":""),as(e,"twitter:image",t),as(e,"og:image",t)}(n,t.thumbnailSocialPath),e&&e.descriptionSocial===t.descriptionSocial||function(e,t){as(e,"twitter:card",t?"summary":""),as(e,"twitter:description",t),as(e,"og:description",t)}(n,t.descriptionSocial),e&&e.titleSocial===t.titleSocial||function(e,t){as(e,"twitter:card",t?"summary_large_image":"","name"),as(e,"og:type",t?"website":""),as(e,"twitter:title",t),as(e,"og:title",t)}(n,t.titleSocial),e&&e.lang===t.lang||function(e,t){e.querySelector("html").lang=t||""}(n,t.lang),e&&e.twitterSocial===t.twitterSocial||function(e,t){as(e,"twitter:card",t?"summary":""),as(e,"twitter:site",t)}(n,t.twitterSocial),e&&e.dataSources===t.dataSources||async function(e,t){try{const t={...e};(await Promise.all(Object.keys(t).map((async e=>{const n=t[e];{const t=await fetch(n.href),i=await t.json(),o=ls.get(i,n.root),r=ls.get(o,"0");return n.data=i,n.structure={},r&&Object.keys(r).forEach((e=>{return n.structure[e]=(t=r[e],Array.isArray(t)?"array":typeof t);var t})),{name:e,dataSource:n}}})))).reduce(((e,t)=>e[t.name]=t.dataSource),{})}catch(e){console.error("could not load data sources",e),me.alert("Error",`There was an error loading the data sources: ${e}`,(()=>{throw e}))}}(t.dataSources),e&&e.fonts===t.fonts||function(e,t){Array.from(e.head.querySelectorAll(`link.${jt.CUSTOM_FONTS_CSS_CLASS}`)).forEach((e=>{e.remove()})),t.forEach((t=>{const n=e.createElement("link");n.href=t.href,n.rel="stylesheet",n.className=jt.CUSTOM_FONTS_CSS_CLASS,e.head.appendChild(n)}))}(n,t.fonts),e&&e.width===t.width||function(e,t){let n=e.head.querySelector(".silex-style-settings");n||(n=e.createElement("style"),n.className="silex-style-settings",e.head.appendChild(n)),n.innerHTML=`\n  .${jt.WEBSITE_WIDTH_CLASS_NAME} {\n    width: ${t}px;\n  }\n  @media (min-width: ${jt.MOBILE_BREAKPOINT+1}px) {\n    .silex-editor {\n      min-width: ${t+200}px;\n    }\n  }\n`}(n,t.width),!e||e.prodotypeDependencies!==t.prodotypeDependencies){const e=Yo().head;Array.from(e.querySelectorAll("[data-dependency]")).forEach((e=>e.remove())),Object.keys(t.prodotypeDependencies).forEach((i=>{t.prodotypeDependencies[i].forEach((t=>{const o=n.createElement(i);o.setAttribute("data-dependency",""),Object.keys(t).forEach((e=>{o.setAttribute(e,t[e])})),e.appendChild(o)}))}))}if(!e||e.styles!==t.styles){const e=Yo().head;Array.from(e.querySelectorAll("[data-style-id]")).forEach((e=>e.remove())),Object.keys(t.styles).forEach((e=>{const n=t.styles[e];Object.keys(n.styles).forEach((t=>{const i=n.styles[t];Object.keys(i).forEach((o=>{const r=i[o];ji(Yo(),e,o,t,r,n.displayName)}))}))}))}Jr(n,On())}function us(e,t){switch(t.mobileEditor?(document.body.classList.add(jt.MOBILE_MODE_CSS_CLASS),fi().enableMobile||me.alert("Mobile editor warning",'\n        Warning: you are entering the mobile editor, but your website is not configured to support it,\n        so you need to open the menu "File", then "Settings" and "Enable mobile version".\n      ',(()=>{}))):document.body.classList.remove(jt.MOBILE_MODE_CSS_CLASS),t.loading){case he.SILEX:document.body.classList.add(jt.LOADING_SILEX_CSS_CLASS);break;case he.WEBSITE:Xo().classList.add(jt.LOADING_SITE_CSS_CLASS);break;default:Xo().classList.remove(jt.LOADING_SITE_CSS_CLASS),document.body.classList.remove(jt.LOADING_SILEX_CSS_CLASS)}e&&e.currentPageId!==t.currentPageId&&(Xr(Vo(),sr()),setTimeout((()=>{const e=ci(),n=e.filter((e=>!!e.pageNames.length&&!e.pageNames.includes(t.currentPageId))).map((e=>({...e,selected:!1})));Rn(n.concat(n.length===e.length?[{...ai(),selected:!0}]:[]))}),0))}let ds=!0;function hs(){ds=!1}function ps(e){return(...t)=>{if(!ds)return e(...t)}}function fs(e,t,n){if(e&&!fi().isTemplate)ms(e,t,n);else{if(de.singleSiteMode)throw new Error('Website has no name and can not "save as" in single site mode');Vt.getInstance().saveAs("editable.html",Vt.HTML_EXTENSIONS).then((e=>{null!=e&&ms(e,t,n)})).catch((e=>{n&&n(e)}))}}function ms(e,t,n){let i=(Fo(),$o.getHtml());i.indexOf("url('&quot;")>-1&&(console.warn("I have found HTML entities in some urls, there is probably an error in the save process."),i=i.replace(/url\('&quot;()(.+?)\1&quot;'\)/gi,((e,t,n)=>"url('"+n+"')"))),pi({...fi(),file:e}),function(e,t,i,o,r){Tr(e),Gt.getInstance().write(e,t,i,(()=>{pi({...fi(),isTemplate:!1}),o&&o()}),((e,t)=>{me.alert("Save website","Error: I did not manage to save the file. \n"+(t||e.message||""),(()=>{n&&n(e)}))}))}(e,i,On(),(()=>{me.notifySuccess("File is saved."),Vr(),pn(),t&&t()}))}function gs(e,t){Ts(e,((e,n)=>t&&t()),((n,i,o)=>{console.error("Could not open recent file",n,i,o),t&&t(),403===o?me.confirm("Open recent file",`Could not open this recent file, you probably need to connect to ${e.service} again.`,(n=>{me.alert("Open recent file",`\n              I am trying to connect you to ${e.service} again,\n              please accept the connection in the popup I have just opened then <strong>please wait</strong>.\n              `,(()=>{})),Gt.getInstance().ce.auth(e.service).then((i=>{me.close(),n&&gs(e,t)}))})):me.confirm("Open recent file",`Could not open this recent file. ${i}`,(e=>{}))}))}function bs(e,t){var n;n={openFileInfo:n=>{n||ws()?n&&gs(n,e):Cs(e,t)},openTemplate:n=>{n||ws()?n&&xs(n,e,((e,n)=>vs(e,n,t,!0))):Cs(e,t)},ready:()=>{e&&e()},error:e=>{console.error("loading templates error"),vs(e,"Loading templates error",t)}},qr=qr||new $r(Ft().dashboard),qr.openDialog(n)}function ys(e,t,n){de.singleSiteMode||Vt.getInstance().openFile(Vt.HTML_EXTENSIONS).then((i=>{i?Ts(i,((t,n)=>{me.notifySuccess((fi().title||"Untitled website")+" opened."),e&&e(i)}),((e,n)=>{me.alert("Open file","Error: I did not manage to open this file. \n"+(n||e.message||""),(()=>{t&&t(e)}))})):n&&n()})).catch((e=>{t&&t(e)}))}function vs(e,t,n,i=!0){console.error("opening template error",e),me.alert("Open file","An error occured. "+t,(()=>{})),n&&n(e),i&&!ws()&&Cs()}function Es(e){console.error("Error: I did not manage to publish the file.",e),me.alert("Publication",`<strong>An error occured.</strong><p>I did not manage to publish the website. ${e}</p><p><a href="${de.ISSUES_SILEX}" target="_blank">Get help in Silex forums.</a></p>`,(()=>{}))}function Ss(){me.isActive?console.warn("Publish canceled because a modal dialog is opened already."):async function(){return new Promise(((e,t)=>{Ir(!0),kr.hosting((t=>{Ir(!1);const n=fi(),i=n.hostingProvider,o=n.publicationPath;if(i&&o){const n=t.providers.find((e=>e.name===i)),r=n?n.displayName||n.name:o.service;me.confirm("Publication",`\n          I am about to publish your website to <strong>${r}</strong>, in the folder ${o.path||"/"}.\n        `,(n=>{n&&e(_r(n,t,i))}),"Continue","Cancel");const s=document.createElement("button");s.innerHTML="Edit",s.onclick=()=>{me.close(),e(_r(!1,t,i))},me.addButton(s)}else e(_r(!1,t,i))}),(e=>t(e)))})).catch((e=>{throw Ir(!1),e}))}().then((e=>{e&&function(e,t){de.singleSiteMode&&e.file&&(e.publicationPath={...e.publicationPath,path:e.file.path.split("/").slice(0,-1).join("/")});const n=e.publicationPath,i=e.provider,o=fi().file,r=fi().isTemplate;n&&pi({...fi(),publicationPath:n});const s=fi().publicationPath;if(s)if(!o||r)t(null,"The file must be saved before I can publish it.",null);else if(i)t(null,null,{file:o,publicationPath:s,provider:i});else{const e=fi().hostingProvider;if(!e)throw new Error("I need a hosting provider name for this website. And none is configured.");xr.getInstance().hosting((n=>{const i=n.providers.find((t=>t.name===e));if(!i)throw me.alert("Publication",`\n                <p>Unknown provider ${e}.</p>\n                <p>Is it configured on this servier? Here are the hosting providers I know:\n                ${n.providers.map((e=>e.name)).join(", ")}</p>\n              `,(()=>{})),new Error(`\n                Unknown provider ${e}.\n                Is it configured on this servier? Here are the hosting providers I know: <ul>${n.providers.map((e=>"<li>"+e.name+"</li>")).join("")}</ul>\n              `);t(null,null,{file:o,publicationPath:s,provider:i})}))}else t(null,"I did not publish your website. I did nothing because I do not know where to publish your site.",null)}(e,((e,t,n)=>{var i;e?(Ar(),Es(e)):t?(Ar(),me.alert("Publication",t,(()=>{}))):(i=n,new Promise(((e,t)=>{const n=i.publicationPath,o=i.provider;let r=-1;me.alert("Publication","<strong>I am about to publish your site. This may take several minutes.</strong>",(()=>{r>0&&clearInterval(r)}),"Close"),r=-1,Ir(!0),kr.publish(i,(()=>{Ir(!1),r=window.setInterval((()=>{kr.publishState((t=>{let i=`<strong>${t.message}</strong>`;!0===t.stop?(clearInterval(r),i+=`\n                <p>Here is a link to <a target="_blanck" href="${fi().websiteUrl||n.absPath+"/index.html"}">your published website here</a>.\n                ${o&&o.afterPublishMessage?o.afterPublishMessage:""}</p>\n              `,e(i)):me.setText(i)}),(e=>{clearInterval(r),t(e)}))}),1e3)}),(e=>t(e)))}))).then((e=>{Ar(),me.alert("Publication",e,(()=>{}))})).catch((e=>{Ar(),Es(e)}))}))})).catch((e=>Es(e)))}function ws(){const e=Yo();return!!e.body&&e.body.childNodes.length>0}function xs(e,t=null,n=null){Is({site:{file:null,isTemplate:!0},path:e,cbk:t,errCbk:n})}function Cs(e,t){xs("/libs/templates/silex-blank-templates/blank/editable.html",e,((e,n)=>vs(e,n,t,!1)))}function Ts(e,t,n){fn()?me.confirm("Close current website",`You have unsaved modifications, are you sure you want to open the website "${e.name}" ?`,(i=>{i&&ks(e,t,n)}),"Continue","Abort"):ks(e,t,n)}function ks(e,t,n){Is({site:{file:e,isTemplate:!1},path:e.absPath,cbk:(n,i)=>{Tr(e),t&&t(n,i)},errCbk:n})}function Is({site:e,path:t,cbk:n,errCbk:i}){sn({...an(),loading:he.WEBSITE}),Gt.getInstance().loadWebsite(t,((t,i)=>{Go(t,(()=>{Sr=Sr||new wr(Ft().cssEditor),Pr=Pr||new Mr(Ft().jsEditor),lr=lr||new ur(Ft().htmlEditor),ds=!0;const o={site:{...i.site,file:e.file},pages:zi(i.pages),elements:Ln(i.elements)};Rr(o),hr(o.pages[0]),hs(),sn({...an(),loading:he.NONE}),setTimeout((()=>{pn(),mn()}),1e3),n&&n(t,i)}))}),i)}function As(e,t,n=an()){var i;return!0===(null===(i=n.dialogs.find((n=>n.id===e&&n.type===t)))||void 0===i?void 0:i.visible)}function _s(e=null,t=an()){return t.dialogs.filter((t=>t.visible&&(null===e||t.type===e)))}function Os(e,t){an().dialogs.filter((e=>e.type===t)).forEach((t=>Ns(e,t))),ln(((n,i)=>{n.dialogs.filter((e=>e.type===t)).filter((e=>!i.dialogs.find((t=>t.type===e.type&&t.id===e.id)))).forEach((t=>function(e,t){const n=Ps(e,t);if(n){const e=Ls.get(t.id);Ls.delete(t.id),n.removeEventListener("click",e),n.remove()}}(e,t))),i.dialogs.filter((e=>e.type===t)).filter((e=>!n.dialogs.find((t=>t.type===e.type&&t.id===e.id)))).forEach((t=>Ns(e,t)));const o=_s(t,n),r=_s(t,i).filter((e=>!o.find((t=>t.id===e.id&&t.type===e.type))));r.length&&Ds(e,r[0])}))}const Ls=new Map;function Ns(e,t){const n=Ps(e,t)||function(e,t){var n,i,o,r;const s=document.createElement((null===(n=t.data)||void 0===n?void 0:n.tag)||"div");return s.classList.add(t.id,"tab"),s.classList.add(...(null===(o=null===(i=t.data)||void 0===i?void 0:i.className)||void 0===o?void 0:o.split(" "))||"no-dialog-class"),s.innerHTML=(null===(r=t.data)||void 0===r?void 0:r.displayName)||"",e.appendChild(s),s}(e,t),i=()=>mr(t);n.addEventListener("click",i),Ls.set(t.id,i),t.visible&&Ds(e,t)}function Ds(e,t){const n=Ps(e,t);Array.from(e.querySelectorAll(".tab")).forEach((e=>e.classList.remove("on"))),n.classList.add("on")}function Ps(e,t){return e.querySelector("."+t.id)}const Ms=[{displayName:"General",id:"general-pane"},{displayName:"Social Networks",id:"social-pane"},{displayName:"Publish settings",id:"publish-pane"},{displayName:"Fonts",id:"fonts-pane"},{displayName:"Data sources",id:"data-sources-pane"}];let Rs;function Bs(e,t){return Rs=Rs||new Ws(Ft().settingsDialog),Rs.open(e,t)}class Ws{constructor(e){this.element=e,this.mobileCheckbox=null,this.onClose=null,this.unsub=null,ln((()=>{const[t]=_s("settings"),n=e.querySelector(".right-pane");Array.from(n.querySelectorAll(".on")).forEach((e=>e.classList.remove("on")));const i=n.querySelector("."+t.id);i?i.classList.add("on"):console.warn("Error in settings dialog: no pane found with ID")}));const t=an();sn({...t,dialogs:t.dialogs.concat(Ms.map((({displayName:e,id:t},n)=>({id:t,type:"settings",visible:0===n,data:{displayName:e,tag:"li"}}))))}),Os(e.querySelector(".left-pane ul"),"settings"),this.modalDialog=new $t({name:"Settings dialog",element:e,onOpen:e=>{if(this.onClose=e.cbk,e.pane){const t=an();sn({...t,dialogs:t.dialogs.filter((({type:e})=>"settings"===e)).map((t=>({...t,visible:t.id===e.pane})))})}this.unsub=mi((()=>this.redraw())),this.redraw()},onClose:()=>{this.unsub&&this.unsub(),this.onClose&&this.onClose()}}),this.bindTextField(".general-pane .input-title",(e=>pi({...fi(),title:e}))),this.bindTextField(".general-pane .input-lang",(e=>pi({...fi(),lang:e}))),this.bindTextField(".general-pane .input-site-width",(e=>pi({...fi(),width:e?parseInt(e):null}))),this.bindTextField(".social-pane .input-title",(e=>pi({...fi(),titleSocial:e}))),this.bindTextField(".general-pane .input-description",(e=>pi({...fi(),description:e}))),this.bindTextField(".social-pane .input-description",(e=>pi({...fi(),descriptionSocial:e}))),this.bindTextField(".social-pane .input-twitter",(e=>pi({...fi(),twitterSocial:e}))),this.bindTextField(".general-pane .input-favicon-path",(e=>pi({...fi(),faviconPath:e}))),this.bindTextField(".social-pane .input-image-path",(e=>pi({...fi(),thumbnailSocialPath:e}))),this.bindTextField(".publish-pane .input-publication-path",(e=>this.updatePublicationPath({path:e}))),this.bindTextField(".publish-pane .input-publication-service",(e=>this.updatePublicationPath({service:e}))),this.bindTextField(".publish-pane .input-website-url",(e=>{""===e&&(e=null),pi({...fi(),websiteUrl:e})})),this.bindBrowseButton(".general-pane .browse-favicon-path",(()=>{Vt.getInstance().openFile(Vt.IMAGE_EXTENSIONS).then((e=>{e&&(pi({...fi(),faviconPath:e.absPath}),this.open())})).catch((e=>{me.notifyError("Error: I could not select the favicon. <br /><br />"+(e.message||""))}))})),this.bindBrowseButton(".publish-pane .browse-publication-path",(()=>{Vt.getInstance().openFolder().then((e=>{e&&(pi({...fi(),publicationPath:e}),this.open())})).catch((e=>{me.notifyError("Error: I could not select the publication path. <br /><br />"+(e.message||""))}))})),this.mobileCheckbox=this.element.querySelector(".mobile-check"),this.mobileCheckbox.addEventListener("click",(()=>{pi({...fi(),enableMobile:this.mobileCheckbox.checked})}),!1),Gt.getInstance().ready((()=>{Gt.getInstance().getServices((e=>{const t=this.element.querySelector(".publish-pane .input-publication-service");t.innerHTML="",e.forEach((e=>{const n=document.createElement("option");n.value=e.name,n.innerHTML=e.displayName||e.name,t.appendChild(n)}))}))})),this.element.querySelector(".pane.data-sources-pane .add-data-source-btn").onclick=e=>this.addDataSource(),this.element.querySelector(".pane.data-sources-pane .reload-data-sources-btn").onclick=e=>pi({...fi(),dataSources:{...fi().dataSources}}),this.dataSourcesList=this.element.querySelector(".data-sources-list"),this.dataSourcesList.onclick=e=>{const t=e.target;if(t.classList.contains("del-btn")){const e=t.getAttribute("data-idx"),n=fi(),i={...n.dataSources};delete i[e],pi({...n,dataSources:i})}else if(t.classList.contains("edit-btn")){const e=t.getAttribute("data-idx"),n=fi();this.editDataSource(e,n.dataSources[e],((t,i)=>{const o={...n.dataSources};o[t]=i,t!==e&&delete o[e],pi({...n,dataSources:o})}))}},this.element.querySelector(".pane.fonts-pane .add-font-btn").onclick=e=>this.addFont(),this.fontList=this.element.querySelector(".fonts-list"),this.fontList.onclick=e=>{const t=e.target;if(t.classList.contains("del-btn")){const e=parseInt(t.getAttribute("data-idx"),10),n=fi().fonts.slice();n.splice(e,1),pi({...fi(),fonts:n})}else if(t.classList.contains("edit-btn")){const e=parseInt(t.getAttribute("data-idx"),10),n=fi().fonts;this.editFont(n[e],(t=>{const i=n.slice();i[e]=t,pi({...fi(),fonts:i})}))}}}openPane(e){this.element.classList.add(e+"-visible"),this.element.querySelector(`#settings-${e}`).checked=!0}bindTextField(e,t){const n=this.element.querySelector(e);if(!n)throw new Error("Settings panel error: could not find the element to bind.");n.onkeyup=e=>{t(n.value)}}bindBrowseButton(e,t){const n=this.element.querySelector(e);if(!n)throw new Error("Settings panel error: could not find the element to bind.");n.addEventListener("click",(()=>{t()}),!1)}setInputValue(e,t){const n=this.element.querySelector(e);t?t!==n.value&&(n.value=t):""!==n.value&&(n.value="")}setPublicationPath(e){null!=e?(this.setInputValue(".publish-pane .input-publication-service",e.service),this.setInputValue(".publish-pane .input-publication-path",e.path),this.element.classList.remove("publication-path-not-set")):(this.setInputValue(".publish-pane .input-publication-service",""),this.setInputValue(".publish-pane .input-publication-path",""),this.element.classList.add("publication-path-not-set"))}open(e,t){this.modalDialog.open({cbk:e,pane:t})}redraw(){const e=fi();this.fontList.innerHTML=this.getFontList(fi().fonts),this.dataSourcesList.innerHTML=this.getDataSourcesList(e.dataSources),this.setPublicationPath(e.publicationPath),this.mobileCheckbox.checked=e.enableMobile,this.setInputValue(".general-pane .input-favicon-path",e.faviconPath),this.setInputValue(".publish-pane .input-website-url",e.websiteUrl),this.setInputValue(".general-pane .input-site-width",e.width.toString()),this.setInputValue(".general-pane .input-title",e.title),this.setInputValue(".general-pane .input-lang",e.lang),this.setInputValue(".general-pane .input-description",e.description),this.setInputValue(".social-pane .input-twitter",e.twitterSocial),this.setInputValue(".social-pane .input-description",e.descriptionSocial),this.setInputValue(".social-pane .input-title",e.titleSocial),this.setInputValue(".social-pane .input-image-path",e.thumbnailSocialPath)}getDataSourcesList(e){return"<ul>"+Object.keys(e).map(((t,n)=>{const i=e[t],o=document.createElement("p");return o.textContent=i.data?JSON.stringify(i.data):"",`<li>\n        <div class="ui">\n          <button class="edit-btn fa fa-pencil" title="Edit this data source" data-idx="${t}"></button>\n          <button class="del-btn" title="Remove this data source" data-idx="${t}"></button>\n        </div>\n        <div class="content">\n          <h3>${t} &nbsp<small>(${i.data?Object.keys(i.data).length+" elements":"loading data..."})</small></h3>\n          <p>${i.href}</p>\n          <pre>${o.innerHTML}</pre>\n        </div>\n      </li>`})).join("")+"</ul>"}addDataSource(){this.editDataSource("My photos",{href:"https://jsonplaceholder.typicode.com/photos",root:""},((e,t)=>{const n={...fi().dataSources};n[e]?(console.warn("This data source already exists in this website"),me.alert("Error","This data source already exists in this website",(()=>{}))):(n[e]=t,pi({...fi(),dataSources:n}))}))}editDataSource(e,t,n){me.prompt("Edit Data Source","What is the URL of your data source?",t.href,"https://jsonplaceholder.typicode.com/photos",((i,o)=>{i&&me.prompt("Edit Data Source","What is the name of your data source?",e,"My photos",((e,i)=>{e&&me.prompt("Edit Data Source","What is the root of your data source?",t.root,"",((e,t)=>{e&&n(i,{href:o,root:t})}))}))}))}getFontList(e){return"<ul>"+e.map(((e,t)=>`<li>\n        <div class="ui">\n          <button class="edit-btn fa fa-pencil" title="Edit this font" data-idx="${t}"></button>\n          <button class="del-btn" title="Remove this font" data-idx="${t}"></button>\n        </div>\n        <div class="content">\n          <iframe src="data:text/html,${encodeURIComponent(`\n        <link href="${e.href}" rel="stylesheet">\n        <style>\n          body {\n            width: 100%;\n            font-family: ${e.family};\n            color: white;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n          }\n        </style>\n        <span style="font-size:14px;">${e.family}</span> -&nbsp;\n        <span style="font-size:28px;">${e.family}</span> -&nbsp;\n        <span style="font-size:56px;">${e.family}</span>\n      `)}"></iframe>\n        </div>\n      </li>`)).join("")+"</ul>"}addFont(){this.editFont({href:"https://fonts.googleapis.com/css?family=Roboto",family:"'Roboto', sans-serif"},(e=>{const t=fi().fonts;t.find((t=>t.href===e.href&&t.family===e.family))?console.warn("This font is already embedded in this website"):pi({...fi(),fonts:t.concat(e)})}))}editFont(e,t){me.prompt("Edit font","What is the CSS stylesheet for your font, e.g. https://fonts.googleapis.com/css?family=Roboto",e.href,"https://fonts.googleapis.com/css?family=Roboto",((n,i)=>{n&&me.prompt("Edit font","What is the name of your font, e.g. 'Roboto', sans-serif",e.family,"'Roboto', sans-serif",((e,n)=>{e&&t({family:n,href:i})}))}))}close(){this.modalDialog.close()}updatePublicationPath(e){const t=fi().publicationPath,n=ge.updateFileInfo(t,e);pi({...fi(),publicationPath:n})}}const Hs=Ft().menu,js=new dr(document);let zs=!1;function qs(){zs||(de.shortcuts.forEach((e=>{js.addShortcut(e,(t=>Xs(e.id,t)))})),ln(((e,t)=>{if(e.components!==t.components){const e=Hs.querySelector(".add-menu-container");Array.from(e.querySelectorAll(".component-item,.component-category")).forEach((e=>e.remove()));const t=an().components,n={};for(const e in t){const i=t[e];!0!==i.isPrivate&&(n[i.category]?n[i.category].push(Gs(i,e)):n[i.category]=[Gs(i,e)])}for(const t in n){const i=document.createElement("div");i.classList.add("label","component-category"),i.innerHTML=t,e.appendChild(i),n[t].forEach((t=>e.appendChild(t)))}}})),Hs.onclick=e=>{const t=e.target.getAttribute("data-menu-action")||e.target.parentElement.getAttribute("data-menu-action"),n=e.target.getAttribute("data-comp-id")||e.target.parentElement.getAttribute("data-comp-id");Xs(t,e,n),!e.target.parentElement||e.target.parentElement.classList.contains("menu-container")||e.target.parentElement.classList.contains("silex-menu")||Us.forEach((e=>{document.body.classList.remove(e)}))}),zs=!0,mi((()=>Ys())),Xi((()=>Ys())),Wn((()=>Ys())),ln((()=>Ys()))}const Us=["page-tool-visible","about-menu-visible","file-menu-visible","code-menu-visible","add-menu-visible"];function $s(e){Us.forEach((t=>{e===t?document.body.classList.toggle(t):document.body.classList.remove(t)}))}function Fs(e,t){return qs(),js.addShortcut(e,t)}function Gs(e,t){const n=e.faIconClass||"prodotype-icon",i=e.baseElement||"html",o=document.createElement("div");return o.classList.add("sub-menu-item","component-item"),o.title=`${e.name}`,o.setAttribute("data-menu-action","insert."+i),o.setAttribute("data-comp-id",t),o.innerHTML=`<span class="icon fa-inverse ${n}"></span>\n  ${e.name}\n  `,o}async function Vs(e,t){if(e===wt.SECTION){const[n,i]=await Ao({type:e,parent:ai(),componentName:t,style:{mobile:{},desktop:{}}});return[n,i]}{const n=Xo(),i=n.getBoundingClientRect(),o=ho(!1,n),r=Fn(Yo(),o).getBoundingClientRect(),{left:s,top:a}=po({stageSize:i,parentSize:r,elementSize:{width:no,height:no}}),[l,c]=await Ao({type:e,parent:o,componentName:t,style:{mobile:{},desktop:{top:a+"px",left:s+"px"}}});return[l,c]}}function Ys(){yn()?Hs.querySelector(".undo").classList.remove("off"):Hs.querySelector(".undo").classList.add("off"),vn()?Hs.querySelector(".redo").classList.remove("off"):Hs.querySelector(".redo").classList.add("off")}function Xs(e,t,n){const i=t;switch(e){case"show.pages":$s("page-tool-visible");break;case"show.about.menu":$s("about-menu-visible");break;case"show.file.menu":$s("file-menu-visible");break;case"show.code.menu":$s("code-menu-visible");break;case"show.add.menu":$s("add-menu-visible");break;case"file.new":bs();break;case"file.saveas":fs();break;case"file.publish.settings":Bs();break;case"file.fonts":Bs(null,"fonts-pane");break;case"file.publish":Ss();break;case"file.save":fs(fi().file);break;case"file.open":ys();break;case"view.file":Fr();break;case"view.file.responsize":Gr();break;case"view.open.fileExplorer":Vt.getInstance().openFile();break;case"view.open.cssEditor":Sr.open();break;case"view.open.jsEditor":Pr.open();break;case"view.open.htmlHeadEditor":Eo(),cr();break;case"tools.mobile.mode":{const e=an();sn({...e,mobileEditor:!e.mobileEditor});break}case"tools.mobile.mode.on":sn({...an(),mobileEditor:!0});break;case"tools.mobile.mode.off":sn({...an(),mobileEditor:!1});break;case"tools.next.property":{const e=an().dialogs.filter((e=>"properties"===e.type)),t=e.findIndex((e=>e.visible)),n=e[(t+1)%e.length];mr(n);break}case"tools.prev.property":{const e=an().dialogs.filter((e=>"properties"===e.type)),t=e.findIndex((e=>e.visible)),n=e[(t-1+e.length)%e.length];mr(n);break}case"insert.page":gr();break;case"insert.text":Vs(wt.TEXT,n);break;case"insert.section":Vs(wt.SECTION,n);break;case"insert.html":Vs(wt.HTML,n);break;case"insert.image":!async function(e){try{const t=await Vt.getInstance().openFile(Vt.IMAGE_EXTENSIONS);if(t){const[n]=await Vs(wt.IMAGE,e);Uo(n,t.absPath)}}catch(e){me.notifyError("Error: I did not manage to load the image. \n"+(e.message||""))}}(n);break;case"insert.container":Vs(wt.CONTAINER,n);break;case"edit.delete.selection":_o();break;case"edit.empty.selection":Eo();break;case"edit.copy.selection":Zo();break;case"edit.paste.selection":ir();break;case"edit.duplicate.selection":Jo();break;case"edit.undo":gn();break;case"edit.redo":bn();break;case"edit.position.left":Wo(xt.LEFT,i);break;case"edit.position.right":Wo(xt.RIGHT,i);break;case"edit.position.up":Wo(xt.UP,i);break;case"edit.position.down":Wo(xt.DOWN,i);break;case"edit.move.up":Ho();break;case"edit.move.down":jo();break;case"edit.move.to.top":zo();break;case"edit.move.to.bottom":qo();break;case"edit.delete.page":yr();break;case"edit.rename.page":br();break;case"help.wiki":window.open(de.WIKI_SILEX);break;case"help.crowdfunding":window.open(de.CROWD_FUNDING);break;case"help.issues":window.open(de.ISSUES_SILEX);break;case"help.downloads.widget":window.open(de.DOWNLOADS_WIDGET_SILEX);break;case"help.downloads.template":window.open(de.DOWNLOADS_TEMPLATE_SILEX);break;case"help.aboutSilexLabs":window.open(de.ABOUT_SILEX_LABS);break;case"help.newsLetter":window.open(de.SUBSCRIBE_SILEX_LABS);break;case"help.diaspora":window.open(de.SOCIAL_DIASPORA);break;case"help.twitter":window.open(de.SOCIAL_TWITTER);break;case"help.facebook":window.open(de.SOCIAL_FB);break;case"help.forkMe":window.open(de.FORK_CODE);break;case"help.contribute":window.open(de.CONTRIBUTE);break;default:console.warn("menu type not found",e)}}let Ks,Zs,Js=window.wysihtml;class Qs{constructor(e){this.element=e,this.currentTextBox=null,this.wysihtmlEditor=null,this.onStopEditCbks=[],this.toolbar=this.element.querySelector("#wysihtml5-toolbar")}getLink(){if(this.element.querySelector(".create-link").classList.contains("wysihtml-command-active")){const e=Ki.reduce(((e,t)=>{const n=this.element.querySelector(".get-"+t);return n?e[t]=n.value:console.error("could not get data from link editor for attribute",t),e}),{});return e.linkType=eo(e.href),e}return null}onScroll(e){this.attachToTextBox(Fn(Yo(),this.currentTextBox),this.element)}attachToTextBox(e,t){const n=e.getBoundingClientRect(),i=Xo().getBoundingClientRect(),o=i.height+i.top-n.top,r=Math.max(o-n.height+35,Math.min(i.height-20,o)),s=n.left+35;t.style.bottom=r+"px",t.style.left=s+"px"}stopEditing(){if(la(!1),this.wysihtmlEditor){this.onStopEditCbks.forEach((e=>e())),this.onStopEditCbks=[],this.element.querySelector(".image-details").style.display="none",this.wysihtmlEditor.focus(!0),this.wysihtmlEditor.destroy(),this.wysihtmlEditor=null;const e=this.toolbar.parentElement,t=this.toolbar.cloneNode(!0);Array.from(t.querySelectorAll(".wysihtml-command-active")).forEach((e=>e.classList.remove("wysihtml-command-active"))),e.insertBefore(t,this.toolbar),e.removeChild(this.toolbar),this.toolbar=t,Ut();const n=Fn(Yo(),this.currentTextBox),i=Kn(n);i.removeAttribute("contenteditable"),i.classList.remove("wysihtml-sandbox","wysihtml-editor"),n.classList.remove("text-editor-focus"),n.removeAttribute("data-allow-silex-shortcuts"),Rn([{...this.currentTextBox,innerHtml:Zn(n)}]),this.currentTextBox=null}this.element.classList.remove("text-editor-editing")}startEditing(e,t=null,n=null){const i=ci();if(1===i.length){const o=i[0];if(o!==this.currentTextBox){this.stopEditing(),la(!0),this.currentTextBox=o;const i=Fn(Yo(),this.currentTextBox);this.attachToTextBox(i,this.element);const r=Kn(i),s={toolbar:this.toolbar,handleTables:!1,useLineBreaks:!1,classes:{"wysiwyg-float-left":1,"wysiwyg-float-right":1},parserRules:{tags:{b:{},strong:{rename_tag:"b"},i:{},br:{},p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ul:{},u:{},ol:{},li:{},a:{check_attributes:{href:"any",download:"href",target:"any",title:"any",type:"any"}},img:{check_attributes:{src:"src",alt:"alt",title:"any",width:"any",height:"any",class:"any"}},font:{rename_tag:"span",add_class:{size:"size_font"}}}}};this.wysihtmlEditor=new Js.Editor(r,s),this.wysihtmlEditor.on("paste",(e=>this.onPaste(e.clipboardData.getData("text")))),i.classList.add("text-editor-focus"),i.setAttribute("data-allow-silex-shortcuts","true"),this.element.classList.add("text-editor-editing");const a=Yo(),l=Vo(),c=e=>this.onScroll(e),u=()=>this.onBlur(i),d=ri(this.currentTextBox);new Array(this.currentTextBox,...d).map((e=>Fn(Yo(),e))).forEach((e=>{e.hasAttribute("href")&&(e.setAttribute("data-tmp-href",e.getAttribute("href")),e.removeAttribute("href"),e.onclick=e=>e.preventDefault(),this.onStopEditCbks.push((()=>{e.setAttribute("href",e.getAttribute("data-tmp-href")),e.removeAttribute("data-tmp-href")})))})),this.onStopEditCbks.push(function(e){return qs(),js.attach(e)}(a),Fs({label:"Edit link",key:"k",ctrlKey:!0},(e=>this.openLinkEditor(e))),Fs({label:"Exit text editor",key:"Escape"},(e=>this.stopEditing())),(()=>l.removeEventListener("scroll",c)),(()=>i.removeEventListener("blur",u)),(()=>this.wysihtmlEditor.off("blur")),(()=>this.wysihtmlEditor.off("load")),(()=>this.wysihtmlEditor.off("paste"))),l.addEventListener("scroll",c),i.addEventListener("blur",u),this.wysihtmlEditor.on("blur",(e=>this.onBlur(i))),this.wysihtmlEditor.on("load",(()=>{this.element.querySelector(".insert-image").onmousedown=t=>{const n=this.wysihtmlEditor.composer.selection.getBookmark();e.openFile(Vt.IMAGE_EXTENSIONS).then((t=>{this.startEditing(e,n,(()=>{t&&this.wysihtmlEditor.composer.commands.exec("insertImage",{src:t.absPath,alt:""})}))})).catch((t=>{me.notifyError("Error: I did not manage to load the image. \n"+(t.message||"")),this.startEditing(e,n)}))};const o=this.element.querySelector(".image-details"),r=o.querySelector("#auto-submit-image");function s(e){setTimeout((()=>{r.click(),o.style.display="",e.target.focus()}),100)}o.querySelector(".float").onchange=e=>s(e),o.querySelector(".float").onblur=e=>this.onBlur(i),o.querySelector(".src").onkeydown=e=>s(e),o.querySelector(".alt").onkeydown=e=>s(e),o.querySelector(".alt").onblur=e=>this.onBlur(i),this.element.querySelector(".create-link").onclick=e=>this.openLinkEditor(e),this.focus(t),n&&n()}))}else n&&n()}else console.error("Error, can not edit selection with format pane",i)}onPaste(e){e.match(/[^\x00-\xFF]/)&&me.confirm("Paste warning","Warning: you have pasted text. There are strange characters in the text you pasted. These are unicode chars, which may behave differently depending on the site visitor browser. I can clear these chars for you or leave them as is.",(e=>{if(e){const e=Kn(Fn(Yo(),this.currentTextBox)),t=e.innerHTML.replace(/[^\x00-\xFF]/g,"");e.innerHTML=t}}),"Cleanup","Paste as is")}onBlur(e){setTimeout((()=>{me.isActive||document.activeElement===e||document.activeElement.classList.contains("keep-text-format-bar-open")||this.stopEditing()}),0)}focus(e){this.wysihtmlEditor&&(this.wysihtmlEditor.focus(!1),e&&this.wysihtmlEditor.composer.selection.setBookmark(e))}openLinkEditor(e){this.currentTextBox.link?me.alert("Link error",'It is impossible to add a link in this text, because the text box has a link in the properties. Please remove the link in the element property pannel and try again. <a target="_blank" href="https://github.com/silexlabs/Silex/wiki/Errors#link-error">More info here</a>',(()=>{})):Qi({data:this.getLink(),cbk:e=>{e?this.wysihtmlEditor.composer.commands.exec("createLink",e):this.wysihtmlEditor.composer.commands.exec("removeLink"),this.wysihtmlEditor.focus(!1)}}),e.preventDefault()}}function ea(){const e=Bn().find((e=>e.selected&&e.enableEdit));if(e)if(Ai(e)){const e=an().dialogs.find((e=>"params"===e.id));mr(e)}else switch(e.type){case wt.TEXT:Ks=Ks||new Qs(Ft().textFormatBar),Ks.startEditing(Vt.getInstance());break;case wt.HTML:cr();break;case wt.IMAGE:Vt.getInstance().openFile(Vt.IMAGE_EXTENSIONS).then((t=>{t&&Uo(e,t.absPath)})).catch((e=>{me.notifyError("Error: I did not manage to load the image. \n"+(e.message||""))}))}}class ta{constructor(e){this.element=e,this.currentPageElement=e.querySelector(".current-page"),this.currentPageElement.onclick=e=>{$s("page-tool-visible")},Wn(((e,t)=>this.redraw())),Xi((()=>this.redraw())),ln((()=>this.redraw())),this.element.querySelector(".delete").addEventListener("click",(()=>_o())),this.element.querySelector(".edit").addEventListener("click",(()=>ea())),this.element.querySelector(".copy").addEventListener("click",(()=>Zo())),this.element.querySelector(".paste").addEventListener("click",(()=>ir())),this.element.querySelector(".duplicate").addEventListener("click",(()=>Jo())),this.element.querySelector(".top").addEventListener("click",(()=>zo())),this.element.querySelector(".up").addEventListener("click",(()=>Ho())),this.element.querySelector(".down").addEventListener("click",(()=>jo())),this.element.querySelector(".bottom").addEventListener("click",(()=>qo())),this.element.querySelector(".sticky-elements").addEventListener("click",(e=>{Zs&&(Zs.enableSticky=!Zs.enableSticky)}))}redraw(){const e=sr();if(e){const t=fi().file,n=fn()?"*":"",i=t&&t.path?t.path+n+" - ":"";this.currentPageElement.innerHTML=`\n        ${i}\n        ${e.displayName}\n      `}0===Bn().filter((e=>e.selected&&oi(e))).length?(this.element.querySelector(".delete").classList.add("off"),this.element.querySelector(".edit").classList.add("off"),this.element.querySelector(".copy").classList.add("off"),this.element.querySelector(".top").classList.add("off"),this.element.querySelector(".up").classList.add("off"),this.element.querySelector(".down").classList.add("off"),this.element.querySelector(".bottom").classList.add("off"),this.element.querySelector(".duplicate").classList.add("off")):(this.element.querySelector(".delete").classList.remove("off"),this.element.querySelector(".edit").classList.remove("off"),this.element.querySelector(".copy").classList.remove("off"),this.element.querySelector(".top").classList.remove("off"),this.element.querySelector(".up").classList.remove("off"),this.element.querySelector(".down").classList.remove("off"),this.element.querySelector(".bottom").classList.remove("off"),this.element.querySelector(".duplicate").classList.remove("off")),nr()?this.element.querySelector(".paste").classList.remove("off"):this.element.querySelector(".paste").classList.add("off"),Zs&&Zs.enableSticky?this.element.querySelector(".sticky-elements").classList.remove("off"):this.element.querySelector(".sticky-elements").classList.add("off")}}const na=()=>Zs;let ia=!1;const oa=()=>ia=!0,ra=()=>ia=!1;function sa(){if(!Zs)return;const e=Yo(),{currentPageId:t}=an();oa(),Zs.reset(Bn().filter((e=>(0===e.pageNames.length||!!e.pageNames.find((e=>e===t)))&&(e.visibility.desktop&&!an().mobileEditor||e.visibility.mobile&&an().mobileEditor))).map((t=>Fn(e,t))).filter((e=>!!e))),Zs.setSelection(ci().map((t=>Fn(e,t)))),ra()}function aa(e){e.style.top="",e.style.left="",e.style.right="",e.style.bottom="",e.style.width="",e.style.height="",e.style.margin="",e.style.padding="",e.style.border="",e.style.minHeight="",e.style.position=""}function la(e){Zs&&Zs.visible===e&&(Zs.visible=!e)}function ca(){Zs&&Zs.resizeWindow()}function ua(e,t){if(Zs)return Zs.subscribeMouseEvent(e,t)}function da(e){return(...t)=>{oa();const n=e(...t);return ra(),n}}function ha(e){if(!Zs)return void console.warn("onAddElement NO STAGE");const t=Yo();e.forEach((e=>{const n=oi(e),i=n?Fn(t,n):t.body;n&&!i?console.warn("no parent element yet but will come soon"):Zs.addElement(Fn(t,e),!0)})),e.length&&(setTimeout((()=>{Zs.center(e.map((e=>Fn(t,e))))}),500),Zs.setSelection(ci().map((e=>Fn(t,e)))))}function pa(e){Zs?e.forEach((e=>{Zs.removeElement(e.id)})):console.warn("onDeleteElement NO STAGE")}function fa(e){if(!Zs)return void console.warn("onUpdateElement NO STAGE");const t=Yo();e.forEach((({from:e,to:n})=>{const i=Fn(t,n),o=na().getStateById(n.id);if(i){if(n.selected!==e.selected){const e=Zs.getSelection(),t=e.find((e=>e.el===i));if(n.selected){if(!t){const t=e.map((e=>e.el)).concat([i]);na().setSelection(t)}}else t&&na().setSelection(e.filter((e=>e!==t)).map((e=>e.el)))}n.visibility.desktop!==e.visibility.desktop&&(n.visibility.desktop?an().mobileEditor||na().addElement(i):an().mobileEditor||na().removeElement(o.id)),n.tagName!==e.tagName&&(Zs.removeElement(o.id),Zs.addElement(i),Zs.setSelection(ci().map((e=>Fn(t,e))))),n.visibility.mobile!==e.visibility.mobile&&n.visibility.mobile&&an().mobileEditor&&na().addElement(i),n.style,e.style}else console.error("Why?",e,n)}));const n=e.filter((({from:e,to:t})=>e.style!==t.style||e.classList!==t.classList)).map((({to:e})=>Fn(Yo(),e))).concat(e.flatMap((({to:e})=>ii(e))).map((e=>Fn(Yo(),e))));Zs.updateMetrics(n)}let ma,ga;class ba{constructor(){this.dragging=!1,this.toBeUnsubscribed=[],ln(((e,t)=>{Zs&&(e&&e.mobileEditor===t.mobileEditor||setTimeout((()=>sa()),0),e&&e.mobileEditor===t.mobileEditor||ca(),e&&e.currentPageId!==t.currentPageId&&setTimeout((()=>sa()),0))})),mi(((e,t)=>{Zs&&e.headStyle!==t.headStyle&&Zs.updateMetrics()})),Wn(on({onAdd:da(ha),onDelete:da(pa),onUpdate:da(fa)}))}cleanup(){this.stage&&(this.stage.cleanup(),this.stage=null,Zs=null),this.toBeUnsubscribed.forEach((e=>e())),this.toBeUnsubscribed=[]}init(e){this.cleanup(),Zs=this.stage=new Ht(e,[],{getId:e=>Gn(e),isSelectable:e=>!0,isDraggable:e=>ei(Gn(e)).enableDrag,isDropZone:e=>ei(Gn(e)).enableDrop,isResizeable:e=>{const t=ei(Gn(e));return(!an().mobileEditor||t.type!==wt.SECTION)&&(an().mobileEditor&&t.isSectionContent?{top:t.enableResize.top,left:!1,bottom:t.enableResize.bottom,right:!1}:t.enableResize)},useMinHeight:e=>ei(Gn(e)).useMinHeight,canDrop:(e,t)=>ei(Gn(e)).type!==wt.SECTION||"body"===t.tagName.toLowerCase(),onEdit:()=>{me.isActive||ea()},onChange:e=>this.applyStyle(e),onDrop:e=>this.stopDrag(e),onResizeEnd:e=>this.stopResize(e),onSelect:e=>this.onSelectionChanged(e),onStartDrag:e=>this.startDrag(),onStartResize:e=>this.startResize()}),setTimeout((()=>sa()),1e3),setTimeout((()=>{this.toBeUnsubscribed.push(ua("mousedown",(e=>{window!==e.target.ownerDocument.defaultView&&Ut()})))}),0)}getScroll(){return this.stage?this.stage.getScroll():{x:0,y:0}}startDragOrResize(){this.dragging=!0}startResize(){Yo().body.classList.add(jt.RESIZING_CLASS_NAME),this.startDragOrResize()}startDrag(){Yo().body.classList.add(jt.DRAGGING_CLASS_NAME),this.startDragOrResize()}stopDragOrResize(e){this.dragging=!1,this.applyStyle(e)}stopResize(e){Yo().body.classList.remove(jt.RESIZING_CLASS_NAME),this.stopDragOrResize(e)}stopDrag(e){Yo().body.classList.remove(jt.DRAGGING_CLASS_NAME),this.stopDragOrResize(e);const t=e.map((e=>({element:ti(Yo(),e.el),newParent:ti(Yo(),e.el.parentElement),idx:Array.from(e.el.parentElement.children).indexOf(e.el)}))).map((({element:e,newParent:t,idx:n})=>({element:e,newParent:t,idx:n,oldParent:oi(e)}))).filter((({element:e,newParent:t,oldParent:n,idx:i})=>t!==n||n.children.indexOf(e.id)!==i)).reduce(((e,{element:t,newParent:n,oldParent:i,idx:o})=>{const r=e.find((e=>e.id===n.id));if(r?r.children=Hn(r.children.filter((e=>e!==t.id)),o,t.id):e.push({...n,children:Hn(n.children.filter((e=>e!==t.id)),o,t.id)}),i&&i.id!==n.id){const n=ei(i.id,e);n?n.children=n.children.filter((e=>e!==t.id)):e.push({...i,children:i.children.filter((e=>e!==t.id))})}return e}),[]);Rn(t)}onSelectionChanged(e){if(ia)return;const t=e.map((e=>({element:Bn().find((t=>Fn(Yo(),t)===e.el)),selectable:e}))).filter((({element:e,selectable:t})=>e&&e.selected!==t.selected)).map((({element:e,selectable:t})=>({...e,selected:t.selected}))),n=ai();Rn(n.selected?t.concat([{...n,selected:!1}]):t),0===ci().length&&Eo()}applyStyle(e){ia||this.dragging||(e.forEach((e=>{aa(e.el),Array.from(e.el.querySelectorAll("."+jt.EDITABLE_CLASS_NAME)).forEach((e=>aa(e)))})),Rn(e.map((e=>{const t=Bn().find((t=>Fn(Yo(),t)===e.el));if(!an().mobileEditor){const n=e.metrics.computedStyleRect.width;t.isSectionContent&&fi().width!==n&&pi({...fi(),width:n})}return{...t,style:{...t.style,[an().mobileEditor?"mobile":"desktop"]:zn(t,t.isSectionContent,{...an().mobileEditor?t.style.mobile:t.style.desktop,height:e.metrics.computedStyleRect.height+"px",top:e.metrics.computedStyleRect.top+"px",left:e.metrics.computedStyleRect.left+"px",width:e.metrics.computedStyleRect.width+"px"})}}}))))}}class ya{constructor(e,t){this.element=e,this.onTheLeft=[],this.onTheRight=[],this.isDown=!1,this.toBeCleared=[],this.onRedraw=t,this.element.addEventListener("mousedown",(e=>this.onMouseDown(e)),!1),window.addEventListener("resize",(()=>this.redraw()),!1)}addLeft(e){this.onTheLeft.push(e),this.redraw()}addRight(e){this.onTheRight.push(e),this.redraw()}remove(e){this.onTheRight.splice(this.onTheRight.indexOf(e),1),e.style.left="",e.style.right="",this.redraw()}redraw(e=!0){const t=this.element.getBoundingClientRect(),n=this.element.parentElement.getBoundingClientRect();this.onTheLeft.forEach((e=>{e.style.right=n.width-t.left+"px"})),this.onTheRight.forEach((e=>{e.style.left=ya.WIDTH+t.left+"px"})),e&&this.onRedraw&&this.onRedraw()}onMouseDown(e){this.isDown=!0,this.toBeCleared.push(ua("mousemove",(e=>this.onMouseMove(e))),ua("mouseup",(e=>this.onMouseUp(e))))}onMouseUp(e){this.isDown=!1,this.toBeCleared.forEach((e=>e())),this.toBeCleared=[]}onMouseMove(e){let t=parseInt(this.element.style.right);if(""===this.element.style.right){const n=this.element.parentElement.getBoundingClientRect(),i=e.target.getBoundingClientRect();t=n.right-i.right}this.element.style.right=t-e.movementX+"px",this.redraw(),ca()}}function va(){return ga||(ga=new ya(Ft().verticalSplitter,(()=>{ca()}))),ga}ya.WIDTH=5;class Ea{constructor(e){this.element=e,Wn((()=>this.redraw()))}redraw(){function e(t){const n=oi(t);return n?oi(n)?[n].concat(e(n)):[n]:[]}for(;this.element.childNodes.length;)this.removeCrumb(this.element.childNodes[0]);const t=ci().map((t=>({el:t,parents:e(t)}))).sort(((e,t)=>t.parents.length-e.parents.length));if(t.length){const e=t.shift();let n=e.parents;t.forEach((({el:e,parents:t})=>{const i=[];let o=0;for(;o<n.length&&o<t.length&&n[o]===t[o];)i.push(n[o++]);n=i})),0===t.length&&n.unshift(e.el),n.reverse().forEach((e=>this.addCrumb(e)))}}addCrumb(e){if(!Fn(Yo(),e))return;const t=document.createElement("DIV"),n=e.classList.filter((e=>!jt.SILEX_CLASS_NAMES.includes(e))),i=n.length?"."+n.join("."):"",o=si(e)?"Body":Ai(e)?"Component":fo(e);t.classList.add("crumb"),t.innerHTML=o+i,t.style.zIndex=(100-this.element.childNodes.length).toString(),this.element.appendChild(t),t.onclick=()=>Rn(Bn().filter((t=>t.selected||t===e)).map((t=>({...t,selected:t===e}))));const r=document.createElement("DIV");r.classList.add("sep"),r.innerHTML='<svg class="svg" viewBox="0 0 7 28" height="28" width="7"><path d="M.5 0l6 14-6 14H7V0z" fill="currentColor"></path><path d="M1 0H0l6 14-6 14h1l6-14z" fill="#858585"></path></svg>',this.element.appendChild(r)}removeCrumb(e){this.element.removeChild(e)}}function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(){return xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xa.apply(this,arguments)}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){wa(e,t,n[t])}))}return e}function Ta(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ka(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Ia=ka(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Aa=ka(/Edge/i),_a=ka(/firefox/i),Oa=ka(/safari/i)&&!ka(/chrome/i)&&!ka(/android/i),La=ka(/iP(ad|od|hone)/i),Na=ka(/chrome/i)&&ka(/android/i),Da={capture:!1,passive:!1};function Pa(e,t,n){e.addEventListener(t,n,!Ia&&Da)}function Ma(e,t,n){e.removeEventListener(t,n,!Ia&&Da)}function Ra(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Ba(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Wa(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Ra(e,t):Ra(e,t))||i&&e===n)return e;if(e===n)break}while(e=Ba(e))}return null}var Ha,ja=/\s+/g;function za(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(ja," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(ja," ")}}function qa(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function Ua(e,t){var n="";if("string"==typeof e)n=e;else do{var i=qa(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function $a(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function Fa(){return document.scrollingElement||document.documentElement}function Ga(e,t,n,i,o){if(e.getBoundingClientRect||e===window){var r,s,a,l,c,u,d;if(e!==window&&e.parentNode&&e!==Fa()?(s=(r=e.getBoundingClientRect()).top,a=r.left,l=r.bottom,c=r.right,u=r.height,d=r.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Ia))do{if(o&&o.getBoundingClientRect&&("none"!==qa(o,"transform")||n&&"static"!==qa(o,"position"))){var h=o.getBoundingClientRect();s-=h.top+parseInt(qa(o,"border-top-width")),a-=h.left+parseInt(qa(o,"border-left-width")),l=s+r.height,c=a+r.width;break}}while(o=o.parentNode);if(i&&e!==window){var p=Ua(o||e),f=p&&p.a,m=p&&p.d;p&&(l=(s/=m)+(u/=m),c=(a/=f)+(d/=f))}return{top:s,left:a,bottom:l,right:c,width:d,height:u}}}function Va(e,t,n){for(var i=Ja(e,!0),o=Ga(e)[t];i;){var r=Ga(i)[n];if(!("top"===n||"left"===n?o>=r:o<=r))return i;if(i===Fa())break;i=Ja(i,!1)}return!1}function Ya(e,t,n){for(var i=0,o=0,r=e.children;o<r.length;){if("none"!==r[o].style.display&&r[o]!==Ql.ghost&&r[o]!==Ql.dragged&&Wa(r[o],n.draggable,e,!1)){if(i===t)return r[o];i++}o++}return null}function Xa(e,t){for(var n=e.lastElementChild;n&&(n===Ql.ghost||"none"===qa(n,"display")||t&&!Ra(n,t));)n=n.previousElementSibling;return n||null}function Ka(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ql.clone||t&&!Ra(e,t)||n++;return n}function Za(e){var t=0,n=0,i=Fa();if(e)do{var o=Ua(e),r=o.a,s=o.d;t+=e.scrollLeft*r,n+=e.scrollTop*s}while(e!==i&&(e=e.parentNode));return[t,n]}function Ja(e,t){if(!e||!e.getBoundingClientRect)return Fa();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=qa(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Fa();if(i||t)return n;i=!0}}}while(n=n.parentNode);return Fa()}function Qa(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function el(e,t){return function(){if(!Ha){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),Ha=setTimeout((function(){Ha=void 0}),t)}}}function tl(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function nl(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var il="Sortable"+(new Date).getTime();var ol=[],rl={initializeByDefault:!0},sl={mount:function(e){for(var t in rl)rl.hasOwnProperty(t)&&!(t in e)&&(e[t]=rl[t]);ol.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),ol.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";ol.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](Ca({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Ca({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var o in ol.forEach((function(i){var o=i.pluginName;if(e.options[o]||i.initializeByDefault){var r=new i(e,t,e.options);r.sortable=e,r.options=e.options,e[o]=r,xa(n,r.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);void 0!==r&&(e.options[o]=r)}},getEventProperties:function(e,t){var n={};return ol.forEach((function(i){"function"==typeof i.eventProperties&&xa(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return ol.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(i=o.optionListeners[t].call(e[o.pluginName],n))})),i}};var al=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=Ta(n,["evt"]);sl.pluginEvent.bind(Ql)(e,t,Ca({dragEl:cl,parentEl:ul,ghostEl:dl,rootEl:hl,nextEl:pl,lastDownEl:fl,cloneEl:ml,cloneHidden:gl,dragStarted:_l,putSortable:wl,activeSortable:Ql.active,originalEvent:i,oldIndex:bl,oldDraggableIndex:vl,newIndex:yl,newDraggableIndex:El,hideGhostForTarget:Xl,unhideGhostForTarget:Kl,cloneNowHidden:function(){gl=!0},cloneNowShown:function(){gl=!1},dispatchSortableEvent:function(e){ll({sortable:t,name:e,originalEvent:i})}},o))};function ll(e){!function(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,r=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[il]){var m,g=t.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||Ia||Aa?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=s||n,m.from=a||n,m.item=o||n,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var y=Ca({},f,sl.getEventProperties(i,t));for(var v in y)m[v]=y[v];n&&n.dispatchEvent(m),g[b]&&g[b].call(t,m)}}(Ca({putSortable:wl,cloneEl:ml,targetEl:cl,rootEl:hl,oldIndex:bl,oldDraggableIndex:vl,newIndex:yl,newDraggableIndex:El},e))}var cl,ul,dl,hl,pl,fl,ml,gl,bl,yl,vl,El,Sl,wl,xl,Cl,Tl,kl,Il,Al,_l,Ol,Ll,Nl,Dl,Pl=!1,Ml=!1,Rl=[],Bl=!1,Wl=!1,Hl=[],jl=!1,zl=[],ql="undefined"!=typeof document,Ul=La,$l=Aa||Ia?"cssFloat":"float",Fl=ql&&!Na&&!La&&"draggable"in document.createElement("div"),Gl=function(){if(ql){if(Ia)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Vl=function(e,t){var n=qa(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Ya(e,0,t),r=Ya(e,1,t),s=o&&qa(o),a=r&&qa(r),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ga(o).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ga(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!r||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return o&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===n[$l]||r&&"none"===n[$l]&&l+c>i)?"vertical":"horizontal"},Yl=function(e){function t(e,n){return function(i,o,r,s){var a=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,o,r,s),n)(i,o,r,s);var l=(n?i:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==Sa(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Xl=function(){!Gl&&dl&&qa(dl,"display","none")},Kl=function(){!Gl&&dl&&qa(dl,"display","")};ql&&document.addEventListener("click",(function(e){if(Ml)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ml=!1,!1}),!0);var Zl=function(e){if(cl){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,r=e.clientY,Rl.some((function(e){if(!Xa(e)){var t=Ga(e),n=e[il].options.emptyInsertThreshold,i=o>=t.left-n&&o<=t.right+n,a=r>=t.top-n&&r<=t.bottom+n;return n&&i&&a?s=e:void 0}})),s);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[il]._onDragOver(n)}}var o,r,s},Jl=function(e){cl&&cl.parentNode[il]._isOutsideThisEl(e.target)};function Ql(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=xa({},t),e[il]=this;var n,i,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vl(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ql.supportPointer&&"PointerEvent"in window&&!Oa,emptyInsertThreshold:5};for(var r in sl.initializePlugins(this,e,o),o)!(r in t)&&(t[r]=o[r]);for(var s in Yl(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Fl,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Pa(e,"pointerdown",this._onTapStart):(Pa(e,"mousedown",this._onTapStart),Pa(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pa(e,"dragover",this),Pa(e,"dragenter",this)),Rl.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),xa(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==qa(e,"display")&&e!==Ql.ghost){i.push({target:e,rect:Ga(e)});var t=Ca({},i[i.length-1].rect);if(e.thisAnimationDuration){var n=Ua(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))},addAnimationState:function(e){i.push(e)},removeAnimationState:function(e){i.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(i,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var o=!1,r=0;i.forEach((function(e){var n=0,i=e.target,s=i.fromRect,a=Ga(i),l=i.prevFromRect,c=i.prevToRect,u=e.rect,d=Ua(i,!0);d&&(a.top-=d.f,a.left-=d.e),i.toRect=a,i.thisAnimationDuration&&Qa(l,a)&&!Qa(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(n=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,l,c,t.options)),Qa(a,s)||(i.prevFromRect=s,i.prevToRect=a,n||(n=t.options.animation),t.animate(i,u,a,n)),n&&(o=!0,r=Math.max(r,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),n),i.thisAnimationDuration=n)})),clearTimeout(n),o?n=setTimeout((function(){"function"==typeof e&&e()}),r):"function"==typeof e&&e(),i=[]},animate:function(e,t,n,i){if(i){qa(e,"transition",""),qa(e,"transform","");var o=Ua(this.el),r=o&&o.a,s=o&&o.d,a=(t.left-n.left)/(r||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,qa(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),qa(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),qa(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){qa(e,"transition",""),qa(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}))}function ec(e,t,n,i,o,r,s,a){var l,c,u=e[il],d=u.options.onMove;return!window.CustomEvent||Ia||Aa?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=o||t,l.relatedRect=r||Ga(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(c=d.call(u,l,s)),c}function tc(e){e.draggable=!1}function nc(){jl=!1}function ic(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function oc(e){return setTimeout(e,0)}function rc(e){return clearTimeout(e)}Ql.prototype={constructor:Ql,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ol=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,cl):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,o=i.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=i.filter;if(function(e){zl.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&zl.push(i)}}(n),!cl&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Oa||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=Wa(a,i.draggable,n,!1))&&a.animated||fl===a)){if(bl=Ka(a),vl=Ka(a,i.draggable),"function"==typeof c){if(c.call(this,e,a,this))return ll({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),al("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=Wa(l,i.trim(),n,!1))return ll({sortable:t,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),al("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());i.handle&&!Wa(l,i.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var i,o=this,r=o.el,s=o.options,a=r.ownerDocument;if(n&&!cl&&n.parentNode===r){var l=Ga(n);if(hl=r,ul=(cl=n).parentNode,pl=cl.nextSibling,fl=n,Sl=s.group,Ql.dragged=cl,xl={target:cl,clientX:(t||e).clientX,clientY:(t||e).clientY},Il=xl.clientX-l.left,Al=xl.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,cl.style["will-change"]="all",i=function(){al("delayEnded",o,{evt:e}),Ql.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!_a&&o.nativeDraggable&&(cl.draggable=!0),o._triggerDragStart(e,t),ll({sortable:o,name:"choose",originalEvent:e}),za(cl,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){$a(cl,e.trim(),tc)})),Pa(a,"dragover",Zl),Pa(a,"mousemove",Zl),Pa(a,"touchmove",Zl),Pa(a,"mouseup",o._onDrop),Pa(a,"touchend",o._onDrop),Pa(a,"touchcancel",o._onDrop),_a&&this.nativeDraggable&&(this.options.touchStartThreshold=4,cl.draggable=!0),al("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(Aa||Ia))i();else{if(Ql.eventCanceled)return void this._onDrop();Pa(a,"mouseup",o._disableDelayedDrag),Pa(a,"touchend",o._disableDelayedDrag),Pa(a,"touchcancel",o._disableDelayedDrag),Pa(a,"mousemove",o._delayedDragTouchMoveHandler),Pa(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&Pa(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){cl&&tc(cl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ma(e,"mouseup",this._disableDelayedDrag),Ma(e,"touchend",this._disableDelayedDrag),Ma(e,"touchcancel",this._disableDelayedDrag),Ma(e,"mousemove",this._delayedDragTouchMoveHandler),Ma(e,"touchmove",this._delayedDragTouchMoveHandler),Ma(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Pa(document,"pointermove",this._onTouchMove):Pa(document,t?"touchmove":"mousemove",this._onTouchMove):(Pa(cl,"dragend",this),Pa(hl,"dragstart",this._onDragStart));try{document.selection?oc((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Pl=!1,hl&&cl){al("dragStarted",this,{evt:t}),this.nativeDraggable&&Pa(document,"dragover",Jl);var n=this.options;!e&&za(cl,n.dragClass,!1),za(cl,n.ghostClass,!0),Ql.active=this,e&&this._appendGhost(),ll({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Cl){this._lastX=Cl.clientX,this._lastY=Cl.clientY,Xl();for(var e=document.elementFromPoint(Cl.clientX,Cl.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Cl.clientX,Cl.clientY))!==t;)t=e;if(cl.parentNode[il]._isOutsideThisEl(e),t)do{if(t[il]&&t[il]._onDragOver({clientX:Cl.clientX,clientY:Cl.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Kl()}},_onTouchMove:function(e){if(xl){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=dl&&Ua(dl,!0),s=dl&&r&&r.a,a=dl&&r&&r.d,l=Ul&&Dl&&Za(Dl),c=(o.clientX-xl.clientX+i.x)/(s||1)+(l?l[0]-Hl[0]:0)/(s||1),u=(o.clientY-xl.clientY+i.y)/(a||1)+(l?l[1]-Hl[1]:0)/(a||1);if(!Ql.active&&!Pl){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(dl){r?(r.e+=c-(Tl||0),r.f+=u-(kl||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");qa(dl,"webkitTransform",d),qa(dl,"mozTransform",d),qa(dl,"msTransform",d),qa(dl,"transform",d),Tl=c,kl=u,Cl=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!dl){var e=this.options.fallbackOnBody?document.body:hl,t=Ga(cl,!0,Ul,!0,e),n=this.options;if(Ul){for(Dl=e;"static"===qa(Dl,"position")&&"none"===qa(Dl,"transform")&&Dl!==document;)Dl=Dl.parentNode;Dl!==document.body&&Dl!==document.documentElement?(Dl===document&&(Dl=Fa()),t.top+=Dl.scrollTop,t.left+=Dl.scrollLeft):Dl=Fa(),Hl=Za(Dl)}za(dl=cl.cloneNode(!0),n.ghostClass,!1),za(dl,n.fallbackClass,!0),za(dl,n.dragClass,!0),qa(dl,"transition",""),qa(dl,"transform",""),qa(dl,"box-sizing","border-box"),qa(dl,"margin",0),qa(dl,"top",t.top),qa(dl,"left",t.left),qa(dl,"width",t.width),qa(dl,"height",t.height),qa(dl,"opacity","0.8"),qa(dl,"position",Ul?"absolute":"fixed"),qa(dl,"zIndex","100000"),qa(dl,"pointerEvents","none"),Ql.ghost=dl,e.appendChild(dl),qa(dl,"transform-origin",Il/parseInt(dl.style.width)*100+"% "+Al/parseInt(dl.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,o=n.options;al("dragStart",this,{evt:e}),Ql.eventCanceled?this._onDrop():(al("setupClone",this),Ql.eventCanceled||((ml=nl(cl)).draggable=!1,ml.style["will-change"]="",this._hideClone(),za(ml,this.options.chosenClass,!1),Ql.clone=ml),n.cloneId=oc((function(){al("clone",n),Ql.eventCanceled||(n.options.removeCloneOnHide||hl.insertBefore(ml,cl),n._hideClone(),ll({sortable:n,name:"clone"}))})),!t&&za(cl,o.dragClass,!0),t?(Ml=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Ma(document,"mouseup",n._onDrop),Ma(document,"touchend",n._onDrop),Ma(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,cl)),Pa(document,"drop",n),qa(cl,"transform","translateZ(0)")),Pl=!0,n._dragStartId=oc(n._dragStarted.bind(n,t,e)),Pa(document,"selectstart",n),_l=!0,Oa&&qa(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,r=this.el,s=e.target,a=this.options,l=a.group,c=Ql.active,u=Sl===l,d=a.sort,h=wl||c,p=this,f=!1;if(!jl){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=Wa(s,a.draggable,r,!0),A("dragOver"),Ql.eventCanceled)return f;if(cl.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return O(!1);if(Ml=!1,c&&!a.disabled&&(u?d||(i=!hl.contains(cl)):wl===this||(this.lastPutMode=Sl.checkPull(this,c,cl,e))&&l.checkPut(this,c,cl,e))){if(o="vertical"===this._getDirection(e,s),t=Ga(cl),A("dragOverValid"),Ql.eventCanceled)return f;if(i)return ul=hl,_(),this._hideClone(),A("revert"),Ql.eventCanceled||(pl?hl.insertBefore(cl,pl):hl.appendChild(cl)),O(!0);var m=Xa(r,a.draggable);if(!m||function(e,t,n){var i=Ga(Xa(n.el,n.options.draggable));return t?e.clientX>i.right+10||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+10}(e,o,this)&&!m.animated){if(m===cl)return O(!1);if(m&&r===e.target&&(s=m),s&&(n=Ga(s)),!1!==ec(hl,r,cl,t,s,n,e,!!s))return _(),r.appendChild(cl),ul=r,L(),O(!0)}else if(s.parentNode===r){n=Ga(s);var g,b,y,v=cl.parentNode!==r,E=!function(e,t,n){var i=n?e.left:e.top,o=n?e.right:e.bottom,r=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return i===s||o===a||i+r/2===s+l/2}(cl.animated&&cl.toRect||t,s.animated&&s.toRect||n,o),S=o?"top":"left",w=Va(s,"top","top")||Va(cl,"top","top"),x=w?w.scrollTop:void 0;if(Ol!==s&&(b=n[S],Bl=!1,Wl=!E&&a.invertSwap||v),g=function(e,t,n,i,o,r,s,a){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,h=!1;if(!s)if(a&&Nl<c*o){if(!Bl&&(1===Ll?l>u+c*r/2:l<d-c*r/2)&&(Bl=!0),Bl)h=!0;else if(1===Ll?l<u+Nl:l>d-Nl)return-Ll}else if(l>u+c*(1-o)/2&&l<d-c*(1-o)/2)return function(e){return Ka(cl)<Ka(e)?1:-1}(t);return(h=h||s)&&(l<u+c*r/2||l>d-c*r/2)?l>u+c/2?1:-1:0}(e,s,n,o,E?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Wl,Ol===s),0!==g){var C=Ka(cl);do{C-=g,y=ul.children[C]}while(y&&("none"===qa(y,"display")||y===dl))}if(0===g||y===s)return O(!1);Ol=s,Ll=g;var T=s.nextElementSibling,k=!1,I=ec(hl,r,cl,t,s,n,e,k=1===g);if(!1!==I)return 1!==I&&-1!==I||(k=1===I),jl=!0,setTimeout(nc,30),_(),k&&!T?r.appendChild(cl):s.parentNode.insertBefore(cl,k?T:s),w&&tl(w,0,x-w.scrollTop),ul=cl.parentNode,void 0===b||Wl||(Nl=Math.abs(b-Ga(s)[S])),L(),O(!0)}if(r.contains(cl))return O(!1)}return!1}function A(a,l){al(a,p,Ca({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:s,completed:O,onMove:function(n,i){return ec(hl,r,cl,t,n,Ga(n),e,i)},changed:L},l))}function _(){A("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function O(t){return A("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==h&&(za(cl,wl?wl.options.ghostClass:c.options.ghostClass,!1),za(cl,a.ghostClass,!0)),wl!==p&&p!==Ql.active?wl=p:p===Ql.active&&wl&&(wl=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){A("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===cl&&!cl.animated||s===r&&!s.animated)&&(Ol=null),a.dragoverBubble||e.rootEl||s===document||(cl.parentNode[il]._isOutsideThisEl(e.target),!t&&Zl(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function L(){yl=Ka(cl),El=Ka(cl,a.draggable),ll({sortable:p,name:"change",toEl:r,newIndex:yl,newDraggableIndex:El,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ma(document,"mousemove",this._onTouchMove),Ma(document,"touchmove",this._onTouchMove),Ma(document,"pointermove",this._onTouchMove),Ma(document,"dragover",Zl),Ma(document,"mousemove",Zl),Ma(document,"touchmove",Zl)},_offUpEvents:function(){var e=this.el.ownerDocument;Ma(e,"mouseup",this._onDrop),Ma(e,"touchend",this._onDrop),Ma(e,"pointerup",this._onDrop),Ma(e,"touchcancel",this._onDrop),Ma(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;yl=Ka(cl),El=Ka(cl,n.draggable),al("drop",this,{evt:e}),ul=cl&&cl.parentNode,yl=Ka(cl),El=Ka(cl,n.draggable),Ql.eventCanceled||(Pl=!1,Wl=!1,Bl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),rc(this.cloneId),rc(this._dragStartId),this.nativeDraggable&&(Ma(document,"drop",this),Ma(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oa&&qa(document.body,"user-select",""),qa(cl,"transform",""),e&&(_l&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),dl&&dl.parentNode&&dl.parentNode.removeChild(dl),(hl===ul||wl&&"clone"!==wl.lastPutMode)&&ml&&ml.parentNode&&ml.parentNode.removeChild(ml),cl&&(this.nativeDraggable&&Ma(cl,"dragend",this),tc(cl),cl.style["will-change"]="",_l&&!Pl&&za(cl,wl?wl.options.ghostClass:this.options.ghostClass,!1),za(cl,this.options.chosenClass,!1),ll({sortable:this,name:"unchoose",toEl:ul,newIndex:null,newDraggableIndex:null,originalEvent:e}),hl!==ul?(yl>=0&&(ll({rootEl:ul,name:"add",toEl:ul,fromEl:hl,originalEvent:e}),ll({sortable:this,name:"remove",toEl:ul,originalEvent:e}),ll({rootEl:ul,name:"sort",toEl:ul,fromEl:hl,originalEvent:e}),ll({sortable:this,name:"sort",toEl:ul,originalEvent:e})),wl&&wl.save()):yl!==bl&&yl>=0&&(ll({sortable:this,name:"update",toEl:ul,originalEvent:e}),ll({sortable:this,name:"sort",toEl:ul,originalEvent:e})),Ql.active&&(null!=yl&&-1!==yl||(yl=bl,El=vl),ll({sortable:this,name:"end",toEl:ul,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){al("nulling",this),hl=cl=ul=dl=pl=ml=fl=gl=xl=Cl=_l=yl=El=bl=vl=Ol=Ll=wl=Sl=Ql.dragged=Ql.ghost=Ql.clone=Ql.active=null,zl.forEach((function(e){e.checked=!0})),zl.length=Tl=kl=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":cl&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)Wa(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||ic(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var o=i.children[t];Wa(o,this.options.draggable,i,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Wa(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=sl.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Yl(n)},destroy:function(){al("destroy",this);var e=this.el;e[il]=null,Ma(e,"mousedown",this._onTapStart),Ma(e,"touchstart",this._onTapStart),Ma(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ma(e,"dragover",this),Ma(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Rl.splice(Rl.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!gl){if(al("hideClone",this),Ql.eventCanceled)return;qa(ml,"display","none"),this.options.removeCloneOnHide&&ml.parentNode&&ml.parentNode.removeChild(ml),gl=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(gl){if(al("showClone",this),Ql.eventCanceled)return;cl.parentNode!=hl||this.options.group.revertClone?pl?hl.insertBefore(ml,pl):hl.appendChild(ml):hl.insertBefore(ml,cl),this.options.group.revertClone&&this.animate(cl,ml),qa(ml,"display",""),gl=!1}}else this._hideClone()}},ql&&Pa(document,"touchmove",(function(e){(Ql.active||Pl)&&e.cancelable&&e.preventDefault()})),Ql.utils={on:Pa,off:Ma,css:qa,find:$a,is:function(e,t){return!!Wa(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:el,closest:Wa,toggleClass:za,clone:nl,index:Ka,nextTick:oc,cancelNextTick:rc,detectDirection:Vl,getChild:Ya},Ql.get=function(e){return e[il]},Ql.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ql.utils=Ca({},Ql.utils,e.utils)),sl.mount(e)}))},Ql.create=function(e,t){return new Ql(e,t)},Ql.version="1.13.0";var sc,ac,lc,cc=[];el((function(e,t,n,i){if(t.scroll){var o,r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=Fa();ac!==n&&(ac=n,cc.forEach((function(e){clearInterval(e.pid)})),cc=[],sc=t.scroll,o=t.scrollFn,!0===sc&&(sc=Ja(n,!0)));var u=0,d=sc;do{var h=d,p=Ga(h),f=p.top,m=p.bottom,g=p.left,b=p.right,y=p.width,v=p.height,E=void 0,S=void 0,w=h.scrollWidth,x=h.scrollHeight,C=qa(h),T=h.scrollLeft,k=h.scrollTop;h===c?(E=y<w&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),S=v<x&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(E=y<w&&("auto"===C.overflowX||"scroll"===C.overflowX),S=v<x&&("auto"===C.overflowY||"scroll"===C.overflowY));var I=E&&(Math.abs(b-r)<=a&&T+y<w)-(Math.abs(g-r)<=a&&!!T),A=S&&(Math.abs(m-s)<=a&&k+v<x)-(Math.abs(f-s)<=a&&!!k);if(!cc[u])for(var _=0;_<=u;_++)cc[_]||(cc[_]={});cc[u].vx==I&&cc[u].vy==A&&cc[u].el===h||(cc[u].el=h,cc[u].vx=I,cc[u].vy=A,clearInterval(cc[u].pid),0==I&&0==A||(!0,cc[u].pid=setInterval(function(){i&&0===this.layer&&Ql.active._onTouchMove(lc);var t=cc[this.layer].vy?cc[this.layer].vy*l:0,n=cc[this.layer].vx?cc[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Ql.dragged.parentNode[il],n,t,e,lc,cc[this.layer].el)||tl(cc[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&d!==c&&(d=Ja(d,!1)))}}),30);var uc=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||o;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function dc(){}function hc(){}dc.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Ya(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:uc},xa(dc,{pluginName:"revertOnSpill"}),hc.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:uc},xa(hc,{pluginName:"removeOnSpill"});const pc=Ql;class fc{constructor(e){function t(e,t){Array.from(document.querySelectorAll(e)).forEach((e=>e.onclick=t))}this.element=e,Xi(((e,t)=>this.redraw())),ln((()=>this.redraw())),this.pageShortcuts(["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],{modifiers:!1}),this.pageShortcuts(["1","2","3","4","5","6","7","8","9","0"],{ctrlKey:!0}),this.pageShortcuts(["1","2","3","4","5","6","7","8","9","0"],{ctrlKey:!0,shiftKey:!0}),this.element.addEventListener("click",(e=>{if(e.target.classList.contains("page-delete"))this.removePageAtIndex(this.getCellIndex(e.target.parentElement.parentElement));else if(e.target.classList.contains("page-properties"))this.editPageAtIndex(this.getCellIndex(e.target.parentElement.parentElement));else{const t=this.getCellIndex(e.target.parentElement);t>=0&&this.setSelectedIndex(t,!0)}e.preventDefault()}),!1),t(".add-page",(e=>gr())),t(".remove-page",(e=>yr())),t(".move-page-up",(e=>{const t=sr();vr(t,Yi().indexOf(t)-1)})),t(".move-page-down",(e=>{const t=sr();vr(t,Yi().indexOf(t)+1)}));const n=this.element.querySelector(".page-tool-container");pc.create(n,{ghostClass:"page-ghost",animation:150,handle:".page-handle",onSort:e=>{const t=Yi();Vi({page:t[e.oldIndex],idx:e.newIndex})}})}pageShortcuts(e,t){e.forEach(((e,n)=>Fs({label:"Go to page "+(n+1),key:e,input:!0,...t},(e=>{const t=Yi()[n];t&&hr(t)}))))}removePageAtIndex(e){yr(Yi()[e])}editPageAtIndex(e){br(Yi()[e])}setSelectedIndex(e,t){t&&hr(Yi()[e])}getCellIndex(e){const t=e.getAttribute("data-page-idx");return t?parseInt(t,10):-1}redraw(){const{currentPageId:e}=an(),t=Yi().map(((t,n)=>Object.assign({className:(t.id===e?" ui-selected":"")+(t.canDelete?" ui-can-delete":" ui-can-not-delete")+(t.canProperties?" ui-can-properties":" ui-can-not-properties")+(t.canMove?" ui-can-move":" ui-can-not-move"),idx:n,shortcutText:t.id!==e&&n<9?`Click to open this page (Ctrl+${n+1} or F${n+1})`:""},t))),n=this.element.querySelector(".page-tool-container"),i=this.element.querySelector(".page-tool-template").innerHTML;n.innerHTML=Kr(i,t)}}class mc{constructor(e,t){this.color="",this.isDisabled=!0,this.isIndeterminate=!0,this.element=e,this.cbk=t,this.colorInput=this.element.querySelector(".color-button"),this.colorInput.onchange=e=>this.onChange(e),this.colorInput.oninput=e=>this.onChange(e),this.opacityInput=this.element.querySelector(".color-opacity-input"),this.opacityInput.onchange=e=>this.onChange(e),this.opacityInput.oninput=e=>this.onChange(e),this.transparentCheckbox=this.element.querySelector(".color-edit-transparent-check"),this.transparentCheckbox.onchange=e=>this.onChange(e)}setDisabled(e){this.isDisabled=e,this.redraw()}setIndeterminate(e){this.isIndeterminate=e,this.redraw()}setColor(e){this.color=e,this.redraw()}getColor(){return this.color}getOpacity(){const e=parseInt(this.opacityInput.value,10);return isNaN(e)?1:e/100}onChange(e){if(e.preventDefault(),e.stopPropagation(),this.transparentCheckbox.checked)this.color="transparent";else{const e=this.getOpacity(),t=Math.round(255*e).toString(16);this.color=function(e){if(0!==e.indexOf("#"))return e;if(9!==e.length)return console.error("Error in length "+e+" - "+e.length),e;const t=function(e){return 0!==e.indexOf("#")?null:(e=e.replace("#",""),[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),parseInt(e.substring(6,8),16)/255])}(e);return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"}(this.colorInput.value+(2===t.length?"":"0")+t)}this.cbk()}redraw(){if(this.isIndeterminate)this.transparentCheckbox.indeterminate=!0,this.opacityInput.value="";else if(this.transparentCheckbox.indeterminate=!1,"transparent"===this.color||null==this.color||""===this.color)this.transparentCheckbox.checked=!0,this.colorInput.disabled=!0,this.colorInput.style.opacity=".3",this.opacityInput.disabled=!0,this.opacityInput.value="";else{this.transparentCheckbox.checked=!1,this.colorInput.disabled=!1,this.colorInput.style.opacity="1";const e=function(e){if(0!==e.indexOf("rgb"))return e;const t=$n(e);let n=t[0].toString(16);n.length<2&&(n="0"+n);let i=t[1].toString(16);i.length<2&&(i="0"+i);let o=t[2].toString(16);o.length<2&&(o="0"+o);let r=t[3].toString(16);return r.length<2&&(r="0"+r),"#"+(n+i+o+r)}(this.color);this.colorInput.value=e.substring(0,e.length-2),this.opacityInput.disabled=!1;try{const e=$n(this.color);this.opacityInput.value=Math.round(100*e[3]/255).toString()}catch(e){console.warn("this color is probably not an rgba color",this.color,e),this.opacityInput.value="100"}}this.isDisabled?(this.transparentCheckbox.disabled=!0,this.colorInput.disabled=!0,this.colorInput.style.opacity=".3",this.opacityInput.disabled=!0):this.transparentCheckbox.disabled=!1}}class gc{constructor(e){this.element=e,this.change=new Map,this.baseUrl=null}getCommonProperty(e,t){let n=null,i=!0,o=!0;return e.forEach((e=>{const r=t(e);o?(o=!1,n=r):r!==n&&(i=!1)})),i||(n=null),n}redraw(e){}onInputPxChanged(e,t){if(!this.change.has(e))throw new Error("Unknown input "+e);this.change.get(e).onChange(t)}createInput(e){e.forEach((e=>{const t=this.element.querySelector(e.selector);if(!t)throw new Error("Could not find input "+e.selector);const n={onChange:e=>{null!=e&&"auto"!==e?(e!==t.value&&(t.value=e),t.disabled=!1):(t.value="",t.disabled=!0)}};t.addEventListener(e.eventName,(n=>{n.preventDefault();const i=t.value?t.value+e.unit:"";this.styleChanged(e.styleName,i)})),this.change.set(e.selector,n)}))}styleChanged(e,t){"width"===e&&ci().filter((e=>e.isSectionContent&&!an().mobileEditor)).unshift()&&pi({...fi(),width:parseInt(t)}),Rn(ci().map((n=>{const i={};return i[e]=t,{...n,style:{...n.style,...qn(an().mobileEditor,n.style,zn(n,n.isSectionContent,i))}}})))}initInput(e,t,n="input"){return this.initEventTarget(e,n,t)}initComboBox(e,t){return this.initEventTarget(e,"change",t)}initCheckBox(e,t){return this.initEventTarget(e,"change",t)}initEventTarget(e,t,n){const i=this.element.querySelector(e);return i.addEventListener(t,(e=>{e.preventDefault(),e.stopPropagation(),n(e)})),i}}class bc extends gc{constructor(e){super(e),this.buildBgColor(),this.buildBgImage(),ln((()=>{this.redraw(ci())})),Wn((()=>{this.redraw(ci())}))}buildBgColor(){this.colorPicker=new mc(this.element.querySelector(".color-edit-container"),(()=>this.onColorChanged()))}buildBgImage(){this.bgSelectBgImage=this.element.querySelector(".bg-image-button"),this.bgClearBgImage=this.element.querySelector(".clear-bg-image-button"),this.bgSelectBgImage.addEventListener("click",(()=>this.onSelectImageButton()),!1),this.bgClearBgImage.addEventListener("click",(()=>this.onClearImageButton()),!1),this.attachmentComboBox=this.initComboBox(".bg-attachment-combo-box",(e=>{this.styleChanged("background-attachment",e.target.value)})),this.vPositionComboBox=this.initComboBox(".bg-position-v-combo-box",(e=>{const t=this.hPositionComboBox.value,n=this.vPositionComboBox.value;this.styleChanged("background-position",n+" "+t)})),this.hPositionComboBox=this.initComboBox(".bg-position-h-combo-box",(e=>{const t=this.hPositionComboBox.value,n=this.vPositionComboBox.value;this.styleChanged("background-position",n+" "+t)})),this.repeatComboBox=this.initComboBox(".bg-repeat-combo-box",(e=>{this.styleChanged("background-repeat",e.target.value)})),this.sizeComboBox=this.initComboBox(".bg-size-combo-box",(e=>{this.styleChanged("background-size",e.target.value)}))}redraw(e){if(super.redraw(e),As("design","properties")){this.element.style.display="";const t=an().mobileEditor?"mobile":"desktop";if(e.length>0){this.colorPicker.setDisabled(!1);const n=this.getCommonProperty(e,(e=>e.style[t]["background-color"]||""));this.colorPicker.setIndeterminate(null===n),null!=n&&this.colorPicker.setColor(n)}else this.colorPicker.setDisabled(!0);const n=e=>{e?this.bgClearBgImage.classList.remove("disabled"):this.bgClearBgImage.classList.add("disabled"),this.attachmentComboBox.disabled=!e,this.vPositionComboBox.disabled=!e,this.hPositionComboBox.disabled=!e,this.repeatComboBox.disabled=!e,this.sizeComboBox.disabled=!e},i=this.getCommonProperty(e,(e=>e.style[t]["background-image"]));n(null!=i&&"none"!==i&&""!==i);const o=this.getCommonProperty(e,(e=>e.style[t]["background-attachment"]));o?this.attachmentComboBox.value=o:this.attachmentComboBox.selectedIndex=0;const r=this.getCommonProperty(e,(e=>e.style[t]["background-position"]));if(r&&""!==r){const e=r.includes("left")?"left":r.includes("right")?"right":r.includes("center")?"center":"",t=r.includes("top")?"top":r.includes("bottom")?"bottom":r.includes("center")?"center":"";this.vPositionComboBox.value=t,this.hPositionComboBox.value=e}else this.vPositionComboBox.selectedIndex=0,this.hPositionComboBox.selectedIndex=0;const s=this.getCommonProperty(e,(e=>e.style[t]["background-repeat"]));s?this.repeatComboBox.value=s:this.repeatComboBox.selectedIndex=0;const a=this.getCommonProperty(e,(e=>e.style[t]["background-size"]));a?this.sizeComboBox.value=a:this.sizeComboBox.selectedIndex=0}else this.element.style.display="none"}onColorChanged(){"transparent"!==this.colorPicker.getColor()&&1===this.colorPicker.getOpacity()||!ci().includes(ai())?this.styleChanged("background-color",this.colorPicker.getColor()):this.redraw(ci())}async onSelectImageButton(){try{const e=await Vt.getInstance().openFile(Vt.IMAGE_EXTENSIONS);if(e){const t=Bn().find((e=>e.selected));Rn([{...t,style:qn(an().mobileEditor,t.style,{"background-image":ge.addUrlKeyword(e.absPath)})}])}}catch(e){me.notifyError(`Error: I could not load the image. \n${e.message||""}`)}}onClearImageButton(){this.styleChanged("background-image","")}}class yc extends gc{constructor(e){super(e),this.borderPlacementCheckBoxes=null,this.cornerPlacementCheckBoxes=null,this.colorPicker=new mc(this.element.querySelector(".color-edit-container"),(()=>this.onBorderColorChanged())),this.borderPlacementCheckBoxes=[".border-placement-container .top",".border-placement-container .right",".border-placement-container .bottom",".border-placement-container .left"].map((e=>this.initCheckBox(e,(e=>this.onBorderWidthChanged())))),this.cornerPlacementCheckBoxes=[".border-radius-container .top-left",".border-radius-container .top-right",".border-radius-container .bottom-right",".border-radius-container .bottom-left"].map((e=>this.initCheckBox(e,(()=>this.onBorderCornerChanged())))),this.borderWidthInput=this.initInput(".border-width-input",(e=>this.onBorderWidthChanged())),this.borderStyleComboBox=this.initComboBox(".border-type-combo-box",(e=>this.onBorderStyleChanged())),this.borderRadiusInput=this.initInput(".corner-radius-input",(e=>this.onBorderCornerChanged())),ln((()=>{this.redraw(ci())})),Wn((()=>{this.redraw(ci())}))}redraw(e){if(super.redraw(e),As("design","properties")){this.element.style.display="";const t=an().mobileEditor?"mobile":"desktop",n=this.getCommonProperty(e,(e=>{const n=e.style[t]["border-width"];return n&&""!==n?n:null}));n?(this.redrawBorderWidth(n),this.redrawBorderColor(e)):this.resetBorder();const i=this.getCommonProperty(e,(e=>e.style[t]["border-style"]));i?this.borderStyleComboBox.value=i:this.borderStyleComboBox.selectedIndex=0;const o=this.getCommonProperty(e,(e=>e.style[t]["border-radius"]));o?this.redrawBorderRadius(o):this.resetBorderRadius()}else this.element.style.display="none"}redrawBorderColor(e){const t=an().mobileEditor?"mobile":"desktop";if(e.length>0){this.colorPicker.setDisabled(!1);const n=this.getCommonProperty(e,(e=>e.style[t]["border-color"]||"rgba(0,0,0,1)"));this.colorPicker.setIndeterminate(null==n),null!=n&&this.colorPicker.setColor(n)}else this.colorPicker.setDisabled(!0)}redrawBorderRadius(e){const t=e.split(" ");let n=t[0];if((null!=t[1]&&"0"===n||"0px"===n)&&(n=t[1]),(null!=t[2]&&"0"===n||"0px"===n)&&(n=t[2]),(null!=t[3]&&"0"===n||"0px"===n)&&(n=t[3]),null!=n&&"0"!==n&&"0px"!==n){let e;this.borderRadiusInput.value=n.substr(0,n.indexOf("px"));const i=this.cornerPlacementCheckBoxes.length;for(e=0;e<i;e++){const n=this.cornerPlacementCheckBoxes[e];"0"!==t[e]&&"0px"!==t[e]?n.checked=!0:n.checked=!1}}else this.resetBorderRadius()}redrawBorderWidth(e){const t=e.split(" ");let n=t[0];if((null!=t[1]&&"0"===n||"0px"===n)&&(n=t[1]),(null!=t[2]&&"0"===n||"0px"===n)&&(n=t[2]),(null!=t[3]&&"0"===n||"0px"===n)&&(n=t[3]),"0"!==n&&"0px"!==n){this.borderWidthInput.value=n.substr(0,n.indexOf("px"));const e=this.borderPlacementCheckBoxes.length;for(let n=0;n<e;n++){const e=this.borderPlacementCheckBoxes[n];t.length>n&&"0"!==t[n]&&"0px"!==t[n]?e.checked=!0:e.checked=!1}}else this.resetBorder()}resetBorderRadius(){let e;this.borderRadiusInput.value="";const t=this.cornerPlacementCheckBoxes.length;for(e=0;e<t;e++)this.cornerPlacementCheckBoxes[e].checked=!0}resetBorder(){let e;this.borderWidthInput.value="";const t=this.borderPlacementCheckBoxes.length;for(e=0;e<t;e++)this.borderPlacementCheckBoxes[e].checked=!0;this.colorPicker.setColor(""),this.colorPicker.setDisabled(!0)}onBorderWidthChanged(){if(this.borderWidthInput.value&&""!==this.borderWidthInput.value&&"0"!==this.borderWidthInput.value){this.colorPicker.setDisabled(!1),null!=this.colorPicker.getColor()&&""!==this.colorPicker.getColor()||this.colorPicker.setColor("rgba(0,0,0,1)");let e,t="";const n=this.borderPlacementCheckBoxes.length;for(e=0;e<n;e++)this.borderPlacementCheckBoxes[e].checked?t+=this.borderWidthInput.value+"px ":t+="0 ";this.colorPicker.setIndeterminate(!1);const i=this.borderStyleComboBox.value;Rn(ci().map((e=>({...e,style:qn(an().mobileEditor,e.style,{"border-width":t,"border-style":i})}))))}else Rn(ci().map((e=>({...e,style:qn(an().mobileEditor,e.style,{"border-width":"","border-style":""})})))),this.colorPicker.setDisabled(!0)}onBorderStyleChanged(){this.styleChanged("border-style",this.borderStyleComboBox.value)}onBorderColorChanged(){this.styleChanged("border-color",this.colorPicker.getColor())}onBorderCornerChanged(){if(null!=this.borderRadiusInput.value&&""!==this.borderRadiusInput.value){let e,t="";const n=this.cornerPlacementCheckBoxes.length;for(e=0;e<n;e++)this.cornerPlacementCheckBoxes[e].checked?t+=this.borderRadiusInput.value+"px ":t+="0 ";this.styleChanged("border-radius",t)}else this.styleChanged("border-radius",null)}}const vc=new WeakMap,Ec=e=>"function"==typeof e&&vc.has(e),Sc="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,wc=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},xc={},Cc={},Tc=`{{lit-${String(Math.random()).slice(2)}}}`,kc=`\x3c!--${Tc}--\x3e`,Ic=new RegExp(`${Tc}|${kc}`),Ac="$lit$";class _c{constructor(e,t){this.parts=[],this.element=t;const n=[],i=[],o=document.createTreeWalker(t.content,133,null,!1);let r=0,s=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=o.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let i=0;for(let e=0;e<n;e++)Oc(t[e].name,Ac)&&i++;for(;i-- >0;){const t=l[a],n=Dc.exec(t)[2],i=n.toLowerCase()+Ac,o=e.getAttribute(i);e.removeAttribute(i);const r=o.split(Ic);this.parts.push({type:"attribute",index:s,name:n,strings:r}),a+=r.length-1}}"TEMPLATE"===e.tagName&&(i.push(e),o.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(Tc)>=0){const i=e.parentNode,o=t.split(Ic),r=o.length-1;for(let t=0;t<r;t++){let n,r=o[t];if(""===r)n=Nc();else{const e=Dc.exec(r);null!==e&&Oc(e[2],Ac)&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-Ac.length)+e[3]),n=document.createTextNode(r)}i.insertBefore(n,e),this.parts.push({type:"node",index:++s})}""===o[r]?(i.insertBefore(Nc(),e),n.push(e)):e.data=o[r],a+=r}}else if(8===e.nodeType)if(e.data===Tc){const t=e.parentNode;null!==e.previousSibling&&s!==r||(s++,t.insertBefore(Nc(),e)),r=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(n.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(Tc,t+1));)this.parts.push({type:"node",index:-1}),a++}}else o.currentNode=i.pop()}for(const e of n)e.parentNode.removeChild(e)}}const Oc=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},Lc=e=>-1!==e.index,Nc=()=>document.createComment(""),Dc=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class Pc{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=Sc?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let o,r=0,s=0,a=i.nextNode();for(;r<n.length;)if(o=n[r],Lc(o)){for(;s<o.index;)s++,"TEMPLATE"===a.nodeName&&(t.push(a),i.currentNode=a.content),null===(a=i.nextNode())&&(i.currentNode=t.pop(),a=i.nextNode());if("node"===o.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(a.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,o.name,o.strings,this.options));r++}else this.__parts.push(void 0),r++;return Sc&&(document.adoptNode(e),customElements.upgrade(e)),e}}const Mc=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),Rc=` ${Tc} `;class Bc{constructor(e,t,n,i){this.strings=e,this.values=t,this.type=n,this.processor=i}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let i=0;i<e;i++){const e=this.strings[i],o=e.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===e.indexOf("--\x3e",o+1);const r=Dc.exec(e);t+=null===r?e+(n?Rc:kc):e.substr(0,r.index)+r[1]+r[2]+Ac+r[3]+Tc}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==Mc&&(t=Mc.createHTML(t)),e.innerHTML=t,e}}const Wc=e=>null===e||!("object"==typeof e||"function"==typeof e),Hc=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class jc{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new zc(this)}_getValue(){const e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=n[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!Hc(e))return e}let i="";for(let o=0;o<t;o++){i+=e[o];const t=n[o];if(void 0!==t){const e=t.value;if(Wc(e)||!Hc(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}return i+=e[t],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class zc{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===xc||Wc(e)&&e===this.value||(this.value=e,Ec(e)||(this.committer.dirty=!0))}commit(){for(;Ec(this.value);){const e=this.value;this.value=xc,e(this)}this.value!==xc&&this.committer.commit()}}class qc{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(Nc()),this.endNode=e.appendChild(Nc())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=Nc()),e.__insert(this.endNode=Nc())}insertAfterPart(e){e.__insert(this.startNode=Nc()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;Ec(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=xc,e(this)}const e=this.__pendingValue;e!==xc&&(Wc(e)?e!==this.value&&this.__commitText(e):e instanceof Bc?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):Hc(e)?this.__commitIterable(e):e===Cc?(this.value=Cc,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof Pc&&this.value.template===t)this.value.update(e.values);else{const n=new Pc(t,e.processor,this.options),i=n._clone();n.update(e.values),this.__commitNode(i),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,i=0;for(const o of e)n=t[i],void 0===n&&(n=new qc(this.options),t.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(t[i-1])),n.setValue(o),n.commit(),i++;i<t.length&&(t.length=i,this.clear(n&&n.endNode))}clear(e=this.startNode){wc(this.startNode.parentNode,e.nextSibling,this.endNode)}}class Uc{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;Ec(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=xc,e(this)}if(this.__pendingValue===xc)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=xc}}class $c extends jc{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new Fc(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Fc extends zc{}let Gc=!1;(()=>{try{const e={get capture(){return Gc=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class Vc{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;Ec(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=xc,e(this)}if(this.__pendingValue===xc)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),i=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Yc(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=xc}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const Yc=e=>e&&(Gc?{capture:e.capture,passive:e.passive,once:e.once}:e.capture),Xc=new class{handleAttributeExpressions(e,t,n,i){const o=t[0];return"."===o?new $c(e,t.slice(1),n).parts:"@"===o?[new Vc(e,t.slice(1),i.eventContext)]:"?"===o?[new Uc(e,t.slice(1),n)]:new jc(e,t,n).parts}handleTextExpression(e){return new qc(e)}};function Kc(e){let t=Zc.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},Zc.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const i=e.strings.join(Tc);return n=t.keyString.get(i),void 0===n&&(n=new _c(e,e.getTemplateElement()),t.keyString.set(i,n)),t.stringsArray.set(e.strings,n),n}const Zc=new Map,Jc=new WeakMap,Qc=(e,t,n)=>{let i=Jc.get(t);void 0===i&&(wc(t,t.firstChild),Jc.set(t,i=new qc(Object.assign({templateFactory:Kc},n))),i.appendInto(t)),i.setValue(e),i.commit()};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const eu=(e,...t)=>new Bc(e,t,"html",Xc),tu=new WeakMap,nu=(iu=e=>t=>{if(!(t instanceof qc))throw new Error("unsafeHTML can only be used in text bindings");const n=tu.get(t);if(void 0!==n&&Wc(e)&&e===n.value&&t.value===n.fragment)return;const i=document.createElement("template");i.innerHTML=e;const o=document.importNode(i.content,!0);t.setValue(o),tu.set(t,{value:e,fragment:o})},(...e)=>{const t=iu(...e);return vc.set(t,!0),t});var iu;class ou extends gc{constructor(e){super(e),this.template=(e,t,n,i)=>eu`
    <div title=${n?"Currently disabled because you have selected a container":""}>
      <label for="select-component-type">Component type selector${n?nu("&nbsp;<small>- disabled for selection</small>"):""}</label>
      <select @change=${i} ?disabled=${n} id="select-component-type">
        <option value="" ?selected=${""===t}>-</option>
        ${nu(Object.entries(e).filter((([e,t])=>!t.isPrivate)).map((([e,n])=>`\n              <option value=${e}${t===e?" selected":""}>${n.name}</option>\n            `)).join(""))}
      </select>
    </div>
  `,ln((()=>{As("params","properties")?(this.redraw(ci()),this.element.style.display=""):this.element.style.display="none"})),Wn((()=>{this.redraw(ci())}))}redraw(e){var t;super.redraw(e);const n=Ii(jt.COMPONENT_TYPE),i=e.length?null===(t=e[0].data.component)||void 0===t?void 0:t.templateName:void 0,o=e.every((e=>{var t;return i===(null===(t=e.data.component)||void 0===t?void 0:t.templateName)})),r=e.some((e=>[wt.CONTAINER,wt.SECTION].includes(e.type)||si(e))),s=o&&i?i:"";Qc(this.template(n,s,r,(e=>this.applyComponent(e.target.value))),this.element)}applyComponent(e){const t=ai(),n=ci().filter((e=>e!==t));if(n.length)if(""===e)Rn(n.map((e=>({...e,innerHtml:e.data.component.data.preview||"",data:{...e.data,component:null}}))));else{Rn(n.map((t=>({...t,data:{...t.data,component:{...t.data.component,templateName:e,data:{preview:t.innerHtml}}}}))));const i=ci().filter((e=>e!==t));Di(),Ti(i)}}}class ru extends gc{constructor(e){super(e),this.opacityInput=this.initInput(".opacity-input",(e=>this.onInputChanged(e))),ln((()=>{this.redraw(ci())})),Wn((()=>{this.redraw(ci())}))}onInputChanged(e){const t=this.opacityInput.value&&""!==this.opacityInput.value?Math.max(0,Math.min(1,parseFloat(this.opacityInput.value)/100)):null;this.styleChanged("opacity",t?t.toString():null)}redraw(e){if(super.redraw(e),As("design","properties")){this.element.style.display="";const t=ai(),n=e.filter((e=>e!==t));if(n.length>0){this.opacityInput.removeAttribute("disabled");const e=this.getCommonProperty(n,(e=>e.style[an().mobileEditor?"mobile":"desktop"].opacity));this.opacityInput.value=void 0===e?"":""===e?"100":Math.round(100*parseFloat(e)).toString()}else this.opacityInput.value="",this.opacityInput.setAttribute("disabled","true")}else this.element.style.display="none"}}class su extends gc{constructor(e){super(e),this.viewOnDeviceEl=null,this.viewOnAllPagesCheckbox=null,this.pageCheckboxes=[],this.linkBtn=null,this.linkStateEl=null,Xi((()=>{this.setPages(Yi()),this.redraw(ci())})),ln((()=>{this.redraw(ci())})),Wn((()=>{this.redraw(ci())})),this.linkStateEl=this.element.querySelector(".link-state"),this.linkBtn=this.element.querySelector(".link-button"),this.linkBtn.onclick=()=>this.editLink(),this.viewOnDeviceEl=this.element.querySelector(".view-on-mobile"),this.viewOnDeviceEl.onclick=()=>{const e=this.element.querySelector(".view-on-mobile input:checked").value,t="mobile"!==e,n="desktop"!==e;Rn(ci().map((e=>li(e))).filter((e=>e.visibility.desktop!==t||e.visibility.mobile!==n)).map((e=>({...e,selected:an().mobileEditor?n:t,visibility:{desktop:t,mobile:n}}))))},this.viewOnAllPagesCheckbox=this.element.querySelector(".view-on-allpages-check"),this.viewOnAllPagesCheckbox.onchange=()=>{const e=this.viewOnAllPagesCheckbox.checked?[]:[sr().id];Rn(ci().map((e=>li(e))).map((t=>({...t,pageNames:e}))))}}getLinkElements(e){const t=ai();return e.filter((e=>e!==t&&e.type!==wt.SECTION&&!e.isSectionContent))}editLink(){const e=this.getLinkElements(ci()),t=e.map((e=>e.link)).reduce(((e,t)=>e&&t&&Object.keys(e).every((n=>e[n]===t[n]))&&Object.keys(t).every((n=>e[n]===t[n]))?e:null));this.openLinkEditor(t,(t=>{Rn(e.map((e=>({...e,link:t}))))}))}setPages(e){const t=this.element.querySelector(".pages-container");t.innerHTML=Kr(su.selectorTemplate,e),this.pageCheckboxes&&this.pageCheckboxes.forEach((e=>{null!=e.checkbox.parentElement&&e.checkbox.parentElement.removeChild(e.checkbox),e.checkbox.onchange=null}));const n=Array.from(t.querySelectorAll(".page-container"));this.pageCheckboxes=n.map(((t,n)=>{const i=t.querySelector(".page-check"),o=e[n++];return i.onchange=e=>{this.checkPage(o,i),e.preventDefault()},{checkbox:i,page:o}}))}checkPage(e,t){t.checked?Lo(ci(),e):No(ci(),e),this.updateSelection()}updateSelection(){const{currentPageId:e}=an();Rn(ci().map((t=>({...t,selected:go(t,e)}))))}redraw(e){if(super.redraw(e),As("design","properties")){this.element.style.display="";const t=ai(),n=e.filter((e=>e!==t)).map((e=>li(e)));if(Array.from(this.viewOnDeviceEl.querySelectorAll(".view-on-mobile input")).forEach((e=>e.disabled=!fi().enableMobile)),n.length>0){const e=this.getCommonProperty(n,(e=>e.visibility.mobile?e.visibility.desktop?"both":"mobile":"desktop"));e?Array.from(this.viewOnDeviceEl.querySelectorAll(".view-on-mobile input")).forEach((t=>{t.checked=e===t.value,t.indeterminate=!1})):Array.from(this.viewOnDeviceEl.querySelectorAll(".view-on-mobile input")).forEach((e=>e.indeterminate=!0));let t=!0;this.pageCheckboxes.forEach((e=>{e.checkbox.disabled=!1;const i=Yi().find((t=>t.id===e.page.id)),o=this.getCommonProperty(n,(e=>e.pageNames.includes(i.id)));t=t&&!1===o,null===o?e.checkbox.indeterminate=!0:(e.checkbox.indeterminate=!1,e.checkbox.checked=o)})),this.viewOnAllPagesCheckbox.disabled=!1,this.viewOnAllPagesCheckbox.checked=!!t}else this.pageCheckboxes.forEach((e=>{e.checkbox.disabled=!0,e.checkbox.indeterminate=!0})),this.viewOnAllPagesCheckbox.disabled=!0,this.viewOnAllPagesCheckbox.checked=!0,Array.from(this.viewOnDeviceEl.querySelectorAll(".view-on-mobile input")).forEach((e=>e.disabled=!0))}else this.element.style.display="none";const t=this.getLinkElements(e);if(t.length>0){const e=this.getCommonProperty(t,(e=>e.link));this.linkStateEl.value=e?e.href:"",this.linkStateEl.disabled=!1,this.linkBtn.disabled=!1}else this.linkBtn.disabled=!0,this.linkStateEl.disabled=!0,this.linkStateEl.value=""}hasLink(e){return!!e.link||e.innerHtml.includes("<a")}openLinkEditor(e,t){ci().some((e=>e.innerHtml.includes("<a")))||ci().map((e=>ii(e))).some((e=>e.some((e=>this.hasLink(e)))))?me.alert("Link error",'It is impossible to add a link on this element, because the text inside the element has links. Please remove the links in the element and try again. <a target="_blank" href="https://github.com/silexlabs/Silex/wiki/Errors#link-error">More info here</a>',(()=>{})):Qi({data:e,cbk:e=>{t(e)}})}}su.selectorTemplate="<div class='page-container'>\n    <input class='page-check checkbox' type='checkbox' id='page-check-id-{{id}}' />\n    <label class='page-label xsmall-font' for='page-check-id-{{id}}' >{{displayName}}</label>\n  </div>\n\t";const au=".flex-wrap-select",lu=".justify-content-select",cu=".align-items-select",uu=".flex-direction-select",du=".display-select",hu=".position-select",pu=".padding-left-input",fu=".padding-bottom-input",mu=".padding-right-input",gu=".padding-top-input",bu=".margin-left-input",yu=".margin-bottom-input",vu=".margin-right-input",Eu=".margin-top-input",Su=".height-input",wu=".width-input",xu=".top-input",Cu=".left-input";function Tu(e,t){return null==e?t:parseInt(e).toString()}class ku extends gc{constructor(e){super(e),mi((()=>{this.redraw(ci())})),ln((()=>{this.redraw(ci())})),Wn((()=>{this.redraw(ci())})),this.createInput([{selector:Cu,styleName:"left",eventName:"input",unit:"px"},{selector:xu,styleName:"top",eventName:"input",unit:"px"},{selector:wu,styleName:"width",eventName:"input",unit:"px"},{selector:Su,styleName:"height",eventName:"input",unit:"px"},{selector:Eu,styleName:"margin-top",eventName:"input",unit:"px"},{selector:vu,styleName:"margin-right",eventName:"input",unit:"px"},{selector:yu,styleName:"margin-bottom",eventName:"input",unit:"px"},{selector:bu,styleName:"margin-left",eventName:"input",unit:"px"},{selector:gu,styleName:"padding-top",eventName:"input",unit:"px"},{selector:mu,styleName:"padding-right",eventName:"input",unit:"px"},{selector:fu,styleName:"padding-bottom",eventName:"input",unit:"px"},{selector:pu,styleName:"padding-left",eventName:"input",unit:"px"},{selector:hu,styleName:"position",eventName:"change",unit:""},{selector:du,styleName:"display",eventName:"change",unit:""},{selector:uu,styleName:"flex-direction",eventName:"change",unit:""},{selector:cu,styleName:"align-items",eventName:"change",unit:""},{selector:lu,styleName:"justify-content",eventName:"change",unit:""},{selector:au,styleName:"flex-wrap",eventName:"change",unit:""}]),this.tagNameInput=this.initComboBox("#tag-name-input",(e=>this.onTagNameChanged(e))),this.altInput=this.initInput("#alt-input",(e=>this.onAltChanged(e))),this.titleInput=this.initInput("#title-input",(e=>this.onTitleChanged(e)))}onTagNameChanged(e){const t=e.target;Rn(ci().map((e=>({...e,tagName:t.value}))))}onAltChanged(e){const t=e.target;Rn(ci().map((e=>({...e,alt:t.value}))))}onTitleChanged(e){e.preventDefault();const t=e.target;Rn(ci().map((e=>({...e,title:t.value}))))}redraw(e){if(super.redraw(e),As("design","properties")){this.element.querySelector(".position-editor").style.display="",this.element.querySelector(".seo-editor").style.display="";const t=ai(),n=an().mobileEditor,i=e.filter((e=>e!==t)),o=i.filter((e=>e.type!==wt.SECTION)),r=this.getCommonProperty(i,(e=>lo(e,"display",n))),s=this.getCommonProperty(i,(e=>lo(e,"position",n))),a=uo(o.map((e=>co(e,n)))),l=new Map([[Cu,()=>Math.round(a.left||0).toString()],[xu,()=>Math.round(a.top||0).toString()],[wu,()=>Math.round(a.width||0).toString()],[Su,()=>Math.round(a.height||0).toString()],[Eu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"margin-top",n))),"")],[vu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"margin-right",n))),"")],[yu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"margin-bottom",n))),"")],[bu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"margin-left",n))),"")],[gu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"padding-top",n))),"")],[mu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"padding-right",n))),"")],[fu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"padding-bottom",n))),"")],[pu,()=>Tu(this.getCommonProperty(i,(e=>lo(e,"padding-left",n))),"")],[hu,()=>s],[du,()=>r],[uu,()=>this.getCommonProperty(i,(e=>lo(e,"flex-direction",n)))],[cu,()=>this.getCommonProperty(i,(e=>lo(e,"align-items",n)))],[lu,()=>this.getCommonProperty(i,(e=>lo(e,"justify-content",n)))],[au,()=>this.getCommonProperty(i,(e=>lo(e,"flex-wrap",n)))]]),c=this.getCommonProperty(i,(e=>e.tagName));if(this.tagNameInput.value=c||"",o.length>0){const e=o.filter((e=>!e.isSectionContent));this.titleInput.disabled=!1,o.length?(this.onInputPxChanged(wu,l.get(wu)()),this.onInputPxChanged(Su,l.get(Su)())):(this.onInputPxChanged(wu,null),this.onInputPxChanged(Su,null)),"static"!==s&&e.length?(this.onInputPxChanged(xu,l.get(xu)()),this.onInputPxChanged(Cu,l.get(Cu)())):(this.onInputPxChanged(xu,null),this.onInputPxChanged(Cu,null));const t=this.getCommonProperty(o,(e=>e.type));if(t===wt.IMAGE){this.altInput.disabled=!1;const e=this.getCommonProperty(o,(e=>e.alt));this.altInput.value=e||""}else this.altInput.value="",this.altInput.disabled=!0;e.length?this.onInputPxChanged(hu,s||""):this.onInputPxChanged(hu,null),t===wt.CONTAINER&&o.length?this.onInputPxChanged(du,r||""):this.onInputPxChanged(du,null),o.length&&"flex"===r?(this.onInputPxChanged(uu,l.get(uu)()||""),this.onInputPxChanged(cu,l.get(cu)()||""),this.onInputPxChanged(lu,l.get(lu)()||""),this.onInputPxChanged(au,l.get(au)()||"")):(this.onInputPxChanged(uu,null),this.onInputPxChanged(cu,null),this.onInputPxChanged(lu,null),this.onInputPxChanged(au,null));const n=this.getCommonProperty(o,(e=>e.title));this.titleInput.value=n||"",this.onInputPxChanged(Eu,l.get(Eu)()),this.onInputPxChanged(bu,l.get(bu)()),this.onInputPxChanged(vu,l.get(vu)()),this.onInputPxChanged(yu,l.get(yu)()),this.onInputPxChanged(gu,l.get(gu)()),this.onInputPxChanged(pu,l.get(pu)()),this.onInputPxChanged(mu,l.get(mu)()),this.onInputPxChanged(fu,l.get(fu)())}else this.disableDimensions()}else this.element.querySelector(".position-editor").style.display="none",this.element.querySelector(".seo-editor").style.display="none"}disableDimensions(){this.onInputPxChanged(au,null),this.onInputPxChanged(lu,null),this.onInputPxChanged(cu,null),this.onInputPxChanged(uu,null),this.onInputPxChanged(du,null),this.onInputPxChanged(hu,null),this.onInputPxChanged(pu,null),this.onInputPxChanged(fu,null),this.onInputPxChanged(mu,null),this.onInputPxChanged(gu,null),this.onInputPxChanged(bu,null),this.onInputPxChanged(yu,null),this.onInputPxChanged(vu,null),this.onInputPxChanged(Eu,null),this.onInputPxChanged(Su,null),this.onInputPxChanged(wu,null),this.onInputPxChanged(xu,null),this.onInputPxChanged(Cu,null),this.altInput.disabled=!0,this.altInput.value="",this.titleInput.disabled=!0,this.titleInput.value=""}}function Iu(e,t,n,i=fi(),o=Tn.dispatch){const r=n?JSON.parse(JSON.stringify(n)):{className:"",displayName:"",templateName:"",styles:{desktop:{normal:{}}}};if(i.styles[t])throw new Error("This style already exists");gi(r).forEach((n=>{Au(t,n.pseudoClass,n.visibility,n.data,e,i,o)}))}function Au(e,t,n,i,o,r=fi(),s=Tn.dispatch){const a={...i,className:e,pseudoClass:t},l=r.styles[e]?{...r.styles[e]}:{className:e,templateName:"text",displayName:o,styles:{}};l.styles[n]||(l.styles[n]={}),l.styles[n][t]=a;const c={...r.styles,[e]:l};pi({...r,styles:c},s)}function _u(e,t=fi(),n=Bn(),i=Tn.dispatch){const o={...t,styles:{...t.styles}};delete o.styles[e],Rn(n.filter((t=>t.classList.includes(e))).map((t=>({...t,classList:t.classList.filter((t=>t!==e))}))),i),pi(o,i)}function Ou(e,t,n){Bi({data:((fi().styles[e]||{styles:{}}).styles[n]||{})[t]||{templateName:"text",className:e,pseudoClass:t},dataSources:{components:[{displayName:"",name:"",templateName:""}].concat(fi().fonts.map((e=>({displayName:e.family,name:e.family,templateName:""}))))},templateName:"text",events:{onChange:(i,o)=>Au(e,t,n,i),onBrowse:(e,t,n)=>yo(e,n)}})}class Lu extends gc{constructor(e){super(e),this.styleComboPrevValue="",this.styleCombo=this.element.querySelector(".class-name-style-combo-box"),this.pseudoClassCombo=this.element.querySelector(".pseudoclass-style-combo-box"),this.mobileOnlyCheckbox=this.element.querySelector(".visibility-style-checkbox"),this.pseudoClassCombo.onchange=e=>{Ou(this.styleCombo.value,this.getPseudoClass(),this.getVisibility());const t=fi().styles[this.styleCombo.value]||{};this.updateTagButtonBar(t)},this.mobileOnlyCheckbox.onchange=e=>{sn({...an(),mobileEditor:this.mobileOnlyCheckbox.checked})},this.styleCombo.onchange=e=>{this.applyStyle(this.styleCombo.value)},this.element.querySelector(".add-style").onclick=e=>{this.createStyle()},this.element.querySelector(".remove-style").onclick=e=>{this.deleteStyle(this.styleCombo.value)},this.element.querySelector(".unapply-style").onclick=e=>{Rn(ci().map((e=>({...e,classList:e.classList.filter((e=>e!==this.styleCombo.value))}))))},this.selectionCountTotal=this.element.querySelector(".total"),this.selectionCountTotal.onclick=e=>{Rn(Bn().filter((e=>e.selected!==!!e.classList.find((e=>e===this.styleCombo.value)))).map((e=>({...e,selected:!e.selected}))))},this.selectionCountPage=this.element.querySelector(".on-page"),this.selectionCountPage.onclick=e=>{const t=sr();Rn(Bn().filter((e=>e.selected!==!!e.classList.find((e=>e===this.styleCombo.value))&&(0===e.pageNames.length||!!e.pageNames.find((e=>e===t.id))))).map((e=>({...e,selected:!e.selected}))))},this.element.querySelector(".duplicate-style").onclick=()=>this.duplicateStyle(this.styleCombo.value),this.element.querySelector(".edit-style").onclick=e=>this.renameStyle(this.styleCombo.value),ln((()=>{this.redraw(ci())})),Wn((()=>{this.redraw(ci())}))}duplicateStyle(e){this.createStyle(fi().styles[e])}renameStyle(e){if(e===jt.BODY_STYLE_CSS_CLASS)me.alert("Rename a style",`The style '${jt.BODY_STYLE_NAME}' is a special style, you can not rename it.`,(()=>{}));else{const t=fi().styles[e];this.createStyle(t,(t=>this.doRenameStyle(e,t)))}}doRenameStyle(e,t,n=fi().styles,i=Bn(),o=Tn.dispatch){const r=this.getClassNameFromClassName(t);this.doApplyStyle(this.getElementsWithStyle(e,null,i),r,n,o),_u(e)}getElementsWithStyle(e,t,n=Bn()){return t?n.filter((n=>n.classList.includes(e)&&0===n.pageNames.length||n.pageNames.includes(t))):n.filter((t=>t.classList.includes(e)))}getVisibility(){return jt.STYLE_VISIBILITY[an().mobileEditor?1:0]}applyStyle(e,t=fi().styles,n=Bn(),i=Tn.dispatch){const o=ai(n),r=ci(n).filter((e=>e!==o));e===jt.BODY_STYLE_CSS_CLASS?me.alert("Apply a style",`\n        The style '${jt.BODY_STYLE_NAME}' is a special style, it is already applyed to all elements.\n      `,(()=>{})):r.length?this.doApplyStyle(r,e,t,i):me.alert("Apply a style","Error: you need to select at least 1 element for this action.",(()=>{}))}doApplyStyle(e,t,n=fi().styles,i=Tn.dispatch){const o=Object.keys(n).filter((e=>e!==jt.BODY_STYLE_CSS_CLASS));Rn(e.map((e=>e.classList.includes(t)?e:{...e,classList:e.classList.filter((e=>!o.includes(e))).concat([t])})),i)}getStyles(e){const t=fi().styles;return e.map((e=>e.classList)).reduce(((e,t)=>e.filter((e=>t.indexOf(e)>-1)))).filter((e=>Object.keys(t).find((t=>t===e))))}updateStyleList(e){var t;this.styleCombo.innerHTML="";const n=fi().styles;if((e===jt.EMPTY_STYLE_CLASS_NAME?[{className:jt.EMPTY_STYLE_CLASS_NAME,displayName:jt.EMPTY_STYLE_DISPLAY_NAME}]:[]).concat(Object.keys(n).map((e=>n[e]))).map((e=>{const t=document.createElement("option");return t.value=e.className,t.innerHTML=e.displayName,t})).forEach((e=>this.styleCombo.appendChild(e))),null!=e){const n=e;this.styleCombo.value=n,this.element.classList.remove("no-style");const i=fi().styles[n]||{};this.populatePseudoClassCombo(i),this.pseudoClassCombo.disabled=!1,this.styleComboPrevValue!==n&&(this.pseudoClassCombo.selectedIndex=0),this.styleComboPrevValue=n,Ou(n,this.getPseudoClass(),this.getVisibility());const o=this.getElementsWithStyle(n,null===(t=sr())||void 0===t?void 0:t.id).length,r=0===o?0:this.getElementsWithStyle(n,null).length;this.selectionCountPage.innerHTML=`${r} on this page (<span>select</span>),&nbsp;`,this.selectionCountTotal.innerHTML=`${o} total (<span>select</span>)`,this.updateTagButtonBar(i)}else this.element.classList.add("no-style")}updateTagButtonBar(e){const t=((e.styles||{})[this.getVisibility()]||{})[this.getPseudoClass()]||{};Array.from(this.element.querySelectorAll("[data-prodotype-name]")).forEach((e=>{const n=e.getAttribute("data-prodotype-name"),i=e.getAttribute("data-initial-value")+(t[n]?" *":"");e.innerHTML!==i&&(e.innerHTML=i)}))}populatePseudoClassCombo(e){const t=(e.styles||{})[this.getVisibility()],n=this.pseudoClassCombo.selectedIndex;this.pseudoClassCombo.innerHTML="",Ii(jt.STYLE_TYPE).text.props.find((e=>"pseudoClass"===e.name)).type.map((e=>{const n=document.createElement("option");return n.value=e,n.innerHTML=e+(t&&t[e]?" *":""),n})).forEach((e=>this.pseudoClassCombo.appendChild(e))),this.pseudoClassCombo.selectedIndex=n}getPseudoClass(){return""===this.pseudoClassCombo.value?"normal":this.pseudoClassCombo.value}createStyle(e,t){const n=ai();Bn().filter((e=>e!==n)).length<=0?me.alert("Create a style","Error: you need to select at least 1 element for this action.",(()=>{})):me.prompt("Create a style","Enter a name for your style!",e?e.displayName:"","Your Style",((n,i)=>{n&&i&&""!==i&&(this.doCreateStyle({name:i,opt_data:e}),t&&t(i))}))}getClassNameFromClassName(e){return"style-"+e.replace(/ /g,"-").toLowerCase()}doCreateStyle({name:e,opt_data:t},n=fi().styles,i=Bn(),o=Tn.dispatch){const r=this.getClassNameFromClassName(e);Iu(e,r,t),this.applyStyle(r,n,i,o),this.updateStyleList(r)}deleteStyle(e,t){!1===t?this.doDeleteStyle(e):e===jt.BODY_STYLE_CSS_CLASS?me.alert("Delete a style",`\n          The style '${jt.BODY_STYLE_NAME}' is a special style, you can not delete it.\n        `,(()=>{})):me.confirm("Delete a style",`\n          I am about to delete the style <b>${e}</b>!<br><br>Are you sure?\n        `,(t=>{t&&this.doDeleteStyle(e)}))}redraw(e){if(super.redraw(e),As("style","properties"))if(this.element.style.display="",this.mobileOnlyCheckbox.checked=an().mobileEditor,e.length>0){const t=(()=>{const t=this.getStyles(e);return t.length>=1?t[0]:jt.BODY_STYLE_CSS_CLASS})();this.updateStyleList(t),e.length>0&&0===e.filter((e=>e.type!==wt.TEXT)).length?this.element.classList.remove("style-editor-notext"):this.element.classList.add("style-editor-notext")}else this.updateStyleList(jt.BODY_STYLE_CSS_CLASS),this.element.classList.remove("style-editor-notext");else this.element.style.display="none"}doDeleteStyle(e){const t=this.styleCombo.querySelector('option[value="'+e+'"]');_u(t.value),this.styleCombo.removeChild(t)}}var Nu=n(1907),Du=n.n(Nu);class Pu extends gc{constructor(e){super(e),this.iAmChanging=!1;const t=this.initInput(".style-css-classes-input",(()=>this.onInputChanged()),"blur");Du()(t),this.cssClassesTagsInput=t.nextElementSibling,this.cssClassesTagsInput.classList.add("silex-input"),this.initComboBox(".style-css-classes-input",(()=>this.onInputChanged())),this.htmlAttrInput=this.element.querySelector(".style-css-attr-input"),this.initInput(".style-css-attr-input",(()=>this.onInputChanged())),ln((()=>{this.redraw(ci())})),Wn((()=>{this.redraw(ci())}))}getClassesTags(){return this.cssClassesTagsInput.getValue().split(",").join(" ")}setClassesTags(e){this.iAmChanging||this.getClassesTags()!==e&&(this.iAmChanging=!0,this.cssClassesTagsInput.setValue(e.split(" ").filter((e=>!jt.SILEX_CLASS_NAMES.includes(e))).join(",")),this.iAmChanging=!1)}onInputChanged(){if(this.iAmChanging)return;this.iAmChanging=!0;const e=this.stringToAttr(this.htmlAttrInput.value);if(this.cssClassesTagsInput.classList.contains("off"))this.setClassesTags("");else{const e=ci()[0].classList.filter((e=>jt.SILEX_CLASS_NAMES.includes(e)));Io(this.getClassesTags()+" "+e)}ko(e),this.iAmChanging=!1}redraw(e){if(!this.iAmChanging)if(super.redraw(e),As("design","properties")){this.element.style.display="",1===e.length?(this.cssClassesTagsInput.classList.remove("off"),this.setClassesTags(e[0].classList.join(" "))):(this.cssClassesTagsInput.classList.add("off"),this.setClassesTags(""));const t=this.getCommonProperty(e,(e=>this.attrToString(e.attr)));null!=t&&t===this.attrToString(this.stringToAttr(this.htmlAttrInput.value))||(this.htmlAttrInput.value=t||"")}else this.element.style.display="none"}attrToString(e){return null==e?"":Object.entries(e).sort(((e,t)=>e[0].localeCompare(t[0]))).map((([e,t])=>e+(null!=t?`="${t}"`:""))).join(" ")}stringToAttr(e){if(null==e)return{};const t=e.match(/\b([a-z,A-Z,\-,:]+)(="(.*?)")?/g);if(null==t)return{};const n={};return t.forEach((e=>{const[t,i]=e.split("=");if(null==i)n[t]=null;else{const e=i.replace(/^"(.+)"$/,"$1");n[t]=e}})),n}}const Mu={[wt.CONTAINER]:"container",[wt.SECTION]:"fa-inverse fa-fw fa-list-alt",[wt.IMAGE]:"image",[wt.TEXT]:"text",[wt.HTML]:"fa-inverse fa-code",[jt.COMPONENT_TYPE]:"fa-inverse fa-square",body:"body"};class Ru extends gc{constructor(e){super(e),this.template=(e,t,n,i)=>t?eu`
    <details style="padding: 5px 15px; ${sr()&&go(t,sr().id)?"":"opacity: .5;"}" key=${t.id} open>
      <summary class="${t.selected?"selected":""}${t.children.length?"":" hide-details-marker"}" style="display: flex;">
        <span class="small-icon icon ${Mu["body"===t.tagName.toLowerCase()?"body":t.data.component?jt.COMPONENT_TYPE:t.type]}"></span>
        <span @click=${e=>(i(t),e.preventDefault(),e.stopPropagation(),!1)} style="
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
          ">
          ${t.tagName.toLowerCase().replace(/^\w/,(e=>e.toUpperCase()))}${t.classList.length?".":""}${t.classList.join(".")}
        </span>
      </summary>
      ${ni(t,n).map((t=>this.template(e,t,n,i)))}
    </details>
  `:"",ln((()=>{As("tree-editor","properties")?(this.redraw(ci()),e.style.display=""):e.style.display="none"})),Wn((()=>{this.redraw(ci())}))}redraw(e){super.redraw(e);const t=Ii(jt.COMPONENT_TYPE),n=Bn();Qc(this.template(t,ai(n),n,(e=>So([e]))),this.element)}}const Bu=Ft().propertyTool;let Wu=!1;function Hu(){const e=Bu.querySelector(".prodotype-component-editor"),t=ci().filter((e=>Ai(e))),[n]=_s("properties");"params"===(null==n?void 0:n.id)&&1===t.length?(function(e){if(e&&e.data.component){const t=e.data.component;Ri({data:t.data,dataSources:fi().dataSources,templateName:t.templateName,events:{onChange:(t,n)=>{Rn([{...e,data:{...e.data,component:{...e.data.component,data:{...e.data.component.data,...t}}},innerHtml:n}])},onBrowse:(e,t,n)=>yo(e,n),onEditLink:(e,t,n)=>bo(e,t,n)}})}else Mi()}(t[0]),e.style.display=""):(e.style.display="none",Mi())}function ju(e){e.parentElement.classList.toggle("expanded");const t=e.querySelector(".fa-inverse");t&&(t.classList.toggle("fa-caret-right"),t.classList.toggle("fa-caret-down"))}function zu(e){qs(),new ta(Ft().contextMenu),new Ea(Ft().breadCrumbs),new fc(Ft().pageTool),setTimeout((()=>{Wu||function(){new bc(Bu.querySelector(".background-editor")),new yc(Bu.querySelector(".border-editor")),new ou(Bu.querySelector(".component-generic-editor")),new ku(Bu),new su(Bu.querySelector(".page-editor")),new ru(Bu.querySelector(".general-editor")),new Pu(Bu.querySelector(".style-editor"));const e=Bu.querySelector(".prodotype-style-editor"),t=(new Lu(e),Bu.querySelectorAll(".expandable legend"));for(let e=0;e<t.length;e++){const n=t[e],i="silex-expand-property-"+e;"true"===window.localStorage.getItem(i)&&ju(n),n.onclick=e=>{ju(n),window.localStorage.setItem(i,n.parentElement.classList.contains("expanded").toString())}}Os(Bu.querySelector(".tabs .simplebar-content"),"properties"),Wn((()=>Hu())),ln((()=>Hu())),setTimeout((()=>{const e=an();sn({...e,dialogs:e.dialogs.concat({id:"tree-editor",type:"properties",visible:!1,data:{className:"fa fa-lg fa-list"}})});const t=document.createElement("section");t.classList.add("editor-container","tree-editor-container"),Bu.querySelector(".main-container").appendChild(t),new Ru(t)}),100)}(),Wu=!0}),0),wi();const t=Ft(),n=va();n.addLeft(t.contextMenu),n.addLeft(t.breadCrumbs),n.addLeft(Xo().parentElement),n.addRight(t.propertyTool)}let qu=!1;function Uu(){sn({...an(),loading:he.NONE}),pn()}function $u(){console.warn("calling window.silex.init() is deprecated")}function Fu(){if(qu)throw new Error("Silex has already been instanciated");qu=!0,de.debug&&console.warn("Silex starting in debug mode.");const e=function(e){return e?ue(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new se:"undefined"!=typeof navigator?ue(navigator.userAgent):"undefined"!=typeof process&&process.version?new ie(process.version.slice(1)):null}(),t=e&&"firefox"===e.name,n=e&&"chrome"===e.name;t||n||me.alert("Warning",`Your browser is not supported yet.\n      <br><br>\n      Considere using <a href="https://www.mozilla.org/firefox/" target="_blank">Firefox</a>\n      or <a href="https://www.google.com/chrome/" target="_blank">chrome</a>.\n      <br><br>\n      <small>Note: I believe you use ${e?e.name:"Unknown"}</small>\n      `,(()=>{})),zu(Ft().workspace),Wn(on({onAdd:ps(Qr(Vo())),onDelete:ps(es(Vo())),onUpdate:ps(ts(Vo()))})),Xi(on({onAdd:ps(ns),onDelete:ps(is),onUpdate:ps(ss)})),mi(ps(cs)),ln(ps(us)),hs(),de.debug||(window.onbeforeunload=()=>fn()?"You have unsaved modifications, are you sure you want to leave me?":null,function(){const e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;(t<630||e<950)&&me.alert("Warning",`Your window is very small (${e}x${t}) and Silex may not display correctly.<br><br>Considere maximizing the window or use a bigger screen to use Silex at its best. A window size of 950x630 is considered to be a acceptable.`,(()=>{}))}()),de.singleSiteMode?(pn(),async function(){new Promise(((e,t)=>{document.body.classList.add("single-site-mode");const n=ge.getUrlParams(),{path:i,service:o}=n;i&&o?gs({path:i,service:o,absPath:`/ce/${o}/get${i}`,name:i.split("/").pop(),mime:"",isDir:!1},(()=>{e()})):(me.alert("Open a file",`\n          Could not open the file ${n.path}.<br /><br />\n          You need to specify which website I am supposed to open with the variables "path" and "service" in the URL. Please <a href="https://github.com/silexlabs/Silex/wiki/Single-site-mode" target="_blank">check this document</a> or <a href="https://github.com/silexlabs/Silex/issues" target="_blank">get in touch in Silex forums"</a>\n      `,(()=>{})),t())}))}()):bs((()=>Uu()),(()=>Uu()))}}},t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(4125)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9jYW4tdXNlLWRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvbG9kYXNoLm1lbW9pemUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvbG9kYXNoLnRocm90dGxlL2luZGV4LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL29iamVjdC1wYXRoL2luZGV4LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3JlZHV4LXVuZG8vbGliL2FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvcmVkdXgtdW5kby9saWIvZGVidWcuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvcmVkdXgtdW5kby9saWIvaGVscGVycy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9yZWR1eC11bmRvL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9yZWR1eC11bmRvL2xpYi9yZWR1Y2VyLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYS1jYWxsYWJsZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2EtcG9zc2libGUtcHJvdG90eXBlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYWR2YW5jZS1zdHJpbmctaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hbi1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LWJ1ZmZlci1ub24tZXh0ZW5zaWJsZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LWZvci1lYWNoLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1tZXRob2QtaGFzLXNwZWNpZXMtc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1pcy1zdHJpY3QuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1zbGljZS1zaW1wbGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jaGVjay1jb3JyZWN0bmVzcy1vZi1pdGVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jbGFzc29mLXJhdy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jb2xsZWN0aW9uLXdlYWsuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jb2xsZWN0aW9uLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY29ycmVjdC1wcm90b3R5cGUtZ2V0dGVyLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLWl0ZXJhdG9yLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4uanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW5zLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZGVmaW5lLWdsb2JhbC1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RlZmluZS1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kb20taXRlcmFibGVzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZG9tLXRva2VuLWxpc3QtcHJvdG90eXBlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLWlzLW5vZGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZml4LXJlZ2V4cC13ZWxsLWtub3duLXN5bWJvbC1sb2dpYy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZyZWV6aW5nLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZnVuY3Rpb24tYXBwbHkuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLW5hdGl2ZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mdW5jdGlvbi1uYW1lLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1tZXRob2QuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nZXQtc3Vic3RpdHV0aW9uLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2xvYmFsLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hpZGRlbi1rZXlzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaHRtbC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmhlcml0LWlmLXJlcXVpcmVkLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnRlcm5hbC1tZXRhZGF0YS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtYXJyYXktaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1jYWxsYWJsZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtZm9yY2VkLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtb2JqZWN0LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtcHVyZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLXN5bWJvbC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2l0ZXJhdGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pdGVyYXRvci1jbG9zZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2l0ZXJhdG9ycy1jb3JlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXRlcmF0b3JzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9tYWtlLWJ1aWx0LWluLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvbWF0aC10cnVuYy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9uYXRpdmUtd2Vhay1tYXAuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9udW1iZXItcGFyc2UtaW50LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWFzc2lnbi5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLWV4dGVybmFsLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtaXMtZXh0ZW5zaWJsZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1rZXlzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC10by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vcmRpbmFyeS10by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vd24ta2V5cy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlZ2V4cC1leGVjLWFic3RyYWN0LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVnZXhwLWV4ZWMuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZWdleHAtZmxhZ3MuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZWdleHAtc3RpY2t5LWhlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZWdleHAtdW5zdXBwb3J0ZWQtZG90LWFsbC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlZ2V4cC11bnN1cHBvcnRlZC1uY2cuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC1rZXkuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQtc3RvcmUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zdHJpbmctbXVsdGlieXRlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc3RyaW5nLXRyaW0uanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW50ZWdlci1vci1pbmZpbml0eS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXN0cmluZy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RyeS10by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91aWQuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3Y4LXByb3RvdHlwZS1kZWZpbmUtYnVnLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy93aGl0ZXNwYWNlcy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zaW1wbGViYXIvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLndlYWstbWFwLmNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLndlYWstbWFwLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc2ltcGxlYmFyL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy90YWdzLWlucHV0L3RhZ3MtaW5wdXQuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcmVzaXplT2JzZXJ2ZXJzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVEZXB0aEZvck5vZGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGguanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcHJvY2Vzcy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucy5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2YXRpb24uanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3NpbXBsZWJhci9kaXN0L3NpbXBsZWJhci5lc20uanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvZGV0ZWN0LWJyb3dzZXIvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L0NsaWVudENvbmZpZy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvdWktc3RvcmUvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvZHJhZy1kcm9wLXN0YWdlLWNvbXBvbmVudC9zcmMvdHMvVHlwZXMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvTm90aWZpY2F0aW9uLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC91dGlscy9VcmwudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvZHJhZy1kcm9wLXN0YWdlLWNvbXBvbmVudC9zcmMvdHMvdXRpbHMvRG9tTWV0cmljcy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy91dGlscy9FdmVudHMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvZHJhZy1kcm9wLXN0YWdlLWNvbXBvbmVudC9zcmMvdHMvZmx1eC9VaVN0YXRlLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL2ZsdXgvU2VsZWN0aW9uU3RhdGUudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvZHJhZy1kcm9wLXN0YWdlLWNvbXBvbmVudC9zcmMvdHMvS2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvZHJhZy1kcm9wLXN0YWdlLWNvbXBvbmVudC9zcmMvdHMvZmx1eC9Nb3VzZVN0YXRlLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL2ZsdXgvU2VsZWN0YWJsZVN0YXRlLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL01vdXNlLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL29ic2VydmVycy9TZWxlY3RhYmxlc09ic2VydmVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL29ic2VydmVycy9Eb21PYnNlcnZlci50cyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy9vYnNlcnZlcnMvTW91c2VPYnNlcnZlci50cyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy9oYW5kbGVycy9Nb3VzZUhhbmRsZXJCYXNlLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL2hhbmRsZXJzL1Jlc2l6ZUhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvZHJhZy1kcm9wLXN0YWdlLWNvbXBvbmVudC9zcmMvdHMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL2hhbmRsZXJzL0RyYXdIYW5kbGVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL2hhbmRsZXJzL01vdmVIYW5kbGVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL29ic2VydmVycy9VaU9ic2VydmVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9lbGVtZW50LXN0b3JlL3R5cGVzLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL3JlZHV4LmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL2ZsdXgvU3RhZ2VTdG9yZS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy9VaS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy9pbmRleC50cyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9kcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy91dGlscy9Qb2x5ZmlsbC50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvTW9kYWxEaWFsb2cudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L3VpLXN0b3JlL1VpRWxlbWVudHMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2lvL0Nsb3VkU3RvcmFnZS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy9kaWFsb2cvRmlsZUV4cGxvcmVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9zdG9yZS9hY3Rpb25zLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9zdG9yZS9yZWR1Y2Vycy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvc3RvcmUvY3J1ZC1zdG9yZS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvdWktc3RvcmUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2RpcnR5LnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC91bmRvLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9zdG9yZS9pbmRleC50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvZWxlbWVudC1zdG9yZS9pbmRleC50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvdXRpbHMvYXJyYXkudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L3V0aWxzL3N0eWxlcy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvZWxlbWVudC1zdG9yZS9kb20udHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2VsZW1lbnQtc3RvcmUvZmlsdGVycy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvc2l0ZS1zdG9yZS9pbmRleC50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvc2l0ZS1zdG9yZS91dGlscy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvZWxlbWVudC1zdG9yZS9jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L3BhZ2Utc3RvcmUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvZGlhbG9nL0xpbmtEaWFsb2cudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2VsZW1lbnQtc3RvcmUvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2VsZW1lbnQtc3RvcmUvZGlzcGF0Y2hlcnMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvU2l0ZUZyYW1lLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL1N0YWdlV3JhcHBlci50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29weS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvcGFnZS1zdG9yZS9maWx0ZXJzLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL2RpYWxvZy9Db2RlRWRpdG9yQmFzZS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy9kaWFsb2cvSHRtbEVkaXRvci50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvdXRpbHMvS2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L3VpLXN0b3JlL2Rpc3BhdGNoZXJzLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9wYWdlLXN0b3JlL2Rpc3BhdGNoZXJzLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL2RpYWxvZy9Dc3NFZGl0b3IudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2lvL1NpbGV4VGFza3MudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2lvL2xhdGVzdC1maWxlcy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy9kaWFsb2cvUHVibGlzaERpYWxvZy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy9kaWFsb2cvSnNFZGl0b3IudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L3N0b3JlL2Rpc3BhdGNoZXJzLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC92aXNpdHMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvVGlwT2ZUaGVEYXkudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvZGlhbG9nL0Rhc2hib2FyZC50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvcHJldmlldy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvcGFnZS1zdG9yZS9kb20udHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L3V0aWxzL2RvbS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvc3RvcmUvZG9tLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9lbGVtZW50LXN0b3JlL29ic2VydmVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9wYWdlLXN0b3JlL29ic2VydmVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9zaXRlLXN0b3JlL2RvbS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvc2l0ZS1zdG9yZS9vYnNlcnZlci50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvdWktc3RvcmUvb2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L3N0b3JlL29ic2VydmVyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9maWxlLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC91aS1zdG9yZS91dGlscy50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy90YWJiZWQudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvZGlhbG9nL1NldHRpbmdzRGlhbG9nLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL01lbnUudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2V4dGVybnMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvVGV4dEZvcm1hdEJhci50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy9Db250ZXh0TWVudS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy9Qcm9wU3BsaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvU3BsaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvQnJlYWRDcnVtYnMudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvc29ydGFibGVqcy9tb2R1bGFyL3NvcnRhYmxlLmNvcmUuZXNtLmpzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL1BhZ2VUb29sLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL0NvbG9yUGlja2VyLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL3BhbmUvUGFuZUJhc2UudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvcGFuZS9CZ1BhbmUudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvcGFuZS9Cb3JkZXJQYW5lLnRzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RvbS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcGFydC5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnRzLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9zaWxleC8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcmVuZGVyLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiwid2VicGFjazovL3NpbGV4Ly4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvcGFuZS9Db21wb25lbnRQYW5lLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL3BhbmUvR2VuZXJhbFN0eWxlUGFuZS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvY29tcG9uZW50cy9wYW5lL1BhZ2VQYW5lLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL3BhbmUvUHJvcGVydHlQYW5lLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9zaXRlLXN0b3JlL2Rpc3BhdGNoZXJzLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL3BhbmUvU3R5bGVFZGl0b3JQYW5lLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL3BhbmUvU3R5bGVQYW5lLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL3BhbmUvVHJlZVBhbmUudHMiLCJ3ZWJwYWNrOi8vc2lsZXgvLi9zcmMvdHMvY2xpZW50L2NvbXBvbmVudHMvUHJvcGVydHlUb29sLnRzIiwid2VicGFjazovL3NpbGV4Ly4vc3JjL3RzL2NsaWVudC9jb21wb25lbnRzL1dvcmtzcGFjZS50cyIsIndlYnBhY2s6Ly9zaWxleC8uL3NyYy90cy9jbGllbnQvQXBwLnRzIiwid2VicGFjazovL3NpbGV4L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NpbGV4L3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9zaWxleC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9zaWxleC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc2lsZXgvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9zaWxleC93ZWJwYWNrL3J1bnRpbWUvaGFybW9ueSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3NpbGV4L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc2lsZXgvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJjYW5Vc2VET00iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVUcmltIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJwYXJzZUludCIsImZyZWVHbG9iYWwiLCJnIiwiT2JqZWN0IiwiZnJlZVNlbGYiLCJzZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwib2JqZWN0VG9TdHJpbmciLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsIm5hdGl2ZU1heCIsIk1hdGgiLCJtYXgiLCJuYXRpdmVNaW4iLCJtaW4iLCJub3ciLCJEYXRlIiwiaXNPYmplY3QiLCJ2YWx1ZSIsInR5cGUiLCJ0b051bWJlciIsImlzT2JqZWN0TGlrZSIsImNhbGwiLCJpc1N5bWJvbCIsIm90aGVyIiwidmFsdWVPZiIsInJlcGxhY2UiLCJpc0JpbmFyeSIsInRlc3QiLCJzbGljZSIsImZ1bmMiLCJ3YWl0Iiwib3B0aW9ucyIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwicmVzdWx0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsInRyYWlsaW5nIiwiVHlwZUVycm9yIiwiaW52b2tlRnVuYyIsInRpbWUiLCJhcmdzIiwidGhpc0FyZyIsInVuZGVmaW5lZCIsImFwcGx5IiwibGVhZGluZ0VkZ2UiLCJzZXRUaW1lb3V0IiwidGltZXJFeHBpcmVkIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0cmFpbGluZ0VkZ2UiLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImFyZ3VtZW50cyIsInRoaXMiLCJjYW5jZWwiLCJjbGVhclRpbWVvdXQiLCJmbHVzaCIsInVpZCIsIkhBU0hfVU5ERUZJTkVEIiwicmVJc0hvc3RDdG9yIiwiYXJyYXlQcm90byIsIkFycmF5IiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJmdW5jVG9TdHJpbmciLCJoYXNPd25Qcm9wZXJ0eSIsInJlSXNOYXRpdmUiLCJSZWdFeHAiLCJzcGxpY2UiLCJNYXAiLCJnZXROYXRpdmUiLCJuYXRpdmVDcmVhdGUiLCJIYXNoIiwiZW50cmllcyIsImluZGV4IiwibGVuZ3RoIiwiY2xlYXIiLCJlbnRyeSIsInNldCIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiYXNzb2NJbmRleE9mIiwiYXJyYXkiLCJrZXkiLCJnZXRNYXBEYXRhIiwibWFwIiwiZGF0YSIsIl9fZGF0YV9fIiwib2JqZWN0IiwiZ2V0VmFsdWUiLCJwYXR0ZXJuIiwidGFnIiwiaXNGdW5jdGlvbiIsImUiLCJpc0hvc3RPYmplY3QiLCJ0b1NvdXJjZSIsImJhc2VJc05hdGl2ZSIsIm1lbW9pemUiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJDYWNoZSIsInBvcCIsInB1c2giLCJGVU5DX0VSUk9SX1RFWFQiLCJkZWJvdW5jZSIsImZhY3RvcnkiLCJ0b1N0ciIsIm9iaiIsInByb3AiLCJpc0VtcHR5IiwiaXNBcnJheSIsImkiLCJnZXRLZXkiLCJpbnRLZXkiLCJoYXNTaGFsbG93UHJvcGVydHkiLCJvYmplY3RQYXRoIiwicmVkdWNlIiwicHJveHkiLCJiaW5kIiwiZ2V0U2hhbGxvd1Byb3BlcnR5IiwicGF0aCIsImRvTm90UmVwbGFjZSIsInNwbGl0IiwiY3VycmVudFBhdGgiLCJjdXJyZW50VmFsdWUiLCJpbmNsdWRlSW5oZXJpdGVkUHJvcHMiLCJFcnJvciIsImoiLCJlbnN1cmVFeGlzdHMiLCJpbnNlcnQiLCJhdCIsImFyciIsImVtcHR5IiwiaXNCb29sZWFuIiwiY29hbGVzY2UiLCJwYXRocyIsImRlZmF1bHRWYWx1ZSIsImxlbiIsIm5leHRPYmoiLCJkZWwiLCJtb2QiLCJjcmVhdGUiLCJ3aXRoSW5oZXJpdGVkUHJvcHMiLCJkZWZpbmVQcm9wZXJ0eSIsIkFjdGlvbkNyZWF0b3JzIiwiQWN0aW9uVHlwZXMiLCJVTkRPIiwiUkVETyIsIkpVTVBfVE9fRlVUVVJFIiwiSlVNUF9UT19QQVNUIiwiSlVNUCIsIkNMRUFSX0hJU1RPUlkiLCJ1bmRvIiwicmVkbyIsImp1bXBUb0Z1dHVyZSIsImp1bXBUb1Bhc3QiLCJqdW1wIiwiY2xlYXJIaXN0b3J5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyMiIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJfaXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiX19ERUJVR19fIiwiZGlzcGxheUJ1ZmZlciIsImRlYnVnIiwic3RhcnQiLCJhY3Rpb24iLCJzdGF0ZSIsImhlYWRlciIsInByZXYiLCJuZXh0IiwibXNncyIsImNvbnNvbGUiLCJncm91cCIsImNvbG9yRm9ybWF0IiwiY29sb3JzIiwiZW5kIiwibmV4dFN0YXRlIiwiX2NvbnNvbGUiLCJfY29uc29sZTIiLCJfY29uc29sZTMiLCJfY29uc29sZTQiLCJfY29uc29sZTUiLCJfY29uc29sZTYiLCJfY29uc29sZTciLCJfY29uc29sZTgiLCJfY29uc29sZTkiLCJfY29uc29sZTEwIiwiX2Rpc3BsYXlCdWZmZXIiLCJncm91cENvbGxhcHNlZCIsImxvZyIsImdyb3VwRW5kIiwiX2xlbiIsIl9rZXkiLCJjb25jYXQiLCJ0ZXh0IiwiY29sb3IiLCJwYXJzZUFjdGlvbnMiLCJyYXdBY3Rpb25zIiwiaXNIaXN0b3J5IiwiaGlzdG9yeSIsInByZXNlbnQiLCJmdXR1cmUiLCJwYXN0IiwiaW5jbHVkZUFjdGlvbiIsImFjdGlvbnMiLCJpbmRleE9mIiwiZXhjbHVkZUFjdGlvbiIsImNvbWJpbmVGaWx0ZXJzIiwiZmlsdGVycyIsImN1cnIiLCJjdXJyZW50U3RhdGUiLCJwcmV2aW91c0hpc3RvcnkiLCJncm91cEJ5QWN0aW9uVHlwZXMiLCJuZXdIaXN0b3J5IiwiX2xhdGVzdFVuZmlsdGVyZWQiLCJsaW1pdCIsImVudW1lcmFibGUiLCJfYWN0aW9ucyIsIl9oZWxwZXJzIiwiX3JlZHVjZXIiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImNvbnN0cnVjdG9yIiwicmVkdWNlciIsInJhd0NvbmZpZyIsImluaXRpYWxTdGF0ZSIsImNvbmZpZyIsIl9vYmplY3RTcHJlYWQiLCJmaWx0ZXIiLCJncm91cEJ5IiwidW5kb1R5cGUiLCJyZWRvVHlwZSIsImp1bXBUb1Bhc3RUeXBlIiwianVtcFRvRnV0dXJlVHlwZSIsImp1bXBUeXBlIiwibmV2ZXJTa2lwUmVkdWNlciIsImlnbm9yZUluaXRpYWxTdGF0ZSIsInN5bmNGaWx0ZXIiLCJpbml0VHlwZXMiLCJjbGVhckhpc3RvcnlUeXBlIiwic2tpcFJlZHVjZXIiLCJyZXMiLCJzbGljZXMiLCJfbGVuMiIsIl9rZXkyIiwiY3JlYXRlSGlzdG9yeUFjdGlvbiIsImNyZWF0ZUhpc3RvcnkiLCJhY3Rpb25UeXBlQW1vbmdDbGVhckhpc3RvcnlUeXBlIiwic29tZSIsImFjdGlvblR5cGUiLCJmaWx0ZXJlZCIsImZpbHRlcmVkU3RhdGUiLCJncm91cGVkU3RhdGUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkZXNjIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJXZWFrTWFwIiwib3duS2V5cyIsImVudW1lcmFibGVPbmx5IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bSIsInRhcmdldCIsInNvdXJjZSIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwibGVuZ3RoV2l0aG91dEZ1dHVyZSIsImlzSGlzdG9yeU92ZXJmbG93IiwicGFzdFNsaWNlZCIsIm5ld1Bhc3QiLCJuZXdQcmVzZW50IiwibmV3RnV0dXJlIiwibiIsImlzQ2FsbGFibGUiLCJ0cnlUb1N0cmluZyIsIiRUeXBlRXJyb3IiLCJhcmd1bWVudCIsIiRTdHJpbmciLCJTdHJpbmciLCJ3ZWxsS25vd25TeW1ib2wiLCJVTlNDT1BBQkxFUyIsIkFycmF5UHJvdG90eXBlIiwiY2hhckF0IiwiUyIsInVuaWNvZGUiLCJpc1Byb3RvdHlwZU9mIiwiaXQiLCJQcm90b3R5cGUiLCJmYWlscyIsIkFycmF5QnVmZmVyIiwiYnVmZmVyIiwiaXNFeHRlbnNpYmxlIiwiJGZvckVhY2giLCJTVFJJQ1RfTUVUSE9EIiwiYXJyYXlNZXRob2RJc1N0cmljdCIsImNhbGxiYWNrZm4iLCJ0b0luZGV4ZWRPYmplY3QiLCJ0b0Fic29sdXRlSW5kZXgiLCJsZW5ndGhPZkFycmF5TGlrZSIsImNyZWF0ZU1ldGhvZCIsIklTX0lOQ0xVREVTIiwiJHRoaXMiLCJlbCIsImZyb21JbmRleCIsIk8iLCJpbmNsdWRlcyIsInVuY3VycnlUaGlzIiwiSW5kZXhlZE9iamVjdCIsInRvT2JqZWN0IiwiYXJyYXlTcGVjaWVzQ3JlYXRlIiwiVFlQRSIsIklTX01BUCIsIklTX0ZJTFRFUiIsIklTX1NPTUUiLCJJU19FVkVSWSIsIklTX0ZJTkRfSU5ERVgiLCJJU19GSUxURVJfUkVKRUNUIiwiTk9fSE9MRVMiLCJ0aGF0Iiwic3BlY2lmaWNDcmVhdGUiLCJib3VuZEZ1bmN0aW9uIiwiZXZlcnkiLCJmaW5kIiwiZmluZEluZGV4IiwiZmlsdGVyUmVqZWN0IiwiVjhfVkVSU0lPTiIsIlNQRUNJRVMiLCJNRVRIT0RfTkFNRSIsImZvbyIsIkJvb2xlYW4iLCJtZXRob2QiLCJhQ2FsbGFibGUiLCJJU19SSUdIVCIsImFyZ3VtZW50c0xlbmd0aCIsIm1lbW8iLCJsZWZ0IiwicmlnaHQiLCJjcmVhdGVQcm9wZXJ0eSIsIiRBcnJheSIsImsiLCJmaW4iLCJpc0NvbnN0cnVjdG9yIiwib3JpZ2luYWxBcnJheSIsIkMiLCJhcnJheVNwZWNpZXNDb25zdHJ1Y3RvciIsIklURVJBVE9SIiwiU0FGRV9DTE9TSU5HIiwiY2FsbGVkIiwiaXRlcmF0b3JXaXRoUmV0dXJuIiwiZG9uZSIsImVycm9yIiwiU0tJUF9DTE9TSU5HIiwiSVRFUkFUSU9OX1NVUFBPUlQiLCJzdHJpbmdTbGljZSIsIlRPX1NUUklOR19UQUdfU1VQUE9SVCIsImNsYXNzb2ZSYXciLCJUT19TVFJJTkdfVEFHIiwiJE9iamVjdCIsIkNPUlJFQ1RfQVJHVU1FTlRTIiwidHJ5R2V0IiwiY2FsbGVlIiwiZGVmaW5lQnVpbHRJbnMiLCJnZXRXZWFrRGF0YSIsImFuT2JqZWN0IiwiYW5JbnN0YW5jZSIsIml0ZXJhdGUiLCJBcnJheUl0ZXJhdGlvbk1vZHVsZSIsImhhc093biIsIkludGVybmFsU3RhdGVNb2R1bGUiLCJzZXRJbnRlcm5hbFN0YXRlIiwiaW50ZXJuYWxTdGF0ZUdldHRlckZvciIsImdldHRlckZvciIsImlkIiwidW5jYXVnaHRGcm96ZW5TdG9yZSIsInN0b3JlIiwiZnJvemVuIiwiVW5jYXVnaHRGcm96ZW5TdG9yZSIsImZpbmRVbmNhdWdodEZyb3plbiIsImdldENvbnN0cnVjdG9yIiwid3JhcHBlciIsIkNPTlNUUlVDVE9SX05BTUUiLCJBRERFUiIsIkNvbnN0cnVjdG9yIiwiaXRlcmFibGUiLCJBU19FTlRSSUVTIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsImRlZmluZSIsImFkZCIsIiQiLCJnbG9iYWwiLCJpc0ZvcmNlZCIsImRlZmluZUJ1aWx0SW4iLCJJbnRlcm5hbE1ldGFkYXRhTW9kdWxlIiwiY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uIiwic2V0VG9TdHJpbmdUYWciLCJpbmhlcml0SWZSZXF1aXJlZCIsImNvbW1vbiIsIklTX1dFQUsiLCJOYXRpdmVDb25zdHJ1Y3RvciIsIk5hdGl2ZVByb3RvdHlwZSIsImV4cG9ydGVkIiwiZml4TWV0aG9kIiwiS0VZIiwidW5jdXJyaWVkTmF0aXZlTWV0aG9kIiwiZW5hYmxlIiwiaW5zdGFuY2UiLCJIQVNOVF9DSEFJTklORyIsIlRIUk9XU19PTl9QUklNSVRJVkVTIiwiQUNDRVBUX0lURVJBQkxFUyIsIkJVR0dZX1pFUk8iLCIkaW5zdGFuY2UiLCJkdW1teSIsImZvcmNlZCIsInNldFN0cm9uZyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSIsImRlZmluZVByb3BlcnR5TW9kdWxlIiwiZXhjZXB0aW9ucyIsImYiLCJGIiwiZ2V0UHJvdG90eXBlT2YiLCJJdGVyYXRvclByb3RvdHlwZSIsImNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciIsIkl0ZXJhdG9ycyIsInJldHVyblRoaXMiLCJJdGVyYXRvckNvbnN0cnVjdG9yIiwiTkFNRSIsIkVOVU1FUkFCTEVfTkVYVCIsIkRFU0NSSVBUT1JTIiwiYml0bWFwIiwidG9Qcm9wZXJ0eUtleSIsInByb3BlcnR5S2V5IiwibWFrZUJ1aWx0SW4iLCJkZWZpbmVHbG9iYWxQcm9wZXJ0eSIsInNpbXBsZSIsIm5hbWUiLCJ1bnNhZmUiLCJub25Db25maWd1cmFibGUiLCJub25Xcml0YWJsZSIsInNyYyIsIklTX1BVUkUiLCJGdW5jdGlvbk5hbWUiLCJjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yIiwic2V0UHJvdG90eXBlT2YiLCJjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkiLCJJdGVyYXRvcnNDb3JlIiwiUFJPUEVSX0ZVTkNUSU9OX05BTUUiLCJQUk9QRVIiLCJDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSIsIkNPTkZJR1VSQUJMRSIsIkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMiLCJLRVlTIiwiVkFMVUVTIiwiRU5UUklFUyIsIkl0ZXJhYmxlIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIkN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSIsIm1ldGhvZHMiLCJnZXRJdGVyYXRpb25NZXRob2QiLCJLSU5EIiwiZGVmYXVsdEl0ZXJhdG9yIiwiSXRlcmFibGVQcm90b3R5cGUiLCJJTkNPUlJFQ1RfVkFMVUVTX05BTUUiLCJuYXRpdmVJdGVyYXRvciIsImFueU5hdGl2ZUl0ZXJhdG9yIiwidmFsdWVzIiwicHJvdG8iLCJFWElTVFMiLCJDU1NSdWxlTGlzdCIsIkNTU1N0eWxlRGVjbGFyYXRpb24iLCJDU1NWYWx1ZUxpc3QiLCJDbGllbnRSZWN0TGlzdCIsIkRPTVJlY3RMaXN0IiwiRE9NU3RyaW5nTGlzdCIsIkRPTVRva2VuTGlzdCIsIkRhdGFUcmFuc2Zlckl0ZW1MaXN0IiwiRmlsZUxpc3QiLCJIVE1MQWxsQ29sbGVjdGlvbiIsIkhUTUxDb2xsZWN0aW9uIiwiSFRNTEZvcm1FbGVtZW50IiwiSFRNTFNlbGVjdEVsZW1lbnQiLCJNZWRpYUxpc3QiLCJNaW1lVHlwZUFycmF5IiwiTmFtZWROb2RlTWFwIiwiTm9kZUxpc3QiLCJQYWludFJlcXVlc3RMaXN0IiwiUGx1Z2luIiwiUGx1Z2luQXJyYXkiLCJTVkdMZW5ndGhMaXN0IiwiU1ZHTnVtYmVyTGlzdCIsIlNWR1BhdGhTZWdMaXN0IiwiU1ZHUG9pbnRMaXN0IiwiU1ZHU3RyaW5nTGlzdCIsIlNWR1RyYW5zZm9ybUxpc3QiLCJTb3VyY2VCdWZmZXJMaXN0IiwiU3R5bGVTaGVldExpc3QiLCJUZXh0VHJhY2tDdWVMaXN0IiwiVGV4dFRyYWNrTGlzdCIsIlRvdWNoTGlzdCIsImNsYXNzTGlzdCIsImRvY3VtZW50Q3JlYXRlRWxlbWVudCIsIkRPTVRva2VuTGlzdFByb3RvdHlwZSIsImNsYXNzb2YiLCJwcm9jZXNzIiwiZ2V0QnVpbHRJbiIsIm1hdGNoIiwidmVyc2lvbiIsInVzZXJBZ2VudCIsIkRlbm8iLCJ2ZXJzaW9ucyIsInY4IiwiY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyIsInRhcmdldFByb3BlcnR5Iiwic291cmNlUHJvcGVydHkiLCJkZXNjcmlwdG9yIiwiVEFSR0VUIiwiR0xPQkFMIiwiU1RBVElDIiwic3RhdCIsImRvbnRDYWxsR2V0U2V0Iiwic2hhbSIsInJlZ2V4cEV4ZWMiLCJSZWdFeHBQcm90b3R5cGUiLCJTSEFNIiwiU1lNQk9MIiwiREVMRUdBVEVTX1RPX1NZTUJPTCIsIkRFTEVHQVRFU19UT19FWEVDIiwiZXhlY0NhbGxlZCIsInJlIiwiZmxhZ3MiLCJ1bmN1cnJpZWROYXRpdmVSZWdFeHBNZXRob2QiLCJuYXRpdmVNZXRob2QiLCJyZWdleHAiLCJzdHIiLCJhcmcyIiwiZm9yY2VTdHJpbmdNZXRob2QiLCIkZXhlYyIsInByZXZlbnRFeHRlbnNpb25zIiwiTkFUSVZFX0JJTkQiLCJGdW5jdGlvblByb3RvdHlwZSIsIlJlZmxlY3QiLCJmbiIsImdldERlc2NyaXB0b3IiLCJhRnVuY3Rpb24iLCJuYW1lc3BhY2UiLCJnZXRNZXRob2QiLCJnZXRJdGVyYXRvck1ldGhvZCIsInVzaW5nSXRlcmF0b3IiLCJpdGVyYXRvck1ldGhvZCIsIlYiLCJQIiwiZmxvb3IiLCJTVUJTVElUVVRJT05fU1lNQk9MUyIsIlNVQlNUSVRVVElPTl9TWU1CT0xTX05PX05BTUVEIiwibWF0Y2hlZCIsInBvc2l0aW9uIiwiY2FwdHVyZXMiLCJuYW1lZENhcHR1cmVzIiwicmVwbGFjZW1lbnQiLCJ0YWlsUG9zIiwibSIsImNoIiwiY2FwdHVyZSIsImNoZWNrIiwiZ2xvYmFsVGhpcyIsImEiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIldyYXBwZXIiLCJOZXdUYXJnZXQiLCJOZXdUYXJnZXRQcm90b3R5cGUiLCJmdW5jdGlvblRvU3RyaW5nIiwiaW5zcGVjdFNvdXJjZSIsImhpZGRlbktleXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlIiwiZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsTW9kdWxlIiwiRlJFRVpJTkciLCJSRVFVSVJFRCIsIk1FVEFEQVRBIiwic2V0TWV0YWRhdGEiLCJvYmplY3RJRCIsIndlYWtEYXRhIiwibWV0YSIsImdldE93blByb3BlcnR5TmFtZXMiLCJmYXN0S2V5Iiwib25GcmVlemUiLCJOQVRJVkVfV0VBS19NQVAiLCJzaGFyZWQiLCJzaGFyZWRLZXkiLCJPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCIsIndtZ2V0Iiwid21oYXMiLCJ3bXNldCIsIm1ldGFkYXRhIiwiZmFjYWRlIiwiU1RBVEUiLCJlbmZvcmNlIiwibm9vcCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yUmVnRXhwIiwiSU5DT1JSRUNUX1RPX1NUUklORyIsImlzQ29uc3RydWN0b3JNb2Rlcm4iLCJpc0NvbnN0cnVjdG9yTGVnYWN5IiwiZmVhdHVyZSIsImRldGVjdGlvbiIsIm5vcm1hbGl6ZSIsIlBPTFlGSUxMIiwiTkFUSVZFIiwic3RyaW5nIiwidG9Mb3dlckNhc2UiLCJVU0VfU1lNQk9MX0FTX1VJRCIsIiRTeW1ib2wiLCJpc0FycmF5SXRlcmF0b3JNZXRob2QiLCJnZXRJdGVyYXRvciIsIml0ZXJhdG9yQ2xvc2UiLCJSZXN1bHQiLCJzdG9wcGVkIiwiUmVzdWx0UHJvdG90eXBlIiwidW5ib3VuZEZ1bmN0aW9uIiwiaXRlckZuIiwic3RlcCIsIklTX0lURVJBVE9SIiwiSU5URVJSVVBURUQiLCJzdG9wIiwiY29uZGl0aW9uIiwiY2FsbEZuIiwia2luZCIsImlubmVyUmVzdWx0IiwiaW5uZXJFcnJvciIsIlByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSIsImFycmF5SXRlcmF0b3IiLCJ0b0xlbmd0aCIsImVuZm9yY2VJbnRlcm5hbFN0YXRlIiwiQ09ORklHVVJBQkxFX0xFTkdUSCIsIlRFTVBMQVRFIiwiZ2V0dGVyIiwic2V0dGVyIiwiYXJpdHkiLCJqb2luIiwiY2VpbCIsInRydW5jIiwieCIsInN5bWJvbCIsInRyaW0iLCJ3aGl0ZXNwYWNlcyIsIiRwYXJzZUludCIsImhleCIsInJhZGl4Iiwib2JqZWN0S2V5cyIsImdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlIiwiJGFzc2lnbiIsImFzc2lnbiIsImIiLCJBIiwiQiIsImFscGhhYmV0IiwiY2hyIiwiVCIsImFjdGl2ZVhEb2N1bWVudCIsImRlZmluZVByb3BlcnRpZXNNb2R1bGUiLCJlbnVtQnVnS2V5cyIsImh0bWwiLCJFbXB0eUNvbnN0cnVjdG9yIiwic2NyaXB0VGFnIiwiY29udGVudCIsIkxUIiwiTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWCIsIndyaXRlIiwiY2xvc2UiLCJ0ZW1wIiwicGFyZW50V2luZG93IiwiTnVsbFByb3RvT2JqZWN0IiwiQWN0aXZlWE9iamVjdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwiZG9tYWluIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50V2luZG93Iiwib3BlbiIsIlByb3BlcnRpZXMiLCJWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyIsInByb3BzIiwiSUU4X0RPTV9ERUZJTkUiLCIkZGVmaW5lUHJvcGVydHkiLCIkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiQXR0cmlidXRlcyIsImN1cnJlbnQiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsImFycmF5U2xpY2UiLCJ3aW5kb3dOYW1lcyIsImdldFdpbmRvd05hbWVzIiwiaW50ZXJuYWxPYmplY3RLZXlzIiwiQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSIiwiT2JqZWN0UHJvdG90eXBlIiwiQVJSQVlfQlVGRkVSX05PTl9FWFRFTlNJQkxFIiwiJGlzRXh0ZW5zaWJsZSIsIkZBSUxTX09OX1BSSU1JVElWRVMiLCJuYW1lcyIsIiRwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIk5BU0hPUk5fQlVHIiwiYVBvc3NpYmxlUHJvdG90eXBlIiwiQ09SUkVDVF9TRVRURVIiLCJfX3Byb3RvX18iLCJpbnB1dCIsInByZWYiLCJ2YWwiLCJSIiwicmUxIiwicmUyIiwicmVnZXhwRmxhZ3MiLCJzdGlja3lIZWxwZXJzIiwiVU5TVVBQT1JURURfRE9UX0FMTCIsIlVOU1VQUE9SVEVEX05DRyIsIm5hdGl2ZVJlcGxhY2UiLCJuYXRpdmVFeGVjIiwicGF0Y2hlZEV4ZWMiLCJVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkciLCJsYXN0SW5kZXgiLCJVTlNVUFBPUlRFRF9ZIiwiQlJPS0VOX0NBUkVUIiwiTlBDR19JTkNMVURFRCIsInJlQ29weSIsInJhdyIsImdyb3VwcyIsInN0aWNreSIsImNoYXJzQWRkZWQiLCJzdHJDb3B5IiwibXVsdGlsaW5lIiwiaGFzSW5kaWNlcyIsImlnbm9yZUNhc2UiLCJkb3RBbGwiLCJ1bmljb2RlU2V0cyIsIiRSZWdFeHAiLCJNSVNTRURfU1RJQ0tZIiwiVEFHIiwiU0hBUkVEIiwibW9kZSIsImNvcHlyaWdodCIsImxpY2Vuc2UiLCJ0b0ludGVnZXJPckluZmluaXR5IiwicmVxdWlyZU9iamVjdENvZXJjaWJsZSIsImNoYXJDb2RlQXQiLCJDT05WRVJUX1RPX1NUUklORyIsInBvcyIsImZpcnN0Iiwic2Vjb25kIiwic2l6ZSIsImNvZGVBdCIsIndoaXRlc3BhY2UiLCJsdHJpbSIsInJ0cmltIiwiaW50ZWdlciIsIm51bWJlciIsIm9yZGluYXJ5VG9QcmltaXRpdmUiLCJUT19QUklNSVRJVkUiLCJleG90aWNUb1ByaW0iLCJ0b1ByaW1pdGl2ZSIsInBvc3RmaXgiLCJyYW5kb20iLCJOQVRJVkVfU1lNQk9MIiwiV2VsbEtub3duU3ltYm9sc1N0b3JlIiwic3ltYm9sRm9yIiwiY3JlYXRlV2VsbEtub3duU3ltYm9sIiwid2l0aG91dFNldHRlciIsImRlc2NyaXB0aW9uIiwiJGZpbHRlciIsImFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQiLCJhZGRUb1Vuc2NvcGFibGVzIiwiZGVmaW5lSXRlcmF0b3IiLCJBUlJBWV9JVEVSQVRPUiIsIml0ZXJhdGVkIiwiQXJndW1lbnRzIiwiJHJlZHVjZSIsIkNIUk9NRV9WRVJTSU9OIiwiSVNfTk9ERSIsIkZVTkNUSU9OX05BTUVfRVhJU1RTIiwibmFtZVJFIiwicmVnRXhwRXhlYyIsIlNUUklOR19JVEVSQVRPUiIsInBvaW50IiwiZml4UmVnRXhwV2VsbEtub3duU3ltYm9sTG9naWMiLCJhZHZhbmNlU3RyaW5nSW5kZXgiLCJNQVRDSCIsIm5hdGl2ZU1hdGNoIiwibWF5YmVDYWxsTmF0aXZlIiwibWF0Y2hlciIsInJ4IiwiZnVsbFVuaWNvZGUiLCJtYXRjaFN0ciIsImdldFN1YnN0aXR1dGlvbiIsIlJFUExBQ0UiLCJzdHJpbmdJbmRleE9mIiwiUkVQTEFDRV9LRUVQU18kMCIsIlJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFIiwiXyIsIlVOU0FGRV9TVUJTVElUVVRFIiwic2VhcmNoVmFsdWUiLCJyZXBsYWNlVmFsdWUiLCJyZXBsYWNlciIsImZ1bmN0aW9uYWxSZXBsYWNlIiwicmVzdWx0cyIsImFjY3VtdWxhdGVkUmVzdWx0IiwibmV4dFNvdXJjZVBvc2l0aW9uIiwicmVwbGFjZXJBcmdzIiwiSW50ZXJuYWxXZWFrTWFwIiwiY29sbGVjdGlvbiIsImNvbGxlY3Rpb25XZWFrIiwiSVNfSUUxMSIsImluaXQiLCIkV2Vha01hcCIsIldlYWtNYXBQcm90b3R5cGUiLCJuYXRpdmVEZWxldGUiLCJuYXRpdmVIYXMiLCJuYXRpdmVHZXQiLCJuYXRpdmVTZXQiLCJET01JdGVyYWJsZXMiLCJoYW5kbGVQcm90b3R5cGUiLCJDb2xsZWN0aW9uUHJvdG90eXBlIiwiQ09MTEVDVElPTl9OQU1FIiwiQXJyYXlJdGVyYXRvck1ldGhvZHMiLCJBcnJheVZhbHVlcyIsIm9ic2VydmFibGUiLCJ0YWdzSW5wdXQiLCJDT1BZX1BST1BTIiwiYXR0cmlidXRlcyIsImNsYXNzTmFtZSIsInRleHRDb250ZW50Iiwic2V0QXR0cmlidXRlIiwic2VsZWN0b3IiLCJhbGwiLCJiYXNlIiwicXVlcnlTZWxlY3RvckFsbCIsInF1ZXJ5U2VsZWN0b3IiLCJzYXZlIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiYWRkVGFnIiwiZ2V0QXR0cmlidXRlIiwiX3JldCIsImV4aXNpbmdUYWciLCJyZW1vdmUiLCJ2IiwiaW5zZXJ0QmVmb3JlIiwic2VsZWN0Iiwic2VsIiwic2V0SW5wdXRXaWR0aCIsImxhc3QiLCJ3Iiwib2Zmc2V0V2lkdGgiLCJ3aWR0aCIsIm9mZnNldExlZnQiLCJzYXZlUGFydGlhbElucHV0IiwicmVmb2N1cyIsImNvbnRhaW5zIiwiZm9jdXMiLCJwcmV2ZW50RGVmYXVsdCIsInNpYiIsIm5leHRTaWJsaW5nIiwicGFyZW50Tm9kZSIsImNzc1RleHQiLCJ0YWJJbmRleCIsImFkZEV2ZW50TGlzdGVuZXIiLCJrZXlDb2RlIiwid2hpY2giLCJzZWxlY3RlZFRhZyIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwicmVtb3ZlQ2hpbGQiLCJwcmV2aW91c1NpYmxpbmciLCJzZXRWYWx1ZSIsInQiLCJlbmhhbmNlIiwiUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIiwicmVzaXplT2JzZXJ2ZXJzIiwibXNnIiwidHJpZ2dlciIsImZyZWV6ZSIsIlJlc2l6ZU9ic2VydmVyU2l6ZSIsImlubGluZVNpemUiLCJibG9ja1NpemUiLCJET01SZWN0UmVhZE9ubHkiLCJ5IiwiaGVpZ2h0IiwidG9wIiwiYm90dG9tIiwidG9KU09OIiwiX2EiLCJmcm9tUmVjdCIsInJlY3RhbmdsZSIsImlzU1ZHIiwiU1ZHRWxlbWVudCIsImlzSGlkZGVuIiwiZ2V0QkJveCIsIl9iIiwib2Zmc2V0SGVpZ2h0IiwiZ2V0Q2xpZW50UmVjdHMiLCJpc0VsZW1lbnQiLCJFbGVtZW50Iiwic2NvcGUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJzY3JvbGxSZWdleHAiLCJ2ZXJ0aWNhbFJlZ2V4cCIsIklFIiwibmF2aWdhdG9yIiwicGFyc2VEaW1lbnNpb24iLCJwaXhlbCIsInBhcnNlRmxvYXQiLCJzd2l0Y2hTaXplcyIsInplcm9Cb3hlcyIsImRldmljZVBpeGVsQ29udGVudEJveFNpemUiLCJib3JkZXJCb3hTaXplIiwiY29udGVudEJveFNpemUiLCJjb250ZW50UmVjdCIsImNhbGN1bGF0ZUJveFNpemVzIiwiZm9yY2VSZWNhbGN1bGF0aW9uIiwiY3MiLCJnZXRDb21wdXRlZFN0eWxlIiwic3ZnIiwib3duZXJTVkdFbGVtZW50IiwicmVtb3ZlUGFkZGluZyIsImJveFNpemluZyIsIndyaXRpbmdNb2RlIiwiY2FuU2Nyb2xsVmVydGljYWxseSIsIm92ZXJmbG93WSIsImNhblNjcm9sbEhvcml6b250YWxseSIsIm92ZXJmbG93WCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nQm90dG9tIiwicGFkZGluZ0xlZnQiLCJib3JkZXJUb3AiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlclJpZ2h0IiwiYm9yZGVyUmlnaHRXaWR0aCIsImJvcmRlckJvdHRvbSIsImJvcmRlckJvdHRvbVdpZHRoIiwiaG9yaXpvbnRhbFBhZGRpbmciLCJ2ZXJ0aWNhbFBhZGRpbmciLCJob3Jpem9udGFsQm9yZGVyQXJlYSIsImJvcmRlckxlZnRXaWR0aCIsInZlcnRpY2FsQm9yZGVyQXJlYSIsImhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MiLCJjbGllbnRIZWlnaHQiLCJ2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyIsImNsaWVudFdpZHRoIiwid2lkdGhSZWR1Y3Rpb24iLCJoZWlnaHRSZWR1Y3Rpb24iLCJjb250ZW50V2lkdGgiLCJjb250ZW50SGVpZ2h0IiwiYm9yZGVyQm94V2lkdGgiLCJib3JkZXJCb3hIZWlnaHQiLCJib3hlcyIsInJvdW5kIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImNhbGN1bGF0ZUJveFNpemUiLCJvYnNlcnZlZEJveCIsIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWCIsIkJPUkRFUl9CT1giLCJSZXNpemVPYnNlcnZlckVudHJ5IiwiY2FsY3VsYXRlRGVwdGhGb3JOb2RlIiwibm9kZSIsIkluZmluaXR5IiwiZGVwdGgiLCJwYXJlbnQiLCJicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMiLCJzaGFsbG93ZXN0RGVwdGgiLCJjYWxsYmFja3MiLCJybyIsImFjdGl2ZVRhcmdldHMiLCJvdCIsInRhcmdldERlcHRoIiwibGFzdFJlcG9ydGVkU2l6ZSIsImNhbGxiYWNrIiwib2JzZXJ2ZXIiLCJfaSIsImNhbGxiYWNrc18xIiwiZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCIsInNraXBwZWRUYXJnZXRzIiwib2JzZXJ2YXRpb25UYXJnZXRzIiwiaXNBY3RpdmUiLCJ3YXRjaGluZyIsIm9ic2VydmVyQ29uZmlnIiwiY2hhcmFjdGVyRGF0YSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJldmVudHMiLCJ0aW1lb3V0Iiwic2NoZWR1bGVkIiwic2NoZWR1bGVyIiwiU2NoZWR1bGVyIiwiX3RoaXMiLCJsaXN0ZW5lciIsInNjaGVkdWxlIiwicnVuIiwiY2IiLCJ1bnRpbCIsImVsZW1lbnRzSGF2ZVJlc2l6ZWQiLCJldmVudCIsIkVycm9yRXZlbnQiLCJtZXNzYWdlIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJ0b2dnbGVfMSIsImVsXzEiLCJjcmVhdGVUZXh0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlIiwicXVldWVNaWNyb1Rhc2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJib2R5IiwiZGlzY29ubmVjdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVDb3VudCIsIlJlc2l6ZU9ic2VydmF0aW9uIiwiQ09OVEVOVF9CT1giLCJ0YWdOYW1lIiwiaXNSZXBsYWNlZEVsZW1lbnQiLCJSZXNpemVPYnNlcnZlckRldGFpbCIsInJlc2l6ZU9ic2VydmVyIiwib2JzZXJ2ZXJNYXAiLCJnZXRPYnNlcnZhdGlvbkluZGV4IiwiUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIiwiY29ubmVjdCIsImRldGFpbCIsImZpcnN0T2JzZXJ2YXRpb24iLCJib3giLCJ1bm9ic2VydmUiLCJsYXN0T2JzZXJ2YXRpb24iLCJSZXNpemVPYnNlcnZlciIsImdldE9wdGlvbnMiLCJhY2MiLCJhdHRyaWJ1dGUiLCJvcHRpb24iLCJ0b1VwcGVyQ2FzZSIsImdldEVsZW1lbnRXaW5kb3ciLCJlbGVtZW50IiwiZ2V0RWxlbWVudERvY3VtZW50IiwiY2FjaGVkU2Nyb2xsYmFyV2lkdGgiLCJjYWNoZWREZXZpY2VQaXhlbFJhdGlvIiwic2Nyb2xsYmFyV2lkdGgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJTaW1wbGVCYXIiLCJvblNjcm9sbCIsImVsV2luZG93Iiwic2Nyb2xsWFRpY2tpbmciLCJzY3JvbGxYIiwic2Nyb2xsWVRpY2tpbmciLCJzY3JvbGxZIiwiYXhpcyIsImlzT3ZlcmZsb3dpbmciLCJzaG93U2Nyb2xsYmFyIiwicG9zaXRpb25TY3JvbGxiYXIiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTW92ZSIsIm1vdXNlWCIsImNsaWVudFgiLCJtb3VzZVkiLCJjbGllbnRZIiwiZm9yY2VWaXNpYmxlIiwib25Nb3VzZU1vdmVGb3JBeGlzIiwib25Nb3VzZUxlYXZlIiwib25Nb3VzZUxlYXZlRm9yQXhpcyIsIm9uV2luZG93UmVzaXplIiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJoaWRlTmF0aXZlU2Nyb2xsYmFyIiwiaGlkZVNjcm9sbGJhcnMiLCJ0cmFjayIsInJlY3QiLCJpc1dpdGhpbkJvdW5kcyIsInNjcm9sbGJhciIsImNsYXNzTmFtZXMiLCJ2aXNpYmxlIiwiaXNWaXNpYmxlIiwib25Qb2ludGVyRXZlbnQiLCJpc1dpdGhpblRyYWNrWEJvdW5kcyIsImlzV2l0aGluVHJhY2tZQm91bmRzIiwic3RvcFByb3BhZ2F0aW9uIiwib25EcmFnU3RhcnQiLCJvblRyYWNrQ2xpY2siLCJkcmFnIiwiZHJhZ2dlZEF4aXMiLCJ0cmFja1NpemUiLCJzaXplQXR0ciIsImNvbnRlbnRTaXplIiwiY29udGVudFdyYXBwZXJFbCIsInNjcm9sbFNpemVBdHRyIiwiaG9zdFNpemUiLCJlbFN0eWxlcyIsInNjcm9sbFBvcyIsInBhZ2VZIiwicGFnZVgiLCJvZmZzZXRBdHRyIiwiZHJhZ09mZnNldCIsImlzUnRsIiwiZ2V0UnRsSGVscGVycyIsImlzUnRsU2Nyb2xsYmFySW52ZXJ0ZWQiLCJpc1J0bFNjcm9sbGluZ0ludmVydGVkIiwic2Nyb2xsT2Zmc2V0QXR0ciIsIm9uRW5kRHJhZyIsImVsRG9jdW1lbnQiLCJkcmFnZ2luZyIsInJlbW92ZVByZXZlbnRDbGlja0lkIiwicHJldmVudENsaWNrIiwibWluU2Nyb2xsYmFyV2lkdGgiLCJkZWZhdWx0T3B0aW9ucyIsIm9mZnNldFNpemVBdHRyIiwib3ZlcmZsb3dBdHRyIiwiaW5zdGFuY2VzIiwicmVjYWxjdWxhdGUiLCJkdW1teURpdiIsImlubmVySFRNTCIsInNjcm9sbGJhckR1bW15RWwiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImR1bW15Q29udGFpbmVyQ2hpbGQiLCJzY3JvbGxMZWZ0IiwiZHVtbXlDb250YWluZXJPZmZzZXQiLCJnZXRPZmZzZXQiLCJkdW1teUNvbnRhaW5lckNoaWxkT2Zmc2V0IiwiZHVtbXlDb250YWluZXJTY3JvbGxPZmZzZXRBZnRlclNjcm9sbCIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwicGFnZVhPZmZzZXQiLCJfcHJvdG8iLCJpbml0RE9NIiwic2V0QWNjZXNzaWJpbGl0eUF0dHJpYnV0ZXMiLCJpbml0TGlzdGVuZXJzIiwiX3RoaXMyIiwiY2hpbGRyZW4iLCJjaGlsZCIsIndyYXBwZXJFbCIsInNjcm9sbGFibGVOb2RlIiwiY29udGVudFdyYXBwZXIiLCJjb250ZW50RWwiLCJjb250ZW50Tm9kZSIsIm9mZnNldEVsIiwib2Zmc2V0IiwibWFza0VsIiwibWFzayIsInBsYWNlaG9sZGVyRWwiLCJmaW5kQ2hpbGQiLCJwbGFjZWhvbGRlciIsImhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbCIsImhlaWdodEF1dG9PYnNlcnZlckVsIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiZmlyc3RDaGlsZCIsImNsb25lTm9kZSIsImF1dG9IaWRlIiwiYXJpYUxhYmVsIiwiX3RoaXMzIiwicGFzc2l2ZSIsInJlc2l6ZU9ic2VydmVyU3RhcnRlZCIsIm11dGF0aW9uT2JzZXJ2ZXIiLCJkaXJlY3Rpb24iLCJpc0hlaWdodEF1dG8iLCJpc1dpZHRoQXV0byIsImNvbnRlbnRFbE9mZnNldFdpZHRoIiwiY29udGVudFdyYXBwZXJFbE9mZnNldFdpZHRoIiwiZWxPdmVyZmxvd1giLCJlbE92ZXJmbG93WSIsInBhZGRpbmciLCJtYXJnaW4iLCJjb250ZW50RWxTY3JvbGxIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJjb250ZW50RWxTY3JvbGxXaWR0aCIsInNjcm9sbFdpZHRoIiwiY29udGVudFdyYXBwZXJFbE9mZnNldEhlaWdodCIsIm9mZnNldEZvclhTY3JvbGxiYXIiLCJvZmZzZXRGb3JZU2Nyb2xsYmFyIiwiZ2V0U2Nyb2xsYmFyU2l6ZSIsInRvZ2dsZVRyYWNrVmlzaWJpbGl0eSIsInNjcm9sbGJhclNpemUiLCJzY3JvbGxiYXJSYXRpbyIsInNjcm9sbGJhck1pblNpemUiLCJzY3JvbGxiYXJNYXhTaXplIiwic2Nyb2xsT2Zmc2V0Iiwic2Nyb2xsUG91cmNlbnQiLCJoYW5kbGVPZmZzZXQiLCJ0cmFuc2Zvcm0iLCJ2aXNpYmlsaXR5IiwiaG92ZXIiLCJldmVudE9mZnNldCIsIl90aGlzNCIsImNsaWNrT25UcmFjayIsInNjcm9sbGJhck9mZnNldCIsInNjcm9sbGVkIiwiZGlyIiwic2Nyb2xsU2l6ZSIsInNjcm9sbFRvIiwiX3RoaXM0JGNvbnRlbnRXcmFwcGVyIiwiX3RoaXM0JGNvbnRlbnRXcmFwcGVyMiIsImNsaWNrT25UcmFja1NwZWVkIiwiZ2V0Q29udGVudEVsZW1lbnQiLCJnZXRTY3JvbGxFbGVtZW50IiwicmVtb3ZlTGlzdGVuZXJzIiwiX3RoaXM1IiwidW5Nb3VudCIsImRlbGV0ZSIsImJib3giLCJxdWVyeSIsIm1hdGNoZXMiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsImluaXRET01Mb2FkZWRFbGVtZW50cyIsInJlbW92ZU9ic2VydmVyIiwiZ2xvYmFsT2JzZXJ2ZXIiLCJpbml0SHRtbEFwaSIsImhhbmRsZU11dGF0aW9ucyIsInJlYWR5U3RhdGUiLCJkb1Njcm9sbCIsIm11dGF0aW9ucyIsIm11dGF0aW9uIiwiYWRkZWROb2RlcyIsImFkZGVkTm9kZSIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlIiwicmVtb3ZlZE5vZGVzIiwicmVtb3ZlZE5vZGUiLCJCcm93c2VySW5mbyIsIm9zIiwiTm9kZUluZm8iLCJwbGF0Zm9ybSIsIlNlYXJjaEJvdERldmljZUluZm8iLCJib3QiLCJCb3RJbmZvIiwiUmVhY3ROYXRpdmVJbmZvIiwiU0VBUkNIQk9UX09TX1JFR0VYIiwidXNlckFnZW50UnVsZXMiLCJvcGVyYXRpbmdTeXN0ZW1SdWxlcyIsInBhcnNlVXNlckFnZW50IiwidWEiLCJtYXRjaGVkUnVsZSIsImJyb3dzZXIiLCJyZWdleCIsInVhTWF0Y2giLCJtYXRjaFVzZXJBZ2VudCIsInZlcnNpb25QYXJ0cyIsInMiLCJpbCIsInIiLCJqbCIsIl9fc3ByZWFkQXJyYXlzIiwiY291bnQiLCJvdXRwdXQiLCJpaSIsImNyZWF0ZVZlcnNpb25QYXJ0cyIsImRldGVjdE9TIiwic2VhcmNoQm90TWF0Y2giLCJXSUtJX1NJTEVYIiwiV0lLSV9TSUxFWF9DVVNUT01fQ1NTX0NMQVNTIiwiQ1JPV0RfRlVORElORyIsIklTU1VFU19TSUxFWCIsIkRPV05MT0FEU19URU1QTEFURV9TSUxFWCIsIkRPV05MT0FEU19XSURHRVRfU0lMRVgiLCJBQk9VVF9TSUxFWF9MQUJTIiwiU1VCU0NSSUJFX1NJTEVYX0xBQlMiLCJTT0NJQUxfRElBU1BPUkEiLCJTT0NJQUxfVFdJVFRFUiIsIlNPQ0lBTF9GQiIsIkZPUktfQ09ERSIsIkNPTlRSSUJVVEUiLCJzaW5nbGVTaXRlTW9kZSIsImNvbXBvbmVudEZvbGRlcnMiLCJzaG9ydGN1dHMiLCJsYWJlbCIsImFsdEtleSIsImN0cmxLZXkiLCJzaGlmdEtleSIsIm1vZGlmaWVycyIsIkxPQURJTkciLCJTaWRlIiwiVWlNb2RlIiwiTm90aWZpY2F0aW9uIiwiY3VycmVudERpYWxvZyIsIk5PVElGSUNBVElPTl9DU1NfQ0xBU1MiLCJzdGF0aWMiLCJpc09rIiwiY2JrIiwiY2JrT2siLCJjYmtDYW5jZWwiLCJ0aXRsZSIsIm9rIiwibGFiZWxPayIsImdldE1hcmt1cCIsIm9uY2xpY2siLCJsYWJlbENhbmNlbCIsIm9wdF9jbG9zZSIsImNvbnRhaW5lciIsIk5PVElGSUNBVElPTl9EVVJBVElPTl9NUyIsIm5vdGlmeVN1Y2Nlc3MiLCJrZWVwRXhpc2l0aW5nIiwidXBkYXRlRm9jdXMiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJzZXRDb250ZW50IiwiaW5mb1BhbmVsIiwibWF4SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjaGlsZE5vZGVzIiwibWFya3VwIiwiVXJsIiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHIiLCJhZ2dyIiwiZmlsZUluZm8iLCJmaWxlSW5mb05ldyIsInVybCIsImdldEJhc2VVcmwiLCJzZXJ2aWNlIiwiaHJlZiIsIm9wdF91cmwiLCJnZXRSb290VXJsIiwic3RhcnRzV2l0aCIsImVuZHNXaXRoIiwicmVtb3ZlQ2FjaGVDb250cm9sIiwiQ0FDSEVfQ09OVFJPTF9QQVJBTV9OQU1FIiwiZ3JvdXAxIiwiZ3JvdXAyIiwiZ2V0Qm91bmRpbmdCb3hEb2N1bWVudCIsInNjcm9sbCIsImdldFNjcm9sbCIsImdldERvY3VtZW50IiwiZ2V0Qm91bmRpbmdCb3giLCJzZWxlY3RhYmxlcyIsImZyb21DbGllbnRUb0NvbXB1dGVkIiwibWV0cmljcyIsImdldFNjcm9sbFRvU2hvdyIsImRvYyIsImJvdW5kaW5nQm94Iiwid2luIiwiZ2V0V2luZG93IiwiaW5uZXJXaWR0aCIsInNldE1ldHJpY3MiLCJ1c2VNaW5IZWlnaHQiLCJ1c2VDbGllbnRSZWN0IiwidXBkYXRlU3R5bGUiLCJvYmpOYW1lIiwicHJvcE5hbWUiLCJzdHlsZU5hbWUiLCJzdHlsZVZhbHVlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImNvbXB1dGVkU3R5bGVSZWN0IiwiZ2V0TWV0cmljcyIsImNsaWVudFJlY3QiLCJwcm9wb3J0aW9ucyIsImJvcmRlciIsInNldFNjcm9sbCIsIkNVUlNPUl9ERUZBVUxUIiwiZ2V0UmVzaXplQ3Vyc29yQ2xhc3MiLCJpc1Jlc2l6ZWFibGUiLCJyZXNpemVhYmxlIiwiZ2V0Q3Vyc29yRGF0YSIsInNjcm9sbERhdGEiLCJzZWxlY3RhYmxlIiwiYmIiLCJkaXN0RnJvbUJvcmRlciIsImdldERpcmVjdGlvbiIsImN1cnNvclR5cGUiLCJkcmFnZ2FibGUiLCJzZWxlY3RlZCIsImdldFNlbGVjdGFibGVTdGF0ZSIsImdldFN0YXRlIiwiZ2V0U2VsZWN0aW9uIiwiZ2V0U2VsZWN0YWJsZSIsInBhcmVudEVsZW1lbnQiLCJoYXNBU2VsZWN0ZWREcmFnZ2FibGVQYXJlbnQiLCJzZWxlY3RhYmxlUGFyZW50IiwiZmluZERyb3Bab25lc1VuZGVyTW91c2UiLCJob29rcyIsImNvbnN0cmFpbiIsIm51bSIsInNhZmVYIiwic2FmZVkiLCJzZWxlY3Rpb24iLCJlbGVtZW50c0Zyb21Qb2ludCIsImlzRHJvcFpvbmUiLCJtb3ZlIiwib25seUNsaWVudFJlY3QiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJ0cmFuc2xhdGlvbiIsImFkZEV2ZW50IiwiVUlfU0VUX01PREUiLCJzZXRNb2RlIiwiVUlfU0VUX1JFRlJFU0hJTkciLCJzZXRSZWZyZXNoaW5nIiwicmVmcmVzaGluZyIsIlVJX1NFVF9DQVRDSElOR19FVkVOVFMiLCJVSV9TRVRfU1RJQ0tZIiwiVUlfU0VUX0VOQUJMRV9TVElDS1kiLCJTRVQiLCJSRVNFVCIsIkFERCIsIlJFTU9WRSIsIktleWJvYXJkIiwidW5zdWJzY3JpYmVBbGwiLCJvbktleURvd24iLCJjbGVhbnVwIiwidSIsInVpIiwiY2F0Y2hpbmdFdmVudHMiLCJOT05FIiwiZGlzcGF0Y2giLCJvbkVkaXQiLCJNT1VTRV9TQ1JPTEwiLCJNT1VTRV9DVVJTT1IiLCJzZXRDdXJzb3JEYXRhIiwiY3Vyc29yRGF0YSIsIk1PVVNFX0RBVEEiLCJVUERBVEUiLCJDUkVBVEUiLCJERUxFVEUiLCJ1cGRhdGVTZWxlY3RhYmxlcyIsInByZXZlbnREaXNwYXRjaCIsIk1vdXNlTW9kZSIsIk1vdXNlIiwid2luU3RhZ2UiLCJ3aW5PdmVybGF5IiwibW91c2VNb2RlIiwiVVAiLCJ3YXNNdWx0aVNlbGVjdGVkIiwiZG93biIsInVwIiwidXBPdXQiLCJtb3ZlT3V0Iiwic3Vic2NyaWJlTW91c2VFdmVudCIsInVuc3Vic2NyaWJlQXJyYXkiLCJtb3VzZURhdGEiLCJldmVudFRvTW91c2VEYXRhIiwiV0FJVElOR19EQkxfQ0xJQ0tfVVAiLCJXQUlUSU5HX0RCTF9DTElDS19ET1dOMiIsIkRSQUdHSU5HIiwib25Ecm9wIiwiV0FJVElOR19EQkxfQ0xJQ0tfRE9XTiIsImZpcnN0T25Eb3duTW91c2VEYXRhIiwiRE9XTiIsIm9uRG93biIsIm9uVXAiLCJvbkRibENsaWNrIiwidXBkYXRlZCIsImhvdmVyZWQiLCJvbk1vdmUiLCJvblN0YXJ0RHJhZyIsIm9uRHJhZyIsImZyYW1lRWxlbWVudCIsIm1vdXNlIiwiU2VsZWN0YWJsZXNPYnNlcnZlciIsInN0YWdlRG9jdW1lbnQiLCJvdmVybGF5RG9jdW1lbnQiLCJpc1JlZnJlc2hpbmciLCJwcmV2U3RhdGUiLCJzdWJzY3JpYmUiLCJvblN0YXRlQ2hhbmdlZCIsIm9uVWlDaGFuZ2VkIiwiZmlsdGVyQnkiLCJvbGRTZWxlY3RhYmxlIiwib2xkIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbW92ZWQiLCJzMiIsIm9uTWV0cmljcyIsIm9uU2VsZWN0aW9uIiwib25UcmFuc2xhdGlvbiIsInByZXZlbnRNZXRyaWNzIiwib25DaGFuZ2UiLCJvblNlbGVjdCIsInpJbmRleCIsImRvbU9ic2VydmVycyIsInJlbW92ZURvbU9ic2VydmVyIiwidGFrZVJlY29yZHMiLCJEb21PYnNlcnZlciIsIm9uUmVtb3ZlZCIsIm9uQWRkZWQiLCJvbkNoYW5nZWQiLCJhZGREb21PYnNlcnZlciIsIk1vdXNlT2JzZXJ2ZXIiLCJNb3VzZUhhbmRsZXJCYXNlIiwiZGVib3VuY2VTY3JvbGxQZW5kaW5nIiwidW5zdWJzcmliZSIsInVwZGF0ZSIsInVuc3Vic3JpYmVTY3JvbGwiLCJjdXIiLCJyZWxlYXNlIiwiZGVib3VuY2VTY3JvbGwiLCJkZWJvdW5jZVNjcm9sbERhdGEiLCJkZWx0YSIsIlJlc2l6ZUhhbmRsZXIiLCJzdXBlciIsIm9uU3RhcnRSZXNpemUiLCJpbml0aWFsV2lkdGgiLCJoZWlnaHRBdHRyIiwiaW5pdGlhbEhlaWdodCIsImluaXRpYWxTY3JvbGwiLCJvblJlc2l6ZSIsInVwZGF0ZWRTdGF0ZSIsIm9uUmVzaXplRW5kIiwiRHJhd0hhbmRsZXIiLCJvblN0YXJ0RHJhdyIsImluaXRpYWxYIiwiaW5pdGlhbFkiLCJyZWdpb25NYXJrZXIiLCJtb3ZlUmVnaW9uIiwiYWJzIiwibmV3U2VsZWN0aW9uIiwib25EcmF3Iiwib25EcmF3RW5kIiwiTW92ZUhhbmRsZXIiLCJwb3NpdGlvbk1hcmtlciIsImJhY2tncm91bmRDb2xvciIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiaW5pdGlhbE1vdXNlIiwiY3VycmVudFNjcm9sbCIsImRlbHRhU2Nyb2xsIiwicmVhbE1vdmVtZW50WCIsInJlYWxNb3ZlbWVudFkiLCJhbmdsZSIsImF0YW4yIiwic2luIiwiY29zIiwiaGFzUG9zaXRpb25lZEVsZW1lbnRzIiwiZW5hYmxlU3RpY2t5Iiwic3RpY2t5TW92ZW1lbnRYIiwic3RpY2t5TW92ZW1lbnRZIiwiZHJvcFpvbmVVbmRlck1vdXNlIiwiZHJvcFpvbmUiLCJjYW5Ecm9wIiwibmVhcmVzdFBvc2l0aW9uIiwiZmluZE5lYXJlc3RQb3NpdGlvbiIsInVwZGF0ZURlc3RpbmF0aW9uTm9uQWJzb2x1dGUiLCJ1cGRhdGVEZXN0aW5hdGlvbkFic29sdXRlIiwic2V0U3RpY2t5IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiaW5pdGlhbFRvcCIsImluaXRpYWxMZWZ0IiwiaW5pdGlhbFRyYW5zZm9ybSIsImluaXRpYWxQb3NpdGlvbiIsImluZm8iLCJkaXN0YW5jZSIsIm1hcmtQb3NpdGlvbiIsImJiTWFya2VyIiwiYmJUYXJnZXRQcmV2IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImJiVGFyZ2V0TmV4dCIsInBoYW50b20iLCJpZHgiLCJzaWJsaW5nIiwiZ2V0RGlzdGFuY2UiLCJjZW50ZXIiLCJzcXJ0IiwiVWlPYnNlcnZlciIsImhhbmRsZXIiLCJvblVpU3RhdGVDaGFuZ2VkIiwiRWxlbWVudFR5cGUiLCJEaXJlY3Rpb24iLCJEb21EaXJlY3Rpb24iLCJMaW5rVHlwZSIsInJhbmRvbVN0cmluZyIsInN1YnN0cmluZyIsIklOSVQiLCJQUk9CRV9VTktOT1dOX0FDVElPTiIsImlzUGxhaW5PYmplY3QiLCJjcmVhdGVTdG9yZSIsInByZWxvYWRlZFN0YXRlIiwiZW5oYW5jZXIiLCJfcmVmMiIsImN1cnJlbnRSZWR1Y2VyIiwiY3VycmVudExpc3RlbmVycyIsIm5leHRMaXN0ZW5lcnMiLCJpc0Rpc3BhdGNoaW5nIiwiZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycyIsImlzU3Vic2NyaWJlZCIsImxpc3RlbmVycyIsInJlcGxhY2VSZWR1Y2VyIiwibmV4dFJlZHVjZXIiLCJfcmVmIiwib3V0ZXJTdWJzY3JpYmUiLCJvYnNlcnZlU3RhdGUiLCJ1bnN1YnNjcmliZSIsImdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlIiwiY29tYmluZVJlZHVjZXJzIiwicmVkdWNlcnMiLCJyZWR1Y2VyS2V5cyIsImZpbmFsUmVkdWNlcnMiLCJzaGFwZUFzc2VydGlvbkVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsImFzc2VydFJlZHVjZXJTaGFwZSIsImhhc0NoYW5nZWQiLCJwcmV2aW91c1N0YXRlRm9yS2V5IiwibmV4dFN0YXRlRm9yS2V5IiwiZXJyb3JNZXNzYWdlIiwiX29iamVjdFNwcmVhZDIiLCJjb21wb3NlIiwiZnVuY3MiLCJhcmciLCJTdGFnZVN0b3JlIiwiZ2V0RGVmYXVsdFN0YXRlIiwibWlkZGxld2FyZXMiLCJfZGlzcGF0Y2giLCJtaWRkbGV3YXJlQVBJIiwiY2hhaW4iLCJtaWRkbGV3YXJlIiwiYXBwbHlNaWRkbGV3YXJlIiwicHJldmVudERpc3BhdGNoRHVyaW5nUmVkcmF3Iiwid2FybiIsImNsb25lIiwiVWkiLCJvdmVybGF5IiwicmVzaXplT3ZlcmxheSIsIm9uTW91c2VDaGFuZ2VkIiwiY29udGVudERvY3VtZW50Iiwib3ZlcmZsb3ciLCJoZWFkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbmxvYWQiLCJyZXNpemUiLCJwb2ludGVyRXZlbnRzIiwiSElERSIsIm5ld1Njcm9sbERhdGEiLCJjdXJzb3IiLCJzY3JvbGxpbmdFbGVtZW50IiwiY3JlYXRlQm94VWkiLCJkcm9wWm9uZXMiLCJEUkFHIiwidXBkYXRlQm94IiwiYWJvdXRUb0Ryb3AiLCJoaWRlVWkiLCJoaWRlIiwiU3RhZ2UiLCJlbGVtZW50cyIsIndhaXRpbmdMaXN0ZW5lcnMiLCJnZXRJZCIsImlzU2VsZWN0YWJsZSIsImlzRHJhZ2dhYmxlIiwiY3JlYXRlVWkiLCJ0aGVuIiwic2VsZWN0YWJsZXNPYnNlcnZlciIsImRvbU9ic2VydmVyIiwiZG9tT2JzZXJ2ZXJDYWxsYmFjayIsInVpT2JzZXJ2ZXIiLCJtb3VzZU9ic2VydmVyIiwia2V5Ym9hcmQiLCJ1cGRhdGVNZXRyaWNzIiwicmVzZXQiLCJsIiwidXBkYXRlU3RhdGVzIiwiZ2V0UGFyZW50cyIsInBhcmVudEVsIiwidXBkYXRlU3RhdGUiLCJzdGF0ZXMiLCJTZXQiLCJzdGFydERyYWciLCJyZXNpemVXaW5kb3ciLCJ1bnN1YiIsImFkZEVsZW1lbnQiLCJzZXRTZWxlY3Rpb24iLCJnZXRTdGF0ZUJ5SWQiLCJzZXRTdGF0ZSIsInN1YlN0YXRlIiwiZ2V0RWxlbWVudFJlc2l6ZWFibGUiLCJib29sT3JPYmoiLCJyZW1vdmVFbGVtZW50IiwiZ2V0RHJvcFpvbmUiLCJnZXRTZWxlY3Rpb25Cb3giLCJzaG93IiwiQ29uc3RhbnRzIiwiZm9jdXNJbnB1dCIsInVpRWxlbWVudHMiLCJyZXNldEZvY3VzIiwiYmx1ciIsInJlbW92ZUFsbFJhbmdlcyIsIlBBR0VfTkFNRV9QUkVGSVgiLCJQQUdFX0lEX1BSRUZJWCIsIkpTT05fU1RZTEVfVEFHX0NMQVNTX05BTUUiLCJXRUJTSVRFX0NPTlRFWFRfUlVOVElNRV9DTEFTU19OQU1FIiwiV0VCU0lURV9DT05URVhUX0VESVRPUl9DTEFTU19OQU1FIiwiV0VCU0lURV9DT05URVhUX1BVQkxJU0hFRF9DTEFTU19OQU1FIiwiUEFHRURfQ0xBU1NfTkFNRSIsIlBBR0VBQkxFX1BMVUdJTl9SRUFEWV9DTEFTU19OQU1FIiwiUEFHRURfSElEREVOX0NMQVNTX05BTUUiLCJQQUdFU19DT05UQUlORVJfQ0xBU1NfTkFNRSIsIlBBR0VfUFJFVkVOVF9ERUxFVEUiLCJQQUdFX1BSRVZFTlRfTU9WRSIsIlBBR0VfUFJFVkVOVF9SRU5BTUUiLCJQQUdFX1BSRVZFTlRfUFJPUEVSVElFUyIsIlBBR0VEX1ZJU0lCTEVfQ0xBU1NfTkFNRSIsIlBBR0VfTElOS19BQ1RJVkVfQ0xBU1NfTkFNRSIsIlRZUEVfUEFHRSIsIlRZUEVfQVRUUiIsIkVMRU1FTlRfSURfQVRUUl9OQU1FIiwiU1RBVElDX0FTU0VUX0FUVFIiLCJBVFRSX1JFTU9WRV9QVUJMSVNIIiwiRUxFTUVOVF9DT05URU5UX0NMQVNTX05BTUUiLCJXRUJTSVRFX1dJRFRIX0NMQVNTX05BTUUiLCJMSU5LX0FUVFIiLCJTVEFHRV9DT01QT05FTlRfU0VMRUNURURfQ0xBU1NfTkFNRSIsIlNUQUdFX0NPTVBPTkVOVF9OT1RfU0VMRUNURURfQ0xBU1NfTkFNRSIsIlNFTEVDVEVEX0NMQVNTX05BTUUiLCJSRVNJWklOR19DTEFTU19OQU1FIiwiRFJBR0dJTkdfQ0xBU1NfTkFNRSIsIkhJREVfT05fTU9CSUxFIiwiSElERV9PTl9ERVNLVE9QIiwiRURJVEFCTEVfQ0xBU1NfTkFNRSIsIlBSRVZFTlRfUkVTSVpBQkxFX0NMQVNTX05BTUUiLCJQUkVWRU5UX1JFU0laQUJMRV9UT1BfQ0xBU1NfTkFNRSIsIlBSRVZFTlRfUkVTSVpBQkxFX0xFRlRfQ0xBU1NfTkFNRSIsIlBSRVZFTlRfUkVTSVpBQkxFX0JPVFRPTV9DTEFTU19OQU1FIiwiUFJFVkVOVF9SRVNJWkFCTEVfUklHSFRfQ0xBU1NfTkFNRSIsIlBSRVZFTlRfU0VMRUNUQUJMRV9DTEFTU19OQU1FIiwiUFJFVkVOVF9EUkFHR0FCTEVfQ0xBU1NfTkFNRSIsIlBSRVZFTlRfRFJPUFBBQkxFX0NMQVNTX05BTUUiLCJTSUxFWF9VU0VfSEVJR0hUX05PVF9NSU5IRUlHSFQiLCJTSUxFWF9TVFlMRV9FTEVNRU5UX0NTU19DTEFTUyIsIlNJTEVYX1NDUklQVF9FTEVNRU5UX0NTU19DTEFTUyIsIlBST0RPVFlQRV9ERVBFTkRFTkNZX0FUVFIiLCJDVVNUT01fRk9OVFNfQ1NTX0NMQVNTIiwiRU5BQkxFX01PQklMRV9DU1NfQ0xBU1MiLCJNT0JJTEVfTU9ERV9DU1NfQ0xBU1MiLCJMT0FESU5HX0VMRU1FTlRfQ1NTX0NMQVNTIiwiTE9BRElOR19TSVRFX0NTU19DTEFTUyIsIkxPQURJTkdfU0lMRVhfQ1NTX0NMQVNTIiwiTU9CSUxFX0JSRUFLUE9JTlQiLCJNT0JJTEVfTUVESUFfUVVFUlkiLCJTSUxFWF9DVVJSRU5UX1BBR0VfSUQiLCJTSUxFWF9URU1QX1RBR1NfQ1NTX0NMQVNTIiwiUklTWkVfSEFORExFX0NTU19DTEFTUyIsIklOTElORV9TVFlMRV9UQUdfQ0xBU1NfTkFNRSIsIkhFQURfVEFHX1NUQVJUIiwiSEVBRF9UQUdfU1RPUCIsIkNPTVBPTkVOVF9DTEFTU19OQU1FIiwiU1RZTEVfQ0xBU1NfTkFNRSIsIkJPRFlfU1RZTEVfTkFNRSIsIkJPRFlfU1RZTEVfQ1NTX0NMQVNTIiwiRU1QVFlfU1RZTEVfQ0xBU1NfTkFNRSIsIkVNUFRZX1NUWUxFX0RJU1BMQVlfTkFNRSIsIkNPTVBPTkVOVF9UWVBFIiwiU1RZTEVfVFlQRSIsIlNUWUxFX1ZJU0lCSUxJVFkiLCJTSUxFWF9DTEFTU19OQU1FUyIsIlNJTEVYX1RFTVBfQ0xBU1NfTkFNRVMiLCJTSUxFWF9DTEFTU19OQU1FU19UT19SRU1PVkVfQVRfUFVCTElTSCIsIkVMRU1FTlRTX1RPX1JFTU9WRV9BVF9QVUJMSVNIIiwiTW9kYWxEaWFsb2ciLCJpc09wZW4iLCJkaWFsb2dzIiwib25PcGVuIiwib25DbG9zZSIsIk1PREFMX0RJQUxPR19DTEFTU19OQU1FIiwiSElERV9ESUFMT0dfQ0xBU1NfTkFNRSIsImNsb3NlQnRuIiwiZ2V0VWlFbGVtZW50cyIsImZpbGVFeHBsb3JlciIsImNvbnRleHRNZW51IiwibWVudSIsImJyZWFkQ3J1bWJzIiwicGFnZVRvb2wiLCJodG1sRWRpdG9yIiwiY3NzRWRpdG9yIiwianNFZGl0b3IiLCJzZXR0aW5nc0RpYWxvZyIsImRhc2hib2FyZCIsInByb3BlcnR5VG9vbCIsInRleHRGb3JtYXRCYXIiLCJ3b3Jrc3BhY2UiLCJ2ZXJ0aWNhbFNwbGl0dGVyIiwiQ2xvdWRTdG9yYWdlIiwiY2UiLCJyZWFkeSIsImNia3MiLCJvcHRfZXJyQ2JrIiwib1JlcSIsIlhNTEh0dHBSZXF1ZXN0Iiwic3RhdHVzIiwiZXJyIiwiZ2V0RXJyb3JNZXNzYWdlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJyZXNwb25zZSIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwibG9hZFdlYnNpdGUiLCJhYnNQYXRoIiwianNvbiIsImFsZXJ0IiwiZ2V0U2VydmljZXMiLCJzZXJ2aWNlcyIsImNhdGNoIiwiRmlsZUV4cGxvcmVyIiwiZ2V0SW5zdGFuY2UiLCJtb2RhbERpYWxvZyIsIklNQUdFX0VYVEVOU0lPTlMiLCJIVE1MX0VYVEVOU0lPTlMiLCJhZGRBYnNQYXRoIiwiYXN5bmMiLCJvcHRfZXh0ZW5zaW9ucyIsIm9wZW5GaWxlIiwidXJscyIsImJpZyIsInNtYWxsIiwicHJvbXB0QXR0cmlidXRpb25BbmRHZXRTaXplIiwiYXR0cmlidXRpb24iLCJhdHRyaWJ1dGlvblRleHQiLCJzaXplVGV4dCIsImZvcm0iLCJjb3B5IiwiY29uZmlybSIsImNvcHlUZXh0IiwicmFuZ2UiLCJjcmVhdGVSYW5nZSIsInNlbGVjdE5vZGUiLCJhZGRSYW5nZSIsImV4ZWNDb21tYW5kIiwibm90aWZ5RXJyb3IiLCJvcGVuRmlsZXMiLCJmaWxlSW5mb18yIiwib3BlbkZvbGRlciIsImRlZmF1bHROYW1lIiwic2F2ZUFzIiwiRWxlbWVudEFjdGlvbiIsIlBhZ2VBY3Rpb24iLCJTaXRlQWN0aW9uIiwiVWlBY3Rpb24iLCJjcnVkSWRLZXkiLCJ3aXRoQ3J1ZFJlZHVjZXIiLCJhY3Rpb25FbnVtIiwiaXRlbXMiLCJpdGVtIiwidGVzdENydWQiLCJJTklUSUFMSVpFIiwiZnJvbURhdGEiLCJ0b0RhdGEiLCJjcnVkSWQiLCJvbkNydWRDaGFuZ2UiLCJvbkFkZCIsIm9uRGVsZXRlIiwib25VcGRhdGUiLCJhZGRlZCIsInAiLCJkZWxldGVkIiwidG8iLCJpbml0aWFsaXplVWkiLCJ1cGRhdGVVaSIsImdldFVpIiwic3Vic2NyaWJlVWkiLCJzdWJzY3JpYmVUbyIsIndpdGhEaXJ0eURpc3BhdGNoZXIiLCJjaGFuZ2VBY3Rpb25zIiwicmVzZXRBY3Rpb25zIiwicmVzZXREaXJ0eV8iLCJ1cGRhdGVEaXJ0eSIsImRpcnR5IiwiaXNEaXJ0eSIsIm5vbkRpcnR5U3RhdGVzIiwicGFnZXMiLCJzaXRlIiwicmVzZXREaXJ0eSIsInJlc2V0VW5kbyIsImhhc1VuZG8iLCJoYXNSZWRvIiwid2l0aFVuZG9EaXNwYXRjaGVyIiwiZ2V0UmVzZXRVbmRvIiwiUkVTRVRfQUNUSU9OUyIsIkNIQU5HRV9BQ1RJT05TIiwiTU9WRSIsIndpdGhvdXRJdGVtIiwiZW5hYmxlTW9iaWxlIiwiaXNUZW1wbGF0ZSIsInB1YmxpY2F0aW9uUGF0aCIsIndlYnNpdGVVcmwiLCJmYXZpY29uUGF0aCIsInRodW1ibmFpbFNvY2lhbFBhdGgiLCJkZXNjcmlwdGlvblNvY2lhbCIsInRpdGxlU29jaWFsIiwibGFuZyIsImhlYWRTdHlsZSIsImhlYWRTY3JpcHQiLCJoZWFkVXNlciIsImhvc3RpbmdQcm92aWRlciIsInR3aXR0ZXJTb2NpYWwiLCJkYXRhU291cmNlcyIsImZvbnRzIiwic3R5bGVzIiwiZmlsZSIsInByb2RvdHlwZURlcGVuZGVuY2llcyIsImxvYWRpbmciLCJTSUxFWCIsIm1vYmlsZUVkaXRvciIsImN1cnJlbnRQYWdlSWQiLCJjbGlwYm9hcmQiLCJjb21wb25lbnRzIiwibGFzdEFjdGlvblRpbWUiLCJlbGFwc2VkIiwiY3VyU3RhdGUiLCJzdWJzY3JpYmVUb0NydWQiLCJmcm9tRWxlbWVudERhdGEiLCJ0b0VsZW1lbnREYXRhIiwiaW5pdGlhbGl6ZUVsZW1lbnRzIiwiY3JlYXRlRWxlbWVudHMiLCJkZWxldGVFbGVtZW50cyIsInVwZGF0ZUVsZW1lbnRzIiwiZ2V0RWxlbWVudHMiLCJzdWJzY3JpYmVFbGVtZW50cyIsImluc2VydEF0IiwiZmxhdCIsImZpeFN0eWxlRm9yRWxlbWVudCIsImlzU2VjdGlvbkNvbnRlbnQiLCJTRUNUSU9OIiwiYWRkVG9Nb2JpbGVPckRlc2t0b3BTdHlsZSIsIm9yaWdpbmFsU3R5bGUiLCJtb2JpbGUiLCJkZXNrdG9wIiwic3R5bGVUb1N0cmluZyIsIm9wdF90YWIiLCJyZ2JhVG9BcnJheSIsInJnYmEiLCJyZ2JhQXJyIiwiZWxlbWVudElkIiwiZ2V0RG9tRWxlbWVudEJ5SWQiLCJkZWxldGVTdHlsZUZyb21Eb20iLCJpc01vYmlsZSIsInN0eWxlU2hlZXQiLCJnZXRJbmxpbmVTdHlsZVNoZWV0IiwiY3NzUnVsZU9iamVjdCIsImNzc1J1bGVzIiwiY3NzUnVsZSIsInNlbGVjdG9yVGV4dCIsIm1lZGlhIiwicnVsZSIsImZpbmRDc3NSdWxlIiwiZGVsZXRlUnVsZSIsIndyaXRlU3R5bGVUb0RvbSIsInN0eWxlU3RyIiwicnVsZVN0ciIsImluc2VydFJ1bGUiLCJhZGRNZWRpYVF1ZXJ5Iiwic3R5bGVUYWciLCJzdHlsZVNoZWV0cyIsImNzc1N0eWxlU2hlZXQiLCJvd25lck5vZGUiLCJzaGVldCIsImdldENvbnRlbnROb2RlIiwiZ2V0SW5uZXJIdG1sIiwicmVhY3RpdmF0ZVNjcmlwdHMiLCJyZW5kZXJXaXRoUHJvZG90eXBlIiwicHJvZG90eXBlSW5zdGFuY2UiLCJkZWNvcmF0ZSIsInRlbXBsYXRlTmFtZSIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudEJ5RG9tRWxlbWVudCIsImdldENoaWxkcmVuIiwiZ2V0Q2hpbGRyZW5SZWN1cnNpdmUiLCJnZXRQYXJlbnQiLCJnZXRBbGxQYXJlbnRzIiwiaXNCb2R5IiwiZ2V0Qm9keSIsIm5vU2VjdGlvbkNvbnRlbnQiLCJnZXRTZWxlY3RlZEVsZW1lbnRzTm9TZWN0aW9uQ29udGVudCIsImdldEZpcnN0UGFnZWRQYXJlbnQiLCJwYWdlTmFtZXMiLCJpbml0aWFsaXplU2l0ZSIsInVwZGF0ZVNpdGUiLCJnZXRTaXRlIiwic3Vic2NyaWJlU2l0ZSIsImdldFBzZXVkb0NsYXNzRGF0YSIsInN0eWxlRGF0YSIsInZEYXRhIiwiYXJyYXlPZlBDRGF0YSIsInBjTmFtZSIsInBzZXVkb0NsYXNzIiwicHJvZG90eXBlQ29tcG9uZW50IiwicHJvZG90eXBlU3R5bGUiLCJzdHlsZUVkaXRvckVsZW1lbnQiLCJjb21wb25lbnRFZGl0b3JFbGVtZW50IiwicHJvZG90eXBlTG9hZGVkIiwiaW5pdFByb2RvdHlwZSIsImxvYWRDb21wb25lbnRzIiwiZ2V0UHJvZG90eXBlQ29tcG9uZW50IiwiZ2V0UHJvZG90eXBlU3R5bGUiLCJ1cGRhdGVDb21wb25lbnRzIiwiZ2V0Q29tcG9uZW50cyIsInJlbmRlcmVkV2l0aG91dEVycm9yIiwiY29tcG9uZW50IiwiaW5uZXJIdG1sIiwiY29tcEVkIiwiZ2V0Q29tcG9uZW50c0RlZiIsImNvbXBvbmVudHNEZWYiLCJpc0NvbXBvbmVudCIsImluaXRDb21wb25lbnQiLCJjb21wIiwiY3JlYXRlTmFtZSIsImNzc0NsYXNzZXMiLCJnZXRDc3NDbGFzc2VzIiwiaW5pdGlhbENzcyIsImluaXRpYWxDc3NDb250ZW50Q29udGFpbmVyIiwiZ2V0Q29tcG9uZW50Q2xhc3NOYW1lIiwiaW5pdGlhbENzc0NsYXNzIiwidXBkYXRlQ29tcG9uZW50c0RlcGVuZGVuY2llcyIsInByb2RvdHlwZSIsImdldERlcGVuZGVuY2llcyIsImZpbHRlcmVkRGVwZW5kZW5jaWVzIiwidW5pcXVlIiwiZXhpc3RpbmdUYWciLCJleGlzdGluZ0lkeCIsImlzU2FtZVRhZyIsIm9sZERlcGVuZGVuY2llcyIsIm9sZEtleXMiLCJuZXdLZXlzIiwib2xkVGFncyIsIm5ld1RhZ3MiLCJvbGRUYWciLCJuZXdUYWciLCJ0YWcxIiwidGFnMiIsImF0dHJOYW1lIiwicmVzZXRDb21wb25lbnRFZGl0b3IiLCJlZGl0Iiwib3BlbkNvbXBvbmVudEVkaXRvciIsIm9wZW5TdHlsZUVkaXRvciIsInNhdmVFZGl0YWJsZUNoaWxkcmVuIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYWRkTWVkaWFRdWVyeUlmTW9iaWxlT25seSIsInNldFN0eWxlVG9Eb20iLCJkaXNwbGF5TmFtZSIsIm5ld0RhdGEiLCJlbFN0eWxlIiwicHNldWRvQ2xhc3NEYXRhIiwiaHRtbFN0cmluZ3MiLCJmcm9tUGFnZURhdGEiLCJ0b1BhZ2VEYXRhIiwiaW5pdGlhbGl6ZVBhZ2VzIiwiY3JlYXRlUGFnZXMiLCJkZWxldGVQYWdlcyIsInVwZGF0ZVBhZ2VzIiwibW92ZVBhZ2UiLCJwYWdlIiwiZ2V0UGFnZXMiLCJzdWJzY3JpYmVQYWdlcyIsIkxJTktfQVRUUklCVVRFUyIsIkRFRkFVTFRfTElOS19EQVRBIiwicmVsIiwiZG93bmxvYWQiLCJvcGVuTGlua0RpYWxvZyIsIkxpbmtEaWFsb2ciLCJnZXRMaW5rVHlwZSIsIlBBR0UiLCJVUkwiLCJsaW5rRGF0YUFyZyIsImxpbmtEYXRhIiwicHJvbXB0IiwiYWNjZXB0IiwidW51c2VkIiwiYXR0ciIsImRpYWxvZ0JvZHkiLCJuZXdJc0V4dGVybmFsIiwiY2hlY2tlZCIsImxpbmtUeXBlIiwiZnJhZ21lbnRCdXR0b25zIiwiYWRkQnV0dG9uIiwiZ2V0RGlhbG9nSHRtbCIsIklOSVRJQUxfRUxFTUVOVF9TSVpFIiwiZ2V0Q3JlYXRlQWN0aW9uIiwiY29tcG9uZW50TmFtZSIsImdldEVtcHR5RWxlbWVudERhdGEiLCJnZXROZXdJZCIsIm5ld1BhcmVudCIsImFsdCIsIkhUTUwiLCJDT05UQUlORVIiLCJnZXREZWZhdWx0U3R5bGUiLCJsaW5rIiwiZW5hYmxlRWRpdCIsImVuYWJsZURyYWciLCJlbmFibGVEcm9wIiwiZW5hYmxlUmVzaXplIiwiSU1BR0UiLCJURVhUIiwibmV4dElkIiwidW5pcXVlSWQiLCJnZW5lcmF0ZUVsZW1lbnRJZCIsImdldEVsZW1lbnRTdHlsZSIsImdldEVsZW1lbnRSZWN0IiwicmVjdHMiLCJuZXdSZWN0IiwiZ2V0Q3JlYXRpb25Ecm9wWm9uZSIsImlzU2VjdGlvbiIsInN0YWdlRWwiLCJzdGFnZVNpemUiLCJwb3NYIiwicG9zWSIsImRvbUVsIiwic2hpZnQiLCJnZXREcm9wU3R5bGUiLCJwYXJlbnRTaXplIiwiZWxlbWVudFNpemUiLCJ0b3BPZmZzZXQiLCJsZWZ0T2Zmc2V0IiwiZ2V0RGlzcGxheU5hbWUiLCJnZXRBbGxTdHlsZXMiLCJpc1Zpc2libGVJblBhZ2UiLCJwYWdlSWQiLCJlZGl0TGluayIsImJyb3dzZSIsImluZGV4T2ZFbGVtZW50Iiwic2VsZWN0Qm9keSIsInNlbGVjdEVsZW1lbnRzIiwibW92ZUVsZW1lbnRzIiwiZ2V0SWR4IiwiYyIsImdldFRhcmdldElkeCIsIlRPUCIsImNoYW5nZXMiLCJzb3J0IiwibzEiLCJvMiIsInN0b3JlZCIsImJlZm9yZU1lIiwiZXJyb3JlZCIsImN1cnJlbnRJZHgiLCJ0YXJnZXRJZHgiLCJjaGFuZ2UiLCJzZXRIaWRlT25EZXNrdG9wIiwic3R5bGVDaGFuZ2VkIiwibmV3U3R5bGUiLCJtdWx0aXBsZVN0eWxlc0NoYW5nZWQiLCJzZXRBdHRyaWJ1dGVzIiwic2V0Q2xhc3NOYW1lIiwibmV3RWxlbWVudFN0YXRlIiwidXBkYXRlZFBhcmVudFN0YXRlIiwibmV3RWxlbWVudFN0YXRlUGFnZWQiLCJjb250ZW50RWxlbWVudCIsIm5ld0VsZW1lbnRTdGF0ZVdpdGhDb250ZW50IiwiY29udGVudEVsZW1lbnRXaXRoQ3NzQ2xhc3NlcyIsInJlbW92ZUVsZW1lbnRzIiwidG9EZWxldGUiLCJyZW1vdmVFbGVtZW50c1dpdGhvdXRDb25maXJtIiwic2VsZWN0aW9uTm9TZWN0aW9uQ29udGVudCIsImFkZFRvUGFnZSIsInJlbW92ZUZyb21QYWdlIiwidmlzaWJsZU9uQWxsUGFnZXMiLCJhZGRMaW5rIiwicmVtb3ZlTGluayIsImRlc2t0b3BPck1vYmlsZSIsIkJPVFRPTSIsIm9wcG9zaXQiLCJ1cGRhdGVQb3NpdGlvbiIsImluYyIsImRlYyIsIm11bHRpcGx5IiwiZGl2aWRlIiwiUklHSFQiLCJMRUZUIiwidG9Eb21EaXIiLCJtb3ZlVXAiLCJtb3ZlRG93biIsIm1vdmVUb1RvcCIsIm1vdmVUb0JvdHRvbSIsInNldEltYWdlVXJsIiwiaW1hZ2UiLCJpbWciLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiaW5pdFNpdGVDb21wb25lbnQiLCJTaXRlIiwic2V0SHRtbCIsInJhd0h0bWwiLCJvcHRfY2JrIiwib3B0X3Nob3dMb2FkZXIiLCJnZXRTaXRlV2luZG93IiwiZ2V0U2l0ZURvY3VtZW50IiwiZ2V0U2l0ZUlGcmFtZSIsInN0YWdlV3JhcHBlciIsImNvbnRlbnRDaGFuZ2VkIiwiU3RhZ2VXcmFwcGVyIiwiZ2V0SHRtbCIsImdlbmVyYXRvciIsImdldEh0bWxHZW5lcmF0b3IiLCJnZXRIdG1sQXN5bmMiLCJnZXRIdG1sTmV4dFN0ZXAiLCJ1cGRhdGVkU3R5bGVzIiwiY2xlYW5GaWxlIiwicmVtb3ZlQXR0cmlidXRlIiwib3V0ZXJIVE1MIiwiY29weVNlbGVjdGlvbiIsImNsb25lRWxlbWVudHMiLCJkdXBsaWNhdGVTZWxlY3Rpb24iLCJhbGxFbGVtZW50cyIsInJvb3RFbGVtZW50cyIsImNsb25lRWxlbWVudCIsInBhc3RlRWxlbWVudHMiLCJwYXJlbnRJZCIsImNsb25lRWxlbWVudF8iLCJlbFdpdGhJZCIsIm5ld0lkIiwiZGVzY2VuZGVudHMiLCJoYXNFbGVtZW50c1RvUGFzdGUiLCJwYXN0ZUNsaXBCb2FyZCIsInJlc2V0U2VsZWN0aW9uIiwiaXNSb290IiwibmV3Q2hpbGRyZW4iLCJib2R5Q2hpbGRyZW4iLCJnZXRQYWdlQnlJZCIsImdldEN1cnJlbnRQYWdlIiwiQ29kZUVkaXRvckJhc2UiLCJsYW5ndWFnZSIsImxvY2tPbkNoYW5nZSIsIm1vbmFjbyIsImVkaXRvciIsInRoZW1lIiwib25EaWRDaGFuZ2VNb2RlbENvbnRlbnQiLCJkb2NrQnRuIiwiaXNEb2NrZWQiLCJkb2NrUGFuZWwiLCJzZXRPcHRpb25zIiwicmVuZGVyIiwibGF5b3V0IiwiZG9jayIsInByb3BTcGxpdHRlciIsImdldFByb3BlcnR5U3BsaXR0ZXIiLCJhZGRSaWdodCIsInVwZGF0ZU9wdGlvbnMiLCJsaW5lTnVtYmVycyIsIm1pbmltYXAiLCJlbmFibGVkIiwic2V0UmVhZE9ubHkiLCJyZWFkT25seSIsInNldEVycm9yIiwib3Blbkh0bWxFZGl0b3IiLCJIdG1sRWRpdG9yIiwicmVkcmF3IiwiX18iLCJmb3JTZWxlY3Rpb24iLCJodG1sQm94IiwiaGVhZFRhZyIsImF0dGFjaCIsImhhbmRsZUtleURvd24iLCJhZGRTaG9ydGN1dCIsInNob3J0Y3V0IiwiZGVmYXVsdFByZXZlbnRlZCIsImdldFNob3J0Y3V0c0Zyb21FdmVudCIsIm1ldGFLZXkiLCJpc0lucHV0Iiwib3BlblBhZ2UiLCJhZGREaWFsb2ciLCJkaWFsb2ciLCJyZW1vdmVEaWFsb2ciLCJkIiwib3BlbkRpYWxvZyIsImNyZWF0ZVBhZ2UiLCJlZGl0UGFnZVNldHRpbmdzIiwiZXhpc3RpbmciLCJjYW5EZWxldGUiLCJjYW5SZW5hbWUiLCJjYW5Nb3ZlIiwiY2FuUHJvcGVydGllcyIsInJlYXNvbiIsImVkaXRQYWdlIiwicGFnZURhdGEiLCJyZW1vdmVQYWdlIiwibW92ZVBhZ2VUbyIsIm5hbWVJbnB1dCIsIm5ld05hbWUiLCJjbGVhbk5hbWUiLCJDc3NFZGl0b3IiLCJTaWxleFRhc2tzIiwicHVibGlzaCIsImNhbGxTZXJ2ZXIiLCJwdWJsaXNoU3RhdGUiLCJob3N0aW5nIiwiYXV0aG9yaXplIiwicHJvdmlkZXIiLCJhdXRob3JpemVVcmwiLCJ2aG9zdHMiLCJ2aG9zdHNVcmwiLCJ2aG9zdCIsImRvbWFpblVybCIsInVwZGF0ZURvbWFpbiIsIm5ld0RvbWFpbiIsInJlbW92ZURvbWFpbiIsImdldExhdGVzdEZpbGVzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFkZFRvTGF0ZXN0RmlsZXMiLCJsYXRlc3RGaWxlcyIsInNldEl0ZW0iLCJzZXRMb2FkaW5nIiwiY2xvc2VQdWJsaXNoRGlhbG9nIiwiZG9PcGVuIiwidXNlUHJlZGlmaW5lZFNldHRpbmdzIiwicHJvdmlkZXJOYW1lIiwicHJvdmlkZXJzIiwic2tpcEhvc3RpbmdTZWxlY3Rpb24iLCJzZWxlY3RQcm92aWRlckZvbGRlciIsInNlbGVjdEVsIiwic2VsZWN0ZWRJbmRleCIsInNlbGVjdFByb3ZpZGVyIiwic2tpcEZvbGRlclNlbGVjdGlvbiIsIm9uU2VsZWN0UHJvdmlkZXIiLCJmb2xkZXIiLCJpc0xvZ2dlZEluIiwic2VsZWN0Vmhvc3QiLCJsb2dpblVybCIsImRhc2hib2FyZFVybCIsInBsZWFzZUNyZWF0ZUFWaG9zdCIsInNraXBWaG9zdFNlbGVjdGlvbiIsInNlbGVjdERvbWFpbiIsInNraXBEb21haW5TZWxlY3Rpb24iLCJpbml0aWFsRG9tYWluIiwiYnV5RG9tYWluVXJsIiwidXBkYXRlT3JSZW1vdmVTdWNjZXNzIiwicmVzVXJsIiwiX3JlcyIsIkpzRWRpdG9yIiwiaW5pdGlhbGl6ZURhdGEiLCJOVU1fVklTSVRTX0xPQ0FMX1NUT1JBR0VfTkFNRSIsInZpc2l0cyIsInZpc2l0c1N0ciIsIl92aXNpdHMiLCJvbmNlIiwibWluVmlzaXRzIiwibWluVGltZVMiLCJUaXBPZlRoZURheSIsInRtcCIsImZpcnN0TGluayIsInN0cmlwIiwiaW5uZXJUZXh0IiwicHJldmlld1dpbmRvdyIsIkRhc2hib2FyZCIsInJlYWR5Q2JrIiwiZXJyb3JDYmsiLCJjcmVhdGVMaXN0IiwidWwiLCJyZXBvIiwic3VjY2VzcyIsInJlcG9VcmwiLCJsaXN0IiwicmVuZGVyVGVtcGxhdGVMaXN0IiwidGVtcGxhdGVVcmwiLCJyZWNlbnRGaWxlSW5mbyIsImxvYWROZXh0IiwidG9Mb2FkIiwibGlzdEVsZW1lbnQiLCJyZW1vdmVJdGVtIiwidGlwT2ZUaGVEYXlFbGVtZW50Iiwib3BlbkZpbGVJbmZvIiwib3BlblRlbXBsYXRlIiwibGkiLCJ0aHVtYm5haWwiLCJ0ZW1wbGF0ZUZvbGRlciIsImJhY2tncm91bmRJbWFnZSIsImgzIiwicHJldmlld0VsIiwiaW5mb0VsIiwiZWRpdEVsIiwicmVjZW50RmlsZXMiLCJwYW5lIiwiYmxvYiIsImljb24iLCJjbG91ZEljb24iLCJwcmV2aWV3IiwiZG9QcmV2aWV3IiwicHJldmlld1Jlc3BvbnNpemUiLCJzZXRQcmV2aWV3V2luZG93TG9jYXRpb24iLCJvcHRfbG9jYXRpb24iLCJjbG9zZWQiLCJyZWxvYWQiLCJmcmFtZXMiLCJpblJlc3BvbnNpemUiLCJkb1NhdmVUaGVGaWxlIiwib3JpZ2luIiwiZG9PcGVuUHJldmlldyIsIm9wZW5QYWdlRG9tIiwiYm9keUVsZW1lbnQiLCJwYWdlYWJsZSIsImN1cnJlbnRQYWdlIiwicmVuZGVyTGlzdCIsIml0ZW1UZW1wbGF0ZVN0cmluZyIsIml0ZW1EYXRhIiwic2V0VGFnTmFtZSIsImdldEF0dHJpYnV0ZU5hbWVzIiwicmVwbGFjZUNoaWxkIiwid3JpdGVEYXRhVG9Eb20iLCJvbkFkZEVsZW1lbnRzIiwidG9CZUFkZGVkIiwiY3JlYXRlQ29udGFpbmVyRWxlbWVudCIsImNyZWF0ZVNlY3Rpb25FbGVtZW50IiwiY3JlYXRlRWxlbWVudFdpdGhDb250ZW50IiwiY3JlYXRlVGV4dEVsZW1lbnQiLCJodG1sQ29udGVudCIsImNyZWF0ZUh0bWxFbGVtZW50IiwiY3JlYXRlSW1hZ2VFbGVtZW50IiwiY3JlYXRlRG9tRWxlbWVudCIsImVtcHR5RWxlbWVudCIsIm9uVXBkYXRlRWxlbWVudHMiLCJvbkRlbGV0ZUVsZW1lbnRzIiwiYWxsUGFnZXMiLCJwYWdlSWRzIiwicmVtb3ZlRnJvbVBhZ2VzIiwic2V0UGFnZXMiLCJwYWdlTmFtZSIsInJlb3JkZXJFbGVtZW50cyIsImZyb21BdHRyIiwidG9BdHRyIiwic2hvd09uRGVza3RvcCIsImhpZGVPbkRlc2t0b3AiLCJzaG93T25Nb2JpbGUiLCJoaWRlT25Nb2JpbGUiLCJyZXNldFN0YWdlIiwiZGVhY3RpdmF0ZVNjcmlwdHMiLCJzZXRJbm5lckh0bWwiLCJzY3JpcHRzIiwiZXhlY3V0ZVNjcmlwdHMiLCJvbkFkZFBhZ2VzIiwib25EZWxldGVQYWdlcyIsInByZXZlbnRDb25maXJtIiwiZG9EZWxldGUiLCJlbGVtZW50c09ubHlPblRoaXNQYWdlIiwiZWxlbWVudHNPblRoaXNQYWdlIiwiaGFzTGlua1RvUGFnZSIsImlzVmlzaWJsZU9uUGFnZSIsIm9uVXBkYXRlUGFnZXMiLCJ1cGRhdGVFbCIsInVwZGF0ZURvbSIsInNpbGV4RWwiLCJzaWxleERvbUVsIiwiYmVUaGVPbmUiLCJnZXRTaWxleEVsZW1lbnQiLCJmb3VuZCIsInNldE1ldGEiLCJvcHRfdmFsdWUiLCJvcHRfcHJvcGVydHlPck5hbWUiLCJtZXRhTm9kZSIsIm9uQ2hhbmdlU2l0ZSIsImNzc1N0cmluZyIsInNpbGV4U3R5bGUiLCJzZXRIZWFkU3R5bGUiLCJqc1N0cmluZyIsInNldEhlYWRTY3JpcHQiLCJ0aXRsZU5vZGUiLCJzZXRUaXRsZSIsIm9wdF9kZXNjcmlwdGlvbiIsInNldERlc2NyaXB0aW9uIiwidmlld3BvcnQiLCJzZXRFbmFibGVNb2JpbGUiLCJvcHRfcGF0aCIsImZhdmljb25UYWciLCJzZXRGYXZpY29uUGF0aCIsInNldFRodW1ibmFpbFNvY2lhbFBhdGgiLCJvcHRfZGF0YSIsInNldERlc2NyaXB0aW9uU29jaWFsIiwic2V0VGl0bGVTb2NpYWwiLCJzZXRMYW5nIiwic2V0VHdpdHRlclNvY2lhbCIsImRhdGFTb3VyY2VzQ2xvbmUiLCJkYXRhU291cmNlIiwiZmV0Y2giLCJzdHJ1Y3R1cmUiLCJsb2FkRGF0YVNvdXJjZXMiLCJmb250Iiwic2V0Rm9udHMiLCJzZXRXZWJzaXRlV2lkdGhJbkRvbSIsImRlcE9iaiIsInZpc2liaWxpdHlEYXRhIiwicHNldWRvQ2xhc3NOYW1lIiwib25DaGFuZ2VVaSIsIldFQlNJVEUiLCJ0b0Rlc2VsZWN0Iiwic3RvcGVkIiwic3RhcnRPYnNlcnZlcnMiLCJub3RXaGVuU3RvcHBlZCIsImRvU2F2ZSIsImZpbGVJbmZvQ2hvc2VuIiwiZXJyQ2JrIiwib3BlblJlY2VudCIsImxvYWRGcm9tVXNlckZpbGVzIiwiY29kZSIsIm9wZW5EYXNoYm9hcmRUb0xvYWRBV2Vic2l0ZSIsImhhc0NvbnRlbnQiLCJsb2FkQmxhbmtUZW1wbGF0ZSIsImxvYWRGcm9tU2VydmVyVGVtcGxhdGVzIiwib25PcGVuRXJyb3IiLCJjYW5jZWxDYmsiLCJsb2FkQmxhbmtPbkVycm9yIiwicHVibGlzaEVycm9yIiwicHJvdmlkZXJEaXNwbGF5TmFtZSIsImVkaXRCdG4iLCJvcGVuUHVibGlzaERpYWxvZyIsInB1Ymxpc2hPcHRpb25zIiwicHVibGljYXRpb25PcHRpb25zIiwic3RvcmVkUHJvdmlkZXIiLCJkb1B1Ymxpc2giLCJlcnJNc2ciLCJ3YXJuaW5nTXNnIiwiZmluYWxQdWJsaWNhdGlvbk9wdGlvbnMiLCJ0aW1lciIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImFmdGVyUHVibGlzaE1lc3NhZ2UiLCJzZXRUZXh0IiwiZG9Mb2FkV2Vic2l0ZSIsImRvTG9hZEZyb21Vc2VyRmlsZXMiLCJpc0RpYWxvZ1Zpc2libGUiLCJnZXRWaXNpYmxlRGlhbG9ncyIsInRhYmJlZCIsImFkZFRhYiIsImQxIiwiZDIiLCJ0YWJFbCIsImdldFRhYkVsZW1lbnQiLCJvcGVuQmluZGVkIiwiY2JrQmluZGVkIiwicmVtb3ZlVGFiIiwicHJldlZpc2libGUiLCJvcGVuZWQiLCJvcGVuVGFiIiwiY3JlYXRlVGFiRWxlbWVudCIsIlBBTkVfQ1NTX0NMQVNTRVMiLCJvcGVuU2V0dGluZ3NEaWFsb2ciLCJvcHRfcGFuZUNzc0NsYXNzIiwiU2V0dGluZ3NEaWFsb2ciLCJtb2JpbGVDaGVja2JveCIsImN1cnJlbnRUb29sYm94IiwicmlnaHRQYW5lIiwibGF0ZXN0IiwiYmluZFRleHRGaWVsZCIsInVwZGF0ZVB1YmxpY2F0aW9uUGF0aCIsImJpbmRCcm93c2VCdXR0b24iLCJhZGREYXRhU291cmNlIiwiZGF0YVNvdXJjZXNMaXN0IiwiZWRpdERhdGFTb3VyY2UiLCJhZGRGb250IiwiZm9udExpc3QiLCJuZXdGb250cyIsImVkaXRGb250Iiwib3BlblBhbmUiLCJwYW5lQ3NzQ2xhc3MiLCJjc3NTZWxlY3RvciIsIm9ua2V5dXAiLCJidG4iLCJzZXRJbnB1dFZhbHVlIiwic2V0UHVibGljYXRpb25QYXRoIiwiZ2V0Rm9udExpc3QiLCJnZXREYXRhU291cmNlc0xpc3QiLCJodG1sRW50aXR5UCIsIm9sZE5hbWUiLCJfb2siLCJfX29rIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmFtaWx5IiwibmV3Rm9udCIsInVwZGF0ZU9iaiIsInVwZGF0ZUZpbGVJbmZvIiwiaW5pdERvbmUiLCJpbml0TWVudSIsIm9uTWVudUV2ZW50IiwiaXNQcml2YXRlIiwiY2F0ZWdvcnkiLCJlbEZyb21Db21wRGVmIiwiY29tcG9uZW50SWQiLCJTVUJfTUVOVV9DTEFTU0VTIiwidG9nZ2xlU3ViTWVudSIsImNsYXNzTmFtZVRvVG9nZ2xlIiwidG9nZ2xlIiwia2V5Ym9hcmRBZGRTaG9ydGN1dCIsImljb25DbGFzc05hbWUiLCJmYUljb25DbGFzcyIsImJhc2VFbGVtZW50VHlwZSIsImJhc2VFbGVtZW50IiwiYWRkRWxlbWVudENlbnRlcmVkIiwidXBkYXRlZFBhcmVudERhdGEiLCJtb3VzZUV2ZW50IiwiaW1nRGF0YSIsImJyb3dzZUFuZEFkZEltYWdlIiwic3RhZ2UiLCJ3eXNpaHRtbCIsIlRleHRGb3JtYXRCYXIiLCJjdXJyZW50VGV4dEJveCIsInd5c2lodG1sRWRpdG9yIiwib25TdG9wRWRpdENia3MiLCJ0b29sYmFyIiwiZ2V0TGluayIsImZvcm1EYXRhIiwiYXR0YWNoVG9UZXh0Qm94IiwidGV4dEJveCIsInRoZW9yaWNhbEJvdHRvbSIsInN0b3BFZGl0aW5nIiwic2V0RWRpdE1vZGUiLCJkZXN0cm95IiwiY3VycmVudFRleHRCb3hFbCIsImVkaXRhYmxlIiwic3RhcnRFZGl0aW5nIiwiYm9va21hcmsiLCJzZWxlY3RlZEVsZW1lbnRzIiwibmV3VGV4dEJveCIsImhhbmRsZVRhYmxlcyIsInVzZUxpbmVCcmVha3MiLCJjbGFzc2VzIiwicGFyc2VyUnVsZXMiLCJ0YWdzIiwic3Ryb25nIiwicmVuYW1lX3RhZyIsImJyIiwiaDEiLCJoMiIsImg0IiwiaDUiLCJoNiIsIm9sIiwiY2hlY2tfYXR0cmlidXRlcyIsImNsYXNzIiwiYWRkX2NsYXNzIiwiRWRpdG9yIiwib24iLCJvblBhc3RlIiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJvbktleVNjcm9sbEJpbmRlZCIsIm9uQmx1ckJpbmRlZCIsIm9uQmx1ciIsInRleHRCb3hQYXJlbnRzIiwia2V5Ym9hcmRBdHRhY2giLCJvcGVuTGlua0VkaXRvciIsIm9mZiIsIm9ubW91c2Vkb3duIiwiYm9va21hcmtOZXciLCJjb21wb3NlciIsImdldEJvb2ttYXJrIiwiY29tbWFuZHMiLCJpbWFnZURldGFpbHMiLCJhdXRvQnRuIiwiYXV0b1N1Ym1pdEltYWdlIiwiY2xpY2siLCJvbmNoYW5nZSIsIm9uYmx1ciIsIm9ua2V5ZG93biIsImNsZWFuQ29udGVudCIsImFjdGl2ZUVsZW1lbnQiLCJzZXRCb29rbWFyayIsIl9vcHRpb25zIiwiZWRpdEVsZW1lbnQiLCJwYXJhbXMiLCJDb250ZXh0TWVudSIsImN1cnJlbnRQYWdlRWxlbWVudCIsIm9sZEVsZW1lbnRzIiwiY2hhbmdlZENoYXIiLCJmaWxlTmFtZSIsImdldFN0YWdlIiwic3RvcFN0YWdlT2JzZXJ2ZXIiLCJzdGFydFN0YWdlT2JzZXJ2ZXIiLCJyZXNldEVsIiwicHJldmVudFN0YWdlT2JzZXJ2ZXJzIiwib25BZGRFbGVtZW50Iiwib25VcGRhdGVFbGVtZW50IiwiY2hhbmdlZERvbUVsZW1lbnRzIiwiZmxhdE1hcCIsInRvQmVVbnN1YnNjcmliZWQiLCJhcHBseVN0eWxlIiwic3RvcERyYWciLCJzdG9wUmVzaXplIiwib25TZWxlY3Rpb25DaGFuZ2VkIiwic3RhcnRSZXNpemUiLCJzdGFydERyYWdPclJlc2l6ZSIsInN0b3BEcmFnT3JSZXNpemUiLCJjaGFuZ2VkIiwiY2hhbmdlZFBhcmVudHMiLCJvbGRQYXJlbnQiLCJleGlzdGluZ05ld1BhcmVudE9iaiIsImV4aXN0aW5nT2xkUGFyZW50T2JqIiwidXBkYXRlQWN0aW9ucyIsIlNwbGl0dGVyIiwib3B0X29uUmVkcmF3Iiwib25UaGVMZWZ0Iiwib25UaGVSaWdodCIsImlzRG93biIsInRvQmVDbGVhcmVkIiwib25SZWRyYXciLCJvbk1vdXNlRG93biIsImFkZExlZnQiLCJjYWxsUmVkcmF3IiwiV0lEVEgiLCJldnQiLCJvbk1vdXNlVXAiLCJCcmVhZENydW1icyIsInJlbW92ZUNydW1iIiwicGFyZW50cyIsImVsZW0xIiwiZWxlbTIiLCJkZWVwZXN0IiwiYW5jZXN0b3JzIiwibmV3QW5jZXN0b3JzIiwidW5zaGlmdCIsInJldmVyc2UiLCJhbmNlc3RvciIsImFkZENydW1iIiwiY3J1bWIiLCJmaWx0ZXJlZENsYXNzZXMiLCJzZXAiLCJfZXh0ZW5kcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwic291cmNlU3ltYm9sS2V5cyIsIklFMTFPckxlc3MiLCJFZGdlIiwiRmlyZUZveCIsIlNhZmFyaSIsIklPUyIsIkNocm9tZUZvckFuZHJvaWQiLCJjYXB0dXJlTW9kZSIsImdldFBhcmVudE9ySG9zdCIsImhvc3QiLCJjbG9zZXN0IiwiY3R4IiwiaW5jbHVkZUNUWCIsIl90aHJvdHRsZVRpbWVvdXQiLCJSX1NQQUNFIiwidG9nZ2xlQ2xhc3MiLCJjc3MiLCJjdXJyZW50U3R5bGUiLCJtYXRyaXgiLCJzZWxmT25seSIsImFwcGxpZWRUcmFuc2Zvcm1zIiwibWF0cml4Rm4iLCJET01NYXRyaXgiLCJXZWJLaXRDU1NNYXRyaXgiLCJDU1NNYXRyaXgiLCJNU0NTU01hdHJpeCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCIsImdldFJlY3QiLCJyZWxhdGl2ZVRvQ29udGFpbmluZ0Jsb2NrIiwicmVsYXRpdmVUb05vblN0YXRpY1BhcmVudCIsInVuZG9TY2FsZSIsImVsUmVjdCIsImNvbnRhaW5lclJlY3QiLCJlbE1hdHJpeCIsInNjYWxlWCIsInNjYWxlWSIsImlzU2Nyb2xsZWRQYXN0IiwiZWxTaWRlIiwicGFyZW50U2lkZSIsImdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50IiwiZWxTaWRlVmFsIiwicGFyZW50U2lkZVZhbCIsImdldENoaWxkIiwiY2hpbGROdW0iLCJjdXJyZW50Q2hpbGQiLCJTb3J0YWJsZSIsImdob3N0IiwiZHJhZ2dlZCIsImxhc3RDaGlsZCIsImxhc3RFbGVtZW50Q2hpbGQiLCJub2RlTmFtZSIsImdldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0Iiwib2Zmc2V0VG9wIiwid2luU2Nyb2xsZXIiLCJpbmNsdWRlU2VsZiIsImVsZW0iLCJnb3RTZWxmIiwiZWxlbUNTUyIsImlzUmVjdEVxdWFsIiwicmVjdDEiLCJyZWN0MiIsInRocm90dGxlIiwibXMiLCJzY3JvbGxCeSIsIlBvbHltZXIiLCJqUXVlcnkiLCJaZXB0byIsImRvbSIsImV4cGFuZG8iLCJnZXRUaW1lIiwicGx1Z2lucyIsImRlZmF1bHRzIiwiaW5pdGlhbGl6ZUJ5RGVmYXVsdCIsIlBsdWdpbk1hbmFnZXIiLCJtb3VudCIsInBsdWdpbiIsInBsdWdpbk5hbWUiLCJwbHVnaW5FdmVudCIsImV2ZW50TmFtZSIsInNvcnRhYmxlIiwiZXZlbnRDYW5jZWxlZCIsImV2ZW50TmFtZUdsb2JhbCIsImluaXRpYWxpemVQbHVnaW5zIiwiaW5pdGlhbGl6ZWQiLCJtb2RpZmllZCIsIm1vZGlmeU9wdGlvbiIsImdldEV2ZW50UHJvcGVydGllcyIsImV2ZW50UHJvcGVydGllcyIsIm1vZGlmaWVkVmFsdWUiLCJvcHRpb25MaXN0ZW5lcnMiLCJvcmlnaW5hbEV2ZW50IiwiZHJhZ0VsIiwiZ2hvc3RFbCIsInJvb3RFbCIsIm5leHRFbCIsImxhc3REb3duRWwiLCJjbG9uZUVsIiwiY2xvbmVIaWRkZW4iLCJkcmFnU3RhcnRlZCIsIm1vdmVkIiwicHV0U29ydGFibGUiLCJhY3RpdmVTb3J0YWJsZSIsImFjdGl2ZSIsIm9sZEluZGV4Iiwib2xkRHJhZ2dhYmxlSW5kZXgiLCJuZXdJbmRleCIsIm5ld0RyYWdnYWJsZUluZGV4IiwiaGlkZUdob3N0Rm9yVGFyZ2V0IiwiX2hpZGVHaG9zdEZvclRhcmdldCIsInVuaGlkZUdob3N0Rm9yVGFyZ2V0IiwiX3VuaGlkZUdob3N0Rm9yVGFyZ2V0IiwiY2xvbmVOb3dIaWRkZW4iLCJjbG9uZU5vd1Nob3duIiwiZGlzcGF0Y2hTb3J0YWJsZUV2ZW50IiwiX2Rpc3BhdGNoRXZlbnQiLCJ0YXJnZXRFbCIsInRvRWwiLCJmcm9tRWwiLCJleHRyYUV2ZW50UHJvcGVydGllcyIsIm9uTmFtZSIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJwdWxsTW9kZSIsImxhc3RQdXRNb2RlIiwiYWxsRXZlbnRQcm9wZXJ0aWVzIiwiYWN0aXZlR3JvdXAiLCJ0YXBFdnQiLCJ0b3VjaEV2dCIsImxhc3REeCIsImxhc3REeSIsInRhcERpc3RhbmNlTGVmdCIsInRhcERpc3RhbmNlVG9wIiwibGFzdFRhcmdldCIsImxhc3REaXJlY3Rpb24iLCJ0YXJnZXRNb3ZlRGlzdGFuY2UiLCJnaG9zdFJlbGF0aXZlUGFyZW50IiwiYXdhaXRpbmdEcmFnU3RhcnRlZCIsImlnbm9yZU5leHRDbGljayIsInNvcnRhYmxlcyIsInBhc3RGaXJzdEludmVydFRocmVzaCIsImlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQiLCJnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbCIsIl9zaWxlbnQiLCJzYXZlZElucHV0Q2hlY2tlZCIsImRvY3VtZW50RXhpc3RzIiwiUG9zaXRpb25HaG9zdEFic29sdXRlbHkiLCJDU1NGbG9hdFByb3BlcnR5Iiwic3VwcG9ydERyYWdnYWJsZSIsInN1cHBvcnRDc3NQb2ludGVyRXZlbnRzIiwiX2RldGVjdERpcmVjdGlvbiIsImVsQ1NTIiwiZWxXaWR0aCIsImNoaWxkMSIsImNoaWxkMiIsImZpcnN0Q2hpbGRDU1MiLCJzZWNvbmRDaGlsZENTUyIsImZpcnN0Q2hpbGRXaWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInNlY29uZENoaWxkV2lkdGgiLCJmbGV4RGlyZWN0aW9uIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsInRvdWNoaW5nU2lkZUNoaWxkMiIsIl9wcmVwYXJlR3JvdXAiLCJ0b0ZuIiwicHVsbCIsInNhbWVHcm91cCIsIm90aGVyR3JvdXAiLCJvcmlnaW5hbEdyb3VwIiwiY2hlY2tQdWxsIiwiY2hlY2tQdXQiLCJwdXQiLCJyZXZlcnRDbG9uZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50IiwidG91Y2hlcyIsIm5lYXJlc3QiLCJ0aHJlc2hvbGQiLCJlbXB0eUluc2VydFRocmVzaG9sZCIsImluc2lkZUhvcml6b250YWxseSIsImluc2lkZVZlcnRpY2FsbHkiLCJyZXQiLCJfb25EcmFnT3ZlciIsIl9jaGVja091dHNpZGVUYXJnZXRFbCIsIl9pc091dHNpZGVUaGlzRWwiLCJhbmltYXRpb25DYWxsYmFja0lkIiwiYW5pbWF0aW9uU3RhdGVzIiwiZGlzYWJsZWQiLCJoYW5kbGUiLCJzd2FwVGhyZXNob2xkIiwiaW52ZXJ0U3dhcCIsImludmVydGVkU3dhcFRocmVzaG9sZCIsInJlbW92ZUNsb25lT25IaWRlIiwiZ2hvc3RDbGFzcyIsImNob3NlbkNsYXNzIiwiZHJhZ0NsYXNzIiwiaWdub3JlIiwicHJldmVudE9uRmlsdGVyIiwiYW5pbWF0aW9uIiwiZWFzaW5nIiwic2V0RGF0YSIsImRhdGFUcmFuc2ZlciIsImRyb3BCdWJibGUiLCJkcmFnb3ZlckJ1YmJsZSIsImRhdGFJZEF0dHIiLCJkZWxheSIsImRlbGF5T25Ub3VjaE9ubHkiLCJ0b3VjaFN0YXJ0VGhyZXNob2xkIiwiTnVtYmVyIiwiZm9yY2VGYWxsYmFjayIsImZhbGxiYWNrQ2xhc3MiLCJmYWxsYmFja09uQm9keSIsImZhbGxiYWNrVG9sZXJhbmNlIiwiZmFsbGJhY2tPZmZzZXQiLCJzdXBwb3J0UG9pbnRlciIsIm5hdGl2ZURyYWdnYWJsZSIsIl9vblRhcFN0YXJ0IiwiY2FwdHVyZUFuaW1hdGlvblN0YXRlIiwidGhpc0FuaW1hdGlvbkR1cmF0aW9uIiwiY2hpbGRNYXRyaXgiLCJhZGRBbmltYXRpb25TdGF0ZSIsInJlbW92ZUFuaW1hdGlvblN0YXRlIiwiaW5kZXhPZk9iamVjdCIsImFuaW1hdGVBbGwiLCJhbmltYXRpbmciLCJhbmltYXRpb25UaW1lIiwidG9SZWN0IiwicHJldkZyb21SZWN0IiwicHJldlRvUmVjdCIsImFuaW1hdGluZ1JlY3QiLCJ0YXJnZXRNYXRyaXgiLCJwb3ciLCJjYWxjdWxhdGVSZWFsVGltZSIsImFuaW1hdGUiLCJhbmltYXRpb25SZXNldFRpbWVyIiwiY3VycmVudFJlY3QiLCJkdXJhdGlvbiIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwiYW5pbWF0aW5nWCIsImFuaW1hdGluZ1kiLCJmb3JSZXBhaW50RHVtbXkiLCJyZXBhaW50IiwiYW5pbWF0ZWQiLCJfb25Nb3ZlIiwiZHJhZ1JlY3QiLCJ0YXJnZXRSZWN0Iiwid2lsbEluc2VydEFmdGVyIiwicmV0VmFsIiwib25Nb3ZlRm4iLCJkcmFnZ2VkUmVjdCIsInJlbGF0ZWQiLCJyZWxhdGVkUmVjdCIsIl9kaXNhYmxlRHJhZ2dhYmxlIiwiX3Vuc2lsZW50IiwiX2dlbmVyYXRlSWQiLCJzdW0iLCJfbmV4dFRpY2siLCJfY2FuY2VsTmV4dFRpY2siLCJfZ2V0RGlyZWN0aW9uIiwidG91Y2giLCJwb2ludGVyVHlwZSIsIm9yaWdpbmFsVGFyZ2V0Iiwic2hhZG93Um9vdCIsImNvbXBvc2VkUGF0aCIsImlucHV0cyIsIl9zYXZlSW5wdXRDaGVja2VkU3RhdGUiLCJidXR0b24iLCJpc0NvbnRlbnRFZGl0YWJsZSIsImNyaXRlcmlhIiwiX3ByZXBhcmVEcmFnU3RhcnQiLCJkcmFnU3RhcnRGbiIsIl9sYXN0WCIsIl9sYXN0WSIsIl9vbkRyb3AiLCJfZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzIiwiX3RyaWdnZXJEcmFnU3RhcnQiLCJfZGlzYWJsZURlbGF5ZWREcmFnIiwiX2RlbGF5ZWREcmFnVG91Y2hNb3ZlSGFuZGxlciIsIl9kcmFnU3RhcnRUaW1lciIsIl9vblRvdWNoTW92ZSIsIl9vbkRyYWdTdGFydCIsIl9kcmFnU3RhcnRlZCIsImZhbGxiYWNrIiwiX2FwcGVuZEdob3N0IiwiX251bGxpbmciLCJfZW11bGF0ZURyYWdPdmVyIiwiZWxlbWVudEZyb21Qb2ludCIsImdob3N0TWF0cml4IiwicmVsYXRpdmVTY3JvbGxPZmZzZXQiLCJkeCIsImR5IiwiY3NzTWF0cml4IiwiX2hpZGVDbG9uZSIsImNsb25lSWQiLCJfbG9vcElkIiwiZWZmZWN0QWxsb3dlZCIsIl9kcmFnU3RhcnRJZCIsInJldmVydCIsImlzT3duZXIiLCJjYW5Tb3J0IiwiZnJvbVNvcnRhYmxlIiwiY29tcGxldGVkRmlyZWQiLCJkcmFnT3ZlckV2ZW50IiwiX2lnbm9yZVdoaWxlQW5pbWF0aW5nIiwiY29tcGxldGVkIiwiZWxMYXN0Q2hpbGQiLCJfZ2hvc3RJc0xhc3QiLCJ0YXJnZXRCZWZvcmVGaXJzdFN3YXAiLCJkaWZmZXJlbnRMZXZlbCIsImRpZmZlcmVudFJvd0NvbCIsImRyYWdFbFMxT3BwIiwiZHJhZ0VsUzJPcHAiLCJkcmFnRWxPcHBMZW5ndGgiLCJ0YXJnZXRTMU9wcCIsInRhcmdldFMyT3BwIiwidGFyZ2V0T3BwTGVuZ3RoIiwiX2RyYWdFbEluUm93Q29sdW1uIiwic2lkZTEiLCJzY3JvbGxlZFBhc3RUb3AiLCJzY3JvbGxCZWZvcmUiLCJpc0xhc3RUYXJnZXQiLCJtb3VzZU9uQXhpcyIsInRhcmdldExlbmd0aCIsInRhcmdldFMxIiwidGFyZ2V0UzIiLCJpbnZlcnQiLCJfZ2V0SW5zZXJ0RGlyZWN0aW9uIiwiX2dldFN3YXBEaXJlY3Rpb24iLCJkcmFnSW5kZXgiLCJhZnRlciIsIm1vdmVWZWN0b3IiLCJleHRyYSIsImluc2VydGlvbiIsIl9zaG93Q2xvbmUiLCJfb2ZmTW92ZUV2ZW50cyIsIl9vZmZVcEV2ZW50cyIsImhhbmRsZUV2ZW50IiwiZHJvcEVmZmVjdCIsIl9nbG9iYWxEcmFnT3ZlciIsInRvQXJyYXkiLCJvcmRlciIsInVzZUFuaW1hdGlvbiIsInV0aWxzIiwiaXMiLCJleHRlbmQiLCJkc3QiLCJuZXh0VGljayIsImNhbmNlbE5leHRUaWNrIiwiZGV0ZWN0RGlyZWN0aW9uIiwic2Nyb2xsRWwiLCJzY3JvbGxSb290RWwiLCJ0b3VjaEV2dCQxIiwiYXV0b1Njcm9sbHMiLCJpc0ZhbGxiYWNrIiwic2Nyb2xsQ3VzdG9tRm4iLCJzZW5zIiwic2Nyb2xsU2Vuc2l0aXZpdHkiLCJzcGVlZCIsInNjcm9sbFNwZWVkIiwiYXV0b1Njcm9sbCIsInBpZCIsInNjcm9sbEZuIiwibGF5ZXJzT3V0IiwiY3VycmVudFBhcmVudCIsImNhblNjcm9sbFgiLCJjYW5TY3JvbGxZIiwic2Nyb2xsUG9zWCIsInNjcm9sbFBvc1kiLCJ2eCIsInZ5IiwibGF5ZXIiLCJzY3JvbGxPZmZzZXRZIiwic2Nyb2xsT2Zmc2V0WCIsImJ1YmJsZVNjcm9sbCIsImRyb3AiLCJ0b1NvcnRhYmxlIiwiY2hhbmdlZFRvdWNoZXMiLCJvblNwaWxsIiwiUmV2ZXJ0IiwiUmVtb3ZlIiwic3RhcnRJbmRleCIsImRyYWdTdGFydCIsIl9yZWYzIiwiX3JlZjQiLCJwYXJlbnRTb3J0YWJsZSIsIlBhZ2VUb29sIiwicGFnZVNob3J0Y3V0cyIsInJlbW92ZVBhZ2VBdEluZGV4IiwiZ2V0Q2VsbEluZGV4IiwiZWRpdFBhZ2VBdEluZGV4IiwiY2VsbEluZGV4Iiwic2V0U2VsZWN0ZWRJbmRleCIsIm9uU29ydCIsIm9wdF9ub3RpZnkiLCJwYWdlSWR4IiwidGVtcGxhdGVEYXRhIiwic2hvcnRjdXRUZXh0IiwidGVtcGxhdGVIdG1sIiwiQ29sb3JQaWNrZXIiLCJpc0Rpc2FibGVkIiwiaXNJbmRldGVybWluYXRlIiwiY29sb3JJbnB1dCIsIm9uaW5wdXQiLCJvcGFjaXR5SW5wdXQiLCJ0cmFuc3BhcmVudENoZWNrYm94Iiwic2V0RGlzYWJsZWQiLCJzZXRJbmRldGVybWluYXRlIiwic2V0Q29sb3IiLCJnZXRDb2xvciIsImdldE9wYWNpdHkiLCJvcGFjaXR5UGVyY2VudCIsImlzTmFOIiwib3BhY2l0eSIsImhleEFyciIsImhleFRvQXJyYXkiLCJoZXhUb1JnYmEiLCJpbmRldGVybWluYXRlIiwicmdiYVRvSGV4IiwiUGFuZUJhc2UiLCJiYXNlVXJsIiwiZ2V0Q29tbW9uUHJvcGVydHkiLCJnZXRQcm9wZXJ0eUZ1bmN0aW9uIiwiaGFzQ29tbW9uVmFsdWUiLCJpc0ZpcnN0VmFsdWUiLCJlbGVtZW50VmFsdWUiLCJvbklucHV0UHhDaGFuZ2VkIiwiY3JlYXRlSW5wdXQiLCJpbnB1dERhdGEiLCJjaGFuZ2VPYmoiLCJ1bml0IiwiaW5pdElucHV0IiwiaW5pdEV2ZW50VGFyZ2V0IiwiaW5pdENvbWJvQm94IiwiaW5pdENoZWNrQm94IiwiZXZlbnRUYXJnZXQiLCJCZ1BhbmUiLCJidWlsZEJnQ29sb3IiLCJidWlsZEJnSW1hZ2UiLCJjb2xvclBpY2tlciIsIm9uQ29sb3JDaGFuZ2VkIiwiYmdTZWxlY3RCZ0ltYWdlIiwiYmdDbGVhckJnSW1hZ2UiLCJvblNlbGVjdEltYWdlQnV0dG9uIiwib25DbGVhckltYWdlQnV0dG9uIiwiYXR0YWNobWVudENvbWJvQm94IiwidlBvc2l0aW9uQ29tYm9Cb3giLCJoUG9zaXRpb24iLCJoUG9zaXRpb25Db21ib0JveCIsInZQb3NpdGlvbiIsInJlcGVhdENvbWJvQm94Iiwic2l6ZUNvbWJvQm94IiwibW9iaWxlT3JEZXNrdG9wIiwiZW5hYmxlQmdDb21wb25lbnRzIiwiYmdJbWFnZSIsImJnSW1hZ2VBdHRhY2htZW50IiwiYmdJbWFnZVBvc2l0aW9uIiwiYmdJbWFnZVJlcGVhdCIsImJnSW1hZ2VTaXplIiwiYWRkVXJsS2V5d29yZCIsIkJvcmRlclBhbmUiLCJib3JkZXJQbGFjZW1lbnRDaGVja0JveGVzIiwiY29ybmVyUGxhY2VtZW50Q2hlY2tCb3hlcyIsIm9uQm9yZGVyQ29sb3JDaGFuZ2VkIiwib25Cb3JkZXJXaWR0aENoYW5nZWQiLCJvbkJvcmRlckNvcm5lckNoYW5nZWQiLCJib3JkZXJXaWR0aElucHV0IiwiYm9yZGVyU3R5bGVDb21ib0JveCIsIm9uQm9yZGVyU3R5bGVDaGFuZ2VkIiwiYm9yZGVyUmFkaXVzSW5wdXQiLCJib3JkZXJXaWR0aCIsInJlZHJhd0JvcmRlcldpZHRoIiwicmVkcmF3Qm9yZGVyQ29sb3IiLCJyZXNldEJvcmRlciIsImJvcmRlclN0eWxlIiwiYm9yZGVyUmFkaXVzU3RyIiwicmVkcmF3Qm9yZGVyUmFkaXVzIiwicmVzZXRCb3JkZXJSYWRpdXMiLCJjaGVja0JveCIsImJvcmRlcldpZHRoU3RyIiwiYm9yZGVyU3R5bGVTdHIiLCJkaXJlY3RpdmVzIiwiaXNEaXJlY3RpdmUiLCJvIiwiaXNDRVBvbHlmaWxsIiwiY3VzdG9tRWxlbWVudHMiLCJwb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrIiwicmVtb3ZlTm9kZXMiLCJub0NoYW5nZSIsIm5vdGhpbmciLCJtYXJrZXIiLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIlRlbXBsYXRlIiwicGFydHMiLCJub2Rlc1RvUmVtb3ZlIiwic3RhY2siLCJ3YWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwibGFzdFBhcnRJbmRleCIsInBhcnRJbmRleCIsInN0cmluZ3MiLCJuZXh0Tm9kZSIsImhhc0F0dHJpYnV0ZXMiLCJzdHJpbmdGb3JQYXJ0IiwibGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsImF0dHJpYnV0ZUxvb2t1cE5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsInN0YXRpY3MiLCJjdXJyZW50Tm9kZSIsImNyZWF0ZU1hcmtlciIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJUZW1wbGF0ZUluc3RhbmNlIiwidGVtcGxhdGUiLCJwcm9jZXNzb3IiLCJfX3BhcnRzIiwiY29tbWl0IiwiX2Nsb25lIiwiaW1wb3J0Tm9kZSIsIm5vZGVJbmRleCIsImhhbmRsZVRleHRFeHByZXNzaW9uIiwiaW5zZXJ0QWZ0ZXJOb2RlIiwiaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwicG9saWN5IiwidHJ1c3RlZFR5cGVzIiwiY3JlYXRlUG9saWN5IiwiY3JlYXRlSFRNTCIsImNvbW1lbnRNYXJrZXIiLCJUZW1wbGF0ZVJlc3VsdCIsImdldEhUTUwiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwiZ2V0VGVtcGxhdGVFbGVtZW50IiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiQXR0cmlidXRlQ29tbWl0dGVyIiwiX2NyZWF0ZVBhcnQiLCJBdHRyaWJ1dGVQYXJ0IiwiX2dldFZhbHVlIiwiY29tbWl0dGVyIiwiZGlyZWN0aXZlIiwiTm9kZVBhcnQiLCJfX3BlbmRpbmdWYWx1ZSIsImFwcGVuZEludG8iLCJzdGFydE5vZGUiLCJlbmROb2RlIiwicmVmIiwiYXBwZW5kSW50b1BhcnQiLCJfX2luc2VydCIsImluc2VydEFmdGVyUGFydCIsIl9fY29tbWl0VGV4dCIsIl9fY29tbWl0VGVtcGxhdGVSZXN1bHQiLCJOb2RlIiwiX19jb21taXROb2RlIiwiX19jb21taXRJdGVyYWJsZSIsInZhbHVlQXNTdHJpbmciLCJ0ZW1wbGF0ZUZhY3RvcnkiLCJpdGVtUGFydHMiLCJpdGVtUGFydCIsIkJvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwiUHJvcGVydHlDb21taXR0ZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJfZSIsIkV2ZW50UGFydCIsImV2ZW50Q29udGV4dCIsIl9fYm91bmRIYW5kbGVFdmVudCIsIm5ld0xpc3RlbmVyIiwib2xkTGlzdGVuZXIiLCJzaG91bGRSZW1vdmVMaXN0ZW5lciIsInNob3VsZEFkZExpc3RlbmVyIiwiX19vcHRpb25zIiwicHJlZml4IiwidGVtcGxhdGVDYWNoZSIsInRlbXBsYXRlQ2FjaGVzIiwic3RyaW5nc0FycmF5Iiwia2V5U3RyaW5nIiwicHJldmlvdXNWYWx1ZXMiLCJ1bnNhZmVIVE1MIiwicHJldmlvdXNWYWx1ZSIsIkNvbXBvbmVudFBhbmUiLCJkZWYiLCJzYW1lIiwiYXBwbHlDb21wb25lbnQiLCJHZW5lcmFsU3R5bGVQYW5lIiwib25JbnB1dENoYW5nZWQiLCJlbGVtZW50c05vQm9keSIsIlBhZ2VQYW5lIiwidmlld09uRGV2aWNlRWwiLCJ2aWV3T25BbGxQYWdlc0NoZWNrYm94IiwicGFnZUNoZWNrYm94ZXMiLCJsaW5rQnRuIiwibGlua1N0YXRlRWwiLCJnZXRMaW5rRWxlbWVudHMiLCJvbGRMaW5rIiwicGFnZXNDb250YWluZXIiLCJzZWxlY3RvclRlbXBsYXRlIiwiY2hlY2tib3giLCJjaGVja1BhZ2UiLCJ1cGRhdGVTZWxlY3Rpb24iLCJub1NlY3Rpb25Db250ZW50Tm9Cb2R5IiwiaXNJbk5vUGFnZSIsImlzSW5QYWdlIiwibGlua0VsZW1lbnRzIiwiaGFzTGluayIsIm5ld0xpbmsiLCJGbGV4V3JhcFNlbGVjdCIsIkp1c3RpZnlDb250ZW50U2VsZWN0IiwiQWxpZ25JdGVtc1NlbGVjdCIsIkZsZXhEaXJlY3Rpb25TZWxlY3QiLCJEaXNwbGF5U2VsZWN0IiwiUG9zaXRpb25TZWxlY3QiLCJQYWRkaW5nTGVmdElucHV0IiwiUGFkZGluZ0JvdHRvbUlucHV0IiwiUGFkZGluZ1JpZ2h0SW5wdXQiLCJQYWRkaW5nVG9wSW5wdXQiLCJNYXJnaW5MZWZ0SW5wdXQiLCJNYXJnaW5Cb3R0b21JbnB1dCIsIk1hcmdpblJpZ2h0SW5wdXQiLCJNYXJnaW5Ub3BJbnB1dCIsIkhlaWdodElucHV0IiwiV2lkdGhJbnB1dCIsIlRvcElucHV0IiwiTGVmdElucHV0IiwicmVtb3ZlUHhXaXRoRGVmYXVsdCIsImRlZmF1bHRfIiwiUHJvcGVydHlQYW5lIiwidGFnTmFtZUlucHV0Iiwib25UYWdOYW1lQ2hhbmdlZCIsImFsdElucHV0Iiwib25BbHRDaGFuZ2VkIiwidGl0bGVJbnB1dCIsIm9uVGl0bGVDaGFuZ2VkIiwiZWxlbWVudHNOb0JvZHlOb1NlY3Rpb24iLCJlbGVtZW50c0Rpc3BsYXkiLCJlbGVtZW50c1Bvc2l0aW9uIiwiY29tcHV0ZVZhbHVlIiwiZWxlbWVudHNOb0JvZHlOb1NlY3Rpb25Ob1NlY3Rpb25Db250ZW50IiwiZWxlbWVudHNUeXBlIiwiZGlzYWJsZURpbWVuc2lvbnMiLCJpbml0U3R5bGUiLCJub3JtYWwiLCJjb21wb25lbnRTdHlsZUNoYW5nZWQiLCJvcHRfZGlzcGxheU5hbWUiLCJyZW1vdmVTdHlsZSIsIm5ld1NpdGUiLCJlZGl0U3R5bGUiLCJvbkJyb3dzZSIsIlN0eWxlRWRpdG9yUGFuZSIsInN0eWxlQ29tYm9QcmV2VmFsdWUiLCJzdHlsZUNvbWJvIiwicHNldWRvQ2xhc3NDb21ibyIsIm1vYmlsZU9ubHlDaGVja2JveCIsImdldFBzZXVkb0NsYXNzIiwiZ2V0VmlzaWJpbGl0eSIsInVwZGF0ZVRhZ0J1dHRvbkJhciIsImNyZWF0ZVN0eWxlIiwiZGVsZXRlU3R5bGUiLCJzZWxlY3Rpb25Db3VudFRvdGFsIiwic2VsZWN0aW9uQ291bnRQYWdlIiwiZHVwbGljYXRlU3R5bGUiLCJyZW5hbWVTdHlsZSIsIm9sZENsYXNzTmFtZSIsImRvUmVuYW1lU3R5bGUiLCJnZXRDbGFzc05hbWVGcm9tQ2xhc3NOYW1lIiwiZG9BcHBseVN0eWxlIiwiZ2V0RWxlbWVudHNXaXRoU3R5bGUiLCJub0JvZHkiLCJhbGxTdHlsZXNOYW1lcyIsImdldFN0eWxlcyIsImFsbFN0eWxlcyIsInByZXZDbGFzc05hbWUiLCJ1cGRhdGVTdHlsZUxpc3QiLCJhbGxTdHlsZURhdGEiLCJzdHlsZU5hbWVOb3ROdWxsIiwicG9wdWxhdGVQc2V1ZG9DbGFzc0NvbWJvIiwidG90YWwiLCJvblBhZ2UiLCJ0YWdEYXRhIiwiZG9DcmVhdGVTdHlsZSIsIm9wdF9jb25maXJtIiwiZG9EZWxldGVTdHlsZSIsInNlbGVjdGlvblN0eWxlIiwiU3R5bGVQYW5lIiwiaUFtQ2hhbmdpbmciLCJjc3NDbGFzc2VzSW5wdXQiLCJjc3NDbGFzc2VzVGFnc0lucHV0IiwiaHRtbEF0dHJJbnB1dCIsImdldENsYXNzZXNUYWdzIiwic2V0Q2xhc3Nlc1RhZ3MiLCJzdHJpbmdUb0F0dHIiLCJhdHRyVG9TdHJpbmciLCJsb2NhbGVDb21wYXJlIiwidW5xdW90ZWQiLCJFTEVNRU5UX0lDT05TIiwiVHJlZVBhbmUiLCJ1cGRhdGVDb21wb25lbnRUb29sIiwiY29tcG9uZW50RWRpdG9yTWVudSIsInNlbGVjdGVkQ29tcG9uZW50cyIsImNvbXBvbmVudERhdGEiLCJvbkVkaXRMaW5rIiwiZWRpdENvbXBvbmVudCIsInRvZ2dsZVBhbmVsIiwiY2FyZXQiLCJjcmVhdGVXb3Jrc3BhY2UiLCJzdHlsZUVkaXRvck1lbnUiLCJleHBhbmRhYmxlcyIsImxzS2V5IiwiYWZ0ZXJJbml0IiwicHJvZHVjdCIsImRldGVjdCIsImlzRmlyZWZveCIsImlzQ2hyb21lIiwib25iZWZvcmV1bmxvYWQiLCJ3aW5TaXplV2lkdGgiLCJ3aW5TaXplSGVpZ2h0Iiwid2FybklmV2luZG93VG9vU21hbGwiLCJnZXRVcmxQYXJhbXMiLCJtaW1lIiwiaXNEaXIiLCJpbml0U2luZ2xlU2l0ZU1vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsImhtZCIsInRvU3RyaW5nVGFnIl0sIm1hcHBpbmdzIjoiO3NDQUFBLElBQUlBLElBQ2dCLG9CQUFYQyxTQUNQQSxPQUFPQyxXQUNQRCxPQUFPQyxTQUFTQyxlQUdsQkMsRUFBT0MsUUFBVUwsRyxlQ0lqQixJQVNJTSxFQUFTLGFBR1RDLEVBQWEscUJBR2JDLEVBQWEsYUFHYkMsRUFBWSxjQUdaQyxFQUFlQyxTQUdmQyxFQUE4QixpQkFBVixFQUFBQyxHQUFzQixFQUFBQSxHQUFVLEVBQUFBLEVBQU9DLFNBQVdBLFFBQVUsRUFBQUQsRUFHaEZFLEVBQTBCLGlCQUFSQyxNQUFvQkEsTUFBUUEsS0FBS0YsU0FBV0EsUUFBVUUsS0FHeEVDLEVBQU9MLEdBQWNHLEdBQVlHLFNBQVMsY0FBVEEsR0FVakNDLEVBUGNMLE9BQU9NLFVBT1FDLFNBRzdCQyxFQUFZQyxLQUFLQyxJQUNqQkMsRUFBWUYsS0FBS0csSUFrQmpCQyxFQUFNLFdBQ1IsT0FBT1YsRUFBS1csS0FBS0QsT0E0TW5CLFNBQVNFLEVBQVNDLEdBQ2hCLElBQUlDLFNBQWNELEVBQ2xCLFFBQVNBLElBQWtCLFVBQVJDLEdBQTRCLFlBQVJBLEdBNEV6QyxTQUFTQyxFQUFTRixHQUNoQixHQUFvQixpQkFBVEEsRUFDVCxPQUFPQSxFQUVULEdBaENGLFNBQWtCQSxHQUNoQixNQUF1QixpQkFBVEEsR0F0QmhCLFNBQXNCQSxHQUNwQixRQUFTQSxHQUF5QixpQkFBVEEsRUFzQnRCRyxDQUFhSCxJQXpURixtQkF5VFlYLEVBQWVlLEtBQUtKLEdBOEIxQ0ssQ0FBU0wsR0FDWCxPQTNWTSxJQTZWUixHQUFJRCxFQUFTQyxHQUFRLENBQ25CLElBQUlNLEVBQWdDLG1CQUFqQk4sRUFBTU8sUUFBd0JQLEVBQU1PLFVBQVlQLEVBQ25FQSxFQUFRRCxFQUFTTyxHQUFVQSxFQUFRLEdBQU1BLEVBRTNDLEdBQW9CLGlCQUFUTixFQUNULE9BQWlCLElBQVZBLEVBQWNBLEdBQVNBLEVBRWhDQSxFQUFRQSxFQUFNUSxRQUFRaEMsRUFBUSxJQUM5QixJQUFJaUMsRUFBVy9CLEVBQVdnQyxLQUFLVixHQUMvQixPQUFRUyxHQUFZOUIsRUFBVStCLEtBQUtWLEdBQy9CcEIsRUFBYW9CLEVBQU1XLE1BQU0sR0FBSUYsRUFBVyxFQUFJLEdBQzNDaEMsRUFBV2lDLEtBQUtWLEdBeFdiLEtBd1c2QkEsRUFHdkMxQixFQUFPQyxRQXRQUCxTQUFrQnFDLEVBQU1DLEVBQU1DLEdBQzVCLElBQUlDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQWlCLEVBQ2pCQyxHQUFVLEVBQ1ZDLEdBQVMsRUFDVEMsR0FBVyxFQUVmLEdBQW1CLG1CQUFSWixFQUNULE1BQU0sSUFBSWEsVUFySVEsdUJBK0lwQixTQUFTQyxFQUFXQyxHQUNsQixJQUFJQyxFQUFPYixFQUNQYyxFQUFVYixFQUtkLE9BSEFELEVBQVdDLE9BQVdjLEVBQ3RCVCxFQUFpQk0sRUFDakJULEVBQVNOLEVBQUttQixNQUFNRixFQUFTRCxHQUkvQixTQUFTSSxFQUFZTCxHQU1uQixPQUpBTixFQUFpQk0sRUFFakJSLEVBQVVjLFdBQVdDLEVBQWNyQixHQUU1QlMsRUFBVUksRUFBV0MsR0FBUVQsRUFXdEMsU0FBU2lCLEVBQWFSLEdBQ3BCLElBQUlTLEVBQW9CVCxFQUFPUCxFQU0vQixZQUF5QlUsSUFBakJWLEdBQStCZ0IsR0FBcUJ2QixHQUN6RHVCLEVBQW9CLEdBQU9iLEdBTkpJLEVBQU9OLEdBTThCSixFQUdqRSxTQUFTaUIsSUFDUCxJQUFJUCxFQUFPOUIsSUFDWCxHQUFJc0MsRUFBYVIsR0FDZixPQUFPVSxFQUFhVixHQUd0QlIsRUFBVWMsV0FBV0MsRUF6QnZCLFNBQXVCUCxHQUNyQixJQUVJVCxFQUFTTCxHQUZXYyxFQUFPUCxHQUkvQixPQUFPRyxFQUFTNUIsRUFBVXVCLEVBQVFELEdBSFJVLEVBQU9OLElBR2tDSCxFQW9CaENvQixDQUFjWCxJQUduRCxTQUFTVSxFQUFhVixHQUtwQixPQUpBUixPQUFVVyxFQUlOTixHQUFZVCxFQUNQVyxFQUFXQyxJQUVwQlosRUFBV0MsT0FBV2MsRUFDZlosR0FlVCxTQUFTcUIsSUFDUCxJQUFJWixFQUFPOUIsSUFDUDJDLEVBQWFMLEVBQWFSLEdBTTlCLEdBSkFaLEVBQVcwQixVQUNYekIsRUFBVzBCLEtBQ1h0QixFQUFlTyxFQUVYYSxFQUFZLENBQ2QsUUFBZ0JWLElBQVpYLEVBQ0YsT0FBT2EsRUFBWVosR0FFckIsR0FBSUcsRUFHRixPQURBSixFQUFVYyxXQUFXQyxFQUFjckIsR0FDNUJhLEVBQVdOLEdBTXRCLFlBSGdCVSxJQUFaWCxJQUNGQSxFQUFVYyxXQUFXQyxFQUFjckIsSUFFOUJLLEVBSVQsT0F4R0FMLEVBQU9YLEVBQVNXLElBQVMsRUFDckJkLEVBQVNlLEtBQ1hRLElBQVlSLEVBQVFRLFFBRXBCTCxHQURBTSxFQUFTLFlBQWFULEdBQ0h0QixFQUFVVSxFQUFTWSxFQUFRRyxVQUFZLEVBQUdKLEdBQVFJLEVBQ3JFTyxFQUFXLGFBQWNWLElBQVlBLEVBQVFVLFNBQVdBLEdBaUcxRGUsRUFBVUksT0FuQ1YsZ0JBQ2tCYixJQUFaWCxHQUNGeUIsYUFBYXpCLEdBRWZFLEVBQWlCLEVBQ2pCTixFQUFXSyxFQUFlSixFQUFXRyxPQUFVVyxHQStCakRTLEVBQVVNLE1BNUJWLFdBQ0UsWUFBbUJmLElBQVpYLEVBQXdCRCxFQUFTbUIsRUFBYXhDLE1BNEJoRDBDLEksY0MvT1QsSUFvRU1PLEVBakVGQyxFQUFpQiw0QkFhakJDLEVBQWUsOEJBR2ZsRSxFQUE4QixpQkFBVixFQUFBQyxHQUFzQixFQUFBQSxHQUFVLEVBQUFBLEVBQU9DLFNBQVdBLFFBQVUsRUFBQUQsRUFHaEZFLEVBQTBCLGlCQUFSQyxNQUFvQkEsTUFBUUEsS0FBS0YsU0FBV0EsUUFBVUUsS0FHeEVDLEVBQU9MLEdBQWNHLEdBQVlHLFNBQVMsY0FBVEEsR0FrQ2pDNkQsRUFBYUMsTUFBTTVELFVBQ25CNkQsRUFBWS9ELFNBQVNFLFVBQ3JCOEQsRUFBY3BFLE9BQU9NLFVBR3JCK0QsRUFBYWxFLEVBQUssc0JBR2xCbUUsR0FDRVIsRUFBTSxTQUFTUyxLQUFLRixHQUFjQSxFQUFXRyxNQUFRSCxFQUFXRyxLQUFLQyxVQUFZLEtBQ3ZFLGlCQUFtQlgsRUFBTyxHQUl0Q1ksRUFBZVAsRUFBVTVELFNBR3pCb0UsRUFBaUJQLEVBQVlPLGVBTzdCdEUsRUFBaUIrRCxFQUFZN0QsU0FHN0JxRSxFQUFhQyxPQUFPLElBQ3RCSCxFQUFhdEQsS0FBS3VELEdBQWdCbkQsUUExRWpCLHNCQTBFdUMsUUFDdkRBLFFBQVEseURBQTBELFNBQVcsS0FJNUVzRCxFQUFTYixFQUFXYSxPQUdwQkMsRUFBTUMsRUFBVTdFLEVBQU0sT0FDdEI4RSxFQUFlRCxFQUFVaEYsT0FBUSxVQVNyQyxTQUFTa0YsRUFBS0MsR0FDWixJQUFJQyxHQUFTLEVBQ1RDLEVBQVNGLEVBQVVBLEVBQVFFLE9BQVMsRUFHeEMsSUFEQTNCLEtBQUs0QixVQUNJRixFQUFRQyxHQUFRLENBQ3ZCLElBQUlFLEVBQVFKLEVBQVFDLEdBQ3BCMUIsS0FBSzhCLElBQUlELEVBQU0sR0FBSUEsRUFBTSxLQTJGN0IsU0FBU0UsRUFBVU4sR0FDakIsSUFBSUMsR0FBUyxFQUNUQyxFQUFTRixFQUFVQSxFQUFRRSxPQUFTLEVBR3hDLElBREEzQixLQUFLNEIsVUFDSUYsRUFBUUMsR0FBUSxDQUN2QixJQUFJRSxFQUFRSixFQUFRQyxHQUNwQjFCLEtBQUs4QixJQUFJRCxFQUFNLEdBQUlBLEVBQU0sS0F5RzdCLFNBQVNHLEVBQVNQLEdBQ2hCLElBQUlDLEdBQVMsRUFDVEMsRUFBU0YsRUFBVUEsRUFBUUUsT0FBUyxFQUd4QyxJQURBM0IsS0FBSzRCLFVBQ0lGLEVBQVFDLEdBQVEsQ0FDdkIsSUFBSUUsRUFBUUosRUFBUUMsR0FDcEIxQixLQUFLOEIsSUFBSUQsRUFBTSxHQUFJQSxFQUFNLEtBd0Y3QixTQUFTSSxFQUFhQyxFQUFPQyxHQUUzQixJQURBLElBb01VN0UsRUFBT00sRUFwTWIrRCxFQUFTTyxFQUFNUCxPQUNaQSxLQUNMLElBa01RckUsRUFsTUQ0RSxFQUFNUCxHQUFRLE9Ba01OL0QsRUFsTVV1RSxJQW1NQTdFLEdBQVVBLEdBQVNNLEdBQVVBLEVBbE1wRCxPQUFPK0QsRUFHWCxPQUFRLEVBMkJWLFNBQVNTLEVBQVdDLEVBQUtGLEdBQ3ZCLElBMEJpQjdFLEVBQ2JDLEVBM0JBK0UsRUFBT0QsRUFBSUUsU0FDZixPQTJCZ0IsV0FEWmhGLFNBRGFELEVBekJBNkUsS0EyQm1CLFVBQVI1RSxHQUE0QixVQUFSQSxHQUE0QixXQUFSQSxFQUNyRCxjQUFWRCxFQUNVLE9BQVZBLEdBNUJEZ0YsRUFBbUIsaUJBQVBILEVBQWtCLFNBQVcsUUFDekNHLEVBQUtELElBV1gsU0FBU2YsRUFBVWtCLEVBQVFMLEdBQ3pCLElBQUk3RSxFQXphTixTQUFrQmtGLEVBQVFMLEdBQ3hCLE9BQWlCLE1BQVZLLE9BQWlCcEQsRUFBWW9ELEVBQU9MLEdBd2EvQk0sQ0FBU0QsRUFBUUwsR0FDN0IsT0FqQ0YsU0FBc0I3RSxHQUNwQixJQUFLRCxFQUFTQyxJQXlETHNELEdBQWVBLEtBekRTdEQsRUFDL0IsT0FBTyxFQXVEWCxJQXJETW9GLEVBb01OLFNBQW9CcEYsR0FHbEIsSUFBSXFGLEVBQU10RixFQUFTQyxHQUFTWCxFQUFlZSxLQUFLSixHQUFTLEdBQ3pELE1BbG5CWSxxQkFrbkJMcUYsR0FqbkJJLDhCQWluQmNBLEVBeE1WQyxDQUFXdEYsSUFsWTVCLFNBQXNCQSxHQUdwQixJQUFJa0IsR0FBUyxFQUNiLEdBQWEsTUFBVGxCLEdBQTBDLG1CQUFsQkEsRUFBTVQsU0FDaEMsSUFDRTJCLEtBQVlsQixFQUFRLElBQ3BCLE1BQU91RixJQUVYLE9BQU9yRSxFQXlYNkJzRSxDQUFheEYsR0FBVTRELEVBQWFaLEVBQ3hFLE9BQU9vQyxFQUFRMUUsS0ErRGpCLFNBQWtCRSxHQUNoQixHQUFZLE1BQVJBLEVBQWMsQ0FDaEIsSUFDRSxPQUFPOEMsRUFBYXRELEtBQUtRLEdBQ3pCLE1BQU8yRSxJQUNULElBQ0UsT0FBUTNFLEVBQU8sR0FDZixNQUFPMkUsS0FFWCxNQUFPLEdBeEVhRSxDQUFTekYsSUE0QnRCMEYsQ0FBYTFGLEdBQVNBLE9BQVE4QixFQTJGdkMsU0FBUzZELEVBQVEvRSxFQUFNZ0YsR0FDckIsR0FBbUIsbUJBQVJoRixHQUF1QmdGLEdBQStCLG1CQUFaQSxFQUNuRCxNQUFNLElBQUluRSxVQTFpQlEsdUJBNGlCcEIsSUFBSW9FLEVBQVcsV0FDYixJQUFJakUsRUFBT2EsVUFDUG9DLEVBQU1lLEVBQVdBLEVBQVM3RCxNQUFNVyxLQUFNZCxHQUFRQSxFQUFLLEdBQ25Ea0UsRUFBUUQsRUFBU0MsTUFFckIsR0FBSUEsRUFBTUMsSUFBSWxCLEdBQ1osT0FBT2lCLEVBQU1FLElBQUluQixHQUVuQixJQUFJM0QsRUFBU04sRUFBS21CLE1BQU1XLEtBQU1kLEdBRTlCLE9BREFpRSxFQUFTQyxNQUFRQSxFQUFNdEIsSUFBSUssRUFBSzNELEdBQ3pCQSxHQUdULE9BREEyRSxFQUFTQyxNQUFRLElBQUtILEVBQVFNLE9BQVN2QixHQUNoQ21CLEVBMkZULFNBQVM5RixFQUFTQyxHQUNoQixJQUFJQyxTQUFjRCxFQUNsQixRQUFTQSxJQUFrQixVQUFSQyxHQUE0QixZQUFSQSxHQXhkekNpRSxFQUFLNUUsVUFBVWdGLE1BbkVmLFdBQ0U1QixLQUFLdUMsU0FBV2hCLEVBQWVBLEVBQWEsTUFBUSxJQW1FdERDLEVBQUs1RSxVQUFrQixPQXREdkIsU0FBb0J1RixHQUNsQixPQUFPbkMsS0FBS3FELElBQUlsQixXQUFlbkMsS0FBS3VDLFNBQVNKLElBc0QvQ1gsRUFBSzVFLFVBQVUwRyxJQTFDZixTQUFpQm5CLEdBQ2YsSUFBSUcsRUFBT3RDLEtBQUt1QyxTQUNoQixHQUFJaEIsRUFBYyxDQUNoQixJQUFJL0MsRUFBUzhELEVBQUtILEdBQ2xCLE9BQU8zRCxJQUFXNkIsT0FBaUJqQixFQUFZWixFQUVqRCxPQUFPeUMsRUFBZXZELEtBQUs0RSxFQUFNSCxHQUFPRyxFQUFLSCxRQUFPL0MsR0FxQ3REb0MsRUFBSzVFLFVBQVV5RyxJQXpCZixTQUFpQmxCLEdBQ2YsSUFBSUcsRUFBT3RDLEtBQUt1QyxTQUNoQixPQUFPaEIsT0FBNkJuQyxJQUFka0QsRUFBS0gsR0FBcUJsQixFQUFldkQsS0FBSzRFLEVBQU1ILElBd0I1RVgsRUFBSzVFLFVBQVVrRixJQVhmLFNBQWlCSyxFQUFLN0UsR0FHcEIsT0FGVzBDLEtBQUt1QyxTQUNYSixHQUFRWixRQUEwQm5DLElBQVY5QixFQUF1QitDLEVBQWlCL0MsRUFDOUQwQyxNQW9IVCtCLEVBQVVuRixVQUFVZ0YsTUFqRnBCLFdBQ0U1QixLQUFLdUMsU0FBVyxJQWlGbEJSLEVBQVVuRixVQUFrQixPQXJFNUIsU0FBeUJ1RixHQUN2QixJQUFJRyxFQUFPdEMsS0FBS3VDLFNBQ1piLEVBQVFPLEVBQWFLLEVBQU1ILEdBRS9CLFFBQUlULEVBQVEsSUFJUkEsR0FEWVksRUFBS1gsT0FBUyxFQUU1QlcsRUFBS2tCLE1BRUxwQyxFQUFPMUQsS0FBSzRFLEVBQU1aLEVBQU8sR0FFcEIsS0F5RFRLLEVBQVVuRixVQUFVMEcsSUE3Q3BCLFNBQXNCbkIsR0FDcEIsSUFBSUcsRUFBT3RDLEtBQUt1QyxTQUNaYixFQUFRTyxFQUFhSyxFQUFNSCxHQUUvQixPQUFPVCxFQUFRLE9BQUl0QyxFQUFZa0QsRUFBS1osR0FBTyxJQTBDN0NLLEVBQVVuRixVQUFVeUcsSUE5QnBCLFNBQXNCbEIsR0FDcEIsT0FBT0YsRUFBYWpDLEtBQUt1QyxTQUFVSixJQUFRLEdBOEI3Q0osRUFBVW5GLFVBQVVrRixJQWpCcEIsU0FBc0JLLEVBQUs3RSxHQUN6QixJQUFJZ0YsRUFBT3RDLEtBQUt1QyxTQUNaYixFQUFRTyxFQUFhSyxFQUFNSCxHQU8vQixPQUxJVCxFQUFRLEVBQ1ZZLEVBQUttQixLQUFLLENBQUN0QixFQUFLN0UsSUFFaEJnRixFQUFLWixHQUFPLEdBQUtwRSxFQUVaMEMsTUFrR1RnQyxFQUFTcEYsVUFBVWdGLE1BL0RuQixXQUNFNUIsS0FBS3VDLFNBQVcsQ0FDZCxLQUFRLElBQUlmLEVBQ1osSUFBTyxJQUFLSCxHQUFPVSxHQUNuQixPQUFVLElBQUlQLElBNERsQlEsRUFBU3BGLFVBQWtCLE9BL0MzQixTQUF3QnVGLEdBQ3RCLE9BQU9DLEVBQVdwQyxLQUFNbUMsR0FBYSxPQUFFQSxJQStDekNILEVBQVNwRixVQUFVMEcsSUFuQ25CLFNBQXFCbkIsR0FDbkIsT0FBT0MsRUFBV3BDLEtBQU1tQyxHQUFLbUIsSUFBSW5CLElBbUNuQ0gsRUFBU3BGLFVBQVV5RyxJQXZCbkIsU0FBcUJsQixHQUNuQixPQUFPQyxFQUFXcEMsS0FBTW1DLEdBQUtrQixJQUFJbEIsSUF1Qm5DSCxFQUFTcEYsVUFBVWtGLElBVm5CLFNBQXFCSyxFQUFLN0UsR0FFeEIsT0FEQThFLEVBQVdwQyxLQUFNbUMsR0FBS0wsSUFBSUssRUFBSzdFLEdBQ3hCMEMsTUFxTFRpRCxFQUFRTSxNQUFRdkIsRUE0RmhCcEcsRUFBT0MsUUFBVW9ILEcsZUN6cEJqQixJQUFJUyxFQUFrQixzQkFTbEI1SCxFQUFTLGFBR1RDLEVBQWEscUJBR2JDLEVBQWEsYUFHYkMsRUFBWSxjQUdaQyxFQUFlQyxTQUdmQyxFQUE4QixpQkFBVixFQUFBQyxHQUFzQixFQUFBQSxHQUFVLEVBQUFBLEVBQU9DLFNBQVdBLFFBQVUsRUFBQUQsRUFHaEZFLEVBQTBCLGlCQUFSQyxNQUFvQkEsTUFBUUEsS0FBS0YsU0FBV0EsUUFBVUUsS0FHeEVDLEVBQU9MLEdBQWNHLEdBQVlHLFNBQVMsY0FBVEEsR0FVakNDLEVBUGNMLE9BQU9NLFVBT1FDLFNBRzdCQyxFQUFZQyxLQUFLQyxJQUNqQkMsRUFBWUYsS0FBS0csSUFrQmpCQyxFQUFNLFdBQ1IsT0FBT1YsRUFBS1csS0FBS0QsT0EwUW5CLFNBQVNFLEVBQVNDLEdBQ2hCLElBQUlDLFNBQWNELEVBQ2xCLFFBQVNBLElBQWtCLFVBQVJDLEdBQTRCLFlBQVJBLEdBNEV6QyxTQUFTQyxFQUFTRixHQUNoQixHQUFvQixpQkFBVEEsRUFDVCxPQUFPQSxFQUVULEdBaENGLFNBQWtCQSxHQUNoQixNQUF1QixpQkFBVEEsR0F0QmhCLFNBQXNCQSxHQUNwQixRQUFTQSxHQUF5QixpQkFBVEEsRUFzQnRCRyxDQUFhSCxJQXZYRixtQkF1WFlYLEVBQWVlLEtBQUtKLEdBOEIxQ0ssQ0FBU0wsR0FDWCxPQXpaTSxJQTJaUixHQUFJRCxFQUFTQyxHQUFRLENBQ25CLElBQUlNLEVBQWdDLG1CQUFqQk4sRUFBTU8sUUFBd0JQLEVBQU1PLFVBQVlQLEVBQ25FQSxFQUFRRCxFQUFTTyxHQUFVQSxFQUFRLEdBQU1BLEVBRTNDLEdBQW9CLGlCQUFUTixFQUNULE9BQWlCLElBQVZBLEVBQWNBLEdBQVNBLEVBRWhDQSxFQUFRQSxFQUFNUSxRQUFRaEMsRUFBUSxJQUM5QixJQUFJaUMsRUFBVy9CLEVBQVdnQyxLQUFLVixHQUMvQixPQUFRUyxHQUFZOUIsRUFBVStCLEtBQUtWLEdBQy9CcEIsRUFBYW9CLEVBQU1XLE1BQU0sR0FBSUYsRUFBVyxFQUFJLEdBQzNDaEMsRUFBV2lDLEtBQUtWLEdBdGFiLEtBc2E2QkEsRUFHdkMxQixFQUFPQyxRQTlJUCxTQUFrQnFDLEVBQU1DLEVBQU1DLEdBQzVCLElBQUlRLEdBQVUsRUFDVkUsR0FBVyxFQUVmLEdBQW1CLG1CQUFSWixFQUNULE1BQU0sSUFBSWEsVUFBVTJFLEdBTXRCLE9BSklyRyxFQUFTZSxLQUNYUSxFQUFVLFlBQWFSLElBQVlBLEVBQVFRLFFBQVVBLEVBQ3JERSxFQUFXLGFBQWNWLElBQVlBLEVBQVFVLFNBQVdBLEdBL0s1RCxTQUFrQlosRUFBTUMsRUFBTUMsR0FDNUIsSUFBSUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFBaUIsRUFDakJDLEdBQVUsRUFDVkMsR0FBUyxFQUNUQyxHQUFXLEVBRWYsR0FBbUIsbUJBQVJaLEVBQ1QsTUFBTSxJQUFJYSxVQUFVMkUsR0FVdEIsU0FBUzFFLEVBQVdDLEdBQ2xCLElBQUlDLEVBQU9iLEVBQ1BjLEVBQVViLEVBS2QsT0FIQUQsRUFBV0MsT0FBV2MsRUFDdEJULEVBQWlCTSxFQUNqQlQsRUFBU04sRUFBS21CLE1BQU1GLEVBQVNELEdBSS9CLFNBQVNJLEVBQVlMLEdBTW5CLE9BSkFOLEVBQWlCTSxFQUVqQlIsRUFBVWMsV0FBV0MsRUFBY3JCLEdBRTVCUyxFQUFVSSxFQUFXQyxHQUFRVCxFQVd0QyxTQUFTaUIsRUFBYVIsR0FDcEIsSUFBSVMsRUFBb0JULEVBQU9QLEVBTS9CLFlBQXlCVSxJQUFqQlYsR0FBK0JnQixHQUFxQnZCLEdBQ3pEdUIsRUFBb0IsR0FBT2IsR0FOSkksRUFBT04sR0FNOEJKLEVBR2pFLFNBQVNpQixJQUNQLElBQUlQLEVBQU85QixJQUNYLEdBQUlzQyxFQUFhUixHQUNmLE9BQU9VLEVBQWFWLEdBR3RCUixFQUFVYyxXQUFXQyxFQXpCdkIsU0FBdUJQLEdBQ3JCLElBRUlULEVBQVNMLEdBRldjLEVBQU9QLEdBSS9CLE9BQU9HLEVBQVM1QixFQUFVdUIsRUFBUUQsR0FIUlUsRUFBT04sSUFHa0NILEVBb0JoQ29CLENBQWNYLElBR25ELFNBQVNVLEVBQWFWLEdBS3BCLE9BSkFSLE9BQVVXLEVBSU5OLEdBQVlULEVBQ1BXLEVBQVdDLElBRXBCWixFQUFXQyxPQUFXYyxFQUNmWixHQWVULFNBQVNxQixJQUNQLElBQUlaLEVBQU85QixJQUNQMkMsRUFBYUwsRUFBYVIsR0FNOUIsR0FKQVosRUFBVzBCLFVBQ1h6QixFQUFXMEIsS0FDWHRCLEVBQWVPLEVBRVhhLEVBQVksQ0FDZCxRQUFnQlYsSUFBWlgsRUFDRixPQUFPYSxFQUFZWixHQUVyQixHQUFJRyxFQUdGLE9BREFKLEVBQVVjLFdBQVdDLEVBQWNyQixHQUM1QmEsRUFBV04sR0FNdEIsWUFIZ0JVLElBQVpYLElBQ0ZBLEVBQVVjLFdBQVdDLEVBQWNyQixJQUU5QkssRUFJVCxPQXhHQUwsRUFBT1gsRUFBU1csSUFBUyxFQUNyQmQsRUFBU2UsS0FDWFEsSUFBWVIsRUFBUVEsUUFFcEJMLEdBREFNLEVBQVMsWUFBYVQsR0FDSHRCLEVBQVVVLEVBQVNZLEVBQVFHLFVBQVksRUFBR0osR0FBUUksRUFDckVPLEVBQVcsYUFBY1YsSUFBWUEsRUFBUVUsU0FBV0EsR0FpRzFEZSxFQUFVSSxPQW5DVixnQkFDa0JiLElBQVpYLEdBQ0Z5QixhQUFhekIsR0FFZkUsRUFBaUIsRUFDakJOLEVBQVdLLEVBQWVKLEVBQVdHLE9BQVVXLEdBK0JqRFMsRUFBVU0sTUE1QlYsV0FDRSxZQUFtQmYsSUFBWlgsRUFBd0JELEVBQVNtQixFQUFheEMsTUE0QmhEMEMsRUEwREE4RCxDQUFTekYsRUFBTUMsRUFBTSxDQUMxQixRQUFXUyxFQUNYLFFBQVdULEVBQ1gsU0FBWVcsTSxtQkN0VGhCLHlCQUNFLGFBRzRELGlCQUFuQmxELEVBQU9DLFFBQzlDRCxFQUFPQyxRQUFVK0gsS0FHakIsRUFBTyxRQUFXLDBCQUFQLEVBQUYsR0FBUyxnQ0FSdEIsQ0FhRzVELEdBQU0sV0FDUCxhQUVBLElBQUk2RCxFQUFRdkgsT0FBT00sVUFBVUMsU0FDN0IsU0FBU29FLEVBQWU2QyxFQUFLQyxHQUMzQixPQUFVLE1BQVBELEdBSUl4SCxPQUFPTSxVQUFVcUUsZUFBZXZELEtBQUtvRyxFQUFLQyxHQUduRCxTQUFTQyxFQUFRMUcsR0FDZixJQUFLQSxFQUNILE9BQU8sRUFFVCxHQUFJMkcsRUFBUTNHLElBQTJCLElBQWpCQSxFQUFNcUUsT0FDeEIsT0FBTyxFQUNKLEdBQXFCLGlCQUFWckUsRUFBb0IsQ0FDbEMsSUFBSyxJQUFJNEcsS0FBSzVHLEVBQ1YsR0FBSTJELEVBQWUzRCxFQUFPNEcsR0FDdEIsT0FBTyxFQUdmLE9BQU8sRUFFWCxPQUFPLEVBR1QsU0FBU3JILEVBQVNVLEdBQ2hCLE9BQU9zRyxFQUFNbkcsS0FBS0gsR0FPcEIsSUFBSTBHLEVBQVV6RCxNQUFNeUQsU0FBVyxTQUFTSCxHQUV0QyxNQUEyQixtQkFBcEJELEVBQU1uRyxLQUFLb0csSUFPcEIsU0FBU0ssRUFBT2hDLEdBQ2QsSUFBSWlDLEVBQVNqSSxTQUFTZ0csR0FDdEIsT0FBSWlDLEVBQU92SCxhQUFlc0YsRUFDakJpQyxFQUVGakMsRUFHVCxTQUFTeUIsRUFBUXhGLEdBR2YsSUFlSWlHLEVBZkFDLEVBQWEsU0FBU1IsR0FDeEIsT0FBT3hILE9BQU93RSxLQUFLd0QsR0FBWUMsUUFBTyxTQUFTQyxFQUFPVCxHQUNwRCxNQUFZLFdBQVRBLEdBSzZCLG1CQUFyQk8sRUFBV1AsS0FDcEJTLEVBQU1ULEdBQVFPLEVBQVdQLEdBQU1VLEtBQUtILEVBQVlSLElBTHpDVSxJQVNSLEtBY0wsU0FBU0UsRUFBbUJaLEVBQUtDLEdBQy9CLEdBQUlNLEVBQW1CUCxFQUFLQyxHQUMxQixPQUFPRCxFQUFJQyxHQUlmLFNBQVNqQyxFQUFJZ0MsRUFBS2EsRUFBTXJILEVBQU9zSCxHQUk3QixHQUhvQixpQkFBVEQsSUFDVEEsRUFBTyxDQUFDQSxLQUVMQSxHQUF3QixJQUFoQkEsRUFBS2hELE9BQ2hCLE9BQU9tQyxFQUVULEdBQW9CLGlCQUFUYSxFQUNULE9BQU83QyxFQUFJZ0MsRUFBS2EsRUFBS0UsTUFBTSxLQUFLeEMsSUFBSThCLEdBQVM3RyxFQUFPc0gsR0FFdEQsSUFBSUUsRUFBY0gsRUFBSyxHQUNuQkksRUFBZUwsRUFBbUJaLEVBQUtnQixHQUMzQyxHQUFJMUcsRUFBUTRHLHdCQUEwQyxjQUFoQkYsR0FDbkIsZ0JBQWhCQSxHQUF5RCxtQkFBakJDLEdBQ3pDLE1BQU0sSUFBSUUsTUFBTSxpRUFFbEIsT0FBb0IsSUFBaEJOLEVBQUtoRCxhQUNjLElBQWpCb0QsR0FBNEJILElBQzlCZCxFQUFJZ0IsR0FBZXhILEdBRWR5SCxTQUdZLElBQWpCQSxJQUVvQixpQkFBWkosRUFBSyxHQUNiYixFQUFJZ0IsR0FBZSxHQUVuQmhCLEVBQUlnQixHQUFlLElBSWhCaEQsRUFBSWdDLEVBQUlnQixHQUFjSCxFQUFLMUcsTUFBTSxHQUFJWCxFQUFPc0gsSUFpS3JELE9BaE5FUCxHQW5CRmpHLEVBQVVBLEdBQVcsSUFrQlQ0RyxzQkFDVyxXQUNuQixPQUFPLEdBR1ksU0FBVWxCLEVBQUtDLEdBQ2xDLE1BQXdCLGlCQUFUQSxHQUFxQnZELE1BQU15RCxRQUFRSCxJQUFTN0MsRUFBZTZDLEVBQUtDLElBNkNuRk8sRUFBV2pCLElBQU0sU0FBVVMsRUFBS2EsR0FPOUIsR0FOb0IsaUJBQVRBLEVBQ1RBLEVBQU8sQ0FBQ0EsR0FDaUIsaUJBQVRBLElBQ2hCQSxFQUFPQSxFQUFLRSxNQUFNLE9BR2ZGLEdBQXdCLElBQWhCQSxFQUFLaEQsT0FDaEIsUUFBU21DLEVBR1gsSUFBSyxJQUFJSSxFQUFJLEVBQUdBLEVBQUlTLEVBQUtoRCxPQUFRdUMsSUFBSyxDQUNwQyxJQUFJZ0IsRUFBSWYsRUFBT1EsRUFBS1QsSUFFcEIsS0FBaUIsaUJBQU5nQixHQUFrQmpCLEVBQVFILElBQVFvQixFQUFJcEIsRUFBSW5DLFNBQ2xEdkQsRUFBUTRHLHNCQUF5QkUsS0FBSzVJLE9BQU93SCxHQUFRN0MsRUFBZTZDLEVBQUtvQixLQUcxRSxPQUFPLEVBRlBwQixFQUFNQSxFQUFJb0IsR0FNZCxPQUFPLEdBR1RaLEVBQVdhLGFBQWUsU0FBVXJCLEVBQUthLEVBQU1ySCxHQUM3QyxPQUFPd0UsRUFBSWdDLEVBQUthLEVBQU1ySCxHQUFPLElBRy9CZ0gsRUFBV3hDLElBQU0sU0FBVWdDLEVBQUthLEVBQU1ySCxFQUFPc0gsR0FDM0MsT0FBTzlDLEVBQUlnQyxFQUFLYSxFQUFNckgsRUFBT3NILElBRy9CTixFQUFXYyxPQUFTLFNBQVV0QixFQUFLYSxFQUFNckgsRUFBTytILEdBQzlDLElBQUlDLEVBQU1oQixFQUFXaEIsSUFBSVEsRUFBS2EsR0FDOUJVLElBQU9BLEVBQ0ZwQixFQUFRcUIsS0FDWEEsRUFBTSxHQUNOaEIsRUFBV3hDLElBQUlnQyxFQUFLYSxFQUFNVyxJQUU1QkEsRUFBSWxFLE9BQU9pRSxFQUFJLEVBQUcvSCxJQUdwQmdILEVBQVdpQixNQUFRLFNBQVN6QixFQUFLYSxHQVEvQixJQUFJckgsRUFBTzRHLEVBUFgsSUFBSUYsRUFBUVcsSUFHRCxNQUFQYixJQUtFeEcsRUFBUWdILEVBQVdoQixJQUFJUSxFQUFLYSxJQUFsQyxDQUlBLEdBQXFCLGlCQUFWckgsRUFDVCxPQUFPZ0gsRUFBV3hDLElBQUlnQyxFQUFLYSxFQUFNLElBQzVCLEdBNUlYLFNBQW1CYixHQUNqQixNQUFzQixrQkFBUkEsR0FBdUMscUJBQWxCakgsRUFBU2lILEdBMkkvQjBCLENBQVVsSSxHQUNuQixPQUFPZ0gsRUFBV3hDLElBQUlnQyxFQUFLYSxHQUFNLEdBQzVCLEdBQXFCLGlCQUFWckgsRUFDaEIsT0FBT2dILEVBQVd4QyxJQUFJZ0MsRUFBS2EsRUFBTSxHQUM1QixHQUFJVixFQUFRM0csR0FDakJBLEVBQU1xRSxPQUFTLE1BQ1YsS0EzSlgsU0FBa0JtQyxHQUNoQixNQUFzQixpQkFBUkEsR0FBc0Msb0JBQWxCakgsRUFBU2lILEdBMEo5QnpHLENBQVNDLEdBT2xCLE9BQU9nSCxFQUFXeEMsSUFBSWdDLEVBQUthLEVBQU0sTUFOakMsSUFBS1QsS0FBSzVHLEVBQ0orRyxFQUFtQi9HLEVBQU80RyxXQUNyQjVHLEVBQU00RyxNQVFyQkksRUFBV2IsS0FBTyxTQUFVSyxFQUFLYSxHQUMvQixJQUFJVyxFQUFNaEIsRUFBV2hCLElBQUlRLEVBQUthLEdBQ3pCVixFQUFRcUIsS0FDWEEsRUFBTSxHQUNOaEIsRUFBV3hDLElBQUlnQyxFQUFLYSxFQUFNVyxJQUc1QkEsRUFBSTdCLEtBQUtwRSxNQUFNaUcsRUFBSzlFLE1BQU01RCxVQUFVcUIsTUFBTVAsS0FBS3FDLFVBQVcsS0FHNUR1RSxFQUFXbUIsU0FBVyxTQUFVM0IsRUFBSzRCLEVBQU9DLEdBRzFDLElBRkEsSUFBSXJJLEVBRUs0RyxFQUFJLEVBQUcwQixFQUFNRixFQUFNL0QsT0FBUXVDLEVBQUkwQixFQUFLMUIsSUFDM0MsUUFBZ0QsS0FBM0M1RyxFQUFRZ0gsRUFBV2hCLElBQUlRLEVBQUs0QixFQUFNeEIsS0FDckMsT0FBTzVHLEVBSVgsT0FBT3FJLEdBR1RyQixFQUFXaEIsSUFBTSxTQUFVUSxFQUFLYSxFQUFNZ0IsR0FJcEMsR0FIb0IsaUJBQVRoQixJQUNUQSxFQUFPLENBQUNBLEtBRUxBLEdBQXdCLElBQWhCQSxFQUFLaEQsT0FDaEIsT0FBT21DLEVBRVQsR0FBVyxNQUFQQSxFQUNGLE9BQU82QixFQUVULEdBQW9CLGlCQUFUaEIsRUFDVCxPQUFPTCxFQUFXaEIsSUFBSVEsRUFBS2EsRUFBS0UsTUFBTSxLQUFNYyxHQUc5QyxJQUFJYixFQUFjWCxFQUFPUSxFQUFLLElBQzFCa0IsRUFBVW5CLEVBQW1CWixFQUFLZ0IsR0FDdEMsWUFBZ0IsSUFBWmUsRUFDS0YsRUFHVyxJQUFoQmhCLEVBQUtoRCxPQUNBa0UsRUFHRnZCLEVBQVdoQixJQUFJUSxFQUFJZ0IsR0FBY0gsRUFBSzFHLE1BQU0sR0FBSTBILElBR3pEckIsRUFBV3dCLElBQU0sU0FBYWhDLEVBQUthLEdBS2pDLEdBSm9CLGlCQUFUQSxJQUNUQSxFQUFPLENBQUNBLElBR0MsTUFBUGIsRUFDRixPQUFPQSxFQUdULEdBQUlFLEVBQVFXLEdBQ1YsT0FBT2IsRUFFVCxHQUFtQixpQkFBVGEsRUFDUixPQUFPTCxFQUFXd0IsSUFBSWhDLEVBQUthLEVBQUtFLE1BQU0sTUFHeEMsSUFBSUMsRUFBY1gsRUFBT1EsRUFBSyxJQUM5QixPQUFLTixFQUFtQlAsRUFBS2dCLEdBSVYsSUFBaEJILEVBQUtoRCxPQU9DMkMsRUFBV3dCLElBQUloQyxFQUFJZ0IsR0FBY0gsRUFBSzFHLE1BQU0sS0FOL0NnRyxFQUFRSCxHQUNWQSxFQUFJMUMsT0FBTzBELEVBQWEsVUFFakJoQixFQUFJZ0IsR0FNUmhCLEdBYkVBLEdBZ0JKUSxFQUdULElBQUl5QixFQUFNbkMsSUFHVixPQUZBbUMsRUFBSUMsT0FBU3BDLEVBQ2JtQyxFQUFJRSxtQkFBcUJyQyxFQUFRLENBQUNvQix1QkFBdUIsSUFDbERlLE0sMEJDM1NUekosT0FBTzRKLGVBQWVySyxFQUFTLGFBQWMsQ0FDM0N5QixPQUFPLElBRVR6QixFQUFRc0ssZUFBaUJ0SyxFQUFRdUssaUJBQWMsRUFDL0MsSUFBSUEsRUFBYyxDQUNoQkMsS0FBTSxvQkFDTkMsS0FBTSxvQkFDTkMsZUFBZ0IsOEJBQ2hCQyxhQUFjLDRCQUNkQyxLQUFNLG9CQUNOQyxjQUFlLDhCQUVqQjdLLEVBQVF1SyxZQUFjQSxFQUN0QixJQUFJRCxFQUFpQixDQUNuQlEsS0FBTSxXQUNKLE1BQU8sQ0FDTHBKLEtBQU02SSxFQUFZQyxPQUd0Qk8sS0FBTSxXQUNKLE1BQU8sQ0FDTHJKLEtBQU02SSxFQUFZRSxPQUd0Qk8sYUFBYyxTQUFzQm5GLEdBQ2xDLE1BQU8sQ0FDTG5FLEtBQU02SSxFQUFZRyxlQUNsQjdFLE1BQU9BLElBR1hvRixXQUFZLFNBQW9CcEYsR0FDOUIsTUFBTyxDQUNMbkUsS0FBTTZJLEVBQVlJLGFBQ2xCOUUsTUFBT0EsSUFHWHFGLEtBQU0sU0FBY3JGLEdBQ2xCLE1BQU8sQ0FDTG5FLEtBQU02SSxFQUFZSyxLQUNsQi9FLE1BQU9BLElBR1hzRixhQUFjLFdBQ1osTUFBTyxDQUNMekosS0FBTTZJLEVBQVlNLGlCQUl4QjdLLEVBQVFzSyxlQUFpQkEsRywwQkN4Q3pCLFNBQVNjLEVBQW1CM0IsR0FBTyxPQU1uQyxTQUE0QkEsR0FBTyxHQUFJOUUsTUFBTXlELFFBQVFxQixHQUFNLENBQUUsSUFBSyxJQUFJcEIsRUFBSSxFQUFHZ0QsRUFBTyxJQUFJMUcsTUFBTThFLEVBQUkzRCxRQUFTdUMsRUFBSW9CLEVBQUkzRCxPQUFRdUMsSUFBT2dELEVBQUtoRCxHQUFLb0IsRUFBSXBCLEdBQU0sT0FBT2dELEdBTm5IQyxDQUFtQjdCLElBSTdELFNBQTBCOEIsR0FBUSxHQUFJQyxPQUFPQyxZQUFZaEwsT0FBTzhLLElBQWtELHVCQUF6QzlLLE9BQU9NLFVBQVVDLFNBQVNhLEtBQUswSixHQUFnQyxPQUFPNUcsTUFBTStHLEtBQUtILEdBSnJGSSxDQUFpQmxDLElBRXRGLFdBQWdDLE1BQU0sSUFBSXZHLFVBQVUsbURBRjBDMEksR0FROUYsSUFBSUMsRUFFQUMsRUFsQkpyTCxPQUFPNEosZUFBZXJLLEVBQVMsYUFBYyxDQUMzQ3lCLE9BQU8sSUFFVHpCLEVBQVFpRyxJQTRIUixTQUFhOEYsR0FDWEYsRUFBWUUsR0E1SGQvTCxFQUFRZ00sTUErRVIsU0FBZUMsRUFBUUMsR0F4RHJCSixFQUFnQixDQUNkSyxPQUFRLEdBQ1JDLEtBQU0sR0FDTkgsT0FBUSxHQUNSSSxLQUFNLEdBQ05DLEtBQU0sSUFzREpULElBQ0VVLFFBQVFDLE9BQ1ZWLEVBQWNLLE9BQVMsQ0FBQyxlQUFnQixxQkFBc0IsU0FBVUYsRUFBT3ZLLE1BQy9Fb0ssRUFBY0csT0FBU1EsRUFBWSxTQUFVQyxFQUFlVCxHQUM1REgsRUFBY00sS0FBT0ssRUFBWSxlQUFnQkMsRUFBa0JSLEtBRW5FSixFQUFjSyxPQUFTLENBQUMsb0JBQXFCRixFQUFPdkssTUFDcERvSyxFQUFjRyxPQUFTLENBQUMsU0FBVUEsR0FDbENILEVBQWNNLEtBQU8sQ0FBQyxlQUFnQkYsTUF6RjVDbE0sRUFBUTJNLElBZ0dSLFNBQWFDLEdBL0RiLElBU1FDLEVBQVVDLEVBQVdDLEVBQVdDLEVBQVdDLEVBYzNDQyxFQUFXQyxFQUFXQyxFQUFXQyxFQUFXQyxFQXRCOUNDLEVBQ0FwQixFQUNBQyxFQUNBQyxFQUNBSixFQUNBSyxFQTBEQVQsSUFDRVUsUUFBUUMsTUFDVlYsRUFBY08sS0FBT0ksRUFBWSxlQUFnQkMsRUFBa0JFLEdBRW5FZCxFQUFjTyxLQUFPLENBQUMsZUFBZ0JPLEdBbEV0Q1QsR0FEQW9CLEVBQWlCekIsR0FDT0ssT0FDeEJDLEVBQU9tQixFQUFlbkIsS0FDdEJDLEVBQU9rQixFQUFlbEIsS0FDdEJKLEVBQVNzQixFQUFldEIsT0FDeEJLLEVBQU9pQixFQUFlakIsS0FFdEJDLFFBQVFDLFFBR1RLLEVBQVdOLFNBQVNpQixlQUFlaEssTUFBTXFKLEVBQVV6QixFQUFtQmUsS0FFdEVXLEVBQVlQLFNBQVNrQixJQUFJakssTUFBTXNKLEVBQVcxQixFQUFtQmdCLEtBRTdEVyxFQUFZUixTQUFTa0IsSUFBSWpLLE1BQU11SixFQUFXM0IsRUFBbUJhLEtBRTdEZSxFQUFZVCxTQUFTa0IsSUFBSWpLLE1BQU13SixFQUFXNUIsRUFBbUJpQixLQUU3RFksRUFBWVYsU0FBU2tCLElBQUlqSyxNQUFNeUosRUFBVzdCLEVBQW1Ca0IsSUFFOURDLFFBQVFtQixjQUlQUixFQUFZWCxTQUFTa0IsSUFBSWpLLE1BQU0wSixFQUFXOUIsRUFBbUJlLEtBRTdEZ0IsRUFBWVosU0FBU2tCLElBQUlqSyxNQUFNMkosRUFBVy9CLEVBQW1CZ0IsS0FFN0RnQixFQUFZYixTQUFTa0IsSUFBSWpLLE1BQU00SixFQUFXaEMsRUFBbUJhLEtBRTdEb0IsRUFBWWQsU0FBU2tCLElBQUlqSyxNQUFNNkosRUFBV2pDLEVBQW1CaUIsS0FFN0RpQixFQUFhZixTQUFTa0IsSUFBSWpLLE1BQU04SixFQUFZbEMsRUFBbUJrQixPQWpFcEV0TSxFQUFReU4sSUE2R1IsV0FDRSxHQUFJNUIsRUFBVyxDQUNiLElBQUssSUFBSThCLEVBQU96SixVQUFVNEIsT0FBUXpDLEVBQU8sSUFBSXNCLE1BQU1nSixHQUFPQyxFQUFPLEVBQUdBLEVBQU9ELEVBQU1DLElBQy9FdkssRUFBS3VLLEdBQVExSixVQUFVMEosR0FHekI5QixFQUFjUSxLQUFPUixFQUFjUSxLQUFLdUIsT0FBTyxHQUFHQSxPQUFPeEssRUFBTSxDQUFDLFVBdEdwRSxJQUFJcUosRUFDUyxVQURUQSxFQUVNLFVBRk5BLEVBR1MsVUF1RGIsU0FBU0QsRUFBWXFCLEVBQU1DLEVBQU85RixHQUNoQyxNQUFPLENBQUMsS0FBSzRGLE9BQU9DLEdBQU8sVUFBVUQsT0FBT0UsRUFBTyx1QkFBd0I5RixLLDBCQ2pFN0UsU0FBUytGLEVBQWFDLEdBQ3BCLElBQUluRSxFQUFlNUYsVUFBVTRCLE9BQVMsUUFBc0J2QyxJQUFqQlcsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEdBRXZGLE9BQUlTLE1BQU15RCxRQUFRNkYsR0FDVEEsRUFDd0IsaUJBQWZBLEVBQ1QsQ0FBQ0EsR0FHSG5FLEVBdEJUckosT0FBTzRKLGVBQWVySyxFQUFTLGFBQWMsQ0FDM0N5QixPQUFPLElBRVR6QixFQUFRZ08sYUFBZUEsRUFDdkJoTyxFQUFRa08sVUFzQlIsU0FBbUJDLEdBQ2pCLFlBQWtDLElBQXBCQSxFQUFRQyxjQUFxRCxJQUFuQkQsRUFBUUUsYUFBa0QsSUFBakJGLEVBQVFHLE1BQXdCM0osTUFBTXlELFFBQVErRixFQUFRRSxTQUFXMUosTUFBTXlELFFBQVErRixFQUFRRyxPQXRCMUx0TyxFQUFRdU8sY0EwQlIsU0FBdUJOLEdBQ3JCLElBQUlPLEVBQVVSLEVBQWFDLEdBQzNCLE9BQU8sU0FBVWhDLEdBQ2YsT0FBT3VDLEVBQVFDLFFBQVF4QyxFQUFPdkssT0FBUyxJQTVCM0MxQixFQUFRME8sY0FpQ1IsU0FBdUJULEdBQ3JCLElBQUlPLEVBQVVSLEVBQWFDLEdBQzNCLE9BQU8sU0FBVWhDLEdBQ2YsT0FBT3VDLEVBQVFDLFFBQVF4QyxFQUFPdkssTUFBUSxJQW5DMUMxQixFQUFRMk8sZUF3Q1IsV0FDRSxJQUFLLElBQUloQixFQUFPekosVUFBVTRCLE9BQVE4SSxFQUFVLElBQUlqSyxNQUFNZ0osR0FBT0MsRUFBTyxFQUFHQSxFQUFPRCxFQUFNQyxJQUNsRmdCLEVBQVFoQixHQUFRMUosVUFBVTBKLEdBRzVCLE9BQU9nQixFQUFRbEcsUUFBTyxTQUFVMEQsRUFBTXlDLEdBQ3BDLE9BQU8sU0FBVTVDLEVBQVE2QyxFQUFjQyxHQUNyQyxPQUFPM0MsRUFBS0gsRUFBUTZDLEVBQWNDLElBQW9CRixFQUFLNUMsRUFBUTZDLEVBQWNDLE9BRWxGLFdBQ0QsT0FBTyxNQWpEWC9PLEVBQVFnUCxtQkFxRFIsU0FBNEJmLEdBQzFCLElBQUlPLEVBQVVSLEVBQWFDLEdBQzNCLE9BQU8sU0FBVWhDLEdBQ2YsT0FBT3VDLEVBQVFDLFFBQVF4QyxFQUFPdkssT0FBUyxFQUFJdUssRUFBT3ZLLEtBQU8sT0F2RDdEMUIsRUFBUWlQLFdBMkRSLFNBQW9CWCxFQUFNRixFQUFTQyxHQUNqQyxJQUFJN0IsRUFBUXRJLFVBQVU0QixPQUFTLFFBQXNCdkMsSUFBakJXLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxLQUNoRixNQUFPLENBQ0xvSyxLQUFNQSxFQUNORixRQUFTQSxFQUNUQyxPQUFRQSxFQUNSN0IsTUFBT0EsRUFDUDBDLGtCQUFtQmQsRUFDbkJ2SSxNQUFPeUksRUFBS3hJLE9BQ1pxSixNQUFPYixFQUFLeEksT0FBU3VJLEVBQU92SSxPQUFTLEssNEJDcEV6Q3JGLE9BQU80SixlQUFlckssRUFBUyxLQUEvQixDQUNFb1AsWUFBWSxFQUNaM0gsSUFBSyxXQUNILE9BQU80SCxFQUFTL0Usa0JBZXBCN0osT0FBTzRKLGVBQWVySyxFQUFTLEtBQS9CLENBQ0VvUCxZQUFZLEVBQ1ozSCxJQUFLLFdBQ0gsT0FBTzZILEVBQVNmLGlCQTJCcEI5TixPQUFPNEosZUFBZXJLLEVBQVMsS0FBL0IsQ0FDRW9QLFlBQVksRUFDWjNILElBQUssV0FDSCxPQUFPOEgsRUFBa0IsV0FJN0IsSUFNZ0N0SCxFQU41Qm9ILEVBQVcsRUFBUSxNQUVuQkMsRUFBVyxFQUFRLE1BRW5CQyxHQUU0QnRILEVBRk0sRUFBUSxRQUVPQSxFQUFJdUgsV0FBYXZILEVBQU0sQ0FBRSxRQUFXQSxJLDRCQ3RFekYsU0FBU3dILEVBQVF4SCxHQUF3VCxPQUF0T3dILEVBQXJELG1CQUFYakUsUUFBb0QsaUJBQXBCQSxPQUFPQyxTQUFtQyxTQUFpQnhELEdBQU8sY0FBY0EsR0FBMkIsU0FBaUJBLEdBQU8sT0FBT0EsR0FBeUIsbUJBQVh1RCxRQUF5QnZELEVBQUl5SCxjQUFnQmxFLFFBQVV2RCxJQUFRdUQsT0FBT3pLLFVBQVksZ0JBQWtCa0gsR0FBaUJ3SCxFQUFReEgsR0FFeFZ4SCxPQUFPNEosZUFBZXJLLEVBQVMsYUFBYyxDQUMzQ3lCLE9BQU8sSUFFVHpCLEVBQUEsUUEyRkEsU0FBa0IyUCxHQUNoQixJQUFJQyxFQUFZMUwsVUFBVTRCLE9BQVMsUUFBc0J2QyxJQUFqQlcsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEdBQ3BGNkgsRUFBTTlGLElBQUkySixFQUFVN0QsT0FFcEIsSUFpQ0k4RCxFQWpDQUMsRUFBU0MsRUFBYyxDQUN6QlosV0FBTzVMLEVBQ1B5TSxPQUFRLFdBQ04sT0FBTyxHQUVUQyxRQUFTLFdBQ1AsT0FBTyxNQUVUQyxTQUFVYixFQUFTOUUsWUFBWUMsS0FDL0IyRixTQUFVZCxFQUFTOUUsWUFBWUUsS0FDL0IyRixlQUFnQmYsRUFBUzlFLFlBQVlJLGFBQ3JDMEYsaUJBQWtCaEIsRUFBUzlFLFlBQVlHLGVBQ3ZDNEYsU0FBVWpCLEVBQVM5RSxZQUFZSyxLQUMvQjJGLGtCQUFrQixFQUNsQkMsb0JBQW9CLEVBQ3BCQyxZQUFZLEdBQ1hiLEVBQVcsQ0FDWmMsV0FBVyxFQUFJcEIsRUFBU3RCLGNBQWM0QixFQUFVYyxVQUFXLENBQUMsc0JBQzVEQyxrQkFBa0IsRUFBSXJCLEVBQVN0QixjQUFjNEIsRUFBVWUsaUJBQWtCLENBQUN0QixFQUFTOUUsWUFBWU0sa0JBSTdGK0YsRUFBY2QsRUFBT1MsaUJBQW1CLFNBQVVNLEVBQUs1RSxHQUN6RCxJQUFLLElBQUkwQixFQUFPekosVUFBVTRCLE9BQVFnTCxFQUFTLElBQUluTSxNQUFNZ0osRUFBTyxFQUFJQSxFQUFPLEVBQUksR0FBSUMsRUFBTyxFQUFHQSxFQUFPRCxFQUFNQyxJQUNwR2tELEVBQU9sRCxFQUFPLEdBQUsxSixVQUFVMEosR0FHL0IsT0FBT21DLEVBQWMsR0FBSWMsRUFBSyxDQUM1QnpDLFFBQVN1QixFQUFRbk0sV0FBTSxFQUFRLENBQUNxTixFQUFJekMsUUFBU25DLEdBQVE0QixPQUFPaUQsT0FFNUQsU0FBVUQsR0FDWixPQUFPQSxHQUdULE9BQU8sV0FDTCxJQUFJM0UsRUFBUWhJLFVBQVU0QixPQUFTLFFBQXNCdkMsSUFBakJXLFVBQVUsR0FBbUJBLFVBQVUsR0FBSzJMLEVBQzVFNUQsRUFBUy9ILFVBQVU0QixPQUFTLFFBQXNCdkMsSUFBakJXLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxHQUNqRjZILEVBQU1DLE1BQU1DLEVBQVFDLEdBR3BCLElBRkEsSUEyQkkyRSxFQTNCQTFDLEVBQVVqQyxFQUVMNkUsRUFBUTdNLFVBQVU0QixPQUFRZ0wsRUFBUyxJQUFJbk0sTUFBTW9NLEVBQVEsRUFBSUEsRUFBUSxFQUFJLEdBQUlDLEVBQVEsRUFBR0EsRUFBUUQsRUFBT0MsSUFDMUdGLEVBQU9FLEVBQVEsR0FBSzlNLFVBQVU4TSxHQUdoQyxJQUFLbkIsRUFBYyxDQUdqQixHQUZBOUQsRUFBTTBCLElBQUksaUNBRUlsSyxJQUFWMkksRUFBcUIsQ0FDdkIsSUFBSStFLEVBQXNCLENBQ3hCdlAsS0FBTSwrQkFFSnNLLEVBQVEyRCxFQUFRbk0sV0FBTSxFQUFRLENBQUMwSSxFQUFPK0UsR0FBcUJwRCxPQUFPaUQsSUFJdEUsT0FIQTNDLEVBQVUrQyxFQUFjbEYsRUFBTzhELEVBQU9VLG9CQUN0Q3pFLEVBQU0wQixJQUFJLDRDQUNWMUIsRUFBTVksSUFBSXdCLEdBQ0hBLEdBQ0UsRUFBSW1CLEVBQVNwQixXQUFXaEMsSUFDakNpQyxFQUFVMEIsRUFBZUMsRUFBT1UsbUJBQXFCdEUsR0FBUSxFQUFJb0QsRUFBU0wsWUFBWS9DLEVBQU1vQyxLQUFNcEMsRUFBTWtDLFFBQVNsQyxFQUFNbUMsUUFDdkh0QyxFQUFNMEIsSUFBSSx3REFBeURvQyxLQUVuRTFCLEVBQVUwQixFQUFlcUIsRUFBY2hGLEVBQU80RCxFQUFPVSxvQkFDckR6RSxFQUFNMEIsSUFBSSw0REFBNkRvQyxJQU0zRSxPQUFRNUQsRUFBT3ZLLE1BQ2IsVUFBSzZCLEVBQ0gsT0FBTzRLLEVBRVQsS0FBSzJCLEVBQU9JLFNBSVYsT0FIQVcsRUFBTTNGLEVBQUtpRCxHQUFVLEdBQ3JCcEMsRUFBTTBCLElBQUksZ0JBQ1YxQixFQUFNWSxJQUFJa0UsR0FDSEQsRUFBWXBOLFdBQU0sRUFBUSxDQUFDcU4sRUFBSzVFLEdBQVE0QixPQUFPaUQsSUFFeEQsS0FBS2hCLEVBQU9LLFNBSVYsT0FIQVUsRUFBTTNGLEVBQUtpRCxFQUFTLEdBQ3BCcEMsRUFBTTBCLElBQUksZ0JBQ1YxQixFQUFNWSxJQUFJa0UsR0FDSEQsRUFBWXBOLFdBQU0sRUFBUSxDQUFDcU4sRUFBSzVFLEdBQVE0QixPQUFPaUQsSUFFeEQsS0FBS2hCLEVBQU9NLGVBSVYsT0FIQVMsRUFBTTVGLEVBQVdrRCxFQUFTbEMsRUFBT3BHLE9BQ2pDa0csRUFBTTBCLElBQUkseUJBQXlCSSxPQUFPNUIsRUFBT3BHLFFBQ2pEa0csRUFBTVksSUFBSWtFLEdBQ0hELEVBQVlwTixXQUFNLEVBQVEsQ0FBQ3FOLEVBQUs1RSxHQUFRNEIsT0FBT2lELElBRXhELEtBQUtoQixFQUFPTyxpQkFJVixPQUhBUSxFQUFNN0YsRUFBYW1ELEVBQVNsQyxFQUFPcEcsT0FDbkNrRyxFQUFNMEIsSUFBSSwyQkFBMkJJLE9BQU81QixFQUFPcEcsUUFDbkRrRyxFQUFNWSxJQUFJa0UsR0FDSEQsRUFBWXBOLFdBQU0sRUFBUSxDQUFDcU4sRUFBSzVFLEdBQVE0QixPQUFPaUQsSUFFeEQsS0FBS2hCLEVBQU9RLFNBSVYsT0FIQU8sRUFBTTNGLEVBQUtpRCxFQUFTbEMsRUFBT3BHLE9BQzNCa0csRUFBTTBCLElBQUksbUJBQW1CSSxPQUFPNUIsRUFBT3BHLFFBQzNDa0csRUFBTVksSUFBSWtFLEdBQ0hELEVBQVlwTixXQUFNLEVBQVEsQ0FBQ3FOLEVBQUs1RSxHQUFRNEIsT0FBT2lELElBRXhELEtBQUtLLEVBQWdDbEYsRUFBT3ZLLEtBQU1vTyxFQUFPYSxrQkFJdkQsT0FIQUUsRUFBTUssRUFBYy9DLEVBQVFDLFFBQVMwQixFQUFPVSxvQkFDNUN6RSxFQUFNMEIsSUFBSSx3QkFDVjFCLEVBQU1ZLElBQUlrRSxHQUNIRCxFQUFZcE4sV0FBTSxFQUFRLENBQUNxTixFQUFLNUUsR0FBUTRCLE9BQU9pRCxJQUV4RCxRQUdFLEdBRkFELEVBQU1sQixFQUFRbk0sV0FBTSxFQUFRLENBQUMySyxFQUFRQyxRQUFTbkMsR0FBUTRCLE9BQU9pRCxJQUV6RGhCLEVBQU9ZLFVBQVVVLE1BQUssU0FBVUMsR0FDbEMsT0FBT0EsSUFBZXBGLEVBQU92SyxRQUk3QixPQUZBcUssRUFBTTBCLElBQUksb0NBQ1YxQixFQUFNWSxJQUFJa0QsR0FDSEEsRUFHVCxHQUFJMUIsRUFBUWUsb0JBQXNCMkIsRUFHaEMsT0FBTzFDLEVBS1QsSUFBSW1ELEVBQW9DLG1CQUFsQnhCLEVBQU9FLFNBQTBCRixFQUFPRSxPQUFPL0QsRUFBUTRFLEVBQUsxQyxHQUVsRixHQUFJbUQsRUFBVSxDQUVaLElBQUlDLEdBQWdCLEVBQUlqQyxFQUFTTCxZQUFZZCxFQUFRRyxLQUFNdUMsRUFBSzFDLEVBQVFFLE9BQVFGLEVBQVEzQixPQVF4RixPQU5Lc0QsRUFBT1csYUFDVmMsRUFBY3JDLGtCQUFvQmYsRUFBUWUsbUJBRzVDbkQsRUFBTTBCLElBQUksaURBQ1YxQixFQUFNWSxJQUFJNEUsR0FDSEEsRUFLVCxJQUFJL0UsRUFBUXNELEVBQU9HLFFBQVFoRSxFQUFRNEUsRUFBSzFDLEdBRXhDLEdBQWEsTUFBVDNCLEdBQWlCQSxJQUFVMkIsRUFBUTNCLE1BQU8sQ0FFNUMsSUFBSWdGLEdBQWUsRUFBSWxDLEVBQVNMLFlBQVlkLEVBQVFHLEtBQU11QyxFQUFLMUMsRUFBUUUsT0FBUUYsRUFBUTNCLE9BR3ZGLE9BRkFULEVBQU0wQixJQUFJLHVEQUNWMUIsRUFBTVksSUFBSTZFLEdBQ0hBLEVBT1QsT0FIQXJELEVBQVU1RSxFQUFPNEUsRUFBUzBDLEVBQUtmLEVBQU9YLE1BQU8zQyxHQUM3Q1QsRUFBTTBCLElBQUksbUNBQ1YxQixFQUFNWSxJQUFJd0IsR0FDSEEsS0ExUGYsSUFBSXBDLEVBUUosU0FBaUM5RCxHQUFPLEdBQUlBLEdBQU9BLEVBQUl1SCxXQUFjLE9BQU92SCxFQUFPLEdBQVksT0FBUkEsR0FBaUMsV0FBakJ3SCxFQUFReEgsSUFBb0MsbUJBQVJBLEVBQXNCLE1BQU8sQ0FBRSxRQUFXQSxHQUFTLElBQUlWLEVBQVFrSyxJQUE0QixHQUFJbEssR0FBU0EsRUFBTUMsSUFBSVMsR0FBUSxPQUFPVixFQUFNRSxJQUFJUSxHQUFRLElBQUl5SixFQUFTLEdBQVFDLEVBQXdCbFIsT0FBTzRKLGdCQUFrQjVKLE9BQU9tUix5QkFBMEIsSUFBSyxJQUFJdEwsS0FBTzJCLEVBQU8sR0FBSXhILE9BQU9NLFVBQVVxRSxlQUFldkQsS0FBS29HLEVBQUszQixHQUFNLENBQUUsSUFBSXVMLEVBQU9GLEVBQXdCbFIsT0FBT21SLHlCQUF5QjNKLEVBQUszQixHQUFPLEtBQVV1TCxJQUFTQSxFQUFLcEssS0FBT29LLEVBQUs1TCxLQUFReEYsT0FBTzRKLGVBQWVxSCxFQUFRcEwsRUFBS3VMLEdBQWdCSCxFQUFPcEwsR0FBTzJCLEVBQUkzQixHQUE0RSxPQUFoRW9MLEVBQWdCLFFBQUl6SixFQUFTVixHQUFTQSxFQUFNdEIsSUFBSWdDLEVBQUt5SixHQUFrQkEsRUFSenRCSSxDQUF3QixFQUFRLE9BRXhDekMsRUFBVyxFQUFRLE1BRW5CQyxFQUFXLEVBQVEsTUFFdkIsU0FBU21DLElBQTZCLEdBQXVCLG1CQUFaTSxRQUF3QixPQUFPLEtBQU0sSUFBSXhLLEVBQVEsSUFBSXdLLFFBQTZGLE9BQWxGTixFQUEyQixXQUFzQyxPQUFPbEssR0FBaUJBLEVBSTFNLFNBQVN5SyxFQUFRckwsRUFBUXNMLEdBQWtCLElBQUloTixFQUFPeEUsT0FBT3dFLEtBQUswQixHQUFTLEdBQUlsRyxPQUFPeVIsc0JBQXVCLENBQUUsSUFBSUMsRUFBVTFSLE9BQU95UixzQkFBc0J2TCxHQUFhc0wsSUFBZ0JFLEVBQVVBLEVBQVFuQyxRQUFPLFNBQVVvQyxHQUFPLE9BQU8zUixPQUFPbVIseUJBQXlCakwsRUFBUXlMLEdBQUtoRCxlQUFnQm5LLEVBQUsyQyxLQUFLcEUsTUFBTXlCLEVBQU1rTixHQUFZLE9BQU9sTixFQUU5VSxTQUFTOEssRUFBY3NDLEdBQVUsSUFBSyxJQUFJaEssRUFBSSxFQUFHQSxFQUFJbkUsVUFBVTRCLE9BQVF1QyxJQUFLLENBQUUsSUFBSWlLLEVBQXlCLE1BQWhCcE8sVUFBVW1FLEdBQWFuRSxVQUFVbUUsR0FBSyxHQUFRQSxFQUFJLEVBQUsySixFQUFRdlIsT0FBTzZSLElBQVMsR0FBTUMsU0FBUSxTQUFVak0sR0FBT2tNLEVBQWdCSCxFQUFRL0wsRUFBS2dNLEVBQU9oTSxPQUFzQjdGLE9BQU9nUywwQkFBNkJoUyxPQUFPaVMsaUJBQWlCTCxFQUFRNVIsT0FBT2dTLDBCQUEwQkgsSUFBbUJOLEVBQVF2UixPQUFPNlIsSUFBU0MsU0FBUSxTQUFVak0sR0FBTzdGLE9BQU80SixlQUFlZ0ksRUFBUS9MLEVBQUs3RixPQUFPbVIseUJBQXlCVSxFQUFRaE0sT0FBZSxPQUFPK0wsRUFFN2dCLFNBQVNHLEVBQWdCdkssRUFBSzNCLEVBQUs3RSxHQUFpSyxPQUFwSjZFLEtBQU8yQixFQUFPeEgsT0FBTzRKLGVBQWVwQyxFQUFLM0IsRUFBSyxDQUFFN0UsTUFBT0EsRUFBTzJOLFlBQVksRUFBTXVELGNBQWMsRUFBTUMsVUFBVSxJQUFrQjNLLEVBQUkzQixHQUFPN0UsRUFBZ0J3RyxFQUUzTSxTQUFTbUQsRUFBbUIzQixHQUFPLE9BTW5DLFNBQTRCQSxHQUFPLEdBQUk5RSxNQUFNeUQsUUFBUXFCLEdBQU0sQ0FBRSxJQUFLLElBQUlwQixFQUFJLEVBQUdnRCxFQUFPLElBQUkxRyxNQUFNOEUsRUFBSTNELFFBQVN1QyxFQUFJb0IsRUFBSTNELE9BQVF1QyxJQUFPZ0QsRUFBS2hELEdBQUtvQixFQUFJcEIsR0FBTSxPQUFPZ0QsR0FObkhDLENBQW1CN0IsSUFJN0QsU0FBMEI4QixHQUFRLEdBQUlDLE9BQU9DLFlBQVloTCxPQUFPOEssSUFBa0QsdUJBQXpDOUssT0FBT00sVUFBVUMsU0FBU2EsS0FBSzBKLEdBQWdDLE9BQU81RyxNQUFNK0csS0FBS0gsR0FKckZJLENBQWlCbEMsSUFFdEYsV0FBZ0MsTUFBTSxJQUFJdkcsVUFBVSxtREFGMEMwSSxHQVE5RixTQUFTc0YsRUFBY2hGLEVBQU9zRSxHQUk1QixJQUFJckMsR0FBVSxFQUFJbUIsRUFBU0wsWUFBWSxHQUFJL0MsRUFBTyxJQU1sRCxPQUpJc0UsSUFDRnJDLEVBQVFlLGtCQUFvQixNQUd2QmYsRUFNVCxTQUFTNUUsRUFBTzRFLEVBQVNqQyxFQUFPaUQsRUFBTzNDLEdBQ3JDLElBQUlxRyxFQUFzQjFFLEVBQVFHLEtBQUt4SSxPQUFTLEVBQ2hEaUcsRUFBTTBCLElBQUksWUFBYXZCLEdBQ3ZCSCxFQUFNMEIsSUFBSSxhQUFjMEIsRUFBUTBELEdBQ2hDLElBQUl2RSxFQUFPSCxFQUFRRyxLQUNmWSxFQUFvQmYsRUFBUWUsa0JBQzVCNEQsRUFBb0IzRCxHQUFTQSxHQUFTMEQsRUFDdENFLEVBQWF6RSxFQUFLbE0sTUFBTTBRLEVBQW9CLEVBQUksR0FDaERFLEVBQStCLE1BQXJCOUQsRUFBNEIsR0FBR3JCLE9BQU96QyxFQUFtQjJILEdBQWEsQ0FBQzdELElBQXNCNkQsRUFDM0csT0FBTyxFQUFJekQsRUFBU0wsWUFBWStELEVBQVM5RyxFQUFPLEdBQUlNLEdBSXRELFNBQVN4QixFQUFhbUQsRUFBU3RJLEdBQzdCLEdBQUlBLEVBQVEsR0FBS0EsR0FBU3NJLEVBQVFFLE9BQU92SSxPQUFRLE9BQU9xSSxFQUN4RCxJQUFJRyxFQUFPSCxFQUFRRyxLQUNmRCxFQUFTRixFQUFRRSxPQUNqQmEsRUFBb0JmLEVBQVFlLGtCQUM1QjhELEVBQVUsR0FBR25GLE9BQU96QyxFQUFtQmtELEdBQU8sQ0FBQ1ksR0FBb0I5RCxFQUFtQmlELEVBQU9qTSxNQUFNLEVBQUd5RCxLQUN0R29OLEVBQWE1RSxFQUFPeEksR0FDcEJxTixFQUFZN0UsRUFBT2pNLE1BQU15RCxFQUFRLEdBQ3JDLE9BQU8sRUFBSXlKLEVBQVNMLFlBQVkrRCxFQUFTQyxFQUFZQyxHQUl2RCxTQUFTakksRUFBV2tELEVBQVN0SSxHQUMzQixHQUFJQSxFQUFRLEdBQUtBLEdBQVNzSSxFQUFRRyxLQUFLeEksT0FBUSxPQUFPcUksRUFDdEQsSUFBSUcsRUFBT0gsRUFBUUcsS0FDZkQsRUFBU0YsRUFBUUUsT0FDakJhLEVBQW9CZixFQUFRZSxrQkFDNUI4RCxFQUFVMUUsRUFBS2xNLE1BQU0sRUFBR3lELEdBQ3hCcU4sRUFBWSxHQUFHckYsT0FBT3pDLEVBQW1Ca0QsRUFBS2xNLE1BQU15RCxFQUFRLElBQUssQ0FBQ3FKLEdBQW9COUQsRUFBbUJpRCxJQUN6RzRFLEVBQWEzRSxFQUFLekksR0FDdEIsT0FBTyxFQUFJeUosRUFBU0wsWUFBWStELEVBQVNDLEVBQVlDLEdBSXZELFNBQVNoSSxFQUFLaUQsRUFBU2dGLEdBQ3JCLE9BQUlBLEVBQUksRUFBVW5JLEVBQWFtRCxFQUFTZ0YsRUFBSSxHQUN4Q0EsRUFBSSxFQUFVbEksRUFBV2tELEVBQVNBLEVBQVFHLEtBQUt4SSxPQUFTcU4sR0FDckRoRixFQUlULFNBQVNnRCxFQUFnQ0UsRUFBWVYsR0FDbkQsT0FBT0EsRUFBaUJsQyxRQUFRNEMsSUFBZSxFQUFJQSxHQUFjQSxJLGVDOUZuRSxJQUFJK0IsRUFBYSxFQUFRLE1BQ3JCQyxFQUFjLEVBQVEsS0FFdEJDLEVBQWFwUSxVQUdqQm5ELEVBQU9DLFFBQVUsU0FBVXVULEdBQ3pCLEdBQUlILEVBQVdHLEdBQVcsT0FBT0EsRUFDakMsTUFBTUQsRUFBV0QsRUFBWUUsR0FBWSx3QixlQ1IzQyxJQUFJSCxFQUFhLEVBQVEsTUFFckJJLEVBQVVDLE9BQ1ZILEVBQWFwUSxVQUVqQm5ELEVBQU9DLFFBQVUsU0FBVXVULEdBQ3pCLEdBQXVCLGlCQUFaQSxHQUF3QkgsRUFBV0csR0FBVyxPQUFPQSxFQUNoRSxNQUFNRCxFQUFXLGFBQWVFLEVBQVFELEdBQVkscUIsZUNQdEQsSUFBSUcsRUFBa0IsRUFBUSxNQUMxQnZKLEVBQVMsRUFBUSxNQUNqQkUsRUFBaUIsVUFFakJzSixFQUFjRCxFQUFnQixlQUM5QkUsRUFBaUJqUCxNQUFNNUQsVUFJUXdDLE1BQS9CcVEsRUFBZUQsSUFDakJ0SixFQUFldUosRUFBZ0JELEVBQWEsQ0FDMUNoQixjQUFjLEVBQ2RsUixNQUFPMEksRUFBTyxRQUtsQnBLLEVBQU9DLFFBQVUsU0FBVXNHLEdBQ3pCc04sRUFBZUQsR0FBYXJOLElBQU8sSSw0QkNqQnJDLElBQUl1TixFQUFTLGVBSWI5VCxFQUFPQyxRQUFVLFNBQVU4VCxFQUFHak8sRUFBT2tPLEdBQ25DLE9BQU9sTyxHQUFTa08sRUFBVUYsRUFBT0MsRUFBR2pPLEdBQU9DLE9BQVMsSyxlQ050RCxJQUFJa08sRUFBZ0IsRUFBUSxNQUV4QlYsRUFBYXBRLFVBRWpCbkQsRUFBT0MsUUFBVSxTQUFVaVUsRUFBSUMsR0FDN0IsR0FBSUYsRUFBY0UsRUFBV0QsR0FBSyxPQUFPQSxFQUN6QyxNQUFNWCxFQUFXLDBCLGVDTm5CLElBQUk5UixFQUFXLEVBQVEsTUFFbkJnUyxFQUFVQyxPQUNWSCxFQUFhcFEsVUFHakJuRCxFQUFPQyxRQUFVLFNBQVV1VCxHQUN6QixHQUFJL1IsRUFBUytSLEdBQVcsT0FBT0EsRUFDL0IsTUFBTUQsRUFBV0UsRUFBUUQsR0FBWSx1QixlQ1B2QyxJQUFJWSxFQUFRLEVBQVEsTUFFcEJwVSxFQUFPQyxRQUFVbVUsR0FBTSxXQUNyQixHQUEwQixtQkFBZkMsWUFBMkIsQ0FDcEMsSUFBSUMsRUFBUyxJQUFJRCxZQUFZLEdBRXpCM1QsT0FBTzZULGFBQWFELElBQVM1VCxPQUFPNEosZUFBZWdLLEVBQVEsSUFBSyxDQUFFNVMsTUFBTyxTLDRCQ05qRixJQUFJOFMsRUFBVyxlQUdYQyxFQUZzQixFQUFRLEtBRWRDLENBQW9CLFdBSXhDMVUsRUFBT0MsUUFBV3dVLEVBR2QsR0FBR2pDLFFBSDJCLFNBQWlCbUMsR0FDakQsT0FBT0gsRUFBU3BRLEtBQU11USxFQUFZeFEsVUFBVTRCLE9BQVMsRUFBSTVCLFVBQVUsUUFBS1gsSyxlQ1QxRSxJQUFJb1IsRUFBa0IsRUFBUSxNQUMxQkMsRUFBa0IsRUFBUSxNQUMxQkMsRUFBb0IsRUFBUSxNQUc1QkMsRUFBZSxTQUFVQyxHQUMzQixPQUFPLFNBQVVDLEVBQU9DLEVBQUlDLEdBQzFCLElBR0l6VCxFQUhBMFQsRUFBSVIsRUFBZ0JLLEdBQ3BCbFAsRUFBUytPLEVBQWtCTSxHQUMzQnRQLEVBQVErTyxFQUFnQk0sRUFBV3BQLEdBSXZDLEdBQUlpUCxHQUFlRSxHQUFNQSxHQUFJLEtBQU9uUCxFQUFTRCxHQUczQyxJQUZBcEUsRUFBUTBULEVBQUV0UCxPQUVHcEUsRUFBTyxPQUFPLE9BRXRCLEtBQU1xRSxFQUFTRCxFQUFPQSxJQUMzQixJQUFLa1AsR0FBZWxQLEtBQVNzUCxJQUFNQSxFQUFFdFAsS0FBV29QLEVBQUksT0FBT0YsR0FBZWxQLEdBQVMsRUFDbkYsT0FBUWtQLElBQWdCLElBSTlCaFYsRUFBT0MsUUFBVSxDQUdmb1YsU0FBVU4sR0FBYSxHQUd2QnJHLFFBQVNxRyxHQUFhLEssY0M5QnhCLElBQUlsTSxFQUFPLEVBQVEsTUFDZnlNLEVBQWMsRUFBUSxNQUN0QkMsRUFBZ0IsRUFBUSxNQUN4QkMsRUFBVyxFQUFRLE1BQ25CVixFQUFvQixFQUFRLE1BQzVCVyxFQUFxQixFQUFRLE1BRTdCNU4sRUFBT3lOLEVBQVksR0FBR3pOLE1BR3RCa04sRUFBZSxTQUFVVyxHQUMzQixJQUFJQyxFQUFpQixHQUFSRCxFQUNURSxFQUFvQixHQUFSRixFQUNaRyxFQUFrQixHQUFSSCxFQUNWSSxFQUFtQixHQUFSSixFQUNYSyxFQUF3QixHQUFSTCxFQUNoQk0sRUFBMkIsR0FBUk4sRUFDbkJPLEVBQW1CLEdBQVJQLEdBQWFLLEVBQzVCLE9BQU8sU0FBVWQsRUFBT04sRUFBWXVCLEVBQU1DLEdBU3hDLElBUkEsSUFPSXpVLEVBQU9rQixFQVBQd1MsRUFBSUksRUFBU1AsR0FDYnJVLEVBQU8yVSxFQUFjSCxHQUNyQmdCLEVBQWdCdk4sRUFBSzhMLEVBQVl1QixHQUNqQ25RLEVBQVMrTyxFQUFrQmxVLEdBQzNCa0YsRUFBUSxFQUNSc0UsRUFBUytMLEdBQWtCVixFQUMzQm5ELEVBQVNxRCxFQUFTdkwsRUFBTzZLLEVBQU9sUCxHQUFVNlAsR0FBYUksRUFBbUI1TCxFQUFPNkssRUFBTyxRQUFLelIsRUFFM0Z1QyxFQUFTRCxFQUFPQSxJQUFTLElBQUltUSxHQUFZblEsS0FBU2xGLEtBRXREZ0MsRUFBU3dULEVBRFQxVSxFQUFRZCxFQUFLa0YsR0FDaUJBLEVBQU9zUCxHQUNqQ00sR0FDRixHQUFJQyxFQUFRckQsRUFBT3hNLEdBQVNsRCxPQUN2QixHQUFJQSxFQUFRLE9BQVE4UyxHQUN2QixLQUFLLEVBQUcsT0FBTyxFQUNmLEtBQUssRUFBRyxPQUFPaFUsRUFDZixLQUFLLEVBQUcsT0FBT29FLEVBQ2YsS0FBSyxFQUFHK0IsRUFBS3lLLEVBQVE1USxRQUNoQixPQUFRZ1UsR0FDYixLQUFLLEVBQUcsT0FBTyxFQUNmLEtBQUssRUFBRzdOLEVBQUt5SyxFQUFRNVEsR0FJM0IsT0FBT3FVLEdBQWlCLEVBQUlGLEdBQVdDLEVBQVdBLEVBQVd4RCxJQUlqRXRTLEVBQU9DLFFBQVUsQ0FHZnVTLFFBQVN1QyxFQUFhLEdBR3RCdE8sSUFBS3NPLEVBQWEsR0FHbEI5RSxPQUFROEUsRUFBYSxHQUdyQjFELEtBQU0wRCxFQUFhLEdBR25Cc0IsTUFBT3RCLEVBQWEsR0FHcEJ1QixLQUFNdkIsRUFBYSxHQUduQndCLFVBQVd4QixFQUFhLEdBR3hCeUIsYUFBY3pCLEVBQWEsSyxlQ3ZFN0IsSUFBSVgsRUFBUSxFQUFRLE1BQ2hCVCxFQUFrQixFQUFRLE1BQzFCOEMsRUFBYSxFQUFRLE1BRXJCQyxFQUFVL0MsRUFBZ0IsV0FFOUIzVCxFQUFPQyxRQUFVLFNBQVUwVyxHQUl6QixPQUFPRixHQUFjLEtBQU9yQyxHQUFNLFdBQ2hDLElBQUk5TixFQUFRLEdBS1osT0FKa0JBLEVBQU1xSixZQUFjLElBQzFCK0csR0FBVyxXQUNyQixNQUFPLENBQUVFLElBQUssSUFFMkIsSUFBcEN0USxFQUFNcVEsR0FBYUUsU0FBU0QsUyw0QkNmdkMsSUFBSXhDLEVBQVEsRUFBUSxNQUVwQnBVLEVBQU9DLFFBQVUsU0FBVTBXLEVBQWFuRCxHQUN0QyxJQUFJc0QsRUFBUyxHQUFHSCxHQUNoQixRQUFTRyxHQUFVMUMsR0FBTSxXQUV2QjBDLEVBQU9oVixLQUFLLEtBQU0wUixHQUFZLFdBQWMsT0FBTyxHQUFNLFEsZUNQN0QsSUFBSXVELEVBQVksRUFBUSxNQUNwQnZCLEVBQVcsRUFBUSxNQUNuQkQsRUFBZ0IsRUFBUSxNQUN4QlQsRUFBb0IsRUFBUSxNQUU1QnZCLEVBQWFwUSxVQUdiNFIsRUFBZSxTQUFVaUMsR0FDM0IsT0FBTyxTQUFVZCxFQUFNdkIsRUFBWXNDLEVBQWlCQyxHQUNsREgsRUFBVXBDLEdBQ1YsSUFBSVMsRUFBSUksRUFBU1UsR0FDYnRWLEVBQU8yVSxFQUFjSCxHQUNyQnJQLEVBQVMrTyxFQUFrQk0sR0FDM0J0UCxFQUFRa1IsRUFBV2pSLEVBQVMsRUFBSSxFQUNoQ3VDLEVBQUkwTyxHQUFZLEVBQUksRUFDeEIsR0FBSUMsRUFBa0IsRUFBRyxPQUFhLENBQ3BDLEdBQUluUixLQUFTbEYsRUFBTSxDQUNqQnNXLEVBQU90VyxFQUFLa0YsR0FDWkEsR0FBU3dDLEVBQ1QsTUFHRixHQURBeEMsR0FBU3dDLEVBQ0wwTyxFQUFXbFIsRUFBUSxFQUFJQyxHQUFVRCxFQUNuQyxNQUFNeU4sRUFBVywrQ0FHckIsS0FBTXlELEVBQVdsUixHQUFTLEVBQUlDLEVBQVNELEVBQU9BLEdBQVN3QyxFQUFPeEMsS0FBU2xGLElBQ3JFc1csRUFBT3ZDLEVBQVd1QyxFQUFNdFcsRUFBS2tGLEdBQVFBLEVBQU9zUCxJQUU5QyxPQUFPOEIsSUFJWGxYLEVBQU9DLFFBQVUsQ0FHZmtYLEtBQU1wQyxHQUFhLEdBR25CcUMsTUFBT3JDLEdBQWEsSyxlQ3hDdEIsSUFBSUYsRUFBa0IsRUFBUSxNQUMxQkMsRUFBb0IsRUFBUSxNQUM1QnVDLEVBQWlCLEVBQVEsTUFFekJDLEVBQVMxUyxNQUNUeEQsRUFBTUQsS0FBS0MsSUFFZnBCLEVBQU9DLFFBQVUsU0FBVW1WLEVBQUduSixFQUFPVyxHQUtuQyxJQUpBLElBQUk3RyxFQUFTK08sRUFBa0JNLEdBQzNCbUMsRUFBSTFDLEVBQWdCNUksRUFBT2xHLEdBQzNCeVIsRUFBTTNDLE9BQXdCclIsSUFBUm9KLEVBQW9CN0csRUFBUzZHLEVBQUs3RyxHQUN4RG5ELEVBQVMwVSxFQUFPbFcsRUFBSW9XLEVBQU1ELEVBQUcsSUFDeEJuRSxFQUFJLEVBQUdtRSxFQUFJQyxFQUFLRCxJQUFLbkUsSUFBS2lFLEVBQWV6VSxFQUFRd1EsRUFBR2dDLEVBQUVtQyxJQUUvRCxPQURBM1UsRUFBT21ELE9BQVNxTixFQUNUeFEsSSxlQ2RULElBQUl5RixFQUFVLEVBQVEsTUFDbEJvUCxFQUFnQixFQUFRLE1BQ3hCaFcsRUFBVyxFQUFRLE1BR25CaVYsRUFGa0IsRUFBUSxLQUVoQi9DLENBQWdCLFdBQzFCMkQsRUFBUzFTLE1BSWI1RSxFQUFPQyxRQUFVLFNBQVV5WCxHQUN6QixJQUFJQyxFQVNGLE9BUkV0UCxFQUFRcVAsS0FDVkMsRUFBSUQsRUFBYy9ILGFBRWQ4SCxFQUFjRSxLQUFPQSxJQUFNTCxHQUFValAsRUFBUXNQLEVBQUUzVyxhQUMxQ1MsRUFBU2tXLElBRU4sUUFEVkEsRUFBSUEsRUFBRWpCLE9BRndEaUIsT0FBSW5VLFNBS3ZEQSxJQUFObVUsRUFBa0JMLEVBQVNLLEksZUNwQnRDLElBQUlDLEVBQTBCLEVBQVEsTUFJdEM1WCxFQUFPQyxRQUFVLFNBQVV5WCxFQUFlM1IsR0FDeEMsT0FBTyxJQUFLNlIsRUFBd0JGLEdBQTdCLENBQXdELElBQVgzUixFQUFlLEVBQUlBLEssZUNMekUsSUFFSThSLEVBRmtCLEVBQVEsS0FFZmxFLENBQWdCLFlBQzNCbUUsR0FBZSxFQUVuQixJQUNFLElBQUlDLEVBQVMsRUFDVEMsRUFBcUIsQ0FDdkIxTCxLQUFNLFdBQ0osTUFBTyxDQUFFMkwsT0FBUUYsTUFFbkIsT0FBVSxXQUNSRCxHQUFlLElBR25CRSxFQUFtQkgsR0FBWSxXQUM3QixPQUFPelQsTUFHVFEsTUFBTStHLEtBQUtxTSxHQUFvQixXQUFjLE1BQU0sS0FDbkQsTUFBT0UsSUFFVGxZLEVBQU9DLFFBQVUsU0FBVWdGLEVBQU1rVCxHQUMvQixJQUFLQSxJQUFpQkwsRUFBYyxPQUFPLEVBQzNDLElBQUlNLEdBQW9CLEVBQ3hCLElBQ0UsSUFBSXhSLEVBQVMsR0FDYkEsRUFBT2lSLEdBQVksV0FDakIsTUFBTyxDQUNMdkwsS0FBTSxXQUNKLE1BQU8sQ0FBRTJMLEtBQU1HLEdBQW9CLE1BSXpDblQsRUFBSzJCLEdBQ0wsTUFBT3NSLElBQ1QsT0FBT0UsSSxlQ3BDVCxJQUFJOUMsRUFBYyxFQUFRLE1BRXRCclUsRUFBV3FVLEVBQVksR0FBR3JVLFVBQzFCb1gsRUFBYy9DLEVBQVksR0FBR2pULE9BRWpDckMsRUFBT0MsUUFBVSxTQUFVaVUsR0FDekIsT0FBT21FLEVBQVlwWCxFQUFTaVQsR0FBSyxHQUFJLEssZUNOdkMsSUFBSW9FLEVBQXdCLEVBQVEsTUFDaENqRixFQUFhLEVBQVEsTUFDckJrRixFQUFhLEVBQVEsTUFHckJDLEVBRmtCLEVBQVEsS0FFVjdFLENBQWdCLGVBQ2hDOEUsRUFBVS9YLE9BR1ZnWSxFQUF1RSxhQUFuREgsRUFBVyxXQUFjLE9BQU9wVSxVQUFyQixJQVVuQ25FLEVBQU9DLFFBQVVxWSxFQUF3QkMsRUFBYSxTQUFVckUsR0FDOUQsSUFBSWtCLEVBQUdyTyxFQUFLbkUsRUFDWixZQUFjWSxJQUFQMFEsRUFBbUIsWUFBcUIsT0FBUEEsRUFBYyxPQUVPLGlCQUFqRG5OLEVBWEQsU0FBVW1OLEVBQUkzTixHQUN6QixJQUNFLE9BQU8yTixFQUFHM04sR0FDVixNQUFPMlIsS0FRU1MsQ0FBT3ZELEVBQUlxRCxFQUFRdkUsR0FBS3NFLElBQThCelIsRUFFcEUyUixFQUFvQkgsRUFBV25ELEdBRUgsV0FBM0J4UyxFQUFTMlYsRUFBV25ELEtBQW1CL0IsRUFBVytCLEVBQUV3RCxRQUFVLFlBQWNoVyxJLDRCQzFCbkYsSUFBSTBTLEVBQWMsRUFBUSxNQUN0QnVELEVBQWlCLEVBQVEsTUFDekJDLEVBQWMsb0JBQ2RDLEVBQVcsRUFBUSxNQUNuQnRYLEVBQVcsRUFBUSxNQUNuQnVYLEVBQWEsRUFBUSxNQUNyQkMsRUFBVSxFQUFRLE1BQ2xCQyxFQUF1QixFQUFRLEtBQy9CQyxFQUFTLEVBQVEsTUFDakJDLEVBQXNCLEVBQVEsTUFFOUJDLEVBQW1CRCxFQUFvQmxULElBQ3ZDb1QsRUFBeUJGLEVBQW9CRyxVQUM3Q2pELEVBQU80QyxFQUFxQjVDLEtBQzVCQyxFQUFZMkMsRUFBcUIzQyxVQUNqQy9RLEVBQVM4UCxFQUFZLEdBQUc5UCxRQUN4QmdVLEVBQUssRUFHTEMsRUFBc0IsU0FBVUMsR0FDbEMsT0FBT0EsRUFBTUMsU0FBV0QsRUFBTUMsT0FBUyxJQUFJQyxJQUd6Q0EsRUFBc0IsV0FDeEJ4VixLQUFLeUIsUUFBVSxJQUdiZ1UsRUFBcUIsU0FBVUgsRUFBT25ULEdBQ3hDLE9BQU8rUCxFQUFLb0QsRUFBTTdULFNBQVMsU0FBVXFPLEdBQ25DLE9BQU9BLEVBQUcsS0FBTzNOLE1BSXJCcVQsRUFBb0I1WSxVQUFZLENBQzlCMEcsSUFBSyxTQUFVbkIsR0FDYixJQUFJTixFQUFRNFQsRUFBbUJ6VixLQUFNbUMsR0FDckMsR0FBSU4sRUFBTyxPQUFPQSxFQUFNLElBRTFCd0IsSUFBSyxTQUFVbEIsR0FDYixRQUFTc1QsRUFBbUJ6VixLQUFNbUMsSUFFcENMLElBQUssU0FBVUssRUFBSzdFLEdBQ2xCLElBQUl1RSxFQUFRNFQsRUFBbUJ6VixLQUFNbUMsR0FDakNOLEVBQU9BLEVBQU0sR0FBS3ZFLEVBQ2pCMEMsS0FBS3lCLFFBQVFnQyxLQUFLLENBQUN0QixFQUFLN0UsS0FFL0IsT0FBVSxTQUFVNkUsR0FDbEIsSUFBSVQsRUFBUXlRLEVBQVVuUyxLQUFLeUIsU0FBUyxTQUFVcU8sR0FDNUMsT0FBT0EsRUFBRyxLQUFPM04sS0FHbkIsT0FES1QsR0FBT04sRUFBT3BCLEtBQUt5QixRQUFTQyxFQUFPLE1BQzlCQSxJQUlkOUYsRUFBT0MsUUFBVSxDQUNmNlosZUFBZ0IsU0FBVUMsRUFBU0MsRUFBa0JyRSxFQUFRc0UsR0FDM0QsSUFBSUMsRUFBY0gsR0FBUSxTQUFVN0QsRUFBTWlFLEdBQ3hDbkIsRUFBVzlDLEVBQU0vQixHQUNqQmtGLEVBQWlCbkQsRUFBTSxDQUNyQnZVLEtBQU1xWSxFQUNOUixHQUFJQSxJQUNKRyxZQUFRblcsSUFFTUEsTUFBWjJXLEdBQXVCbEIsRUFBUWtCLEVBQVVqRSxFQUFLK0QsR0FBUSxDQUFFL0QsS0FBTUEsRUFBTWtFLFdBQVl6RSxPQUdsRnhCLEVBQVkrRixFQUFZbFosVUFFeEJxWixFQUFtQmYsRUFBdUJVLEdBRTFDTSxFQUFTLFNBQVVwRSxFQUFNM1AsRUFBSzdFLEdBQ2hDLElBQUl5SyxFQUFRa08sRUFBaUJuRSxHQUN6QnhQLEVBQU9vUyxFQUFZQyxFQUFTeFMsSUFBTSxHQUd0QyxPQUZhLElBQVRHLEVBQWUrUyxFQUFvQnROLEdBQU9qRyxJQUFJSyxFQUFLN0UsR0FDbERnRixFQUFLeUYsRUFBTXFOLElBQU05WCxFQUNmd1UsR0FrRFQsT0EvQ0EyQyxFQUFlMUUsRUFBVyxDQUl4QixPQUFVLFNBQVU1TixHQUNsQixJQUFJNEYsRUFBUWtPLEVBQWlCalcsTUFDN0IsSUFBSzNDLEVBQVM4RSxHQUFNLE9BQU8sRUFDM0IsSUFBSUcsRUFBT29TLEVBQVl2UyxHQUN2QixPQUFhLElBQVRHLEVBQXNCK1MsRUFBb0J0TixHQUFlLE9BQUU1RixHQUN4REcsR0FBUXlTLEVBQU96UyxFQUFNeUYsRUFBTXFOLFlBQWM5UyxFQUFLeUYsRUFBTXFOLEtBSzdEL1IsSUFBSyxTQUFhbEIsR0FDaEIsSUFBSTRGLEVBQVFrTyxFQUFpQmpXLE1BQzdCLElBQUszQyxFQUFTOEUsR0FBTSxPQUFPLEVBQzNCLElBQUlHLEVBQU9vUyxFQUFZdlMsR0FDdkIsT0FBYSxJQUFURyxFQUFzQitTLEVBQW9CdE4sR0FBTzFFLElBQUlsQixHQUNsREcsR0FBUXlTLEVBQU96UyxFQUFNeUYsRUFBTXFOLE9BSXRDWCxFQUFlMUUsRUFBV3dCLEVBQVMsQ0FHakNqTyxJQUFLLFNBQWFuQixHQUNoQixJQUFJNEYsRUFBUWtPLEVBQWlCalcsTUFDN0IsR0FBSTNDLEVBQVM4RSxHQUFNLENBQ2pCLElBQUlHLEVBQU9vUyxFQUFZdlMsR0FDdkIsT0FBYSxJQUFURyxFQUFzQitTLEVBQW9CdE4sR0FBT3pFLElBQUluQixHQUNsREcsRUFBT0EsRUFBS3lGLEVBQU1xTixTQUFNaFcsSUFLbkMwQyxJQUFLLFNBQWFLLEVBQUs3RSxHQUNyQixPQUFPNFksRUFBT2xXLEtBQU1tQyxFQUFLN0UsS0FFekIsQ0FHRjZZLElBQUssU0FBYTdZLEdBQ2hCLE9BQU80WSxFQUFPbFcsS0FBTTFDLEdBQU8sTUFJeEJ3WSxLLDRCQzlIWCxJQUFJTSxFQUFJLEVBQVEsTUFDWkMsRUFBUyxFQUFRLE1BQ2pCbkYsRUFBYyxFQUFRLE1BQ3RCb0YsRUFBVyxFQUFRLE1BQ25CQyxFQUFnQixFQUFRLE1BQ3hCQyxFQUF5QixFQUFRLE1BQ2pDM0IsRUFBVSxFQUFRLE1BQ2xCRCxFQUFhLEVBQVEsTUFDckIzRixFQUFhLEVBQVEsTUFDckI1UixFQUFXLEVBQVEsTUFDbkIyUyxFQUFRLEVBQVEsTUFDaEJ5RyxFQUE4QixFQUFRLE1BQ3RDQyxFQUFpQixFQUFRLEtBQ3pCQyxFQUFvQixFQUFRLE1BRWhDL2EsRUFBT0MsUUFBVSxTQUFVK1osRUFBa0JELEVBQVNpQixHQUNwRCxJQUFJckYsR0FBOEMsSUFBckNxRSxFQUFpQnRMLFFBQVEsT0FDbEN1TSxHQUFnRCxJQUF0Q2pCLEVBQWlCdEwsUUFBUSxRQUNuQ3VMLEVBQVF0RSxFQUFTLE1BQVEsTUFDekJ1RixFQUFvQlQsRUFBT1QsR0FDM0JtQixFQUFrQkQsR0FBcUJBLEVBQWtCbGEsVUFDekRrWixFQUFjZ0IsRUFDZEUsRUFBVyxHQUVYQyxFQUFZLFNBQVVDLEdBQ3hCLElBQUlDLEVBQXdCakcsRUFBWTZGLEVBQWdCRyxJQUN4RFgsRUFBY1EsRUFBaUJHLEVBQ3RCLE9BQVBBLEVBQWUsU0FBYTVaLEdBRTFCLE9BREE2WixFQUFzQm5YLEtBQWdCLElBQVYxQyxFQUFjLEVBQUlBLEdBQ3ZDMEMsTUFDRSxVQUFQa1gsRUFBa0IsU0FBVS9VLEdBQzlCLFFBQU8wVSxJQUFZeFosRUFBUzhFLEtBQWVnVixFQUFzQm5YLEtBQWMsSUFBUm1DLEVBQVksRUFBSUEsSUFDOUUsT0FBUCtVLEVBQWUsU0FBYS9VLEdBQzlCLE9BQU8wVSxJQUFZeFosRUFBUzhFLFFBQU8vQyxFQUFZK1gsRUFBc0JuWCxLQUFjLElBQVJtQyxFQUFZLEVBQUlBLElBQ2xGLE9BQVArVSxFQUFlLFNBQWEvVSxHQUM5QixRQUFPMFUsSUFBWXhaLEVBQVM4RSxLQUFlZ1YsRUFBc0JuWCxLQUFjLElBQVJtQyxFQUFZLEVBQUlBLElBQ3JGLFNBQWFBLEVBQUs3RSxHQUVwQixPQURBNlosRUFBc0JuWCxLQUFjLElBQVJtQyxFQUFZLEVBQUlBLEVBQUs3RSxHQUMxQzBDLFFBWWIsR0FQY3NXLEVBQ1pWLEdBQ0MzRyxFQUFXNkgsTUFBd0JELEdBQVdFLEVBQWdCM0ksVUFBWTRCLEdBQU0sWUFDL0UsSUFBSThHLEdBQW9CclYsVUFBVXlHLFlBTXBDNE4sRUFBY2MsRUFBT2xCLGVBQWVDLEVBQVNDLEVBQWtCckUsRUFBUXNFLEdBQ3ZFVyxFQUF1QlksY0FDbEIsR0FBSWQsRUFBU1YsR0FBa0IsR0FBTyxDQUMzQyxJQUFJeUIsRUFBVyxJQUFJdkIsRUFFZndCLEVBQWlCRCxFQUFTeEIsR0FBT2dCLEVBQVUsSUFBTSxFQUFHLElBQU1RLEVBRTFERSxFQUF1QnZILEdBQU0sV0FBY3FILEVBQVNoVSxJQUFJLE1BR3hEbVUsRUFBbUJmLEdBQTRCLFNBQVVWLEdBQVksSUFBSWUsRUFBa0JmLE1BRTNGMEIsR0FBY1osR0FBVzdHLEdBQU0sV0FJakMsSUFGQSxJQUFJMEgsRUFBWSxJQUFJWixFQUNoQnBWLEVBQVEsRUFDTEEsS0FBU2dXLEVBQVU3QixHQUFPblUsRUFBT0EsR0FDeEMsT0FBUWdXLEVBQVVyVSxLQUFLLE1BR3BCbVUsS0FDSDFCLEVBQWNILEdBQVEsU0FBVWdDLEVBQU81QixHQUNyQ25CLEVBQVcrQyxFQUFPWixHQUNsQixJQUFJakYsRUFBTzZFLEVBQWtCLElBQUlHLEVBQXFCYSxFQUFPN0IsR0FFN0QsT0FEZ0IxVyxNQUFaMlcsR0FBdUJsQixFQUFRa0IsRUFBVWpFLEVBQUsrRCxHQUFRLENBQUUvRCxLQUFNQSxFQUFNa0UsV0FBWXpFLElBQzdFTyxNQUVHbFYsVUFBWW1hLEVBQ3hCQSxFQUFnQnhMLFlBQWN1SyxJQUc1QnlCLEdBQXdCRSxLQUMxQlIsRUFBVSxVQUNWQSxFQUFVLE9BQ1YxRixHQUFVMEYsRUFBVSxTQUdsQlEsR0FBY0gsSUFBZ0JMLEVBQVVwQixHQUd4Q2dCLEdBQVdFLEVBQWdCblYsY0FBY21WLEVBQWdCblYsTUFVL0QsT0FQQW9WLEVBQVNwQixHQUFvQkUsRUFDN0JNLEVBQUUsQ0FBRUMsUUFBUSxFQUFNOUssYUFBYSxFQUFNcU0sT0FBUTlCLEdBQWVnQixHQUFxQkUsR0FFakZOLEVBQWVaLEVBQWFGLEdBRXZCaUIsR0FBU0QsRUFBT2lCLFVBQVUvQixFQUFhRixFQUFrQnJFLEdBRXZEdUUsSSxjQ3ZHVCxJQUFJZixFQUFTLEVBQVEsTUFDakJsSCxFQUFVLEVBQVEsTUFDbEJpSyxFQUFpQyxFQUFRLE1BQ3pDQyxFQUF1QixFQUFRLE1BRW5DbmMsRUFBT0MsUUFBVSxTQUFVcVMsRUFBUUMsRUFBUTZKLEdBSXpDLElBSEEsSUFBSWxYLEVBQU8rTSxFQUFRTSxHQUNmakksRUFBaUI2UixFQUFxQkUsRUFDdEN4SyxFQUEyQnFLLEVBQStCRyxFQUNyRC9ULEVBQUksRUFBR0EsRUFBSXBELEVBQUthLE9BQVF1QyxJQUFLLENBQ3BDLElBQUkvQixFQUFNckIsRUFBS29ELEdBQ1Y2USxFQUFPN0csRUFBUS9MLElBQVU2VixHQUFjakQsRUFBT2lELEVBQVk3VixJQUM3RCtELEVBQWVnSSxFQUFRL0wsRUFBS3NMLEVBQXlCVSxFQUFRaE0sTyxlQ1puRSxJQUFJNk4sRUFBUSxFQUFRLE1BRXBCcFUsRUFBT0MsU0FBV21VLEdBQU0sV0FDdEIsU0FBU2tJLEtBR1QsT0FGQUEsRUFBRXRiLFVBQVUyTyxZQUFjLEtBRW5CalAsT0FBTzZiLGVBQWUsSUFBSUQsS0FBU0EsRUFBRXRiLGMsNEJDTDlDLElBQUl3YixFQUFvQiwwQkFDcEJwUyxFQUFTLEVBQVEsTUFDakJxUyxFQUEyQixFQUFRLE1BQ25DM0IsRUFBaUIsRUFBUSxLQUN6QjRCLEVBQVksRUFBUSxNQUVwQkMsRUFBYSxXQUFjLE9BQU92WSxNQUV0Q3BFLEVBQU9DLFFBQVUsU0FBVTJjLEVBQXFCQyxFQUFNdlEsRUFBTXdRLEdBQzFELElBQUl0RSxFQUFnQnFFLEVBQU8sWUFJM0IsT0FIQUQsRUFBb0I1YixVQUFZb0osRUFBT29TLEVBQW1CLENBQUVsUSxLQUFNbVEsSUFBMkJLLEVBQWlCeFEsS0FDOUd3TyxFQUFlOEIsRUFBcUJwRSxHQUFlLEdBQU8sR0FDMURrRSxFQUFVbEUsR0FBaUJtRSxFQUNwQkMsSSxlQ2RULElBQUlHLEVBQWMsRUFBUSxLQUN0QlosRUFBdUIsRUFBUSxNQUMvQk0sRUFBMkIsRUFBUSxNQUV2Q3pjLEVBQU9DLFFBQVU4YyxFQUFjLFNBQVVuVyxFQUFRTCxFQUFLN0UsR0FDcEQsT0FBT3lhLEVBQXFCRSxFQUFFelYsRUFBUUwsRUFBS2tXLEVBQXlCLEVBQUcvYSxLQUNyRSxTQUFVa0YsRUFBUUwsRUFBSzdFLEdBRXpCLE9BREFrRixFQUFPTCxHQUFPN0UsRUFDUGtGLEksU0NSVDVHLEVBQU9DLFFBQVUsU0FBVStjLEVBQVF0YixHQUNqQyxNQUFPLENBQ0wyTixhQUF1QixFQUFUMk4sR0FDZHBLLGVBQXlCLEVBQVRvSyxHQUNoQm5LLFdBQXFCLEVBQVRtSyxHQUNadGIsTUFBT0EsSyw0QkNKWCxJQUFJdWIsRUFBZ0IsRUFBUSxNQUN4QmQsRUFBdUIsRUFBUSxNQUMvQk0sRUFBMkIsRUFBUSxNQUV2Q3pjLEVBQU9DLFFBQVUsU0FBVTJHLEVBQVFMLEVBQUs3RSxHQUN0QyxJQUFJd2IsRUFBY0QsRUFBYzFXLEdBQzVCMlcsS0FBZXRXLEVBQVF1VixFQUFxQkUsRUFBRXpWLEVBQVFzVyxFQUFhVCxFQUF5QixFQUFHL2EsSUFDOUZrRixFQUFPc1csR0FBZXhiLEksZUNSN0IsSUFBSTJSLEVBQWEsRUFBUSxNQUNyQjhJLEVBQXVCLEVBQVEsTUFDL0JnQixFQUFjLEVBQVEsTUFDdEJDLEVBQXVCLEVBQVEsTUFFbkNwZCxFQUFPQyxRQUFVLFNBQVVtVixFQUFHN08sRUFBSzdFLEVBQU9jLEdBQ25DQSxJQUFTQSxFQUFVLElBQ3hCLElBQUk2YSxFQUFTN2EsRUFBUTZNLFdBQ2pCaU8sT0FBd0I5WixJQUFqQmhCLEVBQVE4YSxLQUFxQjlhLEVBQVE4YSxLQUFPL1csRUFlckQsT0FkRThNLEVBQVczUixJQUFReWIsRUFBWXpiLEVBQU80YixFQUFNOWEsR0FDNUNBLEVBQVFpWSxPQUNONEMsRUFBUWpJLEVBQUU3TyxHQUFPN0UsRUFDaEIwYixFQUFxQjdXLEVBQUs3RSxJQUUxQmMsRUFBUSthLE9BQ0puSSxFQUFFN08sS0FBTThXLEdBQVMsVUFERWpJLEVBQUU3TyxHQUUxQjhXLEVBQVFqSSxFQUFFN08sR0FBTzdFLEVBQ2hCeWEsRUFBcUJFLEVBQUVqSCxFQUFHN08sRUFBSyxDQUNsQzdFLE1BQU9BLEVBQ1AyTixZQUFZLEVBQ1p1RCxjQUFlcFEsRUFBUWdiLGdCQUN2QjNLLFVBQVdyUSxFQUFRaWIsZUFFZHJJLEksZUN2QlgsSUFBSXVGLEVBQWdCLEVBQVEsTUFFNUIzYSxFQUFPQyxRQUFVLFNBQVVxUyxFQUFRb0wsRUFBS2xiLEdBQ3RDLElBQUssSUFBSStELEtBQU9tWCxFQUFLL0MsRUFBY3JJLEVBQVEvTCxFQUFLbVgsRUFBSW5YLEdBQU0vRCxHQUMxRCxPQUFPOFAsSSxlQ0pULElBQUltSSxFQUFTLEVBQVEsTUFHakJuUSxFQUFpQjVKLE9BQU80SixlQUU1QnRLLEVBQU9DLFFBQVUsU0FBVXNHLEVBQUs3RSxHQUM5QixJQUNFNEksRUFBZW1RLEVBQVFsVSxFQUFLLENBQUU3RSxNQUFPQSxFQUFPa1IsY0FBYyxFQUFNQyxVQUFVLElBQzFFLE1BQU9xRixHQUNQdUMsRUFBT2xVLEdBQU83RSxFQUNkLE9BQU9BLEksNEJDVFgsSUFBSThZLEVBQUksRUFBUSxNQUNaMVksRUFBTyxFQUFRLE1BQ2Y2YixFQUFVLEVBQVEsTUFDbEJDLEVBQWUsRUFBUSxNQUN2QnZLLEVBQWEsRUFBUSxNQUNyQndLLEVBQTRCLEVBQVEsTUFDcEN0QixFQUFpQixFQUFRLE1BQ3pCdUIsRUFBaUIsRUFBUSxNQUN6QmhELEVBQWlCLEVBQVEsS0FDekJpRCxFQUE4QixFQUFRLE1BQ3RDcEQsRUFBZ0IsRUFBUSxNQUN4QmhILEVBQWtCLEVBQVEsTUFDMUIrSSxFQUFZLEVBQVEsTUFDcEJzQixFQUFnQixFQUFRLE1BRXhCQyxFQUF1QkwsRUFBYU0sT0FDcENDLEVBQTZCUCxFQUFhUSxhQUMxQzVCLEVBQW9Cd0IsRUFBY3hCLGtCQUNsQzZCLEVBQXlCTCxFQUFjSyx1QkFDdkN4RyxFQUFXbEUsRUFBZ0IsWUFDM0IySyxFQUFPLE9BQ1BDLEVBQVMsU0FDVEMsRUFBVSxVQUVWN0IsRUFBYSxXQUFjLE9BQU92WSxNQUV0Q3BFLEVBQU9DLFFBQVUsU0FBVXdlLEVBQVU1QixFQUFNRCxFQUFxQnRRLEVBQU1vUyxFQUFTQyxFQUFRQyxHQUNyRmYsRUFBMEJqQixFQUFxQkMsRUFBTXZRLEdBRXJELElBa0JJdVMsRUFBMEJDLEVBQVN4RCxFQWxCbkN5RCxFQUFxQixTQUFVQyxHQUNqQyxHQUFJQSxJQUFTTixHQUFXTyxFQUFpQixPQUFPQSxFQUNoRCxJQUFLWixHQUEwQlcsS0FBUUUsRUFBbUIsT0FBT0EsRUFBa0JGLEdBQ25GLE9BQVFBLEdBQ04sS0FBS1YsRUFDTCxLQUFLQyxFQUNMLEtBQUtDLEVBQVMsT0FBTyxXQUFxQixPQUFPLElBQUk1QixFQUFvQnhZLEtBQU00YSxJQUMvRSxPQUFPLFdBQWMsT0FBTyxJQUFJcEMsRUFBb0J4WSxRQUdwRG9VLEVBQWdCcUUsRUFBTyxZQUN2QnNDLEdBQXdCLEVBQ3hCRCxFQUFvQlQsRUFBU3pkLFVBQzdCb2UsRUFBaUJGLEVBQWtCckgsSUFDbENxSCxFQUFrQixlQUNsQlIsR0FBV1EsRUFBa0JSLEdBQzlCTyxHQUFtQlosR0FBMEJlLEdBQWtCTCxFQUFtQkwsR0FDbEZXLEVBQTRCLFNBQVJ4QyxHQUFrQnFDLEVBQWtCclosU0FBNEJ1WixFQStCeEYsR0EzQklDLElBQ0ZSLEVBQTJCdEMsRUFBZThDLEVBQWtCdmQsS0FBSyxJQUFJMmMsT0FDcEMvZCxPQUFPTSxXQUFhNmQsRUFBeUJ2UyxPQUN2RXFSLEdBQVdwQixFQUFlc0MsS0FBOEJyQyxJQUN2RHNCLEVBQ0ZBLEVBQWVlLEVBQTBCckMsR0FDL0JuSixFQUFXd0wsRUFBeUJoSCxLQUM5QzhDLEVBQWNrRSxFQUEwQmhILEVBQVU4RSxJQUl0RDdCLEVBQWUrRCxFQUEwQnJHLEdBQWUsR0FBTSxHQUMxRG1GLElBQVNqQixFQUFVbEUsR0FBaUJtRSxJQUt4Q3NCLEdBQXdCUyxHQUFXSCxHQUFVYSxHQUFrQkEsRUFBZTlCLE9BQVNpQixLQUNwRlosR0FBV1EsRUFDZEosRUFBNEJtQixFQUFtQixPQUFRWCxJQUV2RFksR0FBd0IsRUFDeEJGLEVBQWtCLFdBQW9CLE9BQU9uZCxFQUFLc2QsRUFBZ0JoYixTQUtsRXNhLEVBTUYsR0FMQUksRUFBVSxDQUNSUSxPQUFRUCxFQUFtQlIsR0FDM0JyWixLQUFNeVosRUFBU00sRUFBa0JGLEVBQW1CVCxHQUNwRHpZLFFBQVNrWixFQUFtQlAsSUFFMUJJLEVBQVEsSUFBS3RELEtBQU93RCxHQUNsQlQsR0FBMEJjLEtBQTJCN0QsS0FBTzRELEtBQzlEdkUsRUFBY3VFLEVBQW1CNUQsRUFBS3dELEVBQVF4RCxTQUUzQ2QsRUFBRSxDQUFFbEksT0FBUXVLLEVBQU0wQyxPQUFPLEVBQU12RCxPQUFRcUMsR0FBMEJjLEdBQXlCTCxHQVNuRyxPQUxNbkIsSUFBV2lCLEdBQVdNLEVBQWtCckgsS0FBY29ILEdBQzFEdEUsRUFBY3VFLEVBQW1CckgsRUFBVW9ILEVBQWlCLENBQUUzQixLQUFNb0IsSUFFdEVoQyxFQUFVRyxHQUFRb0MsRUFFWEgsSSxjQ2pHVCxJQUFJMUssRUFBUSxFQUFRLE1BR3BCcFUsRUFBT0MsU0FBV21VLEdBQU0sV0FFdEIsT0FBOEUsR0FBdkUxVCxPQUFPNEosZUFBZSxHQUFJLEVBQUcsQ0FBRTVDLElBQUssV0FBYyxPQUFPLEtBQVEsTyxlQ0wxRSxJQUFJK1MsRUFBUyxFQUFRLE1BQ2pCaFosRUFBVyxFQUFRLE1BRW5CM0IsRUFBVzJhLEVBQU8zYSxTQUVsQjBmLEVBQVMvZCxFQUFTM0IsSUFBYTJCLEVBQVMzQixFQUFTQyxlQUVyREMsRUFBT0MsUUFBVSxTQUFVaVUsR0FDekIsT0FBT3NMLEVBQVMxZixFQUFTQyxjQUFjbVUsR0FBTSxLLFNDTi9DbFUsRUFBT0MsUUFBVSxDQUNmd2YsWUFBYSxFQUNiQyxvQkFBcUIsRUFDckJDLGFBQWMsRUFDZEMsZUFBZ0IsRUFDaEJDLFlBQWEsRUFDYkMsY0FBZSxFQUNmQyxhQUFjLEVBQ2RDLHFCQUFzQixFQUN0QkMsU0FBVSxFQUNWQyxrQkFBbUIsRUFDbkJDLGVBQWdCLEVBQ2hCQyxnQkFBaUIsRUFDakJDLGtCQUFtQixFQUNuQkMsVUFBVyxFQUNYQyxjQUFlLEVBQ2ZDLGFBQWMsRUFDZEMsU0FBVSxFQUNWQyxpQkFBa0IsRUFDbEJDLE9BQVEsRUFDUkMsWUFBYSxFQUNiQyxjQUFlLEVBQ2ZDLGNBQWUsRUFDZkMsZUFBZ0IsRUFDaEJDLGFBQWMsRUFDZEMsY0FBZSxFQUNmQyxpQkFBa0IsRUFDbEJDLGlCQUFrQixFQUNsQkMsZUFBZ0IsRUFDaEJDLGlCQUFrQixFQUNsQkMsY0FBZSxFQUNmQyxVQUFXLEksZUNoQ2IsSUFFSUMsRUFGd0IsRUFBUSxLQUVwQkMsQ0FBc0IsUUFBUUQsVUFDMUNFLEVBQXdCRixHQUFhQSxFQUFVN1IsYUFBZTZSLEVBQVU3UixZQUFZM08sVUFFeEZoQixFQUFPQyxRQUFVeWhCLElBQTBCaGhCLE9BQU9NLGVBQVl3QyxFQUFZa2UsRyxlQ04xRSxJQUFJQyxFQUFVLEVBQVEsTUFDbEJsSCxFQUFTLEVBQVEsTUFFckJ6YSxFQUFPQyxRQUFxQyxXQUEzQjBoQixFQUFRbEgsRUFBT21ILFUsZUNIaEMsSUFBSUMsRUFBYSxFQUFRLE1BRXpCN2hCLEVBQU9DLFFBQVU0aEIsRUFBVyxZQUFhLGNBQWdCLEksZUNGekQsSUFPSUMsRUFBT0MsRUFQUHRILEVBQVMsRUFBUSxNQUNqQnVILEVBQVksRUFBUSxNQUVwQkosRUFBVW5ILEVBQU9tSCxRQUNqQkssRUFBT3hILEVBQU93SCxLQUNkQyxFQUFXTixHQUFXQSxFQUFRTSxVQUFZRCxHQUFRQSxFQUFLRixRQUN2REksRUFBS0QsR0FBWUEsRUFBU0MsR0FHMUJBLElBSUZKLEdBSEFELEVBQVFLLEVBQUdsWixNQUFNLE1BR0QsR0FBSyxHQUFLNlksRUFBTSxHQUFLLEVBQUksSUFBTUEsRUFBTSxHQUFLQSxFQUFNLE1BSzdEQyxHQUFXQyxNQUNkRixFQUFRRSxFQUFVRixNQUFNLGlCQUNWQSxFQUFNLElBQU0sTUFDeEJBLEVBQVFFLEVBQVVGLE1BQU0sb0JBQ2JDLEdBQVdELEVBQU0sSUFJaEM5aEIsRUFBT0MsUUFBVThoQixHLFNDekJqQi9oQixFQUFPQyxRQUFVLENBQ2YsY0FDQSxpQkFDQSxnQkFDQSx1QkFDQSxpQkFDQSxXQUNBLFksZUNSRixJQUFJd2EsRUFBUyxFQUFRLE1BQ2pCNUksRUFBMkIsVUFDM0JrTSxFQUE4QixFQUFRLE1BQ3RDcEQsRUFBZ0IsRUFBUSxNQUN4QnlDLEVBQXVCLEVBQVEsTUFDL0JnRixFQUE0QixFQUFRLEtBQ3BDMUgsRUFBVyxFQUFRLE1BaUJ2QjFhLEVBQU9DLFFBQVUsU0FBVXVDLEVBQVMrUCxHQUNsQyxJQUdZRCxFQUFRL0wsRUFBSzhiLEVBQWdCQyxFQUFnQkMsRUFIckRDLEVBQVNoZ0IsRUFBUThQLE9BQ2pCbVEsRUFBU2pnQixFQUFRaVksT0FDakJpSSxFQUFTbGdCLEVBQVFtZ0IsS0FTckIsR0FORXJRLEVBREVtUSxFQUNPaEksRUFDQWlJLEVBQ0FqSSxFQUFPK0gsSUFBV3BGLEVBQXFCb0YsRUFBUSxLQUU5Qy9ILEVBQU8rSCxJQUFXLElBQUl4aEIsVUFFdEIsSUFBS3VGLEtBQU9nTSxFQUFRLENBUTlCLEdBUEErUCxFQUFpQi9QLEVBQU9oTSxHQUd0QjhiLEVBRkU3ZixFQUFRb2dCLGdCQUNWTCxFQUFhMVEsRUFBeUJTLEVBQVEvTCxLQUNmZ2MsRUFBVzdnQixNQUNwQjRRLEVBQU8vTCxJQUN0Qm1VLEVBQVMrSCxFQUFTbGMsRUFBTWljLEdBQVVFLEVBQVMsSUFBTSxLQUFPbmMsRUFBSy9ELEVBQVF3WixjQUU1Q3hZLElBQW5CNmUsRUFBOEIsQ0FDM0MsVUFBV0MsVUFBeUJELEVBQWdCLFNBQ3BERCxFQUEwQkUsRUFBZ0JELElBR3hDN2YsRUFBUXFnQixNQUFTUixHQUFrQkEsRUFBZVEsT0FDcEQ5RSxFQUE0QnVFLEVBQWdCLFFBQVEsR0FFdEQzSCxFQUFjckksRUFBUS9MLEVBQUsrYixFQUFnQjlmLE0sU0NuRC9DeEMsRUFBT0MsUUFBVSxTQUFVZ0YsR0FDekIsSUFDRSxRQUFTQSxJQUNULE1BQU9pVCxHQUNQLE9BQU8sSyw0QkNGWCxFQUFRLE1BQ1IsSUFBSTVDLEVBQWMsRUFBUSxNQUN0QnFGLEVBQWdCLEVBQVEsTUFDeEJtSSxFQUFhLEVBQVEsTUFDckIxTyxFQUFRLEVBQVEsTUFDaEJULEVBQWtCLEVBQVEsTUFDMUJvSyxFQUE4QixFQUFRLE1BRXRDckgsRUFBVS9DLEVBQWdCLFdBQzFCb1AsRUFBa0J4ZCxPQUFPdkUsVUFFN0JoQixFQUFPQyxRQUFVLFNBQVVxYixFQUFLclcsRUFBTTJaLEVBQVFvRSxHQUM1QyxJQUFJQyxFQUFTdFAsRUFBZ0IySCxHQUV6QjRILEdBQXVCOU8sR0FBTSxXQUUvQixJQUFJZ0IsRUFBSSxHQUVSLE9BREFBLEVBQUU2TixHQUFVLFdBQWMsT0FBTyxHQUNaLEdBQWQsR0FBRzNILEdBQUtsRyxNQUdiK04sRUFBb0JELElBQXdCOU8sR0FBTSxXQUVwRCxJQUFJZ1AsR0FBYSxFQUNiQyxFQUFLLElBa0JULE1BaEJZLFVBQVIvSCxLQUlGK0gsRUFBSyxJQUdGMVQsWUFBYyxHQUNqQjBULEVBQUcxVCxZQUFZK0csR0FBVyxXQUFjLE9BQU8yTSxHQUMvQ0EsRUFBR0MsTUFBUSxHQUNYRCxFQUFHSixHQUFVLElBQUlBLElBR25CSSxFQUFHcGUsS0FBTyxXQUFpQyxPQUFuQm1lLEdBQWEsRUFBYSxNQUVsREMsRUFBR0osR0FBUSxLQUNIRyxLQUdWLElBQ0dGLElBQ0FDLEdBQ0R2RSxFQUNBLENBQ0EsSUFBSTJFLEVBQThCak8sRUFBWSxJQUFJMk4sSUFDOUNuRSxFQUFVN1osRUFBS2dlLEVBQVEsR0FBRzNILElBQU0sU0FBVWtJLEVBQWNDLEVBQVFDLEVBQUtDLEVBQU1DLEdBQzdFLElBQUlySSxFQUF3QmpHLEVBQVlrTyxHQUNwQ0ssRUFBUUosRUFBT3hlLEtBQ25CLE9BQUk0ZSxJQUFVZixHQUFjZSxJQUFVZCxFQUFnQjlkLEtBQ2hEaWUsSUFBd0JVLEVBSW5CLENBQUUzTCxNQUFNLEVBQU12VyxNQUFPNmhCLEVBQTRCRSxFQUFRQyxFQUFLQyxJQUVoRSxDQUFFMUwsTUFBTSxFQUFNdlcsTUFBTzZaLEVBQXNCbUksRUFBS0QsRUFBUUUsSUFFMUQsQ0FBRTFMLE1BQU0sTUFHakIwQyxFQUFjakgsT0FBTzFTLFVBQVdzYSxFQUFLd0QsRUFBUSxJQUM3Q25FLEVBQWNvSSxFQUFpQkUsRUFBUW5FLEVBQVEsSUFHN0NrRSxHQUFNakYsRUFBNEJnRixFQUFnQkUsR0FBUyxRQUFRLEssZUN4RXpFLElBQUk3TyxFQUFRLEVBQVEsTUFFcEJwVSxFQUFPQyxTQUFXbVUsR0FBTSxXQUV0QixPQUFPMVQsT0FBTzZULGFBQWE3VCxPQUFPb2pCLGtCQUFrQixTLGVDSnRELElBQUlDLEVBQWMsRUFBUSxLQUV0QkMsRUFBb0JsakIsU0FBU0UsVUFDN0J5QyxFQUFRdWdCLEVBQWtCdmdCLE1BQzFCM0IsRUFBT2tpQixFQUFrQmxpQixLQUc3QjlCLEVBQU9DLFFBQTRCLGlCQUFYZ2tCLFNBQXVCQSxRQUFReGdCLFFBQVVzZ0IsRUFBY2ppQixFQUFLK0csS0FBS3BGLEdBQVMsV0FDaEcsT0FBTzNCLEVBQUsyQixNQUFNQSxFQUFPVSxjLGVDUjNCLElBQUltUixFQUFjLEVBQVEsTUFDdEJ5QixFQUFZLEVBQVEsTUFDcEJnTixFQUFjLEVBQVEsS0FFdEJsYixFQUFPeU0sRUFBWUEsRUFBWXpNLE1BR25DN0ksRUFBT0MsUUFBVSxTQUFVaWtCLEVBQUloTyxHQUU3QixPQURBYSxFQUFVbU4sUUFDTTFnQixJQUFUMFMsRUFBcUJnTyxFQUFLSCxFQUFjbGIsRUFBS3FiLEVBQUloTyxHQUFRLFdBQzlELE9BQU9nTyxFQUFHemdCLE1BQU15UyxFQUFNL1IsYyxjQ1YxQixJQUFJaVEsRUFBUSxFQUFRLE1BRXBCcFUsRUFBT0MsU0FBV21VLEdBQU0sV0FFdEIsSUFBSWhTLEVBQU8sYUFBOEJ5RyxPQUV6QyxNQUFzQixtQkFBUnpHLEdBQXNCQSxFQUFLaUQsZUFBZSxpQixlQ04xRCxJQUFJMGUsRUFBYyxFQUFRLEtBRXRCamlCLEVBQU9oQixTQUFTRSxVQUFVYyxLQUU5QjlCLEVBQU9DLFFBQVU4akIsRUFBY2ppQixFQUFLK0csS0FBSy9HLEdBQVEsV0FDL0MsT0FBT0EsRUFBSzJCLE1BQU0zQixFQUFNcUMsYSxlQ0wxQixJQUFJNFksRUFBYyxFQUFRLEtBQ3RCNUQsRUFBUyxFQUFRLE1BRWpCNkssRUFBb0JsakIsU0FBU0UsVUFFN0JtakIsRUFBZ0JwSCxHQUFlcmMsT0FBT21SLHlCQUV0QzJOLEVBQVNyRyxFQUFPNkssRUFBbUIsUUFFbkM5RixFQUFTc0IsR0FBMEQsY0FBaEQsYUFBdUNsQyxLQUMxRGMsRUFBZW9CLEtBQVl6QyxHQUFnQkEsR0FBZW9ILEVBQWNILEVBQW1CLFFBQVFwUixjQUV2RzVTLEVBQU9DLFFBQVUsQ0FDZnVmLE9BQVFBLEVBQ1J0QixPQUFRQSxFQUNSRSxhQUFjQSxJLGVDZmhCLElBQUkyRixFQUFjLEVBQVEsS0FFdEJDLEVBQW9CbGpCLFNBQVNFLFVBQzdCNkgsRUFBT21iLEVBQWtCbmIsS0FDekIvRyxFQUFPa2lCLEVBQWtCbGlCLEtBQ3pCd1QsRUFBY3lPLEdBQWVsYixFQUFLQSxLQUFLL0csRUFBTUEsR0FFakQ5QixFQUFPQyxRQUFVOGpCLEVBQWMsU0FBVUcsR0FDdkMsT0FBT0EsR0FBTTVPLEVBQVk0TyxJQUN2QixTQUFVQSxHQUNaLE9BQU9BLEdBQU0sV0FDWCxPQUFPcGlCLEVBQUsyQixNQUFNeWdCLEVBQUkvZixjLGVDWDFCLElBQUlzVyxFQUFTLEVBQVEsTUFDakJwSCxFQUFhLEVBQVEsTUFFckIrUSxFQUFZLFNBQVU1USxHQUN4QixPQUFPSCxFQUFXRyxHQUFZQSxPQUFXaFEsR0FHM0N4RCxFQUFPQyxRQUFVLFNBQVVva0IsRUFBV3ZOLEdBQ3BDLE9BQU8zUyxVQUFVNEIsT0FBUyxFQUFJcWUsRUFBVTNKLEVBQU80SixJQUFjNUosRUFBTzRKLElBQWM1SixFQUFPNEosR0FBV3ZOLEssY0NSdEcsSUFBSTZLLEVBQVUsRUFBUSxNQUNsQjJDLEVBQVksRUFBUSxNQUNwQjVILEVBQVksRUFBUSxNQUdwQjdFLEVBRmtCLEVBQVEsS0FFZmxFLENBQWdCLFlBRS9CM1QsRUFBT0MsUUFBVSxTQUFVaVUsR0FDekIsR0FBVTFRLE1BQU4wUSxFQUFpQixPQUFPb1EsRUFBVXBRLEVBQUkyRCxJQUNyQ3lNLEVBQVVwUSxFQUFJLGVBQ2R3SSxFQUFVaUYsRUFBUXpOLE0sZUNWekIsSUFBSXBTLEVBQU8sRUFBUSxNQUNmaVYsRUFBWSxFQUFRLE1BQ3BCZ0MsRUFBVyxFQUFRLE1BQ25CekYsRUFBYyxFQUFRLEtBQ3RCaVIsRUFBb0IsRUFBUSxLQUU1QmhSLEVBQWFwUSxVQUVqQm5ELEVBQU9DLFFBQVUsU0FBVXVULEVBQVVnUixHQUNuQyxJQUFJQyxFQUFpQnRnQixVQUFVNEIsT0FBUyxFQUFJd2UsRUFBa0IvUSxHQUFZZ1IsRUFDMUUsR0FBSXpOLEVBQVUwTixHQUFpQixPQUFPMUwsRUFBU2pYLEVBQUsyaUIsRUFBZ0JqUixJQUNwRSxNQUFNRCxFQUFXRCxFQUFZRSxHQUFZLHNCLGVDWDNDLElBQUl1RCxFQUFZLEVBQVEsTUFJeEIvVyxFQUFPQyxRQUFVLFNBQVV5a0IsRUFBR0MsR0FDNUIsSUFBSXJpQixFQUFPb2lCLEVBQUVDLEdBQ2IsT0FBZSxNQUFScmlCLE9BQWVrQixFQUFZdVQsRUFBVXpVLEssZUNOOUMsSUFBSWdULEVBQWMsRUFBUSxNQUN0QkUsRUFBVyxFQUFRLE1BRW5Cb1AsRUFBUXpqQixLQUFLeWpCLE1BQ2I5USxFQUFTd0IsRUFBWSxHQUFHeEIsUUFDeEI1UixFQUFVb1QsRUFBWSxHQUFHcFQsU0FDekJtVyxFQUFjL0MsRUFBWSxHQUFHalQsT0FDN0J3aUIsRUFBdUIsOEJBQ3ZCQyxFQUFnQyxzQkFJcEM5a0IsRUFBT0MsUUFBVSxTQUFVOGtCLEVBQVNyQixFQUFLc0IsRUFBVUMsRUFBVUMsRUFBZUMsR0FDMUUsSUFBSUMsRUFBVUosRUFBV0QsRUFBUWhmLE9BQzdCc2YsRUFBSUosRUFBU2xmLE9BQ2JxTSxFQUFVMFMsRUFLZCxZQUpzQnRoQixJQUFsQjBoQixJQUNGQSxFQUFnQjFQLEVBQVMwUCxHQUN6QjlTLEVBQVV5UyxHQUVMM2lCLEVBQVFpakIsRUFBYS9TLEdBQVMsU0FBVTBQLEVBQU93RCxHQUNwRCxJQUFJQyxFQUNKLE9BQVF6UixFQUFPd1IsRUFBSSxJQUNqQixJQUFLLElBQUssTUFBTyxJQUNqQixJQUFLLElBQUssT0FBT1AsRUFDakIsSUFBSyxJQUFLLE9BQU8xTSxFQUFZcUwsRUFBSyxFQUFHc0IsR0FDckMsSUFBSyxJQUFLLE9BQU8zTSxFQUFZcUwsRUFBSzBCLEdBQ2xDLElBQUssSUFDSEcsRUFBVUwsRUFBYzdNLEVBQVlpTixFQUFJLEdBQUksSUFDNUMsTUFDRixRQUNFLElBQUlsUyxHQUFLa1MsRUFDVCxHQUFVLElBQU5sUyxFQUFTLE9BQU8wTyxFQUNwQixHQUFJMU8sRUFBSWlTLEVBQUcsQ0FDVCxJQUFJaEosRUFBSXVJLEVBQU14UixFQUFJLElBQ2xCLE9BQVUsSUFBTmlKLEVBQWdCeUYsRUFDaEJ6RixHQUFLZ0osT0FBOEI3aEIsSUFBcEJ5aEIsRUFBUzVJLEVBQUksR0FBbUJ2SSxFQUFPd1IsRUFBSSxHQUFLTCxFQUFTNUksRUFBSSxHQUFLdkksRUFBT3dSLEVBQUksR0FDekZ4RCxFQUVUeUQsRUFBVU4sRUFBUzdSLEVBQUksR0FFM0IsWUFBbUI1UCxJQUFaK2hCLEVBQXdCLEdBQUtBLE8sZUN6Q3hDLElBQUlDLEVBQVEsU0FBVXRSLEdBQ3BCLE9BQU9BLEdBQU1BLEVBQUcvUyxNQUFRQSxNQUFRK1MsR0FJbENsVSxFQUFPQyxRQUVMdWxCLEVBQTJCLGlCQUFkQyxZQUEwQkEsYUFDdkNELEVBQXVCLGlCQUFWM2xCLFFBQXNCQSxTQUVuQzJsQixFQUFxQixpQkFBUjVrQixNQUFvQkEsT0FDakM0a0IsRUFBdUIsaUJBQVYsRUFBQS9rQixHQUFzQixFQUFBQSxJQUVuQyxXQUFlLE9BQU8yRCxLQUF0QixJQUFvQ3RELFNBQVMsY0FBVEEsSSxlQ2J0QyxJQUFJd1UsRUFBYyxFQUFRLE1BQ3RCRSxFQUFXLEVBQVEsTUFFbkJuUSxFQUFpQmlRLEVBQVksR0FBR2pRLGdCQUtwQ3JGLEVBQU9DLFFBQVVTLE9BQU95WSxRQUFVLFNBQWdCakYsRUFBSTNOLEdBQ3BELE9BQU9sQixFQUFlbVEsRUFBU3RCLEdBQUszTixLLFNDVHRDdkcsRUFBT0MsUUFBVSxJLGVDQWpCLElBQUk0aEIsRUFBYSxFQUFRLE1BRXpCN2hCLEVBQU9DLFFBQVU0aEIsRUFBVyxXQUFZLG9CLGVDRnhDLElBQUk5RSxFQUFjLEVBQVEsS0FDdEIzSSxFQUFRLEVBQVEsTUFDaEJyVSxFQUFnQixFQUFRLE1BRzVCQyxFQUFPQyxTQUFXOGMsSUFBZ0IzSSxHQUFNLFdBRXRDLE9BRVEsR0FGRDFULE9BQU80SixlQUFldkssRUFBYyxPQUFRLElBQUssQ0FDdEQySCxJQUFLLFdBQWMsT0FBTyxLQUN6QmdlLE0sZUNUTCxJQUFJcFEsRUFBYyxFQUFRLE1BQ3RCbEIsRUFBUSxFQUFRLE1BQ2hCdU4sRUFBVSxFQUFRLE1BRWxCbEosRUFBVS9YLE9BQ1Z1SSxFQUFRcU0sRUFBWSxHQUFHck0sT0FHM0JqSixFQUFPQyxRQUFVbVUsR0FBTSxXQUdyQixPQUFRcUUsRUFBUSxLQUFLa04scUJBQXFCLE1BQ3ZDLFNBQVV6UixHQUNiLE1BQXNCLFVBQWZ5TixFQUFRek4sR0FBa0JqTCxFQUFNaUwsRUFBSSxJQUFNdUUsRUFBUXZFLElBQ3ZEdUUsRyxlQ2RKLElBQUlwRixFQUFhLEVBQVEsTUFDckI1UixFQUFXLEVBQVEsTUFDbkJxYyxFQUFpQixFQUFRLE1BRzdCOWQsRUFBT0MsUUFBVSxTQUFVZ1YsRUFBTzhHLEVBQU82SixHQUN2QyxJQUFJQyxFQUFXQyxFQVVmLE9BUEVoSSxHQUVBekssRUFBV3dTLEVBQVk5SixFQUFNcE0sY0FDN0JrVyxJQUFjRCxHQUNkbmtCLEVBQVNxa0IsRUFBcUJELEVBQVU3a0IsWUFDeEM4a0IsSUFBdUJGLEVBQVE1a0IsV0FDL0I4YyxFQUFlN0ksRUFBTzZRLEdBQ2pCN1EsSSxlQ2hCVCxJQUFJSyxFQUFjLEVBQVEsTUFDdEJqQyxFQUFhLEVBQVEsTUFDckJxRyxFQUFRLEVBQVEsTUFFaEJxTSxFQUFtQnpRLEVBQVl4VSxTQUFTRyxVQUd2Q29TLEVBQVdxRyxFQUFNc00saUJBQ3BCdE0sRUFBTXNNLGNBQWdCLFNBQVU5UixHQUM5QixPQUFPNlIsRUFBaUI3UixLQUk1QmxVLEVBQU9DLFFBQVV5WixFQUFNc00sZSxlQ2J2QixJQUFJeEwsRUFBSSxFQUFRLE1BQ1psRixFQUFjLEVBQVEsTUFDdEIyUSxFQUFhLEVBQVEsTUFDckJ4a0IsRUFBVyxFQUFRLE1BQ25CMFgsRUFBUyxFQUFRLE1BQ2pCN08sRUFBaUIsVUFDakI0YixFQUE0QixFQUFRLE1BQ3BDQyxFQUFvQyxFQUFRLE1BQzVDNVIsRUFBZSxFQUFRLE1BQ3ZCL1AsRUFBTSxFQUFRLE1BQ2Q0aEIsRUFBVyxFQUFRLE1BRW5CQyxHQUFXLEVBQ1hDLEVBQVc5aEIsRUFBSSxRQUNmZ1YsRUFBSyxFQUVMK00sRUFBYyxTQUFVclMsR0FDMUI1SixFQUFlNEosRUFBSW9TLEVBQVUsQ0FBRTVrQixNQUFPLENBQ3BDOGtCLFNBQVUsSUFBTWhOLElBQ2hCaU4sU0FBVSxPQThEVkMsRUFBTzFtQixFQUFPQyxRQUFVLENBQzFCdWIsT0EzQlcsV0FDWGtMLEVBQUtsTCxPQUFTLGFBQ2Q2SyxHQUFXLEVBQ1gsSUFBSU0sRUFBc0JULEVBQTBCN0osRUFDaEQ3VyxFQUFTOFAsRUFBWSxHQUFHOVAsUUFDeEJwRCxFQUFPLEdBQ1hBLEVBQUtra0IsR0FBWSxFQUdiSyxFQUFvQnZrQixHQUFNMkQsU0FDNUJtZ0IsRUFBMEI3SixFQUFJLFNBQVVuSSxHQUV0QyxJQURBLElBQUl0UixFQUFTK2pCLEVBQW9CelMsR0FDeEI1TCxFQUFJLEVBQUd2QyxFQUFTbkQsRUFBT21ELE9BQVF1QyxFQUFJdkMsRUFBUXVDLElBQ2xELEdBQUkxRixFQUFPMEYsS0FBT2dlLEVBQVUsQ0FDMUI5Z0IsRUFBTzVDLEVBQVEwRixFQUFHLEdBQ2xCLE1BRUYsT0FBTzFGLEdBR1g0WCxFQUFFLENBQUVsSSxPQUFRLFNBQVVxUSxNQUFNLEVBQU0zRyxRQUFRLEdBQVEsQ0FDaEQySyxvQkFBcUJSLEVBQWtDOUosTUFPM0R1SyxRQTVEWSxTQUFVMVMsRUFBSTlKLEdBRTFCLElBQUszSSxFQUFTeVMsR0FBSyxNQUFvQixpQkFBTkEsRUFBaUJBLEdBQW1CLGlCQUFOQSxFQUFpQixJQUFNLEtBQU9BLEVBQzdGLElBQUtpRixFQUFPakYsRUFBSW9TLEdBQVcsQ0FFekIsSUFBSy9SLEVBQWFMLEdBQUssTUFBTyxJQUU5QixJQUFLOUosRUFBUSxNQUFPLElBRXBCbWMsRUFBWXJTLEdBRVosT0FBT0EsRUFBR29TLEdBQVVFLFVBa0R0QjFOLFlBL0NnQixTQUFVNUUsRUFBSTlKLEdBQzlCLElBQUsrTyxFQUFPakYsRUFBSW9TLEdBQVcsQ0FFekIsSUFBSy9SLEVBQWFMLEdBQUssT0FBTyxFQUU5QixJQUFLOUosRUFBUSxPQUFPLEVBRXBCbWMsRUFBWXJTLEdBRVosT0FBT0EsRUFBR29TLEdBQVVHLFVBdUN0QkksU0FuQ2EsU0FBVTNTLEdBRXZCLE9BRElrUyxHQUFZQyxHQUFZOVIsRUFBYUwsS0FBUWlGLEVBQU9qRixFQUFJb1MsSUFBV0MsRUFBWXJTLEdBQzVFQSxJQW9DVCtSLEVBQVdLLElBQVksRyxlQ3hGdkIsSUFhSXBnQixFQUFLd0IsRUFBS0QsRUFiVnFmLEVBQWtCLEVBQVEsTUFDMUJyTSxFQUFTLEVBQVEsTUFDakJuRixFQUFjLEVBQVEsTUFDdEI3VCxFQUFXLEVBQVEsTUFDbkJzYyxFQUE4QixFQUFRLE1BQ3RDNUUsRUFBUyxFQUFRLE1BQ2pCNE4sRUFBUyxFQUFRLE1BQ2pCQyxFQUFZLEVBQVEsTUFDcEJmLEVBQWEsRUFBUSxNQUVyQmdCLEVBQTZCLDZCQUM3QjlqQixFQUFZc1gsRUFBT3RYLFVBQ25CNk8sRUFBVXlJLEVBQU96SSxRQWdCckIsR0FBSThVLEdBQW1CQyxFQUFPNWEsTUFBTyxDQUNuQyxJQUFJdU4sRUFBUXFOLEVBQU81YSxRQUFVNGEsRUFBTzVhLE1BQVEsSUFBSTZGLEdBQzVDa1YsRUFBUTVSLEVBQVlvRSxFQUFNaFMsS0FDMUJ5ZixFQUFRN1IsRUFBWW9FLEVBQU1qUyxLQUMxQjJmLEVBQVE5UixFQUFZb0UsRUFBTXhULEtBQzlCQSxFQUFNLFNBQVVnTyxFQUFJbVQsR0FDbEIsR0FBSUYsRUFBTXpOLEVBQU94RixHQUFLLE1BQU0sSUFBSS9RLEVBQVU4akIsR0FHMUMsT0FGQUksRUFBU0MsT0FBU3BULEVBQ2xCa1QsRUFBTTFOLEVBQU94RixFQUFJbVQsR0FDVkEsR0FFVDNmLEVBQU0sU0FBVXdNLEdBQ2QsT0FBT2dULEVBQU14TixFQUFPeEYsSUFBTyxJQUU3QnpNLEVBQU0sU0FBVXlNLEdBQ2QsT0FBT2lULEVBQU16TixFQUFPeEYsUUFFakIsQ0FDTCxJQUFJcVQsRUFBUVAsRUFBVSxTQUN0QmYsRUFBV3NCLElBQVMsRUFDcEJyaEIsRUFBTSxTQUFVZ08sRUFBSW1ULEdBQ2xCLEdBQUlsTyxFQUFPakYsRUFBSXFULEdBQVEsTUFBTSxJQUFJcGtCLEVBQVU4akIsR0FHM0MsT0FGQUksRUFBU0MsT0FBU3BULEVBQ2xCNkosRUFBNEI3SixFQUFJcVQsRUFBT0YsR0FDaENBLEdBRVQzZixFQUFNLFNBQVV3TSxHQUNkLE9BQU9pRixFQUFPakYsRUFBSXFULEdBQVNyVCxFQUFHcVQsR0FBUyxJQUV6QzlmLEVBQU0sU0FBVXlNLEdBQ2QsT0FBT2lGLEVBQU9qRixFQUFJcVQsSUFJdEJ2bkIsRUFBT0MsUUFBVSxDQUNmaUcsSUFBS0EsRUFDTHdCLElBQUtBLEVBQ0xELElBQUtBLEVBQ0wrZixRQW5EWSxTQUFVdFQsR0FDdEIsT0FBT3pNLEVBQUl5TSxHQUFNeE0sRUFBSXdNLEdBQU1oTyxFQUFJZ08sRUFBSSxLQW1EbkNxRixVQWhEYyxTQUFVN0QsR0FDeEIsT0FBTyxTQUFVeEIsR0FDZixJQUFJL0gsRUFDSixJQUFLMUssRUFBU3lTLEtBQVEvSCxFQUFRekUsRUFBSXdNLElBQUt2UyxPQUFTK1QsRUFDOUMsTUFBTXZTLEVBQVUsMEJBQTRCdVMsRUFBTyxhQUNuRCxPQUFPdkosTSxlQ3hCYixJQUFJd0gsRUFBa0IsRUFBUSxNQUMxQitJLEVBQVksRUFBUSxNQUVwQjdFLEVBQVdsRSxFQUFnQixZQUMzQkUsRUFBaUJqUCxNQUFNNUQsVUFHM0JoQixFQUFPQyxRQUFVLFNBQVVpVSxHQUN6QixZQUFjMVEsSUFBUDBRLElBQXFCd0ksRUFBVTlYLFFBQVVzUCxHQUFNTCxFQUFlZ0UsS0FBYzNELEssZUNSckYsSUFBSXlOLEVBQVUsRUFBUSxNQUt0QjNoQixFQUFPQyxRQUFVMkUsTUFBTXlELFNBQVcsU0FBaUJtTCxHQUNqRCxNQUE0QixTQUFyQm1PLEVBQVFuTyxLLFNDSmpCeFQsRUFBT0MsUUFBVSxTQUFVdVQsR0FDekIsTUFBMEIsbUJBQVpBLEksZUNIaEIsSUFBSThCLEVBQWMsRUFBUSxNQUN0QmxCLEVBQVEsRUFBUSxNQUNoQmYsRUFBYSxFQUFRLE1BQ3JCc08sRUFBVSxFQUFRLE1BQ2xCRSxFQUFhLEVBQVEsTUFDckJtRSxFQUFnQixFQUFRLE1BRXhCeUIsRUFBTyxhQUNQOWQsRUFBUSxHQUNSK2QsRUFBWTdGLEVBQVcsVUFBVyxhQUNsQzhGLEVBQW9CLDJCQUNwQjFpQixFQUFPcVEsRUFBWXFTLEVBQWtCMWlCLE1BQ3JDMmlCLEdBQXVCRCxFQUFrQjFpQixLQUFLd2lCLEdBRTlDSSxFQUFzQixTQUF1QnJVLEdBQy9DLElBQUtILEVBQVdHLEdBQVcsT0FBTyxFQUNsQyxJQUVFLE9BREFrVSxFQUFVRCxFQUFNOWQsRUFBTzZKLElBQ2hCLEVBQ1AsTUFBTzBFLEdBQ1AsT0FBTyxJQUlQNFAsRUFBc0IsU0FBdUJ0VSxHQUMvQyxJQUFLSCxFQUFXRyxHQUFXLE9BQU8sRUFDbEMsT0FBUW1PLEVBQVFuTyxJQUNkLElBQUssZ0JBQ0wsSUFBSyxvQkFDTCxJQUFLLHlCQUEwQixPQUFPLEVBRXhDLElBSUUsT0FBT29VLEtBQXlCM2lCLEVBQUswaUIsRUFBbUIzQixFQUFjeFMsSUFDdEUsTUFBTzBFLEdBQ1AsT0FBTyxJQUlYNFAsRUFBb0JqRixNQUFPLEVBSTNCN2lCLEVBQU9DLFNBQVd5bkIsR0FBYXRULEdBQU0sV0FDbkMsSUFBSTJELEVBQ0osT0FBTzhQLEVBQW9CQSxFQUFvQi9sQixRQUN6QytsQixFQUFvQm5uQixVQUNwQm1uQixHQUFvQixXQUFjOVAsR0FBUyxNQUM1Q0EsS0FDRitQLEVBQXNCRCxHLGVDbkQzQixJQUFJelQsRUFBUSxFQUFRLE1BQ2hCZixFQUFhLEVBQVEsTUFFckI4UixFQUFjLGtCQUVkekssRUFBVyxTQUFVcU4sRUFBU0MsR0FDaEMsSUFBSXRtQixFQUFRZ0YsRUFBS3VoQixFQUFVRixJQUMzQixPQUFPcm1CLEdBQVN3bUIsR0FDWnhtQixHQUFTeW1CLElBQ1Q5VSxFQUFXMlUsR0FBYTVULEVBQU00VCxLQUM1QkEsSUFHSkMsRUFBWXZOLEVBQVN1TixVQUFZLFNBQVVHLEdBQzdDLE9BQU8xVSxPQUFPMFUsR0FBUWxtQixRQUFRaWpCLEVBQWEsS0FBS2tELGVBRzlDM2hCLEVBQU9nVSxFQUFTaFUsS0FBTyxHQUN2QnloQixFQUFTek4sRUFBU3lOLE9BQVMsSUFDM0JELEVBQVd4TixFQUFTd04sU0FBVyxJQUVuQ2xvQixFQUFPQyxRQUFVeWEsRyxlQ3JCakIsSUFBSXJILEVBQWEsRUFBUSxNQUV6QnJULEVBQU9DLFFBQVUsU0FBVWlVLEdBQ3pCLE1BQW9CLGlCQUFOQSxFQUF3QixPQUFQQSxFQUFjYixFQUFXYSxLLFNDSDFEbFUsRUFBT0MsU0FBVSxHLGVDQWpCLElBQUk0aEIsRUFBYSxFQUFRLE1BQ3JCeE8sRUFBYSxFQUFRLE1BQ3JCWSxFQUFnQixFQUFRLE1BQ3hCcVUsRUFBb0IsRUFBUSxNQUU1QjdQLEVBQVUvWCxPQUVkVixFQUFPQyxRQUFVcW9CLEVBQW9CLFNBQVVwVSxHQUM3QyxNQUFvQixpQkFBTkEsR0FDWixTQUFVQSxHQUNaLElBQUlxVSxFQUFVMUcsRUFBVyxVQUN6QixPQUFPeE8sRUFBV2tWLElBQVl0VSxFQUFjc1UsRUFBUXZuQixVQUFXeVgsRUFBUXZFLE0sZUNYekUsSUFBSXJMLEVBQU8sRUFBUSxNQUNmL0csRUFBTyxFQUFRLE1BQ2ZpWCxFQUFXLEVBQVEsTUFDbkJ6RixFQUFjLEVBQVEsS0FDdEJrVixFQUF3QixFQUFRLE1BQ2hDMVQsRUFBb0IsRUFBUSxNQUM1QmIsRUFBZ0IsRUFBUSxNQUN4QndVLEVBQWMsRUFBUSxNQUN0QmxFLEVBQW9CLEVBQVEsS0FDNUJtRSxFQUFnQixFQUFRLE1BRXhCblYsRUFBYXBRLFVBRWJ3bEIsRUFBUyxTQUFVQyxFQUFTaG1CLEdBQzlCd0IsS0FBS3drQixRQUFVQSxFQUNmeGtCLEtBQUt4QixPQUFTQSxHQUdaaW1CLEVBQWtCRixFQUFPM25CLFVBRTdCaEIsRUFBT0MsUUFBVSxTQUFVa2EsRUFBVTJPLEVBQWlCdG1CLEdBQ3BELElBS0lrSixFQUFVcWQsRUFBUWpqQixFQUFPQyxFQUFRbkQsRUFBUTBKLEVBQU0wYyxFQUwvQzlTLEVBQU8xVCxHQUFXQSxFQUFRMFQsS0FDMUJrRSxLQUFnQjVYLElBQVdBLEVBQVE0WCxZQUNuQzZPLEtBQWlCem1CLElBQVdBLEVBQVF5bUIsYUFDcENDLEtBQWlCMW1CLElBQVdBLEVBQVEwbUIsYUFDcENoRixFQUFLcmIsRUFBS2lnQixFQUFpQjVTLEdBRzNCaVQsRUFBTyxTQUFVQyxHQUVuQixPQURJMWQsR0FBVWdkLEVBQWNoZCxFQUFVLFNBQVUwZCxHQUN6QyxJQUFJVCxHQUFPLEVBQU1TLElBR3RCQyxFQUFTLFNBQVUzbkIsR0FDckIsT0FBSTBZLEdBQ0ZyQixFQUFTclgsR0FDRnduQixFQUFjaEYsRUFBR3hpQixFQUFNLEdBQUlBLEVBQU0sR0FBSXluQixHQUFRakYsRUFBR3hpQixFQUFNLEdBQUlBLEVBQU0sS0FDaEV3bkIsRUFBY2hGLEVBQUd4aUIsRUFBT3luQixHQUFRakYsRUFBR3hpQixJQUc5QyxHQUFJdW5CLEVBQ0Z2ZCxFQUFXeU8sTUFDTixDQUVMLEtBREE0TyxFQUFTeEUsRUFBa0JwSyxJQUNkLE1BQU01RyxFQUFXRCxFQUFZNkcsR0FBWSxvQkFFdEQsR0FBSXFPLEVBQXNCTyxHQUFTLENBQ2pDLElBQUtqakIsRUFBUSxFQUFHQyxFQUFTK08sRUFBa0JxRixHQUFXcFUsRUFBU0QsRUFBT0EsSUFFcEUsSUFEQWxELEVBQVN5bUIsRUFBT2xQLEVBQVNyVSxNQUNYbU8sRUFBYzRVLEVBQWlCam1CLEdBQVMsT0FBT0EsRUFDN0QsT0FBTyxJQUFJK2xCLEdBQU8sR0FFdEJqZCxFQUFXK2MsRUFBWXRPLEVBQVU0TyxHQUluQyxJQURBemMsRUFBT1osRUFBU1ksT0FDUDBjLEVBQU9sbkIsRUFBS3dLLEVBQU1aLElBQVd1TSxNQUFNLENBQzFDLElBQ0VyVixFQUFTeW1CLEVBQU9MLEVBQUt0bkIsT0FDckIsTUFBT3dXLEdBQ1B3USxFQUFjaGQsRUFBVSxRQUFTd00sR0FFbkMsR0FBcUIsaUJBQVZ0VixHQUFzQkEsR0FBVXFSLEVBQWM0VSxFQUFpQmptQixHQUFTLE9BQU9BLEVBQzFGLE9BQU8sSUFBSStsQixHQUFPLEssZUMvRHRCLElBQUk3bUIsRUFBTyxFQUFRLE1BQ2ZpWCxFQUFXLEVBQVEsTUFDbkJ1TCxFQUFZLEVBQVEsTUFFeEJ0a0IsRUFBT0MsUUFBVSxTQUFVeUwsRUFBVTRkLEVBQU01bkIsR0FDekMsSUFBSTZuQixFQUFhQyxFQUNqQnpRLEVBQVNyTixHQUNULElBRUUsS0FEQTZkLEVBQWNqRixFQUFVNVksRUFBVSxXQUNoQixDQUNoQixHQUFhLFVBQVQ0ZCxFQUFrQixNQUFNNW5CLEVBQzVCLE9BQU9BLEVBRVQ2bkIsRUFBY3puQixFQUFLeW5CLEVBQWE3ZCxHQUNoQyxNQUFPd00sR0FDUHNSLEdBQWEsRUFDYkQsRUFBY3JSLEVBRWhCLEdBQWEsVUFBVG9SLEVBQWtCLE1BQU01bkIsRUFDNUIsR0FBSThuQixFQUFZLE1BQU1ELEVBRXRCLE9BREF4USxFQUFTd1EsR0FDRjduQixJLDRCQ3BCVCxJQWFJOGEsRUFBbUJpTixFQUFtQ0MsRUFidER0VixFQUFRLEVBQVEsTUFDaEJmLEVBQWEsRUFBUSxNQUNyQmpKLEVBQVMsRUFBUSxNQUNqQm1TLEVBQWlCLEVBQVEsTUFDekI1QixFQUFnQixFQUFRLE1BQ3hCaEgsRUFBa0IsRUFBUSxNQUMxQmdLLEVBQVUsRUFBUSxNQUVsQjlGLEVBQVdsRSxFQUFnQixZQUMzQjBLLEdBQXlCLEVBT3pCLEdBQUduWixPQUdDLFNBRk53a0IsRUFBZ0IsR0FBR3hrQixTQUlqQnVrQixFQUFvQ2xOLEVBQWVBLEVBQWVtTixPQUN4QmhwQixPQUFPTSxZQUFXd2IsRUFBb0JpTixHQUhsRHBMLEdBQXlCLEdBT1Q3YSxNQUFyQmdaLEdBQWtDcEksR0FBTSxXQUNuRSxJQUFJaFMsRUFBTyxHQUVYLE9BQU9vYSxFQUFrQjNFLEdBQVUvVixLQUFLTSxLQUFVQSxLQUd4Qm9hLEVBQW9CLEdBQ3ZDbUIsSUFBU25CLEVBQW9CcFMsRUFBT29TLElBSXhDbkosRUFBV21KLEVBQWtCM0UsS0FDaEM4QyxFQUFjNkIsRUFBbUIzRSxHQUFVLFdBQ3pDLE9BQU96VCxRQUlYcEUsRUFBT0MsUUFBVSxDQUNmdWMsa0JBQW1CQSxFQUNuQjZCLHVCQUF3QkEsSSxTQzlDMUJyZSxFQUFPQyxRQUFVLEksZUNBakIsSUFBSTBwQixFQUFXLEVBQVEsTUFJdkIzcEIsRUFBT0MsUUFBVSxTQUFVaUksR0FDekIsT0FBT3loQixFQUFTemhCLEVBQUluQyxVLGVDTHRCLElBQUlxTyxFQUFRLEVBQVEsTUFDaEJmLEVBQWEsRUFBUSxNQUNyQjhGLEVBQVMsRUFBUSxNQUNqQjRELEVBQWMsRUFBUSxLQUN0Qm9CLEVBQTZCLHFCQUM3QjZILEVBQWdCLEVBQVEsTUFDeEI1TSxFQUFzQixFQUFRLE1BRTlCd1EsRUFBdUJ4USxFQUFvQm9PLFFBQzNDbk4sRUFBbUJqQixFQUFvQjFSLElBRXZDNEMsRUFBaUI1SixPQUFPNEosZUFFeEJ1ZixFQUFzQjlNLElBQWdCM0ksR0FBTSxXQUM5QyxPQUFzRixJQUEvRTlKLEdBQWUsY0FBNkIsU0FBVSxDQUFFNUksTUFBTyxJQUFLcUUsVUFHekUrakIsRUFBV3BXLE9BQU9BLFFBQVF6SyxNQUFNLFVBRWhDa1UsRUFBY25kLEVBQU9DLFFBQVUsU0FBVXlCLEVBQU80YixFQUFNOWEsR0FDdkIsWUFBN0JrUixPQUFPNEosR0FBTWpiLE1BQU0sRUFBRyxLQUN4QmliLEVBQU8sSUFBTTVKLE9BQU80SixHQUFNcGIsUUFBUSxxQkFBc0IsTUFBUSxLQUU5RE0sR0FBV0EsRUFBUXVuQixTQUFRek0sRUFBTyxPQUFTQSxHQUMzQzlhLEdBQVdBLEVBQVF3bkIsU0FBUTFNLEVBQU8sT0FBU0EsS0FDMUNuRSxFQUFPelgsRUFBTyxTQUFZeWMsR0FBOEJ6YyxFQUFNNGIsT0FBU0EsSUFDMUVoVCxFQUFlNUksRUFBTyxPQUFRLENBQUVBLE1BQU80YixFQUFNMUssY0FBYyxJQUV6RGlYLEdBQXVCcm5CLEdBQVcyVyxFQUFPM1csRUFBUyxVQUFZZCxFQUFNcUUsU0FBV3ZELEVBQVF5bkIsT0FDekYzZixFQUFlNUksRUFBTyxTQUFVLENBQUVBLE1BQU9jLEVBQVF5bkIsUUFFbkQsSUFDTXpuQixHQUFXMlcsRUFBTzNXLEVBQVMsZ0JBQWtCQSxFQUFRbU4sWUFDbkRvTixHQUFhelMsRUFBZTVJLEVBQU8sWUFBYSxDQUFFbVIsVUFBVSxJQUV2RG5SLEVBQU1WLFlBQVdVLEVBQU1WLGVBQVl3QyxHQUM5QyxNQUFPMFUsSUFDVCxJQUFJL0wsRUFBUXlkLEVBQXFCbG9CLEdBRy9CLE9BRkd5WCxFQUFPaE4sRUFBTyxZQUNqQkEsRUFBTW9HLE9BQVN1WCxFQUFTSSxLQUFvQixpQkFBUjVNLEVBQW1CQSxFQUFPLEtBQ3ZENWIsR0FLWFosU0FBU0UsVUFBVUMsU0FBV2tjLEdBQVksV0FDeEMsT0FBTzlKLEVBQVdqUCxPQUFTaVcsRUFBaUJqVyxNQUFNbU8sUUFBVXlULEVBQWM1aEIsUUFDekUsYSxTQy9DSCxJQUFJK2xCLEVBQU9ocEIsS0FBS2dwQixLQUNadkYsRUFBUXpqQixLQUFLeWpCLE1BS2pCNWtCLEVBQU9DLFFBQVVrQixLQUFLaXBCLE9BQVMsU0FBZUMsR0FDNUMsSUFBSWpYLEdBQUtpWCxFQUNULE9BQVFqWCxFQUFJLEVBQUl3UixFQUFRdUYsR0FBTS9XLEssY0NQaEMsSUFBSXFELEVBQWEsRUFBUSxNQUNyQnJDLEVBQVEsRUFBUSxNQUdwQnBVLEVBQU9DLFVBQVlTLE9BQU95Uix3QkFBMEJpQyxHQUFNLFdBQ3hELElBQUlrVyxFQUFTN2UsU0FHYixPQUFRaUksT0FBTzRXLE1BQWE1cEIsT0FBTzRwQixhQUFtQjdlLFVBRW5EQSxPQUFPb1gsTUFBUXBNLEdBQWNBLEVBQWEsTyxlQ1gvQyxJQUFJZ0UsRUFBUyxFQUFRLE1BQ2pCcEgsRUFBYSxFQUFRLE1BQ3JCMlMsRUFBZ0IsRUFBUSxNQUV4QmhVLEVBQVV5SSxFQUFPekksUUFFckJoUyxFQUFPQyxRQUFVb1QsRUFBV3JCLElBQVksY0FBYzVQLEtBQUs0akIsRUFBY2hVLEssZUNOekUsSUFBSXlJLEVBQVMsRUFBUSxNQUNqQnJHLEVBQVEsRUFBUSxNQUNoQmtCLEVBQWMsRUFBUSxNQUN0QnJVLEVBQVcsRUFBUSxNQUNuQnNwQixFQUFPLGFBQ1BDLEVBQWMsRUFBUSxNQUV0QkMsRUFBWWhRLEVBQU9sYSxTQUNuQmtMLEVBQVNnUCxFQUFPaFAsT0FDaEJvTSxFQUFXcE0sR0FBVUEsRUFBT0MsU0FDNUJnZixFQUFNLFlBQ056bEIsRUFBT3FRLEVBQVlvVixFQUFJemxCLE1BQ3ZCMlosRUFBMkMsSUFBbEM2TCxFQUFVRCxFQUFjLE9BQW1ELEtBQXBDQyxFQUFVRCxFQUFjLFNBRXRFM1MsSUFBYXpELEdBQU0sV0FBY3FXLEVBQVUvcEIsT0FBT21YLE9BSXhEN1gsRUFBT0MsUUFBVTJlLEVBQVMsU0FBa0J3SixFQUFRdUMsR0FDbEQsSUFBSTVXLEVBQUl3VyxFQUFLdHBCLEVBQVNtbkIsSUFDdEIsT0FBT3FDLEVBQVUxVyxFQUFJNFcsSUFBVSxJQUFPMWxCLEVBQUt5bEIsRUFBSzNXLEdBQUssR0FBSyxNQUN4RDBXLEcsNEJDcEJKLElBQUkxTixFQUFjLEVBQVEsS0FDdEJ6SCxFQUFjLEVBQVEsTUFDdEJ4VCxFQUFPLEVBQVEsTUFDZnNTLEVBQVEsRUFBUSxNQUNoQndXLEVBQWEsRUFBUSxNQUNyQkMsRUFBOEIsRUFBUSxNQUN0Q0MsRUFBNkIsRUFBUSxNQUNyQ3RWLEVBQVcsRUFBUSxNQUNuQkQsRUFBZ0IsRUFBUSxNQUd4QndWLEVBQVVycUIsT0FBT3NxQixPQUVqQjFnQixFQUFpQjVKLE9BQU80SixlQUN4QndELEVBQVN3SCxFQUFZLEdBQUd4SCxRQUk1QjlOLEVBQU9DLFNBQVc4cUIsR0FBVzNXLEdBQU0sV0FFakMsR0FBSTJJLEdBUWlCLElBUkZnTyxFQUFRLENBQUVFLEVBQUcsR0FBS0YsRUFBUXpnQixFQUFlLEdBQUksSUFBSyxDQUNuRStFLFlBQVksRUFDWjNILElBQUssV0FDSDRDLEVBQWVsRyxLQUFNLElBQUssQ0FDeEIxQyxNQUFPLEVBQ1AyTixZQUFZLE9BR2QsQ0FBRTRiLEVBQUcsS0FBTUEsRUFBUyxPQUFPLEVBRS9CLElBQUlDLEVBQUksR0FDSkMsRUFBSSxHQUVKYixFQUFTN2UsU0FDVDJmLEVBQVcsdUJBR2YsT0FGQUYsRUFBRVosR0FBVSxFQUNaYyxFQUFTbmlCLE1BQU0sSUFBSXVKLFNBQVEsU0FBVTZZLEdBQU9GLEVBQUVFLEdBQU9BLEtBQ3BCLEdBQTFCTixFQUFRLEdBQUlHLEdBQUdaLElBQWdCTSxFQUFXRyxFQUFRLEdBQUlJLElBQUlqQixLQUFLLEtBQU9rQixLQUMxRSxTQUFnQjlZLEVBQVFDLEdBTTNCLElBTEEsSUFBSStZLEVBQUk5VixFQUFTbEQsR0FDYjJFLEVBQWtCOVMsVUFBVTRCLE9BQzVCRCxFQUFRLEVBQ1JxTSxFQUF3QjBZLEVBQTRCeE8sRUFDcERzSixFQUF1Qm1GLEVBQTJCek8sRUFDL0NwRixFQUFrQm5SLEdBTXZCLElBTEEsSUFJSVMsRUFKQXdOLEVBQUl3QixFQUFjcFIsVUFBVTJCLE1BQzVCWixFQUFPaU4sRUFBd0JyRSxFQUFPOGMsRUFBVzdXLEdBQUk1QixFQUFzQjRCLElBQU02VyxFQUFXN1csR0FDNUZoTyxFQUFTYixFQUFLYSxPQUNkdUQsRUFBSSxFQUVEdkQsRUFBU3VELEdBQ2QvQyxFQUFNckIsRUFBS29FLEtBQ055VCxJQUFlamIsRUFBSzZqQixFQUFzQjVSLEVBQUd4TixLQUFNK2tCLEVBQUUva0IsR0FBT3dOLEVBQUV4TixJQUVyRSxPQUFPK2tCLEdBQ1BQLEcsZUN2REosSUFtRElRLEVBbkRBeFMsRUFBVyxFQUFRLE1BQ25CeVMsRUFBeUIsRUFBUSxLQUNqQ0MsRUFBYyxFQUFRLE1BQ3RCeEYsRUFBYSxFQUFRLE1BQ3JCeUYsRUFBTyxFQUFRLE1BQ2ZqSyxFQUF3QixFQUFRLE1BT2hDdGMsRUFOWSxFQUFRLEtBTVQ2aEIsQ0FBVSxZQUVyQjJFLEVBQW1CLGFBRW5CQyxFQUFZLFNBQVVDLEdBQ3hCLE1BQU9DLFdBQW1CRCxFQUFuQkMsY0FJTEMsRUFBNEIsU0FBVVIsR0FDeENBLEVBQWdCUyxNQUFNSixFQUFVLEtBQ2hDTCxFQUFnQlUsUUFDaEIsSUFBSUMsRUFBT1gsRUFBZ0JZLGFBQWF6ckIsT0FFeEMsT0FEQTZxQixFQUFrQixLQUNYVyxHQTBCTEUsRUFBa0IsV0FDcEIsSUFDRWIsRUFBa0IsSUFBSWMsY0FBYyxZQUNwQyxNQUFPblUsSUF6Qm9CLElBSXpCb1UsRUFGQUMsRUF3QkpILEVBQXFDLG9CQUFadHNCLFNBQ3JCQSxTQUFTMHNCLFFBQVVqQixFQUNqQlEsRUFBMEJSLEtBMUI1QmdCLEVBQVM5SyxFQUFzQixXQUc1QmdMLE1BQU1DLFFBQVUsT0FDdkJoQixFQUFLaUIsWUFBWUosR0FFakJBLEVBQU83TyxJQUFNaEssT0FMSixnQkFNVDRZLEVBQWlCQyxFQUFPSyxjQUFjOXNCLFVBQ3ZCK3NCLE9BQ2ZQLEVBQWVOLE1BQU1KLEVBQVUsc0JBQy9CVSxFQUFlTCxRQUNSSyxFQUFlaFEsR0FpQmxCeVAsRUFBMEJSLEdBRTlCLElBREEsSUFBSXhsQixFQUFTMGxCLEVBQVkxbEIsT0FDbEJBLFlBQWlCcW1CLEVBQXlCLFVBQUVYLEVBQVkxbEIsSUFDL0QsT0FBT3FtQixLQUdUbkcsRUFBVzlnQixJQUFZLEVBS3ZCbkYsRUFBT0MsUUFBVVMsT0FBTzBKLFFBQVUsU0FBZ0JnTCxFQUFHMFgsR0FDbkQsSUFBSWxxQixFQVFKLE9BUFUsT0FBTndTLEdBQ0Z1VyxFQUEwQixVQUFJNVMsRUFBUzNELEdBQ3ZDeFMsRUFBUyxJQUFJK29CLEVBQ2JBLEVBQTBCLFVBQUksS0FFOUIvb0IsRUFBT3VDLEdBQVlpUSxHQUNkeFMsRUFBU3dwQixTQUNNNW9CLElBQWZzcEIsRUFBMkJscUIsRUFBUzRvQixFQUF1Qm5QLEVBQUV6WixFQUFRa3FCLEssY0NqRjlFLElBQUkvUCxFQUFjLEVBQVEsS0FDdEJnUSxFQUEwQixFQUFRLE1BQ2xDNVEsRUFBdUIsRUFBUSxNQUMvQnBELEVBQVcsRUFBUSxNQUNuQm5FLEVBQWtCLEVBQVEsTUFDMUJnVyxFQUFhLEVBQVEsTUFLekIzcUIsRUFBUW9jLEVBQUlVLElBQWdCZ1EsRUFBMEJyc0IsT0FBT2lTLGlCQUFtQixTQUEwQnlDLEVBQUcwWCxHQUMzRy9ULEVBQVMzRCxHQU1ULElBTEEsSUFJSTdPLEVBSkF5bUIsRUFBUXBZLEVBQWdCa1ksR0FDeEI1bkIsRUFBTzBsQixFQUFXa0MsR0FDbEIvbUIsRUFBU2IsRUFBS2EsT0FDZEQsRUFBUSxFQUVMQyxFQUFTRCxHQUFPcVcsRUFBcUJFLEVBQUVqSCxFQUFHN08sRUFBTXJCLEVBQUtZLEtBQVVrbkIsRUFBTXptQixJQUM1RSxPQUFPNk8sSSxlQ2xCVCxJQUFJMkgsRUFBYyxFQUFRLEtBQ3RCa1EsRUFBaUIsRUFBUSxNQUN6QkYsRUFBMEIsRUFBUSxNQUNsQ2hVLEVBQVcsRUFBUSxNQUNuQmtFLEVBQWdCLEVBQVEsTUFFeEIxSixFQUFhcFEsVUFFYitwQixFQUFrQnhzQixPQUFPNEosZUFFekI2aUIsRUFBNEJ6c0IsT0FBT21SLHlCQU92QzVSLEVBQVFvYyxFQUFJVSxFQUFjZ1EsRUFBMEIsU0FBd0IzWCxFQUFHdVAsRUFBR3lJLEdBSWhGLEdBSEFyVSxFQUFTM0QsR0FDVHVQLEVBQUkxSCxFQUFjMEgsR0FDbEI1TCxFQUFTcVUsR0FDUSxtQkFBTmhZLEdBQTBCLGNBQU51UCxHQUFxQixVQUFXeUksR0FSbEQsYUFRNEVBLElBQWVBLEVBQW1CLFNBQUcsQ0FDNUgsSUFBSUMsRUFBVUYsRUFBMEIvWCxFQUFHdVAsR0FDdkMwSSxHQUFXQSxFQUFnQixXQUM3QmpZLEVBQUV1UCxHQUFLeUksRUFBVzFyQixNQUNsQjByQixFQUFhLENBQ1h4YSxhQWRXLGlCQWNtQndhLEVBQWFBLEVBQXVCLGFBQUlDLEVBQW9CLGFBQzFGaGUsV0FoQlMsZUFnQmlCK2QsRUFBYUEsRUFBcUIsV0FBSUMsRUFBa0IsV0FDbEZ4YSxVQUFVLElBR2QsT0FBT3FhLEVBQWdCOVgsRUFBR3VQLEVBQUd5SSxJQUM3QkYsRUFBa0IsU0FBd0I5WCxFQUFHdVAsRUFBR3lJLEdBSWxELEdBSEFyVSxFQUFTM0QsR0FDVHVQLEVBQUkxSCxFQUFjMEgsR0FDbEI1TCxFQUFTcVUsR0FDTEgsRUFBZ0IsSUFDbEIsT0FBT0MsRUFBZ0I5WCxFQUFHdVAsRUFBR3lJLEdBQzdCLE1BQU9sVixJQUNULEdBQUksUUFBU2tWLEdBQWMsUUFBU0EsRUFBWSxNQUFNN1osRUFBVywyQkFFakUsTUFESSxVQUFXNlosSUFBWWhZLEVBQUV1UCxHQUFLeUksRUFBVzFyQixPQUN0QzBULEksZUN6Q1QsSUFBSTJILEVBQWMsRUFBUSxLQUN0QmpiLEVBQU8sRUFBUSxNQUNmZ3BCLEVBQTZCLEVBQVEsTUFDckNyTyxFQUEyQixFQUFRLE1BQ25DN0gsRUFBa0IsRUFBUSxNQUMxQnFJLEVBQWdCLEVBQVEsTUFDeEI5RCxFQUFTLEVBQVEsTUFDakI4VCxFQUFpQixFQUFRLE1BR3pCRSxFQUE0QnpzQixPQUFPbVIseUJBSXZDNVIsRUFBUW9jLEVBQUlVLEVBQWNvUSxFQUE0QixTQUFrQy9YLEVBQUd1UCxHQUd6RixHQUZBdlAsRUFBSVIsRUFBZ0JRLEdBQ3BCdVAsRUFBSTFILEVBQWMwSCxHQUNkc0ksRUFBZ0IsSUFDbEIsT0FBT0UsRUFBMEIvWCxFQUFHdVAsR0FDcEMsTUFBT3pNLElBQ1QsR0FBSWlCLEVBQU8vRCxFQUFHdVAsR0FBSSxPQUFPbEksR0FBMEIzYSxFQUFLZ3BCLEVBQTJCek8sRUFBR2pILEVBQUd1UCxHQUFJdlAsRUFBRXVQLE0sZUNuQmpHLElBQUloRCxFQUFVLEVBQVEsTUFDbEIvTSxFQUFrQixFQUFRLE1BQzFCMFksRUFBdUIsVUFDdkJDLEVBQWEsRUFBUSxNQUVyQkMsRUFBK0IsaUJBQVYzdEIsUUFBc0JBLFFBQVVhLE9BQU9pbUIsb0JBQzVEam1CLE9BQU9pbUIsb0JBQW9COW1CLFFBQVUsR0FXekNHLEVBQU9DLFFBQVFvYyxFQUFJLFNBQTZCbkksR0FDOUMsT0FBT3NaLEdBQThCLFVBQWY3TCxFQUFRek4sR0FWWCxTQUFVQSxHQUM3QixJQUNFLE9BQU9vWixFQUFxQnBaLEdBQzVCLE1BQU9nRSxHQUNQLE9BQU9xVixFQUFXQyxJQU9oQkMsQ0FBZXZaLEdBQ2ZvWixFQUFxQjFZLEVBQWdCVixNLGVDckIzQyxJQUFJd1osRUFBcUIsRUFBUSxNQUc3QnpILEVBRmMsRUFBUSxNQUVHblksT0FBTyxTQUFVLGFBSzlDN04sRUFBUW9jLEVBQUkzYixPQUFPaW1CLHFCQUF1QixTQUE2QnZSLEdBQ3JFLE9BQU9zWSxFQUFtQnRZLEVBQUc2USxLLGFDUi9CaG1CLEVBQVFvYyxFQUFJM2IsT0FBT3lSLHVCLGVDRG5CLElBQUlnSCxFQUFTLEVBQVEsTUFDakI5RixFQUFhLEVBQVEsTUFDckJtQyxFQUFXLEVBQVEsTUFDbkJ3UixFQUFZLEVBQVEsTUFDcEIyRyxFQUEyQixFQUFRLE1BRW5DeG9CLEVBQVc2aEIsRUFBVSxZQUNyQnZPLEVBQVUvWCxPQUNWa3RCLEVBQWtCblYsRUFBUXpYLFVBSzlCaEIsRUFBT0MsUUFBVTB0QixFQUEyQmxWLEVBQVE4RCxlQUFpQixTQUFVbkgsR0FDN0UsSUFBSXhPLEVBQVM0TyxFQUFTSixHQUN0QixHQUFJK0QsRUFBT3ZTLEVBQVF6QixHQUFXLE9BQU95QixFQUFPekIsR0FDNUMsSUFBSXdLLEVBQWMvSSxFQUFPK0ksWUFDekIsT0FBSTBELEVBQVcxRCxJQUFnQi9JLGFBQWtCK0ksRUFDeENBLEVBQVkzTyxVQUNaNEYsYUFBa0I2UixFQUFVbVYsRUFBa0IsTyxlQ25CekQsSUFBSXhaLEVBQVEsRUFBUSxNQUNoQjNTLEVBQVcsRUFBUSxNQUNuQmtnQixFQUFVLEVBQVEsTUFDbEJrTSxFQUE4QixFQUFRLE1BR3RDQyxFQUFnQnB0QixPQUFPNlQsYUFDdkJ3WixFQUFzQjNaLEdBQU0sV0FBYzBaLEVBQWMsTUFJNUQ5dEIsRUFBT0MsUUFBVzh0QixHQUF1QkYsRUFBK0IsU0FBc0IzWixHQUM1RixRQUFLelMsRUFBU3lTLE1BQ1YyWixHQUE4QyxlQUFmbE0sRUFBUXpOLE9BQ3BDNFosR0FBZ0JBLEVBQWM1WixLQUNuQzRaLEcsZUNmSixJQUFJeFksRUFBYyxFQUFRLE1BRTFCdFYsRUFBT0MsUUFBVXFWLEVBQVksR0FBR3JCLGdCLGVDRmhDLElBQUlxQixFQUFjLEVBQVEsTUFDdEI2RCxFQUFTLEVBQVEsTUFDakJ2RSxFQUFrQixFQUFRLE1BQzFCbEcsRUFBVSxnQkFDVnVYLEVBQWEsRUFBUSxNQUVyQnBlLEVBQU95TixFQUFZLEdBQUd6TixNQUUxQjdILEVBQU9DLFFBQVUsU0FBVTJHLEVBQVFvbkIsR0FDakMsSUFHSXpuQixFQUhBNk8sRUFBSVIsRUFBZ0JoTyxHQUNwQjBCLEVBQUksRUFDSjFGLEVBQVMsR0FFYixJQUFLMkQsS0FBTzZPLEdBQUkrRCxFQUFPOE0sRUFBWTFmLElBQVE0UyxFQUFPL0QsRUFBRzdPLElBQVFzQixFQUFLakYsRUFBUTJELEdBRTFFLEtBQU95bkIsRUFBTWpvQixPQUFTdUMsR0FBTzZRLEVBQU8vRCxFQUFHN08sRUFBTXluQixFQUFNMWxCLFNBQ2hEb0csRUFBUTlMLEVBQVEyRCxJQUFRc0IsRUFBS2pGLEVBQVEyRCxJQUV4QyxPQUFPM0QsSSxlQ2xCVCxJQUFJOHFCLEVBQXFCLEVBQVEsTUFDN0JqQyxFQUFjLEVBQVEsTUFLMUJ6ckIsRUFBT0MsUUFBVVMsT0FBT3dFLE1BQVEsU0FBY2tRLEdBQzVDLE9BQU9zWSxFQUFtQnRZLEVBQUdxVyxLLDBCQ04vQixJQUFJd0MsRUFBd0IsR0FBR3RJLHFCQUUzQjlULEVBQTJCblIsT0FBT21SLHlCQUdsQ3FjLEVBQWNyYyxJQUE2Qm9jLEVBQXNCbnNCLEtBQUssQ0FBRSxFQUFHLEdBQUssR0FJcEY3QixFQUFRb2MsRUFBSTZSLEVBQWMsU0FBOEJ4SixHQUN0RCxJQUFJbkMsRUFBYTFRLEVBQXlCek4sS0FBTXNnQixHQUNoRCxRQUFTbkMsR0FBY0EsRUFBV2xULFlBQ2hDNGUsRyxlQ1pKLElBQUkzWSxFQUFjLEVBQVEsTUFDdEJ5RCxFQUFXLEVBQVEsTUFDbkJvVixFQUFxQixFQUFRLE1BTWpDbnVCLEVBQU9DLFFBQVVTLE9BQU9vZCxpQkFBbUIsYUFBZSxHQUFLLFdBQzdELElBRUlrTSxFQUZBb0UsR0FBaUIsRUFDakJoc0IsRUFBTyxHQUVYLEtBRUU0bkIsRUFBUzFVLEVBQVk1VSxPQUFPbVIseUJBQXlCblIsT0FBT00sVUFBVyxhQUFha0YsTUFDN0U5RCxFQUFNLElBQ2Jnc0IsRUFBaUJoc0IsYUFBZ0J3QyxNQUNqQyxNQUFPc1QsSUFDVCxPQUFPLFNBQXdCOUMsRUFBR21LLEdBS2hDLE9BSkF4RyxFQUFTM0QsR0FDVCtZLEVBQW1CNU8sR0FDZjZPLEVBQWdCcEUsRUFBTzVVLEVBQUdtSyxHQUN6Qm5LLEVBQUVpWixVQUFZOU8sRUFDWm5LLEdBZm9ELFFBaUJ6RDVSLEksNEJDekJOLElBQUk4VSxFQUF3QixFQUFRLE1BQ2hDcUosRUFBVSxFQUFRLE1BSXRCM2hCLEVBQU9DLFFBQVVxWSxFQUF3QixHQUFHclgsU0FBVyxXQUNyRCxNQUFPLFdBQWEwZ0IsRUFBUXZkLE1BQVEsTSxlQ1B0QyxJQUFJdEMsRUFBTyxFQUFRLE1BQ2Z1UixFQUFhLEVBQVEsTUFDckI1UixFQUFXLEVBQVEsTUFFbkI4UixFQUFhcFEsVUFJakJuRCxFQUFPQyxRQUFVLFNBQVVxdUIsRUFBT0MsR0FDaEMsSUFBSXJLLEVBQUlzSyxFQUNSLEdBQWEsV0FBVEQsR0FBcUJsYixFQUFXNlEsRUFBS29LLEVBQU1ydEIsWUFBY1EsRUFBUytzQixFQUFNMXNCLEVBQUtvaUIsRUFBSW9LLElBQVMsT0FBT0UsRUFDckcsR0FBSW5iLEVBQVc2USxFQUFLb0ssRUFBTXJzQixXQUFhUixFQUFTK3NCLEVBQU0xc0IsRUFBS29pQixFQUFJb0ssSUFBUyxPQUFPRSxFQUMvRSxHQUFhLFdBQVRELEdBQXFCbGIsRUFBVzZRLEVBQUtvSyxFQUFNcnRCLFlBQWNRLEVBQVMrc0IsRUFBTTFzQixFQUFLb2lCLEVBQUlvSyxJQUFTLE9BQU9FLEVBQ3JHLE1BQU1qYixFQUFXLDZDLGVDYm5CLElBQUlzTyxFQUFhLEVBQVEsTUFDckJ2TSxFQUFjLEVBQVEsTUFDdEI0USxFQUE0QixFQUFRLE1BQ3BDMkUsRUFBOEIsRUFBUSxNQUN0QzlSLEVBQVcsRUFBUSxNQUVuQmpMLEVBQVN3SCxFQUFZLEdBQUd4SCxRQUc1QjlOLEVBQU9DLFFBQVU0aEIsRUFBVyxVQUFXLFlBQWMsU0FBaUIzTixHQUNwRSxJQUFJaFAsRUFBT2doQixFQUEwQjdKLEVBQUV0RCxFQUFTN0UsSUFDNUMvQixFQUF3QjBZLEVBQTRCeE8sRUFDeEQsT0FBT2xLLEVBQXdCckUsRUFBTzVJLEVBQU1pTixFQUFzQitCLElBQU9oUCxJLGVDWjNFLElBQUlwRCxFQUFPLEVBQVEsTUFDZmlYLEVBQVcsRUFBUSxNQUNuQjFGLEVBQWEsRUFBUSxNQUNyQnNPLEVBQVUsRUFBUSxNQUNsQm1CLEVBQWEsRUFBUSxNQUVyQnZQLEVBQWFwUSxVQUlqQm5ELEVBQU9DLFFBQVUsU0FBVXd1QixFQUFHMWEsR0FDNUIsSUFBSTlPLEVBQU93cEIsRUFBRXhwQixLQUNiLEdBQUlvTyxFQUFXcE8sR0FBTyxDQUNwQixJQUFJckMsRUFBU2QsRUFBS21ELEVBQU13cEIsRUFBRzFhLEdBRTNCLE9BRGUsT0FBWG5SLEdBQWlCbVcsRUFBU25XLEdBQ3ZCQSxFQUVULEdBQW1CLFdBQWYrZSxFQUFROE0sR0FBaUIsT0FBTzNzQixFQUFLZ2hCLEVBQVkyTCxFQUFHMWEsR0FDeEQsTUFBTVIsRUFBVyxpRCw0QkNmbkIsSUFvQk1tYixFQUNBQyxFQXJCRjdzQixFQUFPLEVBQVEsTUFDZndULEVBQWMsRUFBUSxNQUN0QnJVLEVBQVcsRUFBUSxNQUNuQjJ0QixFQUFjLEVBQVEsTUFDdEJDLEVBQWdCLEVBQVEsTUFDeEI5SCxFQUFTLEVBQVEsTUFDakIzYyxFQUFTLEVBQVEsTUFDakJpUSxFQUFtQixZQUNuQnlVLEVBQXNCLEVBQVEsTUFDOUJDLEVBQWtCLEVBQVEsTUFFMUJDLEVBQWdCakksRUFBTyx3QkFBeUJyVCxPQUFPMVMsVUFBVWtCLFNBQ2pFK3NCLEVBQWExcEIsT0FBT3ZFLFVBQVVpRSxLQUM5QmlxQixFQUFjRCxFQUNkbmIsRUFBU3dCLEVBQVksR0FBR3hCLFFBQ3hCcEYsRUFBVTRHLEVBQVksR0FBRzVHLFNBQ3pCeE0sRUFBVW9ULEVBQVksR0FBR3BULFNBQ3pCbVcsRUFBYy9DLEVBQVksR0FBR2pULE9BRTdCOHNCLEdBRUVSLEVBQU0sTUFDVjdzQixFQUFLbXRCLEVBRkRQLEVBQU0sSUFFWSxLQUN0QjVzQixFQUFLbXRCLEVBQVlOLEVBQUssS0FDRyxJQUFsQkQsRUFBSVUsV0FBcUMsSUFBbEJULEVBQUlTLFdBR2hDQyxFQUFnQlIsRUFBY1MsYUFHOUJDLE9BQXVDL3JCLElBQXZCLE9BQU95QixLQUFLLElBQUksSUFFeEJrcUIsR0FBNEJJLEdBQWlCRixHQUFpQlAsR0FBdUJDLEtBRy9GRyxFQUFjLFNBQWM5RyxHQUMxQixJQUlJeGxCLEVBQVE0c0IsRUFBUUosRUFBV3ROLEVBQU94WixFQUFHMUIsRUFBUTZGLEVBSjdDNFcsRUFBS2pmLEtBQ0wrSCxFQUFRa08sRUFBaUJnSixHQUN6QkssRUFBTXppQixFQUFTbW5CLEdBQ2ZxSCxFQUFNdGpCLEVBQU1zakIsSUFHaEIsR0FBSUEsRUFJRixPQUhBQSxFQUFJTCxVQUFZL0wsRUFBRytMLFVBQ25CeHNCLEVBQVNkLEVBQUtvdEIsRUFBYU8sRUFBSy9MLEdBQ2hDTCxFQUFHK0wsVUFBWUssRUFBSUwsVUFDWnhzQixFQUdULElBQUk4c0IsRUFBU3ZqQixFQUFNdWpCLE9BQ2ZDLEVBQVNOLEdBQWlCaE0sRUFBR3NNLE9BQzdCck0sRUFBUXhoQixFQUFLOHNCLEVBQWF2TCxHQUMxQjlRLEVBQVM4USxFQUFHOVEsT0FDWnFkLEVBQWEsRUFDYkMsRUFBVW5NLEVBK0NkLEdBN0NJaU0sSUFDRnJNLEVBQVFwaEIsRUFBUW9oQixFQUFPLElBQUssS0FDQyxJQUF6QjVVLEVBQVE0VSxFQUFPLE9BQ2pCQSxHQUFTLEtBR1h1TSxFQUFVeFgsRUFBWXFMLEVBQUtMLEVBQUcrTCxXQUUxQi9MLEVBQUcrTCxVQUFZLEtBQU8vTCxFQUFHeU0sV0FBYXpNLEVBQUd5TSxXQUErQyxPQUFsQ2hjLEVBQU80UCxFQUFLTCxFQUFHK0wsVUFBWSxNQUNuRjdjLEVBQVMsT0FBU0EsRUFBUyxJQUMzQnNkLEVBQVUsSUFBTUEsRUFDaEJELEtBSUZKLEVBQVMsSUFBSWpxQixPQUFPLE9BQVNnTixFQUFTLElBQUsrUSxJQUd6Q2lNLElBQ0ZDLEVBQVMsSUFBSWpxQixPQUFPLElBQU1nTixFQUFTLFdBQVkrUSxJQUU3QzZMLElBQTBCQyxFQUFZL0wsRUFBRytMLFdBRTdDdE4sRUFBUWhnQixFQUFLbXRCLEVBQVlVLEVBQVNILEVBQVNuTSxFQUFJd00sR0FFM0NGLEVBQ0U3TixHQUNGQSxFQUFNd00sTUFBUWpXLEVBQVl5SixFQUFNd00sTUFBT3NCLEdBQ3ZDOU4sRUFBTSxHQUFLekosRUFBWXlKLEVBQU0sR0FBSThOLEdBQ2pDOU4sRUFBTWhjLE1BQVF1ZCxFQUFHK0wsVUFDakIvTCxFQUFHK0wsV0FBYXROLEVBQU0sR0FBRy9iLFFBQ3BCc2QsRUFBRytMLFVBQVksRUFDYkQsR0FBNEJyTixJQUNyQ3VCLEVBQUcrTCxVQUFZL0wsRUFBRzVJLE9BQVNxSCxFQUFNaGMsTUFBUWdjLEVBQU0sR0FBRy9iLE9BQVNxcEIsR0FFekRHLEdBQWlCek4sR0FBU0EsRUFBTS9iLE9BQVMsR0FHM0NqRSxFQUFLa3RCLEVBQWVsTixFQUFNLEdBQUkwTixHQUFRLFdBQ3BDLElBQUtsbkIsRUFBSSxFQUFHQSxFQUFJbkUsVUFBVTRCLE9BQVMsRUFBR3VDLFNBQ2Y5RSxJQUFqQlcsVUFBVW1FLEtBQWtCd1osRUFBTXhaLFFBQUs5RSxNQUs3Q3NlLEdBQVM0TixFQUVYLElBREE1TixFQUFNNE4sT0FBUzlvQixFQUFTd0QsRUFBTyxNQUMxQjlCLEVBQUksRUFBR0EsRUFBSW9uQixFQUFPM3BCLE9BQVF1QyxJQUU3QjFCLEdBREE2RixFQUFRaWpCLEVBQU9wbkIsSUFDRixJQUFNd1osRUFBTXJWLEVBQU0sSUFJbkMsT0FBT3FWLElBSVg5aEIsRUFBT0MsUUFBVWl2QixHLDRCQ25IakIsSUFBSW5XLEVBQVcsRUFBUSxNQUl2Qi9ZLEVBQU9DLFFBQVUsV0FDZixJQUFJaVcsRUFBTzZDLEVBQVMzVSxNQUNoQnhCLEVBQVMsR0FTYixPQVJJc1QsRUFBSzZaLGFBQVludEIsR0FBVSxLQUMzQnNULEVBQUt1RSxTQUFRN1gsR0FBVSxLQUN2QnNULEVBQUs4WixhQUFZcHRCLEdBQVUsS0FDM0JzVCxFQUFLNFosWUFBV2x0QixHQUFVLEtBQzFCc1QsRUFBSytaLFNBQVFydEIsR0FBVSxLQUN2QnNULEVBQUtsQyxVQUFTcFIsR0FBVSxLQUN4QnNULEVBQUtnYSxjQUFhdHRCLEdBQVUsS0FDNUJzVCxFQUFLeVosU0FBUS9zQixHQUFVLEtBQ3BCQSxJLGVDaEJULElBQUl3UixFQUFRLEVBQVEsTUFJaEIrYixFQUhTLEVBQVEsTUFHQTVxQixPQUVqQjhwQixFQUFnQmpiLEdBQU0sV0FDeEIsSUFBSWlQLEVBQUs4TSxFQUFRLElBQUssS0FFdEIsT0FEQTlNLEVBQUcrTCxVQUFZLEVBQ1csTUFBbkIvTCxFQUFHcGUsS0FBSyxXQUtibXJCLEVBQWdCZixHQUFpQmpiLEdBQU0sV0FDekMsT0FBUStiLEVBQVEsSUFBSyxLQUFLUixVQUd4QkwsRUFBZUQsR0FBaUJqYixHQUFNLFdBRXhDLElBQUlpUCxFQUFLOE0sRUFBUSxLQUFNLE1BRXZCLE9BREE5TSxFQUFHK0wsVUFBWSxFQUNVLE1BQWxCL0wsRUFBR3BlLEtBQUssVUFHakJqRixFQUFPQyxRQUFVLENBQ2ZxdkIsYUFBY0EsRUFDZGMsY0FBZUEsRUFDZmYsY0FBZUEsSSxlQzVCakIsSUFBSWpiLEVBQVEsRUFBUSxNQUloQitiLEVBSFMsRUFBUSxNQUdBNXFCLE9BRXJCdkYsRUFBT0MsUUFBVW1VLEdBQU0sV0FDckIsSUFBSWlQLEVBQUs4TSxFQUFRLElBQUssS0FDdEIsUUFBUzlNLEVBQUc0TSxRQUFVNU0sRUFBR3BlLEtBQUssT0FBc0IsTUFBYm9lLEVBQUdDLFcsZUNSNUMsSUFBSWxQLEVBQVEsRUFBUSxNQUloQitiLEVBSFMsRUFBUSxNQUdBNXFCLE9BRXJCdkYsRUFBT0MsUUFBVW1VLEdBQU0sV0FDckIsSUFBSWlQLEVBQUs4TSxFQUFRLFVBQVcsS0FDNUIsTUFBaUMsTUFBMUI5TSxFQUFHcGUsS0FBSyxLQUFLeXFCLE9BQU9oSyxHQUNJLE9BQTdCLElBQUl4akIsUUFBUW1oQixFQUFJLGEsU0NUcEIsSUFBSTlQLEVBQWFwUSxVQUlqQm5ELEVBQU9DLFFBQVUsU0FBVWlVLEdBQ3pCLEdBQVUxUSxNQUFOMFEsRUFBaUIsTUFBTVgsRUFBVyx3QkFBMEJXLEdBQ2hFLE9BQU9BLEksY0NOVCxJQUFJNUosRUFBaUIsVUFDakI2TyxFQUFTLEVBQVEsTUFHakJYLEVBRmtCLEVBQVEsS0FFVjdFLENBQWdCLGVBRXBDM1QsRUFBT0MsUUFBVSxTQUFVcVMsRUFBUStkLEVBQUszTixHQUNsQ3BRLElBQVdvUSxJQUFRcFEsRUFBU0EsRUFBT3RSLFdBQ25Dc1IsSUFBVzZHLEVBQU83RyxFQUFRa0csSUFDNUJsTyxFQUFlZ0ksRUFBUWtHLEVBQWUsQ0FBRTVGLGNBQWMsRUFBTWxSLE1BQU8ydUIsTSxlQ1R2RSxJQUFJdEosRUFBUyxFQUFRLE1BQ2pCdmlCLEVBQU0sRUFBUSxNQUVkVSxFQUFPNmhCLEVBQU8sUUFFbEIvbUIsRUFBT0MsUUFBVSxTQUFVc0csR0FDekIsT0FBT3JCLEVBQUtxQixLQUFTckIsRUFBS3FCLEdBQU8vQixFQUFJK0IsTSxlQ052QyxJQUFJa1UsRUFBUyxFQUFRLE1BQ2pCMkMsRUFBdUIsRUFBUSxNQUUvQmtULEVBQVMscUJBQ1Q1VyxFQUFRZSxFQUFPNlYsSUFBV2xULEVBQXFCa1QsRUFBUSxJQUUzRHR3QixFQUFPQyxRQUFVeVosRyxlQ05qQixJQUFJaUUsRUFBVSxFQUFRLE1BQ2xCakUsRUFBUSxFQUFRLE9BRW5CMVosRUFBT0MsUUFBVSxTQUFVc0csRUFBSzdFLEdBQy9CLE9BQU9nWSxFQUFNblQsS0FBU21ULEVBQU1uVCxRQUFpQi9DLElBQVY5QixFQUFzQkEsRUFBUSxNQUNoRSxXQUFZLElBQUltRyxLQUFLLENBQ3RCa2EsUUFBUyxTQUNUd08sS0FBTTVTLEVBQVUsT0FBUyxTQUN6QjZTLFVBQVcsNENBQ1hDLFFBQVMsMkRBQ1RsZSxPQUFRLHlDLGVDVlYsSUFBSStDLEVBQWMsRUFBUSxNQUN0Qm9iLEVBQXNCLEVBQVEsTUFDOUJ6dkIsRUFBVyxFQUFRLE1BQ25CMHZCLEVBQXlCLEVBQVEsTUFFakM3YyxFQUFTd0IsRUFBWSxHQUFHeEIsUUFDeEI4YyxFQUFhdGIsRUFBWSxHQUFHc2IsWUFDNUJ2WSxFQUFjL0MsRUFBWSxHQUFHalQsT0FFN0IwUyxFQUFlLFNBQVU4YixHQUMzQixPQUFPLFNBQVU1YixFQUFPNmIsR0FDdEIsSUFHSUMsRUFBT0MsRUFIUGpkLEVBQUk5UyxFQUFTMHZCLEVBQXVCMWIsSUFDcEMrUCxFQUFXMEwsRUFBb0JJLEdBQy9CRyxFQUFPbGQsRUFBRWhPLE9BRWIsT0FBSWlmLEVBQVcsR0FBS0EsR0FBWWlNLEVBQWFKLEVBQW9CLFFBQUtydEIsR0FDdEV1dEIsRUFBUUgsRUFBVzdjLEVBQUdpUixJQUNQLE9BQVUrTCxFQUFRLE9BQVUvTCxFQUFXLElBQU1pTSxJQUN0REQsRUFBU0osRUFBVzdjLEVBQUdpUixFQUFXLElBQU0sT0FBVWdNLEVBQVMsTUFDM0RILEVBQ0UvYyxFQUFPQyxFQUFHaVIsR0FDVitMLEVBQ0ZGLEVBQ0V4WSxFQUFZdEUsRUFBR2lSLEVBQVVBLEVBQVcsR0FDVmdNLEVBQVMsT0FBbENELEVBQVEsT0FBVSxJQUEwQixRQUl6RC93QixFQUFPQyxRQUFVLENBR2ZpeEIsT0FBUW5jLEdBQWEsR0FHckJqQixPQUFRaUIsR0FBYSxLLGVDbEN2QixJQUFJTyxFQUFjLEVBQVEsTUFDdEJxYixFQUF5QixFQUFRLE1BQ2pDMXZCLEVBQVcsRUFBUSxNQUNuQnVwQixFQUFjLEVBQVEsTUFFdEJ0b0IsRUFBVW9ULEVBQVksR0FBR3BULFNBQ3pCaXZCLEVBQWEsSUFBTTNHLEVBQWMsSUFDakM0RyxFQUFRN3JCLE9BQU8sSUFBTTRyQixFQUFhQSxFQUFhLEtBQy9DRSxFQUFROXJCLE9BQU80ckIsRUFBYUEsRUFBYSxNQUd6Q3BjLEVBQWUsU0FBVVcsR0FDM0IsT0FBTyxTQUFVVCxHQUNmLElBQUltVCxFQUFTbm5CLEVBQVMwdkIsRUFBdUIxYixJQUc3QyxPQUZXLEVBQVBTLElBQVUwUyxFQUFTbG1CLEVBQVFrbUIsRUFBUWdKLEVBQU8sS0FDbkMsRUFBUDFiLElBQVUwUyxFQUFTbG1CLEVBQVFrbUIsRUFBUWlKLEVBQU8sS0FDdkNqSixJQUlYcG9CLEVBQU9DLFFBQVUsQ0FHZmdNLE1BQU84SSxFQUFhLEdBR3BCbkksSUFBS21JLEVBQWEsR0FHbEJ3VixLQUFNeFYsRUFBYSxLLGVDN0JyQixJQUFJMmIsRUFBc0IsRUFBUSxNQUU5QnR2QixFQUFNRCxLQUFLQyxJQUNYRSxFQUFNSCxLQUFLRyxJQUtmdEIsRUFBT0MsUUFBVSxTQUFVNkYsRUFBT0MsR0FDaEMsSUFBSXVyQixFQUFVWixFQUFvQjVxQixHQUNsQyxPQUFPd3JCLEVBQVUsRUFBSWx3QixFQUFJa3dCLEVBQVV2ckIsRUFBUSxHQUFLekUsRUFBSWd3QixFQUFTdnJCLEssZUNUL0QsSUFBSXdQLEVBQWdCLEVBQVEsTUFDeEJvYixFQUF5QixFQUFRLE1BRXJDM3dCLEVBQU9DLFFBQVUsU0FBVWlVLEdBQ3pCLE9BQU9xQixFQUFjb2IsRUFBdUJ6YyxNLGVDTDlDLElBQUlrVyxFQUFRLEVBQVEsTUFJcEJwcUIsRUFBT0MsUUFBVSxTQUFVdVQsR0FDekIsSUFBSStkLEdBQVUvZCxFQUVkLE9BQU8rZCxHQUFXQSxHQUFxQixJQUFYQSxFQUFlLEVBQUluSCxFQUFNbUgsSyxlQ1B2RCxJQUFJYixFQUFzQixFQUFRLE1BRTlCcHZCLEVBQU1ILEtBQUtHLElBSWZ0QixFQUFPQyxRQUFVLFNBQVV1VCxHQUN6QixPQUFPQSxFQUFXLEVBQUlsUyxFQUFJb3ZCLEVBQW9CbGQsR0FBVyxrQkFBb0IsSSxlQ1AvRSxJQUFJbWQsRUFBeUIsRUFBUSxNQUVqQ2xZLEVBQVUvWCxPQUlkVixFQUFPQyxRQUFVLFNBQVV1VCxHQUN6QixPQUFPaUYsRUFBUWtZLEVBQXVCbmQsTSxlQ1B4QyxJQUFJMVIsRUFBTyxFQUFRLE1BQ2ZMLEVBQVcsRUFBUSxNQUNuQk0sRUFBVyxFQUFRLE1BQ25CdWlCLEVBQVksRUFBUSxNQUNwQmtOLEVBQXNCLEVBQVEsTUFDOUI3ZCxFQUFrQixFQUFRLE1BRTFCSixFQUFhcFEsVUFDYnN1QixFQUFlOWQsRUFBZ0IsZUFJbkMzVCxFQUFPQyxRQUFVLFNBQVVxdUIsRUFBT0MsR0FDaEMsSUFBSzlzQixFQUFTNnNCLElBQVV2c0IsRUFBU3VzQixHQUFRLE9BQU9BLEVBQ2hELElBQ0kxckIsRUFEQTh1QixFQUFlcE4sRUFBVWdLLEVBQU9tRCxHQUVwQyxHQUFJQyxFQUFjLENBR2hCLFFBRmFsdUIsSUFBVCtxQixJQUFvQkEsRUFBTyxXQUMvQjNyQixFQUFTZCxFQUFLNHZCLEVBQWNwRCxFQUFPQyxJQUM5QjlzQixFQUFTbUIsSUFBV2IsRUFBU2EsR0FBUyxPQUFPQSxFQUNsRCxNQUFNMlEsRUFBVywyQ0FHbkIsWUFEYS9QLElBQVQrcUIsSUFBb0JBLEVBQU8sVUFDeEJpRCxFQUFvQmxELEVBQU9DLEssZUN2QnBDLElBQUlvRCxFQUFjLEVBQVEsTUFDdEI1dkIsRUFBVyxFQUFRLE1BSXZCL0IsRUFBT0MsUUFBVSxTQUFVdVQsR0FDekIsSUFBSWpOLEVBQU1vckIsRUFBWW5lLEVBQVUsVUFDaEMsT0FBT3pSLEVBQVN3RSxHQUFPQSxFQUFNQSxFQUFNLEssZUNQckMsSUFHSW5FLEVBQU8sR0FFWEEsRUFMc0IsRUFBUSxLQUVWdVIsQ0FBZ0IsZ0JBR2QsSUFFdEIzVCxFQUFPQyxRQUEyQixlQUFqQnlULE9BQU90UixJLGVDUHhCLElBQUl1ZixFQUFVLEVBQVEsTUFFbEJsTyxFQUFVQyxPQUVkMVQsRUFBT0MsUUFBVSxTQUFVdVQsR0FDekIsR0FBMEIsV0FBdEJtTyxFQUFRbk8sR0FBd0IsTUFBTXJRLFVBQVUsNkNBQ3BELE9BQU9zUSxFQUFRRCxLLFFDTmpCLElBQUlDLEVBQVVDLE9BRWQxVCxFQUFPQyxRQUFVLFNBQVV1VCxHQUN6QixJQUNFLE9BQU9DLEVBQVFELEdBQ2YsTUFBTzBFLEdBQ1AsTUFBTyxZLGVDTlgsSUFBSTVDLEVBQWMsRUFBUSxNQUV0QmtFLEVBQUssRUFDTG9ZLEVBQVV6d0IsS0FBSzB3QixTQUNmNXdCLEVBQVdxVSxFQUFZLEdBQUlyVSxVQUUvQmpCLEVBQU9DLFFBQVUsU0FBVXNHLEdBQ3pCLE1BQU8sZ0JBQXFCL0MsSUFBUitDLEVBQW9CLEdBQUtBLEdBQU8sS0FBT3RGLElBQVd1WSxFQUFLb1ksRUFBUyxNLGVDTnRGLElBQUlFLEVBQWdCLEVBQVEsS0FFNUI5eEIsRUFBT0MsUUFBVTZ4QixJQUNYcm1CLE9BQU9vWCxNQUNrQixpQkFBbkJwWCxPQUFPQyxVLGVDTG5CLElBQUlxUixFQUFjLEVBQVEsS0FDdEIzSSxFQUFRLEVBQVEsTUFJcEJwVSxFQUFPQyxRQUFVOGMsR0FBZTNJLEdBQU0sV0FFcEMsT0FHZ0IsSUFIVDFULE9BQU80SixnQkFBZSxjQUE2QixZQUFhLENBQ3JFNUksTUFBTyxHQUNQbVIsVUFBVSxJQUNUN1IsYyxlQ1ZMLElBQUl5WixFQUFTLEVBQVEsTUFDakJzTSxFQUFTLEVBQVEsTUFDakI1TixFQUFTLEVBQVEsTUFDakIzVSxFQUFNLEVBQVEsTUFDZHN0QixFQUFnQixFQUFRLEtBQ3hCeEosRUFBb0IsRUFBUSxNQUU1QnlKLEVBQXdCaEwsRUFBTyxPQUMvQnRiLEVBQVNnUCxFQUFPaFAsT0FDaEJ1bUIsRUFBWXZtQixHQUFVQSxFQUFZLElBQ2xDd21CLEVBQXdCM0osRUFBb0I3YyxFQUFTQSxHQUFVQSxFQUFPeW1CLGVBQWlCMXRCLEVBRTNGeEUsRUFBT0MsUUFBVSxTQUFVcWQsR0FDekIsSUFBS25FLEVBQU80WSxFQUF1QnpVLEtBQVd3VSxHQUF1RCxpQkFBL0JDLEVBQXNCelUsR0FBb0IsQ0FDOUcsSUFBSTZVLEVBQWMsVUFBWTdVLEVBQzFCd1UsR0FBaUIzWSxFQUFPMU4sRUFBUTZSLEdBQ2xDeVUsRUFBc0J6VSxHQUFRN1IsRUFBTzZSLEdBRXJDeVUsRUFBc0J6VSxHQURiZ0wsR0FBcUIwSixFQUNBQSxFQUFVRyxHQUVWRixFQUFzQkUsR0FFdEQsT0FBT0osRUFBc0J6VSxLLFNDckJqQ3RkLEVBQU9DLFFBQVUsaUQsNEJDQWpCLElBQUl1YSxFQUFJLEVBQVEsTUFDWjRYLEVBQVUsY0FRZDVYLEVBQUUsQ0FBRWxJLE9BQVEsUUFBU2lOLE9BQU8sRUFBTXZELFFBUEMsRUFBUSxLQUVqQnFXLENBQTZCLFdBS1csQ0FDaEVwaUIsT0FBUSxTQUFnQjBFLEdBQ3RCLE9BQU95ZCxFQUFRaHVCLEtBQU11USxFQUFZeFEsVUFBVTRCLE9BQVMsRUFBSTVCLFVBQVUsUUFBS1gsTyw0QkNYM0UsSUFBSW9SLEVBQWtCLEVBQVEsTUFDMUIwZCxFQUFtQixFQUFRLE1BQzNCNVYsRUFBWSxFQUFRLE1BQ3BCdEQsRUFBc0IsRUFBUSxNQUM5QjlPLEVBQWlCLFVBQ2pCaW9CLEVBQWlCLEVBQVEsTUFDekI1VSxFQUFVLEVBQVEsTUFDbEJaLEVBQWMsRUFBUSxLQUV0QnlWLEVBQWlCLGlCQUNqQm5aLEVBQW1CRCxFQUFvQmxULElBQ3ZDbVUsRUFBbUJqQixFQUFvQkcsVUFBVWlaLEdBWXJEeHlCLEVBQU9DLFFBQVVzeUIsRUFBZTN0QixNQUFPLFNBQVMsU0FBVTZ0QixFQUFVbkosR0FDbEVqUSxFQUFpQmpWLEtBQU0sQ0FDckJ6QyxLQUFNNndCLEVBQ05sZ0IsT0FBUXNDLEVBQWdCNmQsR0FDeEIzc0IsTUFBTyxFQUNQd2pCLEtBQU1BLE9BSVAsV0FDRCxJQUFJbmQsRUFBUWtPLEVBQWlCalcsTUFDekJrTyxFQUFTbkcsRUFBTW1HLE9BQ2ZnWCxFQUFPbmQsRUFBTW1kLEtBQ2J4akIsRUFBUXFHLEVBQU1yRyxRQUNsQixPQUFLd00sR0FBVXhNLEdBQVN3TSxFQUFPdk0sUUFDN0JvRyxFQUFNbUcsWUFBUzlPLEVBQ1IsQ0FBRTlCLFdBQU84QixFQUFXeVUsTUFBTSxJQUV2QixRQUFScVIsRUFBdUIsQ0FBRTVuQixNQUFPb0UsRUFBT21TLE1BQU0sR0FDckMsVUFBUnFSLEVBQXlCLENBQUU1bkIsTUFBTzRRLEVBQU94TSxHQUFRbVMsTUFBTSxHQUNwRCxDQUFFdlcsTUFBTyxDQUFDb0UsRUFBT3dNLEVBQU94TSxJQUFTbVMsTUFBTSxLQUM3QyxVQUtILElBQUlxSCxFQUFTNUMsRUFBVWdXLFVBQVloVyxFQUFVOVgsTUFRN0MsR0FMQTB0QixFQUFpQixRQUNqQkEsRUFBaUIsVUFDakJBLEVBQWlCLFlBR1ozVSxHQUFXWixHQUErQixXQUFoQnVDLEVBQU9oQyxLQUFtQixJQUN2RGhULEVBQWVnVixFQUFRLE9BQVEsQ0FBRTVkLE1BQU8sV0FDeEMsTUFBT3dXLE0sNEJDM0RULElBQUlzQyxFQUFJLEVBQVEsTUFDWm1ZLEVBQVUsYUFDVmplLEVBQXNCLEVBQVEsTUFDOUJrZSxFQUFpQixFQUFRLE1BQ3pCQyxFQUFVLEVBQVEsTUFTdEJyWSxFQUFFLENBQUVsSSxPQUFRLFFBQVNpTixPQUFPLEVBQU12RCxRQVBkdEgsRUFBb0IsWUFHdEJtZSxHQUFXRCxFQUFpQixJQUFNQSxFQUFpQixJQUlLLENBQ3hFanFCLE9BQVEsU0FBZ0JnTSxHQUN0QixJQUFJNU8sRUFBUzVCLFVBQVU0QixPQUN2QixPQUFPNHNCLEVBQVF2dUIsS0FBTXVRLEVBQVk1TyxFQUFRQSxFQUFTLEVBQUk1QixVQUFVLFFBQUtYLE8sZUNqQnpFLElBQUl1WixFQUFjLEVBQVEsS0FDdEIrVixFQUF1QixlQUN2QnhkLEVBQWMsRUFBUSxNQUN0QmhMLEVBQWlCLFVBRWpCMFosRUFBb0JsakIsU0FBU0UsVUFDN0Ira0IsRUFBbUJ6USxFQUFZME8sRUFBa0IvaUIsVUFDakQ4eEIsRUFBUyxtRUFDVEMsRUFBYTFkLEVBQVl5ZCxFQUFPOXRCLE1BS2hDOFgsSUFBZ0IrVixHQUNsQnhvQixFQUFlMFosRUFMTixPQUsrQixDQUN0Q3BSLGNBQWMsRUFDZGxMLElBQUssV0FDSCxJQUNFLE9BQU9zckIsRUFBV0QsRUFBUWhOLEVBQWlCM2hCLE9BQU8sR0FDbEQsTUFBTzhULEdBQ1AsTUFBTyxRLGVDcEJmLElBQUlzQyxFQUFJLEVBQVEsTUFDWndRLEVBQVMsRUFBUSxNQUtyQnhRLEVBQUUsQ0FBRWxJLE9BQVEsU0FBVXFRLE1BQU0sRUFBTXNILE1BQU8sRUFBR2pPLE9BQVF0YixPQUFPc3FCLFNBQVdBLEdBQVUsQ0FDOUVBLE9BQVFBLEssZUNQVixJQUFJMVMsRUFBd0IsRUFBUSxNQUNoQ3FDLEVBQWdCLEVBQVEsTUFDeEIxWixFQUFXLEVBQVEsTUFJbEJxWCxHQUNIcUMsRUFBY2phLE9BQU9NLFVBQVcsV0FBWUMsRUFBVSxDQUFFc2MsUUFBUSxLLGVDUGxFLElBQUkvQyxFQUFJLEVBQVEsTUFDWmlRLEVBQVksRUFBUSxNQUl4QmpRLEVBQUUsQ0FBRUMsUUFBUSxFQUFNdUIsT0FBUXpiLFVBQVlrcUIsR0FBYSxDQUNqRGxxQixTQUFVa3FCLEssNEJDTFosSUFBSWpRLEVBQUksRUFBUSxNQUNadlYsRUFBTyxFQUFRLE1BSW5CdVYsRUFBRSxDQUFFbEksT0FBUSxTQUFVaU4sT0FBTyxFQUFNdkQsT0FBUSxJQUFJL1csT0FBU0EsR0FBUSxDQUM5REEsS0FBTUEsSyw0QkNOUixJQUFJNk8sRUFBUyxlQUNUN1MsRUFBVyxFQUFRLE1BQ25CbVksRUFBc0IsRUFBUSxNQUM5Qm1aLEVBQWlCLEVBQVEsTUFFekJVLEVBQWtCLGtCQUNsQjVaLEVBQW1CRCxFQUFvQmxULElBQ3ZDbVUsRUFBbUJqQixFQUFvQkcsVUFBVTBaLEdBSXJEVixFQUFlN2UsT0FBUSxVQUFVLFNBQVUrZSxHQUN6Q3BaLEVBQWlCalYsS0FBTSxDQUNyQnpDLEtBQU1zeEIsRUFDTjdLLE9BQVFubkIsRUFBU3d4QixHQUNqQjNzQixNQUFPLE9BSVIsV0FDRCxJQUdJb3RCLEVBSEEvbUIsRUFBUWtPLEVBQWlCalcsTUFDekJna0IsRUFBU2pjLEVBQU1pYyxPQUNmdGlCLEVBQVFxRyxFQUFNckcsTUFFbEIsT0FBSUEsR0FBU3NpQixFQUFPcmlCLE9BQWUsQ0FBRXJFLFdBQU84QixFQUFXeVUsTUFBTSxJQUM3RGliLEVBQVFwZixFQUFPc1UsRUFBUXRpQixHQUN2QnFHLEVBQU1yRyxPQUFTb3RCLEVBQU1udEIsT0FDZCxDQUFFckUsTUFBT3d4QixFQUFPamIsTUFBTSxRLDRCQzNCL0IsSUFBSW5XLEVBQU8sRUFBUSxNQUNmcXhCLEVBQWdDLEVBQVEsTUFDeENwYSxFQUFXLEVBQVEsTUFDbkI0USxFQUFXLEVBQVEsTUFDbkIxb0IsRUFBVyxFQUFRLE1BQ25CMHZCLEVBQXlCLEVBQVEsTUFDakNyTSxFQUFZLEVBQVEsTUFDcEI4TyxFQUFxQixFQUFRLE1BQzdCSixFQUFhLEVBQVEsTUFHekJHLEVBQThCLFNBQVMsU0FBVUUsRUFBT0MsRUFBYUMsR0FDbkUsTUFBTyxDQUdMLFNBQWU5UCxHQUNiLElBQUlyTyxFQUFJdWIsRUFBdUJ2c0IsTUFDM0JvdkIsRUFBb0Jod0IsTUFBVmlnQixPQUFzQmpnQixFQUFZOGdCLEVBQVViLEVBQVE0UCxHQUNsRSxPQUFPRyxFQUFVMXhCLEVBQUsweEIsRUFBUy9QLEVBQVFyTyxHQUFLLElBQUk3UCxPQUFPa2UsR0FBUTRQLEdBQU9weUIsRUFBU21VLEtBSWpGLFNBQVVnVCxHQUNSLElBQUlxTCxFQUFLMWEsRUFBUzNVLE1BQ2QyUCxFQUFJOVMsRUFBU21uQixHQUNidFgsRUFBTXlpQixFQUFnQkQsRUFBYUcsRUFBSTFmLEdBRTNDLEdBQUlqRCxFQUFJbUgsS0FBTSxPQUFPbkgsRUFBSXBQLE1BRXpCLElBQUsreEIsRUFBR2haLE9BQVEsT0FBT3VZLEVBQVdTLEVBQUkxZixHQUV0QyxJQUFJMmYsRUFBY0QsRUFBR3pmLFFBQ3JCeWYsRUFBR3JFLFVBQVksRUFJZixJQUhBLElBRUl4c0IsRUFGQXNvQixFQUFJLEdBQ0o5WCxFQUFJLEVBRWdDLFFBQWhDeFEsRUFBU293QixFQUFXUyxFQUFJMWYsS0FBYyxDQUM1QyxJQUFJNGYsRUFBVzF5QixFQUFTMkIsRUFBTyxJQUMvQnNvQixFQUFFOVgsR0FBS3VnQixFQUNVLEtBQWJBLElBQWlCRixFQUFHckUsVUFBWWdFLEVBQW1CcmYsRUFBRzRWLEVBQVM4SixFQUFHckUsV0FBWXNFLElBQ2xGdGdCLElBRUYsT0FBYSxJQUFOQSxFQUFVLEtBQU84WCxRLDRCQzFDOUIsSUFBSXpuQixFQUFRLEVBQVEsTUFDaEIzQixFQUFPLEVBQVEsTUFDZndULEVBQWMsRUFBUSxNQUN0QjZkLEVBQWdDLEVBQVEsTUFDeEMvZSxFQUFRLEVBQVEsTUFDaEIyRSxFQUFXLEVBQVEsTUFDbkIxRixFQUFhLEVBQVEsTUFDckJxZCxFQUFzQixFQUFRLE1BQzlCL0csRUFBVyxFQUFRLE1BQ25CMW9CLEVBQVcsRUFBUSxNQUNuQjB2QixFQUF5QixFQUFRLE1BQ2pDeUMsRUFBcUIsRUFBUSxNQUM3QjlPLEVBQVksRUFBUSxNQUNwQnNQLEVBQWtCLEVBQVEsTUFDMUJaLEVBQWEsRUFBUSxNQUdyQmEsRUFGa0IsRUFBUSxLQUVoQmxnQixDQUFnQixXQUMxQnZTLEVBQU1ELEtBQUtDLElBQ1hFLEVBQU1ILEtBQUtHLElBQ1h3TSxFQUFTd0gsRUFBWSxHQUFHeEgsUUFDeEJqRyxFQUFPeU4sRUFBWSxHQUFHek4sTUFDdEJpc0IsRUFBZ0J4ZSxFQUFZLEdBQUc1RyxTQUMvQjJKLEVBQWMvQyxFQUFZLEdBQUdqVCxPQVE3QjB4QixFQUVnQyxPQUEzQixJQUFJN3hCLFFBQVEsSUFBSyxNQUl0Qjh4QixJQUNFLElBQUlILElBQzZCLEtBQTVCLElBQUlBLEdBQVMsSUFBSyxNQWlCN0JWLEVBQThCLFdBQVcsU0FBVWMsRUFBR2pGLEVBQWV1RSxHQUNuRSxJQUFJVyxFQUFvQkYsRUFBK0MsSUFBTSxLQUU3RSxNQUFPLENBR0wsU0FBaUJHLEVBQWFDLEdBQzVCLElBQUloZixFQUFJdWIsRUFBdUJ2c0IsTUFDM0Jpd0IsRUFBMEI3d0IsTUFBZjJ3QixPQUEyQjN3QixFQUFZOGdCLEVBQVU2UCxFQUFhTixHQUM3RSxPQUFPUSxFQUNIdnlCLEVBQUt1eUIsRUFBVUYsRUFBYS9lLEVBQUdnZixHQUMvQnR5QixFQUFLa3RCLEVBQWUvdEIsRUFBU21VLEdBQUkrZSxFQUFhQyxJQUlwRCxTQUFVaE0sRUFBUWdNLEdBQ2hCLElBQUlYLEVBQUsxYSxFQUFTM1UsTUFDZDJQLEVBQUk5UyxFQUFTbW5CLEdBRWpCLEdBQ3lCLGlCQUFoQmdNLElBQzZDLElBQXBETixFQUFjTSxFQUFjRixLQUNXLElBQXZDSixFQUFjTSxFQUFjLE1BQzVCLENBQ0EsSUFBSXRqQixFQUFNeWlCLEVBQWdCdkUsRUFBZXlFLEVBQUkxZixFQUFHcWdCLEdBQ2hELEdBQUl0akIsRUFBSW1ILEtBQU0sT0FBT25ILEVBQUlwUCxNQUczQixJQUFJNHlCLEVBQW9CamhCLEVBQVcrZ0IsR0FDOUJFLElBQW1CRixFQUFlbnpCLEVBQVNtekIsSUFFaEQsSUFBSTNaLEVBQVNnWixFQUFHaFosT0FDaEIsR0FBSUEsRUFBUSxDQUNWLElBQUlpWixFQUFjRCxFQUFHemYsUUFDckJ5ZixFQUFHckUsVUFBWSxFQUdqQixJQURBLElBQUltRixFQUFVLEtBQ0QsQ0FDWCxJQUFJM3hCLEVBQVNvd0IsRUFBV1MsRUFBSTFmLEdBQzVCLEdBQWUsT0FBWG5SLEVBQWlCLE1BR3JCLEdBREFpRixFQUFLMHNCLEVBQVMzeEIsSUFDVDZYLEVBQVEsTUFHSSxLQURGeFosRUFBUzJCLEVBQU8sTUFDVjZ3QixFQUFHckUsVUFBWWdFLEVBQW1CcmYsRUFBRzRWLEVBQVM4SixFQUFHckUsV0FBWXNFLElBS3BGLElBRkEsSUEvRXdCeGYsRUErRXBCc2dCLEVBQW9CLEdBQ3BCQyxFQUFxQixFQUNoQm5zQixFQUFJLEVBQUdBLEVBQUlpc0IsRUFBUXh1QixPQUFRdUMsSUFBSyxDQVd2QyxJQVJBLElBQUl5YyxFQUFVOWpCLEdBRmQyQixFQUFTMnhCLEVBQVFqc0IsSUFFYSxJQUMxQjBjLEVBQVc1akIsRUFBSUUsRUFBSW92QixFQUFvQjl0QixFQUFPa0QsT0FBUWlPLEVBQUVoTyxRQUFTLEdBQ2pFa2YsRUFBVyxHQU1OM2IsRUFBSSxFQUFHQSxFQUFJMUcsRUFBT21ELE9BQVF1RCxJQUFLekIsRUFBS29kLE9BM0ZyQ3poQixLQURjMFEsRUE0RitDdFIsRUFBTzBHLElBM0Z4RDRLLEVBQUtSLE9BQU9RLElBNEZoQyxJQUFJZ1IsRUFBZ0J0aUIsRUFBTzhzQixPQUMzQixHQUFJNEUsRUFBbUIsQ0FDckIsSUFBSUksRUFBZTVtQixFQUFPLENBQUNpWCxHQUFVRSxFQUFVRCxFQUFValIsUUFDbkN2USxJQUFsQjBoQixHQUE2QnJkLEVBQUs2c0IsRUFBY3hQLEdBQ3BELElBQUlDLEVBQWNsa0IsRUFBU3dDLEVBQU0yd0IsT0FBYzV3QixFQUFXa3hCLFNBRTFEdlAsRUFBY3lPLEVBQWdCN08sRUFBU2hSLEVBQUdpUixFQUFVQyxFQUFVQyxFQUFla1AsR0FFM0VwUCxHQUFZeVAsSUFDZEQsR0FBcUJuYyxFQUFZdEUsRUFBRzBnQixFQUFvQnpQLEdBQVlHLEVBQ3BFc1AsRUFBcUJ6UCxFQUFXRCxFQUFRaGYsUUFHNUMsT0FBT3l1QixFQUFvQm5jLEVBQVl0RSxFQUFHMGdCLFNBdkZYcmdCLEdBQU0sV0FDekMsSUFBSWlQLEVBQUssSUFPVCxPQU5BQSxFQUFHcGUsS0FBTyxXQUNSLElBQUlyQyxFQUFTLEdBRWIsT0FEQUEsRUFBTzhzQixPQUFTLENBQUVoSyxFQUFHLEtBQ2Q5aUIsR0FHeUIsTUFBM0IsR0FBR1YsUUFBUW1oQixFQUFJLGFBa0ZjMFEsR0FBb0JDLEksNEJDdEkxRCxJQVlJVyxFQVpBbGEsRUFBUyxFQUFRLE1BQ2pCbkYsRUFBYyxFQUFRLE1BQ3RCdUQsRUFBaUIsRUFBUSxNQUN6QitCLEVBQXlCLEVBQVEsTUFDakNnYSxFQUFhLEVBQVEsTUFDckJDLEVBQWlCLEVBQVEsTUFDekJwekIsRUFBVyxFQUFRLE1BQ25COFMsRUFBZSxFQUFRLE1BQ3ZCcVYsRUFBdUIsZ0JBQ3ZCOUMsRUFBa0IsRUFBUSxNQUUxQmdPLEdBQVdyYSxFQUFPNFIsZUFBaUIsa0JBQW1CNVIsRUFHdERWLEVBQVUsU0FBVWdiLEdBQ3RCLE9BQU8sV0FDTCxPQUFPQSxFQUFLM3dCLEtBQU1ELFVBQVU0QixPQUFTNUIsVUFBVSxRQUFLWCxLQU1wRHd4QixFQUFXSixFQUFXLFVBQVc3YSxFQUFTOGEsR0FLOUMsR0FBSS9OLEdBQW1CZ08sRUFBUyxDQUM5QkgsRUFBa0JFLEVBQWUvYSxlQUFlQyxFQUFTLFdBQVcsR0FDcEVhLEVBQXVCWSxTQUN2QixJQUFJeVosRUFBbUJELEVBQVNoMEIsVUFDNUJrMEIsRUFBZTVmLEVBQVkyZixFQUF5QixRQUNwREUsRUFBWTdmLEVBQVkyZixFQUFpQnh0QixLQUN6QzJ0QixFQUFZOWYsRUFBWTJmLEVBQWlCdnRCLEtBQ3pDMnRCLEVBQVkvZixFQUFZMmYsRUFBaUIvdUIsS0FDN0MyUyxFQUFlb2MsRUFBa0IsQ0FDL0IsT0FBVSxTQUFVMXVCLEdBQ2xCLEdBQUk5RSxFQUFTOEUsS0FBU2dPLEVBQWFoTyxHQUFNLENBQ3ZDLElBQUk0RixFQUFReWQsRUFBcUJ4bEIsTUFFakMsT0FESytILEVBQU13TixTQUFReE4sRUFBTXdOLE9BQVMsSUFBSWdiLEdBQy9CTyxFQUFhOXdCLEtBQU1tQyxJQUFRNEYsRUFBTXdOLE9BQWUsT0FBRXBULEdBQ3pELE9BQU8ydUIsRUFBYTl3QixLQUFNbUMsSUFFOUJrQixJQUFLLFNBQWFsQixHQUNoQixHQUFJOUUsRUFBUzhFLEtBQVNnTyxFQUFhaE8sR0FBTSxDQUN2QyxJQUFJNEYsRUFBUXlkLEVBQXFCeGxCLE1BRWpDLE9BREsrSCxFQUFNd04sU0FBUXhOLEVBQU13TixPQUFTLElBQUlnYixHQUMvQlEsRUFBVS93QixLQUFNbUMsSUFBUTRGLEVBQU13TixPQUFPbFMsSUFBSWxCLEdBQ2hELE9BQU80dUIsRUFBVS93QixLQUFNbUMsSUFFM0JtQixJQUFLLFNBQWFuQixHQUNoQixHQUFJOUUsRUFBUzhFLEtBQVNnTyxFQUFhaE8sR0FBTSxDQUN2QyxJQUFJNEYsRUFBUXlkLEVBQXFCeGxCLE1BRWpDLE9BREsrSCxFQUFNd04sU0FBUXhOLEVBQU13TixPQUFTLElBQUlnYixHQUMvQlEsRUFBVS93QixLQUFNbUMsR0FBTzZ1QixFQUFVaHhCLEtBQU1tQyxHQUFPNEYsRUFBTXdOLE9BQU9qUyxJQUFJbkIsR0FDdEUsT0FBTzZ1QixFQUFVaHhCLEtBQU1tQyxJQUUzQkwsSUFBSyxTQUFhSyxFQUFLN0UsR0FDckIsR0FBSUQsRUFBUzhFLEtBQVNnTyxFQUFhaE8sR0FBTSxDQUN2QyxJQUFJNEYsRUFBUXlkLEVBQXFCeGxCLE1BQzVCK0gsRUFBTXdOLFNBQVF4TixFQUFNd04sT0FBUyxJQUFJZ2IsR0FDdENRLEVBQVUvd0IsS0FBTW1DLEdBQU84dUIsRUFBVWp4QixLQUFNbUMsRUFBSzdFLEdBQVN5SyxFQUFNd04sT0FBT3pULElBQUlLLEVBQUs3RSxRQUN0RTJ6QixFQUFVanhCLEtBQU1tQyxFQUFLN0UsR0FDNUIsT0FBTzBDLFUsZUMvRGIsRUFBUSxPLGVDRFIsSUFBSXFXLEVBQVMsRUFBUSxNQUNqQjZhLEVBQWUsRUFBUSxNQUN2QjVULEVBQXdCLEVBQVEsTUFDaENsUCxFQUFVLEVBQVEsTUFDbEJ1TCxFQUE4QixFQUFRLE1BRXRDd1gsRUFBa0IsU0FBVUMsR0FFOUIsR0FBSUEsR0FBdUJBLEVBQW9CaGpCLFVBQVlBLEVBQVMsSUFDbEV1TCxFQUE0QnlYLEVBQXFCLFVBQVdoakIsR0FDNUQsTUFBTzBGLEdBQ1BzZCxFQUFvQmhqQixRQUFVQSxJQUlsQyxJQUFLLElBQUlpakIsS0FBbUJILEVBQ3RCQSxFQUFhRyxJQUNmRixFQUFnQjlhLEVBQU9nYixJQUFvQmhiLEVBQU9nYixHQUFpQnowQixXQUl2RXUwQixFQUFnQjdULEksZUNyQmhCLElBQUlqSCxFQUFTLEVBQVEsTUFDakI2YSxFQUFlLEVBQVEsTUFDdkI1VCxFQUF3QixFQUFRLE1BQ2hDZ1UsRUFBdUIsRUFBUSxNQUMvQjNYLEVBQThCLEVBQVEsTUFDdENwSyxFQUFrQixFQUFRLE1BRTFCa0UsRUFBV2xFLEVBQWdCLFlBQzNCNkUsRUFBZ0I3RSxFQUFnQixlQUNoQ2dpQixFQUFjRCxFQUFxQnBXLE9BRW5DaVcsRUFBa0IsU0FBVUMsRUFBcUJDLEdBQ25ELEdBQUlELEVBQXFCLENBRXZCLEdBQUlBLEVBQW9CM2QsS0FBYzhkLEVBQWEsSUFDakQ1WCxFQUE0QnlYLEVBQXFCM2QsRUFBVThkLEdBQzNELE1BQU96ZCxHQUNQc2QsRUFBb0IzZCxHQUFZOGQsRUFLbEMsR0FIS0gsRUFBb0JoZCxJQUN2QnVGLEVBQTRCeVgsRUFBcUJoZCxFQUFlaWQsR0FFOURILEVBQWFHLEdBQWtCLElBQUssSUFBSTllLEtBQWUrZSxFQUV6RCxHQUFJRixFQUFvQjdlLEtBQWlCK2UsRUFBcUIvZSxHQUFjLElBQzFFb0gsRUFBNEJ5WCxFQUFxQjdlLEVBQWErZSxFQUFxQi9lLElBQ25GLE1BQU91QixHQUNQc2QsRUFBb0I3ZSxHQUFlK2UsRUFBcUIvZSxNQU1oRSxJQUFLLElBQUk4ZSxLQUFtQkgsRUFDMUJDLEVBQWdCOWEsRUFBT2diLElBQW9CaGIsRUFBT2diLEdBQWlCejBCLFVBQVd5MEIsR0FHaEZGLEVBQWdCN1QsRUFBdUIsaUIsd0RDbkJ2QyxRQ2xCZSxTQUFrQzdnQixHQUNoRCxJQUFJK0IsRUFDQTZJLEVBQVM1SyxFQUFLNEssT0FhbEIsTUFYc0IsbUJBQVhBLEVBQ05BLEVBQU9tcUIsV0FDVmh6QixFQUFTNkksRUFBT21xQixZQUVoQmh6QixFQUFTNkksRUFBTyxjQUNoQkEsRUFBT21xQixXQUFhaHpCLEdBR3JCQSxFQUFTLGVBR0hBLEVERUssQ0FaTyxvQkFBVGhDLEtBQ0ZBLEtBQ29CLG9CQUFYZixPQUNUQSxZQUNvQixJQUFYLEVBQUFZLEVBQ1QsRUFBQUEsRUFFQVQsSSxtQkVaVCxRQUFvRyxFQUF5TSxTQUFTQyxFQUFRRCxHQUFRLGFBQWFBLEVBQU9DLFFBQVU0MUIsRUFBVSxJQUEwRkMsRUFBVywwSEFBMEg3c0IsTUFBTSxLQUFLLFNBQVM0c0IsRUFBVXZILEdBQU8sU0FBU3Z1QixFQUFjNEIsRUFBSzJiLEVBQUt2UCxFQUFLZ29CLEdBQVksSUFBSTdnQixFQUFHcFYsU0FBU0MsY0FBYzRCLEdBQWdFLElBQUksSUFBSTRFLEtBQS9EK1csSUFBS3BJLEVBQUc4Z0IsVUFBWTFZLEdBQVF2UCxJQUFLbUgsRUFBRytnQixZQUFjbG9CLEdBQW9CZ29CLEVBQWE3Z0IsRUFBR2doQixhQUFhLFFBQVUzdkIsRUFBSXd2QixFQUFXeHZCLElBQU8sT0FBTzJPLEVBQUksU0FBU3NGLEVBQUUyYixFQUFTQyxHQUFLLE9BQWUsSUFBUkEsRUFBYXh4QixNQUFNNUQsVUFBVXFCLE1BQU1QLEtBQUt1MEIsRUFBS0MsaUJBQWlCSCxJQUFXRSxFQUFLRSxjQUFjSixHQUFXLFNBQVN0dkIsSUFBVyxPQUFPMlQsRUFBRSxRQUFPLEdBQU0vVCxLQUFJLFNBQVNNLEdBQUssT0FBT0EsRUFBSWt2QixlQUFlbm9CLE9BQU91b0IsRUFBSy9ILE1BQU01c0IsT0FBUyxJQUFJd29CLEtBQXJwQixLQUF5eEIsU0FBU3NNLElBQU9sSSxFQUFNNXNCLE1BQVFtRixJQUFXeW5CLEVBQU1tSSxjQUFjLElBQUlDLE1BQU0sV0FBWSxTQUFTQyxFQUFPNW9CLEdBQStELElBQXJEQSxFQUFLVyxRQUEzNEIsT0FBODVCWCxFQUFPQSxFQUFLOUUsTUFBMTZCLE1BQTg3QnJFLE1BQU15RCxRQUFRMEYsR0FBTSxPQUFPQSxFQUFLeUUsUUFBUW1rQixHQUFRLElBQUk1dkIsRUFBSWdILEdBQVFBLEVBQUt3YyxPQUFPLElBQUl4akIsRUFBSSxPQUFPLEVBQU0sSUFBSXVuQixFQUFNc0ksYUFBYSxjQUFjLENBQUMsSUFBSUMsRUFBSyxXQUFZLElBQUlDLEVBQVd0YyxFQUFFLGNBQWdCelQsRUFBTSxNQUFNLEdBQUcrdkIsRUFBcUgsT0FBekdBLEVBQVd0VixVQUFVakgsSUFBSSxRQUFRNVcsWUFBVyxXQUFXLE9BQU9tekIsRUFBV3RWLFVBQVV1VixPQUFPLFVBQVUsS0FBWSxDQUFDQyxHQUFFLEdBQTNMLEdBQXdNLEdBQW1CLGlCQUFUSCxFQUFrQixPQUFPQSxFQUFLRyxFQUFHWCxFQUFLWSxhQUFhbDNCLEVBQWMsT0FBTyxNQUFNZ0gsRUFBSSxDQUFDQSxJQUFJQSxJQUFNc3ZCLEVBQUsvSCxPQUFRLFNBQVM0SSxFQUFPaGlCLEdBQUksSUFBSWlpQixFQUFJM2MsRUFBRSxhQUFnQjJjLEdBQUlBLEVBQUkzVixVQUFVdVYsT0FBTyxZQUFlN2hCLEdBQUdBLEVBQUdzTSxVQUFVakgsSUFBSSxZQUFhLFNBQVM2YyxJQUFnQixJQUFJQyxFQUFLN2MsRUFBRSxRQUFPLEdBQU01UyxNQUFNMHZCLEVBQUVqQixFQUFLa0IsWUFBZ0JELElBQVNqQixFQUFLL0gsTUFBTTdCLE1BQU0rSyxNQUFRcjJCLEtBQUtDLElBQUlrMkIsR0FBS0QsRUFBS0EsRUFBS0ksV0FBYUosRUFBS0UsWUFBWSxHQUFLLEVBQUVELEVBQUksR0FBSyxNQUFNLFNBQVNJLEVBQWlCaDJCLEdBQTJCLGlCQUFWQSxHQUF1QmtELE1BQU15RCxRQUFRM0csS0FBUUEsRUFBUTIwQixFQUFLL0gsTUFBTTVzQixRQUE0QixJQUFsQmkxQixFQUFPajFCLEtBQWtCMjBCLEVBQUsvSCxNQUFNNXNCLE1BQVEsR0FBRzgwQixJQUFPWSxLQUFrQixTQUFTTyxFQUFRMXdCLEdBQTBELE9BQXBEQSxFQUFFcUwsT0FBT2tQLFVBQVVvVyxTQUFTLFFBQU9WLEVBQU9qd0IsRUFBRXFMLFFBQVdyTCxFQUFFcUwsU0FBVytqQixFQUFLL0gsTUFBYTRJLEtBQVNiLEVBQUsvSCxNQUFNdUosUUFBUTV3QixFQUFFNndCLGtCQUF3QixHQUFPLElBQUl6QixFQUFLdDJCLEVBQWMsTUFBTSxjQUFjZzRCLEVBQUl6SixFQUFNMEosWUFBWTFKLEVBQU0ySixXQUFXRixFQUFJLGVBQWUsZUFBZTFCLEVBQUswQixHQUFLekosRUFBTTdCLE1BQU15TCxRQUFVLHdFQUF3RTVKLEVBQU02SixVQUFZLEVBQUU5QixFQUFLL0gsTUFBUXZ1QixFQUFjLFNBQVNzMkIsRUFBSy9ILE1BQU00SCxhQUFhLE9BQU8sUUFBUUosRUFBV3RqQixTQUFRLFNBQVNySyxHQUFNLEdBQUdtbUIsRUFBTW5tQixLQUFVa3VCLEVBQUsvSCxNQUFNbm1CLEdBQU0sQ0FBQ2t1QixFQUFLL0gsTUFBTW5tQixHQUFRbW1CLEVBQU1ubUIsR0FBTSxXQUFXbW1CLEVBQU1ubUIsR0FBTyxNQUFNbEIsU0FBU292QixFQUFLMUosWUFBWTBKLEVBQUsvSCxPQUFPQSxFQUFNOEosaUJBQWlCLFNBQVEsV0FBVy9CLEVBQUsvSCxNQUFNdUosV0FBV3hCLEVBQUsvSCxNQUFNOEosaUJBQWlCLFNBQVEsV0FBVy9CLEVBQUs3VSxVQUFVakgsSUFBSSxTQUFTMmMsT0FBWWIsRUFBSy9ILE1BQU04SixpQkFBaUIsUUFBTyxXQUFXL0IsRUFBSzdVLFVBQVV1VixPQUFPLFNBQVNHLElBQVNRLE9BQXNCckIsRUFBSy9ILE1BQU04SixpQkFBaUIsV0FBVSxTQUFTbnhCLEdBQUcsSUFBSWlPLEVBQUdtaEIsRUFBSy9ILE1BQU0vbkIsRUFBSVUsRUFBRW94QixTQUFXcHhCLEVBQUVxeEIsTUFBTUMsRUFBWS9kLEVBQUUsaUJBQWlCc1csRUFBSTViLEVBQUdzakIsaUJBQW1CdGpCLEVBQUd1akIsY0FBZ0J2akIsRUFBR3NqQixlQUFlbkIsRUFBSzdjLEVBQUUsUUFBTyxHQUFNNVMsTUFBc0IsR0FBaEJ3dkIsSUFBdmhHLEtBQTBpRzd3QixHQUF0Z0csTUFBdWhHQSxHQUFua0csSUFBb2xHQSxFQUFZLENBQUMsSUFBSTJPLEVBQUd4VCxPQUE1akcsTUFBcWtHNkUsRUFBYyxPQUFPbXhCLFNBQXlCLEdBQTVuRyxLQUErbkdueEIsR0FBa0JneUIsRUFBZ0JBLEVBQVlQLGNBQWdCM0IsRUFBSy9ILE9BQU00SSxFQUFPcUIsRUFBWVAsYUFBYTNCLEVBQUtxQyxZQUFZSCxHQUFhbkIsSUFBZ0JaLFNBQWEsR0FBNTBHLElBQSswR2p3QixFQUFtQixHQUFHZ3lCLEVBQWFyQixFQUFPcUIsRUFBWUksaUJBQWlCdEMsRUFBS3FDLFlBQVlILEdBQWFuQixJQUFnQlosUUFBYSxLQUFHYSxHQUFnQixJQUFSdkcsRUFBK0IsT0FBcEJvRyxFQUFPRyxRQUEyQixHQUFuL0csS0FBcy9HOXdCLEVBQWMsR0FBR2d5QixFQUFnQkEsRUFBWUksaUJBQWlCekIsRUFBT3FCLEVBQVlJLHFCQUF3QixJQUFXLElBQVI3SCxFQUFXLE9BQWNvRyxFQUFPRyxPQUFhLElBQXRvSCxLQUF5b0g5d0IsRUFBNkUsT0FBTzJ3QixJQUFyRSxJQUFJcUIsRUFBWSxPQUFPckIsRUFBT3FCLEVBQVlQLGFBQXdELE9BQW5CL3dCLEVBQUU2d0Isa0JBQXdCLEtBQVN6QixFQUFLL0gsTUFBTThKLGlCQUFpQixTQUFRLFdBQVc5SixFQUFNNXNCLE1BQVFtRixJQUFXeW5CLEVBQU1tSSxjQUFjLElBQUlDLE1BQU0sYUFBYUwsRUFBSy9ILE1BQU04SixpQkFBaUIsU0FBUSxXQUFXLE9BQU96MEIsV0FBVyt6QixFQUFpQixNQUFNckIsRUFBSytCLGlCQUFpQixZQUFZVCxHQUFTdEIsRUFBSytCLGlCQUFpQixhQUFhVCxHQUFTdEIsRUFBS3VDLFNBQXQyRyxTQUFrQmwzQixHQUFPOFksRUFBRSxRQUFPLEdBQU1oSSxTQUFRLFNBQVNxbUIsR0FBRyxPQUFPeEMsRUFBS3FDLFlBQVlHLE1BQU1uQixFQUFpQmgyQixJQUErd0cyMEIsRUFBS3h2QixTQUFXQSxFQUFTNndCLEVBQWlCcEosRUFBTTVzQixPQUFRbTBCLEVBQVVpRCxRQUFVakQsRUFBVUEsVUFBWUEsUUFBdDlJLGlCQUE1QixDQUFDLEVBQVUsT0FBaUIsYywwd0dDQXhHa0QsRSxxSUNBQUMsRUFBa0IsR0NBbEJDLEVBQU0saUVGQ1YsU0FBV0YsR0FDUEEsRUFBcUMsV0FBSSxhQUN6Q0EsRUFBc0MsWUFBSSxjQUMxQ0EsRUFBbUQseUJBQUksMkJBSDNELENBSUdBLElBQTZCQSxFQUEyQixLR0xwRCxJQ0FIRyxFREFPQyxFQUFTLFNBQVVqeEIsR0FBTyxPQUFPeEgsT0FBT3k0QixPQUFPanhCLElFQ3REa3hCLEVBQ0EsU0FBNEJDLEVBQVlDLEdBQ3BDbDFCLEtBQUtpMUIsV0FBYUEsRUFDbEJqMUIsS0FBS2sxQixVQUFZQSxFQUNqQkgsRUFBTy8wQixPQ0pYbTFCLEVBQW1CLFdBQ25CLFNBQVNBLEVBQWdCbFAsRUFBR21QLEVBQUdoQyxFQUFPaUMsR0FTbEMsT0FSQXIxQixLQUFLaW1CLEVBQUlBLEVBQ1RqbUIsS0FBS28xQixFQUFJQSxFQUNUcDFCLEtBQUtvekIsTUFBUUEsRUFDYnB6QixLQUFLcTFCLE9BQVNBLEVBQ2RyMUIsS0FBS3MxQixJQUFNdDFCLEtBQUtvMUIsRUFDaEJwMUIsS0FBSytTLEtBQU8vUyxLQUFLaW1CLEVBQ2pCam1CLEtBQUt1MUIsT0FBU3YxQixLQUFLczFCLElBQU10MUIsS0FBS3ExQixPQUM5QnIxQixLQUFLZ1QsTUFBUWhULEtBQUsrUyxLQUFPL1MsS0FBS296QixNQUN2QjJCLEVBQU8vMEIsTUFTbEIsT0FQQW0xQixFQUFnQnY0QixVQUFVNDRCLE9BQVMsV0FDL0IsSUFBSUMsRUFBS3oxQixLQUNULE1BQU8sQ0FBRWltQixFQURVd1AsRUFBR3hQLEVBQ1BtUCxFQURjSyxFQUFHTCxFQUNYRSxJQURvQkcsRUFBR0gsSUFDYnRpQixNQUQwQnlpQixFQUFHemlCLE1BQ2Z1aUIsT0FEK0JFLEVBQUdGLE9BQ2xCeGlCLEtBRGlDMGlCLEVBQUcxaUIsS0FDeEJxZ0IsTUFEc0NxQyxFQUFHckMsTUFDM0JpQyxPQUQyQ0ksRUFBR0osU0FHeklGLEVBQWdCTyxTQUFXLFNBQVVDLEdBQ2pDLE9BQU8sSUFBSVIsRUFBZ0JRLEVBQVUxUCxFQUFHMFAsRUFBVVAsRUFBR08sRUFBVXZDLE1BQU91QyxFQUFVTixTQUU3RUYsRUFuQlcsR0NEbEJTLEVBQVEsU0FBVTFuQixHQUFVLE9BQU9BLGFBQWtCMm5CLFlBQWMsWUFBYTNuQixHQUNoRjRuQixFQUFXLFNBQVU1bkIsR0FDckIsR0FBSTBuQixFQUFNMW5CLEdBQVMsQ0FDZixJQUFJdW5CLEVBQUt2bkIsRUFBTzZuQixVQUFXM0MsRUFBUXFDLEVBQUdyQyxNQUFPaUMsRUFBU0ksRUFBR0osT0FDekQsT0FBUWpDLElBQVVpQyxFQUV0QixJQUFJVyxFQUFLOW5CLEVBQVFpbEIsRUFBYzZDLEVBQUc3QyxZQUFhOEMsRUFBZUQsRUFBR0MsYUFDakUsUUFBUzlDLEdBQWU4QyxHQUFnQi9uQixFQUFPZ29CLGlCQUFpQnYwQixTQUVoRXcwQixFQUFZLFNBQVVyeUIsR0FDdEIsSUFBSTJ4QixFQUFJTyxFQUNSLEdBQUlseUIsYUFBZXN5QixRQUNmLE9BQU8sRUFFWCxJQUFJQyxFQUFvRixRQUEzRUwsRUFBb0IsUUFBZFAsRUFBSzN4QixTQUF3QixJQUFQMnhCLE9BQWdCLEVBQVNBLEVBQUdhLHFCQUFrQyxJQUFQTixPQUFnQixFQUFTQSxFQUFHTyxZQUM1SCxTQUFVRixHQUFTdnlCLGFBQWV1eUIsRUFBTUQsVUNmakMvZixFQUEyQixvQkFBWDVhLE9BQXlCQSxPQUFTLEdDTXpEMkgsRUFBUSxJQUFJd0ssUUFDWjRvQixFQUFlLGNBQ2ZDLEVBQWlCLGVBQ2pCQyxFQUFLLGdCQUFrQjE0QixLQUFLcVksRUFBT3NnQixXQUFhdGdCLEVBQU9zZ0IsVUFBVS9ZLFdBQ2pFZ1osRUFBaUIsU0FBVUMsR0FBUyxPQUFPQyxXQUFXRCxHQUFTLE1BQy9EaEssRUFBTyxTQUFVb0ksRUFBWUMsRUFBVzZCLEdBSXhDLFlBSG1CLElBQWY5QixJQUF5QkEsRUFBYSxRQUN4QixJQUFkQyxJQUF3QkEsRUFBWSxRQUNwQixJQUFoQjZCLElBQTBCQSxHQUFjLEdBQ3JDLElBQUkvQixHQUFvQitCLEVBQWM3QixFQUFZRCxJQUFlLEdBQUk4QixFQUFjOUIsRUFBYUMsSUFBYyxJQUVySDhCLEVBQVlqQyxFQUFPLENBQ25Ca0MsMEJBQTJCcEssSUFDM0JxSyxjQUFlckssSUFDZnNLLGVBQWdCdEssSUFDaEJ1SyxZQUFhLElBQUlqQyxFQUFnQixFQUFHLEVBQUcsRUFBRyxLQUUxQ2tDLEVBQW9CLFNBQVVucEIsRUFBUW9wQixHQUV0QyxRQUQyQixJQUF2QkEsSUFBaUNBLEdBQXFCLEdBQ3REbDBCLEVBQU1DLElBQUk2SyxLQUFZb3BCLEVBQ3RCLE9BQU9sMEIsRUFBTUUsSUFBSTRLLEdBRXJCLEdBQUk0bkIsRUFBUzVuQixHQUVULE9BREE5SyxFQUFNdEIsSUFBSW9NLEVBQVE4b0IsR0FDWEEsRUFFWCxJQUFJTyxFQUFLQyxpQkFBaUJ0cEIsR0FDdEJ1cEIsRUFBTTdCLEVBQU0xbkIsSUFBV0EsRUFBT3dwQixpQkFBbUJ4cEIsRUFBTzZuQixVQUN4RDRCLEdBQWlCakIsR0FBdUIsZUFBakJhLEVBQUdLLFVBQzFCYixFQUFjTixFQUFlejRCLEtBQUt1NUIsRUFBR00sYUFBZSxJQUNwREMsR0FBdUJMLEdBQU9qQixFQUFheDRCLEtBQUt1NUIsRUFBR1EsV0FBYSxJQUNoRUMsR0FBeUJQLEdBQU9qQixFQUFheDRCLEtBQUt1NUIsRUFBR1UsV0FBYSxJQUNsRUMsRUFBYVQsRUFBTSxFQUFJYixFQUFlVyxFQUFHVyxZQUN6Q0MsRUFBZVYsRUFBTSxFQUFJYixFQUFlVyxFQUFHWSxjQUMzQ0MsRUFBZ0JYLEVBQU0sRUFBSWIsRUFBZVcsRUFBR2EsZUFDNUNDLEVBQWNaLEVBQU0sRUFBSWIsRUFBZVcsRUFBR2MsYUFDMUNDLEVBQVliLEVBQU0sRUFBSWIsRUFBZVcsRUFBR2dCLGdCQUN4Q0MsRUFBY2YsRUFBTSxFQUFJYixFQUFlVyxFQUFHa0Isa0JBQzFDQyxFQUFlakIsRUFBTSxFQUFJYixFQUFlVyxFQUFHb0IsbUJBRTNDQyxFQUFvQlAsRUFBY0YsRUFDbENVLEVBQWtCWCxFQUFhRSxFQUMvQlUsR0FIYXJCLEVBQU0sRUFBSWIsRUFBZVcsRUFBR3dCLGtCQUdMUCxFQUNwQ1EsRUFBcUJWLEVBQVlJLEVBQ2pDTyxFQUFnQ2pCLEVBQTRCOXBCLEVBQU8rbkIsYUFBZStDLEVBQXFCOXFCLEVBQU9nckIsYUFBdEQsRUFDeERDLEVBQThCckIsRUFBMEI1cEIsRUFBT2lsQixZQUFjMkYsRUFBdUI1cUIsRUFBT2tyQixZQUF2RCxFQUNwREMsRUFBaUIxQixFQUFnQmlCLEVBQW9CRSxFQUF1QixFQUM1RVEsRUFBa0IzQixFQUFnQmtCLEVBQWtCRyxFQUFxQixFQUN6RU8sRUFBZTlCLEVBQU1BLEVBQUlyRSxNQUFRd0QsRUFBZVcsRUFBR25FLE9BQVNpRyxFQUFpQkYsRUFDN0VLLEVBQWdCL0IsRUFBTUEsRUFBSXBDLE9BQVN1QixFQUFlVyxFQUFHbEMsUUFBVWlFLEVBQWtCTCxFQUNqRlEsRUFBaUJGLEVBQWVYLEVBQW9CTyxFQUE2QkwsRUFDakZZLEVBQWtCRixFQUFnQlgsRUFBa0JJLEVBQStCRCxFQUNuRlcsRUFBUTVFLEVBQU8sQ0FDZmtDLDBCQUEyQnBLLEVBQUs5dkIsS0FBSzY4QixNQUFNTCxFQUFlTSxrQkFBbUI5OEIsS0FBSzY4QixNQUFNSixFQUFnQkssa0JBQW1COUMsR0FDM0hHLGNBQWVySyxFQUFLNE0sRUFBZ0JDLEVBQWlCM0MsR0FDckRJLGVBQWdCdEssRUFBSzBNLEVBQWNDLEVBQWV6QyxHQUNsREssWUFBYSxJQUFJakMsRUFBZ0JrRCxFQUFhSCxFQUFZcUIsRUFBY0MsS0FHNUUsT0FEQXAyQixFQUFNdEIsSUFBSW9NLEVBQVF5ckIsR0FDWEEsR0FFUEcsRUFBbUIsU0FBVTVyQixFQUFRNnJCLEVBQWF6QyxHQUNsRCxJQUFJN0IsRUFBSzRCLEVBQWtCbnBCLEVBQVFvcEIsR0FBcUJKLEVBQWdCekIsRUFBR3lCLGNBQWVDLEVBQWlCMUIsRUFBRzBCLGVBQWdCRixFQUE0QnhCLEVBQUd3QiwwQkFDN0osT0FBUThDLEdBQ0osS0FBS3BGLEVBQXlCcUYseUJBQzFCLE9BQU8vQyxFQUNYLEtBQUt0QyxFQUF5QnNGLFdBQzFCLE9BQU8vQyxFQUNYLFFBQ0ksT0FBT0MsSUN6RWYrQyxFQUNBLFNBQTZCaHNCLEdBQ3pCLElBQUl5ckIsRUFBUXRDLEVBQWtCbnBCLEdBQzlCbE8sS0FBS2tPLE9BQVNBLEVBQ2RsTyxLQUFLbzNCLFlBQWN1QyxFQUFNdkMsWUFDekJwM0IsS0FBS2szQixjQUFnQm5DLEVBQU8sQ0FBQzRFLEVBQU16QyxnQkFDbkNsM0IsS0FBS20zQixlQUFpQnBDLEVBQU8sQ0FBQzRFLEVBQU14QyxpQkFDcENuM0IsS0FBS2kzQiwwQkFBNEJsQyxFQUFPLENBQUM0RSxFQUFNMUMsNkJDUm5Ea0QsRUFBd0IsU0FBVUMsR0FDbEMsR0FBSXRFLEVBQVNzRSxHQUNULE9BQU9DLElBSVgsSUFGQSxJQUFJQyxFQUFRLEVBQ1JDLEVBQVNILEVBQUt2RyxXQUNYMEcsR0FDSEQsR0FBUyxFQUNUQyxFQUFTQSxFQUFPMUcsV0FFcEIsT0FBT3lHLEdDUFBFLEVBQThCLFdBQzlCLElBQUlDLEVBQWtCSixJQUNsQkssRUFBWSxHQUNoQjlGLEVBQWdCeG1CLFNBQVEsU0FBeUJ1c0IsR0FDN0MsR0FBZ0MsSUFBNUJBLEVBQUdDLGNBQWNqNUIsT0FBckIsQ0FHQSxJQUFJRixFQUFVLEdBQ2RrNUIsRUFBR0MsY0FBY3hzQixTQUFRLFNBQXVCeXNCLEdBQzVDLElBQUloNUIsRUFBUSxJQUFJcTRCLEVBQW9CVyxFQUFHM3NCLFFBQ25DNHNCLEVBQWNYLEVBQXNCVSxFQUFHM3NCLFFBQzNDek0sRUFBUWdDLEtBQUs1QixHQUNiZzVCLEVBQUdFLGlCQUFtQmpCLEVBQWlCZSxFQUFHM3NCLE9BQVEyc0IsRUFBR2QsYUFDakRlLEVBQWNMLElBQ2RBLEVBQWtCSyxNQUcxQkosRUFBVWozQixNQUFLLFdBQ1hrM0IsRUFBR0ssU0FBU3Q5QixLQUFLaTlCLEVBQUdNLFNBQVV4NUIsRUFBU2s1QixFQUFHTSxhQUU5Q04sRUFBR0MsY0FBY3g1QixPQUFPLEVBQUd1NUIsRUFBR0MsY0FBY2o1QixZQUVoRCxJQUFLLElBQUl1NUIsRUFBSyxFQUFHQyxFQUFjVCxFQUFXUSxFQUFLQyxFQUFZeDVCLE9BQVF1NUIsS0FFL0RGLEVBRGVHLEVBQVlELE1BRy9CLE9BQU9ULEdDNUJQVyxFQUFrQyxTQUFVZCxHQUM1QzFGLEVBQWdCeG1CLFNBQVEsU0FBeUJ1c0IsR0FDN0NBLEVBQUdDLGNBQWN4NUIsT0FBTyxFQUFHdTVCLEVBQUdDLGNBQWNqNUIsUUFDNUNnNUIsRUFBR1UsZUFBZWo2QixPQUFPLEVBQUd1NUIsRUFBR1UsZUFBZTE1QixRQUM5Q2c1QixFQUFHVyxtQkFBbUJsdEIsU0FBUSxTQUF1QnlzQixHQUM3Q0EsRUFBR1UsYUFDQ3BCLEVBQXNCVSxFQUFHM3NCLFFBQVVvc0IsRUFDbkNLLEVBQUdDLGNBQWNuM0IsS0FBS28zQixHQUd0QkYsRUFBR1UsZUFBZTUzQixLQUFLbzNCLFdUWHZDSCxFQUFZLEdVRVpjLEVBQVcsRUFHWEMsRUFBaUIsQ0FBRTlKLFlBQVksRUFBTStKLGVBQWUsRUFBTUMsV0FBVyxFQUFNQyxTQUFTLEdBQ3BGQyxFQUFTLENBQ1QsU0FDQSxPQUNBLGdCQUNBLGVBQ0EsaUJBQ0EscUJBQ0EsUUFDQSxVQUNBLFVBQ0EsWUFDQSxZQUNBLFdBQ0EsT0FDQSxTQUVBNThCLEVBQU8sU0FBVTY4QixHQUVqQixZQURnQixJQUFaQSxJQUFzQkEsRUFBVSxHQUM3QjErQixLQUFLRCxNQUFRMitCLEdBRXBCQyxHQUFZLEVBa0VaQyxFQUFZLElBakVDLFdBQ2IsU0FBU0MsSUFDTCxJQUFJQyxFQUFRbDhCLEtBQ1pBLEtBQUt3a0IsU0FBVSxFQUNmeGtCLEtBQUttOEIsU0FBVyxXQUFjLE9BQU9ELEVBQU1FLFlBMkQvQyxPQXpEQUgsRUFBVXIvQixVQUFVeS9CLElBQU0sU0FBVVAsR0FDaEMsSUFBSUksRUFBUWw4QixLQUVaLFFBRGdCLElBQVo4N0IsSUFBc0JBLEVBL0JmLE1BZ0NQQyxFQUFKLENBR0FBLEdBQVksRUFDWixJQ3hDNEJPLEVEd0N4QkMsRUFBUXQ5QixFQUFLNjhCLEdDeENXUSxFRHlDUixXQUNoQixJQUFJRSxHQUFzQixFQUMxQixJQUNJQSxFRXhDRixXQUNWLElkSklDLEVjSUFuQyxFQUFRLEVBRVosSUFEQWMsRUFBZ0NkLEdDTHpCMUYsRUFBZ0IzbkIsTUFBSyxTQUFVMHRCLEdBQU0sT0FBT0EsRUFBR0MsY0FBY2o1QixPQUFTLE1ET3pFMjRCLEVBQVFFLElBQ1JZLEVBQWdDZCxHQUtwQyxPRWJPMUYsRUFBZ0IzbkIsTUFBSyxTQUFVMHRCLEdBQU0sT0FBT0EsRUFBR1UsZUFBZTE1QixPQUFTLE9oQkNwRCxtQkFBZis2QixXQUNQRCxFQUFRLElBQUlDLFdBQVcsUUFBUyxDQUM1QkMsUUFBUzlILE1BSWI0SCxFQUFRL2dDLFNBQVNraEMsWUFBWSxVQUN2QkMsVUFBVSxTQUFTLEdBQU8sR0FDaENKLEVBQU1FLFFBQVU5SCxHQUVwQnA1QixPQUFPNDJCLGNBQWNvSyxJY0VkbkMsRUFBUSxFRjhCbUIsR0FFMUIsUUFHSSxHQUZBeUIsR0FBWSxFQUNaRCxFQUFVUyxFQUFRdDlCLEtBN0NNdThCLEVBK0NwQixPQUVBZ0IsRUFDQU4sRUFBTUcsSUFBSSxLQUVMUCxFQUFVLEVBQ2ZJLEVBQU1HLElBQUlQLEdBR1ZJLEVBQU1yMEIsVVZ6REwsU0FBVW16QixHQUMzQixJQUFLbEcsRUFBUyxDQUNWLElBQUlnSSxFQUFXLEVBQ1hDLEVBQU9yaEMsU0FBU3NoQyxlQUFlLElBRW5DLElBQUlDLGtCQUFpQixXQUFjLE9BTlR2QyxFQUFVdDVCLE9BQU8sR0FBR2dOLFNBQVEsU0FBVWt1QixHQUFNLE9BQU9BLFVBTXRCWSxRQUFRSCxFQURsRCxDQUFFckIsZUFBZSxJQUU5QjVHLEVBQVUsV0FBY2lJLEVBQUtsTCxZQUFjLElBQU1pTCxFQUFXQSxJQUFhQSxNQUU3RXBDLEVBQVVqM0IsS0FBS3UzQixHQUNmbEcsSVdWQXFJLEVBQWUsV0FDWEMsc0JBQXNCZCxRRDhEMUJMLEVBQVVyL0IsVUFBVXcvQixTQUFXLFdBQzNCcDhCLEtBQUsra0IsT0FDTC9rQixLQUFLcThCLE9BRVRKLEVBQVVyL0IsVUFBVXNnQyxRQUFVLFdBQzFCLElBQUloQixFQUFRbDhCLEtBQ1JzOEIsRUFBSyxXQUFjLE9BQU9KLEVBQU1qQixVQUFZaUIsRUFBTWpCLFNBQVNpQyxRQUFReGhDLFNBQVMyaEMsS0FBTTVCLElBQ3RGLy9CLFNBQVMyaEMsS0FBT2YsSUFBT2ptQixFQUFPMmQsaUJBQWlCLG1CQUFvQnNJLElBRXZFTCxFQUFVci9CLFVBQVVpTCxNQUFRLFdBQ3hCLElBQUlxMEIsRUFBUWw4QixLQUNSQSxLQUFLd2tCLFVBQ0x4a0IsS0FBS3drQixTQUFVLEVBQ2Z4a0IsS0FBS2k3QixTQUFXLElBQUlnQyxpQkFBaUJqOUIsS0FBS204QixVQUMxQ244QixLQUFLazlCLFVBQ0xyQixFQUFPenRCLFNBQVEsU0FBVThLLEdBQVEsT0FBTzdDLEVBQU8yZCxpQkFBaUI5YSxFQUFNZ2pCLEVBQU1DLFVBQVUsUUFHOUZGLEVBQVVyL0IsVUFBVW1vQixLQUFPLFdBQ3ZCLElBQUltWCxFQUFRbDhCLEtBQ1BBLEtBQUt3a0IsVUFDTnhrQixLQUFLaTdCLFVBQVlqN0IsS0FBS2k3QixTQUFTcUMsYUFDL0J6QixFQUFPenRCLFNBQVEsU0FBVThLLEdBQVEsT0FBTzdDLEVBQU9rbkIsb0JBQW9CcmtCLEVBQU1nakIsRUFBTUMsVUFBVSxNQUN6Rm44QixLQUFLd2tCLFNBQVUsSUFHaEJ5WCxFQS9ESyxJQWtFWnVCLEVBQWMsU0FBVXh1QixJQUN2QndzQixHQUFZeHNCLEVBQUksR0FBS2d0QixFQUFVbjBCLFVBQ2hDMnpCLEdBQVl4c0IsSUFDQ2d0QixFQUFValgsUUt6RnZCMFksRUFBcUIsV0FDckIsU0FBU0EsRUFBa0J2dkIsRUFBUTZyQixHQUMvQi81QixLQUFLa08sT0FBU0EsRUFDZGxPLEtBQUsrNUIsWUFBY0EsR0FBZXBGLEVBQXlCK0ksWUFDM0QxOUIsS0FBSys2QixpQkFBbUIsQ0FDcEI5RixXQUFZLEVBQ1pDLFVBQVcsR0FjbkIsT0FYQXVJLEVBQWtCN2dDLFVBQVUyK0IsU0FBVyxXQUNuQyxJQWY0QnJ0QixFQWV4QjJlLEVBQU9pTixFQUFpQjk1QixLQUFLa08sT0FBUWxPLEtBQUsrNUIsYUFBYSxHQUkzRCxPQW5CNEI3ckIsRUFnQkpsTyxLQUFLa08sT0FmekIwbkIsRUFBTTFuQixJWmFNLFNBQVVBLEdBQzlCLE9BQVFBLEVBQU95dkIsU0FDWCxJQUFLLFFBQ0QsR0FBb0IsVUFBaEJ6dkIsRUFBTzNRLEtBQ1AsTUFFUixJQUFLLFFBQ0wsSUFBSyxRQUNMLElBQUssUUFDTCxJQUFLLFNBQ0wsSUFBSyxTQUNMLElBQUssU0FDTCxJQUFLLE1BQ0QsT0FBTyxFQUVmLE9BQU8sRVkzQkNxZ0MsQ0FBa0IxdkIsSUFDa0IsV0FBckNzcEIsaUJBQWlCdHBCLEdBQVFvYSxVQWN4QnRvQixLQUFLKzZCLGlCQUFtQmxPLEdBRXhCN3NCLEtBQUsrNkIsaUJBQWlCOUYsYUFBZXBJLEVBQUtvSSxZQUN2Q2oxQixLQUFLKzZCLGlCQUFpQjdGLFlBQWNySSxFQUFLcUksV0FLN0N1SSxFQXBCYSxHQ1JwQkksRUFDQSxTQUE4QkMsRUFBZ0I5QyxHQUMxQ2g3QixLQUFLNDZCLGNBQWdCLEdBQ3JCNTZCLEtBQUtxN0IsZUFBaUIsR0FDdEJyN0IsS0FBS3M3QixtQkFBcUIsR0FDMUJ0N0IsS0FBS2k3QixTQUFXNkMsRUFDaEI5OUIsS0FBS2c3QixTQUFXQSxHQ0ZwQitDLEVBQWMsSUFBSW53QixRQUNsQm93QixFQUFzQixTQUFVMUMsRUFBb0JwdEIsR0FDcEQsSUFBSyxJQUFJaEssRUFBSSxFQUFHQSxFQUFJbzNCLEVBQW1CMzVCLE9BQVF1QyxHQUFLLEVBQ2hELEdBQUlvM0IsRUFBbUJwM0IsR0FBR2dLLFNBQVdBLEVBQ2pDLE9BQU9oSyxFQUdmLE9BQVEsR0FFUis1QixFQUE0QixXQUM1QixTQUFTQSxLQWdDVCxPQTlCQUEsRUFBeUJDLFFBQVUsU0FBVUosRUFBZ0I5QyxHQUN6RCxJQUFJbUQsRUFBUyxJQUFJTixFQUFxQkMsRUFBZ0I5QyxHQUN0RCtDLEVBQVlqOEIsSUFBSWc4QixFQUFnQkssSUFFcENGLEVBQXlCZixRQUFVLFNBQVVZLEVBQWdCNXZCLEVBQVE5UCxHQUNqRSxJQUFJKy9CLEVBQVNKLEVBQVl6NkIsSUFBSXc2QixHQUN6Qk0sRUFBd0QsSUFBckNELEVBQU83QyxtQkFBbUIzNUIsT0FDN0NxOEIsRUFBb0JHLEVBQU83QyxtQkFBb0JwdEIsR0FBVSxJQUN6RGt3QixHQUFvQnhKLEVBQWdCbnhCLEtBQUswNkIsR0FDekNBLEVBQU83QyxtQkFBbUI3M0IsS0FBSyxJQUFJZzZCLEVBQWtCdnZCLEVBQVE5UCxHQUFXQSxFQUFRaWdDLE1BQ2hGYixFQUFZLEdBQ1p4QixFQUFVSSxhQUdsQjZCLEVBQXlCSyxVQUFZLFNBQVVSLEVBQWdCNXZCLEdBQzNELElBQUlpd0IsRUFBU0osRUFBWXo2QixJQUFJdzZCLEdBQ3pCcDhCLEVBQVFzOEIsRUFBb0JHLEVBQU83QyxtQkFBb0JwdEIsR0FDdkRxd0IsRUFBdUQsSUFBckNKLEVBQU83QyxtQkFBbUIzNUIsT0FDNUNELEdBQVMsSUFDVDY4QixHQUFtQjNKLEVBQWdCeHpCLE9BQU93ekIsRUFBZ0J0cUIsUUFBUTZ6QixHQUFTLEdBQzNFQSxFQUFPN0MsbUJBQW1CbDZCLE9BQU9NLEVBQU8sR0FDeEM4N0IsR0FBYSxLQUdyQlMsRUFBeUJYLFdBQWEsU0FBVVEsR0FDNUMsSUFBSTVCLEVBQVFsOEIsS0FDUm0rQixFQUFTSixFQUFZejZCLElBQUl3NkIsR0FDN0JLLEVBQU83QyxtQkFBbUJyOUIsUUFBUW1RLFNBQVEsU0FBVXlzQixHQUFNLE9BQU9xQixFQUFNb0MsVUFBVVIsRUFBZ0JqRCxFQUFHM3NCLFdBQ3BHaXdCLEVBQU92RCxjQUFjeDVCLE9BQU8sRUFBRys4QixFQUFPdkQsY0FBY2o1QixTQUVqRHM4QixFQWpDb0IsR0NYM0IsRUFBa0IsV0FDbEIsU0FBU08sRUFBZXhELEdBQ3BCLEdBQXlCLElBQXJCajdCLFVBQVU0QixPQUNWLE1BQU0sSUFBSTVDLFVBQVUsa0ZBRXhCLEdBQXdCLG1CQUFiaThCLEVBQ1AsTUFBTSxJQUFJajhCLFVBQVUsaUdBRXhCay9CLEVBQXlCQyxRQUFRbCtCLEtBQU1nN0IsR0EwQjNDLE9BeEJBd0QsRUFBZTVoQyxVQUFVc2dDLFFBQVUsU0FBVWh2QixFQUFROVAsR0FDakQsR0FBeUIsSUFBckIyQixVQUFVNEIsT0FDVixNQUFNLElBQUk1QyxVQUFVLDZGQUV4QixJQUFLbzNCLEVBQVVqb0IsR0FDWCxNQUFNLElBQUluUCxVQUFVLHdGQUV4QmsvQixFQUF5QmYsUUFBUWw5QixLQUFNa08sRUFBUTlQLElBRW5Eb2dDLEVBQWU1aEMsVUFBVTBoQyxVQUFZLFNBQVVwd0IsR0FDM0MsR0FBeUIsSUFBckJuTyxVQUFVNEIsT0FDVixNQUFNLElBQUk1QyxVQUFVLCtGQUV4QixJQUFLbzNCLEVBQVVqb0IsR0FDWCxNQUFNLElBQUluUCxVQUFVLDBGQUV4QmsvQixFQUF5QkssVUFBVXQrQixLQUFNa08sSUFFN0Nzd0IsRUFBZTVoQyxVQUFVMGdDLFdBQWEsV0FDbENXLEVBQXlCWCxXQUFXdDlCLE9BRXhDdytCLEVBQWUzaEMsU0FBVyxXQUN0QixNQUFPLGtEQUVKMmhDLEVBbENVLEdDNEJqQkMsRyx3Q0FBYSxTQUFvQjM2QixHQTZCbkMsT0E1QmN0RCxNQUFNNUQsVUFBVTJILE9BQU83RyxLQUFLb0csR0FBSyxTQUFVNDZCLEVBQUtDLEdBQzVELElBQUlDLEVBQVNELEVBQVV6bEIsS0FBS3dFLE1BQU0sdUJBRWxDLEdBQUlraEIsRUFBUSxDQUNWLElBQUl6OEIsRUFBTXk4QixFQUFPLEdBQUc5Z0MsUUFBUSxXQUFXLFNBQVVtb0IsRUFBR2dCLEdBQ2xELE9BQU9BLEVBQUk0WCxpQkFHYixPQUFRRixFQUFVcmhDLE9BQ2hCLElBQUssT0FDSG9oQyxFQUFJdjhCLElBQU8sRUFDWCxNQUVGLElBQUssUUFDSHU4QixFQUFJdjhCLElBQU8sRUFDWCxNQUVGLFVBQUsvQyxFQUNIcy9CLEVBQUl2OEIsSUFBTyxFQUNYLE1BRUYsUUFDRXU4QixFQUFJdjhCLEdBQU93OEIsRUFBVXJoQyxPQUkzQixPQUFPb2hDLElBQ04sTUFHTCxTQUFTSSxFQUFpQkMsR0FDeEIsT0FBS0EsR0FBWUEsRUFBUXpJLGVBQWtCeUksRUFBUXpJLGNBQWNDLFlBSTFEd0ksRUFBUXpJLGNBQWNDLFlBSHBCOTZCLE9BS1gsU0FBU3VqQyxFQUFtQkQsR0FDMUIsT0FBS0EsR0FBWUEsRUFBUXpJLGNBSWxCeUksRUFBUXpJLGNBSE41NkIsU0FNWCxJQUFJdWpDLEVBQXVCLEtBQ3ZCQyxFQUF5QixLQVc3QixTQUFTQyxHQUFlcnVCLEdBQ3RCLEdBQTZCLE9BQXpCbXVCLEVBQStCLENBQ2pDLElBQUl2akMsRUFBV3NqQyxFQUFtQmx1QixHQUVsQyxRQUF3QixJQUFicFYsRUFFVCxPQURBdWpDLEVBQXVCLEVBSXpCLElBQUk1QixFQUFPM2hDLEVBQVMyaEMsS0FDaEJnQixFQUFNM2lDLEVBQVNDLGNBQWMsT0FDakMwaUMsRUFBSWpoQixVQUFVakgsSUFBSSw0QkFDbEJrbkIsRUFBSzlVLFlBQVk4VixHQUNqQixJQUFJakwsRUFBUWlMLEVBQUllLHdCQUF3QnBzQixNQUN4Q3FxQixFQUFLL0ksWUFBWStKLEdBQ2pCWSxFQUF1QjdMLEVBR3pCLE9BQU82TCxFQTNCTCxLQUNGeGpDLE9BQU91NEIsaUJBQWlCLFVBQVUsV0FDNUJrTCxJQUEyQnpqQyxPQUFPbytCLG1CQUNwQ3FGLEVBQXlCempDLE9BQU9vK0IsaUJBQ2hDb0YsRUFBdUIsU0EwQjdCLElBQUlJLEdBQXlCLFdBQzNCLFNBQVNBLEVBQVVOLEVBQVMzZ0MsR0FDMUIsSUFBSTg5QixFQUFRbDhCLEtBRVpBLEtBQUtzL0IsU0FBVyxXQUNkLElBQUlDLEVBQVdULEVBQWlCNUMsRUFBTXByQixJQUVqQ29yQixFQUFNc0QsaUJBQ1RELEVBQVNuQyxzQkFBc0JsQixFQUFNdUQsU0FDckN2RCxFQUFNc0QsZ0JBQWlCLEdBR3BCdEQsRUFBTXdELGlCQUNUSCxFQUFTbkMsc0JBQXNCbEIsRUFBTXlELFNBQ3JDekQsRUFBTXdELGdCQUFpQixJQUkzQjEvQixLQUFLeS9CLFFBQVUsV0FDVHZELEVBQU0wRCxLQUFLM1osRUFBRTRaLGdCQUNmM0QsRUFBTTRELGNBQWMsS0FFcEI1RCxFQUFNNkQsa0JBQWtCLE1BRzFCN0QsRUFBTXNELGdCQUFpQixHQUd6QngvQixLQUFLMi9CLFFBQVUsV0FDVHpELEVBQU0wRCxLQUFLeEssRUFBRXlLLGdCQUNmM0QsRUFBTTRELGNBQWMsS0FFcEI1RCxFQUFNNkQsa0JBQWtCLE1BRzFCN0QsRUFBTXdELGdCQUFpQixHQUd6QjEvQixLQUFLZ2dDLGFBQWUsV0FDbEI5RCxFQUFNNEQsY0FBYyxLQUVwQjVELEVBQU00RCxjQUFjLE1BR3RCOS9CLEtBQUtpZ0MsWUFBYyxTQUFVcDlCLEdBQzNCcTVCLEVBQU1nRSxPQUFTcjlCLEVBQUVzOUIsUUFDakJqRSxFQUFNa0UsT0FBU3Y5QixFQUFFdzlCLFNBRWJuRSxFQUFNMEQsS0FBSzNaLEVBQUU0WixlQUFpQjNELEVBQU0wRCxLQUFLM1osRUFBRXFhLGVBQzdDcEUsRUFBTXFFLG1CQUFtQixNQUd2QnJFLEVBQU0wRCxLQUFLeEssRUFBRXlLLGVBQWlCM0QsRUFBTTBELEtBQUt4SyxFQUFFa0wsZUFDN0NwRSxFQUFNcUUsbUJBQW1CLE1BSTdCdmdDLEtBQUt3Z0MsYUFBZSxXQUNsQnRFLEVBQU0rRCxZQUFZaGdDLFVBRWRpOEIsRUFBTTBELEtBQUszWixFQUFFNFosZUFBaUIzRCxFQUFNMEQsS0FBSzNaLEVBQUVxYSxlQUM3Q3BFLEVBQU11RSxvQkFBb0IsTUFHeEJ2RSxFQUFNMEQsS0FBS3hLLEVBQUV5SyxlQUFpQjNELEVBQU0wRCxLQUFLeEssRUFBRWtMLGVBQzdDcEUsRUFBTXVFLG9CQUFvQixLQUc1QnZFLEVBQU1nRSxRQUFVLEVBQ2hCaEUsRUFBTWtFLFFBQVUsR0FHbEJwZ0MsS0FBSzBnQyxlQUFpQixXQUVwQnhFLEVBQU1pRCxlQUFpQmpELEVBQU15RSxvQkFFN0J6RSxFQUFNMEUsdUJBR1I1Z0MsS0FBSzZnQyxlQUFpQixXQUNwQjNFLEVBQU0wRCxLQUFLM1osRUFBRTZhLE1BQU1DLEtBQU83RSxFQUFNMEQsS0FBSzNaLEVBQUU2YSxNQUFNaHdCLEdBQUdzdUIsd0JBQ2hEbEQsRUFBTTBELEtBQUt4SyxFQUFFMEwsTUFBTUMsS0FBTzdFLEVBQU0wRCxLQUFLeEssRUFBRTBMLE1BQU1od0IsR0FBR3N1Qix3QkFFM0NsRCxFQUFNOEUsZUFBZTlFLEVBQU0wRCxLQUFLeEssRUFBRTBMLE1BQU1DLFFBQzNDN0UsRUFBTTBELEtBQUt4SyxFQUFFNkwsVUFBVW53QixHQUFHc00sVUFBVXVWLE9BQU91SixFQUFNZ0YsV0FBV0MsU0FFNURqRixFQUFNMEQsS0FBS3hLLEVBQUVnTSxXQUFZLEdBR3RCbEYsRUFBTThFLGVBQWU5RSxFQUFNMEQsS0FBSzNaLEVBQUU2YSxNQUFNQyxRQUMzQzdFLEVBQU0wRCxLQUFLM1osRUFBRWdiLFVBQVVud0IsR0FBR3NNLFVBQVV1VixPQUFPdUosRUFBTWdGLFdBQVdDLFNBRTVEakYsRUFBTTBELEtBQUszWixFQUFFbWIsV0FBWSxJQUk3QnBoQyxLQUFLcWhDLGVBQWlCLFNBQVV4K0IsR0FDOUIsSUFBSXkrQixFQUFzQkMsRUFDMUJyRixFQUFNMEQsS0FBSzNaLEVBQUU2YSxNQUFNQyxLQUFPN0UsRUFBTTBELEtBQUszWixFQUFFNmEsTUFBTWh3QixHQUFHc3VCLHdCQUNoRGxELEVBQU0wRCxLQUFLeEssRUFBRTBMLE1BQU1DLEtBQU83RSxFQUFNMEQsS0FBS3hLLEVBQUUwTCxNQUFNaHdCLEdBQUdzdUIseUJBRTVDbEQsRUFBTTBELEtBQUszWixFQUFFNFosZUFBaUIzRCxFQUFNMEQsS0FBSzNaLEVBQUVxYSxnQkFDN0NnQixFQUF1QnBGLEVBQU04RSxlQUFlOUUsRUFBTTBELEtBQUszWixFQUFFNmEsTUFBTUMsUUFHN0Q3RSxFQUFNMEQsS0FBS3hLLEVBQUV5SyxlQUFpQjNELEVBQU0wRCxLQUFLeEssRUFBRWtMLGdCQUM3Q2lCLEVBQXVCckYsRUFBTThFLGVBQWU5RSxFQUFNMEQsS0FBS3hLLEVBQUUwTCxNQUFNQyxRQUk3RE8sR0FBd0JDLEtBRzFCMStCLEVBQUU2d0IsaUJBRUY3d0IsRUFBRTIrQixrQkFFYSxjQUFYMytCLEVBQUV0RixPQUNBK2pDLElBQ0ZwRixFQUFNMEQsS0FBSzNaLEVBQUVnYixVQUFVRixLQUFPN0UsRUFBTTBELEtBQUszWixFQUFFZ2IsVUFBVW53QixHQUFHc3VCLHdCQUVwRGxELEVBQU04RSxlQUFlOUUsRUFBTTBELEtBQUszWixFQUFFZ2IsVUFBVUYsTUFDOUM3RSxFQUFNdUYsWUFBWTUrQixFQUFHLEtBRXJCcTVCLEVBQU13RixhQUFhNytCLEVBQUcsTUFJdEIwK0IsSUFDRnJGLEVBQU0wRCxLQUFLeEssRUFBRTZMLFVBQVVGLEtBQU83RSxFQUFNMEQsS0FBS3hLLEVBQUU2TCxVQUFVbndCLEdBQUdzdUIsd0JBRXBEbEQsRUFBTThFLGVBQWU5RSxFQUFNMEQsS0FBS3hLLEVBQUU2TCxVQUFVRixNQUM5QzdFLEVBQU11RixZQUFZNStCLEVBQUcsS0FFckJxNUIsRUFBTXdGLGFBQWE3K0IsRUFBRyxTQU9oQzdDLEtBQUsyaEMsS0FBTyxTQUFVOStCLEdBQ3BCLElBQ0lpK0IsRUFBUTVFLEVBQU0wRCxLQUFLMUQsRUFBTTBGLGFBQWFkLE1BQ3RDZSxFQUFZZixFQUFNQyxLQUFLN0UsRUFBTTBELEtBQUsxRCxFQUFNMEYsYUFBYUUsVUFDckRiLEVBQVkvRSxFQUFNMEQsS0FBSzFELEVBQU0wRixhQUFhWCxVQUMxQ2MsRUFBYzdGLEVBQU04RixpQkFBaUI5RixFQUFNMEQsS0FBSzFELEVBQU0wRixhQUFhSyxnQkFDbkVDLEVBQVcvbEMsU0FBUysvQixFQUFNaUcsU0FBU2pHLEVBQU0wRCxLQUFLMUQsRUFBTTBGLGFBQWFFLFVBQVcsSUFDaEZqL0IsRUFBRTZ3QixpQkFDRjd3QixFQUFFMitCLGtCQVNGLElBSUlZLElBWHNCLE1BQXRCbEcsRUFBTTBGLFlBQ00vK0IsRUFBRXcvQixNQUVGeC9CLEVBQUV5L0IsT0FJVXhCLEVBQU1DLEtBQUs3RSxFQUFNMEQsS0FBSzFELEVBQU0wRixhQUFhVyxZQUFjckcsRUFBTTBELEtBQUsxRCxFQUFNMEYsYUFBYVksYUFFdkZYLEVBQVlaLEVBQVVwVSxPQUVwQmtWLEVBQWNHLEdBRWhCLE1BQXRCaEcsRUFBTTBGLGNBQ1JRLEVBQVlsRyxFQUFNdUcsT0FBU3BELEVBQVVxRCxnQkFBZ0JDLHVCQUF5QlAsR0FBYVAsRUFBWVosRUFBVXBVLE1BQVF1VixFQUN6SEEsRUFBWWxHLEVBQU11RyxPQUFTcEQsRUFBVXFELGdCQUFnQkUsd0JBQTBCUixFQUFZQSxHQUc3RmxHLEVBQU04RixpQkFBaUI5RixFQUFNMEQsS0FBSzFELEVBQU0wRixhQUFhaUIsa0JBQW9CVCxHQUczRXBpQyxLQUFLOGlDLFVBQVksU0FBVWpnQyxHQUN6QixJQUFJa2dDLEVBQWEvRCxFQUFtQjlDLEVBQU1wckIsSUFDdEN5dUIsRUFBV1QsRUFBaUI1QyxFQUFNcHJCLElBQ3RDak8sRUFBRTZ3QixpQkFDRjd3QixFQUFFMitCLGtCQUVGdEYsRUFBTXByQixHQUFHc00sVUFBVXVWLE9BQU91SixFQUFNZ0YsV0FBVzhCLFVBRTNDRCxFQUFXeEYsb0JBQW9CLFlBQWFyQixFQUFNeUYsTUFBTSxHQUN4RG9CLEVBQVd4RixvQkFBb0IsVUFBV3JCLEVBQU00RyxXQUFXLEdBQzNENUcsRUFBTStHLHFCQUF1QjFELEVBQVNoZ0MsWUFBVyxXQUcvQ3dqQyxFQUFXeEYsb0JBQW9CLFFBQVNyQixFQUFNZ0gsY0FBYyxHQUM1REgsRUFBV3hGLG9CQUFvQixXQUFZckIsRUFBTWdILGNBQWMsR0FDL0RoSCxFQUFNK0cscUJBQXVCLFNBSWpDampDLEtBQUtrakMsYUFBZSxTQUFVcmdDLEdBQzVCQSxFQUFFNndCLGlCQUNGN3dCLEVBQUUyK0IsbUJBR0p4aEMsS0FBSzhRLEdBQUtpdUIsRUFDVi8rQixLQUFLbWpDLGtCQUFvQixHQUN6Qm5qQyxLQUFLNUIsUUFBVTlCLE9BQU9zcUIsT0FBTyxHQUFJeVksRUFBVStELGVBQWdCaGxDLEdBQzNENEIsS0FBS2toQyxXQUFhNWtDLE9BQU9zcUIsT0FBTyxHQUFJeVksRUFBVStELGVBQWVsQyxXQUFZbGhDLEtBQUs1QixRQUFROGlDLFlBQ3RGbGhDLEtBQUs0L0IsS0FBTyxDQUNWM1osRUFBRyxDQUNENGMsaUJBQWtCLGFBQ2xCZixTQUFVLFFBQ1ZHLGVBQWdCLGNBQ2hCb0IsZUFBZ0IsY0FDaEJkLFdBQVksT0FDWmUsYUFBYyxZQUNkZCxXQUFZLEVBQ1ozQyxlQUFlLEVBQ2Z1QixXQUFXLEVBQ1hkLGNBQWMsRUFDZFEsTUFBTyxHQUNQRyxVQUFXLElBRWI3TCxFQUFHLENBQ0R5TixpQkFBa0IsWUFDbEJmLFNBQVUsU0FDVkcsZUFBZ0IsZUFDaEJvQixlQUFnQixlQUNoQmQsV0FBWSxNQUNaZSxhQUFjLFlBQ2RkLFdBQVksRUFDWjNDLGVBQWUsRUFDZnVCLFdBQVcsRUFDWGQsY0FBYyxFQUNkUSxNQUFPLEdBQ1BHLFVBQVcsS0FHZmpoQyxLQUFLaWpDLHFCQUF1QixLQUV4QjVELEVBQVVrRSxVQUFVbGdDLElBQUlyRCxLQUFLOFEsTUFJakM5USxLQUFLd2pDLFlBQWMsSUFBU3hqQyxLQUFLd2pDLFlBQVkvK0IsS0FBS3pFLE1BQU8sSUFDekRBLEtBQUtpZ0MsWUFBYyxJQUFTamdDLEtBQUtpZ0MsWUFBWXg3QixLQUFLekUsTUFBTyxJQUN6REEsS0FBSzZnQyxlQUFpQixJQUFTN2dDLEtBQUs2Z0MsZUFBZXA4QixLQUFLekUsTUFBT0EsS0FBSzVCLFFBQVEwOUIsU0FDNUU5N0IsS0FBSzBnQyxlQUFpQixJQUFTMWdDLEtBQUswZ0MsZUFBZWo4QixLQUFLekUsTUFBTyxHQUFJLENBQ2pFcEIsU0FBUyxJQUVYeWdDLEVBQVVxRCxjQUFnQixJQUFRckQsRUFBVXFELGVBQzVDMWlDLEtBQUsyd0IsUUFjUDBPLEVBQVVxRCxjQUFnQixXQUN4QixJQUFJZSxFQUFXL25DLFNBQVNDLGNBQWMsT0FDdEM4bkMsRUFBU0MsVUFBWSw0R0FDckIsSUFBSUMsRUFBbUJGLEVBQVNHLGtCQUNoQ2xvQyxTQUFTMmhDLEtBQUs5VSxZQUFZb2IsR0FDMUIsSUFBSUUsRUFBc0JGLEVBQWlCQyxrQkFDM0NELEVBQWlCRyxXQUFhLEVBQzlCLElBQUlDLEVBQXVCMUUsRUFBVTJFLFVBQVVMLEdBQzNDTSxFQUE0QjVFLEVBQVUyRSxVQUFVSCxHQUNwREYsRUFBaUJHLFdBQWEsSUFDOUIsSUFBSUksRUFBd0M3RSxFQUFVMkUsVUFBVUgsR0FDaEUsTUFBTyxDQUVMakIsdUJBQXdCbUIsRUFBcUJoeEIsT0FBU2t4QixFQUEwQmx4QixNQUFRa3hCLEVBQTBCbHhCLEtBQU9teEIsRUFBc0NueEIsTUFBUyxFQUV4SzR2Qix1QkFBd0JvQixFQUFxQmh4QixPQUFTa3hCLEVBQTBCbHhCLE9BSXBGc3NCLEVBQVUyRSxVQUFZLFNBQW1CbHpCLEdBQ3ZDLElBQUlpd0IsRUFBT2p3QixFQUFHc3VCLHdCQUNWMkQsRUFBYS9ELEVBQW1CbHVCLEdBQ2hDeXVCLEVBQVdULEVBQWlCaHVCLEdBQ2hDLE1BQU8sQ0FDTHdrQixJQUFLeUwsRUFBS3pMLEtBQU9pSyxFQUFTNEUsYUFBZXBCLEVBQVdxQixnQkFBZ0JDLFdBQ3BFdHhCLEtBQU1ndUIsRUFBS2h1QixNQUFRd3NCLEVBQVMrRSxhQUFldkIsRUFBV3FCLGdCQUFnQk4sY0FJMUUsSUFBSVMsRUFBU2xGLEVBQVV6aUMsVUFtZnZCLE9BamZBMm5DLEVBQU81VCxLQUFPLFdBRVowTyxFQUFVa0UsVUFBVXpoQyxJQUFJOUIsS0FBSzhRLEdBQUk5USxNQUU3QixNQUNGQSxLQUFLd2tDLFVBQ0x4a0MsS0FBS3lrQyw2QkFDTHprQyxLQUFLbS9CLGVBQWlCbi9CLEtBQUsyZ0Msb0JBQzNCM2dDLEtBQUt3akMsY0FDTHhqQyxLQUFLMGtDLGtCQUlUSCxFQUFPQyxRQUFVLFdBQ2YsSUFBSUcsRUFBUzNrQyxLQUdiLEdBQUlRLE1BQU01RCxVQUFVaVAsT0FBT25PLEtBQUtzQyxLQUFLOFEsR0FBRzh6QixVQUFVLFNBQVVDLEdBQzFELE9BQU9BLEVBQU16bkIsVUFBVW9XLFNBQVNtUixFQUFPekQsV0FBV3ZyQixZQUNqRGhVLE9BRUQzQixLQUFLOGtDLFVBQVk5a0MsS0FBSzhRLEdBQUdxaEIsY0FBYyxJQUFNbnlCLEtBQUtraEMsV0FBV3ZyQixTQUM3RDNWLEtBQUtnaUMsaUJBQW1CaGlDLEtBQUs1QixRQUFRMm1DLGdCQUFrQi9rQyxLQUFLOFEsR0FBR3FoQixjQUFjLElBQU1ueUIsS0FBS2toQyxXQUFXOEQsZ0JBQ25HaGxDLEtBQUtpbEMsVUFBWWpsQyxLQUFLNUIsUUFBUThtQyxhQUFlbGxDLEtBQUs4USxHQUFHcWhCLGNBQWMsSUFBTW55QixLQUFLa2hDLFdBQVcrRCxXQUN6RmpsQyxLQUFLbWxDLFNBQVdubEMsS0FBSzhRLEdBQUdxaEIsY0FBYyxJQUFNbnlCLEtBQUtraEMsV0FBV2tFLFFBQzVEcGxDLEtBQUtxbEMsT0FBU3JsQyxLQUFLOFEsR0FBR3FoQixjQUFjLElBQU1ueUIsS0FBS2toQyxXQUFXb0UsTUFDMUR0bEMsS0FBS3VsQyxjQUFnQnZsQyxLQUFLd2xDLFVBQVV4bEMsS0FBSzhrQyxVQUFXLElBQU05a0MsS0FBS2toQyxXQUFXdUUsYUFDMUV6bEMsS0FBSzBsQyw0QkFBOEIxbEMsS0FBSzhRLEdBQUdxaEIsY0FBYyxJQUFNbnlCLEtBQUtraEMsV0FBV3dFLDZCQUMvRTFsQyxLQUFLMmxDLHFCQUF1QjNsQyxLQUFLOFEsR0FBR3FoQixjQUFjLElBQU1ueUIsS0FBS2toQyxXQUFXeUUsc0JBQ3hFM2xDLEtBQUs0L0IsS0FBSzNaLEVBQUU2YSxNQUFNaHdCLEdBQUs5USxLQUFLd2xDLFVBQVV4bEMsS0FBSzhRLEdBQUksSUFBTTlRLEtBQUtraEMsV0FBV0osTUFBUSxJQUFNOWdDLEtBQUtraEMsV0FBVzBFLFlBQ25HNWxDLEtBQUs0L0IsS0FBS3hLLEVBQUUwTCxNQUFNaHdCLEdBQUs5USxLQUFLd2xDLFVBQVV4bEMsS0FBSzhRLEdBQUksSUFBTTlRLEtBQUtraEMsV0FBV0osTUFBUSxJQUFNOWdDLEtBQUtraEMsV0FBVzJFLGNBQzlGLENBbUJMLElBakJBN2xDLEtBQUs4a0MsVUFBWXBwQyxTQUFTQyxjQUFjLE9BQ3hDcUUsS0FBS2dpQyxpQkFBbUJ0bUMsU0FBU0MsY0FBYyxPQUMvQ3FFLEtBQUttbEMsU0FBV3pwQyxTQUFTQyxjQUFjLE9BQ3ZDcUUsS0FBS3FsQyxPQUFTM3BDLFNBQVNDLGNBQWMsT0FDckNxRSxLQUFLaWxDLFVBQVl2cEMsU0FBU0MsY0FBYyxPQUN4Q3FFLEtBQUt1bEMsY0FBZ0I3cEMsU0FBU0MsY0FBYyxPQUM1Q3FFLEtBQUswbEMsNEJBQThCaHFDLFNBQVNDLGNBQWMsT0FDMURxRSxLQUFLMmxDLHFCQUF1QmpxQyxTQUFTQyxjQUFjLE9BQ25EcUUsS0FBSzhrQyxVQUFVMW5CLFVBQVVqSCxJQUFJblcsS0FBS2toQyxXQUFXdnJCLFNBQzdDM1YsS0FBS2dpQyxpQkFBaUI1a0IsVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVc4RCxnQkFDcERobEMsS0FBS21sQyxTQUFTL25CLFVBQVVqSCxJQUFJblcsS0FBS2toQyxXQUFXa0UsUUFDNUNwbEMsS0FBS3FsQyxPQUFPam9CLFVBQVVqSCxJQUFJblcsS0FBS2toQyxXQUFXb0UsTUFDMUN0bEMsS0FBS2lsQyxVQUFVN25CLFVBQVVqSCxJQUFJblcsS0FBS2toQyxXQUFXK0QsV0FDN0NqbEMsS0FBS3VsQyxjQUFjbm9CLFVBQVVqSCxJQUFJblcsS0FBS2toQyxXQUFXdUUsYUFDakR6bEMsS0FBSzBsQyw0QkFBNEJ0b0IsVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVd3RSw2QkFDL0QxbEMsS0FBSzJsQyxxQkFBcUJ2b0IsVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVd5RSxzQkFFakQzbEMsS0FBSzhRLEdBQUdnMUIsWUFDYjlsQyxLQUFLaWxDLFVBQVUxYyxZQUFZdm9CLEtBQUs4USxHQUFHZzFCLFlBR3JDOWxDLEtBQUtnaUMsaUJBQWlCelosWUFBWXZvQixLQUFLaWxDLFdBQ3ZDamxDLEtBQUttbEMsU0FBUzVjLFlBQVl2b0IsS0FBS2dpQyxrQkFDL0JoaUMsS0FBS3FsQyxPQUFPOWMsWUFBWXZvQixLQUFLbWxDLFVBQzdCbmxDLEtBQUswbEMsNEJBQTRCbmQsWUFBWXZvQixLQUFLMmxDLHNCQUNsRDNsQyxLQUFLOGtDLFVBQVV2YyxZQUFZdm9CLEtBQUswbEMsNkJBQ2hDMWxDLEtBQUs4a0MsVUFBVXZjLFlBQVl2b0IsS0FBS3FsQyxRQUNoQ3JsQyxLQUFLOGtDLFVBQVV2YyxZQUFZdm9CLEtBQUt1bEMsZUFDaEN2bEMsS0FBSzhRLEdBQUd5WCxZQUFZdm9CLEtBQUs4a0MsV0FHM0IsSUFBSzlrQyxLQUFLNC9CLEtBQUszWixFQUFFNmEsTUFBTWh3QixLQUFPOVEsS0FBSzQvQixLQUFLeEssRUFBRTBMLE1BQU1od0IsR0FBSSxDQUNsRCxJQUFJZ3dCLEVBQVFwbEMsU0FBU0MsY0FBYyxPQUMvQnNsQyxFQUFZdmxDLFNBQVNDLGNBQWMsT0FDdkNtbEMsRUFBTTFqQixVQUFVakgsSUFBSW5XLEtBQUtraEMsV0FBV0osT0FDcENHLEVBQVU3akIsVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVdELFdBQ3hDSCxFQUFNdlksWUFBWTBZLEdBQ2xCamhDLEtBQUs0L0IsS0FBSzNaLEVBQUU2YSxNQUFNaHdCLEdBQUtnd0IsRUFBTWlGLFdBQVUsR0FDdkMvbEMsS0FBSzQvQixLQUFLM1osRUFBRTZhLE1BQU1od0IsR0FBR3NNLFVBQVVqSCxJQUFJblcsS0FBS2toQyxXQUFXMEUsWUFDbkQ1bEMsS0FBSzQvQixLQUFLeEssRUFBRTBMLE1BQU1od0IsR0FBS2d3QixFQUFNaUYsV0FBVSxHQUN2Qy9sQyxLQUFLNC9CLEtBQUt4SyxFQUFFMEwsTUFBTWh3QixHQUFHc00sVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVcyRSxVQUNuRDdsQyxLQUFLOFEsR0FBR3lYLFlBQVl2b0IsS0FBSzQvQixLQUFLM1osRUFBRTZhLE1BQU1od0IsSUFDdEM5USxLQUFLOFEsR0FBR3lYLFlBQVl2b0IsS0FBSzQvQixLQUFLeEssRUFBRTBMLE1BQU1od0IsSUFHeEM5USxLQUFLNC9CLEtBQUszWixFQUFFZ2IsVUFBVW53QixHQUFLOVEsS0FBSzQvQixLQUFLM1osRUFBRTZhLE1BQU1od0IsR0FBR3FoQixjQUFjLElBQU1ueUIsS0FBS2toQyxXQUFXRCxXQUNwRmpoQyxLQUFLNC9CLEtBQUt4SyxFQUFFNkwsVUFBVW53QixHQUFLOVEsS0FBSzQvQixLQUFLeEssRUFBRTBMLE1BQU1od0IsR0FBR3FoQixjQUFjLElBQU1ueUIsS0FBS2toQyxXQUFXRCxXQUUvRWpoQyxLQUFLNUIsUUFBUTRuQyxXQUNoQmhtQyxLQUFLNC9CLEtBQUszWixFQUFFZ2IsVUFBVW53QixHQUFHc00sVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVdDLFNBQ3ZEbmhDLEtBQUs0L0IsS0FBS3hLLEVBQUU2TCxVQUFVbndCLEdBQUdzTSxVQUFVakgsSUFBSW5XLEtBQUtraEMsV0FBV0MsVUFHekRuaEMsS0FBSzhRLEdBQUdnaEIsYUFBYSxpQkFBa0IsU0FHekN5UyxFQUFPRSwyQkFBNkIsV0FDbEMsSUFBSXdCLEVBQVlqbUMsS0FBSzVCLFFBQVE2bkMsV0FBYSxxQkFDMUNqbUMsS0FBS2dpQyxpQkFBaUJsUSxhQUFhLFdBQVksS0FDL0M5eEIsS0FBS2dpQyxpQkFBaUJsUSxhQUFhLE9BQVEsVUFDM0M5eEIsS0FBS2dpQyxpQkFBaUJsUSxhQUFhLGFBQWNtVSxJQUduRDFCLEVBQU9HLGNBQWdCLFdBQ3JCLElBQUl3QixFQUFTbG1DLEtBRVR1L0IsRUFBV1QsRUFBaUI5K0IsS0FBSzhRLElBRWpDOVEsS0FBSzVCLFFBQVE0bkMsVUFDZmhtQyxLQUFLOFEsR0FBR2tqQixpQkFBaUIsYUFBY2gwQixLQUFLZ2dDLGNBRzlDLENBQUMsWUFBYSxRQUFTLFlBQVk1eEIsU0FBUSxTQUFVdkwsR0FDbkRxakMsRUFBT3AxQixHQUFHa2pCLGlCQUFpQm54QixFQUFHcWpDLEVBQU83RSxnQkFBZ0IsTUFFdkQsQ0FBQyxhQUFjLFdBQVksYUFBYWp6QixTQUFRLFNBQVV2TCxHQUN4RHFqQyxFQUFPcDFCLEdBQUdrakIsaUJBQWlCbnhCLEVBQUdxakMsRUFBTzdFLGVBQWdCLENBQ25EbGdCLFNBQVMsRUFDVGdsQixTQUFTLE9BR2JubUMsS0FBSzhRLEdBQUdrakIsaUJBQWlCLFlBQWFoMEIsS0FBS2lnQyxhQUMzQ2pnQyxLQUFLOFEsR0FBR2tqQixpQkFBaUIsYUFBY2gwQixLQUFLd2dDLGNBQzVDeGdDLEtBQUtnaUMsaUJBQWlCaE8saUJBQWlCLFNBQVVoMEIsS0FBS3MvQixVQUV0REMsRUFBU3ZMLGlCQUFpQixTQUFVaDBCLEtBQUswZ0MsZ0JBRXpDLElBQUkwRixHQUF3QixFQUN4QnRJLEVBQWlCeUIsRUFBU2YsZ0JBQWtCLEVBQ2hEeCtCLEtBQUs4OUIsZUFBaUIsSUFBSUEsR0FBZSxXQUNsQ3NJLEdBRUxGLEVBQU8xQyxpQkFFVHhqQyxLQUFLODlCLGVBQWVaLFFBQVFsOUIsS0FBSzhRLElBQ2pDOVEsS0FBSzg5QixlQUFlWixRQUFRbDlCLEtBQUtpbEMsV0FDakMxRixFQUFTbkMsdUJBQXNCLFdBQzdCZ0osR0FBd0IsS0FHMUJwbUMsS0FBS3FtQyxpQkFBbUIsSUFBSTlHLEVBQVN0QyxpQkFBaUJqOUIsS0FBS3dqQyxhQUMzRHhqQyxLQUFLcW1DLGlCQUFpQm5KLFFBQVFsOUIsS0FBS2lsQyxVQUFXLENBQzVDdEosV0FBVyxFQUNYQyxTQUFTLEVBQ1RGLGVBQWUsS0FJbkI2SSxFQUFPZixZQUFjLFdBQ25CLElBQUlqRSxFQUFXVCxFQUFpQjkrQixLQUFLOFEsSUFDckM5USxLQUFLbWlDLFNBQVc1QyxFQUFTL0gsaUJBQWlCeDNCLEtBQUs4USxJQUMvQzlRLEtBQUt5aUMsTUFBb0MsUUFBNUJ6aUMsS0FBS21pQyxTQUFTbUUsVUFDM0IsSUFBSUMsRUFBZXZtQyxLQUFLMmxDLHFCQUFxQjFQLGNBQWdCLEVBQ3pEdVEsRUFBY3htQyxLQUFLMmxDLHFCQUFxQnhTLGFBQWUsRUFDdkRzVCxFQUF1QnptQyxLQUFLaWxDLFVBQVU5UixZQUN0Q3VULEVBQThCMW1DLEtBQUtnaUMsaUJBQWlCN08sWUFDcER3VCxFQUFjM21DLEtBQUttaUMsU0FBU2xLLFVBQzVCMk8sRUFBYzVtQyxLQUFLbWlDLFNBQVNwSyxVQUNoQy8zQixLQUFLaWxDLFVBQVU1YyxNQUFNd2UsUUFBVTdtQyxLQUFLbWlDLFNBQVNqSyxXQUFhLElBQU1sNEIsS0FBS21pQyxTQUFTaEssYUFBZSxJQUFNbjRCLEtBQUttaUMsU0FBUy9KLGNBQWdCLElBQU1wNEIsS0FBS21pQyxTQUFTOUosWUFDckpyNEIsS0FBSzhrQyxVQUFVemMsTUFBTXllLE9BQVMsSUFBTTltQyxLQUFLbWlDLFNBQVNqSyxXQUFhLEtBQU9sNEIsS0FBS21pQyxTQUFTaEssYUFBZSxLQUFPbjRCLEtBQUttaUMsU0FBUy9KLGNBQWdCLEtBQU9wNEIsS0FBS21pQyxTQUFTOUosWUFDN0osSUFBSTBPLEVBQXdCL21DLEtBQUtpbEMsVUFBVStCLGFBQ3ZDQyxFQUF1QmpuQyxLQUFLaWxDLFVBQVVpQyxZQUMxQ2xuQyxLQUFLZ2lDLGlCQUFpQjNaLE1BQU1nTixPQUFTa1IsRUFBZSxPQUFTLE9BRTdEdm1DLEtBQUt1bEMsY0FBY2xkLE1BQU0rSyxNQUFRb1QsRUFBY0MsRUFBdUIsS0FBTyxPQUM3RXptQyxLQUFLdWxDLGNBQWNsZCxNQUFNZ04sT0FBUzBSLEVBQXdCLEtBQzFELElBQUlJLEVBQStCbm5DLEtBQUtnaUMsaUJBQWlCL0wsYUFDekRqMkIsS0FBSzQvQixLQUFLM1osRUFBRTRaLGNBQWdCb0gsRUFBdUJSLEVBQ25Eem1DLEtBQUs0L0IsS0FBS3hLLEVBQUV5SyxjQUFnQmtILEVBQXdCSSxFQUVwRG5uQyxLQUFLNC9CLEtBQUszWixFQUFFNFosY0FBZ0MsV0FBaEI4RyxHQUFtQzNtQyxLQUFLNC9CLEtBQUszWixFQUFFNFosY0FDM0U3L0IsS0FBSzQvQixLQUFLeEssRUFBRXlLLGNBQWdDLFdBQWhCK0csR0FBbUM1bUMsS0FBSzQvQixLQUFLeEssRUFBRXlLLGNBQzNFNy9CLEtBQUs0L0IsS0FBSzNaLEVBQUVxYSxhQUE2QyxNQUE5QnRnQyxLQUFLNUIsUUFBUWtpQyxlQUFzRCxJQUE5QnRnQyxLQUFLNUIsUUFBUWtpQyxhQUM3RXRnQyxLQUFLNC9CLEtBQUt4SyxFQUFFa0wsYUFBNkMsTUFBOUJ0Z0MsS0FBSzVCLFFBQVFraUMsZUFBc0QsSUFBOUJ0Z0MsS0FBSzVCLFFBQVFraUMsYUFDN0V0Z0MsS0FBSzRnQyxzQkFFTCxJQUFJd0csRUFBc0JwbkMsS0FBSzQvQixLQUFLM1osRUFBRTRaLGNBQWdCNy9CLEtBQUttL0IsZUFBaUIsRUFDeEVrSSxFQUFzQnJuQyxLQUFLNC9CLEtBQUt4SyxFQUFFeUssY0FBZ0I3L0IsS0FBS20vQixlQUFpQixFQUM1RW4vQixLQUFLNC9CLEtBQUszWixFQUFFNFosY0FBZ0I3L0IsS0FBSzQvQixLQUFLM1osRUFBRTRaLGVBQWlCb0gsRUFBdUJQLEVBQThCVyxFQUM5R3JuQyxLQUFLNC9CLEtBQUt4SyxFQUFFeUssY0FBZ0I3L0IsS0FBSzQvQixLQUFLeEssRUFBRXlLLGVBQWlCa0gsRUFBd0JJLEVBQStCQyxFQUNoSHBuQyxLQUFLNC9CLEtBQUszWixFQUFFZ2IsVUFBVXBVLEtBQU83c0IsS0FBS3NuQyxpQkFBaUIsS0FDbkR0bkMsS0FBSzQvQixLQUFLeEssRUFBRTZMLFVBQVVwVSxLQUFPN3NCLEtBQUtzbkMsaUJBQWlCLEtBQ25EdG5DLEtBQUs0L0IsS0FBSzNaLEVBQUVnYixVQUFVbndCLEdBQUd1WCxNQUFNK0ssTUFBUXB6QixLQUFLNC9CLEtBQUszWixFQUFFZ2IsVUFBVXBVLEtBQU8sS0FDcEU3c0IsS0FBSzQvQixLQUFLeEssRUFBRTZMLFVBQVVud0IsR0FBR3VYLE1BQU1nTixPQUFTcjFCLEtBQUs0L0IsS0FBS3hLLEVBQUU2TCxVQUFVcFUsS0FBTyxLQUNyRTdzQixLQUFLKy9CLGtCQUFrQixLQUN2Qi8vQixLQUFLKy9CLGtCQUFrQixLQUN2Qi8vQixLQUFLdW5DLHNCQUFzQixLQUMzQnZuQyxLQUFLdW5DLHNCQUFzQixNQU83QmhELEVBQU8rQyxpQkFBbUIsU0FBMEIxSCxHQUtsRCxRQUphLElBQVRBLElBQ0ZBLEVBQU8sTUFHSjUvQixLQUFLNC9CLEtBQUtBLEdBQU1DLGNBQ25CLE9BQU8sRUFHVCxJQUVJMkgsRUFGQXpGLEVBQWMvaEMsS0FBS2lsQyxVQUFVamxDLEtBQUs0L0IsS0FBS0EsR0FBTXFDLGdCQUM3Q0osRUFBWTdoQyxLQUFLNC9CLEtBQUtBLEdBQU1rQixNQUFNaHdCLEdBQUc5USxLQUFLNC9CLEtBQUtBLEdBQU15RCxnQkFFckRvRSxFQUFpQjVGLEVBQVlFLEVBUWpDLE9BTkF5RixFQUFnQnpxQyxLQUFLQyxPQUFPeXFDLEVBQWlCNUYsR0FBWTdoQyxLQUFLNUIsUUFBUXNwQyxrQkFFbEUxbkMsS0FBSzVCLFFBQVF1cEMsbUJBQ2ZILEVBQWdCenFDLEtBQUtHLElBQUlzcUMsRUFBZXhuQyxLQUFLNUIsUUFBUXVwQyxtQkFHaERILEdBR1RqRCxFQUFPeEUsa0JBQW9CLFNBQTJCSCxHQUtwRCxRQUphLElBQVRBLElBQ0ZBLEVBQU8sS0FHSjUvQixLQUFLNC9CLEtBQUtBLEdBQU1DLGNBQXJCLENBSUEsSUFBSWtDLEVBQWMvaEMsS0FBS2dpQyxpQkFBaUJoaUMsS0FBSzQvQixLQUFLQSxHQUFNcUMsZ0JBQ3BESixFQUFZN2hDLEtBQUs0L0IsS0FBS0EsR0FBTWtCLE1BQU1od0IsR0FBRzlRLEtBQUs0L0IsS0FBS0EsR0FBTXlELGdCQUNyRG5CLEVBQVcvbEMsU0FBUzZELEtBQUttaUMsU0FBU25pQyxLQUFLNC9CLEtBQUtBLEdBQU1rQyxVQUFXLElBQzdEYixFQUFZamhDLEtBQUs0L0IsS0FBS0EsR0FBTXFCLFVBQzVCMkcsRUFBZTVuQyxLQUFLZ2lDLGlCQUFpQmhpQyxLQUFLNC9CLEtBQUtBLEdBQU1pRCxrQkFFckRnRixHQURKRCxFQUF3QixNQUFUaEksR0FBZ0I1L0IsS0FBS3lpQyxPQUFTcEQsRUFBVXFELGdCQUFnQkUsd0JBQTBCZ0YsRUFBZUEsSUFDM0U3RixFQUFjRyxHQUMvQzRGLE1BQW1CakcsRUFBWVosRUFBVXBVLE1BQVFnYixHQUNyREMsRUFBd0IsTUFBVGxJLEdBQWdCNS9CLEtBQUt5aUMsT0FBU3BELEVBQVVxRCxnQkFBZ0JDLHVCQUF5Qm1GLEdBQWdCakcsRUFBWVosRUFBVXBVLE1BQVFpYixFQUM5STdHLEVBQVVud0IsR0FBR3VYLE1BQU0wZixVQUFxQixNQUFUbkksRUFBZSxlQUFpQmtJLEVBQWUsWUFBYyxrQkFBb0JBLEVBQWUsV0FHakl2RCxFQUFPZ0Qsc0JBQXdCLFNBQStCM0gsUUFDL0MsSUFBVEEsSUFDRkEsRUFBTyxLQUdULElBQUlrQixFQUFROWdDLEtBQUs0L0IsS0FBS0EsR0FBTWtCLE1BQU1od0IsR0FDOUJtd0IsRUFBWWpoQyxLQUFLNC9CLEtBQUtBLEdBQU1xQixVQUFVbndCLEdBRXRDOVEsS0FBSzQvQixLQUFLQSxHQUFNQyxlQUFpQjcvQixLQUFLNC9CLEtBQUtBLEdBQU1VLGNBQ25EUSxFQUFNelksTUFBTTJmLFdBQWEsVUFDekJob0MsS0FBS2dpQyxpQkFBaUIzWixNQUFNcm9CLEtBQUs0L0IsS0FBS0EsR0FBTTBELGNBQWdCLFdBRTVEeEMsRUFBTXpZLE1BQU0yZixXQUFhLFNBQ3pCaG9DLEtBQUtnaUMsaUJBQWlCM1osTUFBTXJvQixLQUFLNC9CLEtBQUtBLEdBQU0wRCxjQUFnQixVQUkxRHRqQyxLQUFLNC9CLEtBQUtBLEdBQU1DLGNBQ2xCb0IsRUFBVTVZLE1BQU1DLFFBQVUsUUFFMUIyWSxFQUFVNVksTUFBTUMsUUFBVSxRQUk5QmljLEVBQU8zRCxvQkFBc0IsV0FDM0I1Z0MsS0FBS21sQyxTQUFTOWMsTUFBTXJvQixLQUFLeWlDLE1BQVEsT0FBUyxTQUFXemlDLEtBQUs0L0IsS0FBS3hLLEVBQUV5SyxlQUFpQjcvQixLQUFLNC9CLEtBQUt4SyxFQUFFa0wsYUFBZSxJQUFNdGdDLEtBQUttL0IsZUFBaUIsS0FBTyxFQUNoSm4vQixLQUFLbWxDLFNBQVM5YyxNQUFNa04sT0FBU3YxQixLQUFLNC9CLEtBQUszWixFQUFFNFosZUFBaUI3L0IsS0FBSzQvQixLQUFLM1osRUFBRXFhLGFBQWUsSUFBTXRnQyxLQUFLbS9CLGVBQWlCLEtBQU8sR0FPMUhvRixFQUFPaEUsbUJBQXFCLFNBQTRCWCxRQUN6QyxJQUFUQSxJQUNGQSxFQUFPLEtBR1Q1L0IsS0FBSzQvQixLQUFLQSxHQUFNa0IsTUFBTUMsS0FBTy9nQyxLQUFLNC9CLEtBQUtBLEdBQU1rQixNQUFNaHdCLEdBQUdzdUIsd0JBQ3REcC9CLEtBQUs0L0IsS0FBS0EsR0FBTXFCLFVBQVVGLEtBQU8vZ0MsS0FBSzQvQixLQUFLQSxHQUFNcUIsVUFBVW53QixHQUFHc3VCLHdCQUMvQnAvQixLQUFLZ2hDLGVBQWVoaEMsS0FBSzQvQixLQUFLQSxHQUFNcUIsVUFBVUYsTUFHM0UvZ0MsS0FBSzQvQixLQUFLQSxHQUFNcUIsVUFBVW53QixHQUFHc00sVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVcrRyxPQUUzRGpvQyxLQUFLNC9CLEtBQUtBLEdBQU1xQixVQUFVbndCLEdBQUdzTSxVQUFVdVYsT0FBTzN5QixLQUFLa2hDLFdBQVcrRyxPQUc1RGpvQyxLQUFLZ2hDLGVBQWVoaEMsS0FBSzQvQixLQUFLQSxHQUFNa0IsTUFBTUMsT0FDNUMvZ0MsS0FBSzgvQixjQUFjRixHQUNuQjUvQixLQUFLNC9CLEtBQUtBLEdBQU1rQixNQUFNaHdCLEdBQUdzTSxVQUFVakgsSUFBSW5XLEtBQUtraEMsV0FBVytHLFFBRXZEam9DLEtBQUs0L0IsS0FBS0EsR0FBTWtCLE1BQU1od0IsR0FBR3NNLFVBQVV1VixPQUFPM3lCLEtBQUtraEMsV0FBVytHLFFBSTlEMUQsRUFBTzlELG9CQUFzQixTQUE2QmIsUUFDM0MsSUFBVEEsSUFDRkEsRUFBTyxLQUdUNS9CLEtBQUs0L0IsS0FBS0EsR0FBTWtCLE1BQU1od0IsR0FBR3NNLFVBQVV1VixPQUFPM3lCLEtBQUtraEMsV0FBVytHLE9BQzFEam9DLEtBQUs0L0IsS0FBS0EsR0FBTXFCLFVBQVVud0IsR0FBR3NNLFVBQVV1VixPQUFPM3lCLEtBQUtraEMsV0FBVytHLFFBTWhFMUQsRUFBT3pFLGNBQWdCLFNBQXVCRixRQUMvQixJQUFUQSxJQUNGQSxFQUFPLEtBR1QsSUFBSXFCLEVBQVlqaEMsS0FBSzQvQixLQUFLQSxHQUFNcUIsVUFBVW53QixHQUVyQzlRLEtBQUs0L0IsS0FBS0EsR0FBTXdCLFlBQ25CSCxFQUFVN2pCLFVBQVVqSCxJQUFJblcsS0FBS2toQyxXQUFXQyxTQUN4Q25oQyxLQUFLNC9CLEtBQUtBLEdBQU13QixXQUFZLEdBRzFCcGhDLEtBQUs1QixRQUFRNG5DLFVBQ2ZobUMsS0FBSzZnQyxrQkFXVDBELEVBQU85QyxZQUFjLFNBQXFCNStCLEVBQUcrOEIsUUFDOUIsSUFBVEEsSUFDRkEsRUFBTyxLQUdULElBQUltRCxFQUFhL0QsRUFBbUJoL0IsS0FBSzhRLElBQ3JDeXVCLEVBQVdULEVBQWlCOStCLEtBQUs4USxJQUNqQ213QixFQUFZamhDLEtBQUs0L0IsS0FBS0EsR0FBTXFCLFVBRTVCaUgsRUFBdUIsTUFBVHRJLEVBQWUvOEIsRUFBRXcvQixNQUFReC9CLEVBQUV5L0IsTUFDN0N0aUMsS0FBSzQvQixLQUFLQSxHQUFNNEMsV0FBYTBGLEVBQWNqSCxFQUFVRixLQUFLL2dDLEtBQUs0L0IsS0FBS0EsR0FBTTJDLFlBQzFFdmlDLEtBQUs0aEMsWUFBY2hDLEVBQ25CNS9CLEtBQUs4USxHQUFHc00sVUFBVWpILElBQUluVyxLQUFLa2hDLFdBQVc4QixVQUN0Q0QsRUFBVy9PLGlCQUFpQixZQUFhaDBCLEtBQUsyaEMsTUFBTSxHQUNwRG9CLEVBQVcvTyxpQkFBaUIsVUFBV2gwQixLQUFLOGlDLFdBQVcsR0FFckIsT0FBOUI5aUMsS0FBS2lqQyxzQkFDUEYsRUFBVy9PLGlCQUFpQixRQUFTaDBCLEtBQUtrakMsY0FBYyxHQUN4REgsRUFBVy9PLGlCQUFpQixXQUFZaDBCLEtBQUtrakMsY0FBYyxLQUUzRDNELEVBQVNyL0IsYUFBYUYsS0FBS2lqQyxzQkFDM0JqakMsS0FBS2lqQyxxQkFBdUIsT0FRaENzQixFQUFPN0MsYUFBZSxTQUFzQjcrQixFQUFHKzhCLEdBQzdDLElBQUl1SSxFQUFTbm9DLEtBTWIsUUFKYSxJQUFUNC9CLElBQ0ZBLEVBQU8sS0FHSjUvQixLQUFLNUIsUUFBUWdxQyxhQUFsQixDQUNBLElBQUk3SSxFQUFXVCxFQUFpQjkrQixLQUFLOFEsSUFDckM5USxLQUFLNC9CLEtBQUtBLEdBQU1xQixVQUFVRixLQUFPL2dDLEtBQUs0L0IsS0FBS0EsR0FBTXFCLFVBQVVud0IsR0FBR3N1Qix3QkFDOUQsSUFDSWlKLEVBRFlyb0MsS0FBSzQvQixLQUFLQSxHQUFNcUIsVUFDQUYsS0FBSy9nQyxLQUFLNC9CLEtBQUtBLEdBQU0yQyxZQUNqREwsRUFBVy9sQyxTQUFTNkQsS0FBS21pQyxTQUFTbmlDLEtBQUs0L0IsS0FBS0EsR0FBTWtDLFVBQVcsSUFDN0R3RyxFQUFXdG9DLEtBQUtnaUMsaUJBQWlCaGlDLEtBQUs0L0IsS0FBS0EsR0FBTWlELGtCQUVqRDBGLEdBRGEsTUFBVDNJLEVBQWU1L0IsS0FBS29nQyxPQUFTaUksRUFBa0Jyb0MsS0FBS2tnQyxPQUFTbUksR0FDdkQsR0FBSyxFQUFJLEVBQ25CRyxHQUFzQixJQUFURCxFQUFhRCxFQUFXcEcsRUFBV29HLEVBQVdwRyxHQUVoRCxTQUFTdUcsSUFHbEIsSUFBSUMsRUFVQUMsR0FaSyxJQUFUSixFQUNFRCxFQUFXRSxJQUdiRixHQUFZSCxFQUFPL3BDLFFBQVF3cUMsa0JBRTNCVCxFQUFPbkcsaUJBQWlCeUcsV0FBVUMsRUFBd0IsSUFBMEJQLEVBQU92SSxLQUFLQSxHQUFNMkMsWUFBYytGLEVBQVVJLElBRTlIbkosRUFBU25DLHNCQUFzQnFMLElBRzdCSCxFQUFXRSxJQUdiRixHQUFZSCxFQUFPL3BDLFFBQVF3cUMsa0JBRTNCVCxFQUFPbkcsaUJBQWlCeUcsV0FBVUUsRUFBeUIsSUFBMkJSLEVBQU92SSxLQUFLQSxHQUFNMkMsWUFBYytGLEVBQVVLLElBRWhJcEosRUFBU25DLHNCQUFzQnFMLElBS3JDQSxLQU9GbEUsRUFBT3NFLGtCQUFvQixXQUN6QixPQUFPN29DLEtBQUtpbEMsV0FPZFYsRUFBT3VFLGlCQUFtQixXQUN4QixPQUFPOW9DLEtBQUtnaUMsa0JBR2R1QyxFQUFPNUQsa0JBQW9CLFdBRXpCLElBRUUsTUFBK0UsU0FBM0VuSixpQkFBaUJ4M0IsS0FBS2dpQyxpQkFBa0IsdUJBQXVCMVosU0FBc0IsbUJBQW9CNXNCLFNBQVMwb0MsZ0JBQWdCL2IsT0FBUyx1QkFBd0Izc0IsU0FBUzBvQyxnQkFBZ0IvYixNQUN2TCxFQUVBOFcsR0FBZW4vQixLQUFLOFEsSUFFN0IsTUFBT2pPLEdBQ1AsT0FBT3M4QixHQUFlbi9CLEtBQUs4USxNQUkvQnl6QixFQUFPd0UsZ0JBQWtCLFdBQ3ZCLElBQUlDLEVBQVNocEMsS0FFVHUvQixFQUFXVCxFQUFpQjkrQixLQUFLOFEsSUFFakM5USxLQUFLNUIsUUFBUTRuQyxVQUNmaG1DLEtBQUs4USxHQUFHeXNCLG9CQUFvQixhQUFjdjlCLEtBQUtnZ0MsY0FHakQsQ0FBQyxZQUFhLFFBQVMsWUFBWTV4QixTQUFRLFNBQVV2TCxHQUNuRG1tQyxFQUFPbDRCLEdBQUd5c0Isb0JBQW9CMTZCLEVBQUdtbUMsRUFBTzNILGdCQUFnQixNQUUxRCxDQUFDLGFBQWMsV0FBWSxhQUFhanpCLFNBQVEsU0FBVXZMLEdBQ3hEbW1DLEVBQU9sNEIsR0FBR3lzQixvQkFBb0IxNkIsRUFBR21tQyxFQUFPM0gsZUFBZ0IsQ0FDdERsZ0IsU0FBUyxFQUNUZ2xCLFNBQVMsT0FHYm5tQyxLQUFLOFEsR0FBR3lzQixvQkFBb0IsWUFBYXY5QixLQUFLaWdDLGFBQzlDamdDLEtBQUs4USxHQUFHeXNCLG9CQUFvQixhQUFjdjlCLEtBQUt3Z0MsY0FFM0N4Z0MsS0FBS2dpQyxrQkFDUGhpQyxLQUFLZ2lDLGlCQUFpQnpFLG9CQUFvQixTQUFVdjlCLEtBQUtzL0IsVUFHM0RDLEVBQVNoQyxvQkFBb0IsU0FBVXY5QixLQUFLMGdDLGdCQUV4QzFnQyxLQUFLcW1DLGtCQUNQcm1DLEtBQUtxbUMsaUJBQWlCL0ksYUFHcEJ0OUIsS0FBSzg5QixnQkFDUDk5QixLQUFLODlCLGVBQWVSLGFBSXRCdDlCLEtBQUt3akMsWUFBWXZqQyxTQUNqQkQsS0FBS2lnQyxZQUFZaGdDLFNBQ2pCRCxLQUFLNmdDLGVBQWU1Z0MsU0FDcEJELEtBQUswZ0MsZUFBZXpnQyxVQU90QnNrQyxFQUFPMEUsUUFBVSxXQUNmanBDLEtBQUsrb0Msa0JBQ0wxSixFQUFVa0UsVUFBVTJGLE9BQU9scEMsS0FBSzhRLEtBT2xDeXpCLEVBQU92RCxlQUFpQixTQUF3Qm1JLEdBQzlDLE9BQU9ucEMsS0FBS2tnQyxRQUFVaUosRUFBS3AyQixNQUFRL1MsS0FBS2tnQyxRQUFVaUosRUFBS3AyQixLQUFPbzJCLEVBQUsvVixPQUFTcHpCLEtBQUtvZ0MsUUFBVStJLEVBQUs3VCxLQUFPdDFCLEtBQUtvZ0MsUUFBVStJLEVBQUs3VCxJQUFNNlQsRUFBSzlULFFBT3hJa1AsRUFBT2lCLFVBQVksU0FBbUIxMEIsRUFBSXM0QixHQUN4QyxJQUFJQyxFQUFVdjRCLEVBQUd1NEIsU0FBV3Y0QixFQUFHdzRCLHVCQUF5Qng0QixFQUFHeTRCLG9CQUFzQno0QixFQUFHMDRCLGtCQUNwRixPQUFPaHBDLE1BQU01RCxVQUFVaVAsT0FBT25PLEtBQUtvVCxFQUFHOHpCLFVBQVUsU0FBVUMsR0FDeEQsT0FBT3dFLEVBQVEzckMsS0FBS21uQyxFQUFPdUUsTUFDMUIsSUFHRS9KLEVBanhCb0IsR0FveEI3QkEsR0FBVStELGVBQWlCLENBQ3pCNEMsVUFBVSxFQUNWMUYsY0FBYyxFQUNkOEgsY0FBYyxFQUNkUSxrQkFBbUIsR0FDbkIxSCxXQUFZLENBQ1YrRCxVQUFXLG9CQUNYRCxlQUFnQiw0QkFDaEJJLE9BQVEsbUJBQ1JFLEtBQU0saUJBQ04zdkIsUUFBUyxvQkFDVDh2QixZQUFhLHdCQUNieEUsVUFBVyxzQkFDWEgsTUFBTyxrQkFDUDRFLDRCQUE2Qix5Q0FDN0JDLHFCQUFzQixpQ0FDdEJ4RSxRQUFTLG9CQUNUeUUsV0FBWSx1QkFDWkMsU0FBVSxxQkFDVm9DLE1BQU8sa0JBQ1BqRixTQUFVLHNCQUVaMEUsaUJBQWtCLEdBQ2xCQyxpQkFBa0IsRUFDbEI3TCxRQUFTLEtBRVh1RCxHQUFVa0UsVUFBWSxJQUFJMzFCLFFBRTFCeXhCLEdBQVVvSyxzQkFBd0IsV0FDaEMvdEMsU0FBUzZoQyxvQkFBb0IsbUJBQW9CdjlCLEtBQUt5cEMsdUJBQ3REaHVDLE9BQU84aEMsb0JBQW9CLE9BQVF2OUIsS0FBS3lwQyx1QkFDeENqcEMsTUFBTTVELFVBQVV3UixRQUFRMVEsS0FBS2hDLFNBQVN3MkIsaUJBQWlCLHFCQUFxQixTQUFVcGhCLEdBQzFDLFNBQXRDQSxFQUFHMGhCLGFBQWEsbUJBQWlDNk0sR0FBVWtFLFVBQVVsZ0MsSUFBSXlOLElBQUssSUFBSXV1QixHQUFVdnVCLEVBQUkydEIsRUFBVzN0QixFQUFHNmdCLGlCQUl0SDBOLEdBQVVxSyxlQUFpQixXQUN6QjFwQyxLQUFLMnBDLGVBQWVyTSxjQUd0QitCLEdBQVV1SyxZQUFjLFdBQ3RCNXBDLEtBQUt5cEMsc0JBQXdCenBDLEtBQUt5cEMsc0JBQXNCaGxDLEtBQUt6RSxNQUU3QixvQkFBckJpOUIsbUJBRVRqOUIsS0FBSzJwQyxlQUFpQixJQUFJMU0saUJBQWlCb0MsR0FBVXdLLGlCQUNyRDdwQyxLQUFLMnBDLGVBQWV6TSxRQUFReGhDLFNBQVUsQ0FDcENpZ0MsV0FBVyxFQUNYQyxTQUFTLEtBTWUsYUFBeEJsZ0MsU0FBU291QyxZQUFxRCxZQUF4QnB1QyxTQUFTb3VDLGFBQTZCcHVDLFNBQVMwb0MsZ0JBQWdCMkYsU0FFdkd0dUMsT0FBTzhELFdBQVdTLEtBQUt5cEMsd0JBRXZCL3RDLFNBQVNzNEIsaUJBQWlCLG1CQUFvQmgwQixLQUFLeXBDLHVCQUNuRGh1QyxPQUFPdTRCLGlCQUFpQixPQUFRaDBCLEtBQUt5cEMseUJBSXpDcEssR0FBVXdLLGdCQUFrQixTQUFVRyxHQUNwQ0EsRUFBVTU3QixTQUFRLFNBQVU2N0IsR0FDMUJ6cEMsTUFBTTVELFVBQVV3UixRQUFRMVEsS0FBS3VzQyxFQUFTQyxZQUFZLFNBQVVDLEdBQy9CLElBQXZCQSxFQUFVQyxXQUNSRCxFQUFVRSxhQUFhLG1CQUN4QmhMLEdBQVVrRSxVQUFVbGdDLElBQUk4bUMsSUFBY3p1QyxTQUFTMG9DLGdCQUFnQjVRLFNBQVMyVyxJQUFjLElBQUk5SyxHQUFVOEssRUFBVzFMLEVBQVcwTCxFQUFVeFksYUFFcklueEIsTUFBTTVELFVBQVV3UixRQUFRMVEsS0FBS3lzQyxFQUFValksaUJBQWlCLHFCQUFxQixTQUFVcGhCLEdBQzNDLFNBQXRDQSxFQUFHMGhCLGFBQWEsb0JBQWlDNk0sR0FBVWtFLFVBQVVsZ0MsSUFBSXlOLElBQU9wVixTQUFTMG9DLGdCQUFnQjVRLFNBQVMxaUIsSUFBSyxJQUFJdXVCLEdBQVV2dUIsRUFBSTJ0QixFQUFXM3RCLEVBQUc2Z0Isb0JBS25LbnhCLE1BQU01RCxVQUFVd1IsUUFBUTFRLEtBQUt1c0MsRUFBU0ssY0FBYyxTQUFVQyxHQUMvQixJQUF6QkEsRUFBWUgsV0FDcUMsU0FBL0NHLEVBQVkvWCxhQUFhLGtCQUMzQjZNLEdBQVVrRSxVQUFVbGdDLElBQUlrbkMsS0FBaUI3dUMsU0FBUzBvQyxnQkFBZ0I1USxTQUFTK1csSUFBZ0JsTCxHQUFVa0UsVUFBVWpnQyxJQUFJaW5DLEdBQWF0QixVQUVoSXpvQyxNQUFNNUQsVUFBVXdSLFFBQVExUSxLQUFLNnNDLEVBQVlyWSxpQkFBaUIsNEJBQTRCLFNBQVVwaEIsR0FDOUZ1dUIsR0FBVWtFLFVBQVVsZ0MsSUFBSXlOLEtBQVFwVixTQUFTMG9DLGdCQUFnQjVRLFNBQVMxaUIsSUFBT3V1QixHQUFVa0UsVUFBVWpnQyxJQUFJd04sR0FBSW00QixxQkFRakg1SixHQUFVWixXQUFhQSxFQU1uQixLQUNGWSxHQUFVdUssY0NsK0JaLElBT0lZLEdBQ0EsU0FBcUJ0eEIsRUFBTXlFLEVBQVM4c0IsR0FDaEN6cUMsS0FBS2taLEtBQU9BLEVBQ1psWixLQUFLMmQsUUFBVUEsRUFDZjNkLEtBQUt5cUMsR0FBS0EsRUFDVnpxQyxLQUFLekMsS0FBTyxXQUtoQm10QyxHQUNBLFNBQWtCL3NCLEdBQ2QzZCxLQUFLMmQsUUFBVUEsRUFDZjNkLEtBQUt6QyxLQUFPLE9BQ1p5QyxLQUFLa1osS0FBTyxPQUNabFosS0FBS3lxQyxHQUFLanRCLFFBQVFtdEIsVUFLdEJDLEdBQ0EsU0FBNkIxeEIsRUFBTXlFLEVBQVM4c0IsRUFBSUksR0FDNUM3cUMsS0FBS2taLEtBQU9BLEVBQ1psWixLQUFLMmQsUUFBVUEsRUFDZjNkLEtBQUt5cUMsR0FBS0EsRUFDVnpxQyxLQUFLNnFDLElBQU1BLEVBQ1g3cUMsS0FBS3pDLEtBQU8sY0FLaEJ1dEMsR0FDQSxXQUNJOXFDLEtBQUt6QyxLQUFPLE1BQ1p5QyxLQUFLNnFDLEtBQU0sRUFDWDdxQyxLQUFLa1osS0FBTyxNQUNabFosS0FBSzJkLFFBQVUsS0FDZjNkLEtBQUt5cUMsR0FBSyxNQUtkTSxHQUNBLFdBQ0kvcUMsS0FBS3pDLEtBQU8sZUFDWnlDLEtBQUtrWixLQUFPLGVBQ1psWixLQUFLMmQsUUFBVSxLQUNmM2QsS0FBS3lxQyxHQUFLLE1BT2RPLEdBQXFCLGdGQUVyQkMsR0FBaUIsQ0FDakIsQ0FBQyxNQUFPLDBCQUNSLENBQUMsT0FBUSxxQkFDVCxDQUFDLFdBQVksdUJBQ2IsQ0FBQyxnQkFBaUIsMEJBQ2xCLENBQUMsWUFBYSx5QkFDZCxDQUFDLFVBQVcsOEJBQ1osQ0FBQyxPQUFRLHlCQUNULENBQUMsT0FBUSw0QkFDVCxDQUFDLFNBQVUsNkJBQ1gsQ0FBQyxnQkFBaUIscUJBQ2xCLENBQ0ksbUJBQ0EsMERBRUosQ0FBQyxTQUFVLG9EQUNYLENBQUMsWUFBYSxpQ0FDZCxDQUFDLFFBQVMsNkJBQ1YsQ0FBQyxVQUFXLCtCQUNaLENBQUMsUUFBUyxxQkFDVixDQUFDLGFBQWMsbUNBQ2YsQ0FBQyxRQUFTLDZCQUNWLENBQUMsUUFBUywyQkFDVixDQUFDLEtBQU0sNkNBQ1AsQ0FBQyxLQUFNLHVDQUNQLENBQUMsS0FBTSxnQkFDUCxDQUFDLE9BQVEscUNBQ1QsQ0FBQyxVQUFXLHVCQUNaLENBQUMsTUFBTywwQ0FDUixDQUFDLFNBQVUsZ0NBQ1gsQ0FBQyxXQUFZLG9CQUNiLENBQUMsWUFBYSx5QkFDZCxDQUFDLGNBQWUsbUNBQ2hCLENBQUMsY0FBZSxxQ0FDaEIsQ0FBQyxZQXJDb0IsaUlBdUNyQkMsR0FBdUIsQ0FDdkIsQ0FBQyxNQUFPLGtCQUNSLENBQUMsYUFBYyxXQUNmLENBQUMsZ0JBQWlCLG1CQUNsQixDQUFDLGlCQUFrQixZQUNuQixDQUFDLFlBQWEsVUFDZCxDQUFDLGVBQWdCLFNBQ2pCLENBQUMsYUFBYyxxQ0FDZixDQUFDLGFBQWMsd0JBQ2YsQ0FBQyxlQUFnQixtQ0FDakIsQ0FBQyxhQUFjLGlDQUNmLENBQUMsc0JBQXVCLG9CQUN4QixDQUFDLGdCQUFpQixvQkFDbEIsQ0FBQyxZQUFhLG9CQUNkLENBQUMsWUFBYSxvQkFDZCxDQUFDLGNBQWUsb0JBQ2hCLENBQUMsYUFBYyxxQkFDZixDQUFDLGFBQWMsY0FDZixDQUFDLFdBQVksV0FDYixDQUFDLFNBQVUsU0FDWCxDQUFDLFlBQWEsUUFDZCxDQUFDLFFBQVMsaUJBQ1YsQ0FBQyxTQUFVLDZCQUNYLENBQUMsTUFBTyxPQUNSLENBQUMsT0FBUSxRQUNULENBQUMsT0FBUSxVQW1DTixTQUFTQyxHQUFlQyxHQUMzQixJQUFJQyxFQXBCUixTQUF3QkQsR0FLcEIsTUFBZSxLQUFQQSxHQUNKSCxHQUFlMW1DLFFBQU8sU0FBVW9jLEVBQVM4VSxHQUNyQyxJQUFJNlYsRUFBVTdWLEVBQUcsR0FBSThWLEVBQVE5VixFQUFHLEdBQ2hDLEdBQUk5VSxFQUNBLE9BQU9BLEVBRVgsSUFBSTZxQixFQUFVRCxFQUFNMXFDLEtBQUt1cUMsR0FDekIsUUFBU0ksR0FBVyxDQUFDRixFQUFTRSxNQUMvQixHQU9XQyxDQUFlTCxHQUNqQyxJQUFLQyxFQUNELE9BQU8sS0FFWCxJQUFJbnlCLEVBQU9teUIsRUFBWSxHQUFJM3RCLEVBQVEydEIsRUFBWSxHQUMvQyxHQUFhLGNBQVRueUIsRUFDQSxPQUFPLElBQUk0eEIsR0FFZixJQUFJWSxFQUFlaHVCLEVBQU0sSUFBTUEsRUFBTSxHQUFHN1ksTUFBTSxRQUFRNUcsTUFBTSxFQUFHLEdBQzNEeXRDLEVBQ0lBLEVBQWEvcEMsT0E1R0ksSUE2R2pCK3BDLEVBM0swQyxXQUNsRCxJQUFLLElBQUlDLEVBQUksRUFBR3puQyxFQUFJLEVBQUcwbkMsRUFBSzdyQyxVQUFVNEIsT0FBUXVDLEVBQUkwbkMsRUFBSTFuQyxJQUFLeW5DLEdBQUs1ckMsVUFBVW1FLEdBQUd2QyxPQUN4RSxJQUFJa3FDLEVBQUlyckMsTUFBTW1yQyxHQUFJeDRCLEVBQUksRUFBM0IsSUFBOEJqUCxFQUFJLEVBQUdBLEVBQUkwbkMsRUFBSTFuQyxJQUN6QyxJQUFLLElBQUlvZCxFQUFJdmhCLFVBQVVtRSxHQUFJZ0IsRUFBSSxFQUFHNG1DLEVBQUt4cUIsRUFBRTNmLE9BQVF1RCxFQUFJNG1DLEVBQUk1bUMsSUFBS2lPLElBQzFEMDRCLEVBQUUxNEIsR0FBS21PLEVBQUVwYyxHQUNqQixPQUFPMm1DLEVBc0tnQkUsQ0FBZUwsRUE0QjFDLFNBQTRCTSxHQUV4QixJQURBLElBQUlDLEVBQVMsR0FDSkMsRUFBSyxFQUFHQSxFQUFLRixFQUFPRSxJQUN6QkQsRUFBT3hvQyxLQUFLLEtBRWhCLE9BQU93b0MsRUFqQzZDRSxDQTdHM0IsRUE2R3VFVCxFQUFhL3BDLFVBSXpHK3BDLEVBQWUsR0FFbkIsSUFBSS90QixFQUFVK3RCLEVBQWE1bEIsS0FBSyxLQUM1QjJrQixFQU9ELFNBQWtCVyxHQUNyQixJQUFLLElBQUljLEVBQUssRUFBR0YsRUFBUWQsR0FBcUJ2cEMsT0FBUXVxQyxFQUFLRixFQUFPRSxJQUFNLENBQ3BFLElBQUl6VyxFQUFLeVYsR0FBcUJnQixHQUFLekIsRUFBS2hWLEVBQUcsR0FFM0MsR0FGdURBLEVBQUcsR0FDeEM1MEIsS0FBS3VxQyxHQUVuQixPQUFPWCxFQUdmLE9BQU8sS0FmRTJCLENBQVNoQixHQUNkaUIsRUFBaUJyQixHQUFtQm5xQyxLQUFLdXFDLEdBQzdDLE9BQUlpQixHQUFrQkEsRUFBZSxHQUMxQixJQUFJekIsR0FBb0IxeEIsRUFBTXlFLEVBQVM4c0IsRUFBSTRCLEVBQWUsSUFFOUQsSUFBSTdCLEdBQVl0eEIsRUFBTXlFLEVBQVM4c0IsR0NuTG5DLE1BQU05K0IsR0FBUyxDQUtwQi9ELE9BQU8sRUFLUDBrQyxXQUFZLDBDQU1aQyw0QkFBNkIsOEVBSzdCQyxjQUFlLGdDQUtmQyxhQUFjLHVEQUtkQyx5QkFBMEIsdUVBSzFCQyx1QkFBd0IscUVBS3hCQyxpQkFBa0IsNEJBS2xCQyxxQkFBc0IsMEJBS3RCQyxnQkFBaUIsNERBS2pCQyxlQUFnQiwrQkFLaEJDLFVBQVcsb0NBS1hDLFVBQVcscUNBS1hDLFdBQVkscURBTVpDLGdCQUFnQixFQUNoQkMsaUJBQWtCLENBQUMsMEJBS25CQyxVQUFXLENBQ1QsQ0FDRUMsTUFBTyxXQUNQbDRCLEdBQUksV0FDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBRVYsQ0FDRUQsTUFBTyxlQUNQbDRCLEdBQUksWUFDSmpULElBQUssSUFDTHFyQyxTQUFTLEdBRVgsQ0FDRUYsTUFBTyxZQUNQbDRCLEdBQUksWUFDSmpULElBQUssSUFDTHFyQyxTQUFTLEdBRVgsQ0FDRUYsTUFBTyxhQUNQbDRCLEdBQUksY0FDSmpULElBQUssSUFDTHFyQyxTQUFTLEVBQ1RDLFVBQVUsR0FHWixDQUNFSCxNQUFPLFVBQ1BsNEIsR0FBSSxlQUNKalQsSUFBSyxJQUNMcXJDLFNBQVMsR0FFWCxDQUNFRixNQUFPLGNBQ1BsNEIsR0FBSSx3QkFDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBRVYsQ0FDRUQsTUFBTyxVQUNQbDRCLEdBQUksbUJBQ0pqVCxJQUFLLFVBQ0x1ckMsV0FBVyxFQUNYeGpCLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8sWUFDUGw0QixHQUFJLHFCQUNKalQsSUFBSyxZQUNMdXJDLFdBQVcsRUFDWHhqQixPQUFPLEdBRVQsQ0FDRW9qQixNQUFPLFlBQ1BsNEIsR0FBSSxxQkFDSmpULElBQUssWUFDTHVyQyxXQUFXLEVBQ1h4akIsT0FBTyxHQUVULENBQ0VvakIsTUFBTyxhQUNQbDRCLEdBQUksc0JBQ0pqVCxJQUFLLGFBQ0x1ckMsV0FBVyxFQUNYeGpCLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8scUJBQ1BsNEIsR0FBSSxlQUNKalQsSUFBSyxVQUNMb3JDLFFBQVEsRUFDUnJqQixPQUFPLEdBRVQsQ0FDRW9qQixNQUFPLHVCQUNQbDRCLEdBQUksaUJBQ0pqVCxJQUFLLFlBQ0xvckMsUUFBUSxFQUNScmpCLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8sV0FDUGw0QixHQUFJLG1CQUNKalQsSUFBSyxVQUNMc3JDLFVBQVUsRUFDVkYsUUFBUSxFQUNScmpCLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8sY0FDUGw0QixHQUFJLHNCQUNKalQsSUFBSyxZQUNMc3JDLFVBQVUsRUFDVkYsUUFBUSxFQUNScmpCLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8sT0FDUGw0QixHQUFJLHNCQUNKalQsSUFBSyxJQUNMcXJDLFNBQVMsRUFDVHRqQixPQUFPLEdBRVQsQ0FDRW9qQixNQUFPLFFBQ1BsNEIsR0FBSSx1QkFDSmpULElBQUssSUFDTHFyQyxTQUFTLEVBQ1R0akIsT0FBTyxHQUVULENBQ0VvakIsTUFBTyxZQUNQbDRCLEdBQUksMkJBQ0pqVCxJQUFLLElBQ0xxckMsU0FBUyxFQUNUdGpCLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8sT0FDUGw0QixHQUFJLFlBQ0pqVCxJQUFLLElBQ0xxckMsU0FBUyxFQUNUdGpCLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8sT0FDUGw0QixHQUFJLFlBQ0pqVCxJQUFLLElBQ0xxckMsU0FBUyxFQUNUQyxVQUFVLEVBQ1Z2akIsT0FBTyxHQUVULENBQ0VvakIsTUFBTyxtQkFDUGw0QixHQUFJLHdCQUNKalQsSUFBSyxTQUNMK25CLE9BQU8sR0FFVCxDQUNFb2pCLE1BQU8sa0JBQ1BsNEIsR0FBSSx1QkFDSmpULElBQUssU0FDTCtuQixPQUFPLEdBRVQsQ0FDRW9qQixNQUFPLGNBQ1BsNEIsR0FBSSxtQkFDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBU1YsQ0FDRUQsTUFBTyxVQUNQbDRCLEdBQUksWUFDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBRVYsQ0FDRUQsTUFBTyx3QkFDUGw0QixHQUFJLHVCQUNKalQsSUFBSyxJQUNMc3JDLFVBQVUsRUFDVkYsUUFBUSxHQUdWLENBQ0VELE1BQU8sZ0JBQ1BsNEIsR0FBSSxvQkFDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBRVYsQ0FDRUQsTUFBTyxnQ0FDUGw0QixHQUFJLHNCQUNKalQsSUFBSyxJQUNMb3JDLFFBQVEsR0FFVixDQUNFRCxNQUFPLG9DQUNQbDRCLEdBQUksc0JBQ0pqVCxJQUFLLElBQ0xzckMsVUFBVSxFQUNWRixRQUFRLEdBR1YsQ0FDRUQsTUFBTyxxQkFDUGw0QixHQUFJLDJCQUNKalQsSUFBSyxJQUNMb3JDLFFBQVEsR0FFVixDQUNFRCxNQUFPLG9CQUNQbDRCLEdBQUkscUJBQ0pqVCxJQUFLLElBQ0xvckMsUUFBUSxHQUVWLENBQ0VELE1BQU8sb0JBQ1BsNEIsR0FBSSxzQkFDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBTVYsQ0FDRUQsTUFBTyxXQUNQbDRCLEdBQUksY0FDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBRVYsQ0FDRUQsTUFBTyxXQUNQbDRCLEdBQUksZUFDSmpULElBQUssSUFDTG9yQyxRQUFRLEdBRVYsQ0FDRUQsTUFBTyxZQUNQbDRCLEdBQUksbUJBQ0pqVCxJQUFLLElBQ0xvckMsUUFBUSxHQUVWLENBQ0VELE1BQU8sV0FDUGw0QixHQUFJLGNBQ0pqVCxJQUFLLElBQ0xvckMsUUFBUSxHQUVWLENBQ0VELE1BQU8sVUFDUGw0QixHQUFJLGlCQUNKalQsSUFBSyxJQUNMb3JDLFFBQVEsR0FHVixDQUNFRCxNQUFPLFdBQ1BsNEIsR0FBSSxjQUNKalQsSUFBSyxJQUNMb3JDLFFBQVEsS0N4VWQsSUFBWUksR0MyRkFDLEdBcUJBQyxJRGhIWixTQUFZRixHQUNWLG1CQUNBLHlCQUNBLHFCQUhGLENBQVlBLFFBQU8sS0VPWixNQUFNRyxHQW1QWHZpQyxjQUNFLE1BQU0sSUFBSXRHLE1BQU0sdURBbFBQczJCLHNCQUNULFFBQVN1UyxHQUFhQyxnQkFBa0JyeUMsU0FBU3kyQixjQUFjLFdBQVcvVSxVQUFVb1csU0FBUyxVQU01RXVhLDJCQUNqQixPQUFPcnlDLFNBQVN5MkIsY0FBYyxJQUFJMmIsR0FBYUUsMEJBTWpEQyxhQUFhQyxHQUFPLEVBQU9yckMsRUFBVyxNQUNwQyxHQUFJaXJDLEdBQWFDLGNBQWUsQ0FFQ3J5QyxTQUFTeTJCLGNBQWMsV0FDNUMvVSxVQUFVakgsSUFBSSxVQUd4QixNQUFNZzRCLEVBQU1ELEVBQU9KLEdBQWFNLE1BQVFOLEdBQWFPLFVBV3JELE9BVkFQLEdBQWFDLGNBQWNwYixTQUMzQm1iLEdBQWFPLFVBQVksS0FDekJQLEdBQWFNLE1BQVEsS0FHckJELElBR0l0ckMsR0FBR0EsRUFBRTZ3QixpQkFDTDd3QixHQUFHQSxFQUFFMitCLG1CQUNGLEdBT1h5TSxhQUFhSyxFQUFlN21CLEVBQWlCOG1CLEVBQWVDLEVBQWtCLE1BQzVFVixHQUFham1CLFFBQ2JpbUIsR0FBYTluQyxPQUFPOG5DLEdBQWFXLFVBQVUsQ0FDekNELFVBQ0FGLFFBQ0E3bUIsYUFFRnFtQixHQUFhTyxVQUFZUCxHQUFhTSxNQUFRLElBQU1HLElBQ25EVCxHQUFhQyxjQUFjNWIsY0FBYyxJQUFJMmIsR0FBYUUsNkJBQTZDVSxRQUFXN3JDLEdBQU1pckMsR0FBYWptQixPQUFNLEVBQU9obEIsR0FNckpvckMsY0FBY0ssRUFBZTdtQixFQUFpQjloQixFQUFzQjgvQixFQUFxQjBJLEVBQTRDSyxFQUFrQixLQUFNRyxFQUFzQixVQUNqTGIsR0FBYWptQixRQUNiaW1CLEdBQWE5bkMsT0FBTzhuQyxHQUFhVyxVQUFVLENBQ3pDRCxVQUNBRyxjQUNBaHBDLGVBQ0Eyb0MsUUFDQTdtQixVQUNBZ2UsaUJBRUYsTUFBTXZiLEVBQTBCNGpCLEdBQWFDLGNBQWM1YixjQUFjLElBQUkyYixHQUFhRSxnQ0FDMUZGLEdBQWFNLE1BQVEsS0FDbkJELEdBQUksRUFBTWprQixFQUFNNXNCLFFBRWxCd3dDLEdBQWFPLFVBQVksS0FDdkJGLEdBQUksRUFBTyxPQUVaTCxHQUFhQyxjQUFjNWIsY0FBYyxJQUFJMmIsR0FBYUUsNkJBQTZDVSxRQUFXN3JDLEdBQU1pckMsR0FBYWptQixPQUFNLEVBQU1obEIsR0FDakppckMsR0FBYUMsY0FBYzViLGNBQWMsSUFBSTJiLEdBQWFFLGlDQUFpRFUsUUFBVzdyQyxHQUFNaXJDLEdBQWFqbUIsT0FBTSxFQUFPaGxCLEdBTXpKb3JDLGVBQWVLLEVBQWU3bUIsRUFBaUIwbUIsRUFBNkJLLEVBQWtCLEtBQU1HLEVBQXNCLFVBQ3hIYixHQUFham1CLFFBQ2JpbUIsR0FBYTluQyxPQUFPOG5DLEdBQWFXLFVBQVUsQ0FDekNELFVBQ0FHLGNBQ0FMLFFBQ0E3bUIsYUFFRnFtQixHQUFhTSxNQUFRLElBQU1ELEdBQUksR0FDL0JMLEdBQWFPLFVBQVksSUFBTUYsR0FBSSxHQUVsQ0wsR0FBYUMsY0FBYzViLGNBQWMsSUFBSTJiLEdBQWFFLDZCQUE2Q1UsUUFBVzdyQyxHQUFNaXJDLEdBQWFqbUIsT0FBTSxFQUFNaGxCLEdBQ2pKaXJDLEdBQWFDLGNBQWM1YixjQUFjLElBQUkyYixHQUFhRSxpQ0FBaURVLFFBQVc3ckMsR0FBTWlyQyxHQUFham1CLE9BQU0sRUFBT2hsQixHQVN6Sm9yQyxtQkFBbUJ4bUIsRUFBaUJtbkIsR0FDbEMsTUFBTUMsRUFBeUJuekMsU0FBU3kyQixjQUFjLGlCQUNoRHJoQixFQUFLcFYsU0FBU0MsY0FBYyxLQWVsQyxPQWRBbVYsRUFBR3NNLFVBQVVqSCxJQUFJLHlCQUNqQnJGLEVBQUc0eUIsVUFBWSxXQUNYa0wsRUFBWSwyQ0FBNkMsYUFDekRubkIsVUFFSm9uQixFQUFVdG1CLFlBQVl6WCxHQUN0QnZSLFlBQVcsSUFBTXVSLEVBQUdzTSxVQUFVakgsSUFBSSxnQ0FBZ0MsS0FDL0R5NEIsSUFDNkI5OUIsRUFBR3FoQixjQUFjLHdCQUN0Q3VjLFFBQVc3ckMsSUFDbEIrckMsSUFDQTk5QixFQUFHNmhCLFdBR0E3aEIsRUFPVG05QixxQkFBcUJ0UixHQUNuQixNQUFNa1MsRUFBeUJuekMsU0FBU3kyQixjQUFjLGtCQUNoRHJoQixFQUFLcFYsU0FBU0MsY0FBYyxLQUNsQ21WLEVBQUc0eUIsVUFBWS9HLEVBQ2ZrUyxFQUFVdG1CLFlBQVl6WCxHQUN0QixNQUFNc0UsRUFBSzdWLFlBQVcsS0FDcEJ1UixFQUFHNmhCLFdBQ0ZtYixHQUFhZ0IsMEJBQ2hCaCtCLEVBQUc0OUIsUUFBVzdyQyxJQUNaM0MsYUFBYWtWLEdBQ2J0RSxFQUFHNmhCLFVBUVBzYixtQkFBbUJ0UixHQUNqQnYwQixRQUFRMEwsTUFBTTZvQixHQUNkbVIsR0FBYWlCLGNBQWNwUyxHQU03QnNSLGtCQUFrQm45QixFQUFrQ2srQixHQUFlLEdBQ2pFLEdBQUlsQixHQUFhQyxjQUFlLENBQzlCLE1BQU1jLEVBQVlmLEdBQWFDLGNBQWM1YixjQUFjLElBQUkyYixHQUFhRSxrQ0FDdkVnQixJQUFpQkgsRUFBVW5MLFVBQVksSUFDNUNtTCxFQUFVdG1CLFlBQVl6WCxHQUN0Qmc5QixHQUFhbUIsZUFPakJoQixlQUFldGtDLEdBQ2IsR0FBSW1rQyxHQUFhQyxjQUFlLENBQzlCLE1BQU1qOUIsRUFBS3BWLFNBQVNDLGNBQWMsT0FDbENtVixFQUFHbytCLG1CQUFtQixhQUFjLE1BQU12bEMsU0FDMUNta0MsR0FBYXFCLFdBQVdyK0IsSUFPNUJtOUIsaUJBQWlCbjlCLEdBQ1hnOUIsR0FBYUMsZ0JBQ0dELEdBQWFDLGNBQWM1YixjQUFjLElBQUkyYixHQUFhRSxrQ0FDbEV6bEIsWUFBWXpYLEdBQ3RCZzlCLEdBQWFtQixlQU9qQmhCLG9CQUFvQmxQLEdBQ2xCLEdBQUkrTyxHQUFhQyxjQUFlLENBQzlCLElBQUlxQixFQUFZdEIsR0FBYUMsY0FBYzViLGNBQWMsSUFBSTJiLEdBQWFFLCtCQUNyRW9CLElBQ0hBLEVBQVkxekMsU0FBU0MsY0FBYyxPQUNuQ3l6QyxFQUFVRixtQkFBbUIsYUFBYyxhQUFhcEIsR0FBYUUscUNBQ3JFRixHQUFhcUIsV0FBV0MsR0FBVyxJQUlyQ0EsRUFBVS9tQixNQUFNZ25CLFVBQVl0eUMsS0FBSzY4QixNQUEyQixFQUFyQm4rQixPQUFPNnpDLFlBQWtCLEdBQUssS0FDckV4QixHQUFhQyxjQUFjbGIsYUFBYXVjLEVBQVd0QixHQUFhQyxjQUFjd0IsV0FBV3pCLEdBQWFDLGNBQWN3QixXQUFXNXRDLE9BQVMsSUFDeEl5dEMsRUFBVTFMLFVBQVksR0FDdEIwTCxFQUFVN21CLFlBQVl3VyxJQVFsQmtQLGlCQUFpQjd2QyxHQUN2QixNQUFPLDJCQUNhMHZDLEdBQWFFLHlDQUN2QjV2QyxFQUFRa3dDLGlDQUNGUixHQUFhRSwrQ0FDckI1dkMsRUFBUXFwQiwyQkFFd0IsSUFBekJycEIsRUFBUXVILGFBQStCLDBFQUdwQ21vQyxHQUFhRSxrREFDakI1dkMsRUFBUXFuQyxZQUFjLGdCQUFnQnJuQyxFQUFRcW5DLGVBQWlCLCtEQUN2QnJuQyxFQUFRdUgsaUNBRWxELHlDQUdNbW9DLEdBQWFFLCtDQUN2QjV2QyxFQUFRdXdDLFlBQWMsY0FBY2IsR0FBYUUsdURBQXVENXZDLEVBQVF1d0MsZ0JBQWtCLGlCQUNsSXZ3QyxFQUFRb3dDLFFBQVUsY0FBY1YsR0FBYUUsbURBQW1ENXZDLEVBQVFvd0MsWUFBYyw2Q0FNeEhQLGNBQWN1QixHQUNwQixNQUFNWCxFQUF5Qm56QyxTQUFTeTJCLGNBQWMsV0FDdEQwYyxFQUFVSyxtQkFBbUIsYUFBY00sR0FDM0NYLEVBQVV6eEIsVUFBVXVWLE9BQU8sVUFDM0JtYixHQUFhbUIsY0FFUGhCLHFCQUNOLE1BQU0vakIsRUFBUzRqQixHQUFhQyxjQUFjNWIsY0FBYyxlQUNwRGpJLEdBQ0ZBLEVBQU11SixTQXZDSyxHQUFBcWIseUJBQTJCLElBQzNCLEdBQUFkLHVCQUF5QixzQkNqTm5DLE1BQU15QixHQVNYeEIsc0JBQ0UsT0FBT3h5QyxPQUFPaTBDLFNBQVNDLE9BQ3RCQyxPQUFPLEdBQ1AvcUMsTUFBTSxLQUNOTixRQUFPLENBQUNzckMsRUFBTTNuQyxLQUNiLE1BQU1yRCxFQUFRcUQsRUFBS3JELE1BQU0sS0FJekIsT0FIcUIsSUFBakJBLEVBQU1sRCxTQUNSa3VDLEVBQUtockMsRUFBTSxJQUFNQSxFQUFNLElBRWxCZ3JDLElBQ04sSUFNTDVCLHNCQUNJNkIsRUFBb0JuZSxHQUN0QixJQUFLbWUsRUFDSCxPQUFPLEtBRVQsTUFBTUMsRUFBY3p6QyxPQUFPc3FCLE9BQU8sR0FBSWtwQixFQUFVbmUsR0FDaEQsT0FBUXIxQixPQUFPc3FCLE9BQU8sR0FBSW1wQixFQUFhLENBQ3JDQyxJQUFLUCxHQUFJUSxhQUFlRixFQUFZRyxRQUFVLFFBQVVILEVBQVlwckMsT0FPeEVzcEMsb0JBQ0UsT0FBT3h5QyxPQUFPaTBDLFNBQVNTLEtBYXpCbEMsa0JBQWtCbUMsR0FDaEIsTUFBTUosRUFBTUksR0FBVzMwQyxPQUFPaTBDLFNBQVNTLEtBR2pDdG9DLEVBQVFtb0MsRUFBSTFsQyxRQUFRLE1BQ3BCOUIsRUFBTXduQyxFQUFJMWxDLFFBQVEsSUFBS3pDLEVBQVEsR0FDckMsT0FBT21vQyxFQUFJSixPQUFPLEVBQUdwbkMsR0FZdkJ5bEMsZUFBZW1DLEdBQ2IsTUFBTTN6QyxFQUFPZ3pDLEdBQUlZLFdBQVdELEdBRTVCLE9BRGEzekMsRUFBS216QyxPQUFPbnpDLEVBQUs2TixRQUFRLE1BQVEsR0FRaEQyakMscUJBQXFCK0IsR0FDbkIsT0FBK0IsSUFBeEJBLEVBQUkxbEMsUUFBUSxTQUF1QyxJQUF0QjBsQyxFQUFJMWxDLFFBQVEsTUFVbEQyakMsd0JBQXdCK0IsR0FvQ3RCLE9BbENJQSxFQUFJTSxXQUFXLFVBQ2pCTixFQUFNQSxFQUFJSixPQUFPLElBRWZJLEVBQUlPLFNBQVMsT0FDZlAsRUFBTUEsRUFBSUosT0FBTyxFQUFHSSxFQUFJcnVDLE9BQVMsS0FJL0JxdUMsRUFBSU0sV0FBVyxNQUFTTixFQUFJTSxXQUFXLFFBQ3pDTixFQUFNQSxFQUFJSixPQUFPLEtBRWZJLEVBQUlPLFNBQVMsTUFBU1AsRUFBSU8sU0FBUyxRQUNyQ1AsRUFBTUEsRUFBSUosT0FBTyxFQUFHSSxFQUFJcnVDLE9BQVMsSUFJL0JxdUMsRUFBSU0sV0FBVyxZQUNqQk4sRUFBTUEsRUFBSUosT0FBTyxJQUVmSSxFQUFJTyxTQUFTLFlBQ2ZQLEVBQU1BLEVBQUlKLE9BQU8sRUFBR0ksRUFBSXJ1QyxPQUFTLElBRS9CcXVDLEVBQUlNLFdBQVcsU0FDakJOLEVBQU1BLEVBQUlKLE9BQU8sSUFFZkksRUFBSU0sV0FBVyxTQUNqQk4sRUFBTUEsRUFBSUosT0FBTyxJQUVmSSxFQUFJTyxTQUFTLFNBQ2ZQLEVBQU1BLEVBQUlKLE9BQU8sRUFBR0ksRUFBSXJ1QyxPQUFTLElBRS9CcXVDLEVBQUlPLFNBQVMsU0FDZlAsRUFBTUEsRUFBSUosT0FBTyxFQUFHSSxFQUFJcnVDLE9BQVMsSUFFNUJxdUMsRUFVVC9CLHFCQUFxQitCLEdBQ25CLE1BQU8sUUFBUUEsTUFTakIvQix1QkFBdUIrQixHQWVyQixPQWJBQSxFQUFNUCxHQUFJZSxtQkFBbUJSLElBR3JCMWxDLFFBQVEsS0FBTyxFQUNyQjBsQyxHQUFPLElBRVBBLEdBQU8sSUFJVEEsR0FBT1AsR0FBSWdCLHlCQUEyQixLQUFNcnpDLEtBQUtELE1BY25EOHdDLDBCQUEwQitCLEdBRXhCLEdBQUlBLEVBQUkxbEMsUUFBUW1sQyxHQUFJZ0IsMEJBQTRCLEVBQUcsQ0FDakQsTUFBTXh4QixFQUFLLElBQUk5ZCxPQUNYLGVBQWlCc3VDLEdBQUlnQix5QkFBMkIsZ0JBQ2hELE1BQ0pULEVBQU1BLEVBQUlseUMsUUFBUW1oQixHQUFJLENBQUN2QixFQUFPZ3pCLEVBQVFDLElBTVgsTUFBckJELEVBQU9oaEMsT0FBTyxJQUN1QixNQUFyQ2doQyxFQUFPaGhDLE9BQU9naEMsRUFBTy91QyxPQUFTLEdBQ3pCLElBRWtDLE1BQXJDK3VDLEVBQU9oaEMsT0FBT2doQyxFQUFPL3VDLE9BQVMsSUFDVCxNQUFyQit1QyxFQUFPaGhDLE9BQU8sR0FDVCxJQUVBLEtBT2YsT0FBT3NnQyxHQzFNSixTQUFTWSxHQUF1QjkvQixHQUNyQyxNQUNNKy9CLEVBQVNDLEdBREhDLEdBQVlqZ0MsSUFFbEJ1dEIsRUFBTXZ0QixFQUFHc3VCLHdCQUNmLE1BQU8sQ0FDTDlKLElBQUsrSSxFQUFJL0ksSUFBTXViLEVBQU96YixFQUN0QnJpQixLQUFNc3JCLEVBQUl0ckIsS0FBTzg5QixFQUFPNXFCLEVBQ3hCc1AsT0FBUThJLEVBQUk5SSxPQUFTc2IsRUFBT3piLEVBQzVCcGlCLE1BQU9xckIsRUFBSXJyQixNQUFRNjlCLEVBQU81cUIsRUFDMUJtTixNQUFPaUwsRUFBSWpMLE1BQ1hpQyxPQUFRZ0osRUFBSWhKLFFBUVQsU0FBUzJiLEdBQWVDLEdBQzdCLE1BQU01UyxFQUFrQixDQUN0Qi9JLElBQUsrRSxJQUNMdG5CLEtBQU1zbkIsSUFDTjlFLFFBQVEsSUFDUnZpQixPQUFPLElBQ1BvZ0IsTUFBTyxFQUNQaUMsT0FBUSxHQVNWLE9BUEE0YixFQUFZN2lDLFNBQVF1OUIsSUFDbEIsTUFBTTVLLEVBQXNCbVEsR0FBcUJ2RixFQUFFd0YsU0FDbkQ5UyxFQUFJL0ksSUFBTXY0QixLQUFLRyxJQUFJbWhDLEVBQUkvSSxJQUFLeUwsRUFBS3pMLEtBQ2pDK0ksRUFBSXRyQixLQUFPaFcsS0FBS0csSUFBSW1oQyxFQUFJdHJCLEtBQU1ndUIsRUFBS2h1QixNQUNuQ3NyQixFQUFJOUksT0FBU3g0QixLQUFLQyxJQUFJcWhDLEVBQUk5SSxPQUFRd0wsRUFBS3pMLElBQU15TCxFQUFLMUwsUUFDbERnSixFQUFJcnJCLE1BQVFqVyxLQUFLQyxJQUFJcWhDLEVBQUlyckIsTUFBTyt0QixFQUFLaHVCLEtBQU9ndUIsRUFBSzNOLFVBRTVDLElBQ0ZpTCxFQUNIakwsTUFBT2lMLEVBQUlyckIsTUFBUXFyQixFQUFJdHJCLEtBQ3ZCc2lCLE9BQVFnSixFQUFJOUksT0FBUzhJLEVBQUkvSSxLQVV0QixTQUFTOGIsR0FBZ0JDLEVBQW1CQyxHQUNqRCxNQUFNVCxFQUFTQyxHQUFVTyxHQUNuQkUsRUFBTUMsR0FBVUgsR0EwQ3RCLE9BeENHRSxFQUFJakMsWUFBY2dDLEVBQVlqYyxRQUU1QndiLEVBQU96YixFQUFJbWMsRUFBSWpDLFlBQWNnQyxFQUFZaGMsS0FBT3ViLEVBQU96YixFQUFJa2MsRUFBWS9iLFVBRXhFc2IsRUFBT3piLEVBQUlrYyxFQUFZaGMsSUFkRyxHQXFCdEJ1YixFQUFPemIsRUFBSWtjLEVBQVloYyxJQUU3QnViLEVBQU96YixFQUFJa2MsRUFBWWhjLElBdkJLLEVBMEJ0QnViLEVBQU96YixFQUFJa2MsRUFBWS9iLE9BQVNnYyxFQUFJakMsY0FFMUN1QixFQUFPemIsRUFBSWtjLEVBQVkvYixPQTVCSyxFQTRCdUJnYyxFQUFJakMsYUFJdERpQyxFQUFJRSxXQUFhSCxFQUFZbGUsT0FFM0J5ZCxFQUFPNXFCLEVBQUlzckIsRUFBSUUsV0FBYUgsRUFBWXYrQixNQUFRODlCLEVBQU81cUIsRUFBSXFyQixFQUFZdCtCLFNBRXhFNjlCLEVBQU81cUIsRUFBSXFyQixFQUFZditCLEtBcENHLEdBMkN0Qjg5QixFQUFPNXFCLEVBQUlxckIsRUFBWXYrQixLQUM3Qjg5QixFQUFPNXFCLEVBQUlxckIsRUFBWXYrQixLQTVDSyxFQStDdEI4OUIsRUFBTzVxQixFQUFJcXJCLEVBQVl0K0IsTUFBUXUrQixFQUFJRSxhQUN6Q1osRUFBTzVxQixFQUFJcXJCLEVBQVl0K0IsTUFoREssRUFnRHNCdStCLEVBQUlFLFlBRWpELENBQ0x4ckIsRUFBR2xwQixLQUFLQyxJQUFJLEVBQUc2ekMsRUFBTzVxQixHQUN0Qm1QLEVBQUdyNEIsS0FBS0MsSUFBSSxFQUFHNnpDLEVBQU96YixJQVVuQixTQUFTb2MsR0FBVUgsR0FDeEIsT0FBT0EsRUFBa0IsY0FBS0EsRUFBSTlhLFlBUTdCLFNBQVN3YSxHQUFZamdDLEdBQzFCLE9BQU9BLEVBQUd3bEIsY0FNTCxTQUFTb2IsR0FBVzVnQyxFQUFpQnFnQyxFQUErQlEsRUFBdUJDLEdBQXlCLEdBQ3pILE1BRU12cEIsRUFETW1wQixHQURBVCxHQUFZamdDLElBRU4wbUIsaUJBQWlCMW1CLEdBU25DLFNBQVMrZ0MsRUFBWUMsRUFBU0MsRUFBVUMsR0FDdEMsTUFBTUMsRUFBYWQsRUFBUVcsR0FBU0MsSUFDaEM1MUMsU0FBU2tzQixFQUFNNnBCLGlCQUFpQkosRUFBVSxJQUFNQyxLQUFjLEtBQU9FLElBQ3ZFbmhDLEVBQUd1WCxNQUFNMnBCLEdBQWFDLEVBQWEsTUFJdkMsR0FmaUI1cEIsRUFBTTZwQixpQkFBaUIsY0FHeEJmLEVBQVF2d0IsV0FDdEI5UCxFQUFHdVgsTUFBTXpILFNBQVd1d0IsRUFBUXZ3QixVQVczQmd4QixFQUFlLENBQ2hCLE1BQU1PLEVBQW1DakIsR0FBcUJDLEdBQ3RDLFdBQXJCQSxFQUFRdndCLFdBQ1Q5UCxFQUFHdVgsTUFBTWlOLElBQU02YyxFQUFrQjdjLElBQU0sS0FDdkN4a0IsRUFBR3VYLE1BQU10VixLQUFPby9CLEVBQWtCcC9CLEtBQU8sTUFFM0NqQyxFQUFHdVgsTUFBTStLLE1BQVErZSxFQUFrQi9lLE1BQVEsS0FDM0N0aUIsRUFBR3VYLE1BQU1zcEIsRUFBZSxZQUFjLFVBQVlRLEVBQWtCOWMsT0FBUyxTQUdyRCxXQUFyQjhiLEVBQVF2d0IsV0FDVGl4QixFQUFZLG9CQUFxQixNQUFPLE9BQ3hDQSxFQUFZLG9CQUFxQixPQUFRLFNBRTNDQSxFQUFZLG9CQUFxQixRQUFTLFNBQzFDQSxFQUFZLG9CQUFxQixTQUFVRixFQUFlLFlBQWMsVUFHMUVFLEVBQVksU0FBVSxNQUFPLGFBQzdCQSxFQUFZLFNBQVUsT0FBUSxjQUM5QkEsRUFBWSxTQUFVLFNBQVUsZ0JBQ2hDQSxFQUFZLFNBQVUsUUFBUyxlQUUvQkEsRUFBWSxVQUFXLE1BQU8sY0FDOUJBLEVBQVksVUFBVyxPQUFRLGVBQy9CQSxFQUFZLFVBQVcsU0FBVSxpQkFDakNBLEVBQVksVUFBVyxRQUFTLGdCQUVoQ0EsRUFBWSxTQUFVLE1BQU8sa0JBQzdCQSxFQUFZLFNBQVUsT0FBUSxtQkFDOUJBLEVBQVksU0FBVSxTQUFVLHFCQUNoQ0EsRUFBWSxTQUFVLFFBQVMsb0JBTzFCLFNBQVNPLEdBQVd0aEMsR0FDekIsTUFFTXVYLEVBRE1tcEIsR0FEQVQsR0FBWWpnQyxJQUVOMG1CLGlCQUFpQjFtQixHQUM3QnVoQyxFQUFhekIsR0FBdUI5L0IsR0FDMUMsTUFBTyxDQUNMOFAsU0FBVXlILEVBQU02cEIsaUJBQWlCLFlBQ2pDSSxZQUFhRCxFQUFXaGQsUUFBVWdkLEVBQVdqZixPQUFTLE9BQ3REK2Usa0JBQW1CLENBQ2pCL2UsTUFBT2ozQixTQUFTa3NCLEVBQU02cEIsaUJBQWlCLFdBQWEsRUFDcEQ3YyxPQUFRbDVCLFNBQVNrc0IsRUFBTTZwQixpQkFBaUIsWUFBYyxFQUN0RG4vQixLQUFNNVcsU0FBU2tzQixFQUFNNnBCLGlCQUFpQixVQUFZLEVBQ2xENWMsSUFBS241QixTQUFTa3NCLEVBQU02cEIsaUJBQWlCLFNBQVcsRUFDaEQzYyxPQUFRcDVCLFNBQVNrc0IsRUFBTTZwQixpQkFBaUIsWUFBYyxFQUN0RGwvQixNQUFPN1csU0FBU2tzQixFQUFNNnBCLGlCQUFpQixXQUFhLEdBRXRESyxPQUFRLENBQ054L0IsS0FBTTVXLFNBQVNrc0IsRUFBTTZwQixpQkFBaUIsdUJBQXlCLEVBQy9ENWMsSUFBS241QixTQUFTa3NCLEVBQU02cEIsaUJBQWlCLHNCQUF3QixFQUM3RGwvQixNQUFPN1csU0FBU2tzQixFQUFNNnBCLGlCQUFpQix3QkFBMEIsRUFDakUzYyxPQUFRcDVCLFNBQVNrc0IsRUFBTTZwQixpQkFBaUIseUJBQTJCLEdBRXJFckwsUUFBUyxDQUNQOXpCLEtBQU01VyxTQUFTa3NCLEVBQU02cEIsaUJBQWlCLGtCQUFvQixFQUMxRDVjLElBQUtuNUIsU0FBU2tzQixFQUFNNnBCLGlCQUFpQixpQkFBbUIsRUFDeERsL0IsTUFBTzdXLFNBQVNrc0IsRUFBTTZwQixpQkFBaUIsbUJBQXFCLEVBQzVEM2MsT0FBUXA1QixTQUFTa3NCLEVBQU02cEIsaUJBQWlCLG9CQUFzQixHQUVoRXBMLE9BQVEsQ0FDTi96QixLQUFNNVcsU0FBU2tzQixFQUFNNnBCLGlCQUFpQixpQkFBbUIsRUFDekQ1YyxJQUFLbjVCLFNBQVNrc0IsRUFBTTZwQixpQkFBaUIsZ0JBQWtCLEVBQ3ZEbC9CLE1BQU83VyxTQUFTa3NCLEVBQU02cEIsaUJBQWlCLGtCQUFvQixFQUMzRDNjLE9BQVFwNUIsU0FBU2tzQixFQUFNNnBCLGlCQUFpQixtQkFBcUIsR0FFL0RHLFdBQVksQ0FDVi9jLElBQUsrYyxFQUFXL2MsSUFDaEJ2aUIsS0FBTXMvQixFQUFXdC9CLEtBQ2pCd2lCLE9BQVE4YyxFQUFXOWMsT0FDbkJ2aUIsTUFBT3EvQixFQUFXci9CLE1BQ2xCb2dCLE1BQU9pZixFQUFXamYsTUFDbEJpQyxPQUFRZ2QsRUFBV2hkLFNBVWxCLFNBQVN5YixHQUFVTyxHQUN4QixNQUFNRSxFQUFNQyxHQUFVSCxHQUN0QixNQUFPLENBQ0xwckIsRUFBR3NyQixFQUFJOVIsUUFDUHJLLEVBQUdtYyxFQUFJNVIsU0EyQkosU0FBUzZTLEdBQVVuQixFQUFtQlIsR0FDL0JXLEdBQVVILEdBQ2xCUixPQUFPQSxFQUFPNXFCLEVBQUc0cUIsRUFBT3piLEdEOVByQixHQUFBcWIseUJBQTJCLHNCRndGcEMsU0FBWTdDLEdBQU8sbUJBQU0scUJBQU8saUJBQUssdUJBQXJDLENBQVlBLFFBQUksS0FxQmhCLFNBQVlDLEdBQ1YsbUJBQ0EsbUJBQ0EsdUJBQ0EsbUJBQ0EsbUJBTEYsQ0FBWUEsUUFBTSxLR29KbEIsTUFHYTRFLEdBQWlCLFVBK0J2QixTQUFTQyxHQUFxQnBNLEdBQ25DLEdBQW1CLFNBQWhCQSxFQUFVcmdCLEdBQWdDLFFBQWhCcWdCLEVBQVVsUixFQUFhLE1BN0I3QixZQThCbEIsR0FBbUIsVUFBaEJrUixFQUFVcmdCLEdBQWlDLFFBQWhCcWdCLEVBQVVsUixFQUFhLE1BN0JuQyxZQThCbEIsR0FBbUIsU0FBaEJrUixFQUFVcmdCLEdBQWdDLFdBQWhCcWdCLEVBQVVsUixFQUFnQixNQTdCckMsWUE4QmxCLEdBQW1CLFVBQWhCa1IsRUFBVXJnQixHQUFpQyxXQUFoQnFnQixFQUFVbFIsRUFBZ0IsTUE3QnRDLFlBOEJsQixHQUFtQixTQUFoQmtSLEVBQVVyZ0IsR0FBZ0MsS0FBaEJxZ0IsRUFBVWxSLEVBQVUsTUE3QmhDLFdBOEJqQixHQUFtQixVQUFoQmtSLEVBQVVyZ0IsR0FBaUMsS0FBaEJxZ0IsRUFBVWxSLEVBQVUsTUE3QmpDLFdBOEJqQixHQUFtQixLQUFoQmtSLEVBQVVyZ0IsR0FBNEIsUUFBaEJxZ0IsRUFBVWxSLEVBQWEsTUE3Qi9CLFdBOEJqQixHQUFtQixLQUFoQmtSLEVBQVVyZ0IsR0FBNEIsV0FBaEJxZ0IsRUFBVWxSLEVBQWdCLE1BN0JsQyxXQThCdEIsTUFBTSxJQUFJbndCLE1BQU0sdUJBR1gsU0FBUzB0QyxHQUFhQyxFQUF1Q3RNLEdBQ2xFLE1BQXlCLGlCQUFmc00sR0FDZ0IsS0FBaEJ0TSxFQUFVcmdCLEdBQTRCLEtBQWhCcWdCLEVBQVVsUixJQUFhLENBQ25ELENBQUNuUCxFQUFHLE9BQVFtUCxFQUFHLE9BQ2YsQ0FBQ25QLEVBQUcsUUFBU21QLEVBQUcsT0FDaEIsQ0FBQ25QLEVBQUcsT0FBUW1QLEVBQUcsVUFDZixDQUFDblAsRUFBRyxRQUFTbVAsRUFBRyxXQUNoQjd3QixRQUFPLENBQUMwRCxFQUFNc2dDLElBQ0Z0Z0MsSUFDUjJxQyxFQUFXckssRUFBSXRpQixJQUFNcWdCLEVBQVVyZ0IsSUFBTXNpQixFQUFJdGlCLEdBQXNCLEtBQWhCcWdCLEVBQVVyZ0IsS0FDekQyc0IsRUFBV3JLLEVBQUluVCxJQUFNa1IsRUFBVWxSLElBQU1tVCxFQUFJblQsR0FBc0IsS0FBaEJrUixFQUFVbFIsS0FHNUQsR0FHb0IsS0FBaEJrUixFQUFVcmdCLEdBQTRCLEtBQWhCcWdCLEVBQVVsUixFQUlwQyxTQUFTeWQsR0FBYzFTLEVBQWlCRSxFQUFpQnlTLEVBQThCQyxHQUM1RixHQUFHQSxFQUFZLENBQ2IsTUFBTXpNLEVBbkRILFNBQXNCbkcsRUFBU0UsRUFBU3lTLEVBQThCQyxHQUMzRSxNQUFNQyxFQUFLRCxFQUFXNUIsUUFBUWtCLFdBQ3hCWSxFQUNFOVMsRUFBVTJTLEVBQVc3c0IsRUFBSStzQixFQUFHamdDLEtBRDlCa2dDLEVBRUdELEVBQUc1ZixNQUFRNGYsRUFBR2pnQyxNQUFRb3RCLEVBQVUyUyxFQUFXN3NCLEdBRjlDZ3RCLEVBR0M1UyxFQUFVeVMsRUFBVzFkLEVBQUk0ZCxFQUFHMWQsSUFIN0IyZCxFQUlJRCxFQUFHM2QsT0FBUzJkLEVBQUcxZCxLQUFPK0ssRUFBVXlTLEVBQVcxZCxHQUcvQ2tSLEVBQVksQ0FBRXJnQixFQUFHLEdBQUltUCxFQUFHLElBSzlCLE9BSkc2ZCxFQTNCZSxHQTJCb0IzTSxFQUFVcmdCLEVBQUksT0FDNUNndEIsRUE1QlUsS0E0QjBCM00sRUFBVXJnQixFQUFJLFNBQ3ZEZ3RCLEVBN0JlLEdBNkJtQjNNLEVBQVVsUixFQUFJLE1BQzNDNmQsRUE5QlUsS0E4QjJCM00sRUFBVWxSLEVBQUksVUFDcERrUixFQXFDYTRNLENBQWEvUyxFQUFTRSxFQUFTeVMsRUFBWUMsR0FDN0QsT0FBR0osR0FBYUksRUFBV0gsV0FBWXRNLEdBQzlCLENBQ0xyZ0IsRUFBR3FnQixFQUFVcmdCLEVBQ2JtUCxFQUFHa1IsRUFBVWxSLEVBQ2IrZCxXQUFZVCxHQUFxQnBNLElBRzdCeU0sRUFBV0ssVUFDVixDQUNMbnRCLEVBQUcsR0FDSG1QLEVBQUcsR0FDSCtkLFdBM0VtQixRQThFZkosRUFBV00sU0FDVixDQUNMcHRCLEVBQUcsR0FDSG1QLEVBQUcsR0FDSCtkLFdBbkZxQixXQXVGaEIsQ0FDTGx0QixFQUFHLEdBQ0htUCxFQUFHLEdBQ0grZCxXQUFZVixJQUtoQixNQUFPLENBQ0x4c0IsRUFBRyxHQUNIbVAsRUFBRyxHQUNIK2QsV0FBWVYsSUFTWCxTQUFTYSxHQUFtQmgrQixFQUFtQnhFLEdBQ3BELE9BQU93RSxFQUFNaStCLFdBQVd0QyxZQUFZLytCLE1BQUs2Z0MsR0FBY0EsRUFBV2ppQyxLQUFPQSxJQU9wRSxTQUFTMGlDLEdBQWFsK0IsR0FDM0IsT0FBT0EsRUFBTWkrQixXQUFXdEMsWUFBWXBsQyxRQUFPa25DLEdBQWNBLEVBQVdNLFdBUS9ELFNBQVNJLEdBQWNuK0IsRUFBbUJ5cEIsR0FDL0MsSUFDSXo4QixFQURBd08sRUFBS2l1QixFQUVULEtBQVFqdUIsS0FBUXhPLEVBQU9neEMsR0FBbUJoK0IsRUFBT3hFLEtBQy9DQSxFQUFLQSxFQUFHNGlDLGNBRVYsT0FBT3B4QyxFQVFGLFNBQVNxeEMsR0FBNEJyK0IsRUFBbUJ4RSxHQUM3RCxNQUFNOGlDLEVBQW1CSCxHQUFjbitCLEVBQU94RSxFQUFHNGlDLGVBQ2pELFFBQUdFLE9BQ0VBLEVBQWlCUCxXQUFZTyxFQUFpQlIsWUFDckNPLEdBQTRCcitCLEVBQU9zK0IsRUFBaUI5aUMsS0FZN0QsU0FBU29nQyxHQUFxQkMsR0FDbkMsTUFBTyxDQUNMN2IsSUFBS3Y0QixLQUFLNjhCLE1BQU11WCxFQUFRa0IsV0FBVy9jLElBQU02YixFQUFRckssT0FBT3hSLEtBQ3hEdmlCLEtBQU1oVyxLQUFLNjhCLE1BQU11WCxFQUFRa0IsV0FBV3QvQixLQUFPbytCLEVBQVFySyxPQUFPL3pCLE1BQzFEQyxNQUFPalcsS0FBSzY4QixNQUFNdVgsRUFBUWtCLFdBQVdyL0IsTUFBUW0rQixFQUFRckssT0FBTy96QixLQUFPbytCLEVBQVF0SyxRQUFROXpCLEtBQU9vK0IsRUFBUXRLLFFBQVE3ekIsTUFBUW0rQixFQUFRb0IsT0FBT3gvQixLQUFPbytCLEVBQVFvQixPQUFPdi9CLE9BQVNtK0IsRUFBUW9CLE9BQU94L0IsS0FBT28rQixFQUFRb0IsT0FBT3YvQixRQUNyTXVpQixPQUFReDRCLEtBQUs2OEIsTUFBTXVYLEVBQVFrQixXQUFXOWMsT0FBUzRiLEVBQVFySyxPQUFPeFIsSUFBTTZiLEVBQVF0SyxRQUFRdlIsSUFBTTZiLEVBQVF0SyxRQUFRdFIsT0FBUzRiLEVBQVFvQixPQUFPamQsSUFBTTZiLEVBQVFvQixPQUFPaGQsUUFBVTRiLEVBQVFvQixPQUFPamQsSUFBTTZiLEVBQVFvQixPQUFPaGQsU0FDck1uQyxNQUFPcjJCLEtBQUs2OEIsTUFBTXVYLEVBQVFrQixXQUFXamYsTUFBUStkLEVBQVF0SyxRQUFROXpCLEtBQU9vK0IsRUFBUXRLLFFBQVE3ekIsTUFBUW0rQixFQUFRb0IsT0FBT3gvQixLQUFPbytCLEVBQVFvQixPQUFPdi9CLE1BQVEsR0FBR20rQixFQUFRb0IsT0FBT3gvQixLQUFPbytCLEVBQVFvQixPQUFPdi9CLFFBQ2pMcWlCLE9BQVF0NEIsS0FBSzY4QixNQUFNdVgsRUFBUWtCLFdBQVdoZCxPQUFTOGIsRUFBUW9CLE9BQU9qZCxJQUFNNmIsRUFBUW9CLE9BQU9oZCxPQUFTNGIsRUFBUXRLLFFBQVF2UixJQUFNNmIsRUFBUXRLLFFBQVF0UixPQUFTLEdBQUc0YixFQUFRb0IsT0FBT2pkLElBQU02YixFQUFRb0IsT0FBT2hkLFVBVS9LLFNBQVNzZSxHQUF3QnhDLEVBQW1CLzdCLEVBQW1CdytCLEVBQW9CN3RCLEVBQVdtUCxHQUMzRyxNQUFNbWMsRUFBTUMsR0FBVUgsR0FHaEIwQyxFQUFZLENBQUNDLEVBQUs5MkMsRUFBS0YsSUFBUUQsS0FBS0csSUFBSUgsS0FBS0MsSUFBSWczQyxFQUFLOTJDLEdBQU1GLEdBQzVEaTNDLEVBQVFGLEVBQVU5dEIsRUFBRyxFQUFHc3JCLEVBQUlFLFdBQWEsR0FDekN5QyxFQUFRSCxFQUFVM2UsRUFBRyxFQUFHbWMsRUFBSWpDLFlBQWMsR0FFMUMyQixFQUFjMzdCLEVBQU1pK0IsV0FBV3RDLFlBQy9Ca0QsRUFBWWxELEVBQVlwbEMsUUFBTzgvQixHQUFLQSxFQUFFMEgsV0FHNUMsT0FBT2hDLEVBQUkrQyxrQkFBa0JILEVBQU9DLEdBQ25Dcm9DLFFBQVFpRixJQUNQLE1BQU1paUMsRUFBYTlCLEVBQVkvK0IsTUFBS3k1QixHQUFLQSxFQUFFNzZCLEtBQU9BLElBQ2xELE9BQU9paUMsR0FDRkEsRUFBV3NCLGFBQ1ZGLEVBQVVqaUMsTUFBS3k1QixHQUFLQSxFQUFFNzZCLEtBQU9BLE9Bc0JoQyxTQUFTd2pDLEdBQUt2QixFQUFtQ3dCLEVBQXlCQyxFQUFtQkMsR0FDbEcsTUFBTyxJQUNGMUIsRUFDSDJCLFlBQWEzQixFQUFXMkIsWUFBYyxDQUNwQ3p1QixFQUFHOHNCLEVBQVcyQixZQUFZenVCLEVBQUl1dUIsRUFDOUJwZixFQUFHMmQsRUFBVzJCLFlBQVl0ZixFQUFJcWYsR0FDNUIsS0FDSnRELFFBQVMsSUFDSjRCLEVBQVc1QixRQUNka0IsV0FBYSxJQUNSVSxFQUFXNUIsUUFBUWtCLFdBQ3RCL2MsSUFBS3lkLEVBQVc1QixRQUFRa0IsV0FBVy9jLElBQU1tZixFQUN6QzFoQyxLQUFNZ2dDLEVBQVc1QixRQUFRa0IsV0FBV3QvQixLQUFPeWhDLEVBQzNDamYsT0FBUXdkLEVBQVc1QixRQUFRa0IsV0FBVzljLE9BQVNrZixFQUMvQ3poQyxNQUFPKy9CLEVBQVc1QixRQUFRa0IsV0FBV3IvQixNQUFRd2hDLEdBRS9DckMsa0JBQW1Cb0MsRUFBaUJ4QixFQUFXNUIsUUFBUWdCLGtCQUFvQixJQUN0RVksRUFBVzVCLFFBQVFnQixrQkFDdEI3YyxJQUFLeWQsRUFBVzVCLFFBQVFnQixrQkFBa0I3YyxJQUFNbWYsRUFDaEQxaEMsS0FBTWdnQyxFQUFXNUIsUUFBUWdCLGtCQUFrQnAvQixLQUFPeWhDLEVBQ2xEamYsT0FBUXdkLEVBQVc1QixRQUFRZ0Isa0JBQWtCNWMsT0FBU2tmLEVBQ3REemhDLE1BQU8rL0IsRUFBVzVCLFFBQVFnQixrQkFBa0JuL0IsTUFBUXdoQyxLQ25mckQsU0FBU0csR0FBUzd3QyxFQUFrQnZHLEVBQWM0K0IsRUFBeUIvOUIsRUFBZSxJQUUvRixPQURBMEYsRUFBSWt3QixpQkFBaUJ6MkIsRUFBTTQrQixFQUFVLzlCLEdBQzlCLElBQU0wRixFQUFJeTVCLG9CQUFvQmhnQyxFQUFNNCtCLEVBQVUvOUIsR0NKaEQsTUFBTXcyQyxHQUFjLGNBQ2RDLEdBQVcxb0IsSUFBdUIsQ0FDN0M1dUIsS0FBTXEzQyxHQUNOem9CLFNBR1cyb0IsR0FBb0Isb0JBQ3BCQyxHQUFpQkMsSUFBd0IsQ0FDcER6M0MsS0FBTXUzQyxHQUNORSxlQUdXQyxHQUF5Qix5QkFNekJDLEdBQWdCLGdCQU1oQkMsR0FBdUIsdUJDeEI5QkMsR0FBTSxnQkFDTkMsR0FBUSxrQkFFUkMsR0FBTSxnQkFDTkMsR0FBUyxtQkFFRnp6QyxHQUFPbXZDLElBQXdDLENBQzFEMXpDLEtBQU02M0MsR0FDTm5FLGdCQUVXLEdBQVEsS0FBTSxDQUN6QjF6QyxLQUFNODNDLEtBTUtsL0IsR0FBTzQ4QixJQUFnQyxDQUNsRHgxQyxLQUFNKzNDLEdBQ052QyxlQUVXcGdCLEdBQVVvZ0IsSUFBZ0MsQ0FDckR4MUMsS0FBTWc0QyxHQUNOeEMsZUNuQkssTUFBTXlDLEdBQ1hqcUMsWUFBb0JnbUMsRUFBcUJqOEIsRUFBMkJ3K0IsR0FBaEQsS0FBQXZDLE1BQXFCLEtBQUFqOEIsUUFBMkIsS0FBQXcrQixRQVE1RCxLQUFBMkIsZUFBb0MsR0FOMUN6MUMsS0FBS3kxQyxlQUFlaHlDLEtBQ2xCa3hDLEdBQVNsNUMsT0FBUSxXQUFZb0gsR0FBcUI3QyxLQUFLMDFDLFVBQVU3eUMsS0FDakU4eEMsR0FBU3BELEVBQUssV0FBWTF1QyxHQUFxQjdDLEtBQUswMUMsVUFBVTd5QyxNQUtsRTh5QyxVQUNFMzFDLEtBQUt5MUMsZUFBZXJuQyxTQUFRd25DLEdBQUtBLE1BTTNCRixVQUFVN3lDLEdBQ2hCLE1BQU1WLEVBQU1VLEVBQUVWLElBQ1I0RixFQUFRL0gsS0FBS3NWLE1BQU1pK0IsV0FDbkJybEMsRUFBU3JMLEVBQUVxTCxPQUVqQixHQUFHbkcsRUFBTTh0QyxHQUFHQyxnQkFDdUIsVUFBakM1bkMsRUFBT3l2QixRQUFRMVosZUFDa0IsYUFBakMvVixFQUFPeXZCLFFBQVExWixnQkFDZC9WLEVBQU9tOEIsYUFBYSxtQkFBb0IsQ0FDekMsT0FBT2xvQyxHQUNMLElBQUssU0FDQTRGLEVBQU04dEMsR0FBRzFwQixPQUFTMGhCLEdBQU9rSSxPQUMxQi8xQyxLQUFLc1YsTUFBTTBnQyxTQUFTbkIsR0FBUWhILEdBQU9rSSxPQUNuQy8xQyxLQUFLc1YsTUFBTTBnQyxTQUFTLE9BRXRCLE1BQ0YsSUFBSyxRQUNBaDJDLEtBQUs4ekMsTUFBTW1DLFFBQVFqMkMsS0FBSzh6QyxNQUFNbUMsU0FDakMsTUFDRixRQUNFLE9BR0pwekMsRUFBRTZ3QixpQkFDRjd3QixFQUFFMitCLG9CQzVDUixNQUFNMFUsR0FBZSxlQUNSLEdBQWFwRCxJQUFpQyxDQUN6RHYxQyxLQUFNMjRDLEdBQ05wRCxlQUdJcUQsR0FBZSxlQUNSQyxHQUFpQkMsSUFBaUMsQ0FDN0Q5NEMsS0FBTTQ0QyxHQUNORSxlQUdJQyxHQUFhLGFDYmJDLEdBQVMsb0JBQ1QsR0FBUSxtQkFDUkMsR0FBUyxvQkFDVEMsR0FBUyxvQkFFRkMsR0FBb0IsQ0FBQ3pGLEVBQXFDMEYsR0FBMkIsS0FBVSxDQUMxR3A1QyxLQUFNZzVDLEdBQ050RixjQUNBMEYsb0JDREYsSUFBWUMsSUFBWixTQUFZQSxHQUNWLGVBQ0EsbUJBQ0EsMkJBQ0EsdURBQ0EseURBQ0EsbURBTkYsQ0FBWUEsUUFBUyxLQVNkLE1BQU1DLEdBR1h0ckMsWUFBb0J1ckMsRUFBMEJDLEVBQTRCemhDLEVBQTJCdytCLEdBQWpGLEtBQUFnRCxXQUEwQixLQUFBQyxhQUE0QixLQUFBemhDLFFBQTJCLEtBQUF3K0IsUUFGckcsS0FBQWtELFVBQVlKLEdBQVVLLEdBQ2QsS0FBQUMsa0JBQTRCLEVBYzVCLEtBQUF6QixlQUFvQyxHQVgxQ3oxQyxLQUFLeTFDLGVBQWVoeUMsS0FDbEJreEMsR0FBUzMwQyxLQUFLKzJDLFdBQVksVUFBV2wwQyxHQUFpQjdDLEtBQUs2d0MsT0FBT2h1QyxLQUFJLEdBQ3RFOHhDLEdBQVMzMEMsS0FBSysyQyxXQUFXcjdDLFNBQVUsYUFBY21ILEdBQWlCN0MsS0FBS20zQyxLQUFLdDBDLEtBQUksR0FDaEY4eEMsR0FBUzMwQyxLQUFLKzJDLFdBQVdyN0MsU0FBVSxXQUFZbUgsR0FBaUI3QyxLQUFLbzNDLEdBQUd2MEMsS0FBSSxHQUM1RTh4QyxHQUFTMzBDLEtBQUsrMkMsV0FBV3I3QyxTQUFVLGFBQWNtSCxHQUFpQjdDLEtBQUtzMEMsS0FBS3p4QyxLQUFJLEdBR2hGOHhDLEdBQVNqNUMsU0FBVSxXQUFZbUgsR0FBaUI3QyxLQUFLcTNDLE1BQU14MEMsS0FBSSxHQUMvRDh4QyxHQUFTajVDLFNBQVUsYUFBY21ILEdBQWlCN0MsS0FBS3MzQyxRQUFRejBDLEtBQUksSUFJdkU4eUMsVUFDRTMxQyxLQUFLeTFDLGVBQWVybkMsU0FBUXduQyxHQUFLQSxNQU9uQzJCLG9CQUFvQmg2QyxFQUFNNHdDLEdBQ3hCLE1BQU1xSixFQUFtQixDQUN2QjdDLEdBQVMzMEMsS0FBSysyQyxXQUFZeDVDLEdBQU9zRixHQUFpQnNyQyxFQUFJdHJDLEtBQUksR0FDMUQ4eEMsR0FBU2o1QyxTQUFVNkIsR0FBT3NGLEdBQWlCc3JDLEVBQUl0ckMsS0FBSSxJQUVyRCxNQUFPLElBQU0yMEMsRUFBaUJwcEMsU0FBUXduQyxHQUFLQSxNQUc3Qy9FLE9BQU9odUMsR0FDTCxNQUFNZ3VDLEVBQVMsR0FBcUI3d0MsS0FBSysyQyxXQUFXcjdDLFVBQ3BEc0UsS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUFxQm5GLElBSzNDc0csS0FBS3QwQyxHQUNILElBQUk3QyxLQUFLc1YsTUFBTWkrQixXQUFXc0MsR0FBR0MsZUFBZ0IsT0FDN0MsSUFHRWp6QyxFQUFFcUwsT0FBbUIsYUFFdkIsTUFBTXJMLElBQ05BLEVBQUU2d0IsaUJBQ0YsTUFBTStqQixFQUFZejNDLEtBQUswM0MsaUJBQWlCNzBDLEdBQ3hDLEdBQUc3QyxLQUFLZzNDLFlBQWNKLEdBQVVlLHFCQUM5QjMzQyxLQUFLZzNDLFVBQVlKLEdBQVVnQiw2QkFFeEIsR0FBSTUzQyxLQUFLZzNDLFlBQWNKLEdBQVVpQixTQUVwQzczQyxLQUFLZzNDLFVBQVlKLEdBQVVLLEdBQzNCajNDLEtBQUs4M0MsT0FBT0wsT0FFVCxDQUNIejNDLEtBQUtnM0MsVUFBWUosR0FBVW1CLHVCQUMzQi8zQyxLQUFLZzRDLHFCQUF1QlAsRUFDNUIsTUFBTXJpQyxFQUFLN1YsWUFBVyxLQUNqQlMsS0FBS2czQyxZQUFjSixHQUFVbUIsd0JBQzlCLzNDLEtBQUtnM0MsVUFBWUosR0FBVXFCLEtBQzNCajRDLEtBQUtnNEMscUJBQXVCLEtBQzVCaDRDLEtBQUtrNEMsT0FBT1QsSUFFTnozQyxLQUFLZzNDLFlBQWNKLEdBQVVlLHVCQUNuQzMzQyxLQUFLZzNDLFVBQVlKLEdBQVVxQixLQUMzQmo0QyxLQUFLZzRDLHFCQUF1QixLQUM1Qmg0QyxLQUFLazRDLE9BQU9ULEdBQ1p6M0MsS0FBS2czQyxVQUFZSixHQUFVSyxHQUMzQmozQyxLQUFLbTRDLEtBQUtWLE1BRVgsS0FDSHozQyxLQUFLRSxhQUFlLEtBQ2xCQSxhQUFha1YsR0FDYnBWLEtBQUtFLGFBQWUsT0FJMUJrM0MsR0FBR3YwQyxFQUFldWlDLEVBQXFCLE1BQ3JDLElBQUlwbEMsS0FBS3NWLE1BQU1pK0IsV0FBV3NDLEdBQUdDLGVBQWdCLE9BRTdDanpDLEVBQUU2d0IsaUJBQ0YsTUFBTStqQixFQUFZejNDLEtBQUswM0MsaUJBQWlCNzBDLEVBQUd1aUMsR0FDeENwbEMsS0FBS2czQyxZQUFjSixHQUFVbUIsdUJBQzlCLzNDLEtBQUtnM0MsVUFBWUosR0FBVWUscUJBRXJCMzNDLEtBQUtnM0MsWUFBY0osR0FBVWdCLHlCQUNuQzUzQyxLQUFLRSxlQUNMRixLQUFLZzNDLFVBQVlKLEdBQVVLLEdBQzNCajNDLEtBQUtvNEMsV0FBV1gsSUFFVnozQyxLQUFLZzNDLFlBQWNKLEdBQVVxQixNQUNuQ2o0QyxLQUFLZzNDLFVBQVlKLEdBQVVLLEdBQzNCajNDLEtBQUttNEMsS0FBS1YsSUFFSHozQyxLQUFLZzNDLFlBQWNKLEdBQVVpQixXQUNwQzczQyxLQUFLZzNDLFVBQVlKLEdBQVVLLEdBQzNCajNDLEtBQUs4M0MsT0FBT0wsSUFHaEJuRCxLQUFLenhDLEVBQWV1aUMsRUFBcUIsTUFDdkMsSUFBSXBsQyxLQUFLc1YsTUFBTWkrQixXQUFXc0MsR0FBR0MsZUFBZ0IsT0FFN0NqekMsRUFBRTZ3QixpQkFDRixNQUFNK2pCLEVBQVl6M0MsS0FBSzAzQyxpQkFBaUI3MEMsRUFBR3VpQyxHQUczQ3BsQyxLQUFLc1YsTUFBTTBnQyxTRmhIYSxDQUFDeUIsSUFBK0IsQ0FDMURsNkMsS0FBTSs0QyxHQUNObUIsY0U4R3NCLENBQXdCQSxJQUs1QyxNQUFNWSxFQUFVcjRDLEtBQUtzVixNQUFNaStCLFdBQVd0QyxZQUNuQ3BsQyxRQUFROUQsR0FBVUEsRUFBTXV3QyxVQUFZYixFQUFVYSxRQUFRcm5DLFNBQVNsSixFQUFNK0ksTUFVeEUsT0FUSXVuQyxFQUFRMTJDLE9BQVMsR0FDbkIzQixLQUFLc1YsTUFBTTBnQyxTQUFTVSxHQUFrQjJCLEVBQ25DaDJDLEtBQUswRixJQUFVLElBQ1hBLEVBQ0h1d0MsUUFBU2IsRUFBVWEsUUFBUXJuQyxTQUFTbEosRUFBTStJLFVBS3pDOVEsS0FBS2czQyxXQUNWLEtBQUtKLEdBQVVlLHFCQUNiMzNDLEtBQUtnM0MsVUFBWUosR0FBVXFCLEtBQzNCajRDLEtBQUtrNEMsT0FBT2w0QyxLQUFLZzRDLHNCQUNqQmg0QyxLQUFLZzNDLFVBQVlKLEdBQVVLLEdBQzNCajNDLEtBQUttNEMsS0FBS240QyxLQUFLZzRDLHNCQUNmaDRDLEtBQUt1NEMsT0FBT2QsR0FDWixNQUNGLEtBQUtiLEdBQVVtQix1QkFDZixLQUFLbkIsR0FBVWdCLHdCQUNiNTNDLEtBQUtnM0MsVUFBWUosR0FBVXFCLEtBQzNCajRDLEtBQUtrNEMsT0FBT2w0QyxLQUFLZzRDLHNCQUVuQixLQUFLcEIsR0FBVXFCLEtBQ2JqNEMsS0FBS2czQyxVQUFZSixHQUFVaUIsU0FDM0I3M0MsS0FBS3c0QyxZQUFZZixHQUNqQixNQUNGLEtBQUtiLEdBQVVpQixTQUNiNzNDLEtBQUt5NEMsT0FBT2hCLEdBQ1osTUFDRixRQUNDejNDLEtBQUt1NEMsT0FBT2QsR0FFZnozQyxLQUFLZzRDLHFCQUF1QixLQUc5QlgsTUFBTXgwQyxHQUNKLEdBQUc3QyxLQUFLZzNDLFlBQWNKLEdBQVVLLEdBQUksQ0FDbEMsTUFBTTl1QixFQUFTbm9CLEtBQUsrMkMsV0FBVzJCLGFBQWF0Wix3QkFDNUNwL0IsS0FBS28zQyxHQUFHdjBDLEVBQUdzbEIsSUFHZm12QixRQUFRejBDLEdBQ04sR0FBRzdDLEtBQUtnM0MsWUFBY0osR0FBVUssR0FBSSxDQUNsQyxNQUFNOXVCLEVBQVNub0IsS0FBSysyQyxXQUFXMkIsYUFBYXRaLHdCQUM1Q3AvQixLQUFLczBDLEtBQUt6eEMsRUFBR3NsQixJQUlqQnV2QixpQkFBaUI3MEMsRUFBZXVpQyxFQUFxQixNQUNuRCxNQUFNbmYsRUFBSXBqQixFQUFFczlCLFNBQVdpRixFQUFTQSxFQUFPcnlCLEtBQU8sR0FDeENxaUIsRUFBSXZ5QixFQUFFdzlCLFNBQVcrRSxFQUFTQSxFQUFPOVAsSUFBTSxHQUN2Q2dqQixFUHNSSCxTQUFrQ2pILEVBQW1CLzdCLEVBQW1CMlEsRUFBV21QLEdBQ3hGLE1BQU1tYyxFQUFNQyxHQUFVSCxHQUdoQjBDLEVBQVksQ0FBQ0MsRUFBSzkyQyxFQUFLRixJQUFRRCxLQUFLRyxJQUFJSCxLQUFLQyxJQUFJZzNDLEVBQUs5MkMsR0FBTUYsR0FDNURpM0MsRUFBUUYsRUFBVTl0QixFQUFHLEVBQUdzckIsRUFBSUUsV0FBYSxHQUN6Q3lDLEVBQVFILEVBQVUzZSxFQUFHLEVBQUdtYyxFQUFJakMsWUFBYyxHQUUxQzJCLEVBQWMzN0IsRUFBTWkrQixXQUFXdEMsWUFFckMsT0FBT0ksRUFBSStDLGtCQUFrQkgsRUFBT0MsR0FDbkNyb0MsUUFBUWlGLEtBQXNCbWdDLEVBQVkvK0IsTUFBS3k1QixHQUFLQSxFQUFFNzZCLEtBQU9BLE1PalM1QyxDQUFvQzlRLEtBQUs4MkMsU0FBU3A3QyxTQUFVc0UsS0FBS3NWLE1BQU8yUSxFQUFHbVAsR0FDckZsbkIsRUFBV29xQyxFQUFVQSxFQUFRLEdBQUssS0FDeEMsTUFBTyxDQUNMOUQsVUFBVzN4QyxFQUFFMnhDLFVBQ2JDLFVBQVc1eEMsRUFBRTR4QyxVQUNidlUsT0FBUWphLEVBQ1JtYSxPQUFRaEwsRUFDUnFZLFNBQVU1cUMsRUFBRTRxQyxTQUNadi9CLFNBQ0FvcUMsV0FNSkYsV0FBV1gsR0FDVCxNQUFNLE9BQUN2cEMsRUFBTSxTQUFFdS9CLEdBQVlnSyxFQUNyQjFFLEVBQWEsR0FBeUIveUMsS0FBS3NWLE1BQU9wSCxHQUNyRHUvQixFQUNEenRDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBb0JqRCxJQUVsQ0EsSUFDRkEsRUFBV00sVUFDYnJ6QyxLQUFLc1YsTUFBTTBnQyxTQUFTLEdBQW9CLENBQUNqRCxNQUcxQy95QyxLQUFLOHpDLE1BQU1tQyxRQUFRajJDLEtBQUs4ekMsTUFBTW1DLFNBR25DaUMsT0FBT1QsR0FDTCxNQUFNLE9BQUN2cEMsRUFBTSxTQUFFdS9CLEdBQVlnSyxFQUNyQjFFLEVBQWEsR0FBeUIveUMsS0FBS3NWLE1BQU9wSCxHQUNyRDZrQyxHQUFjQSxFQUFXQSxZQUMxQi95QyxLQUFLazNDLGlCQUFtQixHQUF3QmwzQyxLQUFLc1YsT0FBTzNULE9BQVMsR0FBS294QyxFQUFXTSxTQUNsRnJ6QyxLQUFLazNDLGtCQUFvQnpKLEVBQzFCenRDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBb0JqRCxJQUd4Qy95QyxLQUFLc1YsTUFBTTBnQyxTQUFTLEdBQW9CLENBQUNqRCxNQUkzQy95QyxLQUFLazNDLGtCQUFtQixFQUs1QmlCLEtBQUtWLEdBQ0gsTUFBTSxPQUFDdnBDLEVBQU0sU0FBRXUvQixHQUFZZ0ssRUFDckIxRSxFQUFhLEdBQXlCL3lDLEtBQUtzVixNQUFPcEgsR0FDckQ2a0MsR0FBY0EsRUFBV0EsV0FDdkJ0RixFQUNFenRDLEtBQUtrM0Msa0JBQW9CbkUsRUFBV00sVUFDckNyekMsS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUF1QmpELElBSTdDL3lDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBb0IsQ0FBQ2pELEtBR3BDdEYsR0FDUHp0QyxLQUFLc1YsTUFBTTBnQyxTQUFTLE1BRXRCaDJDLEtBQUtrM0Msa0JBQW1CLEVBSTFCcUIsT0FBT2QsR0FDTCxNQUFNLE9BQUN2WCxFQUFNLE9BQUVFLEVBQU0sT0FBRWx5QixHQUFVdXBDLEVBQzNCMUUsRUFBYSxHQUF5Qi95QyxLQUFLc1YsTUFBT3BILEdBQ3hEbE8sS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUF5QixHQUF5QjlWLEVBQVFFLEVBQVFwZ0MsS0FBS3NWLE1BQU1pK0IsV0FBV29GLE1BQU03RixXQUFZQyxLQUloSTBGLE9BQU9oQixJQUdQZSxZQUFZZixHQUVWLE1BQU0xRSxFQUFhLEdBQXlCL3lDLEtBQUtzVixNQUFPbWlDLEVBQVV2cEMsUUFDbEUsR0FBRzZrQyxFQUFZLENBQ2IsTUFBTXpNLEVBQVl0bUMsS0FBS3NWLE1BQU1pK0IsV0FBV29GLE1BQU10QyxXQUUzQyxHQUF3QnRELEVBQVdILFdBQVl0TSxHQUNoRHRtQyxLQUFLc1YsTUFBTTBnQyxTQUFTLEdBQWdCLFlBRzlCakQsRUFBV0ssVUFDakJwekMsS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUFnQixVQUdwQ2gyQyxLQUFLc1YsTUFBTTBnQyxTQUFTLEdBQWdCLGVBSXRDaDJDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBZ0IsVUFJeEM4QixPQUFPTCxHQUNMejNDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBZ0IsV0NyUmpDLE1BQU00QyxHQUNYcnRDLFlBQW9Cc3RDLEVBQXFDQyxFQUF1Q3hqQyxFQUEyQncrQixHQUF2RyxLQUFBK0UsZ0JBQXFDLEtBQUFDLGtCQUF1QyxLQUFBeGpDLFFBQTJCLEtBQUF3K0IsUUFhbkgsS0FBQWlGLGNBQXdCLEVBQ3hCLEtBQUFoeEMsTUFBZ0MsR0FDaEMsS0FBQWl4QyxVQUFvQyxHQVNwQyxLQUFBdkQsZUFBb0MsR0F2QjFDejFDLEtBQUt5MUMsZUFBZWh5QyxLQUNsQjZSLEVBQU0yakMsV0FDSixDQUFDbHhDLEVBQStCaXhDLElBQXNDaDVDLEtBQUtrNUMsZUFBZW54QyxFQUFPaXhDLEtBQ2hHanhDLEdBQXNCQSxFQUFNa3BDLGNBRS9CMzdCLEVBQU0yakMsV0FDSixDQUFDbHhDLEVBQXNCaXhDLElBQTZCaDVDLEtBQUttNUMsWUFBWXB4QyxFQUFPaXhDLEtBQzNFanhDLEdBQXNCQSxFQUFNOHRDLE1BUW5Dc0QsWUFBWXB4QyxFQUFzQml4QyxHQUNoQ2g1QyxLQUFLKzRDLGFBQWVoeEMsRUFBTWl0QyxXQVE1QlcsVUFDRTMxQyxLQUFLeTFDLGVBQWVybkMsU0FBUXduQyxHQUFLQSxNQVFuQ3NELGVBQWVueEMsRUFBZ0MvSCxLQUFLK0gsTUFBT2l4QyxFQUFvQ2g1QyxLQUFLZzVDLFdBRWxHLEdBREFoNUMsS0FBSytILE1BQVFBLEdBQ1QvSCxLQUFLKzRDLGFBQWMsQ0FDckIvNEMsS0FBS2c1QyxVQUFZQSxFQUVqQixNQUFNSSxFQUFXLENBQUNySCxFQUFVZ0IsS0FDMUIsTUFBTXNHLEVBQWdCTCxFQUFVOW1DLE1BQUtvbkMsR0FBT3ZHLEVBQVdqaUMsS0FBT3dvQyxFQUFJeG9DLEtBRWxFLE9BQVF1b0MsR0FBaUJFLEtBQUtDLFVBQVVILEVBQWN0SCxNQUFld0gsS0FBS0MsVUFBVXpHLEVBQVdoQixLQUkzRjBILEVBQVVULEVBQVVudEMsUUFBTzgvQixJQUFNNWpDLEVBQU1tSyxNQUFLd25DLEdBQU1BLEVBQUc1b0MsS0FBTzY2QixFQUFFNzZCLE9BQzlEcWdDLEVBQVVwcEMsRUFBTThELFFBQU9rbkMsR0FBY3FHLEVBQVMsVUFBV3JHLEtBQzVEMEcsRUFBUTkzQyxPQUFTd3ZDLEVBQVF4dkMsT0FBUyxHQUFHM0IsS0FBSzI1QyxVQUFVeEksRUFBU3NJLEdBRWhFLE1BQU10RixFQUFZcHNDLEVBQU04RCxRQUFPa25DLEdBQWNxRyxFQUFTLFdBQVlyRyxLQUMvRG9CLEVBQVV4eUMsT0FBUyxHQUFHM0IsS0FBSzQ1QyxZQUFZekYsR0FXMUMsTUFBTU8sRUFBYzNzQyxFQUFNOEQsUUFBT2tuQyxHQUFjcUcsRUFBUyxjQUFlckcsS0FDcEUyQixFQUFZL3lDLE9BQVMsR0FBRzNCLEtBQUs2NUMsY0FBY25GLElBSWxEaUYsVUFBVTFJLEVBQXFDd0ksR0FDM0N4SSxFQUFZN2lDLFNBQVEya0MsSUFFZEEsRUFBVytHLGdCQUNiLEdBQXNCL0csRUFBV2ppQyxHQUFJaWlDLEVBQVc1QixRQUFTNEIsRUFBV3BCLGlCQUlyRTN4QyxLQUFLOHpDLE1BQU1pRyxVQUFVLzVDLEtBQUs4ekMsTUFBTWlHLFNBQVM5SSxFQUFZdm5DLE9BQU8rdkMsSUFFbkVHLFlBQVkzSSxHQUVQanhDLEtBQUs4ekMsTUFBTWtHLFVBQVVoNkMsS0FBSzh6QyxNQUFNa0csU0FBUy9JLEdBSzlDNEksY0FBYzVJLEdBQ1pBLEVBQVk3aUMsU0FBUTJrQyxJQUNiQSxFQUFXMkIsYUFDZDNCLEVBQVdqaUMsR0FBR3VYLE1BQU0wZixVQUFZLGFBQWFnTCxFQUFXMkIsWUFBWXp1QixRQUFROHNCLEVBQVcyQixZQUFZdGYsT0FDbkcyZCxFQUFXamlDLEdBQUd1WCxNQUFNNHhCLE9BQVMsV0FDTSxXQUFoQ2xILEVBQVc1QixRQUFRdndCLFdBQ3BCbXlCLEVBQVdqaUMsR0FBR3VYLE1BQU1pTixJQUFNLElBQzFCeWQsRUFBV2ppQyxHQUFHdVgsTUFBTXRWLEtBQU8sSUFDM0JnZ0MsRUFBV2ppQyxHQUFHdVgsTUFBTXpILFNBQVcsY0FJakNteUIsRUFBV2ppQyxHQUFHdVgsTUFBTTBmLFVBQVksR0FDaENnTCxFQUFXamlDLEdBQUd1WCxNQUFNNHhCLE9BQVMsR0FDN0JsSCxFQUFXamlDLEdBQUd1WCxNQUFNekgsU0FBVyxRQ2hHaEMsTUFBTXM1QixHQUFlLElBQUk3NEMsSUFtQ3pCLFNBQVM4NEMsR0FBa0JycEMsR0FDaEMsSUFBSW9wQyxHQUFhNzJDLElBQUl5TixHQU9uQixNQUFNLElBQUk3TCxNQUFNLCtDQVBRLENBQ3hCLE1BQU0saUJBQUNvaEMsRUFBZ0IsZUFBRXZJLEdBQWtCb2MsR0FBYTUyQyxJQUFJd04sR0FDNURndEIsRUFBZVIsYUFDZitJLEVBQWlCL0ksYUFDakIrSSxFQUFpQitULGNBQ2pCRixHQUFhaFIsT0FBT3A0QixJQVdqQixNQUFNdXBDLEdBQ1g5dUMsWUFBWStKLEVBQTJCNjRCLEdBQUEsS0FBQUEsTUFhL0IsS0FBQTRLLGNBQXdCLEVBQ3hCLEtBQUFoeEMsTUFBZ0MsR0FDaEMsS0FBQWl4QyxVQUFvQyxHQVNwQyxLQUFBdkQsZUFBb0MsR0F2QjFDejFDLEtBQUt5MUMsZUFBZWh5QyxLQUNsQjZSLEVBQU0yakMsV0FDSixDQUFDbHhDLEVBQStCaXhDLElBQXNDaDVDLEtBQUtrNUMsZUFBZW54QyxFQUFPaXhDLEtBQ2hHanhDLEdBQXNCQSxFQUFNa3BDLGNBRS9CMzdCLEVBQU0yakMsV0FDSixDQUFDbHhDLEVBQXNCaXhDLElBQTZCaDVDLEtBQUttNUMsWUFBWXB4QyxFQUFPaXhDLEtBQzNFanhDLEdBQXNCQSxFQUFNOHRDLE1BUW5Dc0QsWUFBWXB4QyxFQUFzQml4QyxHQUNoQ2g1QyxLQUFLKzRDLGFBQWVoeEMsRUFBTWl0QyxXQVE1QlcsVUFDRTMxQyxLQUFLeTFDLGVBQWVybkMsU0FBUXduQyxHQUFLQSxNQXhFbkNwMUMsTUFBTStHLEtBQUsyeUMsR0FBYXA1QyxRQUN2QnNOLFNBQVMwQyxHQUFPcXBDLEdBQWtCcnBDLEtBMkVuQ3dwQyxVQUFVdnlDLEdBQ1JveUMsR0FBa0JweUMsRUFBTStJLElBRzFCeXBDLFFBQVF4eUMsSUE1RUgsU0FBd0IrSSxFQUFpQjBwQyxHQUM5QyxHQUE4QixvQkFBbkJoYyxlQUNULE1BQU0sSUFBSXY1QixNQUFNLHNHQUVkaTFDLEdBQWE3MkMsSUFBSXlOLElBQ25CcXBDLEdBQWtCcnBDLEdBRXBCLE1BQU1ndEIsRUFBaUIsSUFBSVUsZUFBZWdjLEdBQzFDMWMsRUFBZVosUUFBUXBzQixFQUFJLElBRTNCLE1BQU11MUIsRUFBbUIsSUFBSXBKLGlCQUFpQnVkLEdBVzlDTixHQUFhcDRDLElBQUlnUCxFQUFJLENBQUN1MUIsbUJBQWtCdkksbUJBd0R0QzJjLENBQWUxeUMsRUFBTStJLElBQUtyUCxHQUFZekIsS0FBS3c2QyxVQUFVenlDLEVBQU90RyxLQUc5RCs0QyxVQUFVenlDLEVBQXdCdEcsR0FDaEN6QixLQUFLbXVDLElBQUlwbUMsRUFBT3RHLEdBUWxCeTNDLGVBQWVueEMsRUFBZ0MvSCxLQUFLK0gsTUFBT2l4QyxFQUFvQ2g1QyxLQUFLZzVDLFdBQ2xHaDVDLEtBQUsrSCxNQUFRQSxFQUNUL0gsS0FBSys0QyxlQUNQLzRDLEtBQUtnNUMsVUFBWUEsRUFDSGp4QyxFQUFNOEQsUUFBTzgvQixJQUFNcU4sRUFBVTltQyxNQUFLd25DLEdBQU1BLEVBQUc1b0MsS0FBTzY2QixFQUFFNzZCLE9BQzVEMUMsU0FBU3JHLEdBQVUvSCxLQUFLdTZDLFFBQVF4eUMsS0FFdEJpeEMsRUFBVW50QyxRQUFPOC9CLElBQU01akMsRUFBTW1LLE1BQUt3bkMsR0FBTUEsRUFBRzVvQyxLQUFPNjZCLEVBQUU3NkIsT0FDNUQxQyxTQUFTckcsR0FBVS9ILEtBQUtzNkMsVUFBVXZ5QyxPQ2hIekMsTUFBTTJ5QyxHQUNYbnZDLFlBQW9Cc3RDLEVBQXFDQyxFQUErQnhqQyxFQUEyQncrQixHQUEvRixLQUFBK0UsZ0JBQXFDLEtBQUFDLGtCQUEwRCxLQUFBaEYsUUFPM0csS0FBQTJCLGVBQW9DLEdBTjFDejFDLEtBQUt5MUMsZUFBZWh5QyxLQUFLNlIsRUFBTTJqQyxXQUM3QixDQUFDbHhDLEVBQXlCaXhDLElBQWdDaDVDLEtBQUtrNUMsZUFBZW54QyxFQUFPaXhDLEtBQ3BGanhDLEdBQXNCQSxFQUFNNHdDLFNBS2pDaEQsVUFDRTMxQyxLQUFLeTFDLGVBQWVybkMsU0FBUXduQyxHQUFLQSxNQVFuQ3NELGVBQWVueEMsRUFBeUJpeEMsR0FDbkNqeEMsRUFBTStxQyxXQUFXN3NCLElBQU0reUIsRUFBVWxHLFdBQVc3c0IsR0FBS2xlLEVBQU0rcUMsV0FBVzFkLElBQU00akIsRUFBVWxHLFdBQVcxZCxHQUM5RixHQUFxQnAxQixLQUFLNjRDLGNBQWU5d0MsRUFBTStxQyxhQ3ZCOUMsTUFBTTZILEdBSVhwdkMsWUFBc0JzdEMsRUFBcUNDLEVBQXlDeGpDLEVBQTZCdytCLEdBQTNHLEtBQUErRSxnQkFBcUMsS0FBQUMsa0JBQXlDLEtBQUF4akMsUUFBNkIsS0FBQXcrQixRQTJCekgsS0FBQThHLHVCQUF3QixFQXpCOUI1NkMsS0FBS20wQyxVQUFZNytCLEVBQU1pK0IsV0FBV3RDLFlBQ2xDanhDLEtBQUttMEMsVUFBWW4wQyxLQUFLbTBDLFVBQVV0b0MsUUFBT2tuQyxHQUFjQSxFQUFXTSxXQUdoRXJ6QyxLQUFLNjZDLFdBQWF2bEMsRUFBTTJqQyxXQUN0QixDQUFDbHhDLEVBQXlCaXhDLElBQWdDaDVDLEtBQUs4NkMsT0FBTy95QyxFQUFNMHZDLGFBQzNFMXZDLEdBQXNCQSxFQUFNNHdDLFFBSS9CMzRDLEtBQUsrNkMsaUJBQW1CLzZDLEtBQUtzVixNQUFNMmpDLFdBQ2pDLENBQUMrQixFQUF1Qi95QyxJQUEyQmpJLEtBQUtzL0IsU0FBUzBiLEVBQUsveUMsS0FDckVGLEdBQXlDQSxFQUFNNHdDLE1BQU03RixhQUcxRGdJLE9BQU9yRCxJQUNQd0QsVUFDRWo3QyxLQUFLKzZDLG1CQUNMLzZDLEtBQUs2NkMsYUFTR0ssZUFBZXBJLEdBQ25COXlDLEtBQUs0NkMsdUJBQ1ByN0MsWUFBVyxLQUNUUyxLQUFLNDZDLHVCQUF3QixFQUM3QjU2QyxLQUFLc1YsTUFBTTBnQyxTQUFTLEdBQXFCaDJDLEtBQUttN0MsdUJBQzdDLEtBRUxuN0MsS0FBSzQ2Qyx1QkFBd0IsRUFDN0I1NkMsS0FBS203QyxtQkFBcUJySSxFQU81QnhULFNBQVN2M0IsRUFBeUJFLEdBQ2hDLE1BQU1tekMsRUFBUSxDQUNabjFCLEVBQUdsZSxFQUFNa2UsRUFBSWhlLEVBQUtnZSxFQUNsQm1QLEVBQUdydEIsRUFBTXF0QixFQUFJbnRCLEVBQUttdEIsR0FFZHFpQixFQUFZejNDLEtBQUtzVixNQUFNaStCLFdBQVdvRixNQUFNbEIsVUFHOUN6M0MsS0FBSzg2QyxPQUFPLElBQ1ByRCxFQUNIakQsVUFBVzRHLEVBQU1uMUIsRUFDakJ3dUIsVUFBVzJHLEVBQU1obUIsS0N2RGhCLE1BQU1pbUIsV0FBc0JWLEdBRWpDcHZDLFlBQVlzdEMsRUFBNkJDLEVBQStCeGpDLEVBQW1CdytCLEdBQ3pGd0gsTUFBTXpDLEVBQWVDLEVBQWlCeGpDLEVBQU93K0IsR0FHN0M5ekMsS0FBS3EyQyxXQUFhcjJDLEtBQUtzVixNQUFNaStCLFdBQVdvRixNQUFNdEMsV0FHOUNyMkMsS0FBS20wQyxVQUFZbjBDLEtBQUttMEMsVUFBVXRvQyxRQUFPOC9CLEdBQUssR0FBd0JBLEVBQUVpSCxXQUFZNXlDLEtBQUtxMkMsY0FHbEZyMkMsS0FBSzh6QyxNQUFNeUgsZUFBZXY3QyxLQUFLOHpDLE1BQU15SCxjQUFjdjdDLEtBQUttMEMsV0FNL0QyRyxPQUFPckQsR0FDTDZELE1BQU1SLE9BQU9yRCxHQUdiejNDLEtBQUttMEMsVUFBWW4wQyxLQUFLbTBDLFVBQVU5eEMsS0FBSzB3QyxJQUVuQyxNQUFNVixFQUFhLElBQ2RVLEVBQVc1QixRQUFRa0IsWUFFbEJGLEVBQW9CLElBQ3JCWSxFQUFXNUIsUUFBUWdCLG1CQUV4QixPQUFPbnlDLEtBQUtxMkMsV0FBV3B3QixHQUNyQixJQUFLLEdBQ0gsTUFDRixJQUFLLE9BQ0hrc0IsRUFBa0IvZSxPQUFTcWtCLEVBQVVqRCxVQUNyQ25DLEVBQVdqZixPQUFTcWtCLEVBQVVqRCxVQUM5QixNQUNGLElBQUssUUFDSHJDLEVBQWtCL2UsT0FBU3FrQixFQUFVakQsVUFDckNuQyxFQUFXamYsT0FBU3FrQixFQUFVakQsVUFDOUIsTUFDRixRQUFTLE1BQU0sSUFBSXZ2QyxNQUFNLHFCQUF1QmpGLEtBQUtxMkMsV0FBV3B3QixHQWdDbEUsR0E5QndCLElBQXJCam1CLEtBQUtxMkMsV0FBV2poQixJQUNkcWlCLEVBQVVoSyxVQUFpQyxJQUFyQnp0QyxLQUFLcTJDLFdBQVdwd0IsR0FDdkNrc0IsRUFBa0I5YyxPQUFTOGMsRUFBa0IvZSxNQUFRMmYsRUFBVzVCLFFBQVFtQixZQUN4RUQsRUFBV2hkLE9BQVNnZCxFQUFXamYsTUFBUTJmLEVBQVc1QixRQUFRbUIsYUFHakMsUUFBdEJ0eUMsS0FBS3EyQyxXQUFXamhCLEdBQ2pCK2MsRUFBa0I5YyxRQUFVb2lCLEVBQVVoRCxVQUN0Q3BDLEVBQVdoZCxRQUFVb2lCLEVBQVVoRCxZQUcvQnRDLEVBQWtCOWMsUUFBVW9pQixFQUFVaEQsVUFDdENwQyxFQUFXaGQsUUFBVW9pQixFQUFVaEQsWUFNWixTQUF0QnowQyxLQUFLcTJDLFdBQVdwd0IsSUFFakJrc0IsRUFBa0JwL0IsTUFBUTBrQyxFQUFVakQsVUFDcENuQyxFQUFXdC9CLE1BQVEwa0MsRUFBVWpELFdBRU4sUUFBdEJ4MEMsS0FBS3EyQyxXQUFXamhCLElBRWpCK2MsRUFBa0I3YyxLQUFPbWlCLEVBQVVoRCxVQUNuQ3BDLEVBQVcvYyxLQUFPbWlCLEVBQVVoRCxXQUlMLEtBQXRCejBDLEtBQUtxMkMsV0FBV3B3QixFQUFVLENBRTNCLE1BQU11MUIsRUFBZXpJLEVBQVdqaUMsR0FBR3VYLE1BQU0rSyxNQUd6QzJmLEVBQVdqaUMsR0FBR3VYLE1BQU0rSyxNQUFRcjJCLEtBQUtDLElDdEZqQixHRHNGK0JtMUMsRUFBa0IvZSxPQUFTLEtBRzFFLE1BQU00ZixFQUFLLEdBQWtDRCxFQUFXamlDLElBQ2xEc3FDLEVBQVEvSSxFQUFXamYsTUFBUTRmLEVBQUc1ZixNQUNwQytlLEVBQWtCL2UsT0FBU2dvQixFQUMzQi9JLEVBQVdqZixPQUFTZ29CLEVBQ0ssU0FBdEJwN0MsS0FBS3EyQyxXQUFXcHdCLElBQ2pCa3NCLEVBQWtCcC9CLE1BQVFxb0MsRUFDMUIvSSxFQUFXdC9CLE1BQVFxb0MsR0FHckJySSxFQUFXamlDLEdBQUd1WCxNQUFNK0ssTUFBUW9vQixFQUk5QixHQUF5QixLQUF0Qng3QyxLQUFLcTJDLFdBQVdqaEIsRUFBVSxDQUUzQixNQUFNcW1CLEVBQWExSSxFQUFXcEIsYUFBZSxZQUFjLFNBQ3JEK0osRUFBZ0IzSSxFQUFXamlDLEdBQUd1WCxNQUFNb3pCLEdBRzFDMUksRUFBV2ppQyxHQUFHdVgsTUFBTW96QixHQUFjMStDLEtBQUtDLElDNUd2QixHRDRHcUNtMUMsRUFBa0I5YyxRQUFVLEtBR2pGLE1BQU0yZCxFQUFLLEdBQWtDRCxFQUFXamlDLElBQ2xEc3FDLEVBQVEvSSxFQUFXaGQsT0FBUzJkLEVBQUczZCxPQUNyQzhjLEVBQWtCOWMsUUFBVStsQixFQUM1Qi9JLEVBQVdoZCxRQUFVK2xCLEVBQ0ksUUFBdEJwN0MsS0FBS3EyQyxXQUFXamhCLElBQ2pCK2MsRUFBa0I3YyxLQUFPOGxCLEVBQ3pCL0ksRUFBVy9jLEtBQU84bEIsR0FJcEJySSxFQUFXamlDLEdBQUd1WCxNQUFNb3pCLEdBQWNDLEVBVXBDLE9BTkF2SixFQUFrQm4vQixNQUFRbS9CLEVBQWtCcC9CLEtBQU9vL0IsRUFBa0IvZSxNQUNyRWlmLEVBQVdyL0IsTUFBUXEvQixFQUFXdC9CLEtBQU9zL0IsRUFBV2pmLE1BQ2hEK2UsRUFBa0I1YyxPQUFTNGMsRUFBa0I3YyxJQUFNNmMsRUFBa0I5YyxPQUNyRWdkLEVBQVc5YyxPQUFTOGMsRUFBVy9jLElBQU0rYyxFQUFXaGQsT0FHekMsSUFDRjBkLEVBQ0g1QixRQUFTLElBQ0o0QixFQUFXNUIsUUFDZGtCLGFBQ0FGLHlCQUtObnlDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBa0NoMkMsS0FBS20wQyxZQUczRCxNQUFNd0gsRUFBZ0IzN0MsS0FBS3NWLE1BQU1pK0IsV0FBV29GLE1BQU03RixXQUM1Q0UsRUFBaUIsQ0FDckIxZCxJQUFLbWlCLEVBQVVyWCxPQUFTdWIsRUFBY3ZtQixFQUN0Q3JpQixLQUFNMGtDLEVBQVV2WCxPQUFTeWIsRUFBYzExQixFQUN2Q3NQLE9BQVFraUIsRUFBVXJYLE9BQVN1YixFQUFjdm1CLEVBQ3pDcGlCLE1BQU95a0MsRUFBVXZYLE9BQVN5YixFQUFjMTFCLEVBQ3hDb1AsT0FBUSxFQUNSakMsTUFBTyxHQUVIeWQsRUFBUyxHQUEyQjd3QyxLQUFLNjRDLGNBQWU3RixHQUMzRG5DLEVBQU81cUIsSUFBTTAxQixFQUFjMTFCLEdBQUs0cUIsRUFBT3piLElBQU11bUIsRUFBY3ZtQixHQUM1RHAxQixLQUFLazdDLGVBQWVySyxHQUluQjd3QyxLQUFLOHpDLE1BQU04SCxVQUFVNTdDLEtBQUs4ekMsTUFBTThILFNBQVM1N0MsS0FBS20wQyxVQUFXbkIsR0FPOURpSSxVQUNFSyxNQUFNTCxVQUlOLE1BQU1sekMsRUFBUS9ILEtBQUtzVixNQUFNaStCLFdBQ25CUixFQUFhLEdBQXlCL3lDLEtBQUtzVixNQUFPdk4sRUFBTTR3QyxNQUFNbEIsVUFBVXZwQyxRQUM5RWxPLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBeUIsR0FBeUJqdUMsRUFBTTR3QyxNQUFNbEIsVUFBVXZYLE9BQVFuNEIsRUFBTTR3QyxNQUFNbEIsVUFBVXJYLE9BQVFyNEIsRUFBTTR3QyxNQUFNN0YsV0FBWUMsS0FHMUp4ekMsWUFBVyxLQUVUUyxLQUFLc1YsTUFBTTBnQyxTQUFTakIsSUFBYyxJQUVsQyxNQUFNOEcsRUFBZTc3QyxLQUFLc1YsTUFBTWkrQixXQUFXdEMsWUFDMUM1dUMsS0FBSTB3QyxJQUNJLElBQ0ZBLEVBQ0g1QixRQUFTLEdBQXNCNEIsRUFBV2ppQyxRQUc5QzlRLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBa0M2RixJQUd0RDc3QyxLQUFLc1YsTUFBTTBnQyxTQUFTakIsSUFBYyxJQUcvQi8wQyxLQUFLOHpDLE1BQU1nSSxhQUFhOTdDLEtBQUs4ekMsTUFBTWdJLFlBQVk5N0MsS0FBS20wQyxhQUN0RCxJRTVMQSxNQUFNNEgsV0FBb0JwQixHQUsvQnB2QyxZQUFZc3RDLEVBQTZCQyxFQUErQnhqQyxFQUFtQncrQixHQUN6RndILE1BQU16QyxFQUFlQyxFQUFpQnhqQyxFQUFPdytCLEdBR3hDOXpDLEtBQUs4ekMsTUFBTWtJLGFBQWFoOEMsS0FBSzh6QyxNQUFNa0ksY0FFeEMsTUFBTWowQyxFQUFRdU4sRUFBTWkrQixXQUVkVCxFQUFhLEdBQXFCOXlDLEtBQUs2NEMsZUFDN0M3NEMsS0FBS2k4QyxTQUFXbDBDLEVBQU00d0MsTUFBTWxCLFVBQVV2WCxPQUFTNFMsRUFBVzdzQixFQUMxRGptQixLQUFLazhDLFNBQVduMEMsRUFBTTR3QyxNQUFNbEIsVUFBVXJYLE9BQVMwUyxFQUFXMWQsRUFJMURwMUIsS0FBS204QyxhQUFlckQsRUFBZ0JuOUMsY0FBYyxPQUNsRHFFLEtBQUttOEMsYUFBYS8rQixVQUFVakgsSUFBSSxpQkFDaENuVyxLQUFLbzhDLFdBQVcsQ0FBQ3JwQyxNQUFPLElBQUt1aUIsS0FBTSxJQUFLdGlCLE9BQVEsSUFBS3VpQixRQUFTLElBQUtuQyxNQUFPLEVBQUdpQyxPQUFRLElBQ3JGeWpCLEVBQWdCemIsS0FBSzlVLFlBQVl2b0IsS0FBS204QyxjQUd4Q3JCLE9BQU9yRCxHQUNMNkQsTUFBTVIsT0FBT3JELEdBRWIsTUFBTTNFLEVBQWEsR0FBcUI5eUMsS0FBSzY0QyxlQUN2QzdGLEVBQUssQ0FDVGpnQyxLQUFNaFcsS0FBS0csSUFBSThDLEtBQUtpOEMsU0FBV3hFLEVBQVV2WCxPQUFTNFMsRUFBVzdzQixHQUM3RHFQLElBQUt2NEIsS0FBS0csSUFBSThDLEtBQUtrOEMsU0FBV3pFLEVBQVVyWCxPQUFTMFMsRUFBVzFkLEdBQzVEcGlCLE1BQU9qVyxLQUFLQyxJQUFJZ0QsS0FBS2k4QyxTQUFXeEUsRUFBVXZYLE9BQVM0UyxFQUFXN3NCLEdBQzlEc1AsT0FBUXg0QixLQUFLQyxJQUFJZ0QsS0FBS2s4QyxTQUFXekUsRUFBVXJYLE9BQVMwUyxFQUFXMWQsR0FDL0RDLE9BQVF0NEIsS0FBS3MvQyxJQUFJcjhDLEtBQUtrOEMsVUFBWXpFLEVBQVVyWCxPQUFTMFMsRUFBVzFkLElBQ2hFaEMsTUFBT3IyQixLQUFLcy9DLElBQUlyOEMsS0FBS2k4QyxVQUFZeEUsRUFBVXZYLE9BQVM0UyxFQUFXN3NCLEtBSWpFam1CLEtBQUtvOEMsV0FBV3BKLEdBR2hCLElBQUlzSixFQUFldDhDLEtBQUtzVixNQUFNaStCLFdBQVd0QyxZQUN4Q3BsQyxRQUFPa25DLEdBQ0NBLEVBQVdBLFlBQ2hCQSxFQUFXSyxXQUNYTCxFQUFXNUIsUUFBUWtCLFdBQVd0L0IsS0FBT2lnQyxFQUFHaGdDLE9BQ3hDKy9CLEVBQVc1QixRQUFRa0IsV0FBV3IvQixNQUFRZ2dDLEVBQUdqZ0MsTUFDekNnZ0MsRUFBVzVCLFFBQVFrQixXQUFXL2MsSUFBTTBkLEVBQUd6ZCxRQUN2Q3dkLEVBQVc1QixRQUFRa0IsV0FBVzljLE9BQVN5ZCxFQUFHMWQsTUFJOUN0MUIsS0FBS20wQyxVQUNKdG9DLFFBQU9rbkMsSUFBZXVKLEVBQWFwcUMsTUFBS3k1QixHQUFLb0gsRUFBV2ppQyxLQUFPNjZCLEVBQUU3NkIsT0FDakUxQyxTQUFRMmtDLElBQ1AveUMsS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUFzQmpELE9BSTVDdUosRUFDQ3p3QyxRQUFPa25DLElBQWUveUMsS0FBS20wQyxVQUFVamlDLE1BQUt5NUIsR0FBS29ILEVBQVdqaUMsS0FBTzY2QixFQUFFNzZCLE9BQ25FMUMsU0FBUTJrQyxJQUNQL3lDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBbUJqRCxPQUl6Qy95QyxLQUFLbTBDLFVBQVltSSxFQUdqQixNQUFNWCxFQUFnQjM3QyxLQUFLc1YsTUFBTWkrQixXQUFXb0YsTUFBTTdGLFdBQzVDakMsRUFBUyxHQUEyQjd3QyxLQUFLNjRDLGNBQWU3RixHQUMzRG5DLEVBQU81cUIsSUFBTTAxQixFQUFjMTFCLEdBQUs0cUIsRUFBT3piLElBQU11bUIsRUFBY3ZtQixHQUM1RHAxQixLQUFLazdDLGVBQWVySyxHQUluQjd3QyxLQUFLOHpDLE1BQU15SSxRQUFRdjhDLEtBQUs4ekMsTUFBTXlJLE9BQU92OEMsS0FBS20wQyxVQUFXbkIsR0FJMURpSSxVQUNFSyxNQUFNTCxVQUNOajdDLEtBQUttOEMsYUFBYXRvQixXQUFXUyxZQUFZdDBCLEtBQUttOEMsY0FHM0NuOEMsS0FBSzh6QyxNQUFNMEksV0FBV3g4QyxLQUFLOHpDLE1BQU0wSSxZQUVwQ3g4QyxLQUFLbTBDLFVBQVksR0FNbkJpSSxZQUFXLEtBQUNycEMsRUFBSSxJQUFFdWlCLEVBQUcsTUFBRWxDLEVBQUssT0FBRWlDLElBQzVCcjFCLEtBQUttOEMsYUFBYTl6QixNQUFNK0ssTUFBUUEsRUFBUSxLQUN4Q3B6QixLQUFLbThDLGFBQWE5ekIsTUFBTWdOLE9BQVNBLEVBQVMsS0FDMUNyMUIsS0FBS204QyxhQUFhOXpCLE1BQU0wZixVQUFZLGFBQWFoMUIsUUFBV3VpQixRQzdGekQsTUFBTW1uQixXQUFvQjlCLEdBSy9CcHZDLFlBQVlzdEMsRUFBNkJDLEVBQStCeGpDLEVBQW1CdytCLEdBQ3pGd0gsTUFBTXpDLEVBQWVDLEVBQWlCeGpDLEVBQU93K0IsR0FJN0M5ekMsS0FBS20wQyxVQUFZbjBDLEtBQUttMEMsVUFDckJ0b0MsUUFBTzgvQixHQUFLQSxFQUFFeUgsWUFDZHZuQyxRQUFPOC9CLElBQU0sR0FBdUNyMkIsRUFBT3EyQixFQUFFNzZCLE1BR3pEOVEsS0FBSzh6QyxNQUFNMEUsYUFBYXg0QyxLQUFLOHpDLE1BQU0wRSxZQUFZeDRDLEtBQUttMEMsV0FHekRuMEMsS0FBSzA4QyxlQUFpQjE4QyxLQUFLNjRDLGNBQWNsOUMsY0FBYyxPQUN2RHFFLEtBQUswOEMsZUFBZXQvQixVQUFVakgsSUFBSSxtQkFDbENuVyxLQUFLMDhDLGVBQWVyMEIsTUFBTXMwQixnQkFBa0Isb0JBQzVDMzhDLEtBQUswOEMsZUFBZXIwQixNQUFNQyxRQUFVLGVBQ3BDdG9CLEtBQUswOEMsZUFBZXIwQixNQUFNa3FCLE9BQVMsb0NBQ25DdnlDLEtBQUswOEMsZUFBZXIwQixNQUFNekgsU0FBVyxXQUNyQzVnQixLQUFLMDhDLGVBQWVyMEIsTUFBTXUwQixTQUFXLE1BQ3JDNThDLEtBQUswOEMsZUFBZXIwQixNQUFNdzBCLFVBQVksTUFHdEM3OEMsS0FBS20wQyxVQUFZbjBDLEtBQUttMEMsVUFBVTl4QyxLQUFJMHdDLElBQzNCLElBQ0ZBLEVBQ0grRyxnQkFBZ0IsRUFDaEJwRixZQUFhLENBQ1h6dUIsRUFBRyxFQUNIbVAsRUFBRyxPQU1UcDFCLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBa0NoMkMsS0FBS20wQyxZQU83RDJHLE9BQU9yRCxHQUdMLEdBRkE2RCxNQUFNUixPQUFPckQsR0FFaUIsSUFBMUJ6M0MsS0FBS20wQyxVQUFVeHlDLE9BRWpCLE9BSUMzQixLQUFLMDhDLGVBQWU3b0IsWUFBWTd6QixLQUFLMDhDLGVBQWU3b0IsV0FBV1MsWUFBWXQwQixLQUFLMDhDLGdCQUUvRTE4QyxLQUFLODhDLGVBQ1A5OEMsS0FBSzg4QyxhQUFlLENBQ2xCNzJCLEVBQUd3eEIsRUFBVXZYLE9BQVN1WCxFQUFVakQsVUFDaENwZixFQUFHcWlCLEVBQVVyWCxPQUFTcVgsRUFBVWhELFlBR2hDejBDLEtBQUsyN0MsZ0JBQ1AzN0MsS0FBSzI3QyxjQUFnQixJQUNoQjM3QyxLQUFLc1YsTUFBTWkrQixXQUFXb0YsTUFBTTdGLGFBR25DLE1BQU1pSyxFQUFnQixJQUNqQi84QyxLQUFLc1YsTUFBTWkrQixXQUFXb0YsTUFBTTdGLFlBRTNCa0ssRUFDREQsRUFBYzkyQixFQUFJam1CLEtBQUsyN0MsY0FBYzExQixFQURwQysyQixFQUVERCxFQUFjM25CLEVBQUlwMUIsS0FBSzI3QyxjQUFjdm1CLEdBS3BDLFVBQUVvZixFQUFTLFVBQUVDLEdBQWMsTUFDL0IsTUFBTUMsRUFBYzEwQyxLQUFLbTBDLFVBQVUsR0FBR08sWUFDaEN1SSxHQUFpQnZJLEVBQVl6dUIsR0FBS3d4QixFQUFVdlgsT0FBU2xnQyxLQUFLODhDLGFBQWE3MkIsR0FDdkVpM0IsR0FBaUJ4SSxFQUFZdGYsR0FBS3FpQixFQUFVclgsT0FBU3BnQyxLQUFLODhDLGFBQWExbkIsR0FDN0UsR0FBR3FpQixFQUFVaEssVUFBWXp0QyxLQUFLbTBDLFVBQVV4eUMsT0FBUyxFQUFHLENBQ2xELE1BQU0sRUFBQ3NrQixFQUFDLEVBQUVtUCxHQUFLLENBQ2JuUCxFQUFHd3hCLEVBQVV2WCxPQUFTbGdDLEtBQUs4OEMsYUFBYTcyQixFQUN4Q21QLEVBQUdxaUIsRUFBVXJYLE9BQVNwZ0MsS0FBSzg4QyxhQUFhMW5CLEdBRXBDK25CLEVBQVFwZ0QsS0FBS3FnRCxNQUFNaG9CLEVBQUduUCxHQUM1QixPQUFHbHBCLEtBQUtzL0MsSUFBSXQvQyxLQUFLc2dELElBQUlGLElBQVVwZ0QsS0FBS3MvQyxJQUFJdC9DLEtBQUt1Z0QsSUFBSUgsSUFFeEMsQ0FDTDNJLFVBQVd5SSxFQUNYeEksV0FBWUMsRUFBWXRmLEdBSW5CLENBQ0xvZixXQUFZRSxFQUFZenVCLEVBQ3hCd3VCLFVBQVd5SSxHQUlqQixNQUFPLENBQ0wxSSxVQUFXeUksRUFBZ0JELEVBQzNCdkksVUFBV3lJLEVBQWdCRixJQTFCRSxHQStCM0JoSyxFQUFLLEdBQTBCaHpDLEtBQUttMEMsV0FDcENvSixFQUF3QnY5QyxLQUFLbTBDLFVBQVVsbkMsTUFBSzArQixHQUE0QixXQUF2QkEsRUFBRXdGLFFBQVF2d0IsV0FDM0QySyxHQUFVdnJCLEtBQUtzVixNQUFNaStCLFdBQVdzQyxHQUFHMkgsY0FBZ0JELEVsQnJCbkIsQ0FBRWpvQixJQUFLLEtBQU12aUIsS0FBTSxLQUFNd2lCLE9BQVEsS0FBTXZpQixNQUFPLE1rQnNCaEZoVCxLQUFLc1YsTUFBTWkrQixXQUFXdEMsWUFDckJwbEMsUUFBTzgvQixJQUFNQSxFQUFFMEgsVUFBWTFILEVBQUVvSCxZQUFxQyxXQUF2QnBILEVBQUV3RixRQUFRdndCLFdBQ3JEcmMsUUFBTyxDQUFDMEQsRUFBTThxQyxLQUNWaDJDLEtBQUtzL0MsSUFBSXRKLEVBQVc1QixRQUFRa0IsV0FBVy9jLEtBQU8wZCxFQUFHMWQsSUFBTW1mLElGN0h0QyxJRTZIb0V4c0MsRUFBS3F0QixJQUFNeWQsRUFBVzVCLFFBQVFrQixXQUFXL2MsSUFBTTBkLEVBQUcxZCxLQUN2SXY0QixLQUFLcy9DLElBQUl0SixFQUFXNUIsUUFBUWtCLFdBQVd0L0IsTUFBUWlnQyxFQUFHamdDLEtBQU95aEMsSUY5SHhDLElFOEhzRXZzQyxFQUFLOEssS0FBT2dnQyxFQUFXNUIsUUFBUWtCLFdBQVd0L0IsS0FBT2lnQyxFQUFHamdDLE1BQzNJaFcsS0FBS3MvQyxJQUFJdEosRUFBVzVCLFFBQVFrQixXQUFXOWMsUUFBVXlkLEVBQUd6ZCxPQUFTa2YsSUYvSDVDLElFK0gwRXhzQyxFQUFLc3RCLE9BQVN3ZCxFQUFXNUIsUUFBUWtCLFdBQVc5YyxPQUFTeWQsRUFBR3pkLFFBQ25KeDRCLEtBQUtzL0MsSUFBSXRKLEVBQVc1QixRQUFRa0IsV0FBV3IvQixPQUFTZ2dDLEVBQUdoZ0MsTUFBUXdoQyxJRmhJMUMsSUVnSXdFdnNDLEVBQUsrSyxNQUFRKy9CLEVBQVc1QixRQUFRa0IsV0FBV3IvQixNQUFRZ2dDLEVBQUdoZ0MsT0FFL0lqVyxLQUFLcy9DLElBQUl0SixFQUFXNUIsUUFBUWtCLFdBQVc5YyxRQUFVeWQsRUFBRzFkLElBQU1tZixJRmxJekMsSUVrSXVFeHNDLEVBQUtxdEIsSUFBTXlkLEVBQVc1QixRQUFRa0IsV0FBVzljLE9BQVN5ZCxFQUFHMWQsS0FDN0l2NEIsS0FBS3MvQyxJQUFJdEosRUFBVzVCLFFBQVFrQixXQUFXci9CLE9BQVNnZ0MsRUFBR2pnQyxLQUFPeWhDLElGbkl6QyxJRW1JdUV2c0MsRUFBSzhLLEtBQU9nZ0MsRUFBVzVCLFFBQVFrQixXQUFXci9CLE1BQVFnZ0MsRUFBR2pnQyxNQUM3SWhXLEtBQUtzL0MsSUFBSXRKLEVBQVc1QixRQUFRa0IsV0FBVy9jLEtBQU8wZCxFQUFHemQsT0FBU2tmLElGcEl6QyxJRW9JdUV4c0MsRUFBS3N0QixPQUFTd2QsRUFBVzVCLFFBQVFrQixXQUFXL2MsSUFBTTBkLEVBQUd6ZCxRQUM3SXg0QixLQUFLcy9DLElBQUl0SixFQUFXNUIsUUFBUWtCLFdBQVd0L0IsTUFBUWlnQyxFQUFHaGdDLE1BQVF3aEMsSUZySXpDLElFcUl1RXZzQyxFQUFLK0ssTUFBUSsvQixFQUFXNUIsUUFBUWtCLFdBQVd0L0IsS0FBT2lnQyxFQUFHaGdDLE9BQ3pJL0ssSWxCbEN5QixDQUFFcXRCLElBQUssS0FBTXZpQixLQUFNLEtBQU13aUIsT0FBUSxLQUFNdmlCLE1BQU8sT2tCcUM5RXlxQyxFQUFtQyxPQUFoQmx5QixFQUFPeFksS0FBaUMsTUFBaEJ3WSxFQUFPdlksTUFBZ0J3aEMsRUFBWWpwQixFQUFPdlksTUFBU3VZLEVBQU94WSxLQUNyRzJxQyxFQUFrQyxPQUFmbnlCLEVBQU8rSixJQUFpQyxNQUFqQi9KLEVBQU9nSyxPQUFpQmtmLEVBQVlscEIsRUFBT2dLLE9BQVVoSyxFQUFPK0osSUFHNUd0MUIsS0FBS20wQyxVQUFZbjBDLEtBQUttMEMsVUFDckI5eEMsS0FBSTB3QyxHQUFjLEdBQWdCQSxHQUFZLEVBQU8wSyxFQUFpQkMsS0FHdkUxOUMsS0FBS20wQyxVQUFZbjBDLEtBQUttMEMsVUFDckI5eEMsS0FBSTB3QyxJQUNILElBRUk0SyxFQUZZLEdBQW1DMzlDLEtBQUs2NEMsY0FBZTc0QyxLQUFLc1YsTUFBT3RWLEtBQUs4ekMsTUFBTzJELEVBQVV2WCxPQUFRdVgsRUFBVXJYLFFBQzFIdjBCLFFBQU8reEMsR0FBWTU5QyxLQUFLOHpDLE1BQU0rSixRQUFROUssRUFBV2ppQyxHQUFJOHNDLEtBQ25CLEdBQ25DLEdBQUdELEVBQW9CLENBQ3JCLEdBQ08sV0FEQTVLLEVBQVc1QixRQUFRdndCLFNBQ3hCLENBQ0UsSUFBSWs5QixFQUFrQjk5QyxLQUFLKzlDLG9CQUFvQkosRUFBb0JsRyxFQUFVdlgsT0FBUXVYLEVBQVVyWCxRQUMvRixPQUFPcGdDLEtBQUtnK0MsNkJBQTZCakwsRUFBWStLLEdBRXJELE9BQU85OUMsS0FBS2krQywwQkFBMEJsTCxFQUFZNEssR0FHbkQsT0FBTzVLLEtBSWQsTUFBTW5PLEVBQVc1a0MsS0FBS3NWLE1BQU1pK0IsV0FBV3RDLFlBQ3RDcGxDLFFBQU84L0IsR0FBSyxHQUF1QzNyQyxLQUFLc1YsTUFBT3EyQixFQUFFNzZCLE1BQ2pFek8sS0FBSTB3QyxHQUFjLEdBQWdCQSxHQUFZLEVBQU15QixFQUFXQyxLQUdoRXowQyxLQUFLc1YsTUFBTTBnQyxTQUFTLEdBQWtDaDJDLEtBQUttMEMsVUFBVXpxQyxPQUFPazdCLEtBQzVFNWtDLEtBQUtzVixNQUFNMGdDLFNidEpVLENBQUN6cUIsSUFBeUIsQ0FDakRodUIsS0FBTTIzQyxHQUNOM3BCLFdhb0pzQjJ5QixDQUFVLENBQzVCNW9CLElBQW9CLE9BQWYvSixFQUFPK0osSUFDWnZpQixLQUFzQixPQUFoQndZLEVBQU94WSxLQUNid2lCLE9BQTBCLE9BQWxCaEssRUFBT2dLLE9BQ2Z2aUIsTUFBd0IsT0FBakJ1WSxFQUFPdlksU0FJaEIsTUFBTTJvQyxFQUFnQjM3QyxLQUFLc1YsTUFBTWkrQixXQUFXb0YsTUFBTTdGLFdBQzVDakMsRUFBUyxHQUEyQjd3QyxLQUFLNjRDLGNBQWUsQ0FDNUR2akIsSUFBS21pQixFQUFVclgsT0FBU3ViLEVBQWN2bUIsRUE1S1gsR0E2SzNCRyxPQUFRa2lCLEVBQVVyWCxPQUFTdWIsRUFBY3ZtQixFQTdLZCxHQThLM0JyaUIsS0FBTTBrQyxFQUFVdlgsT0FBU3liLEVBQWMxMUIsRUE5S1osR0ErSzNCalQsTUFBT3lrQyxFQUFVdlgsT0FBU3liLEVBQWMxMUIsRUEvS2IsR0FnTDNCb1AsT0FBUSxHQUNSakMsTUFBTyxLQUVOeWQsRUFBTzVxQixJQUFNMDFCLEVBQWMxMUIsR0FBSzRxQixFQUFPemIsSUFBTXVtQixFQUFjdm1CLEdBQzVEcDFCLEtBQUtrN0MsZUFBZXJLLEdBSW5CN3dDLEtBQUs4ekMsTUFBTTJFLFFBQVF6NEMsS0FBSzh6QyxNQUFNMkUsT0FBT3o0QyxLQUFLbTBDLFVBQVduQixHQU8xRGlJLFVBQ0VLLE1BQU1MLFVBRU5qN0MsS0FBSzg4QyxhQUFlLEtBRXBCOThDLEtBQUttMEMsVUFBWW4wQyxLQUFLbTBDLFVBQVU5eEMsS0FBSzB3QyxJQUVuQyxHQUFHQSxFQUFXNkssVUFBWTdLLEVBQVc2SyxTQUFTcmpCLE9BQzVDLEdBQUd3WSxFQUFXNkssU0FBU08sb0JBSXJCLEdBQUdwTCxFQUFXNkssU0FBU08scUJBQXVCcEwsRUFBV2ppQyxHQUFHcXRDLG9CQUFzQnBMLEVBQVc2SyxTQUFTTyxxQkFBdUJwTCxFQUFXamlDLEdBQ3RJLElBQ0VpaUMsRUFBV2ppQyxHQUFHK2lCLFdBQVdTLFlBQVl5ZSxFQUFXamlDLElBQ2hEaWlDLEVBQVc2SyxTQUFTcmpCLE9BQU8xSCxhQUFha2dCLEVBQVdqaUMsR0FBSWlpQyxFQUFXNkssU0FBU08sb0JBRTdFLE1BQU10N0MsR0FDSnVGLFFBQVEwTCxNQUFNalIsU0FRZmt3QyxFQUFXNkssU0FBU3JqQixTQUFXd1ksRUFBV2ppQyxHQUFHNGlDLGVBQWlCWCxFQUFXamlDLEdBQUdxdEMsc0JBQzdFcEwsRUFBV2ppQyxHQUFHK2lCLFdBQVdTLFlBQVl5ZSxFQUFXamlDLElBQ2hEaWlDLEVBQVc2SyxTQUFTcmpCLE9BQU9oUyxZQUFZd3FCLEVBQVdqaUMsS0FLeEQsSUFBSXFnQyxFQUFVNEIsRUFBVzVCLFFBQ3pCLEdBQW1DLFdBQWhDNEIsRUFBVzVCLFFBQVF2d0IsU0FBdUIsQ0FJM0MsTUFBTXc5QixFQUFhckwsRUFBV2ppQyxHQUFHdVgsTUFBTWlOLElBQ2pDK29CLEVBQWN0TCxFQUFXamlDLEdBQUd1WCxNQUFNdFYsS0FDbEN1ckMsRUFBbUJ2TCxFQUFXamlDLEdBQUd1WCxNQUFNMGYsVUFDdkN3VyxFQUFrQnhMLEVBQVdqaUMsR0FBR3VYLE1BQU16SCxTQUc1Q215QixFQUFXamlDLEdBQUd1WCxNQUFNaU4sSUFBTXlkLEVBQVc1QixRQUFRZ0Isa0JBQWtCN2MsSUFBTSxLQUNyRXlkLEVBQVdqaUMsR0FBR3VYLE1BQU10VixLQUFPZ2dDLEVBQVc1QixRQUFRZ0Isa0JBQWtCcC9CLEtBQU8sS0FDdkVnZ0MsRUFBV2ppQyxHQUFHdVgsTUFBTTBmLFVBQVksR0FDaENnTCxFQUFXamlDLEdBQUd1WCxNQUFNekgsU0FBVyxHQUcvQixNQUFNb3lCLEVBQUssR0FBa0NELEVBQVdqaUMsSUFDbERxaEMsRUFBb0IsQ0FDeEI3YyxJQUFLeWQsRUFBVzVCLFFBQVFnQixrQkFBa0I3YyxLQUFPeWQsRUFBVzVCLFFBQVFrQixXQUFXL2MsSUFBTTBkLEVBQUcxZCxLQUN4RnZpQixLQUFNZ2dDLEVBQVc1QixRQUFRZ0Isa0JBQWtCcC9CLE1BQVFnZ0MsRUFBVzVCLFFBQVFrQixXQUFXdC9CLEtBQU9pZ0MsRUFBR2pnQyxNQUMzRkMsTUFBTyxFQUNQdWlCLE9BQVEsR0FJVndkLEVBQVdqaUMsR0FBR3VYLE1BQU1pTixJQUFNOG9CLEVBQzFCckwsRUFBV2ppQyxHQUFHdVgsTUFBTXRWLEtBQU9zckMsRUFDM0J0TCxFQUFXamlDLEdBQUd1WCxNQUFNMGYsVUFBWXVXLEVBQ2hDdkwsRUFBV2ppQyxHQUFHdVgsTUFBTXpILFNBQVcyOUIsRUFHL0JwTSxFQUFrQm4vQixNQUFRbS9CLEVBQWtCcC9CLEtBQU9nZ0MsRUFBVzVCLFFBQVFnQixrQkFBa0IvZSxNQUN4RitlLEVBQWtCNWMsT0FBUzRjLEVBQWtCN2MsSUFBTXlkLEVBQVc1QixRQUFRZ0Isa0JBQWtCOWMsT0FHeEY4YixFQUFVLElBQ0w0QixFQUFXNUIsUUFDZGdCLGtCQUFtQixJQUNkWSxFQUFXNUIsUUFBUWdCLHFCQUNuQkEsSUFNVCxNQUFPLElBQ0ZZLEVBQ0grRyxnQkFBZ0IsRUFDaEJwRixZQUFhLEtBQ2J2RCxjQUtEbnhDLEtBQUswOEMsZUFBZTdvQixZQUFZN3pCLEtBQUswOEMsZUFBZTdvQixXQUFXUyxZQUFZdDBCLEtBQUswOEMsZ0JBR25GMThDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBa0NoMkMsS0FBS20wQyxZQUFZLEtBRXJFbjBDLEtBQUtzVixNQUFNMGdDLFNBQVNqQixJQUFjLElBR2xDLE1BQU1odEMsRUFBUS9ILEtBQUtzVixNQUFNaStCLFdBQVd0QyxZQUFZNXVDLEtBQUkwd0MsSUFDM0MsSUFDRkEsRUFDSDVCLFFBQVMsR0FBc0I0QixFQUFXamlDLFFBRzlDOVEsS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUFrQ2p1QyxJQUV0RC9ILEtBQUtzVixNQUFNMGdDLFNBQVNqQixJQUFjLElBR2xDLE1BQU0vQixFQUFLLEdBQTBCaHpDLEtBQUttMEMsV0FDcEN3SCxFQUFnQjM3QyxLQUFLc1YsTUFBTWkrQixXQUFXb0YsTUFBTTdGLFdBQzVDakMsRUFBUyxHQUEyQjd3QyxLQUFLNjRDLGNBQWU3RixHQUMzRG5DLEVBQU81cUIsSUFBTTAxQixFQUFjMTFCLEdBQUs0cUIsRUFBT3piLElBQU11bUIsRUFBY3ZtQixHQUM1RHAxQixLQUFLazdDLGVBQWVySyxHQUduQjd3QyxLQUFLOHpDLE1BQU1nRSxRQUFROTNDLEtBQUs4ekMsTUFBTWdFLE9BQU85M0MsS0FBS20wQyxjQVFqRDhKLDBCQUEwQmxMLEVBQTZCNEssR0FDckQsT0FBMEIsT0FBdkJBLEdBRUR2MUMsUUFBUW8yQyxLQUFLLDJEQUNOekwsR0FHQSxJQUNGQSxFQUNINkssU0FBVSxJQUNMN0ssRUFBVzZLLFNBQ2RyakIsT0FBUW9qQixJQVdoQkssNkJBQTZCakwsRUFBNkIrSyxHQUN4RCxPQUFnQyxPQUE3QkEsRUFBZ0JXLFVBRWpCcjJDLFFBQVFvMkMsS0FBSyxtREFDTnpMLElBR1AveUMsS0FBSzArQyxhQUFhWixHQUNYLElBQ0YvSyxFQUNINkssU0FBVUUsSUFTaEJZLGFBQWE5OUIsR0FDUkEsRUFBU3U5QixtQkFDVnY5QixFQUFTdTlCLG1CQUFtQnRxQixXQUFXaEIsYUFBYTd5QixLQUFLMDhDLGVBQWdCOTdCLEVBQVN1OUIsb0JBRTVFdjlCLEVBQVMyWixRQUNmM1osRUFBUzJaLE9BQU9oUyxZQUFZdm9CLEtBQUswOEMsZ0JBRW5DLElBQUlpQyxFQUF1QixHQUFrQzMrQyxLQUFLMDhDLGdCQUM5RGtDLEVBQTJCNStDLEtBQUswOEMsZUFBZW1DLHVCQUF5QixHQUFrQzcrQyxLQUFLMDhDLGVBQWVtQyx3QkFBeUMsS0FDdktDLEVBQTJCOStDLEtBQUswOEMsZUFBZXlCLG1CQUFxQixHQUFrQ24rQyxLQUFLMDhDLGVBQWV5QixvQkFBcUMsT0FDOUpTLEdBQWdCRCxFQUFTcnBCLEtBQU9zcEIsRUFBYXJwQixXQUMzQ3VwQixHQUFnQkgsRUFBU3BwQixRQUFVdXBCLEVBQWF4cEIsTUFFckR0MUIsS0FBSzA4QyxlQUFlcjBCLE1BQU0rSyxNQUFRd3JCLEVBQWVBLEVBQWF4ckIsTUFBUSxLQUFPMHJCLEVBQWVBLEVBQWExckIsTUFBUSxLQUFPLE9BQ3hIcHpCLEtBQUswOEMsZUFBZXIwQixNQUFNZ04sT0FBUyxNQUluQ3IxQixLQUFLMDhDLGVBQWVyMEIsTUFBTWdOLE9BQVN1cEIsRUFBZUEsRUFBYXZwQixPQUFTLEtBQU95cEIsRUFBZUEsRUFBYXpwQixPQUFTLEtBQU8sT0FDM0hyMUIsS0FBSzA4QyxlQUFlcjBCLE1BQU0rSyxNQUFRLEtBVXRDMnFCLG9CQUFvQkgsRUFBdUIzM0IsRUFBR21QLEdBRTVDLElBQUkycEIsRUFBVS8rQyxLQUFLNjRDLGNBQWNsOUMsY0FBYyxPQUMvQ29qRCxFQUFRM2hDLFVBQVVqSCxJQUFJLFdBRXRCLElBQUkybkMsRUFBNEIsQ0FDOUJLLG1CQUFvQixLQUNwQk0sU0FBVSxLQUNWbGtCLE9BQVEsTUFFVixJQUFJLElBQUl5a0IsRUFBSSxFQUFHQSxFQUFNcEIsRUFBU2haLFNBQVNqakMsT0FBUXE5QyxJQUFPLENBQ3BELElBQUlDLEVBQVVyQixFQUFTaFosU0FBU29hLEdBQ2hDcEIsRUFBUy9xQixhQUFha3NCLEVBQVNFLEdBQy9CLElBQUlSLEVBQVd6K0MsS0FBS2svQyxZQUFZSCxFQUFTOTRCLEVBQUdtUCxJQUNaLE9BQTdCMG9CLEVBQWdCVyxVQUFxQlgsRUFBZ0JXLFNBQVdBLEtBQ2pFWCxFQUFnQkssbUJBQXFCYyxFQUNyQ25CLEVBQWdCdmpCLE9BQVNxakIsRUFDekJFLEVBQWdCVyxTQUFXQSxHQUU3QmIsRUFBU3RwQixZQUFZeXFCLEdBR3ZCbkIsRUFBU3IxQixZQUFZdzJCLEdBQ3JCLElBQUlOLEVBQVd6K0MsS0FBS2svQyxZQUFZSCxFQUFTOTRCLEVBQUdtUCxHQVc1QyxPQVZnQyxPQUE3QjBvQixFQUFnQlcsVUFBcUJYLEVBQWdCVyxTQUFXQSxLQUNqRVgsRUFBZ0JLLG1CQUFxQixLQUNyQ0wsRUFBZ0J2akIsT0FBU3FqQixFQUN6QkUsRUFBZ0JXLFNBQVdBLEdBRTdCYixFQUFTdHBCLFlBQVl5cUIsR0FHbEJqQixFQUFnQksscUJBQXVCbitDLEtBQUswOEMsaUJBQzdDb0IsRUFBZ0JLLG1CQUFxQm4rQyxLQUFLMDhDLGVBQWV5QixvQkFDcERMLEVBT1RvQixZQUFZcHVDLEVBQWlCbVYsRUFBV21QLEdBQ3RDLE1BQU00ZCxFQUFLbGlDLEVBQUdzdUIsd0JBQ1IrZixFQUNEbk0sRUFBR2pnQyxLQUFRaWdDLEVBQUc1ZixNQUFNLEVBRG5CK3JCLEVBRURuTSxFQUFHMWQsSUFBTzBkLEVBQUczZCxPQUFPLEVBRXpCLE9BQU90NEIsS0FBS3FpRCxNQUFPRCxFQUFXbDVCLElBQU1rNUIsRUFBV2w1QixJQUFRazVCLEVBQVcvcEIsSUFBTStwQixFQUFXL3BCLEtDNWFoRixNQUFNaXFCLEdBRVg5ekMsWUFBb0JzdEMsRUFBcUNDLEVBQXVDeGpDLEVBQTJCdytCLEdBQXZHLEtBQUErRSxnQkFBcUMsS0FBQUMsa0JBQXVDLEtBQUF4akMsUUFBMkIsS0FBQXcrQixRQVFuSCxLQUFBMkIsZUFBb0MsR0FQMUN6MUMsS0FBS3MvQyxRQUFVLEtBQ2Z0L0MsS0FBS3kxQyxlQUFlaHlDLEtBQUs2UixFQUFNMmpDLFdBQzdCLENBQUNseEMsRUFBc0JpeEMsSUFBNkJoNUMsS0FBS3UvQyxpQkFBaUJ4M0MsRUFBT2l4QyxLQUNoRmp4QyxHQUFzQkEsRUFBTTh0QyxNQUtqQ0YsVUFDRTMxQyxLQUFLeTFDLGVBQWVybkMsU0FBUXduQyxHQUFLQSxNQVFuQzJKLGlCQUFpQngzQyxFQUFzQml4QyxHQUNyQyxHQUFHQSxFQUFVN3NCLE9BQVNwa0IsRUFBTW9rQixLQWlCMUIsT0FoQkduc0IsS0FBS3MvQyxVQUNOdC9DLEtBQUtzL0MsUUFBUXJFLFVBQ2JqN0MsS0FBS3MvQyxRQUFVLE1BR2pCdC9DLEtBQUs4NEMsZ0JBQWdCemIsS0FBS2pnQixVQUFVdVYsT0FDbEM1cUIsRUFBTW9rQixPQUFTLFFBQW9CLGdCQUFrQixvQkFDckRwa0IsRUFBTW9rQixPQUFTLFVBQXNCLGdCQUFrQixvQkFDdkRwa0IsRUFBTW9rQixPQUFTLFFBQW9CLGVBQWlCLG9CQUV0RG5zQixLQUFLODRDLGdCQUFnQnpiLEtBQUtqZ0IsVUFBVWpILElBQ2xDcE8sRUFBTW9rQixPQUFTLFFBQW9CLGdCQUFrQixvQkFDckRwa0IsRUFBTW9rQixPQUFTLFVBQXNCLGdCQUFrQixvQkFDdkRwa0IsRUFBTW9rQixPQUFTLFFBQW9CLGVBQWlCLG9CQUcvQ3BrQixFQUFNb2tCLE1BQ1gsS0FBSyxRQUNILE1BQ0YsS0FBSyxRQUNIbnNCLEtBQUtzL0MsUUFBVSxJQUFJN0MsR0FBWXo4QyxLQUFLNjRDLGNBQWU3NEMsS0FBSzg0QyxnQkFBaUI5NEMsS0FBS3NWLE1BQU90VixLQUFLOHpDLE9BQzFGLE1BQ0YsS0FBSyxVQUNIOXpDLEtBQUtzL0MsUUFBVSxJQUFJakUsR0FBY3I3QyxLQUFLNjRDLGNBQWU3NEMsS0FBSzg0QyxnQkFBaUI5NEMsS0FBS3NWLE1BQU90VixLQUFLOHpDLE9BQzVGLE1BQ0YsS0FBSyxRQUNIOXpDLEtBQUtzL0MsUUFBVSxJQUFJdkQsR0FBWS83QyxLQUFLNjRDLGNBQWU3NEMsS0FBSzg0QyxnQkFBaUI5NEMsS0FBS3NWLE1BQU90VixLQUFLOHpDLFMsSUM3Q3hGMEwsR0F3QkFDLEdBT0FDLEdBeUJBQyxHLFdDOURSQyxHQUFlLFdBQ2pCLE9BQU83aUQsS0FBSzB3QixTQUFTNXdCLFNBQVMsSUFBSWdqRCxVQUFVLEdBQUdoN0MsTUFBTSxJQUFJaWhCLEtBQUssTUFHNUQxZixHQUFjLENBQ2hCMDVDLEtBQU0sZUFBaUJGLEtBQ3ZCbndCLFFBQVMsa0JBQW9CbXdCLEtBQzdCRyxxQkFBc0IsV0FDcEIsTUFBTywrQkFBaUNILE9BUTVDLFNBQVNJLEdBQWNsOEMsR0FDckIsR0FBbUIsaUJBQVJBLEdBQTRCLE9BQVJBLEVBQWMsT0FBTyxFQUdwRCxJQUZBLElBQUlxWCxFQUFRclgsRUFFNEIsT0FBakN4SCxPQUFPNmIsZUFBZWdELElBQzNCQSxFQUFRN2UsT0FBTzZiLGVBQWVnRCxHQUdoQyxPQUFPN2UsT0FBTzZiLGVBQWVyVSxLQUFTcVgsRUE2QnhDLFNBQVM4a0MsR0FBWXowQyxFQUFTMDBDLEVBQWdCQyxHQUM1QyxJQUFJQyxFQUVKLEdBQThCLG1CQUFuQkYsR0FBcUQsbUJBQWJDLEdBQStDLG1CQUFiQSxHQUFtRCxtQkFBakJwZ0QsVUFBVSxHQUMvSCxNQUFNLElBQUlrRixNQUFNLHVKQVFsQixHQUw4QixtQkFBbkJpN0MsUUFBcUQsSUFBYkMsSUFDakRBLEVBQVdELEVBQ1hBLE9BQWlCOWdELFFBR0ssSUFBYitnRCxFQUEwQixDQUNuQyxHQUF3QixtQkFBYkEsRUFDVCxNQUFNLElBQUlsN0MsTUFBTSwyQ0FHbEIsT0FBT2s3QyxFQUFTRixHQUFURSxDQUFzQjMwQyxFQUFTMDBDLEdBR3hDLEdBQXVCLG1CQUFaMTBDLEVBQ1QsTUFBTSxJQUFJdkcsTUFBTSwwQ0FHbEIsSUFBSW83QyxFQUFpQjcwQyxFQUNqQmIsRUFBZXUxQyxFQUNmSSxFQUFtQixHQUNuQkMsRUFBZ0JELEVBQ2hCRSxHQUFnQixFQVNwQixTQUFTQyxJQUNIRixJQUFrQkQsSUFDcEJDLEVBQWdCRCxFQUFpQnJpRCxTQVVyQyxTQUFTczFDLElBQ1AsR0FBSWlOLEVBQ0YsTUFBTSxJQUFJdjdDLE1BQU0sd01BR2xCLE9BQU8wRixFQTJCVCxTQUFTc3VDLEVBQVU5YyxHQUNqQixHQUF3QixtQkFBYkEsRUFDVCxNQUFNLElBQUlsM0IsTUFBTSwyQ0FHbEIsR0FBSXU3QyxFQUNGLE1BQU0sSUFBSXY3QyxNQUFNLDZUQUdsQixJQUFJeTdDLEdBQWUsRUFHbkIsT0FGQUQsSUFDQUYsRUFBYzk4QyxLQUFLMDRCLEdBQ1osV0FDTCxHQUFLdWtCLEVBQUwsQ0FJQSxHQUFJRixFQUNGLE1BQU0sSUFBSXY3QyxNQUFNLGtLQUdsQnk3QyxHQUFlLEVBQ2ZELElBQ0EsSUFBSS8rQyxFQUFRNitDLEVBQWNqMkMsUUFBUTZ4QixHQUNsQ29rQixFQUFjbi9DLE9BQU9NLEVBQU8sR0FDNUI0K0MsRUFBbUIsT0E4QnZCLFNBQVN0SyxFQUFTbHVDLEdBQ2hCLElBQUtrNEMsR0FBY2w0QyxHQUNqQixNQUFNLElBQUk3QyxNQUFNLDJFQUdsQixRQUEyQixJQUFoQjZDLEVBQU92SyxLQUNoQixNQUFNLElBQUkwSCxNQUFNLHNGQUdsQixHQUFJdTdDLEVBQ0YsTUFBTSxJQUFJdjdDLE1BQU0sc0NBR2xCLElBQ0V1N0MsR0FBZ0IsRUFDaEI3MUMsRUFBZTAxQyxFQUFlMTFDLEVBQWM3QyxHQUM1QyxRQUNBMDRDLEdBQWdCLEVBS2xCLElBRkEsSUFBSUcsRUFBWUwsRUFBbUJDLEVBRTFCcjhDLEVBQUksRUFBR0EsRUFBSXk4QyxFQUFVaC9DLE9BQVF1QyxLQUVwQ2k0QixFQURld2tCLEVBQVV6OEMsTUFJM0IsT0FBTzRELEVBY1QsU0FBUzg0QyxFQUFlQyxHQUN0QixHQUEyQixtQkFBaEJBLEVBQ1QsTUFBTSxJQUFJNTdDLE1BQU0sOENBR2xCbzdDLEVBQWlCUSxFQUtqQjdLLEVBQVMsQ0FDUHo0QyxLQUFNNkksR0FBWXFwQixVQVd0QixTQUFTK0IsSUFDUCxJQUFJc3ZCLEVBRUFDLEVBQWlCOUgsRUFDckIsT0FBTzZILEVBQU8sQ0FTWjdILFVBQVcsU0FBbUJoZSxHQUM1QixHQUF3QixpQkFBYkEsR0FBc0MsT0FBYkEsRUFDbEMsTUFBTSxJQUFJbDhCLFVBQVUsMENBR3RCLFNBQVNpaUQsSUFDSC9sQixFQUFTL3lCLE1BQ1greUIsRUFBUy95QixLQUFLcXJDLEtBTWxCLE9BRkF5TixJQUVPLENBQ0xDLFlBRmdCRixFQUFlQyxPQUs3QixNQUFnQixXQUN0QixPQUFPaGhELE1BQ044Z0QsRUFTTCxPQUhBOUssRUFBUyxDQUNQejRDLEtBQU02SSxHQUFZMDVDLFFBRWJNLEVBQVEsQ0FDYnBLLFNBQVVBLEVBQ1ZpRCxVQUFXQSxFQUNYMUYsU0FBVUEsRUFDVnFOLGVBQWdCQSxJQUNULE1BQWdCcHZCLEVBQVk0dUIsRUEwQnZDLFNBQVNjLEdBQThCLytDLEVBQUsyRixHQUMxQyxJQUFJb0YsRUFBYXBGLEdBQVVBLEVBQU92SyxLQUVsQyxNQUFPLFVBRGlCMlAsR0FBYyxXQUFjb0MsT0FBT3BDLEdBQWMsS0FBUSxhQUMzQyxjQUFpQi9LLEVBQWhELGlMQWdFVCxTQUFTZy9DLEdBQWdCQyxHQUl2QixJQUhBLElBQUlDLEVBQWMva0QsT0FBT3dFLEtBQUtzZ0QsR0FDMUJFLEVBQWdCLEdBRVhwOUMsRUFBSSxFQUFHQSxFQUFJbTlDLEVBQVkxL0MsT0FBUXVDLElBQUssQ0FDM0MsSUFBSS9CLEVBQU1rL0MsRUFBWW45QyxHQVFPLG1CQUFsQms5QyxFQUFTai9DLEtBQ2xCbS9DLEVBQWNuL0MsR0FBT2kvQyxFQUFTai9DLElBSWxDLElBU0lvL0MsRUFUQUMsRUFBbUJsbEQsT0FBT3dFLEtBQUt3Z0QsR0FXbkMsS0FqRUYsU0FBNEJGLEdBQzFCOWtELE9BQU93RSxLQUFLc2dELEdBQVVoekMsU0FBUSxTQUFVak0sR0FDdEMsSUFBSXFKLEVBQVU0MUMsRUFBU2ovQyxHQUt2QixRQUE0QixJQUpUcUosT0FBUXBNLEVBQVcsQ0FDcEM3QixLQUFNNkksR0FBWTA1QyxPQUlsQixNQUFNLElBQUk3NkMsTUFBTSxZQUFlOUMsRUFBZixpUkFHbEIsUUFFTyxJQUZJcUosT0FBUXBNLEVBQVcsQ0FDNUI3QixLQUFNNkksR0FBWTI1Qyx5QkFFbEIsTUFBTSxJQUFJOTZDLE1BQU0sWUFBZTlDLEVBQWYsNkVBQTBHaUUsR0FBWTA1QyxLQUF0SCxrVEFvRGxCMkIsQ0FBbUJILEdBQ25CLE1BQU96K0MsR0FDUDArQyxFQUFzQjErQyxFQUd4QixPQUFPLFNBQXFCa0YsRUFBT0QsR0FLakMsUUFKYyxJQUFWQyxJQUNGQSxFQUFRLElBR053NUMsRUFDRixNQUFNQSxFQWNSLElBWDJDLElBUXZDRyxHQUFhLEVBQ2JqNUMsRUFBWSxHQUVQeXlCLEVBQUssRUFBR0EsRUFBS3NtQixFQUFpQjcvQyxPQUFRdTVCLElBQU0sQ0FDbkQsSUFBSXp4QixFQUFPKzNDLEVBQWlCdG1CLEdBQ3hCMXZCLEVBQVU4MUMsRUFBYzczQyxHQUN4Qms0QyxFQUFzQjU1QyxFQUFNMEIsR0FDNUJtNEMsRUFBa0JwMkMsRUFBUW0yQyxFQUFxQjc1QyxHQUVuRCxRQUErQixJQUFwQjg1QyxFQUFpQyxDQUMxQyxJQUFJQyxFQUFlWCxHQUE4QnozQyxFQUFNM0IsR0FDdkQsTUFBTSxJQUFJN0MsTUFBTTQ4QyxHQUdsQnA1QyxFQUFVZ0IsR0FBUW00QyxFQUNsQkYsRUFBYUEsR0FBY0UsSUFBb0JELEVBSWpELE9BREFELEVBQWFBLEdBQWNGLEVBQWlCNy9DLFNBQVdyRixPQUFPd0UsS0FBS2lILEdBQU9wRyxRQUN0RDhHLEVBQVlWLEdBc0RwQyxTQUFTc0csR0FBZ0J2SyxFQUFLM0IsRUFBSzdFLEdBWWpDLE9BWEk2RSxLQUFPMkIsRUFDVHhILE9BQU80SixlQUFlcEMsRUFBSzNCLEVBQUssQ0FDOUI3RSxNQUFPQSxFQUNQMk4sWUFBWSxFQUNadUQsY0FBYyxFQUNkQyxVQUFVLElBR1ozSyxFQUFJM0IsR0FBTzdFLEVBR053RyxFQUdULFNBQVMrSixHQUFRckwsRUFBUXNMLEdBQ3ZCLElBQUloTixFQUFPeEUsT0FBT3dFLEtBQUswQixHQVN2QixPQVBJbEcsT0FBT3lSLHVCQUNUak4sRUFBSzJDLEtBQUtwRSxNQUFNeUIsRUFBTXhFLE9BQU95UixzQkFBc0J2TCxJQUdqRHNMLElBQWdCaE4sRUFBT0EsRUFBSytLLFFBQU8sU0FBVW9DLEdBQy9DLE9BQU8zUixPQUFPbVIseUJBQXlCakwsRUFBUXlMLEdBQUtoRCxlQUUvQ25LLEVBR1QsU0FBU2doRCxHQUFlNXpDLEdBQ3RCLElBQUssSUFBSWhLLEVBQUksRUFBR0EsRUFBSW5FLFVBQVU0QixPQUFRdUMsSUFBSyxDQUN6QyxJQUFJaUssRUFBeUIsTUFBaEJwTyxVQUFVbUUsR0FBYW5FLFVBQVVtRSxHQUFLLEdBRS9DQSxFQUFJLEVBQ04ySixHQUFRTSxHQUFRLEdBQU1DLFNBQVEsU0FBVWpNLEdBQ3RDa00sR0FBZ0JILEVBQVEvTCxFQUFLZ00sRUFBT2hNLE9BRTdCN0YsT0FBT2dTLDBCQUNoQmhTLE9BQU9pUyxpQkFBaUJMLEVBQVE1UixPQUFPZ1MsMEJBQTBCSCxJQUVqRU4sR0FBUU0sR0FBUUMsU0FBUSxTQUFVak0sR0FDaEM3RixPQUFPNEosZUFBZWdJLEVBQVEvTCxFQUFLN0YsT0FBT21SLHlCQUF5QlUsRUFBUWhNLE9BS2pGLE9BQU8rTCxFQWFULFNBQVM2ekMsS0FDUCxJQUFLLElBQUl2NEMsRUFBT3pKLFVBQVU0QixPQUFRcWdELEVBQVEsSUFBSXhoRCxNQUFNZ0osR0FBT0MsRUFBTyxFQUFHQSxFQUFPRCxFQUFNQyxJQUNoRnU0QyxFQUFNdjRDLEdBQVExSixVQUFVMEosR0FHMUIsT0FBcUIsSUFBakJ1NEMsRUFBTXJnRCxPQUNELFNBQVVzZ0QsR0FDZixPQUFPQSxHQUlVLElBQWpCRCxFQUFNcmdELE9BQ0RxZ0QsRUFBTSxHQUdSQSxFQUFNejlDLFFBQU8sU0FBVStjLEVBQUd1RixHQUMvQixPQUFPLFdBQ0wsT0FBT3ZGLEVBQUV1RixFQUFFeG5CLFdBQU0sRUFBUVUsZ0JDL2tCeEIsTUFBTW1pRCxHQUFiLGNBb0NZLEtBQUE1c0MsTUFBc0I0c0MsR0FBV2pDLGNBbkMzQyxDQUFDNTRDLE9BQU9tcUIsY0FDTixPQUFPeHhCLEtBTUNpdUMscUJBT1IsT0FBT2dTLEdBTFNrQixHQUFnQixDQUM5QmxRLFlBQWEsQ0FBQ2xwQyxFQUErQkQsSWJLeEIsRUFBQ0MsRUFBOEIsR0FBSUQsS0FDNUQsT0FBT0EsRUFBT3ZLLE1BQ1osS0FBS2k1QyxHQUNILE1BQU8sSUFDRnp1QyxFQUNIRCxFQUFPaXJDLFlBRVgsS0FBSyxHQUNILE1BQU8sR0FDVCxLQUFLMEQsR0FDSCxPQUFPMXVDLEVBQU04RCxRQUFRa25DLEdBQWdDQSxFQUFXMzlCLEtBQU90TixFQUFPaXJDLFdBQVczOUIsS0FDM0YsS0FBS21oQyxHQUNILE9BQU94dUMsRUFBTTFGLEtBQUswd0MsR0FBZ0NqckMsRUFBT21wQyxZQUFZLytCLE1BQUt5NUIsR0FBS0EsRUFBRXYyQixLQUFPMjlCLEVBQVczOUIsTUFBTzI5QixJQUM1RyxRQUNFLE9BQU9ockMsSWFuQmlELENoQllyQyxFQUFDQSxFQUE4QixHQUFJRCxLQUMxRCxPQUFRQSxFQUFPdkssTUFDYixJQTdCVyxtQkE4QlQsT0FBT3dLLEVBQU0xRixLQUFJMHdDLEdBQWNBLElBQWVqckMsRUFBT2lyQyxXQUFhLElBQzdEQSxFQUNITSxVQUFXTixFQUFXTSxVQUNwQk4sSUFDTixLQUFLd0MsR0FDSCxPQUFPeHRDLEVBQU0xRixLQUFJMHdDLEdBQWNBLElBQWVqckMsRUFBT2lyQyxXQUFhLElBQzdEQSxFQUNITSxVQUFVLEdBQ1JOLElBQ04sS0FBS3NDLEdBQ0gsT0FBT3R0QyxFQUFNMUYsS0FBSTB3QyxJQUFjLElBQzFCQSxFQUNITSxVQUFVLE1BRWQsS0FBS2lDLEdBQ0gsT0FBT3Z0QyxFQUFNMUYsS0FBSTB3QyxHQUFjQSxJQUFlanJDLEVBQU9pckMsV0FBYSxJQUM3REEsRUFDSE0sVUFBVSxHQUNSTixJQUNOLEtBQUtxQyxHQUNILE9BQU9ydEMsRUFBTTFGLEtBQUkwd0MsR0FBY2pyQyxFQUFPbXBDLFlBQVloZ0MsU0FBUzhoQyxHQUFjLElBQ3BFQSxFQUNITSxVQUFVLEdBQ1IsSUFDQ04sRUFDSE0sVUFBVSxLQUVkLFFBQ0UsT0FBT3RyQyxJZ0IzQzZFb3NDLENBQVVwc0MsRUFBT0QsR0FBU0EsR0FDOUcrdEMsR0FBSSxDQUFDOXRDLEVBQWdCRCxJakJlVCxFQUFDQyxFQWdDWSxNQUN0QixDQUNMb2tCLEtBQU0sUUFDTjZvQixZQUFZLEVBQ1pjLGdCQUFnQixFQUNoQnZxQixPTDZCZ0QsQ0FBRStKLElBQUssS0FBTXZpQixLQUFNLEtBQU13aUIsT0FBUSxLQUFNdmlCLE1BQU8sTUs1QjlGd3FDLGNBQWMsSUF0Q08yRSxHQUFtQnI2QyxLQUMxQyxPQUFPQSxFQUFPdkssTUFDWixLQUFLcTNDLEdBQ0gsTUFBTyxJQUNGN3NDLEVBQ0hva0IsS0FBTXJrQixFQUFPcWtCLE1BRWpCLEtBQUsyb0IsR0FDSCxNQUFPLElBQ0Yvc0MsRUFDSGl0QyxXQUFZbHRDLEVBQU9rdEMsWUFFdkIsS0FBS0MsR0FDSCxNQUFPLElBQ0ZsdEMsRUFDSCt0QyxlQUFnQmh1QyxFQUFPZ3VDLGdCQUUzQixLQUFLWixHQUNILE1BQU8sSUFDRm50QyxFQUNId2pCLE9BQVF6akIsRUFBT3lqQixRQUVuQixLQUFLNHBCLEdBQ0gsTUFBTyxJQUNGcHRDLEVBQ0h5MUMsYUFBYzExQyxFQUFPMDFDLGNBRXpCLFFBQ0UsT0FBT3oxQyxJaUIzQ3lCOHRDLENBQUc5dEMsRUFBT0QsR0FDMUM2d0MsTUFBTyxDQUFDNXdDLEVBQW1CRCxJZEFaLEVBQUNDLEVBdUJiLENBQ0wrcUMsV0FBWSxDQUFDN3NCLEVBQUcsRUFBR21QLEVBQUcsR0FDdEJpaEIsV0FBWSxDQUFDcHdCLEVBQUcsR0FBSW1QLEVBQUcsR0FBSStkLFdBQVksSUFDdkNzRSxVQUFXLENBQ1RqRCxVQUFXLEVBQ1hDLFVBQVcsRUFDWHZVLE9BQVEsRUFDUkUsT0FBUSxFQUNScU4sVUFBVSxFQUNWdi9CLE9BQVEsS0FDUm9xQyxRQUFTLEtBakNrRHh3QyxLQUMvRCxPQUFPQSxFQUFPdkssTUFDWixLQUFLMjRDLEdBQ0gsTUFBTyxJQUNGbnVDLEVBQ0grcUMsV0FBWWhyQyxFQUFPZ3JDLFlBRXZCLEtBQUtxRCxHQUNILE1BQU8sSUFDRnB1QyxFQUNIc3VDLFdBQVl2dUMsRUFBT3V1QyxZQUV2QixLQUFLQyxHQUNILE1BQU8sSUFDRnZ1QyxFQUNIMHZDLFVBQVczdkMsRUFBTzJ2QyxXQUV0QixRQUNFLE9BQU8xdkMsSWNsQitCNHdDLENBQWlCNXdDLEVBQU9ELEtEd2xCcEUsV0FDRSxJQUFLLElBQUkwQixFQUFPekosVUFBVTRCLE9BQVF5Z0QsRUFBYyxJQUFJNWhELE1BQU1nSixHQUFPQyxFQUFPLEVBQUdBLEVBQU9ELEVBQU1DLElBQ3RGMjRDLEVBQVkzNEMsR0FBUTFKLFVBQVUwSixHQUdoQyxPQUFPLFNBQVV3MkMsR0FDZixPQUFPLFdBQ0wsSUFBSTNxQyxFQUFRMnFDLEVBQVk1Z0QsV0FBTSxFQUFRVSxXQUVsQ3NpRCxFQUFZLFdBQ2QsTUFBTSxJQUFJcDlDLE1BQU0sMkhBR2RxOUMsRUFBZ0IsQ0FDbEIvTyxTQUFVaitCLEVBQU1pK0IsU0FDaEJ5QyxTQUFVLFdBQ1IsT0FBT3FNLEVBQVVoakQsV0FBTSxFQUFRVSxhQUcvQndpRCxFQUFRSCxFQUFZLy9DLEtBQUksU0FBVW1nRCxHQUNwQyxPQUFPQSxFQUFXRixNQUdwQixPQUFPUixHQUFlLEdBQUl4c0MsRUFBTyxDQUMvQjBnQyxTQUZGcU0sRUFBWU4sR0FBUTFpRCxXQUFNLEVBQVFrakQsRUFBdEJSLENBQTZCenNDLEVBQU0wZ0MsY0M1bUJyQnlNLENBQWdCUCxHQUFXUSw4QkFJakR6VSxvQ0FBbUMsU0FBRXNGLElBQzNDLE9BQU9yckMsR0FBUUosR0FDVEEsRUFBTzZ1QyxpQkFDVHZ1QyxRQUFRdTZDLEtBQUssbUJBQW9CNzZDLEdBTTVCLE1BSGVJLEVBQUtKLEdBbUIvQm14QyxVQUFvQmMsRUFBd0RqbkIsRUFBTyxDQUFDL3FCLEdBQTBCQSxJQUM1RyxJQUFJNEMsRUFBZW1vQixFQUFPOXlCLEtBQUtzVixNQUFNaStCLFlBVXJDLE9BQU92ekMsS0FBS3NWLE1BQU0yakMsV0FSRyxLQUNuQixJQUFJeHdDLEVBQVlxcUIsRUFBTzl5QixLQUFLc1YsTUFBTWkrQixZQUNsQyxHQUFJOXFDLElBQWNrQyxFQUFjLENBQzlCLElBQUlxdUMsRUFBWXJ1QyxFQUNoQkEsRUFBZWxDLEVBQ2ZzeEMsRUFBU3B2QyxFQUFjcXVDLE9BTTdCNEosTUFBZ0I5K0MsR0FDZCxJQUFJNEksRUFNSixHQUx5QkEsRUFBdEI1SSxhQUFldEQsTUFBY3NELEVBQW1CN0YsUUFDM0M2RixhQUFleEgsT0FBYyxJQUM3QndILEdBRUdBLEVBQ1JBLElBQVE0SSxFQUFLLEtBQU0sYUFDdEIsT0FBT0EsRUFFVHNwQyxTQUFTbHVDLEVBQWFxbUMsRUFBa0IsTUFHdEMsT0FGQW51QyxLQUFLc1YsTUFBTTBnQyxTQUFTbHVDLEdBQ2pCcW1DLEdBQUtBLElBQ0QsS0FFVG9GLFdBQ0UsT0FBT3Z6QyxLQUFLc1YsTUFBTWkrQixXQUVwQnFOLGlCQUNFLE1BQU0sSUFBSTM3QyxNQUFNLG9CQzNFYixNQUFNNDlDLEdBdUJYLFlBQTRCMTZCLEVBQWtDMjZCLEVBQW9DeHRDLEdBQXRFLEtBQUE2UyxTQUFrQyxLQUFBMjZCLFVBQW9DLEtBQUF4dEMsUUF0QnhGLEtBQUFxa0IsTUFBb0IsR0FzSHRCLEtBQUE4YixlQUFvQyxHQXNCcEMsS0FBQXNELGNBQXdCLEVBcEg5Qi80QyxLQUFLeTFDLGVBQWVoeUMsS0FFbEJreEMsR0FBU2w1QyxPQUFRLFVBQVUsSUFBTXVFLEtBQUsraUQsa0JBQ3RDenRDLEVBQU0yakMsV0FDSGhJLEdBQXdDanhDLEtBQUs4NkMsT0FBTzdKLEtBQ3BEbHBDLEdBQWlCQSxFQUFNa3BDLGNBRTFCMzdCLEVBQU0yakMsV0FDSixDQUFDbHhDLEVBQW1CaXhDLElBQTBCaDVDLEtBQUtnakQsZUFBZWo3QyxFQUFPaXhDLEtBQ3hFanhDLEdBQWdCQSxFQUFNNHdDLFFBRXpCcmpDLEVBQU0yakMsV0FDSixDQUFDbHhDLEVBQWdCaXhDLElBQXVCaDVDLEtBQUttNUMsWUFBWXB4QyxFQUFPaXhDLEtBQy9EanhDLEdBQWdCQSxFQUFNOHRDLE1BSzNCNzFDLEtBQUsraUQsZ0JBQ0wvaUQsS0FBSzhpRCxRQUFRRyxnQkFBZ0I1bEIsS0FBS2hWLE1BQU02NkIsU0FBVyxPQUNuRC82QixFQUFPODZCLGdCQUFnQjVsQixLQUFLaFYsTUFBTTY2QixTQUFXLFNBRzdDbGpELEtBQUs4aUQsUUFBUUcsZ0JBQWdCRSxLQUFLemYsVUFBWSwrOERBN0NoRHVLLHNCQUFzQjlsQixFQUEyQjdTLEdBQy9DLE9BQU8sSUFBSTh0QyxTQUFZLENBQUNDLEVBQVNDLEtBQy9CLE1BQU1qUyxFQUFNLEdBQXVCbHBCLEdBRTdCMjZCLEVBQVV6UixFQUFJMTFDLGNBQWMsVUFDbEMwMUMsRUFBSWhVLEtBQUs5VSxZQUFZdTZCLEdBRXFCLGFBQXZDQSxFQUFRRyxnQkFBZ0JuWixXQUV6QnVaLEVBQVEsSUFBSVIsR0FBRzE2QixFQUFRMjZCLEVBQVN4dEMsSUFJaEN3dEMsRUFBUXQ2QixjQUFjKzZCLE9BQVMsS0FDN0JGLEVBQVEsSUFBSVIsR0FBRzE2QixFQUFRMjZCLEVBQVN4dEMsUUFrR3hDeXRDLGdCQUNFL2lELEtBQUt3akQsU0FJUDdOLFVBQ0UzMUMsS0FBS3kxQyxlQUFlcm5DLFNBQVF3bkMsR0FBS0EsTUFDakM1MUMsS0FBSzhpRCxRQUFRcFAsY0FBY3BmLFlBQVl0MEIsS0FBSzhpRCxTQUM1QzlpRCxLQUFLOGlELFFBQVUsS0FTVFUsU0FDTixNQUFNclMsRUFBVSxHQUFzQm54QyxLQUFLbW9CLFFBQ3JDOHhCLEVBQVNqNkMsS0FBS21vQixPQUFPSyxjQUFjZ1AsaUJBQWlCeDNCLEtBQUttb0IsUUFBUStwQixpQkFBaUIsV0FDeEZmLEVBQVF2d0IsU0FBVyxXQUNuQixHQUFzQjVnQixLQUFLOGlELFFBQVMzUixHQUFTLEdBQU8sR0FDcERueEMsS0FBSzhpRCxRQUFRejZCLE1BQU1zMEIsZ0JBQWtCLGNBQ3JDMzhDLEtBQUs4aUQsUUFBUXo2QixNQUFNNHhCLFNBQVc5OUMsU0FBUzg5QyxJQUFXLEdBQUssR0FBR3A5QyxXQUMxRG1ELEtBQUs4aUQsUUFBUXo2QixNQUFNa3FCLE9BQVMsT0FHdEI0RyxZQUFZcHhDLEVBQWdCaXhDLEdBQ2xDaDVDLEtBQUsrNEMsYUFBZWh4QyxFQUFNaXRDLFdBS3ZCanRDLEVBQU0rdEMsaUJBQW1Ca0QsRUFBVWxELGdCQUFrQi90QyxFQUFNb2tCLE9BQVM2c0IsRUFBVTdzQixPQUUvRW5zQixLQUFLOGlELFFBQVF6NkIsTUFBTW83QixjQUFnQjE3QyxFQUFNK3RDLGVBQWlCLEdBQUssT0FFNUQvdEMsRUFBTW9rQixPQUFTMGhCLEdBQU82VixNQUN2QjFqRCxLQUFLOGlELFFBQVF6NkIsTUFBTWlOLElBQU0sWUFDekJ0MUIsS0FBSzhpRCxRQUFRejZCLE1BQU10VixLQUFPLFlBQzFCL1MsS0FBSzhpRCxRQUFRejZCLE1BQU0rSyxNQUFRLElBQzNCcHpCLEtBQUs4aUQsUUFBUXo2QixNQUFNZ04sT0FBUyxLQUc1QnIxQixLQUFLK2lELGlCQUlIQyxlQUFlajdDLEVBQW1CaXhDLEdBQ3hDLElBQUdqeEMsRUFBTStxQyxXQUFXN3NCLElBQU0reUIsRUFBVWxHLFdBQVc3c0IsR0FBS2xlLEVBQU0rcUMsV0FBVzFkLElBQU00akIsRUFBVWxHLFdBQVcxZCxLQUM5RixHQUFxQnAxQixLQUFLOGlELFFBQVFHLGdCQUFpQmw3QyxFQUFNK3FDLFlBR3REOXlDLEtBQUtzVixNQUFNaStCLFdBQVdzQyxHQUFHMXBCLE9BQVMwaEIsR0FBTzZWLE1BQU0sQ0FDaEQsR0FBcUIxakQsS0FBS21vQixPQUFPODZCLGdCQUFpQmw3QyxFQUFNK3FDLFlBQ3hELE1BQU02USxFQUFnQixHQUFxQjNqRCxLQUFLbW9CLE9BQU84NkIsaUJBQ3BEbDdDLEVBQU0rcUMsV0FBVzdzQixJQUFNMDlCLEVBQWMxOUIsR0FBS2xlLEVBQU0rcUMsV0FBVzFkLElBQU11dUIsRUFBY3Z1QixHQUVoRixHQUFxQnAxQixLQUFLOGlELFFBQVFHLGdCQUFpQlUsR0FJdEQ1N0MsRUFBTXN1QyxXQUFXbEQsYUFBZTZGLEVBQVUzQyxXQUFXbEQsYUFDdERuekMsS0FBSzhpRCxRQUFRRyxnQkFBZ0I1bEIsS0FBS2hWLE1BQU11N0IsT0FBUzc3QyxFQUFNc3VDLFdBQVdsRCxZQUl0RTJILE9BQU83SixHQUNMLElBQUlqeEMsS0FBSys0QyxhQUFjLENBRXJCLE1BQU0sWUFBRTdSLEVBQVcsYUFBRUYsR0FBZ0JobkMsS0FBS21vQixPQUFPSyxjQUFjOXNCLFNBQVNtb0QsaUJBQ3hFN2pELEtBQUs4aUQsUUFBUUcsZ0JBQWdCNWxCLEtBQUtoVixNQUFNK0ssTUFBUThULEVBQWMsS0FDOURsbkMsS0FBSzhpRCxRQUFRRyxnQkFBZ0I1bEIsS0FBS2hWLE1BQU1nTixPQUFTMlIsRUFBZSxLQUdoRWhuQyxLQUFLMjVCLE1BQ0o5dEIsUUFBT2dnQyxJQUFNb0YsRUFBWS8rQixNQUFLeTVCLEdBQUtFLEVBQUVrSCxXQUFXamlDLEtBQU82NkIsRUFBRTc2QixPQUN6RDFDLFNBQVF5OUIsR0FBS0EsRUFBRWdLLEdBQUduQyxjQUFjcGYsWUFBWXVYLEVBQUVnSyxNQUcvQzcxQyxLQUFLMjVCLE1BQVEzNUIsS0FBSzI1QixNQUNqQjl0QixRQUFPZ2dDLEdBQUtvRixFQUFZLytCLE1BQUt5NUIsR0FBS0UsRUFBRWtILFdBQVdqaUMsS0FBTzY2QixFQUFFNzZCLE9BR3pEOVEsS0FBSzI1QixNQUFRMzVCLEtBQUsyNUIsTUFBTWp3QixPQUN0QnVuQyxFQUVDcGxDLFFBQU84L0IsSUFBTTNyQyxLQUFLMjVCLE1BQU16bkIsTUFBSzI1QixHQUFLQSxFQUFFa0gsV0FBV2ppQyxLQUFPNjZCLEVBQUU3NkIsT0FFeER6TyxLQUFJc3BDLElBQUssQ0FDUm9ILFdBQVlwSCxFQUVaa0ssR0FBSTcxQyxLQUFLOGlELFFBQVFHLGdCQUFnQjVsQixLQUFLOVUsWUFBWXZvQixLQUFLOGpELG9CQUszRCxNQUNNQyxFQURPL2pELEtBQUtzVixNQUFNaStCLFdBQVdzQyxHQUFHMXBCLE9BQ1gwaEIsR0FBT21XLEtBQU8vUyxFQUFZcGxDLFFBQU84L0IsR0FBS0EsRUFBRWlTLFVBQVlqUyxFQUFFaVMsU0FBU3JqQixTQUFRbDRCLEtBQUlzcEMsR0FBS0EsRUFBRWlTLFNBQVNyakIsU0FDbEgsR0FDRnY2QixLQUFLMjVCLE1BQ0p0M0IsS0FBSXdwQyxHQUFLN3JDLEtBQUtpa0QsVUFBVXBZLEVBQUdvRixFQUFZLytCLE1BQUt5NUIsR0FBS0EsRUFBRTc2QixLQUFPKzZCLEVBQUVrSCxXQUFXamlDLEtBQUtpekMsTUFHM0VELGNBQ04sTUFBTXpsQixFQUFNcitCLEtBQUs4aUQsUUFBUUcsZ0JBQWdCdG5ELGNBQWMsT0FPdkQsT0FOQTBpQyxFQUFJcUYsVUFBWSx5TEFNVHJGLEVBRUQ0bEIsVUFBVTVsQixFQUFVMFUsRUFBNkJnUixHQUN2RCxNQUFNeDRCLEVBQVN3bkIsRUFBV00sU0FBV3J6QyxLQUFLc1YsTUFBTWkrQixXQUFXc0MsR0FBR3RxQixPQUFTLENBQUMrSixJQUFLLEtBQU12aUIsS0FBTSxLQUFNd2lCLE9BQVEsS0FBTXZpQixNQUFPLE1BQzlHa3hDLElBQWdCSCxFQUFVN3hDLE1BQUtwQixHQUFNQSxJQUFPaWlDLEVBQVdqaUMsS0FDdkQ1QyxFQUFTbE8sS0FBS3NWLE1BQU1pK0IsV0FBV29GLE1BQU1sQixVQUFVdnBDLFNBQVdtd0IsRUFBSTBVLFdBQVdqaUMsR0E2Qy9FLE9BM0NBdXRCLEVBQUkwVSxXQUFhQSxFQUNqQixHQUFzQjFVLEVBQUl3WCxHQUFJLElBQ3pCeFgsRUFBSTBVLFdBQVc1QixRQUNsQnZ3QixTQUFVLFdBQ1ZpbUIsUUFBUyxDQUFDdlIsSUFBSyxFQUFHdmlCLEtBQU0sRUFBR3dpQixPQUFRLEVBQUd2aUIsTUFBTyxHQUM3Qzh6QixPQUFRLENBQUN4UixJQUFLLEVBQUd2aUIsS0FBTSxFQUFHd2lCLE9BQVEsRUFBR3ZpQixNQUFPLEdBQzVDdS9CLE9BQVEsQ0FBQ2pkLElBQUssRUFBR3ZpQixLQUFNLEVBQUd3aUIsT0FBUSxFQUFHdmlCLE1BQU8sS0FDM0MsR0FBTyxHQUNWcXJCLEVBQUl3WCxHQUFHejRCLFVBQVV1VixPQUNkMEwsRUFBSTBVLFdBQVdNLFNBQXdCLGVBQWIsV0FDMUJoVixFQUFJMFUsV0FBV0EsV0FBNEIsaUJBQWYsYUFDNUIxVSxFQUFJMFUsV0FBV0ssVUFBMEIsZ0JBQWQsWUFDM0IvVSxFQUFJMFUsV0FBV3VGLFFBQW9CLFlBQVYsUUFDekJwcUMsRUFBb0IsYUFBWCxTQUNSbXdCLEVBQUkwVSxXQUFXSCxXQUFXdGQsS0FBUStJLEVBQUkwVSxXQUFXSCxXQUFXNy9CLEtBQTBCLG9CQUFsQixnQkFDcEVzckIsRUFBSTBVLFdBQVdILFdBQVd0ZCxLQUFRK0ksRUFBSTBVLFdBQVdILFdBQVc1L0IsTUFBMkIsb0JBQWxCLGdCQUNyRXFyQixFQUFJMFUsV0FBV0gsV0FBV3JkLFFBQVc4SSxFQUFJMFUsV0FBV0gsV0FBVzcvQixLQUEwQixvQkFBbEIsZ0JBQ3ZFc3JCLEVBQUkwVSxXQUFXSCxXQUFXcmQsUUFBVzhJLEVBQUkwVSxXQUFXSCxXQUFXNS9CLE1BQTJCLG9CQUFsQixnQkFDekVxckIsRUFBSTBVLFdBQVdzQixXQUE0QixpQkFBZixhQUM1QjlvQixFQUFPeFksS0FBdUIsa0JBQWhCLGNBQ2R3WSxFQUFPK0osSUFBcUIsaUJBQWYsYUFDYi9KLEVBQU92WSxNQUF5QixtQkFBakIsZUFDZnVZLEVBQU9nSyxPQUEyQixvQkFBbEIsZ0JBQ2hCMnVCLEVBQThCLGtCQUFoQixlQUVqQjdsQixFQUFJd1gsR0FBR3o0QixVQUFVakgsSUFDZixNQUNBa29CLEVBQUkwVSxXQUFXTSxTQUFXLFdBQWEsZUFDdkNoVixFQUFJMFUsV0FBV0EsV0FBYSxhQUFlLGlCQUMzQzFVLEVBQUkwVSxXQUFXSyxVQUFZLFlBQWMsZ0JBQ3pDL1UsRUFBSTBVLFdBQVd1RixRQUFVLFFBQVUsWUFDbkNwcUMsRUFBUyxTQUFXLGFBQ25CbXdCLEVBQUkwVSxXQUFXSCxXQUFXdGQsS0FBTytJLEVBQUkwVSxXQUFXSCxXQUFXNy9CLEtBQVEsZ0JBQWtCLG9CQUNyRnNyQixFQUFJMFUsV0FBV0gsV0FBV3RkLEtBQU8rSSxFQUFJMFUsV0FBV0gsV0FBVzUvQixNQUFTLGdCQUFrQixvQkFDdEZxckIsRUFBSTBVLFdBQVdILFdBQVdyZCxRQUFVOEksRUFBSTBVLFdBQVdILFdBQVc3L0IsS0FBUSxnQkFBa0Isb0JBQ3hGc3JCLEVBQUkwVSxXQUFXSCxXQUFXcmQsUUFBVThJLEVBQUkwVSxXQUFXSCxXQUFXNS9CLE1BQVMsZ0JBQWtCLG9CQUMxRnFyQixFQUFJMFUsV0FBV3NCLFdBQWEsYUFBZSxpQkFDM0M5b0IsRUFBT3hZLEtBQU8sY0FBZ0Isa0JBQzlCd1ksRUFBTytKLElBQU0sYUFBZSxpQkFDNUIvSixFQUFPdlksTUFBUSxlQUFpQixtQkFDaEN1WSxFQUFPZ0ssT0FBUyxnQkFBa0Isb0JBQ2xDMnVCLEVBQWMsY0FBZ0IsbUJBRXpCN2xCLEVBS1Q4bEIsT0FBT0MsR0FDTHBrRCxLQUFLOGlELFFBQVFHLGdCQUFnQjVsQixLQUFLaFYsTUFBTUMsUUFBVTg3QixFQUFPLE9BQVMsSUM3US9ELE1BQU1DLEdBcUJYOTRDLFlBQVk0YyxFQUEyQm04QixFQUFrQ2xtRCxFQUFxQixJQzdDekYsSUFBcUJtekMsRUQ2QmhCLEtBQUFrRSxlQUFvQyxHQW1OOUMsS0FBQThPLGlCQUFzQyxHQWpNcEM5b0QsT0FBYyxNQUFJNG9ELEdBR2xCcmtELEtBQUttb0IsT0FBU0EsRUFDZG5vQixLQUFLd29CLGNBQWdCeG9CLEtBQUttb0IsT0FBT0ssY0FDakN4b0IsS0FBS2lqRCxnQkFBa0JqakQsS0FBS21vQixPQUFPODZCLGdCQUNuQ2pqRCxLQUFLOHpDLE1BQVEsSUFDUjExQyxFQUNIb21ELE1BQU9wbUQsRUFBUW9tRCxPQUFTLENBQUMxekMsSUFDdkIsR0FBR0EsRUFBR3U1QixhQUFhLGlCQUFrQixPQUFPdjVCLEVBQUcwaEIsYUFBYSxpQkFDNUQsTUFBTXBkLEVBQUtyWSxLQUFLNjhCLE1BQXNCLE9BQWhCNzhCLEtBQUswd0IsVUFBbUI1d0IsV0FFOUMsT0FEQWlVLEVBQUdnaEIsYUFBYSxnQkFBaUIxYyxHQUMxQkEsSUFFVHF2QyxhQUFjcm1ELEVBQVFxbUQsY0FBZ0IsQ0FBQzN6QyxHQUFNQSxFQUFHc00sVUFBVW9XLFNBQVMsZUFDbkVreEIsWUFBYXRtRCxFQUFRc21ELGFBQWUsQ0FBQzV6QyxHQUFNQSxFQUFHc00sVUFBVW9XLFNBQVMsY0FDakU2Z0IsV0FBWWoyQyxFQUFRaTJDLFlBQWMsQ0FBRXZqQyxHQUFPQSxFQUFHc00sVUFBVW9XLFNBQVMsY0FDakVtZixhQUFjdjBDLEVBQVF1MEMsY0FBZ0IsQ0FBRTdoQyxHQUFPQSxFQUFHc00sVUFBVW9XLFNBQVMsZUFDckVtZSxhQUFjdnpDLEVBQVF1ekMsY0FBZ0IsQ0FBRTdnQyxJQUFPLEdBQy9DK3NDLFFBQVN6L0MsRUFBUXkvQyxTQUFXLEVBQUUvc0MsRUFBSThzQyxLQUFhLEtDbEV6QnJNLEVEc0VIdnhDLEtBQUt3b0IsZUNyRXBCOXNCLFNBQVMwNEMsb0JBRWY3QyxFQUFJNzFDLFNBQVMwNEMsa0JBQW9CLFNBQVNudUIsRUFBR21QLEdBRTNDLE9BQU81MEIsTUFBTStHLEtBQUtncUMsRUFBSTcxQyxTQUFTMmhDLEtBQUtuTCxpQkFBaUIsTUFBTXJtQixRQUFPLFNBQVNpRixHQUN6RSxJQUFJNGIsRUFBTTViLEVBQUdzdUIsd0JBQ2IsT0FBTzFTLEVBQUkzWixNQUFRa1QsR0FBS0EsR0FBS3lHLEVBQUkxWixPQUFTMFosRUFBSTRJLEtBQU9GLEdBQUtBLEdBQUsxSSxFQUFJNkksWURrRXZFdjFCLEtBQUtzVixNQUFRLElBQUk0c0MsR0FHakJXLEdBQUc4QixTQUFTeDhCLEVBQVFub0IsS0FBS3NWLE9BQ3hCc3ZDLE1BQU0vTyxJQUNMNzFDLEtBQUs2MUMsR0FBS0EsRUFHVjcxQyxLQUFLNmtELG9CQUFzQixJQUFJak0sR0FBb0I1NEMsS0FBS2lqRCxnQkFBaUJqakQsS0FBSzYxQyxHQUFHaU4sUUFBUUcsZ0JBQWlCampELEtBQUtzVixNQUFPdFYsS0FBSzh6QyxPQUMzSDl6QyxLQUFLOGtELFlBQWMsSUFBSXpLLEdBQVlyNkMsS0FBS3NWLE9BQU8sQ0FBQ3ZOLEVBQU90RyxJQUFZekIsS0FBSytrRCxvQkFBb0JoOUMsRUFBT3RHLEtBQ25HekIsS0FBS2dsRCxXQUFhLElBQUkzRixHQUFXci9DLEtBQUtpakQsZ0JBQWlCampELEtBQUs2MUMsR0FBR2lOLFFBQVFHLGdCQUFpQmpqRCxLQUFLc1YsTUFBT3RWLEtBQUs4ekMsT0FDekc5ekMsS0FBS2lsRCxjQUFnQixJQUFJdkssR0FBYzE2QyxLQUFLaWpELGdCQUFpQmpqRCxLQUFLNjFDLEdBQUdpTixRQUFRRyxnQkFBaUJqakQsS0FBS3NWLE1BQU90VixLQUFLOHpDLE9BRy9HOXpDLEtBQUsyNEMsTUFBUSxJQUFJOUIsR0FBTTcyQyxLQUFLd29CLGNBQWV4b0IsS0FBSzYxQyxHQUFHaU4sUUFBUXQ2QixjQUFleG9CLEtBQUtzVixNQUFPdFYsS0FBSzh6QyxPQUMzRixNQUFNb1IsRUFBVyxJQUFJMVAsR0FBU3gxQyxLQUFLNjFDLEdBQUdpTixRQUFRdDZCLGNBQWV4b0IsS0FBS3NWLE1BQU90VixLQUFLOHpDLE9BRTlFOXpDLEtBQUt5MUMsZUFBZWh5QyxNQUNsQixJQUFNekQsS0FBSzZrRCxvQkFBb0JsUCxZQUMvQixJQUFNMzFDLEtBQUs4a0QsWUFBWW5QLFlBQ3ZCLElBQU0zMUMsS0FBS2dsRCxXQUFXclAsWUFDdEIsSUFBTTMxQyxLQUFLaWxELGNBQWN0UCxZQUN6QixJQUFNMzFDLEtBQUsyNEMsTUFBTWhELFlBQ2pCLElBQU11UCxFQUFTdlAsV0FDZmhCLEdBQVNsNUMsT0FBUSxVQUFVLElBQU11RSxLQUFLbWxELG1CQUl4Q25sRCxLQUFLb2xELE1BQU1kLEdBR1h0a0QsS0FBS3VrRCxpQkFBaUJuMkMsU0FBUWkzQyxHQUFLQSxNQUNuQ3JsRCxLQUFLdWtELGlCQUFtQixNQVE1QlEsb0JBQW9CaDlDLEVBQXdCdEcsR0FnQjFDekIsS0FBS21sRCxjQUNIMWpELEVBQVFZLEtBQUtSLEdBQWVBLEVBQU1xTSxTQUNqQ3hFLE9BQU8zQixFQUFNK0ksS0FPbEJxMEMsY0FBYzlNLEVBQXlCLE1BQ3JDLE1BQU1pTixFQUFrQ2pOLEVBQVVBLEVBQy9DaDJDLEtBQUt5TyxHQUFPOVEsS0FBS3V6QyxTQUFTemlDLEtBQzFCakYsUUFBUTlELEtBQVlBLElBQ25CL0gsS0FBS3NWLE1BQU1pK0IsV0FBV3RDLFlBR3BCck0sRUFBVzVrQyxLQUFLc1YsTUFBTWkrQixXQUFXdEMsWUFDcENwbEMsUUFBUTlELEdBQVUvSCxLQUFLdWxELFdBQVd4OUMsRUFBTStJLElBQ3RDN0QsTUFBTXU0QyxHQUFhRixFQUNqQnI0QyxNQUFNdzRDLEdBQWdCQSxFQUFZMzBDLEtBQU8wMEMsUUFHMUNFLEVBQVMsSUFBSSxJQUFJQyxJQUFJTCxFQUFhNTdDLE9BQU9rN0IsS0FHL0MsR0FBSThnQixFQUFPL2pELE9BQVMsRUFBRyxDQUNyQixNQUFNbzNDLEVBQWUvNEMsS0FBS3NWLE1BQU1pK0IsV0FBV3NDLEdBQUdiLFdBQ3pDK0QsR0FBYy80QyxLQUFLc1YsTUFBTTBnQyxTQUFTLElBQXVCLElBQzlEaDJDLEtBQUtzVixNQUFNMGdDLFNBQVNVLEdBQWtCZ1AsRUFBT3JqRCxLQUFJMHdDLElBQWMsSUFDMURBLEVBQ0g1QixRQUFTLEdBQXNCNEIsRUFBV2ppQyxVQUV2Q2lvQyxHQUFjLzRDLEtBQUtzVixNQUFNMGdDLFNBQVMsSUFBdUIsS0FRbEV1UCxXQUFXejBDLEdBQ1QsT0FBT0EsRUFBSzlRLEtBQUt1bEQsV0FBV3owQyxFQUFHNGlDLGVBQWVocUMsT0FBT29ILEVBQUc0aUMsY0FBZ0IsQ0FBQzVpQyxFQUFHNGlDLGVBQWlCLElBQ3pGLEdBTU5rUyxZQUVFLE1BQ001UyxFQUFLLEdBRE9oekMsS0FBS3d6QyxnQkFFdkJ4ekMsS0FBSzI0QyxNQUFNM0IsVUFBWUosR0FBVWlCLFNBQ2pDNzNDLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBaUIsVUFFcENoMkMsS0FBS2dsRCxXQUFXMUYsUUFBd0J4QyxhQUFlLENBQ3RENzJCLEVBQUcrc0IsRUFBR2pnQyxLQUFRaWdDLEVBQUc1ZixNQUFRLEVBQUtwekIsS0FBS21vQixPQUFPSyxjQUFjaVgsUUFDeERySyxFQUFHNGQsRUFBRzFkLElBQU8wZCxFQUFHM2QsT0FBUyxFQUFLcjFCLEtBQUttb0IsT0FBT0ssY0FBY21YLFNBTzVEZ1csVUFDRTMxQyxLQUFLeTFDLGVBQWVybkMsU0FBUXduQyxHQUFLQSxNQUNqQzUxQyxLQUFLNjFDLEdBQUdGLFVBQ1IzMUMsS0FBSzYxQyxHQUFLLEtBTVJDLHFCQUNGLE9BQU85MUMsS0FBS3NWLE1BQU1pK0IsV0FBV3NDLEdBQUdDLGVBRTlCQSxtQkFBZTFyQixHQUNqQnBxQixLQUFLc1YsTUFBTTBnQyxTbkIvTCtDLENBQzVEejRDLEtBQU0wM0MsR0FDTmEsZW1CNkxpRDFyQixJQUs3QytXLGNBQ0YsT0FBT25oQyxLQUFLc1YsTUFBTWkrQixXQUFXc0MsR0FBRzFwQixPQUFTLFFBRXZDZ1YsWUFBUS9XLEdBRVZwcUIsS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUFpQjVyQixFQUFNLFFBQW9CLFVBRS9EcHFCLEtBQUt3eUMsVUFBVSxDQUNidnNCLEVBQUdqbUIsS0FBS21vQixPQUFPSyxjQUFjaVgsUUFDN0JySyxFQUFHcDFCLEtBQUttb0IsT0FBT0ssY0FBY21YLFVBTTdCNmQsbUJBQ0YsT0FBT3g5QyxLQUFLc1YsTUFBTWkrQixXQUFXc0MsR0FBRzJILGFBRTlCQSxpQkFBYXB6QixHQUVmcHFCLEtBQUtzVixNQUFNMGdDLFNuQjVNMkMsQ0FDeER6NEMsS0FBTTQzQyxHQUNOcUksYW1CME0rQ3B6QixJQUsvQ3k3QixlQUNFN2xELEtBQUs2MUMsR0FBR2tOLGdCQVNWeEwsb0JBQW9CaDZDLEVBQWM0d0MsR0FDaEMsSUFBSTJYLEVBQ0osT0FBSTlsRCxLQUFLMjRDLE1BTUYzNEMsS0FBSzI0QyxNQUFNcEIsb0JBQW9CaDZDLEVBQU00d0MsSUFMMUNudUMsS0FBS3VrRCxpQkFBaUI5Z0QsTUFBSyxLQUN6QnFpRCxFQUFROWxELEtBQUt1M0Msb0JBQW9CaDZDLEVBQU00d0MsTUFFbEMsSUFBTTJYLEtBUWpCM0IsT0FBT0MsR0FDTHBrRCxLQUFLNjFDLEdBQUdzTyxPQUFPQyxHQU9qQmdCLE1BQU1kLEdBQ0osTUFBTXZMLEVBQWUvNEMsS0FBS3NWLE1BQU1pK0IsV0FBV3NDLEdBQUdiLFdBQ3pDK0QsR0FBYy80QyxLQUFLc1YsTUFBTTBnQyxTQUFTLElBQXVCLElBQzlEaDJDLEtBQUtzVixNQUFNMGdDLFNmblF1QixDQUNwQ3o0QyxLQUFNLEtlbVFKaUQsTUFBTStHLEtBQUsrOEMsR0FBVWwyQyxTQUFRMEMsR0FBTTlRLEtBQUsrbEQsV0FBV2oxQyxHQUFJLEtBQ2xEaW9DLEdBQWMvNEMsS0FBS3NWLE1BQU0wZ0MsU0FBUyxJQUF1QixJQUU5RGgyQyxLQUFLNjFDLEdBQUdpRixPQUFPOTZDLEtBQUtzVixNQUFNaStCLFdBQVd0QyxhQUVyQ2p4QyxLQUFLOGtELFlBQVk1TCxpQkFNbkIxRixlQUNFLE9BQU8sR0FBd0J4ekMsS0FBS3NWLE9BTXRDMHdDLGFBQWExQixHQUNYdGtELEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBbUJzTyxFQUFTamlELEtBQUl5TyxHQUFNOVEsS0FBS3V6QyxTQUFTemlDLE9BTTFFbTFDLGFBQWE3d0MsR0FDWCxPQUFPcFYsS0FBS3NWLE1BQU1pK0IsV0FBV3RDLFlBQVkvK0IsTUFBS3k1QixHQUFLQSxFQUFFdjJCLEtBQU9BLElBTXREbStCLFNBQVN6aUMsR0FDZixPQUFPLEdBQThCOVEsS0FBS3NWLE1BQU94RSxHQU1uRG8xQyxTQUFTcDFDLEVBQWlCcTFDLEdBU3hCLE1BQU1wK0MsRUFBUS9ILEtBQUt1ekMsU0FBU3ppQyxHQUM1QjlRLEtBQUtzVixNQUFNMGdDLFNBQVNVLEdBQWtCLENBQUMsSUFDbEMzdUMsS0FDQW8rQyxNQU9QSixXQUFXajFDLEVBQWlCNmxDLEdBQWtCLEdBQzVDLE1BQU01dUMsRUFBeUIsQ0FDN0JxTixHQUFJcFYsS0FBSzh6QyxNQUFNMFEsTUFBTTF6QyxHQUNyQkEsS0FDQXVpQyxVQUFVLEVBQ1ZpRixTQUFTLEVBQ1R2RixXQUFZL3lDLEtBQUs4ekMsTUFBTTJRLGFBQWEzekMsR0FDcENzaUMsVUFBV3B6QyxLQUFLOHpDLE1BQU00USxZQUFZNXpDLEdBQ2xDOGhDLFdBQVk1eUMsS0FBS29tRCxxQkFBcUJ0MUMsR0FDdEN1akMsV0FBWXIwQyxLQUFLOHpDLE1BQU1PLFdBQVd2akMsR0FDbEM2Z0MsYUFBYzN4QyxLQUFLOHpDLE1BQU1uQyxhQUFhN2dDLEdBQ3RDcWdDLFFBQVMsR0FBc0JyZ0MsSUFHM0Jpb0MsRUFBZS80QyxLQUFLc1YsTUFBTWkrQixXQUFXc0MsR0FBR2IsV0FDM0MyQixJQUVJb0MsR0FBYy80QyxLQUFLc1YsTUFBTTBnQyxTQUFTLElBQXVCLElBSTlEaDJDLEtBQUs4a0QsWUFBWXZLLFFBQVF4eUMsSUFJM0IvSCxLQUFLc1YsTUFBTTBnQyxTZnBWa0QsQ0FDL0R6NEMsS0FBTWk1QyxHQUNOekQsV2VrVnVDaHJDLElBRWxDNHVDLElBQ0lvQyxHQUFjLzRDLEtBQUtzVixNQUFNMGdDLFNBQVMsSUFBdUIsS0FJeERvUSxxQkFBcUJ0MUMsR0FDN0IsTUFBTXUxQyxFQUF1Q3JtRCxLQUFLOHpDLE1BQU1uQixhQUFhN2hDLEdBQ3JFLE1BQTRCLGlCQUFkdTFDLEVBQXlCQSxFQUFZLENBQ2pEL3dCLElBQUsrd0IsRUFDTHR6QyxLQUFNc3pDLEVBQ045d0IsT0FBUTh3QixFQUNScnpDLE1BQU9xekMsR0FPWEMsY0FBY2x4QyxHZnBXZ0IsSUFBQzI5QixFZXFXN0IveUMsS0FBS3NWLE1BQU0wZ0MsVWZyV2tCakQsRWVxV1EveUMsS0FBS3NWLE1BQU1pK0IsV0FBV3RDLFlBQVkvK0IsTUFBS3k1QixHQUFLQSxFQUFFdjJCLEtBQU9BLElmclc3QixDQUMvRDdYLEtBQU1rNUMsR0FDTjFELGdCZTJXQXdULFlBQVl0Z0MsRUFBV21QLEVBQVd0a0IsRUFBaUIsTUFDakQsTUFBTWl6QyxFQUFZLEdBQW1DL2pELEtBQUtpakQsZ0JBQWlCampELEtBQUtzVixNQUFPdFYsS0FBSzh6QyxNQUFPN3RCLEVBQUdtUCxHQUN0RyxPQUFLdGtCLEVBQVdpekMsRUFBVWw0QyxRQUFPK3hDLEdBQVk1OUMsS0FBSzh6QyxNQUFNK0osUUFBUS9zQyxFQUFJOHNDLEtBQVcsR0FDbkVtRyxFQUFVLEdBR3hCL1MsZUFBZXNULEdBQ2IsTUFBTXY4QyxFQUFRL0gsS0FBS3NWLE1BQU1pK0IsV0FDekIsT0FBTyxHQUEwQitRLEVBQVNqaUQsS0FBSXlPLEdBQU0vSSxFQUFNa3BDLFlBQVkvK0IsTUFBS3k1QixHQUFLQSxFQUFFdjJCLEtBQU9wVixLQUFLOHpDLE1BQU0wUSxNQUFNMXpDLFFBRzVHMDFDLGtCQUNFLE9BQU8sR0FBMEIsR0FBd0J4bUQsS0FBS3NWLFFBVWhFbXhDLEtBQUtuQyxHQUNILE1BQU12OEMsRUFBUS9ILEtBQUtzVixNQUFNaStCLFdBQ25CUCxFQUFLLEdBQTBCc1IsRUFBU2ppRCxLQUFJeU8sR0FBTS9JLEVBQU1rcEMsWUFBWS8rQixNQUFLeTVCLEdBQUtBLEVBQUV2MkIsS0FBT3BWLEtBQUs4ekMsTUFBTTBRLE1BQU0xekMsUUFDeEc2cUMsRUFBa0M1ekMsRUFBTTR3QyxNQUFNN0YsV0FDOUNqQyxFQUEyQixHQUEyQjd3QyxLQUFLaWpELGdCQUFpQmpRLEdBQy9FbkMsRUFBTzVxQixJQUFNMDFCLEVBQWMxMUIsR0FBSzRxQixFQUFPemIsSUFBTXVtQixFQUFjdm1CLEdBQzVEcDFCLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBVW5GLElBUWxDc08sT0FBT21GLEdBQ0wsTUFBTXY4QyxFQUFRL0gsS0FBS3NWLE1BQU1pK0IsV0FDbkJQLEVBQUssR0FDVHNSLEVBQ0NqaUQsS0FBSXlPLEdBQU0vSSxFQUFNa3BDLFlBQVkvK0IsTUFBS3k1QixHQUFLQSxFQUFFdjJCLEtBQU9wVixLQUFLOHpDLE1BQU0wUSxNQUFNMXpDLE9BQ2hFakYsUUFBTzgvQixLQUFPQSxLQUVYZ1EsRUFBa0M1ekMsRUFBTTR3QyxNQUFNN0YsV0FDOUN0SyxFQUNEeG9DLEtBQUt3b0IsY0FBY2lwQixXQURsQmpKLEVBRUR4b0MsS0FBS3dvQixjQUFjOG1CLFlBRWxCdUIsRUFBMkIsQ0FDL0I1cUIsRUFBR2xwQixLQUFLQyxJQUFJLEVBQUdELEtBQUs2OEIsTUFBTW9aLEVBQUdqZ0MsS0FBUWlnQyxFQUFHNWYsTUFBTSxFQUFNb1YsRUFBZSxJQUNuRXBULEVBQUdyNEIsS0FBS0MsSUFBSSxFQUFHRCxLQUFLNjhCLE1BQU1vWixFQUFHMWQsSUFBTzBkLEVBQUczZCxPQUFPLEVBQU1tVCxFQUFlLEtBRWxFcUksRUFBTzVxQixJQUFNMDFCLEVBQWMxMUIsR0FBSzRxQixFQUFPemIsSUFBTXVtQixFQUFjdm1CLEdBQzVEcDFCLEtBQUtzVixNQUFNMGdDLFNBQVMsR0FBVW5GLElBUWxDMkIsVUFBVTNCLEdBQ1IsTUFBTThLLEVBQWtDMzdDLEtBQUtzVixNQUFNaStCLFdBQVdvRixNQUFNN0YsV0FDakVqQyxFQUFPNXFCLElBQU0wMUIsRUFBYzExQixHQUFLNHFCLEVBQU96YixJQUFNdW1CLEVBQWN2bUIsR0FDNURwMUIsS0FBS3NWLE1BQU0wZ0MsU0FBUyxHQUFVbkYsSUFRbENDLFlBQ0UsT0FBTzl3QyxLQUFLc1YsTUFBTWkrQixXQUFXb0YsTUFBTTdGLFlFbGNoQyxNQUFNNFQsSUNJYixJQUFJQyxHQ1FBQyxHREhHLFNBQVNDLEtBQ1RGLEtBQ0hBLEdBQWFqckQsU0FBU0MsY0FBYyxTQUdwQ2dyRCxHQUFXdCtCLE1BQU10VixLQUFPLFVBQ3hCNHpDLEdBQVd0K0IsTUFBTXpILFNBQVcsV0FDNUJsbEIsU0FBUzJoQyxLQUFLOVUsWUFBWW8rQixLQUk1QnBuRCxZQUFXLEtBQ1RvbkQsR0FBV2x6QixRQUNYa3pCLEdBQVdHLE9BQ1hwckQsU0FBUzgzQyxlQUFldVQsb0JBQ3ZCLEdEcEJJLEdBQUFDLGlCQUFtQixLQUtuQixHQUFBQyxlQUFpQixRQU9qQixHQUFBQywwQkFBNEIsb0JBSzVCLEdBQUFDLG1DQUFxQyxnQkFLckMsR0FBQUMsa0NBQW9DLGVBS3BDLEdBQUFDLHFDQUF1QyxrQkFLdkMsR0FBQUMsaUJBQTJCLGdCQU0zQixHQUFBQyxpQ0FBMkMsMEJBSzNDLEdBQUFDLHdCQUFrQyx1QkFLbEMsR0FBQUMsMkJBQXFDLGNBS3JDLEdBQUFDLG9CQUFzQixzQkFLdEIsR0FBQUMsa0JBQW9CLHNCQUtwQixHQUFBQyxvQkFBc0Isc0JBS3RCLEdBQUFDLHdCQUEwQiwwQkFNMUIsR0FBQUMseUJBQW1DLHdCQU1uQyxHQUFBQyw0QkFBc0MsbUJBS3RDLEdBQUFDLFVBQW9CLGVBS3BCLEdBQUFDLFVBQW9CLGtCQU1wQixHQUFBQyxxQkFBdUIsZ0JBTXZCLEdBQUFDLGtCQUFvQixvQkFFcEIsR0FBQUMsb0JBQXNCLDRCQUt0QixHQUFBQywyQkFBcUMsd0JBTXJDLEdBQUFDLHlCQUFtQyxnQkFLbkMsR0FBQUMsVUFBb0IsT0FLcEIsR0FBQUMsb0NBQThDLFdBSzlDLEdBQUFDLHdDQUFrRCxlQUtsRCxHQUFBQyxvQkFBOEIsaUJBSzlCLEdBQUFDLG9CQUE4QixpQkFLOUIsR0FBQUMsb0JBQThCLGlCQUs5QixHQUFBQyxlQUF5QixpQkFLekIsR0FBQUMsZ0JBQTBCLGtCQUsxQixHQUFBQyxvQkFBOEIsaUJBSzlCLEdBQUFDLDZCQUF1QyxvQkFLdkMsR0FBQUMsaUNBQTJDLHdCQUszQyxHQUFBQyxrQ0FBNEMseUJBSzVDLEdBQUFDLG9DQUE4QywyQkFLOUMsR0FBQUMsbUNBQTZDLDBCQUs3QyxHQUFBQyw4QkFBd0MscUJBS3hDLEdBQUFDLDZCQUF1QyxvQkFLdkMsR0FBQUMsNkJBQXVDLG9CQU92QyxHQUFBQywrQkFBeUMsaUNBS3pDLEdBQUFDLDhCQUFnQyxjQUtoQyxHQUFBQywrQkFBaUMsZUFNakMsR0FBQUMsMEJBQTRCLGtCQUs1QixHQUFBQyx1QkFBeUIsb0JBS3pCLEdBQUFDLHdCQUEwQixnQkFLMUIsR0FBQUMsc0JBQXdCLGNBTXhCLEdBQUFDLDBCQUFvQyxnQkFNcEMsR0FBQUMsdUJBQXlCLGtCQU16QixHQUFBQyx3QkFBMEIsa0JBTTFCLEdBQUFDLGtCQUFvQixJQUNwQixHQUFBQyxtQkFBcUIsK0JBQStCekQsR0FBVXdELHVCQUc5RCxHQUFBRSxzQkFBd0IscUJBQ3hCLEdBQUFDLDBCQUE0QixpQkFDNUIsR0FBQUMsdUJBQXlCLHNCQUN6QixHQUFBQyw0QkFBOEIsc0JBQzlCLEdBQUFDLGVBQWlCLDhDQUNqQixHQUFBQyxjQUFnQixxREFHaEIsR0FBQUMscUJBQXVCLGtCQUN2QixHQUFBQyxpQkFBbUIsd0JBQ25CLEdBQUFDLGdCQUFrQixZQUNsQixHQUFBQyxxQkFBdUIsWUFDdkIsR0FBQUMsdUJBQXlCLHlCQUN6QixHQUFBQyx5QkFBMkIsR0FDM0IsR0FBQUMsZUFBaUIsWUFDakIsR0FBQUMsV0FBYSxRQUViLEdBQUFDLGlCQUFtQixDQUFDLFVBQVcsVUFPL0IsR0FBQUMsa0JBQThCLENBQ25DekUsR0FBVTRCLDBCQU1MLEdBQUE4Qyx1QkFBeUIsQ0FDOUIxRSxHQUFVYSxpQ0FDVmIsR0FBVWMsd0JBQ1ZkLEdBQVVvQiwwQkFXTCxHQUFBdUQsdUNBQXlDLEdBb0J6QyxHQUFBQyw4QkFBZ0MsQ0FDckMscUJBQ0EsSUFBTTVFLEdBQVUwQixvQkFBc0IsS04xVTFDLFNBQVk1SSxHQUNWLGdDQUNBLDRCQUNBLHdCQUNBLHNCQUNBLHNCQUxGLENBQVlBLFFBQVcsS0F3QnZCLFNBQVlDLEdBQ1YsVUFDQSxjQUNBLGNBQ0EsZ0JBSkYsQ0FBWUEsUUFBUyxLQU9yQixTQUFZQyxHQUNWLFVBQ0EsY0FDQSxZQUNBLGtCQUpGLENBQVlBLFFBQVksS0F5QnhCLFNBQVlDLEdBQ1Ysc0JBQ0EseUJBRkYsQ0FBWUEsUUFBUSxLTy9CYixNQUFNNEwsR0FvQ1hoZ0QsWUFBWW5OLEdBV1YsR0FiRixLQUFBb3RELFFBQVMsRUFTSHB0RCxFQUFROGEsT0FDVmxaLEtBQUtrWixLQUFPOWEsRUFBUThhLEtBQ3BCcXlDLEdBQVlFLFFBQVEzcEQsSUFBSTlCLEtBQUtrWixLQUFNbFosUUFFakM1QixFQUFRMmdDLFFBR1YsTUFBTSxJQUFJOTVCLE1BQU0sa0RBRWxCLEdBSkVqRixLQUFLKytCLFFBQVUzZ0MsRUFBUTJnQyxTQUlyQjNnQyxFQUFRc3RELE9BR1YsTUFBTSxJQUFJem1ELE1BQU0saURBRWxCLEdBSkVqRixLQUFLMHJELE9BQVN0dEQsRUFBUXN0RCxRQUlwQnR0RCxFQUFRdXRELFFBR1YsTUFBTSxJQUFJMW1ELE1BQU0sa0RBRmhCakYsS0FBSzJyRCxRQUFVdnRELEVBQVF1dEQsUUFNekIzckQsS0FBSysrQixRQUFRM2hCLFVBQVVqSCxJQUFJbzFDLEdBQVlLLHlCQUN2QzVyRCxLQUFLKytCLFFBQVEzaEIsVUFBVWpILElBQUlvMUMsR0FBWU0sd0JBR3ZDLE1BQU1DLEVBQVc5ckQsS0FBSysrQixRQUFRNU0sY0FBYyxjQUN4QzI1QixJQUNGQSxFQUFTcGQsUUFBVzdyQyxHQUFNN0MsS0FBSzZuQixTQUlqQ25zQixTQUFTczRCLGlCQUFpQixXQUFZbnhCLElBQ2hDN0MsS0FBS3dyRCxRQUFvQixXQUFWM29ELEVBQUVWLE1BQ25CbkMsS0FBSzZuQixRQUNMaGxCLEVBQUU2d0IsaUJBQ0Y3d0IsRUFBRTIrQixzQkFwRVJ5TSxZQUFZLzBCLEVBQWNoYSxFQUFZLE1BQ2hDcXNELEdBQVlFLFFBQVFwb0QsSUFBSTZWLEdBQzFCcXlDLEdBQVlFLFFBQVFub0QsSUFBSTRWLEdBQU11UCxLQUFLdnBCLEdBRW5Da0osUUFBUTBMLE1BQU0sd0JBQXlCb0YsRUFBTXF5QyxHQUFZRSxTQU83RHhkLGVBQ01zZCxHQUFZeGQsY0FDZHdkLEdBQVl4ZCxjQUFjbG1CLFFBRTFCemYsUUFBUTBMLE1BQU0scURBOERsQjJVLEtBQUt2cEIsR0FDRWMsS0FBS3dyRCxPQWdCUnBqRCxRQUFRdTZDLEtBQUssZ0NBQWlDM2lELEtBQUtrWixLQUFPbFosS0FBS2taLEtBQU8sS0FkdEVsWixLQUFLd3JELFFBQVMsRUFHVkQsR0FBWXhkLGVBQ2R3ZCxHQUFZeGQsY0FBY2xtQixRQUU1QjBqQyxHQUFZeGQsY0FBZ0IvdEMsS0FHNUJBLEtBQUsrK0IsUUFBUTNoQixVQUFVdVYsT0FBTzQ0QixHQUFZTSx3QkFHMUM3ckQsS0FBSzByRCxPQUFPeHNELElBU2hCMm9CLFFBQ003bkIsS0FBS3dyRCxRQUVQeHJELEtBQUt3ckQsUUFBUyxFQUNkRCxHQUFZeGQsY0FBZ0IsS0FHNUIvdEMsS0FBSzJyRCxVQUlMOUUsS0FJQTdtRCxLQUFLKytCLFFBQVEzaEIsVUFBVWpILElBQUlvMUMsR0FBWU0seUJBRXZDempELFFBQVF1NkMsS0FBSywyQkFBNEIzaUQsS0FBS2taLEtBQU9sWixLQUFLa1osS0FBTyxLQ25KaEUsU0FBUzZ5QyxLQWlCZCxPQWhCQW5GLEdBQWFBLElBQWMsQ0FDekJvRixhQUFjdHdELFNBQVN5MkIsY0FBYyx3QkFDckM4NUIsWUFBYXZ3RCxTQUFTeTJCLGNBQWMsdUJBQ3BDKzVCLEtBQU14d0QsU0FBU3kyQixjQUFjLGVBQzdCZzZCLFlBQWF6d0QsU0FBU3kyQixjQUFjLHVCQUNwQ2k2QixTQUFVMXdELFNBQVN5MkIsY0FBYyxvQkFDakNrNkIsV0FBWTN3RCxTQUFTeTJCLGNBQWMsc0JBQ25DbTZCLFVBQVc1d0QsU0FBU3kyQixjQUFjLHFCQUNsQ282QixTQUFVN3dELFNBQVN5MkIsY0FBYyxvQkFDakNxNkIsZUFBZ0I5d0QsU0FBU3kyQixjQUFjLDBCQUN2Q3M2QixVQUFXL3dELFNBQVN5MkIsY0FBYyxvQkFDbEN1NkIsYUFBY2h4RCxTQUFTeTJCLGNBQWMsd0JBQ3JDdzZCLGNBQWVqeEQsU0FBU3kyQixjQUFjLDBCQUN0Q3k2QixVQUFXbHhELFNBQVN5MkIsY0FBYyxvQkFDbEMwNkIsaUJBQWtCbnhELFNBQVN5MkIsY0FBYyx1QkFFcEN5MEIsR0RJQSxHQUFBNkUsUUFBb0MsSUFBSXBxRCxJQUV4QyxHQUFBd3FELHVCQUF5QixvQkFDekIsR0FBQUQsd0JBQTBCLHFCRWY1QixNQUFNa0IsR0FBYixjQVVFLEtBQUFDLEdBQW9CLEtBUHBCOWUscUJBRUUsT0FEQTZlLEdBQWF6MUMsU0FBV3kxQyxHQUFhejFDLFVBQVksSUFBSXkxQyxHQUM5Q0EsR0FBYXoxQyxTQVF0QjIxQyxNQUFNN2UsR0FDSixNQUFNeVksRUFBYW1GLEtBR2ZuRixFQUFXb0YsYUFBYXhqQyxjQUFrQixJQUM1Q3hvQixLQUFLK3NELEdBQU1uRyxFQUFXb0YsYUFBYXhqQyxjQUFrQixHQUNyRDJsQixNQUVpQixNQUFibnVDLEtBQUtpdEQsT0FDUGp0RCxLQUFLaXRELEtBQU8sR0FDWnJHLEVBQVdvRixhQUFhaDRCLGlCQUFpQixRQUFTbnhCLElBQ2hEN0MsS0FBSytzRCxHQUFNbkcsRUFBV29GLGFBQWF4akMsY0FBa0IsR0FDckR4b0IsS0FBS2l0RCxLQUFLNytDLFNBQVN5aEIsR0FBTUEsTUFDekI3dkIsS0FBS2l0RCxLQUFPLE9BR2hCanRELEtBQUtpdEQsS0FBS3hwRCxLQUFLMHFDLElBT25Cdm1CLE1BQ0lrb0IsRUFBb0J4b0IsRUFBY2hsQixFQUFzQjZyQyxFQUN4RCtlLEdBVUYsTUFBTUMsRUFBTyxJQUFJQyxlQUNqQkQsRUFBSzVKLE9BQVMsS0FDWixHQUFvQixNQUFoQjRKLEVBQUtFLE9BQ1BsZixRQUNLLENBQ0wsTUFBTW1mLEVBQU0sSUFBSWg3QixNQUFNLFNBQ2hCdUMsRUFBTTcwQixLQUFLdXRELGdCQUFnQkosR0FDN0JELEdBQ0ZBLEVBQVdJLEVBQUt6NEIsRUFBS3M0QixFQUFLRSxVQUloQyxNQUFNcmQsRUFBTSxlQUFlRixFQUFTSSxlQUFlSixFQUFTbnJDLE9BQzVEd29ELEVBQUsxa0MsS0FBSyxNQUFPdW5CLEdBQ2pCbWQsRUFBS0ssaUJBQWlCLGVBQWdCLDZCQUN0Q0wsRUFBS00sS0FBS2xVLEtBQUtDLFVBQVUsQ0FBQ2x5QixPQUFNaGxCLFVBT2xDaXJELGdCQUFnQkosR0FDZCxJQUFJdDRCLEVBQU0sR0FDVixJQUNFLE1BQU02NEIsRUFBV25VLEtBQUtvVSxNQUFNUixFQUFLUyxjQUM3QkYsRUFBUy93QixVQUNYOUgsRUFBTTY0QixFQUFTL3dCLFNBRWpCLE1BQU85NUIsSUFFVCxHQUFZLEtBQVJneUIsRUFDRixHQUEwQixLQUF0QnM0QixFQUFLUyxhQUNQLzRCLEVBQU1zNEIsRUFBS1Msa0JBRVgsT0FBUVQsRUFBS0UsUUFDWCxLQUFLLElBQ0h4NEIsRUFBTSxrQkFDTixNQUNGLEtBQUssSUFDSEEsRUFDSSxvRUFDSixNQUNGLFFBQ0VBLEVBQU0sa0NBQW9DczRCLEVBQUtFLE9BSXZELE1BQWUsS0FBUng0QixFQUFhLEtBQU9BLEVBTTdCZzVCLFlBQ0lDLEVBQWlCM2YsRUFDakIrZSxHQUNGLE1BQU1sZCxFQUFNLFdBQWE4ZCxFQUNuQlgsRUFBTyxJQUFJQyxlQUNqQkQsRUFBS241QixpQkFBaUIsUUFBU254QixJQUU3QixHQUFvQixNQUFoQnNxRCxFQUFLRSxPQUFnQixDQUN2QixNQUFNVSxFQUFPeFUsS0FBS29VLE1BQU1SLEVBQUtTLGNBR3pCRyxFQUFLcHhCLFNBQ1BtUixHQUFha2dCLE1BQU0sa0JBQW1CRCxFQUFLcHhCLFNBQVMsU0FFdER3UixFQUFJNGYsRUFBS3ptQyxLQUFNeW1DLEVBQUt6ckQsVUFDZixDQUNMLE1BQU1nckQsRUFBTSxJQUFJaDdCLE1BQU0sU0FDaEJ1QyxFQUFNNzBCLEtBQUt1dEQsZ0JBQWdCSixHQUNqQ0QsRUFBV0ksRUFBS3o0QixFQUFLczRCLEVBQUtFLFlBRzlCRixFQUFLbjVCLGlCQUFpQixTQUFVbnhCLElBQzlCdUYsUUFBUTBMLE1BQU0seUJBQTBCZzZDLEVBQVMsT0FBUTlkLEVBQUtudEMsR0FDMURxcUQsR0FDRkEsRUFDSXJxRCxFQUNBLDJFQUE0RXNxRCxFQUFLRSxXQUd6RkYsRUFBSzFrQyxLQUFLLE1BQU91bkIsR0FDakJtZCxFQUFLTSxPQUdQUSxZQUNJOWYsRUFDQStlLEdBQ0ZsdEQsS0FBSytzRCxHQUFHa0IsY0FDUHJKLE1BQU1zSixJQUNML2YsRUFBSStmLE1BRUxDLE9BQU90ckQsSUFDTnVGLFFBQVEwTCxNQUFNLDRDQUE2Q2pSLEdBQ3ZEcXFELEVBQ0ZBLEVBQVdycUQsRUFBRyw2Q0FFZHNyQyxFQUFJLFFDOUpMLE1BQU1pZ0IsR0F3QlgsY0FMQSxLQUFBckIsR0FBb0IsS0FNbEIsTUFBTWh1QixFQUFVZ3RCLEtBQWdCQyxhQUdoQ2MsR0FBYXVCLGNBQWNyQixPQUFNLEtBQy9CaHRELEtBQUsrc0QsR0FBS0QsR0FBYXVCLGNBQWN0QixNQUV2Qy9zRCxLQUFLc3VELFlBQWMsSUFBSS9DLEdBQVksQ0FBQ3J5QyxLQUFNLGdCQUFpQjZsQixVQUFTMnNCLE9BQVN4c0QsTUFBYXlzRCxRQUFTLFNBOUIxRjRDLDhCQUNULE1BQU8sQ0FBQyxPQUFRLFFBQVMsT0FBUSxPQUFRLFFBRWhDQyw2QkFDVCxNQUFPLENBQUMsUUFBUyxRQUtuQnZnQixxQkFFRSxPQURBbWdCLEdBQWEvMkMsU0FBVysyQyxHQUFhLzJDLFVBQVksSUFBSSsyQyxHQUM5Q0EsR0FBYS8yQyxTQTBCdEJvM0MsV0FBVzNlLEdBQ1QsR0FBSUEsRUFBVSxDQUNaLE1BQU1nZSxFQUFVaGUsRUFBU0ksUUFBVSxPQUFPSixFQUFTSSxlQUFlSixFQUFTbnJDLE9BQVNtckMsRUFBU2dlLFFBQzdGLE1BQU8sSUFDRmhlLEVBQ0hnZSxZQVlOWSxlQUFlQyxHQUNiM3VELEtBQUt5b0IsT0FDTCxNQUFNcW5CLFFBQWlCOXZDLEtBQUsrc0QsR0FBRzZCLFNBQVNELEdBQ3hDLEdBQUk3ZSxFQUFVLENBQ1osR0FBSUEsRUFBUytlLE1BQVEvZSxFQUFTK2UsS0FBS0MsS0FBT2hmLEVBQVMrZSxLQUFLRSxNQUFPLENBQzdELE1BQU1qQixRQUFnQjl0RCxLQUFLZ3ZELDRCQUE0QmxmLEVBQVNtZixZQUFhbmYsRUFBUytlLE1BRXRGLE9BREE3dUQsS0FBSzZuQixRQUNFLElBQ0Zpb0IsRUFDSGdlLFdBSUosT0FEQTl0RCxLQUFLNm5CLFFBQ0U3bkIsS0FBS3l1RCxXQUFXM2UsR0FHekIsT0FEQTl2QyxLQUFLNm5CLFFBQ0UsS0FHVDZtQyxrQ0FBa0NPLEVBQWFKLEdBQzdDLE9BQU8sSUFBSXpMLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDM0IsTUFBTTRMLEVBQWtCRCxFQUFjLDhFQUdoQ0EsRUFBWXR5Qix5REFHWnN5QixFQUFZeG5DLG1GQUdkLEdBQ0UwbkMsRUFBVyw2SkFJMkJOLEVBQUtDLHlGQUNQRCxFQUFLRSx1REFHekNLLEVBQW9CMXpELFNBQVNDLGNBQWMsT0FDakR5ekQsRUFBSzFyQixVQUFZd3JCLEVBQWtCQyxFQUNBQyxFQUFLajlCLGNBQWMsYUFDOUN1YyxRQUFVLElBQU0xdUMsS0FBS3F2RCxLQUFLSixFQUFZeG5DLFNBQzlDcW1CLEdBQWF3aEIsUUFBUSxlQUFnQixJQUFLL2dCLElBRXRDOFUsRUFERTlVLEVBQ01zZ0IsRUFBS0MsSUFFTEQsRUFBS0UsU0FFZCxXQUFZLGNBQ2ZqaEIsR0FBYXFCLFdBQVdpZ0IsR0FBTSxNQUlsQ0MsS0FBSzFsRCxHQUNILE1BQU00bEQsRUFBVzd6RCxTQUFTQyxjQUFjLE9BQ3hDRCxTQUFTMmhDLEtBQUs5VSxZQUFZZ25DLEdBQzFCLElBQ0VBLEVBQVM3ckIsVUFBWS81QixFQUNyQixNQUFNNmxELEVBQVE5ekQsU0FBUyt6RCxjQUN2QkQsRUFBTUUsV0FBV0gsR0FDakI5ekQsT0FBTyszQyxlQUFlbWMsU0FBU0gsR0FDZjl6RCxTQUFTazBELFlBQVksUUFFbkM5aEIsR0FBYWlCLGNBQWMsb0NBRTNCakIsR0FBYStoQixZQUFZLGdEQUN6QnpuRCxRQUFRMEwsTUFBTSw4QkFBK0JuSyxJQUUvQyxNQUFPMmpELEdBQ1B4ZixHQUFhK2hCLFlBQVksZ0RBQ3pCem5ELFFBQVEwTCxNQUFNLDhCQUErQnc1QyxFQUFLM2pELEdBRXBEak8sU0FBUzJoQyxLQUFLL0ksWUFBWWk3QixHQVU1QmIsZ0JBQWdCQyxHQUNkM3VELEtBQUt5b0IsT0FDTCxNQUFNcW5CLFFBQWlCOXZDLEtBQUsrc0QsR0FBRytDLFVBQVVuQixHQUNuQ29CLEVBQWEvdkQsS0FBS3l1RCxXQUFXM2UsR0FFbkMsT0FEQTl2QyxLQUFLNm5CLFFBQ0Vrb0MsRUFNVHJCLG1CQUNFMXVELEtBQUt5b0IsT0FDTCxNQUFNcW5CLFFBQWlCOXZDLEtBQUsrc0QsR0FBR2lELGFBQ3pCRCxFQUFhL3ZELEtBQUt5dUQsV0FBVzNlLEdBRW5DLE9BREE5dkMsS0FBSzZuQixRQUNFa29DLEVBVVRyQixhQUFhdUIsRUFBcUJ0QixHQUVoQzN1RCxLQUFLeW9CLE9BQ0wsTUFBTXFuQixRQUFpQjl2QyxLQUFLK3NELEdBQUdtRCxPQUFPRCxFQUFhdEIsR0FDN0NvQixFQUFhL3ZELEtBQUt5dUQsV0FBVzNlLEdBRW5DLE9BREE5dkMsS0FBSzZuQixRQUNFa29DLEVBTVR0bkMsT0FDRXpvQixLQUFLc3VELFlBQVk3bEMsT0FNbkJaLFFBQ0U3bkIsS0FBS3N1RCxZQUFZem1DLFNDeE1yQixJQUFZc29DLEdBUUFDLEdBUUFDLEdBS0FDLElBckJaLFNBQVlILEdBQ1Ysa0NBQ0EsMEJBQ0EsMEJBQ0EsMEJBSkYsQ0FBWUEsUUFBYSxLQVF6QixTQUFZQyxHQUNWLCtCQUNBLHVCQUNBLHVCQUNBLHVCQUNBLG1CQUxGLENBQVlBLFFBQVUsS0FRdEIsU0FBWUMsR0FDViwrQkFDQSx1QkFGRixDQUFZQSxRQUFVLEtBS3RCLFNBQVlDLEdBQ1YsNkJBQ0EscUJBRkYsQ0FBWUEsUUFBUSxLLGVDakJiLE1DQU1DLEdBQVlscEQsT0FBTyxjQWN6QixTQUFTbXBELEdBQXlDcHlELEdBQ3ZELE1BQU0sV0FBRXF5RCxFQUFVLFFBQUVqbEQsR0FBWXBOLEVBQ2hDLE1BQU8sQ0FBQzJKLEVBQWlCLEdBQUlELEtBRzNCLE9BRklBLEVBQU92SyxRQUFRakIsT0FBT3dFLEtBQUsydkQsSUFSbkMsU0FBa0JDLEdBRWhCLEdBRG1CQSxFQUFNN2tELFFBQVE4a0QsSUFBVUEsRUFBS0osTUFDakM1dUQsT0FBUSxNQUFNLElBQUlzRCxNQUFNLGdIQU9uQzJyRCxDQUFTOW9ELEVBQU80b0QsT0FDVjVvRCxFQUFPdkssTUFDYixLQUFLa3pELEVBQVdJLFdBQVksT0FBTy9vRCxFQUFPNG9ELE1BQzFDLEtBQUtELEVBQVdqYSxPQUFRLE9BQU8xdUMsRUFBTzRvRCxNQUFNL3VELE9BQVM2SixFQUFRekQsRUFBTTJCLE9BQU81QixFQUFPNG9ELE9BQTBCNW9ELEdBQVVDLEVBQ3JILEtBQUswb0QsRUFBV2hhLE9BQVEsT0FBTzN1QyxFQUFPNG9ELE1BQU0vdUQsT0FBUzZKLEVBQVF6RCxFQUFNOEQsUUFBUThrRCxJQUFVN29ELEVBQU80b0QsTUFBTXgrQyxNQUFNaE8sR0FBTUEsRUFBRXFzRCxNQUFlSSxFQUFLSixRQUFnQ3pvRCxHQUFVQyxFQUM5SyxLQUFLMG9ELEVBQVdsYSxPQUNkLE9BQTRCLElBQXhCenVDLEVBQU80b0QsTUFBTS91RCxPQUFxQm9HLEVBQy9CeUQsRUFBUXpELEVBQU0xRixLQUFLc3VELEdBQ1Y3b0QsRUFBTzRvRCxNQUFNeCtDLE1BQU1oTyxHQUFNQSxFQUFFcXNELE1BQWVJLEVBQUtKLE9BQzdDSSxJQUNJN29ELEdBQ3hCLFFBQ0UsT0FBTzBELEVBQVF6RCxFQUFPRCxLQU12QixTQUFTZ3BELEdBQXVDSixHQUNyRCxPQUFPQSxFQUFNcnVELEtBQUtzdUQsSUFBUyxJQUN0QkEsRUFDSCxDQUFDSixJQUFZbHBELGFBS1YsU0FBUzBwRCxHQUFxQ0wsR0FDbkQsT0FBT0EsRUFBTXJ1RCxLQUFLc3VELElBQ2hCLE1BQU8sQ0FBQ0osSUFBWVMsS0FBVzF1RCxHQUFRcXVELEVBQ3ZDLE9BQU9ydUQsS0FTSixTQUFTMnVELElBQWdCLE1BQUVDLEVBQUssU0FBRUMsRUFBUSxTQUFFQyxJQUNqRCxNQUFPLENBQUNwWSxFQUFnQnJ1QyxLQUV0QixNQUFNMG1ELEVBQVExbUQsRUFBYWtCLFFBQVE4a0QsSUFBVTNYLElBQWNBLEVBQVU5bUMsTUFBTW8vQyxHQUFNQSxFQUFFZixNQUFlSSxFQUFLSixRQUd2RyxHQUZJYyxFQUFNMXZELFFBQVF1dkQsRUFBTUcsR0FFcEJyWSxFQUFXLENBRWIsTUFBTXVZLEVBQVV2WSxFQUFVbnRDLFFBQVE4a0QsSUFBVWhtRCxFQUFhdUgsTUFBTW8vQyxHQUFNQSxFQUFFZixNQUFlSSxFQUFLSixRQUN2RmdCLEVBQVE1dkQsUUFBUXd2RCxFQUFTSSxHQUc3QixNQUFNbFosRUFBVTF0QyxFQUNidEksS0FBS212RCxJQUVHLENBQ0xqcUQsS0FGV3l4QyxFQUFVOW1DLE1BQU1vL0MsR0FBTUEsRUFBRWYsTUFBZWlCLEVBQUdqQixNQUdyRGlCLFNBR0gzbEQsUUFBTyxFQUFFdEUsT0FBTWlxRCxVQUFVanFELEdBQVFBLElBQVNpcUQsSUFDekNuWixFQUFRMTJDLFFBQVF5dkQsRUFBUy9ZLEtDM0U1QixNQUFNb1osR0FBZSxDQUFDbnZELEVBQWUwekMsRUFBVzFnQyxHQUFNMGdDLFdBQWFBLEVBQVMsQ0FDakZ6NEMsS0FBTSt5RCxHQUFTTyxXQUNmdnVELFNBR1dvdkQsR0FBVyxDQUFDcHZELEVBQWUwekMsRUFBVzFnQyxHQUFNMGdDLFdBQWFBLEVBQVMsQ0FDN0V6NEMsS0FBTSt5RCxHQUFTL1osT0FDZmowQyxTQUdXcXZELEdBQVEsSUFBTXI4QyxHQUFNaStCLFdBQVd0cEMsUUFBUTRyQyxHQUV2QytiLEdBQWMsQ0FBQ3pqQixFQUF1RDhLLEVBQVkzakMsR0FBTTJqQyxZQUM1RjRZLEdBQXFCLEtBQU0xakIsRUFBSzhLLEdDZmxDLFNBQVM2WSxHQUFvQnRtRCxFQUFTcE4sR0FDM0MsTUFBTSxjQUFFMnpELEVBQWEsYUFBRUMsR0FBaUI1ekQsRUFDeEMsTUFBTyxDQUFDMkosRUFBY0QsS0FDcEIsTUFBTXRKLEVBQVNnTixFQUFRekQsRUFBT0QsR0FDOUIsT0FBSWtxRCxFQUFhL2dELFNBQVNuSixFQUFPdkssT0FDL0IwMEQsR0FBWXp6RCxFQUFPeUwsU0FDWmlvRCxHQUFZMXpELElBRWpCdXpELEVBQWM5Z0QsU0FBU25KLEVBQU92SyxPQUFTaUIsSUFBV3VKLEVBQzdDbXFELEdBQVkxekQsR0FFZEEsR0FJWCxTQUFTMHpELEdBQVlucUQsR0FDbkIsTUFBTW9xRCxFQUFRQyxHQUFRcnFELEVBQU1rQyxTQUM1QixPQUFJa29ELElBQVVwcUQsRUFBTWtDLFFBQVE0ckMsR0FBR3NjLE1BQ3RCcHFELEVBRUYsSUFDRkEsRUFDSGtDLFFBQVMsSUFDSmxDLEVBQU1rQyxRQUNUNHJDLEdBQUksSUFDQzl0QyxFQUFNa0MsUUFBUTRyQyxHQUNqQnNjLFdBUVIsSUFBSUUsR0FBaUMsQ0FDbkMvTixTQUFVLEtBQ1ZnTyxNQUFPLEtBQ1BDLEtBQU0sTUFHUixTQUFTTixHQUFZbHFELEVBQWV3ckMsTUFFbEMsTUFBTSxTQUFFK1EsRUFBUSxNQUFFZ08sRUFBSyxLQUFFQyxHQUFTeHFELEVBQ2xDc3FELEdBQWlCLENBQUUvTixXQUFVZ08sUUFBT0MsUUFHL0IsU0FBU0MsR0FBV3pxRCxFQUFld3JDLE1BQ3hDMGUsR0FBWWxxRCxHQUNaMnBELEdBQVMsSUFDSkMsS0FDSFEsT0FBTyxJQUlKLFNBQVNDLEdBQVFycUQsRUFBZXdyQyxNQUNyQyxPQUFPeHJDLEVBQU11OEMsV0FBYStOLEdBQWUvTixVQUNwQ3Y4QyxFQUFNdXFELFFBQVVELEdBQWVDLE9BQy9CdnFELEVBQU13cUQsT0FBU0YsR0FBZUUsS0NqRDlCLFNBQVNFLEtBQ2RuOUMsR0FBTTBnQyxTQUFTLHNCQUdWLFNBQVNydkMsS0FDZDJPLEdBQU0wZ0MsU0FBUyxjQUdWLFNBQVNwdkMsS0FDZDBPLEdBQU0wZ0MsU0FBUyxjQUdWLFNBQVMwYyxLQUNkLE9BQU9wOUMsR0FBTWkrQixXQUFXcHBDLEtBQUt4SSxPQUFTLEVBR2pDLFNBQVNneEQsS0FDZCxPQUFPcjlDLEdBQU1pK0IsV0FBV3JwQyxPQUFPdkksT0FBUyxFQUduQyxTQUFTaXhELEdBQW1CcG5ELEVBQVNwTixHQUMxQyxNQUFNLGFBQUU0ekQsR0FBaUI1ekQsRUFDekIsTUFBTyxDQUFDMkosRUFBY0QsS0FDcEIsTUFBTXRKLEVBQVNnTixFQUFRekQsRUFBT0QsR0FDOUIsT0FBSWtxRCxFQUFhL2dELFNBQVNuSixFQUFPdkssTUFqQ3JDLFNBQXNCd0ssR0FFcEIsTUFBTyxJQUNGQSxFQUNIb0MsS0FBTSxHQUNORCxPQUFRLElBNkJDMm9ELENBQWFyMEQsR0FFZkEsR0M3QlgsTUFBTXMwRCxHQUFnQixDQUNwQjNDLEdBQWNVLFdBQ2RULEdBQVdTLFdBQ1hSLEdBQVdRLFlBR1BrQyxHQUFpQixJQUNsQnoyRCxPQUFPNGUsT0FBT2kxQyxJQUFldGtELFFBQVF5VixHQUFNQSxJQUFNNnVDLEdBQWNVLGdCQUMvRHYwRCxPQUFPNGUsT0FBT2sxQyxJQUFZdmtELFFBQVF5VixHQUFNQSxJQUFNOHVDLEdBQVdTLGdCQUN6RHYwRCxPQUFPNGUsT0FBT20xQyxJQUFZeGtELFFBQVF5VixHQUFNQSxJQUFNK3VDLEdBQVdRLGNBSXhEelAsR0FBV0QsR0FBZ0IsQ0FDL0JtUixNQUFPOUIsR0FBMkIsQ0FDaENDLFdBQVlMLEdBQ1o1a0QsUUxoQnVCLENBQUN6RCxFQUFxQixHQUFJRCxLQUNuRCxHQUFRQSxFQUFPdkssT0FDUjZ5RCxHQUFXNEMsS0FBaEIsQ0FFRSxNQUFNaFUsRUFBTWozQyxFQUFNb0ssV0FBV3crQyxHQUFTQSxJQUFTN29ELEVBQU82b0QsT0FDaERzQyxFQUFjLElBQUlsckQsRUFBTTlKLE1BQU0sRUFBRytnRCxNQUFTajNDLEVBQU05SixNQUFNK2dELEVBQU0sSUFFbEUsTUFBTyxJQUFJaVUsRUFBWWgxRCxNQUFNLEVBQUc2SixFQUFPazNDLEtBQU1sM0MsRUFBTzZvRCxRQUFTc0MsRUFBWWgxRCxNQUFNNkosRUFBT2szQyxNQUUvRSxPQUFPajNDLEdLUWhCdWxDLE1BQU8sVUFFVGdYLFNBQVVrTSxHQUE4QixDQUN0Q0MsV0FBWU4sR0FDWjNrRCxRTDNCMEIsQ0FBQ3pELEVBQXdCLEdBQUlELEtBQ2pEQSxFQUFPdkssS0FDR3dLLEdLMEJoQnVsQyxNQUFPLGFBRVRpbEIsS0xYeUIsQ0FBQ3hxRCxFQUFtQixDQUM3Q2dtQixZQUFhLEdBQ2JtbEMsY0FBYyxFQUNkQyxZQUFZLEVBQ1o3a0IsTUFBTyxHQUNQOGtCLGdCQUFpQixLQUNqQkMsV0FBWSxHQUNaQyxZQUFhLEdBQ2JDLG9CQUFxQixHQUNyQkMsa0JBQW1CLEdBQ25CQyxZQUFhLEdBQ2JDLEtBQU0sR0FDTnRnQyxPQUFRLEVBQ1J1Z0MsVUFBVyxHQUNYQyxXQUFZLEdBQ1pDLFNBQVUsR0FDVkMsZ0JBQWlCLEdBQ2pCQyxjQUFlLEdBQ2ZDLFlBQWEsR0FDYkMsTUFBTyxHQUNQQyxPQUFRLEdBQ1JDLEtBQU0sS0FDTkMsc0JBQXVCLEdBQ3ZCOXhELEtBQU0sSUFDTHdGLEtBQ0QsT0FBUUEsRUFBT3ZLLE1BQ2IsS0FBSzh5RCxHQUFXUSxXQUFZLE1BQU8sSUFDOUIvb0QsRUFBT3hGLE1BRVosS0FBSyt0RCxHQUFXOVosT0FBUSxNQUFPLElBQzFCeHVDLEtBQ0FELEVBQU94RixNQUVaLFFBQVMsT0FBT3lGLElLckJsQjh0QyxHTHlCdUIsQ0FBQzl0QyxFQUFpQixDQUN6Q3NzRCxRQUFTMW1CLEdBQVEybUIsTUFDakJuQyxPQUFPLEVBQ1BvQyxjQUFjLEVBQ2RDLGNBQWUsS0FDZi9JLFFBQVMsQ0FBQyxDQUNScjJDLEdBQUksU0FDSjdYLEtBQU0sYUFDTjRqQyxTQUFTLEdBQ1IsQ0FDRC9yQixHQUFJLFFBQ0o3WCxLQUFNLGFBQ040akMsU0FBUyxHQUNSLENBQ0QvckIsR0FBSSxTQUNKN1gsS0FBTSxhQUNONGpDLFNBQVMsSUFFWHN6QixVQUFXLEtBQ1hDLFdBQVksSUFDWDVzRCxLQUNELE9BQVFBLEVBQU92SyxNQUNiLEtBQUsreUQsR0FBU08sV0FBWSxNQUFPLElBQzVCL29ELEVBQU94RixNQUVaLEtBQUtndUQsR0FBUy9aLE9BQVEsTUFBTyxJQUN4Qnh1QyxLQUNBRCxFQUFPeEYsTUFFWixRQUFTLE9BQU95RixNS3BEcEIsSUFBSTRzRCxHQUFpQixFQUNkLE1BQU1yL0MsR0FBb0IycUMsR0FDL0I2UixHQUNFYyxJQUNFLFNBQ0V4UixHQUFVLENBQ1J2MUMsUUFBUSxTQUFja25ELElBQ3RCam5ELFFBQVMsS0FDUCxNQUFNN00sRUFBT2xDLEtBQUt5akIsTUFBTXBqQixLQUFLRCxNQUFRLEtBQy9CeTNELEVBQVUzMUQsRUFBTzAxRCxHQUV2QixPQURBQSxHQUFpQjExRCxFQUNWMjFELEtBR1YsQ0FDRDVDLGFBQWNjLEtBRWYsQ0FDRGYsY0FBZWdCLEdBQ2ZmLGFBQWNjLE1BTXBCLElBQUkrQixHQUFrQnYvQyxHQUFNaStCLFdBQVd0cEMsUUFDbkMrdUMsR0FBbUIsS0FXaEIsU0FBUzhiLEdBQXFDNTdDLEVBQWNpMUIsRUFBK0M4SyxFQUFZM2pDLEdBQU0yakMsV0FDbEksT0FBT0EsR0FBVSxLQUNmLE1BQU1seEMsRUFBUXVOLEdBQU1pK0IsV0FDZnlGLElBQWFqeEMsRUFBTWtDLFFBQVFpUCxLQUFVOC9CLEdBQVU5L0IsSUFDbERpMUIsRUFBSTZLLEdBQVlBLEdBQVU5L0IsR0FBUSxLQUFNblIsRUFBTWtDLFFBQVFpUCxPQVVyRCxTQUFTMjRDLEdBQWUzNEMsRUFBY2kxQixFQUEyQzhLLEVBQVkzakMsR0FBTTJqQyxXQUN4RyxPQUFPQSxHQUFVLEtBQ2YsTUFBTWx4QyxFQUFRdU4sR0FBTWkrQixXQUNmeUYsSUFBYWp4QyxFQUFNa0MsUUFBUWlQLEtBQVU4L0IsR0FBVTkvQixJQUNsRGkxQixFQUFJNkssR0FBWUEsR0FBVTkvQixHQUFRLEtBQU1uUixFQUFNa0MsUUFBUWlQLE9BNUI1RDVELEdBQU0yakMsV0FBVSxLQUNkRCxHQUFZNmIsR0FDWkEsR0FBV3YvQyxHQUFNaStCLFdBQVd0cEMsV0FtQ3ZCLE1BQU1zcEMsR0FBVyxJQUFhaitCLEdBQU1pK0IsV0FBV3RwQyxRQzdGekM4cUQsR0FBbUJ6USxHQUE0Q3dNLEdBQW9DeE0sR0FDbkcwUSxHQUFpQjFRLEdBQTRDeU0sR0FBa0N6TSxHQUUvRjJRLEdBQXFCLENBQUN2RSxFQUF1QjFhLEVBQVcxZ0MsR0FBTTBnQyxXQUFhQSxFQUFTLENBQy9GejRDLEtBQU00eUQsR0FBY1UsV0FDcEJILFVBR1d3RSxHQUFpQixDQUFDeEUsRUFBdUIxYSxFQUFXMWdDLEdBQU0wZ0MsV0FBYUEsRUFBUyxDQUMzRno0QyxLQUFNNHlELEdBQWMzWixPQUNwQmthLFVBR1d5RSxHQUFpQixDQUFDekUsRUFBdUIxYSxFQUFXMWdDLEdBQU0wZ0MsV0FBYUEsRUFBUyxDQUMzRno0QyxLQUFNNHlELEdBQWMxWixPQUNwQmlhLFVBR1cwRSxHQUFpQixDQUFDMUUsRUFBdUIxYSxFQUFXMWdDLEdBQU0wZ0MsV0FBYUEsRUFBUyxDQUMzRno0QyxLQUFNNHlELEdBQWM1WixPQUNwQm1hLFVBR1cyRSxHQUFjLElBQU0vL0MsR0FBTWkrQixXQUFXdHBDLFFBQVFxNkMsU0FFN0NnUixHQUFvQixDQUFDbm5CLEVBQXFFOEssRUFBWTNqQyxHQUFNMmpDLFlBQ2hINmIsR0FBOEIsV0FBWTNtQixFQUFLOEssR0NoQ2pELFNBQVNzYyxHQUFZcnpELEVBQVlSLEtBQWtCd1osR0FDeEQsTUFBTyxJQUNGaFosRUFBTWpFLE1BQU0sRUFBR3lELE1BQ2Z3WixLQUNBaFosRUFBTWpFLE1BQU15RCxJQVFaLE1BQU04ekQsR0FBUWx3RCxHQUFRQSxFQUFJZixRQUFPLENBQUNtNkIsRUFBS3RVLElBQVFzVSxFQUFJaDFCLE9BQU8wZ0IsSUFBTSxJQ0xoRSxTQUFTcXJDLEdBQW1CMTJCLEVBQXVCMjJCLEVBQTJCcnRDLEdBQ25GLE1BQU03cEIsRUFBUyxJQUNWNnBCLEdBWUwsTUFWdUIsV0FBbkJBLEVBQU16SCxrQkFDRHBpQixFQUFPdVUsWUFDUHZVLEVBQU84MkIsTUFFWnlKLEVBQVF4aEMsT0FBU2lpRCxHQUFZbVcsU0FBV0QsWUFDbkNsM0QsRUFBTzQwQixhQUNQNTBCLEVBQU91VSxZQUNQdlUsRUFBTzgyQixLQUVaeUosRUFBUXhoQyxPQUFTaWlELEdBQVltVyxnQkFBZ0JuM0QsRUFBTzYyQixPQUNqRDcyQixFQUlGLFNBQVNvM0QsR0FBMEJyQixFQUF1QnNCLEVBQXNEeHRDLEdBQ3JILE1BQU8sSUFDRnd0QyxFQUNIQyxPQUFRdkIsRUFBZSxJQUNsQnNCLEVBQWNDLFVBQ2R6dEMsR0FDRHd0QyxFQUFjQyxPQUNsQkMsUUFBU3hCLEVBQWVzQixFQUFjRSxRQUFVLElBQzNDRixFQUFjRSxXQUNkMXRDLElBb0JGLFNBQVMydEMsR0FBYzN0QyxFQUFnQ3NwQixFQUF1QnNrQixFQUFVLElBQzdGLE9BQU8zNUQsT0FBT3dFLEtBQUt1bkIsR0FHaEJ4YyxRQUFRMUosS0FBVWttQixFQUFNbG1CLEtBQ3hCRSxLQUFLRixJQUFRLENBQ1pBLE1BQ0Fpb0IsSUFBSy9CLEVBQU1sbUIsT0FFWm9DLFFBQU8sQ0FBQy9GLEdBQWlCMkQsTUFBS2lvQixTQUUzQjVyQixHQURFbXpDLEdBQXdCLFdBQVJ4dkMsRUFDUjh6RCxFQUFVLGVBQWlCN3JDLEVBQU0sS0FFakMsR0FBRzZyQyxJQUFVOXpELE1BQVFpb0IsUUFHaEMsSUErRkEsU0FBUzhyQyxHQUFZQyxHQUUxQixHQUE0QixJQUF4QkEsRUFBSzdyRCxRQUFRLE9BQ2YsT0FBTyxLQVVULE1BQU04ckQsR0FETkQsR0FMRUEsRUFGMkIsSUFBekJBLEVBQUs3ckQsUUFBUSxRQUVSNnJELEVBQUtyNEQsUUFBUSxNQUFPLElBR3BCcTRELEVBQUtyNEQsUUFBUSxPQUFRLEtBRWxCQSxRQUFRLElBQUssS0FDSitoRCxVQUFVLEVBQUdzVyxFQUFLeDBELE9BQVMsR0FBR2tELE1BQU0sS0FXekQsT0FSSXV4RCxFQUFRejBELE9BQVMsR0FDbkJ5MEQsRUFBUTN5RCxLQUFLLEtBTUEsQ0FKTHRILFNBQVNpNkQsRUFBUSxHQUFJLElBQ3JCajZELFNBQVNpNkQsRUFBUSxHQUFJLElBQ3JCajZELFNBQVNpNkQsRUFBUSxHQUFJLElBQ0ksSUFBekJ0L0IsV0FBV3MvQixFQUFRLEtDcEx4QixTQUFTLEdBQWMva0IsRUFBbUJ0UyxHQUMvQyxPQUdLLFNBQTJCc1MsRUFBbUJnbEIsR0FDbkQsT0FBT2hsQixFQUFJbGYsY0FBYyxJQUFJdTBCLEdBQVV3Qix5QkFBeUJtTyxPQUp6REMsQ0FBa0JqbEIsRUFBS3RTLEVBQVEzcEIsSUFPakMsU0FBU292QyxHQUFNemxCLEdBQ3BCLE9BQU9BLEVBQVF2TSxhQUFhazBCLEdBQVV3QixzQkE0TGpDLFNBQVNxTyxHQUFtQmxsQixFQUFLZ2xCLEVBQVdHLEdBQ2pELE1BQU1DLEVBQWFDLEdBQW9CcmxCLEdBQ2pDc2xCLEVBcURSLFNBQXFCRixFQUEyQkosRUFBbUJHLEdBRWpFLElBQUssSUFBSXhYLEVBQU0sRUFBR0EsRUFBTXlYLEVBQVdHLFNBQVNqMUQsT0FBUXE5QyxJQUFPLENBQ3pELE1BQU02WCxFQUFVSixFQUFXRyxTQUFTNVgsR0FFcEMsSUFBa0IsSUFBYndYLEdBQXNCSyxFQUFRQyxlQUFpQixJQUFNVCxHQUNyRFEsRUFBUUUsT0FBU0YsRUFBUUQsVUFBWUMsRUFBUUQsU0FBUyxJQUNuREMsRUFBUUQsU0FBUyxHQUFHRSxlQUFpQixJQUFNVCxFQUNqRCxNQUFPLENBQ0xXLEtBQU1ILEVBQ050OEIsT0FBUWs4QixFQUNSLzBELE1BQU9zOUMsR0FJYixPQUFPLEtBcEVlaVksQ0FBWVIsRUFBWUosRUFBV0csR0FHckRHLEdBQ0ZGLEVBQVdTLFdBQVdQLEVBQWNqMUQsT0FJakMsU0FBU3kxRCxHQUFnQjlsQixFQUFtQnRTLEVBQXNCeTNCLEdBRXZFLE1BQU1ILEVBQVl0M0IsRUFBUTNwQixHQUNwQmlULEVBQVFtdUMsRUFBV3ozQixFQUFRMVcsTUFBTXl0QyxPQUFTLzJCLEVBQVExVyxNQUFNMHRDLFFBQ3hEVSxFQUFhQyxHQUFvQnJsQixHQUV2Q2tsQixHQUFtQmxsQixFQUFLdFMsRUFBUTNwQixHQUFJb2hELEdBRXBDLE1BQU1ZLEVBQVlwQixHQUFjM3RDLEVBQU8wVyxFQUFRNFMsY0FHL0MsR0FBSXlsQixFQUFTejFELE9BQVEsQ0FHbkIsTUFBTTAxRCxFQUFVLElBQUloQixNQUFjZSxLQUM5QlosRUFHRkMsRUFBV2EsV0FBV0MsR0FBY0YsR0FBVVosRUFBV0csU0FBU2oxRCxRQUVsRTgwRCxFQUFXYSxXQUFXRCxFQUFTLElBS3JDLFNBQVNYLEdBQW9CcmxCLEdBRTNCLElBQUltbUIsRUFBNkJubUIsRUFBSWxmLGNBQWMsSUFBTXUwQixHQUFVNkQsNkJBQzlEaU4sSUFDSEEsRUFBV25tQixFQUFJMTFDLGNBQWMsU0FDN0I2N0QsRUFBU3A2QyxVQUFVakgsSUFBSXV3QyxHQUFVNkQsNkJBQ2pDbFosRUFBSThSLEtBQUs1NkIsWUFBWWl2QyxJQUV2QixJQUFLLE1BQU03ckIsS0FBSzBGLEVBQUlvbUIsWUFBYSxDQUMvQixNQUFNQyxFQUFnQi9yQixFQUN0QixHQUNHK3JCLEVBQWNDLFdBQWFELEVBQWNDLFlBQWNILEdBQ3JERSxJQUFrQkYsRUFBU0ksTUFDOUIsT0FBT0YsRUFJWCxPQURBdHZELFFBQVEwTCxNQUFNLHVCQUNQLEtBeUNGLFNBQVMrakQsR0FBZTk0QixHQUU3QixPQUQ2QkEsRUFBUTVNLGNBQWMsYUFBZXUwQixHQUFVMkIsNkJBQzFEdHBCLEVBcUJiLFNBQVMrNEIsR0FBYS80QixHQUMzQixJQUFJMkUsRUFBWW0wQixHQUFlOTRCLEdBQVMyRSxVQUl4QyxPQURBQSxFQW1CRixTQUEyQnBjLEdBQ3pCLE9BQU9BLEVBQUt4cEIsUUFDUiwrQkFBZ0MsMEJBckJ4Qmk2RCxDQUFrQnIwQixHQUN2QkEsRUEyQkYsU0FBUzZ6QixHQUFjSCxHQUM1QixNQUFPLFVBQVkxUSxHQUFVeUQsbUJBQXFCLElBQU1pTixFQUFXLElBMkI5RCxTQUFTWSxHQUFvQkMsRUFBOEI3NUQsR0FDaEUsT0FBTzY1RCxFQUFrQkMsU0FBUzk1RCxFQUFRKzVELGFBQWMvNUQsRUFBUWtFLEtBQU1sRSxFQUFRNDFELGFDeFh6RSxNQUFNb0UsR0FBaUIsQ0FBQ2hqRCxFQUFla3ZDLEVBQVcrUSxPQUN2Qy9RLEVBQVNweUMsTUFBTXBCLEdBQU9BLEVBQUdzRSxLQUFPQSxLQUd6QyxLQUVJaWpELEdBQXlCLENBQUNobkIsRUFBbUJ0UyxFQUFzQnVsQixFQUFXK1EsT0FBa0IvUSxFQUFTcHlDLE1BQU1wQixHQUFPaXVCLElBQVksR0FBY3NTLEVBQUt2Z0MsS0FFckp3bkQsR0FBYyxDQUFDdjVCLEVBQXVCdWxCLEVBQVcrUSxPQUFrQ3QyQixFQUFRNkYsU0FBU3ZpQyxLQUFLK1MsR0FBT2dqRCxHQUFlaGpELEVBQUlrdkMsS0FFbklpVSxHQUF1QixDQUFDeDVCLEVBQXVCdWxCLEVBQVcrUSxPQUM5RHQyQixFQUFRNkYsU0FDZHZpQyxLQUFLK1MsR0FBT2dqRCxHQUFlaGpELEVBQUlrdkMsS0FDL0J6NEMsUUFBUWlGLEtBQVNBLElBQ2pCcEgsT0FBT3ExQixFQUFRNkYsU0FBU3JnQyxRQUFPLENBQUMwRCxFQUFNbU4sS0FDckMsTUFBTXRFLEVBQUtzbkQsR0FBZWhqRCxFQUFJa3ZDLEdBQzlCLE9BQUl4ekMsRUFBVzdJLEVBQUt5QixPQUFPNnVELEdBQXFCem5ELEVBQUl3ekMsSUFDN0NyOEMsSUFDTixLQUdRdXdELEdBQVksQ0FBQ3o1QixFQUF1QnVsQixFQUFXK1EsT0FBZ0MvUSxFQUFTcHlDLE1BQU1xb0IsR0FBV0EsRUFBT3FLLFNBQVMzekIsU0FBUzh0QixFQUFRM3BCLE1BRTFJcWpELEdBQWdCLENBQUMxNUIsRUFBdUJ1bEIsRUFBVytRLFFBQzlELE1BQU05NkIsRUFBU2krQixHQUFVejVCLEVBQVN1bEIsR0FDbEMsT0FBUy9wQixFQUFTLENBQUNBLEtBQVdrK0IsR0FBY2wrQixFQUFRK3BCLElBQWEsSUFJdERvVSxHQUFTLENBQUM1bkQsRUFBa0J3ekMsRUFBVytRLFFBQTRCbUQsR0FBVTFuRCxFQUFJd3pDLEdBRWpGcVUsR0FBVSxDQUFDclUsRUFBVytRLE9BQWdDL1EsRUFBU3B5QyxNQUFNcEIsR0FBTzRuRCxHQUFPNW5ELEVBQUl3ekMsS0FFdkZzVSxHQUFtQixDQUFDNzVCLEVBQXVCdWxCLEVBQVcrUSxPQUFnQ3QyQixFQUFRMjJCLGlCQUFtQjhDLEdBQVV6NUIsRUFBU3VsQixHQUFZdmxCLEVBSWhKLEdBQXNCLENBQUN1bEIsRUFBVytRLE9BQWtCL1EsRUFDOUR6NEMsUUFBUWlGLEdBQU9BLEVBQUd1aUMsV0FFUndsQixHQUFzQyxDQUFDdlUsRUFBVytRLE9BQWtCL1EsRUFDOUV6NEMsUUFBUWlGLEdBQU9BLEVBQUd1aUMsV0FDbEJoeEMsS0FBS3lPLEdBQU84bkQsR0FBaUI5bkQsRUFBSXd6QyxLQUs3QixTQUFTd1UsR0FBb0IvNUIsRUFBdUJ1bEIsRUFBVytRLE1BQ3BFLE1BQU05NkIsRUFBU2krQixHQUFVejVCLEVBQVN1bEIsR0FDbEMsT0FBTS9wQixFQUNBQSxFQUFPdytCLFVBQVVwM0QsT0FDWjQ0QixFQUVGdStCLEdBQW9CditCLEVBQVErcEIsR0FHOUIsS0N6REYsTUFBTTBVLEdBQWlCLENBQUMxMkQsRUFBaUIwekMsRUFBVzFnQyxHQUFNMGdDLFdBQWFBLEVBQVMsQ0FDckZ6NEMsS0FBTTh5RCxHQUFXUSxXQUNqQnZ1RCxTQUdXMjJELEdBQWEsQ0FBQzMyRCxFQUFpQjB6QyxFQUFXMWdDLEdBQU0wZ0MsV0FBYUEsRUFBUyxDQUNqRno0QyxLQUFNOHlELEdBQVc5WixPQUNqQmowQyxTQUdXNDJELEdBQVUsSUFBTTVqRCxHQUFNaStCLFdBQVd0cEMsUUFBUXNvRCxLQUV6QzRHLEdBQWdCLENBQUNockIsRUFBMkQ4SyxFQUFZM2pDLEdBQU0yakMsWUFDbEc0WSxHQUF1QixPQUFRMWpCLEVBQUs4SyxHQ1R0QyxTQUFTbWdCLEdBQW1CQyxHQUtqQyxPQUFPM1MsR0FBVXdFLGlCQUFWLEtBQ0RsakIsSUFDRyxDQUNMQSxhQUNBMWxDLEtBQU0rMkQsRUFBVW5GLE9BQU9sc0IsT0FHMUJuOEIsUUFBUS9ILEtBQVVBLEVBQUl4QixPQUN0QkQsS0FBS2kzRCxJQUNKLE1BQU1DLEVBQWdCLEdBQ3RCLElBQUssTUFBTUMsS0FBVUYsRUFBTWgzRCxLQUN6QmkzRCxFQUFjOTFELEtBQUssQ0FDakJ1a0MsV0FBWXN4QixFQUFNdHhCLFdBQ2xCeXhCLFlBQWFELEVBRWJsM0QsS0FBTWczRCxFQUFNaDNELEtBQUtrM0QsS0FHckIsT0FBT0QsS0FFUmgxRCxRQUFPLENBQUNtNkIsRUFBS3RVLElBQVFzVSxFQUFJaDFCLE9BQU8wZ0IsSUFBTSxJQ1p6QyxJQUFJc3ZDLEdBQ0FDLEdBQ0FDLEdBQ0FDLEdBQ0FDLElBQWtCLEVBSWYsU0FBU0MsS0FFZEgsR0FBcUI3TixLQUFnQlcsYUFBYXY2QixjQUFjLGdEQUdoRXduQyxHQUFpQixJQUFJbCtELE9BQWtCLFVBQUVtK0QsR0FBb0Isc0JBSTdESSxHQUFlcnVELEdBQU95aEMsa0JBR3hCLFNBQVM2c0IsS0FFUCxPQURJUCxJQUFvQkssS0FDakJMLEdBR1QsU0FBU1EsS0FFUCxPQURJUCxJQUFnQkksS0FDYkosR0FHRmpMLGVBQWV5TCxHQUFpQnpGLEVBQWEwRixNQUNsRCxNQWlCTUMsU0FqQjJCalgsUUFBUXB4QixJQUE0QjBpQyxFQUNsRXJ5RCxLQUFLeU8sR0FBT2tuRCxHQUNYaUMsS0FBeUIsQ0FDdkI5QixhQUFjcm5ELEVBQUd4TyxLQUFLZzRELFVBQVVuQyxhQUNoQzcxRCxLQUFNd08sRUFBR3hPLEtBQUtnNEQsVUFBVWg0RCxLQUN4QjB4RCxZQUFha0YsS0FBVWxGLGNBRXhCcFAsTUFBTTJWLEdBQWMsQ0FDbkJ6cEQsRUFDQXlwRCxLQUVEcE0sT0FBT2IsSUFDTmxsRCxRQUFRMEwsTUFBTSw4QkFBK0J3NUMsR0FDdEMsWUFLVnpoRCxRQUFRaUYsS0FBU0EsSUFXcEJza0QsR0FBZWlGLEVBQ1p4dUQsUUFBTyxFQUFFaUYsRUFBSXlwRCxLQUFlenBELEVBQUd5cEQsWUFBY0EsSUFDN0NsNEQsS0FBSSxFQUFFeU8sRUFBSXlwRCxNQUFlLElBQ3JCenBELEVBQ0h5cEQsaUJBSUMsU0FBU1AsR0FBZXQwRCxHQUU3Qm0wRCxHQUF5QjlOLEtBQWdCVyxhQUFhdjZCLGNBQWMsK0JBRXBFLE1BQU1xb0MsRUFBb0IsSUFBSS8rRCxPQUFrQixVQUFFbytELEdBQXdCbjBELEdBR3JFZzBELEtBQW9CQSxHQUFxQmMsR0FFOUNBLEVBQU94TixPQUFPTSxJQUNSQSxFQUNGbGxELFFBQVEwTCxNQUFNdzVDLElBRWRvTSxHQUFxQmMsRUFDckJWLElBQWtCLEVBQ2xCcEksR0FBUyxJQUNKQyxLQUNIK0MsV0FBWStGLEdBQWlCL1QsR0FBVXNFLHNCQVV4QyxTQUFTeVAsR0FBaUJsOUQsR0FDL0IsTUFBTXVHLEVBQU12RyxJQUFTbXBELEdBQVVzRSxlQUFpQmlQLEtBQTBCQyxLQUMxRSxPQUFPcDJELEVBQU1BLEVBQUk0MkQsY0FBaUIsR0FHN0IsU0FBU0MsR0FBWTU3QixHQUMxQixRQUFTQSxFQUFRejhCLEtBQUtnNEQsYUFBZXY3QixFQUFRejhCLEtBQUtnNEQsVUFBVW5DLGFBR3ZELFNBQVNpQyxHQUFjOVYsRUFBVytRLE1BQ3ZDLE9BQU8vUSxFQUFTejRDLFFBQVFpRixHQUFPNnBELEdBQVk3cEQsS0FPdEMsU0FBUzhwRCxHQUFjNzdCLEVBQXVCbzVCLEdBQ25ELE1BQ00wQyxFQURnQkosR0FBaUIvVCxHQUFVc0UsZ0JBQ3RCbU4sR0FDM0IsR0FBSTBDLEVBQU0sQ0FDUixNQUFNM2hELEVBQU8rZ0QsS0FDVmEsV0FBVzNDLEVBQWM5QyxLQUN2QnhwRCxRQUFRaUYsR0FBTzZwRCxHQUFZN3BELEtBQzNCek8sS0FBS3lPLEdBQU9BLEVBQUd4TyxLQUFLZzRELGFBT25CUyxFQUFhQyxHQUFjN0MsSUFBaUIsR0FJNUN4bUIsT0FBNEMsSUFBdEJrcEIsRUFBS2xwQixhQUErQjVTLEVBQVE0UyxhQUFla3BCLEVBQUtscEIsYUFHdEZzcEIsRUFBYUosRUFBS0ksWUFBYyxHQVd0QyxPQVJJSixFQUFLSyw0QkFJUDl5RCxRQUFRMEwsTUFBTSxrQkFBbUIrbUQsRUFBS0ssNEJBSWpDbEQsR0FBb0JpQyxLQUF5QixDQUNsRDlCLGVBQ0E3MUQsS0FBTSxHQUNOMHhELFlBQWFrRixLQUFVbEYsY0FFeEJwUCxNQUFNdDlCLElBQ0UsSUFDRnlYLEVBQ0gzaEIsVUFBVzJoQixFQUFRM2hCLFVBQVUxVCxPQUFPcXhELEdBQ3BDejRELEtBQU0sSUFDRHk4QixFQUFRejhCLEtBQ1hnNEQsVUFBVyxDQUNUcGhELE9BQ0FpL0MsZUFDQTcxRCxLQUFNLEtBR1ZpNEQsVUFBV2p6QyxFQUNYcXFCLGVBQ0F0cEIsTUFBTyxJQUNGMFcsRUFBUTFXLE1BQ1gwdEMsUUFBUyxJQUNKaDNCLEVBQVExVyxNQUFNMHRDLFdBQ2RrRixRQU1YN3lELFFBQVEwTCxNQUFNLG9EQVFYLFNBQVNxbkQsR0FBc0JwOEIsR0FDcEMsT0FBSTQ3QixHQUFZNTdCLEdBRVBpOEIsR0FEZWo4QixFQUFRejhCLEtBQUtnNEQsVUFBVW5DLGNBR3hDLEdBU0YsU0FBUzZDLEdBQWM3QyxHQUM1QixNQUNNMEMsRUFEZ0JKLEdBQWlCL1QsR0FBVXNFLGdCQUNEbU4sR0FDaEQsSUFBSTRDLEVBQWEsQ0FBQ3JVLEdBQVVnRSxxQkFBdUIsSUFBTXlOLEdBQ3pELEdBQUkwQyxFQUdGLGNBQWVBLEVBQUtPLGlCQUNsQixJQUFLLFlBQ0gsTUFDRixJQUFLLFNBQ0hMLEVBQWFBLEVBQVdyeEQsT0FBT214RCxFQUFLTyxnQkFBZ0J2MkQsTUFBTSxNQUMxRCxNQUNGLFFBQ0VrMkQsRUFBYUEsRUFBV3J4RCxPQUFPbXhELEVBQUtPLHNCQUd4Q2h6RCxRQUFRMEwsTUFBTSx1RkFBdUZxa0QsT0FFdkcsT0FBTzRDLEVBUUYsU0FBU00sR0FBNkJDLEVBQVk1QixHQUFvQnBWLEVBQVcrUSxLQUFlcmYsRUFBVzFnQyxHQUFNMGdDLFVBQ3RILE1BQU0wZSxFQUFhcFEsRUFDaEJ6NEMsUUFBUWlGLEdBQU82cEQsR0FBWTdwRCxLQUMzQnpPLEtBQUt5TyxHQUFPQSxFQUFHeE8sS0FBS2c0RCxZQUVqQmxHLEVBQXdCa0gsRUFBVUMsZ0JBQWdCN0csR0FHbEQ4RyxFQUE0Q2wvRCxPQUFPd0UsS0FBS3N6RCxHQUMzRDd2RCxRQUFPLENBQUNzckMsRUFBMkJsUyxLQUNsQyxNQUFNODlCLEVBQVNySCxFQUFzQnoyQixHQUNsQzl4QixRQUFPLENBQUNsSixFQUFLcThDLEtBQVNvVixFQUFzQnoyQixHQUFTenJCLE1BQUssQ0FBQ3dwRCxFQUFhQyxJQUFnQjNjLEVBQU0yYyxHQUFlQyxHQUFVajVELEVBQUsrNEQsT0FHL0gsT0FGQTdyQixFQUFLbFMsR0FBV2tTLEVBQUtsUyxJQUFZLEdBQ2pDa1MsRUFBS2xTLEdBQVdrUyxFQUFLbFMsR0FBU2owQixPQUFPK3hELEdBQzlCNXJCLElBQ04sSUFFQ2dzQixFQUFrQjNDLEtBQVU5RSxzQkFDNUIwSCxFQUFVeC9ELE9BQU93RSxLQUFLKzZELEdBQ3RCRSxFQUFVei9ELE9BQU93RSxLQUFLMDZELEdBQ2JNLEVBQVFuNkQsU0FBV282RCxFQUFRcDZELFFBQVVtNkQsRUFDakQ3cEQsT0FBTzByQixJQUNOLE1BQU1xK0IsRUFBVUgsRUFBZ0JsK0IsR0FDMUJzK0IsRUFBVVQsRUFBcUI3OUIsR0FFckMsUUFBU3MrQixHQUFXQSxFQUFRdDZELFNBQVdxNkQsRUFBUXI2RCxRQUFVcTZELEVBQ3REL3BELE9BQU9pcUQsR0FBV0QsRUFBUS9wRCxNQUFNaXFELEdBQVdQLEdBQVVNLEVBQVFDLFdBSWxFbEQsR0FBVyxJQUNOQyxLQUNIOUUsc0JBQXVCb0gsR0FDdEJ4bEIsR0FJQSxTQUFTNGxCLEdBQVVRLEVBQThCQyxHQUN0RCxPQUFPLy9ELE9BQU93RSxLQUFLczdELEdBQU1ucUQsT0FBT3FxRCxHQUFhRixFQUFLRSxLQUFjRCxFQUFLQyxNQUNoRWhnRSxPQUFPd0UsS0FBS3U3RCxHQUFNcHFELE9BQU9xcUQsR0FBYUYsRUFBS0UsS0FBY0QsRUFBS0MsS0FPOUQsU0FBU0MsS0FDVnpDLEtBQ0ZELEdBQXVCejhDLFVBQVVqSCxJQUFJLGNBQ3JDOGpELEtBQXdCdUMsUUFRckIsU0FBU0MsR0FBb0JyK0QsR0FNOUIwN0QsS0FDRkcsS0FBd0J1QyxLQUFLcCtELEVBQVFrRSxLQUFNbEUsRUFBUTQxRCxZQUFhNTFELEVBQVErNUQsYUFBYy81RCxFQUFReTlCLFFBQzlGZytCLEdBQXVCejhDLFVBQVV1VixPQUFPLGVBT3JDLFNBQVMrcEMsR0FBZ0J0K0QsR0FNMUIwN0QsSUFDRkksS0FBb0JzQyxLQUFLcCtELEVBQVFrRSxLQUFNbEUsRUFBUTQxRCxZQUFhNTFELEVBQVErNUQsYUFBYy81RCxFQUFReTlCLFFBVXZGLFNBQVM4Z0MsR0FBcUJqcEIsR0FDbkMsTUFBTWtwQixFQUFXbGhFLFNBQVNtaEUseUJBTzFCLE9BTkFyOEQsTUFBTStHLEtBQUttc0MsRUFBYzlPLFVBQ3hCeDJCLFNBQVMwQyxJQUNKQSxFQUFHc00sVUFBVW9XLFNBQVMsbUJBQ3hCb3BDLEVBQVNyMEMsWUFBWXpYLEVBQUdpMUIsV0FBVSxPQUcvQjYyQixFQU9GLFNBQVNFLEdBQTBCeDFDLEVBQWMwZ0IsR0FDdEQsT0FBSUEsSUFBZTBlLEdBQVV3RSxpQkFBaUIsR0FDckM1akMsRUFFRml3QyxHQUFjandDLEdBT2hCLFNBQVN5MUMsR0FBYzFyQixFQUFtQnpmLEVBQXNCNm5DLEVBQTBCenhCLEVBQXdCMWxDLEVBQXVCMDZELEdBRzlJLE1BQU1DLEVBQVUzNkQsR0FBUSxHQUN4QjI2RCxFQUFRcnJDLFVBQVlBLEVBQ3BCcXJDLEVBQVF4RCxZQUFjQSxFQUd0QixNQUFNSixFQUFhSCxLQUFVaEYsT0FBT3RpQyxJQUFjLENBQ2hEQSxZQUNBdW1DLGFBQWMsT0FDZDZFLGNBQ0E5SSxPQUFRLElBRUxtRixFQUFVbkYsT0FBT2xzQixLQUNwQnF4QixFQUFVbkYsT0FBT2xzQixHQUFjLElBRWpDcXhCLEVBQVVuRixPQUFPbHNCLEdBQVl5eEIsR0FBZXdELEVBRTVDLE1BQU05WixFQUFPOVIsRUFBSThSLEtBR2pCLElBQUkrWixFQUFVL1osRUFBS2h4QixjQUFjLG1CQUFtQlAsT0FDL0NzckMsSUFDSEEsRUFBVTdyQixFQUFJMTFDLGNBQWMsU0FDNUJ1aEUsRUFBUXRyQyxVQUFZODBCLEdBQVVpRSxpQkFDOUJ1UyxFQUFRcHJDLGFBQWEsZ0JBQWlCRixHQUN0Q3V4QixFQUFLNTZCLFlBQVkyMEMsSUFJbkIsTUFBTUMsRUFBa0IvRCxHQUFtQkMsR0FDdkM4RCxFQUFnQng3RCxPQUFTLEdBQzNCeWhELFFBQVFweEIsSUFBSW1yQyxFQUFnQjk2RCxLQUFLeUIsR0FDcEJrMEQsR0FBb0JrQyxLQUFxQixDQUM5Qy9CLGFBQWMsT0FDZDcxRCxLQUFNd0IsRUFBSXhCLEtBQ1YweEQsWUFBYWtGLEtBQVVsRixjQUV4QnBQLE1BQU10OUIsR0FBU3cxQyxHQUEwQngxQyxFQUFNeGpCLEVBQUlra0MsaUJBRXJENGMsTUFBTXdZLElBQ0xGLEVBQVF4NUIsVUFBWTA1QixFQUFZdDNDLEtBQUssT0MzWXhDLE1BQU11M0MsR0FBZ0IvSyxHQUFtQ3hCLEdBQThCd0IsR0FDakZnTCxHQUFjaEwsR0FBbUN2QixHQUE0QnVCLEdBRTdFaUwsR0FBa0IsQ0FBQzdNLEVBQW9CMWEsRUFBVzFnQyxHQUFNMGdDLFdBQWFBLEVBQVMsQ0FDekZ6NEMsS0FBTTZ5RCxHQUFXUyxXQUNqQkgsVUFHVzhNLEdBQWMsQ0FBQzlNLEVBQW9CMWEsRUFBVzFnQyxHQUFNMGdDLFdBQWFBLEVBQVMsQ0FDckZ6NEMsS0FBTTZ5RCxHQUFXNVosT0FDakJrYSxVQUdXK00sR0FBYyxDQUFDL00sRUFBb0IxYSxFQUFXMWdDLEdBQU0wZ0MsV0FBYUEsRUFBUyxDQUNyRno0QyxLQUFNNnlELEdBQVczWixPQUNqQmlhLFVBR1dnTixHQUFjLENBQUNoTixFQUFvQjFhLEVBQVcxZ0MsR0FBTTBnQyxXQUFhQSxFQUFTLENBQ3JGejRDLEtBQU02eUQsR0FBVzdaLE9BQ2pCbWEsVUFHV2lOLEdBQVcsRUFBRUMsT0FBTTVlLE9BQXNDaEosRUFBVzFnQyxHQUFNMGdDLFdBQWFBLEVBQVMsQ0FDM0d6NEMsS0FBTTZ5RCxHQUFXNEMsS0FDakJyQyxLQUFNaU4sRUFDTjVlLFFBR1c2ZSxHQUFXLElBQU12b0QsR0FBTWkrQixXQUFXdHBDLFFBQVFxb0QsTUFFMUN3TCxHQUFpQixDQUFDM3ZCLEVBQStEOEssRUFBWTNqQyxHQUFNMmpDLFlBQ3ZHNmIsR0FBMkIsUUFBUzNtQixFQUFLOEssR0NoQ3JDOGtCLEdBQ1QsQ0FBQyxPQUFRLE1BQU8sU0FBVSxPQUFRLFFBQVMsWUFDekNDLEdBQW9CLENBQ3hCN3RCLEtBQU0sR0FDTmppQyxPQUFRLEdBQ1JvZ0MsTUFBTyxHQUNQMnZCLElBQUssR0FDTDFnRSxLQUFNLEdBQ04yZ0UsU0FBVSxJQUtaLElBQUk3bUQsR0FLRyxTQUFTOG1ELEdBQWUvL0QsR0FFN0IsT0FMQWlaLEdBQVdBLElBQVksSUFBSSttRCxHQUtwQi9tRCxHQUFTb1IsS0FBS3JxQixFQUFRa0UsS0FBTWxFLEVBQVErdkMsS0FPdEMsU0FBU2t3QixHQUFZcnVCLEdBRzFCLE9BRmVBLEVBQUlNLFdBQVdvVyxHQUFVTSxtQkFDbkNoWCxFQUFJbnJDLE1BQU0sS0FBS2xELFFBQVUsRUFDZGcrQyxHQUFTMmUsS0FBTzNlLEdBQVM0ZSxJQU8zQyxNQUFNSCxHQUNKN3lELGVBRUFrZCxLQUFLKzFDLEVBQW1CcndCLEdBRXRCLE1BQU1zd0IsRUFBV25pRSxPQUFPc3FCLE9BQU8sR0FBSW8zQyxHQUFtQlEsR0FBZSxJQUVyRTF3QixHQUFhNHdCLE9BQU8sb0xBRWpCLFNBQVUsU0FBVSxVQUFVLENBQUNDLEVBQVFDLEtBQ3hDLEdBQUlELEVBQVEsQ0FFVixNQUFNMUIsRUFBZWMsR0FBZ0J4NUQsUUFBTyxDQUFDbTZCLEVBQUttZ0MsS0FDaEQsTUFBTS90RCxFQUFLZ3VELEVBQVczc0MsY0FBYyxJQUFNMHNDLEdBTTFDLE9BTEsvdEQsRUFHSDR0QixFQUFJbWdDLEdBQVEvdEQsRUFBR3hULE1BRmY4SyxRQUFRMEwsTUFBTSx3Q0FBeUMrcUQsR0FJbERuZ0MsSUFDTixJQUdHcWdDLEVBQWlCRCxFQUFXM3NDLGNBQWMseUJBQThDNnNDLFFBQ3hGcEIsRUFBUWtCLEVBQVczc0MsY0FBYyxTQUE4QjcwQixNQUMvRGMsRUFBZ0IsQ0FDcEIreEMsS0FBTTR1QixFQUFnQjlCLEVBQVE5c0IsS0FBT3l0QixFQUNyQ3FCLFNBQVVGLEVBQWdCcGYsR0FBUzRlLElBQU01ZSxHQUFTMmUsTUFFN0IsS0FBbkJyQixFQUFRL3VELFNBQ1Y5UCxFQUFROFAsT0FBUyt1RCxFQUFRL3VELFFBRVAsS0FBaEIrdUQsRUFBUWdCLE1BQ1Y3L0QsRUFBUTYvRCxJQUFNaEIsRUFBUWdCLEtBRUYsS0FBbEJoQixFQUFRM3VCLFFBQ1Zsd0MsRUFBUWt3QyxNQUFRMnVCLEVBQVEzdUIsT0FFTCxLQUFqQjJ1QixFQUFRMS9ELE9BQ1ZhLEVBQVFiLEtBQU8wL0QsRUFBUTEvRCxNQUVBLEtBQXJCMC9ELEVBQVFpQixXQUNWOS9ELEVBQVE4L0QsU0FBV2pCLEVBQVFpQixVQUU3Qi92QixFQUFJL3ZDLFFBRUordkMsRUFBSXF3QixNQUtSLE1BQU1VLEVBQWtCeGpFLFNBQVNDLGNBQWMsWUFDL0N1akUsRUFBZ0J4N0IsVUFBWSxtSEFHM0J3N0IsRUFBZ0Ivc0MsY0FBYywyQkFBMkN1YyxRQUFXN3JDLElBQ25GaXJDLEdBQWFqbUIsUUFDYnNtQixFQUFJLE9BRU5MLEdBQWFxeEIsVUFBVUQsR0FHdkIsTUFBTUosRUFBYXBqRSxTQUFTQyxjQUFjLE9BQzFDbWpFLEVBQVc1dkIsbUJBQW1CLGFBQWNsdkMsS0FBS28vRCxjQUFjLENBQzdESCxTQUFVWixHQUFZSSxFQUFTdHVCLE1BQy9Cc3VCLGNBRUZqK0QsTUFBTStHLEtBQUt1M0QsRUFBVzVzQyxpQkFBaUIsMkJBQ3RDOWpCLFNBQVMwQyxJQUNSQSxFQUFHNDlCLFFBQVc3ZSxJQUNkcnZCLE1BQ0MrRyxLQUFLdTNELEVBQVc1c0MsaUJBQ2YsbUNBQ0M5akIsU0FBU2lsQyxHQUFhQSxFQUFTajJCLFVBQVV1VixPQUFPLGFBQ25EN2hCLEVBQUdzTSxVQUFVakgsSUFBSSxlQUduQjIzQixHQUFhcUIsV0FBVzJ2QixHQUcxQk0sZUFBYyxTQUFDSCxFQUFRLFNBQUVSLElBQ3ZCLE1BQU8sb01BR21IUSxJQUFhdGYsR0FBUzRlLElBQU0sWUFBYyw2SUFDMUNVLElBQWF0ZixHQUFTMmUsS0FBTyxZQUFjLDhPQUl2Q1csSUFBYXRmLEdBQVM0ZSxJQUFNLFlBQWMsdVdBS2hDVSxJQUFhdGYsR0FBUzRlLElBQU1FLEVBQVN0dUIsS0FBTyxpSUFFM0ksS0FBcEJzdUIsRUFBU3Z3RCxPQUFnQixhQUFlLGlEQUNwQixVQUFwQnV3RCxFQUFTdndELE9BQXFCLGFBQWUsMkRBQ3pCLFdBQXBCdXdELEVBQVN2d0QsT0FBc0IsYUFBZSw2REFDMUIsWUFBcEJ1d0QsRUFBU3Z3RCxPQUF1QixhQUFlLCtEQUMzQixTQUFwQnV3RCxFQUFTdndELE9BQW9CLGFBQWUsaVBBSzZEK3dELElBQWF0ZixHQUFTMmUsS0FBTyxZQUFjLHdUQUs3SVcsSUFBYXRmLEdBQVM0ZSxJQUFNLGFBQWUsK0JBQzNEVixLQUFXeDdELEtBQUt1N0QsR0FBUyxrQkFBa0JsWCxHQUFVTSxpQkFBbUI0VyxFQUFLeG9ELE1BQU02cEQsSUFBYXRmLEdBQVMyZSxNQUFRNVgsR0FBVU0saUJBQW1CNFcsRUFBS3hvRCxLQUFPcXBELEVBQVN0dUIsS0FBTyxhQUFlLHlCQUN2THl0QixFQUFLWiw0V0FRNEZ5QixFQUFTbndCLDZqQkFTakJtd0IsRUFBU1IsOE9BRVBRLEVBQVNsaEUsbVdBRURraEUsRUFBU1Asd0ZDdEo5SCxNQUthbUIsR0FBdUIsSUFNN0IzUSxlQUFlNFEsSUFBZ0IsS0FBQy9oRSxFQUFJLE9BQUVnOUIsRUFBTSxpQkFBRW03QixFQUFnQixjQUFFNkosSUFPckUsTUFBT3hnQyxHQUFXZzJCLEdBQWdCLENBQ2hDeUssR0FBb0IsQ0FDbEJwcUQsR0FBSXFxRCxLQUNKbGlFLE9BQ0FtNEQsbUJBQ0FnRCxRQUFRLE1BR05nSCxFQUFZLElBQ2JubEMsRUFDSHFLLFNBQVVySyxFQUFPcUssU0FBU2w3QixPQUFPcTFCLEVBQVEzcEIsS0FJM0MsT0FBTW1xRCxFQUVHLENBQUMsVUFEaUIzRSxHQUFjNzdCLEVBQVN3Z0MsR0FHNUNsc0IsVUFBVSxHQUVacXNCLEdBR0csQ0FBQyxJQUNEM2dDLEVBQ0hzVSxVQUFVLEdBRVpxc0IsR0FJRyxTQUFTRixJQUFvQixHQUFDcHFELEVBQUUsS0FBRTdYLEVBQUksaUJBQUVtNEQsRUFBZ0IsT0FBRWdELElBQy9ELE1BQU8sQ0FDTHRqRCxLQUNBdW9CLFFBQVNwZ0MsSUFBU2lpRCxHQUFZbVcsUUFBVSxVQUFZLE1BQ3BEcDRELE9BQ0FvaUUsSUFBSyxLQUNMcnhCLE1BQU8sS0FDUG9uQixtQkFDQTF0QixXQUFZLENBQ1YrdEIsU0FBUyxFQUNURCxRQUFRLEdBRVZ6dEMsTUFBTyxDQUNMMHRDLFFBQVN4YyxLQUFLb1UsTUFBTXBVLEtBQUtDLFVBQVUsQ0FDakMsTUFBUzZsQixHQUF1QixLQUNoQyxPQUFVQSxHQUF1QixLQUNqQyxtQkFBb0I5aEUsSUFBU2lpRCxHQUFZb2dCLE1BQVFyaUUsSUFBU2lpRCxHQUFZcWdCLFVBQVksMEJBQXVCemdFLEtBQ3RHMGdFLEdBQWdCLENBQUN2aUUsT0FBTW00RCxtQkFBa0JnRCxjQUU5QzVDLE9BQVEsSUFFVnh6RCxLQUFNLENBQ0pnNEQsVUFBVyxNQUViMTFCLFNBQVUsR0FDVm0wQixVQUFXLEdBQ1gzN0MsVUFBVyxHQUNYeWhELEtBQU0sR0FDTmtCLEtBQU0sS0FDTkMsV0FBWXppRSxJQUFTaWlELEdBQVltVyxTQUFXcDRELElBQVNpaUQsR0FBWXFnQixVQUNqRUksWUFBbUR2SyxFQUNuRHdLLFdBQVkzaUUsSUFBU2lpRCxHQUFZbVcsU0FBV3A0RCxJQUFTaWlELEdBQVlxZ0IsVUFDakVNLGFBQWM1aUUsSUFBU2lpRCxHQUFZbVcsUUFBVSxDQUFFcmdDLEtBQUssRUFBT0MsUUFBUSxFQUFPeGlCLE1BQU0sRUFBT0MsT0FBTyxHQUN2RSxDQUFFc2lCLEtBQUssRUFBTUMsUUFBUSxFQUFNeGlCLE1BQU0sRUFBTUMsT0FBTyxHQUVyRXFnQyxVQUFVLEVBQ1YxQixhQUFjcDBDLElBQVNpaUQsR0FBWTRnQixNQUNuQzdGLFVBQVdoOUQsSUFBU2lpRCxHQUFZNmdCLEtBQU8sZUFDbkM5aUUsSUFBU2lpRCxHQUFZb2dCLEtBQU8sdUNBQzVCLElBSUQsU0FBU0UsSUFBZ0IsS0FBQ3ZpRSxFQUFJLGlCQUFFbTRELEVBQWdCLE9BQUVnRCxJQXVCckQsT0FBT3A4RCxPQUFPc3FCLE9BckJRLENBQ3BCaEcsU0FBVSxZQW9Cd0JyakIsSUFBU2lpRCxHQUFZbVcsUUFmekMsQ0FDZCxTQUFZLFNBQ1osU0FBT3YyRCxFQUNQLFVBQVFBLEVBQ1IsWUFBVUEsRUFDVixXQUFTQSxHQVVrRXMyRCxFQVJ0RCxDQUNyQixTQUFZLFdBQ1osU0FBT3QyRCxFQUNQLFVBQVFBLEVBQ1IsV0FBU0EsRUFDVCxjQUFlLE9BQ2YsZUFBZ0IsUUFFK0ZzNUQsRUFsQi9GLENBQ2hCOTNDLFNBQVUsVUFpQjBILElBRzFJLElBQUkwL0MsR0FBUyxFQWFOLFNBQVNiLEtBQ2QsTUFwSXdCLFlBMkgxQixXQUNFLElBQUljLEVBQ0osR0FDRUEsRUFBV25qRSxLQUFLRCxNQUFNTixXQUFhLElBQU15akUsV0FDbENsSSxHQUFlbUksSUFDeEIsT0FBT0EsRUFJb0JDLEdBUXRCLFNBQVNDLEdBQWdCMWhDLEVBQXVCaVQsRUFBbUI4akIsR0FDeEUsT0FBSUEsT0FDaUQsSUFBckMvMkIsRUFBUTFXLE1BQU15dEMsT0FBTzlqQixHQUNqQ2pULEVBQVExVyxNQUFNeXRDLE9BQU85akIsR0FDTixTQUFkQSxHQUFzQyxRQUFkQSxHQUEwQmpULEVBQVExVyxNQUFNeXRDLE9BQU94dEMsU0FBNEMsV0FBakN5VyxFQUFRMVcsTUFBTXl0QyxPQUFPeHRDLFFBRXRHeVcsRUFBUTFXLE1BQU0wdEMsUUFBUS9qQixRQUR0QjV5QyxFQUdDMi9CLEVBQVExVyxNQUFNMHRDLFFBQVEvakIsR0F1RHhCLFNBQVMwdUIsR0FBZTNoQyxFQUF1QisyQixHQUNwRCxPQUFJLzJCLEVBQVEyMkIsbUJBQXFCSSxFQUFlLENBQzlDeGdDLElBQUssS0FDTHZpQixLQUFNLEtBQ05xZ0IsTUFBTzhsQyxLQUFVOWxDLE1BQVEsS0FDekJpQyxPQUFRb3JDLEdBQWdCMWhDLEVBQVMsU0FBVSsyQixJQUVqQyxDQUNWeGdDLElBQUttckMsR0FBZ0IxaEMsRUFBUyxNQUFPKzJCLEdBQ3JDL2lELEtBQU0wdEQsR0FBZ0IxaEMsRUFBUyxPQUFRKzJCLEdBQ3ZDMWlDLE1BQU9xdEMsR0FBZ0IxaEMsRUFBUyxRQUFTKzJCLEdBQ3pDemdDLE9BQVFvckMsR0FBZ0IxaEMsRUFBUyxTQUFVKzJCLElBU3hDLFNBQVMsR0FBZTZLLEdBQzdCLE9BQU9BLEVBQU1wOEQsUUFBTyxDQUFDc3JDLEVBQU05TyxLQUN6QixNQUFNMUMsRUFBZSxDQUNuQi9JLElBQUtuNUIsU0FBUzRrQyxFQUFLekwsS0FBTyxLQUMxQnZpQixLQUFNNVcsU0FBUzRrQyxFQUFLaHVCLE1BQVEsS0FDNUJxZ0IsTUFBT2ozQixTQUFTNGtDLEVBQUszTixPQUFTLEtBQzlCaUMsT0FBUWw1QixTQUFTNGtDLEVBQUsxTCxRQUFVLEtBQ2hDRSxPQUFRcDVCLFNBQVM0a0MsRUFBS3pMLEtBQU8sS0FBT241QixTQUFTNGtDLEVBQUsxTCxRQUFVLEtBQzVEcmlCLE1BQU83VyxTQUFTNGtDLEVBQUtodUIsTUFBUSxLQUFPNVcsU0FBUzRrQyxFQUFLM04sT0FBUyxNQUV2RHd0QyxFQUF3QixDQUM1QnRyQyxJQUFLdjRCLEtBQUtHLElBQUkyeUMsRUFBS3ZhLElBQUsrSSxFQUFJL0ksS0FDNUJ2aUIsS0FBTWhXLEtBQUtHLElBQUkyeUMsRUFBSzk4QixLQUFNc3JCLEVBQUl0ckIsTUFDOUJ3aUIsT0FBUXg0QixLQUFLQyxJQUFJNnlDLEVBQUt0YSxPQUFROEksRUFBSTlJLFFBQ2xDdmlCLE1BQU9qVyxLQUFLQyxJQUFJNnlDLEVBQUs3OEIsTUFBT3FyQixFQUFJcnJCLFFBRWxDLE1BQU8sSUFDRjR0RCxFQUNIeHRDLE1BQU93dEMsRUFBUTV0RCxNQUFRNHRELEVBQVE3dEQsS0FDL0JzaUIsT0FBUXVyQyxFQUFRcnJDLE9BQVNxckMsRUFBUXRyQyxPQUVsQyxDQUNEQSxJQUFLK0UsSUFDTHRuQixLQUFNc25CLElBQ045RSxRQUFRLElBQ1J2aUIsT0FBTyxJQUNQb2dCLE9BQU8sSUFDUGlDLFFBQVEsTUE2Q0wsU0FBU3dyQyxHQUFvQkMsRUFBb0JDLEdBQ3RELEdBQUlELEVBQ0YsT0FBT25JLEtBSVQsTUFBTXRuQixFQUFNMHZCLEVBQVE5ZCxnQkFHZCtkLEVBQVlELEVBQVEzaEMsd0JBQ3BCNmhDLEVBQU9sa0UsS0FBSzY4QixNQUFPb25DLEVBQVU1dEMsTUFBUSxHQUNyQzh0QyxFQUFPbmtFLEtBQUs2OEIsTUFBT29uQyxFQUFVM3JDLE9BQVMsR0FHNUMsT0FBT2djLEVBQUkrQyxrQkFBa0I2c0IsRUFBTUMsR0FFaEM3K0QsS0FBSzgrRCxHQUFVOUwsS0FBY25qRCxNQUFNcEIsR0FBTyxHQUFjdWdDLEVBQUt2Z0MsS0FBUXF3RCxNQUNyRXQxRCxRQUFRaUYsS0FBU0EsR0FBTUEsRUFBR292RCxhQUUxQmtCLFFBTUUsU0FBU0MsSUFBYSxVQUMzQkwsRUFBUyxXQUNUTSxFQUFVLFlBQ1ZDLEVBQVcsT0FDWG44QixFQUFTLElBR1QsTUFJTW84QixFQUpZemtFLEtBQUs2OEIsTUFBT29uQyxFQUFVM3JDLE9BQVMsRUFBTWtzQyxFQUFZbHNDLE9BQVMsRUFBS2lzQyxFQUFXaHNDLEtBSTlEOFAsRUFDeEJxOEIsRUFKYTFrRSxLQUFLNjhCLE1BQU9vbkMsRUFBVTV0QyxNQUFRLEVBQU1tdUMsRUFBWW51QyxNQUFRLEVBQUtrdUMsRUFBV3Z1RCxNQUkzRHF5QixFQU1oQyxNQUFPLENBQUM5UCxJQUhJdjRCLEtBQUtDLElBQUksRUFBR0QsS0FBS0csSUFBSXNrRSxFQUFXRixFQUFXanNDLE9BQVNrc0MsRUFBWWxzQyxTQUcvRHRpQixLQUZBaFcsS0FBS0MsSUFBSSxFQUFHRCxLQUFLRyxJQUFJdWtFLEVBQVlILEVBQVdsdUMsTUFBUW11QyxFQUFZbnVDLFNBUXhFLFNBQVNzdUMsR0FBZTNpQyxHQUM3QixHQUFJNDdCLEdBQVk1N0IsR0FDZCxNQUFPLEdBQUlBLEVBQVF6OEIsS0FBS2c0RCxVQUFVbkMsZUFFcEMsR0FBSXA1QixFQUFRMjJCLGlCQUNWLE1BQU8sb0JBR1QsT0FBUTMyQixFQUFReGhDLE1BQ2QsS0FBS2lpRCxHQUFZNmdCLEtBQU0sTUFBTyxPQUM5QixLQUFLN2dCLEdBQVk0Z0IsTUFBTyxNQUFPLFFBQy9CLEtBQUs1Z0IsR0FBWXFnQixVQUFXLE1BQU8sWUFDbkMsS0FBS3JnQixHQUFZb2dCLEtBQU0sTUFBTyxPQUU5QixLQUFLcGdCLEdBQVltVyxRQUFTLE1BQU8sV0FROUIsU0FBU2dNLEtBQ2QsTUFBTXpOLEVBQVNtQixLQUNkaHpELEtBQUt5TyxJQUFPLENBQ1hpbEQsUUFBU3o1RCxPQUFPd0UsS0FBS2dRLEVBQUd1WCxNQUFNMHRDLFNBQVNwMEQsT0FBU21QLEVBQUd1WCxNQUFNMHRDLFFBQVUsS0FDbkVELE9BQVF4NUQsT0FBT3dFLEtBQUtnUSxFQUFHdVgsTUFBTXl0QyxRQUFRbjBELE9BQVNtUCxFQUFHdVgsTUFBTXl0QyxPQUFTLEtBQ2hFbmtCLGFBQWM3Z0MsRUFBRzZnQyxhQUNqQnY4QixHQUFJdEUsRUFBR3NFLE9BRVI3USxRQUFPLENBQUMwRCxHQUFPNnRELFNBQVFDLFVBQVNwa0IsZUFBY3Y4QixTQUFRLENBQ3JEMmdELFFBQVM5dEQsRUFBSzh0RCxTQUFXQSxFQUFVLE1BQU0zZ0QsUUFBUzRnRCxHQUFjRCxFQUFTcGtCLEVBQWMsaUJBQW1CLElBQzFHbWtCLE9BQVE3dEQsRUFBSzZ0RCxRQUFVQSxFQUFTLE1BQU0xZ0QsUUFBUzRnRCxHQUFjRixFQUFRbmtCLEVBQWMsaUJBQW1CLE9BQ3BHLENBQ0Zva0IsUUFBUyxHQUNURCxPQUFRLEtBRVYsTUFBTyxHQUFHNUIsRUFBTzZCLGNBQWN3QixHQUFjckQsRUFBTzRCLFlBTS9DLFNBQVM4TCxHQUFnQjdpQyxFQUF1QjhpQyxHQUNyRCxPQUFRcEosR0FBYzE1QixHQUNuQnIxQixPQUFPcTFCLEdBRVA3c0IsTUFBTXBCLEdBQU9BLEVBQUdpb0QsVUFBVXAzRCxPQUFTLElBQU1tUCxFQUFHaW9ELFVBQVU5bkQsU0FBUzR3RCxLQUc3RCxTQUFTQyxHQUFTai9ELEVBQVU0N0QsRUFBZ0J0d0IsR0FDakR0ckMsRUFBRTZ3QixpQkFDRnlxQyxHQUFlLENBQ2I3N0QsS0FBTW04RCxFQUNOdHdCLFFBSUcsU0FBUzR6QixHQUFPbC9ELEVBQVVzckMsR0FDL0J0ckMsRUFBRTZ3QixpQkFHYzA2QixHQUFhQyxjQUFjTyxXQUkxQ2hLLE1BQU05VSxJQUNEQSxHQUNGM0IsRUFBSSxDQUFDMkIsT0FHUnFlLE9BQU9yNkMsSUFDTmc2QixHQUFhK2hCLFlBQVksb0RBQXNELzdDLEVBQU02b0IsU0FBVyxRQU83RixTQUFTcWxDLEdBQWVqakMsR0FDN0IsTUFBTW41QixFQUFNbTVCLEVBQVEyVSxjQUFjbkUsV0FBVzV0QyxPQUM3QyxJQUFLLElBQUlxOUMsRUFBTSxFQUFHQSxFQUFNcDVDLEVBQUtvNUMsSUFDM0IsR0FBSWpnQixFQUFRMlUsY0FBY25FLFdBQVd5UCxLQUFTamdCLEVBQzVDLE9BQU9pZ0IsRUFHWCxPQUFRLEVDNVpILE1BQU1pakIsR0FBYSxDQUFDM2QsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsWUFDcEVrc0IsR0FBZSxDQUFDdkosR0FBUXJVLElBQVlBLEVBQVV0TyxJQU1uQ2tzQixHQUFpQixDQUFDL3RCLEVBQTJCbVEsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsWUFDbkdvZixHQUFlOVEsRUFDWno0QyxRQUFRaUYsR0FBT0EsRUFBR3VpQyxXQUFhYyxFQUFVOXhDLEtBQUtRLEdBQU1BLEVBQUV1UyxLQUFJbkUsU0FBU0gsRUFBR3NFLE1BQ3RFL1MsS0FBS3lPLElBQU8sSUFDUkEsRUFDSHVpQyxVQUFXdmlDLEVBQUd1aUMsYUFFaEIyQyxJQVFTbXNCLEdBQWUsQ0FBQ2h1QixFQUEyQjdOLEVBQXlCZ2UsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsU0FBVXB1QyxHQUFRLEtBQzVJLE1BQU0sY0FBRTRzRCxHQUFrQjdDLEtBQ3BCeVEsRUFBUyxDQUFDdHhELEVBQUk4ekIsSUFBYUEsRUFBU3p5QixXQUFXa3dELEdBQU1BLElBQU12eEQsRUFBR3NFLEtBQzlEa3RELEVBQWUsQ0FBQ3h4RCxFQUFJeXBCLEtBQ3hCLElBQUl5a0IsRUFBTW9qQixFQUFPdHhELEVBQUl5cEIsRUFBT3FLLFVBQ3hCMTJCLEVBQVMsS0FDYixHQUNFOHdDLEVBQU0xWSxJQUFjb1osR0FBYXpJLEdBQUsrSCxFQUFNLEVBQUkxWSxJQUFjb1osR0FBYXpILEtBQU8rRyxFQUFNLEVBQUkxWSxJQUFjb1osR0FBYTZpQixJQUFNLEVBQUlob0MsRUFBT3FLLFNBQVNqakMsT0FBUyxFQUMxSnVNLEVBQVNrcUQsR0FBZTc5QixFQUFPcUssU0FBU29hLEdBQU1zRixTQUN0Q3AyQyxHQUFVQSxFQUFPNnFELFVBQVVwM0QsU0FBV3VNLEVBQU82cUQsVUFBVTluRCxTQUFTdWpELElBQzFFLE9BQU94VixHQUVId2pCLEVBQVVydUIsRUFDYjl4QyxLQUFLeU8sSUFBTyxDQUNYQSxLQUNBeXBCLE9BQVFpK0IsR0FBVTFuRCxFQUFJd3pDLE9BRXZCejRDLFFBQU8sRUFBRWlGLEtBQUl5cEIsYUFDUEEsR0FDSG55QixRQUFRdTZDLEtBQUssc0RBQXVELENBQUM3eEMsS0FBSXlwQixhQUVsRXpwQixLQUFReXBCLEtBRWxCbDRCLEtBQUksRUFBRXlPLEtBQUl5cEIsYUFBWSxDQUNyQnpwQixLQUNBeXBCLFNBQ0F5a0IsSUFBS3NqQixFQUFheHhELEVBQUl5cEIsT0FFdkJrb0MsTUFBSyxDQUFDQyxFQUFJQyxLQUFRQSxFQUFHM2pCLElBQU0wakIsRUFBRzFqQixNQUFRMVksSUFBY29aLEdBQWF6SSxJQUFNM1EsSUFBY29aLEdBQWE2aUIsS0FBTyxFQUFJLEtBQzdHaCtELFFBQU8sQ0FBQ202QixHQUFNNXRCLEtBQUl5cEIsU0FBUXlrQixVQUN6QixNQUFNNGpCLEVBQVNsa0MsRUFBSXI3QixJQUFJazNCLEdBQVVtRSxFQUFJcDdCLElBQUlpM0IsR0FBVSxDQUNqRHFLLFNBQVVySyxFQUFPcUssU0FDakJySyxTQUNBc29DLFNBQVUsRUFDVkMsU0FBUyxHQUdMQyxFQUFhWCxFQUFPdHhELEVBQUk4eEQsRUFBT2grQixVQUMvQm8rQixFQUFZaGtCLEVBT2xCLE9BTkF0Z0IsRUFBSTU4QixJQUFJeTRCLEVBQVEsQ0FDZEEsT0FBUXFvQyxFQUFPcm9DLE9BQ2ZxSyxTQUFVbytCLElBQWNELEVBQWF4TixHQUFTcU4sRUFBT2grQixTQUFTLzRCLFFBQU8sQ0FBQ3cyRCxFQUFHbitELElBQU1BLElBQU02K0QsSUFBYUMsRUFBV2x5RCxFQUFHc0UsSUFBTXd0RCxFQUFPaCtCLFNBQzdIaytCLFFBQVNGLEVBQU9FLFNBQVdFLEVBQVksR0FBS0EsR0FBYUosRUFBT3JvQyxPQUFPcUssU0FBU2pqQyxPQUNoRmtoRSxTQUFVRCxFQUFPQyxTQUFXLElBRXZCbmtDLElBQ04sSUFBSXI5QixLQUNEcWtELEVBQVNsbEQsTUFBTStHLEtBQUtpN0QsRUFBUXRuRCxVQUMvQnJQLFFBQVFvM0QsSUFBWUEsRUFBT0gsU0FBV3ZwQixLQUFLQyxVQUFVeXBCLEVBQU9yK0IsWUFBYzJVLEtBQUtDLFVBQVV5cEIsRUFBTzFvQyxPQUFPcUssWUFDdkd2aUMsS0FBSzRnRSxJQUFXLElBQ1pBLEVBQU8xb0MsT0FDVnFLLFNBQVVxK0IsRUFBT3IrQixhQUduQjhnQixFQUFPL2pELFFBQVF5ekQsR0FBZTFQLEVBQVExUCxJQU8vQmt0QixHQUFtQixDQUFDbmtDLEVBQXVCcWxCLEVBQWVFLEVBQVcrUSxLQUFlcmYsRUFBVzFnQyxHQUFNMGdDLFlBQ2hIb2YsR0FBZSxDQUFDLElBQ1hyMkIsRUFDSGlKLFdBQVksSUFDUGpKLEVBQVFpSixXQUNYK3RCLFFBQVMzUixLQUVUcE8sSUFTT210QixHQUFlLENBQUNqcUQsRUFBYzViLEVBQWU2MkMsRUFBMkJxaUIsRUFBVzdFLEtBQVE0QyxhQUFjdmUsRUFBVzFnQyxHQUFNMGdDLFlBRXJJLE1BQU1vdEIsRUFBVyxHQUNqQkEsRUFBU2xxRCxHQUFRNWIsRUFFakIrbEUsR0FBc0JELEVBQVVqdkIsRUFBV3FpQixFQUFVeGdCLElBTTFDcXRCLEdBQXdCLENBQUNoN0MsRUFBZ0I4ckIsRUFBMkJxaUIsRUFBVzdFLEtBQVE0QyxhQUFjdmUsRUFBVzFnQyxHQUFNMGdDLFlBRWpJb2YsR0FBZWpoQixFQUFVOXhDLEtBQUt5TyxJQUFPLElBQ2hDQSxFQUNIdVgsTUFBT3V0QyxHQUEwQlksRUFBVTFsRCxFQUFHdVgsTUFBT0EsT0FDbEQydEIsSUFPQSxTQUFTc3RCLEdBQWN6RSxFQUFZdmEsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFFbkZvZixHQUFlLEdBQW9COVEsR0FDaENqaUQsS0FBS3lPLElBQU8sSUFDUkEsRUFDSCt0RCxXQUNHN29CLEdBTUYsU0FBU3V0QixHQUFhcnFELEVBQWNvckMsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFFcEZvZixHQUFlLEdBQW9COVEsR0FDaENqaUQsS0FBS3lPLElBQU8sSUFDUkEsRUFFSHNNLFVBQVcsSUFBSSxJQUFJdW9DLElBQUl6c0MsRUFDcEJyVSxNQUFNLEtBQ05nSCxRQUFRK2xCLEdBQTRCLEtBQWRBLFVBQ3RCb2tCLEdBU0YwWSxlQUFlM0ksSUFBVyxLQUFDeG9ELEVBQUksT0FBRWc5QixFQUFNLE1BQUVsUyxFQUFLLGNBQUVrM0MsR0FLcER2cEIsRUFBVzFnQyxHQUFNMGdDLFVBRWxCLE1BQU93dEIsRUFBaUJDLFNBQTRCbkUsR0FBZ0IsQ0FDbEUvaEUsT0FDQWc5QixTQUNBZ2xDLGdCQUNBN0osa0JBQWtCLEtBSWQsY0FBRWxCLEdBQWtCN0MsS0FDcEIrUixFQUF1QixJQUN4QkYsRUFDSHpLLFVBQWF4K0IsRUFBT3crQixVQUFVcDNELFFBQVltM0QsR0FBb0J2K0IsR0FBVSxHQUFLLENBQUNpNkIsSUFHMUV6MUIsT0FBaUIsV0FFckIsR0FBSXhoQyxJQUFTaWlELEdBQVltVyxRQUFTLENBQ2hDLElBQUsrQyxHQUFPbitCLEdBQVMsTUFBTSxJQUFJdDFCLE1BQU0sMENBQ3JDLE1BQU8wK0QsRUFBZ0JDLFNBQW9DdEUsR0FBZ0IsQ0FDekUvaEUsS0FBTWlpRCxHQUFZcWdCLFVBQ2xCdGxDLE9BQVFtcEMsRUFDUm5FLGNBQWUsS0FDZjdKLGtCQUFrQixJQUVkbU8sRUFBK0IsSUFDaENGLEVBQ0h2bUQsVUFBV3VtRCxFQUFldm1ELFVBQVUxVCxPQUFPLENBQ3pDZzlDLEdBQVUyQiwyQkFDVjNCLEdBQVU0Qix5QkFDVjVCLEdBQVU0QyxnQ0FLZCxPQURBNEwsR0FBZSxDQUFDME8sRUFBNEJDLEdBQStCN3RCLEdBQ3BFb2lCLEdBQWV3TCxFQUEyQnh1RCxHQUFJaWdELE1BSXJELE9BREFILEdBQWUsQ0FBQ3dPLEdBQXVCMXRCLEdBQ2hDb2lCLEdBQWVzTCxFQUFxQnR1RCxHQUFJaWdELE9BeEI1QixHQTREdkIsT0FoQ0FELEdBRUUsR0FBb0JDLE1BQ25CeHBELFFBQVFpRixHQUFPQSxJQUFPeXBCLEdBQVV6cEIsSUFBT2l1QixJQUN2QzE4QixLQUFLeU8sSUFBTyxJQUNSQSxFQUNIdWlDLFVBQVUsTUFHWDNwQyxPQUFPLENBQUMsSUFDSnExQixFQUNIc1UsVUFBVSxFQUNWaHJCLE1BQU8sQ0FDTHl0QyxPQUFRLElBQ0gvMkIsRUFBUTFXLE1BQU15dEMsVUFDZHp0QyxFQUFNeXRDLFFBRVhDLFFBQVMsSUFDSmgzQixFQUFRMVcsTUFBTTB0QyxXQUNkMXRDLEVBQU0wdEMsV0FLZixJQUNLME4sRUFDSHB3QixVQUFVLEtBQ1AyQyxHQUtBLENBQUNvaUIsR0FBZXNMLEVBQXFCdHVELEdBQUlpZ0QsTUFBZ0IrQyxHQUFlcUwsRUFBbUJydUQsR0FBSWlnRCxPQU1qRyxTQUFTeU8sR0FBZXhmLEVBQVcsTUFDeEMsTUFBTWpuQixFQUFPczdCLEtBQ1BvTCxFQUEyQnpmLEVBQVN6NEMsUUFBUWlGLEdBQXFCQSxJQUFPdXNCLElBQzFFMG1DLEVBQVNwaUUsUUFBVSxFQUNyQm1zQyxHQUFha2dCLE1BQU0sa0JBQ2pCLDhDQUNBLFNBSUZsZ0IsR0FBYXdoQixRQUFRLGtCQUFtQixnQ0FBZ0N5VSxFQUFTcGlFLDZDQUM5RWc5RCxJQUNLQSxJQUNGcUYsR0FBNkJELEdBQzdCOUIsUUFFRCxTQUFVLFVBS1osU0FBUytCLEdBQTZCN3ZCLEVBQTJCbVEsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFFakgsTUFBTWl1QixFQUE0Qjl2QixFQUMvQjl4QyxLQUFLeU8sR0FBTzhuRCxHQUFpQjluRCxFQUFJd3pDLEtBRTlCaU4sRUFBVTBTLEVBQ2J2NkQsT0FBT3U2RCxFQUNMMS9ELFFBQU8sQ0FBQzBELEVBQU02SSxJQUFPN0ksRUFBS3lCLE9BQU82dUQsR0FBcUJ6bkQsRUFBSXd6QyxLQUFZLEtBRzNFOFEsR0FBZTlRLEVBQ1p6NEMsUUFBUWt6QixJQUEyQnd5QixFQUFRdGdELFNBQVM4dEIsS0FDcERsekIsUUFBUWt6QixHQUEwQkEsRUFBUTZGLFNBQVMzM0IsTUFBTW1JLEtBQVNtOEMsRUFBUXIvQyxNQUFNcEIsR0FBT0EsRUFBR3NFLEtBQU9BLFFBQ2pHL1MsS0FBSzA4QixJQUEwQixJQUMzQkEsRUFDSDZGLFNBQVU3RixFQUFRNkYsU0FBUy80QixRQUFRdUosSUFBUW04QyxFQUFRci9DLE1BQU1wQixHQUFPQSxFQUFHc0UsS0FBT0EsVUFDdkU0Z0MsR0FHUG1mLEdBQWU1RCxFQUFTdmIsR0FNbkIsU0FBU2t1QixHQUFVL3ZCLEVBQTJCeXBCLEVBQWlCdFosRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFDL0dvZixHQUFlamhCLEVBQ1o5eEMsS0FBS3lPLEdBQU84bkQsR0FBaUI5bkQsRUFBSXd6QyxLQUNqQ2ppRCxLQUFLeU8sSUFBTyxJQUNSQSxFQUNIaW9ELFVBQVdqb0QsRUFBR2lvRCxVQUFVcnZELE9BQU8sQ0FBQ2swRCxFQUFLeG9ELFNBQ2xDNGdDLEdBTUYsU0FBU211QixHQUFlaHdCLEVBQTJCeXBCLEVBQWlCdFosRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFDcEhvZixHQUFlamhCLEVBQ1o5eEMsS0FBS3lPLEdBQU84bkQsR0FBaUI5bkQsS0FDN0J6TyxLQUFLeU8sSUFBTyxJQUNSQSxFQUNIaW9ELFVBQVdqb0QsRUFBR2lvRCxVQUFVbHRELFFBQVFxTixHQUFTQSxJQUFTMGtELEVBQUt4b0QsU0FDcEQ0Z0MsR0FNRixTQUFTb3VCLEdBQWtCandCLEVBQTJCNkIsRUFBVzFnQyxHQUFNMGdDLFVBQzVFb2YsR0FBZWpoQixFQUNaOXhDLEtBQUt5TyxJQUFPLElBQ1JBLEVBQ0hpb0QsVUFBVyxPQUNSL2lCLEdBTUYsU0FBU3F1QixHQUFRbHdCLEVBQTJCNHJCLEVBQVkvcEIsRUFBVzFnQyxHQUFNMGdDLFVBQzlFb2YsR0FBZWpoQixFQUNaOXhDLEtBQUt5TyxJQUFPLElBQ1JBLEVBQ0hpdkQsV0FDRy9wQixHQU9GLFNBQVNzdUIsR0FBV253QixFQUEyQjZCLEVBQVcxZ0MsR0FBTTBnQyxVQUNyRW9mLEdBQWVqaEIsRUFDWjl4QyxLQUFLeU8sSUFBTyxJQUNSQSxFQUNIaXZELEtBQU0sU0FDSC9wQixHQThCVCxTQUFTLEdBQUsxUCxFQUF5QmdlLEVBQVd1VSxNQUNoRCxNQUFNMEwsRUFBa0I1UyxLQUFRNEMsYUFBZSxTQUFXLFVBQzFENE4sR0FBYTdkLEVBQ1Z6NEMsUUFBUWlGLEdBQThDLFdBQXZDQSxFQUFHdVgsTUFBTWs4QyxHQUFpQjNqRCxXQUF3QjBsQixHQUNwRTY3QixHQUFhN2QsRUFDVno0QyxRQUFRaUYsR0FBOEMsV0FBdkNBLEVBQUd1WCxNQUFNazhDLEdBQWlCM2pELFdBN0I5QyxTQUFpQjBsQixHQUNmLE9BQU9BLEdBQ0wsS0FBS29aLEdBQWF6SSxHQUFJLE9BQU95SSxHQUFhekgsS0FDMUMsS0FBS3lILEdBQWF6SCxLQUFNLE9BQU95SCxHQUFhekksR0FDNUMsS0FBS3lJLEdBQWE2aUIsSUFBSyxPQUFPN2lCLEdBQWE4a0IsT0FDM0MsS0FBSzlrQixHQUFhOGtCLE9BQVEsT0FBTzlrQixHQUFhNmlCLEtBd0JvQmtDLENBQVFuK0IsSUFNOUUsU0FBU28rQixHQUFldG1FLEdBQ3RCLEdBQUdBLEVBQVF1bUUsS0FBT3ZtRSxFQUFRd21FLElBQUssQ0FDN0IsTUFBTTV3QixFQUFNNzNDLFNBQVNpQyxFQUFRZCxPQUN2QjhuQyxFQUFTaG5DLEVBQVF5bUUsU0FBVyxHQUFNem1FLEVBQVEwbUUsT0FBUyxFQUFJLEVBQzdELE9BQVE5d0IsR0FBTzUxQyxFQUFRdW1FLElBQU12L0IsR0FBVUEsR0FBVyxLQUVwRCxPQUFPaG5DLEVBQVFkLE1BTVYsU0FBU3NqQixHQUFTMGxCLEdBQXNCLE9BQUVpSCxFQUFNLFFBQUVDLEVBQU8sU0FBRUMsSUFDaEUsR0FBSUYsRUFBUSxPQUNaLE1BQU1nM0IsRUFBa0I1UyxLQUFRNEMsYUFBZSxTQUFXLFVBQzFEYSxHQUFleUQsS0FDWmh0RCxRQUFRaUYsR0FBOEMsV0FBdkNBLEVBQUd1WCxNQUFNazhDLEdBQWlCM2pELFdBQ3pDdmUsS0FBS3lPLElBQU8sSUFDUkEsRUFDSHVYLE1BQU8sSUFDRnZYLEVBQUd1WCxNQUNOLENBQUNrOEMsR0FBa0IsSUFDZHp6RCxFQUFHdVgsTUFBTWs4QyxHQUNaanZDLElBQUtvdkMsR0FBZSxDQUNsQnBuRSxNQUFPd1QsRUFBR3VYLE1BQU1rOEMsR0FBaUJqdkMsSUFDakNxdkMsSUFBS3IrQixJQUFjbVosR0FBVXhILEtBQzdCMnNCLElBQUt0K0IsSUFBY21aLEdBQVV4SSxHQUM3QjR0QixTQUFVcjNCLEVBQ1ZzM0IsT0FBUXIzQixJQUVWMTZCLEtBQU0yeEQsR0FBZSxDQUNuQnBuRSxNQUFPd1QsRUFBR3VYLE1BQU1rOEMsR0FBaUJ4eEQsS0FDakM0eEQsSUFBS3IrQixJQUFjbVosR0FBVXNsQixNQUM3QkgsSUFBS3QrQixJQUFjbVosR0FBVXVsQixLQUM3QkgsU0FBVXIzQixFQUNWczNCLE9BQVFyM0IsV0FPbEIsR0FwRUYsU0FBa0JuSCxHQUNoQixPQUFPQSxHQUNMLEtBQUttWixHQUFVeEksR0FBSSxPQUFPeUksR0FBYXpJLEdBQ3ZDLEtBQUt3SSxHQUFVeEgsS0FBTSxPQUFPeUgsR0FBYXpILEtBQ3pDLEtBQUt3SCxHQUFVdWxCLEtBQU0sT0FBT3RsQixHQUFhNmlCLElBQ3pDLEtBQUs5aUIsR0FBVXNsQixNQUFPLE9BQU9ybEIsR0FBYThrQixRQStEdkNTLENBQVMzK0IsR0FBWXV5QixLQUFzQ2h0RCxRQUFRaUYsR0FBOEMsV0FBdkNBLEVBQUd1WCxNQUFNazhDLEdBQWlCM2pELFlBUXBHLFNBQVNza0QsS0FDZCxHQUFLeGxCLEdBQWF6SSxJQVFiLFNBQVNrdUIsS0FDZCxHQUFLemxCLEdBQWF6SCxNQVFiLFNBQVNtdEIsS0FDZCxHQUFLMWxCLEdBQWE2aUIsS0FRYixTQUFTOEMsS0FDZCxHQUFLM2xCLEdBQWE4a0IsUUFNYixTQUFTYyxHQUFZQyxFQUFxQnYxQixHQUMvQ29sQixHQUFlLENBQUMsSUFDWG1RLEVBR0hoTCxVQUFXLGFBQWF2cUIsV0FHMUIsTUFBTXcxQixFQUF3QixHQUFjLEtBQW1CRCxHQUM5RHB6QyxjQUFjLE9BRWZxekMsRUFBSXh4QyxpQkFBaUIsUUFBUSxLQUUzQixNQUFNcWtCLEVBQVUrZixHQUFlbU4sRUFBTW53RCxJQUNyQ2dnRCxHQUFlLENBQUMsSUFDWC9jLEVBQ0hod0IsTUFBTyxJQUNGZ3dCLEVBQVFod0IsTUFDWDB0QyxRQUFTLElBQ0oxZCxFQUFRaHdCLE1BQU0wdEMsUUFDakIzaUMsTUFBT295QyxFQUFJQyxhQUFlLEtBQzFCcHdDLE9BQVFtd0MsRUFBSUUsY0FBZ0IsYUNwZ0J0QyxJQUFJblQsR0FDRyxTQUFTb1QsS0FDZHBULEdBQU9BLElBQVEsSUFBSXFULEdBRWQsU0FBU0MsR0FBUUMsRUFBaUJDLEVBQXVCQyxHQUU5RCxPQURBTCxLQUNPcFQsR0FBS3NULFFBQVFDLEVBQVNDLEVBQVNDLEdBT2pDLFNBQVNDLEtBRWQsT0FEQU4sS0FDT3BULEdBQUswVCxnQkFHUCxTQUFTLEtBRWQsT0FEQU4sS0FDT3BULEdBQUsyVCxrQkFHUCxTQUFTQyxLQUVkLE9BREFSLEtBQ09wVCxHQUFLcHFDLE9BTWQsTUFBTXk5QyxHQUlKcjZELGNBRkEsS0FBQTRjLE9BQTRCenNCLFNBQVNDLGNBQWMsVUFJakRxRSxLQUFLbW9CLE9BQU8vUyxHQUFLLHFCQUNqQnBWLEtBQUttb0IsT0FBT3lKLFVBQVksaUNBQ3hCNXhCLEtBQUttb0IsT0FBTzdPLElBQU0sY0FDbEI1ZCxTQUFTeTJCLGNBQWMsZ0JBQWdCNUosWUFBWXZvQixLQUFLbW9CLFFBS3hELE1BQU04NkIsRUFBa0JqakQsS0FBS2ttRSxrQkFDN0JqakIsRUFBZ0J4NkIsT0FDaEJ3NkIsRUFBZ0JyN0IsTUFBTSxJQUN0QnE3QixFQUFnQnA3QixRQUdsQm8rQyxnQkFBMEIsT0FBT2ptRSxLQUFLbW9CLE9BQU9LLGNBQzdDMDlDLGtCQUFrQyxPQUFPbG1FLEtBQUttb0IsT0FBTzg2QixnQkFPckQ0aUIsUUFBUUMsRUFBaUJDLEVBQXVCQyxHQUM5QyxNQUFNL2lCLEVBQWtCLEtDMkt2Qm1qQixJQUFjQSxHQUFhendCLFVEcks1QnNOLEVBQWdCeDZCLE9BQ2hCdzZCLEVBQWdCcjdCLE1BQU0sSUFDdEJxN0IsRUFBZ0JwN0IsUUFTaEJvN0IsRUFBZ0J4NkIsT0FDaEJ3NkIsRUFBZ0JyN0IsTUFBTWsrQyxHQUN0QjdpQixFQUFnQnA3QixRQUNoQjduQixLQUFLcW1FLGVBQWVOLEdBTXRCTSxlQUFlTixHQUNiLE1BQU05aUIsRUFBa0IsS0FDbEJ6NkIsRUFBZ0J5OUMsS0MwSW5CLElBQTBCbG5DLEVEcElBLE9BQXpCa2tCLEVBQWdCNWxCLE1BQW1DLE9BQWxCN1UsR0FBc0QsT0FBNUJBLEVBQXNCLFFBUWpGdTlDLEdBQ0ZBLElBVUY1TCxLQ2lINkJwN0IsRUQ5R1ovK0IsS0FBS21vQixPQytHcEJpK0MsS0FBY0EsR0FBZSxJQUFJRSxJQUNyQ0YsR0FBYXoxQyxLQUFLb08sR0Q3R2hCa2pDLE1BeEJFMWlFLFlBQVcsS0FDVFMsS0FBS3FtRSxlQUFlTixNQThCMUJRLFVBQ0UsTUFBTUMsRUFBWXhtRSxLQUFLeW1FLG1CQUN2QixJQUFJLzVELEVBQU0sS0FDVixHQUNFQSxFQUFNODVELEVBQVV0K0QsY0FDUndFLEVBQUltSCxNQUNkLE9BQU9uSCxFQUFJcFAsTUFRYm9wRSxhQUFhdjRCLEdBQ1gsTUFBTXE0QixFQUFZeG1FLEtBQUt5bUUsbUJBQ3ZCem1FLEtBQUsybUUsZ0JBQWdCeDRCLEVBQUtxNEIsR0FNNUJHLGdCQUFnQng0QixFQUFLcTRCLEdBQ25CLE1BQU05NUQsRUFBTTg1RCxFQUFVdCtELE9BQ2xCd0UsRUFBSW1ILEtBQ050VSxZQUFXLElBQU00dUMsRUFBSXpoQyxFQUFJcFAsUUFBUSxHQUVqQ2lDLFlBQVcsSUFBTVMsS0FBSzJtRSxnQkFBZ0J4NEIsRUFBS3E0QixJQUFZLEdBVTNELG9CQUdFLE1BQU1JLEVBQWdCakYsV0FJdEIsTUFDTWtGLEVBRGtCLEtBQ1c5Z0MsV0FBVSxHVDZMMUMsSUFBOEJ0cEMsUVN4TGhCb3FFLEVBQVUxMEMsY0FBYyxJQUFNdTBCLEdBQVU2RCw2QkFDaEQ3bUIsVUFBWWtqQyxRVHVMWW5xRSxFU25MWm9xRSxFVG9MdkJybUUsTUFBTStHLEtBQUs5SyxFQUFLeTFCLGlCQUFpQixxQkFBcUI5akIsU0FBUzBDLElBQzdEQSxFQUFHc00sVUFBVXVWLE9BQU8sb0JBQ3BCN2hCLEVBQUdnMkQsZ0JBQWdCLDRCU3BMbkIsSUFBSWhCLEVBQVdlLEVBQXVCemlDLGdCQUFnQjJpQyxVQUt0RCxhQURBakIsRUFBVSxrQkFBb0JBLEVBQ3ZCQSxHRXZLSixTQUFTa0IsS0FDZCxNQUNNdlMsRUFBWXdTLEdBREEsS0FBc0I1a0UsS0FBS3lPLEdBQU84bkQsR0FBaUI5bkQsTUFFckU0Z0QsR0FBUyxJQUNKQyxLQUNIOEMsY0FRRyxTQUFTeVMsS0FDZCxNQUFNL3lCLEVBQVksS0FBc0I5eEMsS0FBS3lPLEdBQU84bkQsR0FBaUI5bkQsS0FDckUsR0FBSXFqQyxFQUFVeHlDLE9BQVEsQ0FDcEIsTUFBTXdsRSxFQUE2QixHQUM3QkMsRUFBOEIsR0FDcENqekIsRUFDRy9sQyxTQUFTMEMsSUFDUixNQUFNa2hCLEVBQU1xMUMsR0FBYXYyRCxHQUN6QnEyRCxFQUFZMWpFLFFBQVF1dUIsR0FDcEJvMUMsRUFBYTNqRSxRQUFRdXVCLEVBQUlubUIsUUFBUWhKLEdBQU1BLEVBQUV3d0MsZUFPN0NpMEIsR0FBYyxDQUFFL3NDLE9BSERpK0IsR0FBVXJrQixFQUFVLElBR1hpekIsZUFBY0QsaUJBV25DLFNBQVNGLEdBQWM5eUIsRUFBMkJtUSxFQUFXK1EsTUFDbEUsTUFBTWg0QixFQUFPczdCLEdBQVFyVSxHQUNmdHlCLEVBQU13akMsR0FBS3JoQixFQUVkdG9DLFFBQVFpRixHQUFPQSxJQUFPdXNCLElBRXRCaDdCLEtBQUt5TyxHQUFPOG5ELEdBQWlCOW5ELEVBQUl3ekMsS0FJakN6NEMsUUFBUWlGLElBQVFxakMsRUFBVWxqQyxTQUFTdW5ELEdBQVUxbkQsRUFBSXd6QyxLQUFjLElBQU1uUSxFQUFVdG9DLFFBQVFoSixHQUFNQSxJQUFNaU8sSUFBSW5QLFNBQ3ZHVSxLQUFLeU8sR0FBT3UyRCxHQUFhdjJELEVBQUksS0FBTXd6QyxNQUV0QyxNQUFPLENBQUN0eUIsRUFBS0EsRUFBSW5tQixRQUFRaUYsR0FBT0EsRUFBR3VpQyxZQVk5QixTQUFTZzBCLEdBQWF0b0MsRUFBdUJ3b0MsRUFBc0IsS0FBTWpqQixFQUFXK1EsTUFDekYsT0FBT21TLEdBQWN6b0MsRUFBU3dvQyxFQUFVampCLEdBQ3JDamlELEtBQUl5TyxJQUlILE1BQU0yMkQsRUFBVzMyRCxFQUVqQixjQURPMjJELEVBQVNGLFNBQ1RFLEtBU2IsU0FBU0QsR0FBY3pvQyxFQUF1QndvQyxFQUFxQmpqQixHQUNqRSxHQUFHdmxCLEVBQVMsQ0FDVixNQUFNMm9DLEVBQVFqSSxLQUNSNzZCLEVBQVc0d0IsR0FBS3oyQixFQUFRNkYsU0FDM0J2aUMsS0FBSytTLEdBQU9veUQsR0FBY3BQLEdBQWVoakQsRUFBSWt2QyxHQUFXb2pCLEVBQU9wakIsTUFFNURxakIsRUFBYy9pQyxFQUNmLzRCLFFBQVFpRixHQUFRQSxFQUFpQ3kyRCxXQUFhRyxJQUVuRSxNQUFPLENBQUMsSUFDSDFTLEdBQWMsQ0FBQ2oyQixJQUFVLEdBQzVCM3BCLEdBQUlzeUQsRUFDSkgsV0FDQWwwQixTQUF1QixPQUFiazBCLEVBQ1YzaUMsU0FBVStpQyxFQUNQdGxFLEtBQUt5TyxHQUFPQSxFQUFHc0UsT0FDakIxTCxPQUFPazdCLEdBSVYsTUFBTSxJQUFJMy9CLE1BQU0sNkRBSWIsU0FBUzJpRSxLQUNkLFFBQVNqVyxLQUFROEMsVUFNWixTQUFTb1QsS0FDZCxNQUFPVixFQUFhQyxHQUFnQnpWLEtBQVE4QyxVQUd0Q2w2QixFQUFTc21DLElBQW9CLEVBQU9zRixPQUdwQyxjQUFFM1IsR0FBa0I3QyxLQUcxQjJWLEdBQWMsQ0FDWi9zQyxTQUNBNnNDLGVBQ0FELGNBQ0FwTyxXQU5pQngrQixHQUFZdStCLEdBQW9CditCLEdBQVUsR0FBSyxDQUFDaTZCLEtBVW5FLE1BQU1DLEVBQVl3UyxHQUFjRyxHQUNoQzFWLEdBQVMsSUFDSkMsS0FDSDhDLGNBT0csU0FBUzZTLElBQWMsT0FBQy9zQyxFQUFNLGFBQUU2c0MsRUFBWSxZQUFFRCxFQUFXLFVBQUVwTyxFQUFZLE1BSzNFelUsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFDNUMsR0FBSW14QixFQUFZeGxFLE9BQVMsRUFBRyxDQUUxQixNQUFNbW1FLEVBQWlCeGpCLEVBQ3BCejRDLFFBQVFpRixHQUFPQSxFQUFHdWlDLFdBQ2xCaHhDLEtBQUt5TyxJQUFPLElBQ1JBLEVBQ0h1aUMsVUFBVSxNQUtSMnRCLEVBRFVtRixLQUNVL21DLHdCQUVwQmtpQyxFQURXLEdBQWMsS0FBbUIvbUMsR0FDdEI2RSx3QkFHNUIsSUFBSWdHLEVBQVMsRUFHYjh2QixHQUFlSCxHQUFnQm9TLEVBQVk5a0UsS0FBSzA4QixJQUM5QyxNQUFNZ3BDLEVBQVNYLEVBQWFuMkQsU0FBUzh0QixJQUUvQixLQUFDaHNCLEVBQUksSUFBRXVpQixHQUFPK3JDLEdBQWEsQ0FDL0JMLFlBQ0FNLGFBQ0FDLFlBQWEsQ0FDWG51QyxNQUFPajNCLFNBQVM0aUMsRUFBUTFXLE1BQU0wdEMsUUFBUTNpQyxPQUN0Q2lDLE9BQVFsNUIsU0FBUzRpQyxFQUFRMVcsTUFBTTB0QyxRQUFRMWdDLFNBRXpDK1AsV0FLRixPQUhJMmlDLElBQ0YzaUMsR0FBVSxJQUVMLElBQ0ZyRyxFQUNIZzZCLFVBQVdBLEdBQWFoNkIsRUFBUWc2QixVQUVoQzF3QyxNQUFPLElBQ0YwVyxFQUFRMVcsTUFDWDB0QyxRQUFTZ1MsR0FBNkMsV0FBbkNocEMsRUFBUTFXLE1BQU0wdEMsUUFBUW4xQyxTQUF3QixJQUM1RG1lLEVBQVExVyxNQUFNMHRDLFFBQ2pCemdDLElBQUtBLEVBQU0sS0FDWHZpQixLQUFNQSxFQUFPLE1BQ1hnc0IsRUFBUTFXLE1BQU0wdEMsY0FNbkIvZixHQUdMLE1BQU0zWSxFQUFPczdCLEdBQVFyVSxHQUNmMGpCLEVBQWNaLEVBQ2pCdjdELFFBQVFpRixHQUFPQSxFQUFHdlQsT0FBU2lpRCxHQUFZbVcsVUFDdkN0ekQsS0FBS3lPLEdBQU9BLEVBQUdzRSxLQUNaNnlELEVBQWViLEVBQ2xCdjdELFFBQVFpRixHQUFPQSxFQUFHdlQsT0FBU2lpRCxHQUFZbVcsVUFDdkN0ekQsS0FBS3lPLEdBQU9BLEVBQUdzRSxLQUVsQmdnRCxJQUFnQjRTLEVBQVlybUUsT0FBUyxDQUFDLElBQy9CNDRCLEVBQ0hxSyxTQUFVckssRUFBT3FLLFNBQVNsN0IsT0FBT3MrRCxLQUM5QixJQUNKdCtELE9BQU91K0QsRUFBYXRtRSxPQUFTLElBQ3pCMDdCLEVBQ0h1SCxTQUFVdkgsRUFBS3VILFNBQVNsN0IsT0FBT3UrRCxJQUM3QixJQUVIditELE9BQU9vK0QsRUFBZW5tRSxPQUFTbW1FLEVBQWlCLElBV2pEOXhCLEdBRUY1dEMsUUFBUW8yQyxLQUFLLHFCQ2hRVixNQUFNMHBCLEdBQWMsQ0FBQzl5RCxFQUFZazlDLEVBQVF1TCxPQUN2Q3ZMLEVBQU1wZ0QsTUFBTW8vQyxHQUFNQSxFQUFFbDhDLEtBQU9BLElBR3ZCK3lELEdBQWlCLENBQUN0eUIsRUFBSzhiLEtBQVNXLEVBQVF1TCxPQUM1Q3FLLEdBQVlyeUIsRUFBRzJlLGNBQWVsQyxHQ2lCaEMsTUFBTThWLEdBd0JYNzhELFlBQXNCd3pCLEVBQXNCc3BDLEdBQXRCLEtBQUF0cEMsVUFmZCxLQUFBdXBDLGNBQWUsRUFrQnJCLE1BQU1DLEVBQVM5c0UsT0FBZSxPQUU5QixHQUFJOHNFLEVBQVEsQ0FFVnZvRSxLQUFLd29FLE9BQVNELEVBQU9DLE9BQU94aUUsT0FBTys0QixFQUFRNU0sY0FBYyxlQUFnQixDQUN2RTcwQixNQUFPLEdBQ1ArcUUsV0FDQUksTUFBTyxZQUVUem9FLEtBQUt3b0UsT0FBT0UseUJBQXlCN2xFLElBQzlCN0MsS0FBS3NvRSxjQUNSdG9FLEtBQUtxbUUsb0JBS1QsTUFBTXNDLEVBQVU1cEMsRUFBUTVNLGNBQWMsYUFDbEN3MkMsR0FDRkEsRUFBUTMwQyxpQkFBaUIsU0FBUyxLQUNoQ28wQyxHQUFlUSxVQUFZUixHQUFlUSxTQUMxQzVvRSxLQUFLNm9FLFVBQVVULEdBQWVRLFVBQzlCNW9FLEtBQUs4b0UsYUFFTDlvRSxLQUFLd29FLE9BQU9PLFNBQ1ovb0UsS0FBS3dvRSxPQUFPUSxTQUVaaHBFLEtBQUt3b0UsT0FBTy8wQyxXQUNYLEdBRUx6ekIsS0FBS3N1RCxZQUFjLElBQUkvQyxHQUFZLENBQ2pDcnlDLEtBQU0sR0FBR212RCxXQUNUdHBDLFVBQ0Eyc0IsT0FBU3hzRCxJQUNQYyxLQUFLOG9FLGFBRUw5b0UsS0FBS3dvRSxPQUFPTyxTQUNaL29FLEtBQUt3b0UsT0FBT1EsU0FFWmhwRSxLQUFLd29FLE9BQU8vMEMsU0FFZGs0QixRQUFTLGNBR1g3ZCxHQUFha2dCLE1BQU0sUUFBUyxrSEFBa0gsU0FRbEo2YSxVQUFVSSxHQUNSLE1BQU0sVUFBRTNjLEVBQVMsU0FBRUMsRUFBUSxXQUFFRixHQUFlTixLQUN0Q21kLEVBQWVDLEtBQ2pCRixHQUNGdnRFLFNBQVMyaEMsS0FBS2pnQixVQUFVakgsSUFBSSxnQkFDNUIreUQsRUFBYUUsU0FBUzljLEdBQ3RCNGMsRUFBYUUsU0FBUzdjLEdBQ3RCMmMsRUFBYUUsU0FBUy9jLEtBRXRCM3dELFNBQVMyaEMsS0FBS2pnQixVQUFVdVYsT0FBTyxnQkFDL0J1MkMsRUFBYXYyQyxPQUFPMjVCLEdBQ3BCNGMsRUFBYXYyQyxPQUFPNDVCLEdBQ3BCMmMsRUFBYXYyQyxPQUFPMDVCLElBT3hCeWMsYUFDRTlvRSxLQUFLd29FLE9BQU9hLGNBQWMsQ0FDeEJDLFlBQWFsQixHQUFlUSxTQUFXLE1BQVEsS0FDL0NXLFFBQVMsQ0FDUEMsU0FBVXBCLEdBQWVRLFlBUS9CbmdELE9BQ0V6b0IsS0FBS3N1RCxZQUFZN2xDLE9BTW5CWixRQUNFN25CLEtBQUtzdUQsWUFBWXptQyxRQU1uQjRoRCxZQUFZQyxHQUNWMXBFLEtBQUt3b0UsT0FBT2EsY0FBYyxDQUFFSyxhQU05QmpuRSxXQUNFLE9BQU96QyxLQUFLd29FLE9BQU8vbEUsV0FPckIreEIsU0FBU2wzQixHQUNQMEMsS0FBS3lwRSxhQUFZLEdBR2Juc0UsSUFBVTBDLEtBQUt5QyxhQUNqQnpDLEtBQUtzb0UsY0FBZSxFQUNwQnRvRSxLQUFLd29FLE9BQU9oMEMsU0FBU2wzQixHQUNyQjBDLEtBQUtzb0UsY0FBZSxHQVd4QnFCLFNBQVNyc0UsR0FDUDBDLEtBQUt5cEUsYUFBWSxHQUVqQnpwRSxLQUFLc29FLGNBQWUsRUFDcEJ0b0UsS0FBS3dvRSxPQUFPaDBDLFNBQVNsM0IsR0FDckIwQyxLQUFLc29FLGNBQWUsRUFNdEJqQyxpQkFDRSxNQUFNLElBQUlwaEUsTUFBTSxvQ0NwTHBCLElBQUksR0FLRyxTQUFTMmtFLEtBQ2QsT0FBTyxHQUFTbmhELE9BcUJsQixNQUFNb2hELFdBQW1CekIsR0FTdkI3OEQsWUFBWXd6QixHQUNWdWMsTUFBTXZjLEVBQVMsUUFDZm82QixJQUFjLEtBQ1puNUQsS0FBSzhwRSxZQUVQeFUsSUFBa0IsQ0FBQ3psQyxFQUFtQms2QyxLQUNwQy9wRSxLQUFLOHBFLFlBR1RFLGNBQWEsUUFBRUMsRUFBTyxLQUFFNXNDLEVBQUksTUFBRXZwQixJQUM1QixNQUFNd3dDLEVBQVcsS0FDakIsR0FBd0IsSUFBcEJBLEVBQVMzaUQsT0FBYyxDQUN6QixNQUFNdy9ELEVBQVEsR0FBYyxLQUFtQjdjLEVBQVMsSUFDcERBLEVBQVMsR0FBRy9tRCxPQUFTaWlELEdBQVlvZ0IsS0FDbkNxSyxFQUFRM2xCLEVBQVMsSUFDUjZjLEdBQXlDLFNBQWhDQSxFQUFNeGpDLFFBQVExWixjQUNoQ29aLElBRUF2cEIsU0FHRkEsSUFHSmcyRCxTQUNFLE1BQU1JLEVBQVVoUixLQUFVckYsU0FDMUI3ekQsS0FBS2dxRSxhQUFhLENBQ2hCQyxRQUFVbjVELEdBQU85USxLQUFLdzBCLFNBQVMxakIsRUFBR3lwRCxXQUNsQ2w5QixLQUFNLElBQU1yOUIsS0FBS3cwQixTQUFTMDFDLEdBQzFCcDJELE1BQU8sSUFBTTlULEtBQUsycEUsU0FBUywwQkFPL0J0RCxpQkFDRXJtRSxLQUFLZ3FFLGFBQWEsQ0FDaEJDLFFBQVVuNUQsR0FBT3NrRCxHQUFlLENBQUMsSUFDNUJ0a0QsRUFDSHlwRCxVQUFXdjZELEtBQUt5QyxjQUVsQjQ2QixLQUFNLElBQU00N0IsR0FBVyxJQUNsQkMsS0FDSHJGLFNBQVU3ekQsS0FBS3lDLGFBRWpCcVIsTUFBTyxVQy9FTixNQUFNLEdBYVh2SSxZQUFZOGxDLEdBRkosS0FBQWl2QixPQUFTLEVBR2Z0Z0UsS0FBS3F0QyxVQUFZLElBQUloc0MsSUFDckJyQixLQUFLbXFFLE9BQU85NEIsR0FiZHBELGVBQWUvL0IsR0FDYixPQUFRQSxFQUFPeXZCLFNBRXNCLFVBQWpDenZCLEVBQU95dkIsUUFBUWtCLGVBQ2tCLGFBQWpDM3dCLEVBQU95dkIsUUFBUWtCLGVBQzRCLFNBQTNDM3dCLEVBQU9za0IsYUFBYSxtQkFXMUIyM0MsT0FBTzk0QixHQUNMLE1BQU1sRCxFQUFPdHJDLEdBQU03QyxLQUFLb3FFLGNBQWN2bkUsR0FFdEMsT0FEQXd1QyxFQUFJcmQsaUJBQWlCLFVBQVdtYSxHQUN6QixLQUNMa0QsRUFBSTlULG9CQUFvQixVQUFXNFEsSUFVdkNrOEIsWUFBWUMsRUFBb0JuOEIsR0FDOUIsTUFBTWhzQyxFQUFNbW9FLEVBQVNub0UsSUFBSThoQixjQUN6QixJQUFLa3FCLElBQVFoc0MsRUFDWCxNQUFNLElBQUk4QyxNQUFNLHVEQUViakYsS0FBS3F0QyxVQUFVaHFDLElBQUlsQixJQUN0Qm5DLEtBQUtxdEMsVUFBVXZyQyxJQUFJSyxFQUFLLElBRTFCLE1BQU1pVCxFQUFLcFYsS0FBS3NnRSxTQUdoQixPQUZBdGdFLEtBQUtxdEMsVUFBVS9wQyxJQUFJbkIsR0FBS3NCLEtBQUssQ0FBQ2tvQyxFQUFHMitCLEVBQVVuOEIsTUFBSy80QixPQUV6QyxLQUNMLE1BQU05UCxFQUFNdEYsS0FBS3F0QyxVQUFVL3BDLElBQUluQixHQUN6QnVxQixFQUFNcG5CLEVBQUk2TSxXQUFXdzVCLEdBQU1BLEVBQUV2MkIsS0FBT0EsSUFDdENzWCxHQUFPLEdBQ1RwbkIsRUFBSWxFLE9BQU9zckIsRUFBSyxJQUt0QjA5QyxjQUFjdm5FLEdBQ1osSUFBS0EsRUFBRTBuRSxpQkFDTCxHQUFJejhCLEdBQWF2UyxTQUNELFVBQVYxNEIsRUFBRVYsS0FBaUIyckMsR0FBYWptQixPQUFNLEVBQU1obEIsR0FDbEMsV0FBVkEsRUFBRVYsS0FBa0IyckMsR0FBYWptQixPQUFNLEVBQU9obEIsT0FDN0MsQ0FDTCxNQUFNd3FDLEVBQVlydEMsS0FBS3dxRSxzQkFBc0IzbkUsR0FDekN3cUMsRUFBVTFyQyxPQUFTLElBQ3JCMHJDLEVBQVVqL0IsU0FBU2s4RCxJQUNaem5FLEVBQUUwbkUsa0JBQ0xELEVBQVNuOEIsSUFBSXRyQyxNQUdqQkEsRUFBRTZ3QixtQkFNVjgyQyxzQkFBc0IzbkUsR0FDcEIsTUFBTVYsRUFBTVUsRUFBRVYsSUFBSThoQixjQUNsQixJQUFLamtCLEtBQUtxdEMsVUFBVWhxQyxJQUFJbEIsR0FDdEIsTUFBTyxHQUVULE1BQU1xckMsRUFBVTNxQyxFQUFFMnFDLFNBQVczcUMsRUFBRTRuRSxRQUUvQixPQURrQnpxRSxLQUFLcXRDLFVBQVUvcEMsSUFBSW5CLEdBQ3BCMEosUUFBUXkrRCxLQUlNLElBQXpCQSxFQUFTMytCLEVBQUUrQixZQUVSNDhCLEVBQVMzK0IsRUFBRThCLFdBQVksS0FBVzVxQyxFQUFFNHFDLFdBQ3BDNjhCLEVBQVMzK0IsRUFBRTRCLFNBQVUsS0FBVzFxQyxFQUFFMHFDLFNBQ2xDKzhCLEVBQVMzK0IsRUFBRTZCLFVBQVcsS0FBV0EsTUFJaEIsSUFBckI4OEIsRUFBUzMrQixFQUFFemhCLFFBQW9CLEdBQVN3Z0QsUUFBUTduRSxFQUFFcUwsWUN0R3BELE1BQU15OEQsR0FBVyxDQUFDaGEsRUFBaUI5YSxFQUFLOGIsS0FBUzNiLEVBQVcxZ0MsR0FBTTBnQyxXQUFhMGIsR0FBUyxJQUMxRjdiLEVBQ0gyZSxjQUFlN0QsRUFBS3Y3QyxJQUNuQjRnQyxHQUVVNDBCLEdBQVksQ0FBQ0MsRUFBZ0JoMUIsRUFBSzhiLEtBQVMzYixFQUFXMWdDLEdBQU0wZ0MsV0FBYTBiLEdBQVMsSUFDMUY3YixFQUNINFYsUUFBUzVWLEVBQUc0VixRQUFRL2hELE9BQU9taEUsSUFDMUI3MEIsR0FFVTgwQixHQUFlLENBQUNELEVBQWdCaDFCLEVBQUs4YixLQUFTM2IsRUFBVzFnQyxHQUFNMGdDLFdBQWEwYixHQUFTLElBQzdGN2IsRUFDSDRWLFFBQVM1VixFQUFHNFYsUUFBUTUvQyxRQUFPay9ELEdBQUtBLEVBQUUzMUQsS0FBT3kxRCxFQUFPejFELElBQU0yMUQsRUFBRXh0RSxPQUFTc3RFLEVBQU90dEUsUUFDdkV5NEMsR0FHVWcxQixHQUFhLENBQUNILEVBQWdCaDFCLEVBQUs4YixLQUFTM2IsRUFBVzFnQyxHQUFNMGdDLFdBQWEwYixHQUFTLElBQzNGN2IsRUFDSDRWLFFBQVM1VixFQUFHNFYsUUFBUXBwRCxLQUFJMG9FLEdBQUtBLEVBQUV4dEUsT0FBU3N0RSxFQUFPdHRFLE1BQVF3dEUsRUFBRTVwQyxXQUFhNHBDLEVBQUUzMUQsS0FBT3kxRCxFQUFPejFELElBQU0sSUFDdkYyMUQsRUFDSDVwQyxRQUFTNHBDLEVBQUUzMUQsS0FBT3kxRCxFQUFPejFELElBQ3ZCMjFELEtBQ0gvMEIsR0NyQkksU0FBU2kxQixLQUVkLE9BQU9DLEdBQWlCLE1BQ3JCdG1CLE1BQUssRUFBRXh2QyxLQUFJNG5ELGtCQUVWLE1BQU1tTyxFQUFXdE4sS0FBVzNyRCxNQUFNby9DLEdBQU1BLEVBQUVsOEMsS0FBT0EsSUFDM0MrMUQsR0FFSlIsR0FBU1EsR0FDVHI5QixHQUFhK2hCLFlBQVksMENBR3pCMk4sR0FBWUgsR0FBYSxDQUFDLENBQ3hCam9ELEtBQ0E0bkQsY0FDQStDLEtBQU0sQ0FDSmQsU0FBVXRmLEdBQVMyZSxLQUNuQm51QixLQUFNdVcsR0FBVU0saUJBQW1CNXhDLEdBRXJDZzJELFdBQVcsRUFDWEMsV0FBVyxFQUNYQyxTQUFTLEVBQ1RDLGVBQWUsU0FJcEJwZCxPQUFPcWQsUUFTTCxTQUFTQyxHQUFTQyxFQUFzQnZELE1BQzdDK0MsR0FBaUJRLEdBQ2Q5bUIsTUFBSyxFQUFFeHZDLEtBQUk0bkQsa0JBQ04wTyxFQUFTTCxVQUVYM04sR0FBWSxDQUNWLElBQ0tnTyxFQUNIdDJELEtBQ0E0bkQsY0FDQStDLEtBQU0sQ0FDSmQsU0FBVXRmLEdBQVMyZSxLQUNuQm51QixLQUFNdVcsR0FBVU0saUJBQW1CNXhDLE1BS3pDMDRCLEdBQWFrZ0IsTUFBTSxRQUFTLCtFQUErRSxZQUc5R0csT0FBT3FkLFFBUUwsU0FBU0csR0FBVy9OLEVBQWtCdUssTUFFM0NyNkIsR0FBYXdoQixRQUNYLGNBQ0EsMENBQTBDc08sRUFBS1osd0NBQzVDMkIsSUFRUCxJQUFzQitNLEVBUFovTSxJQU9ZK00sRUFORDlOLEVBT0xDLEtBQ0psOEQsT0FBUyxFQUNqQm1zQyxHQUFha2dCLE1BQU0sUUFBUyw0RUFBNEUsU0FFcEcwZCxFQUFTTixVQUNYM04sR0FBWSxDQUFDaU8sSUFFYjU5QixHQUFha2dCLE1BQU0sUUFBUywrRUFBK0UsWUFaMUcsU0FBVSxVQXNCVixTQUFTNGQsR0FBV2hPLEVBQWlCNWUsR0FDMUMyZSxHQUFTLENBQUNDLE9BQU01ZSxRQVFYLFNBQVNrc0IsR0FBaUJRLEVBQXNCLE1BQ3JELE9BQU8sSUFBSXRvQixTQUFRLENBQUNDLEVBQVNDLEtBQzNCLE1BQU04TCxFQUFPMXpELFNBQVNDLGNBQWMsT0FDcEN5ekQsRUFBSzFyQixVQUFZLGdMQU9IZ29DLEVBQVdBLEVBQVMxTyxZQUFjLGlCQUN4QzBPLEdBQVlBLEVBQVNMLFVBQVksR0FBSywrQkFHOUMsTUFBTVEsRUFBWXpjLEVBQUtqOUIsY0FBYyx1QkFDckMyYixHQUFhd2hCLFFBQ1hvYyxFQUFXLGtCQUFvQixXQUMvQixJQUNDL00sSUFDQyxNQUFNbU4sRUFBVUQsRUFBVXZ1RSxNQUMxQixHQUFJcWhFLEdBQVVtTixHQUFXQSxFQUFRbnFFLE9BQVMsRUFBRyxDQUczQyxNQUFNb3FFLEVBQVlybEIsR0FBVU8sZUFBaUI2a0IsRUFBUWh1RSxRQUFRLE9BQVEsS0FBS21tQixjQUMxRW8vQixFQUFRLENBQUNqdUMsR0FBSTIyRCxFQUFXL08sWUFBYThPLFNBRXJDeG9CLEVBQU8sZUFJYnhWLEdBQWFxQixXQUFXaWdCLE1Dakk1QixJQUFJLEdBWUosTUFBTTRjLFdBQWtCNUQsR0FTdEI3OEQsWUFBWXd6QixHQUNWdWMsTUFBTXZjLEVBQVMsT0FDZm82QixJQUFjLENBQUN0cEMsRUFBYzBpQyxLQUN2QkEsRUFBS29CLFlBQWMzekQsS0FBS3lDLFlBQzFCekMsS0FBS3cwQixTQUFTKzlCLEVBQUtvQixjQVF6QjBTLGlCQUNFcE4sR0FBVyxJQUNOQyxLQUNIdkYsVUFBVzN6RCxLQUFLeUMsY0NwQ2YsTUFBTXdwRSxHQUdYaCtCLHFCQUVFLE9BREFnK0IsR0FBVzUwRCxTQUFXNDBELEdBQVc1MEQsVUFBWSxJQUFJNDBELEdBQzFDQSxHQUFXNTBELFNBT3BCNjBELFFBQVE5dEUsRUFBNkIrdkMsRUFBMEIrZSxHQUM3RGx0RCxLQUFLbXNFLFdBQVcsaUJBQWtCNXlCLEtBQUtDLFVBQVVwN0MsR0FBVSxRQUFTMnZELEdBQVM1ZixFQUFJNGYsSUFBT2IsR0FRMUZrZixhQUFhaitCLEVBQW9EK2UsR0FDL0RsdEQsS0FBS21zRSxXQUFXLHNCQUF1QixHQUFJLE1BQU9oK0IsRUFBSytlLEdBUXpEbWYsUUFBUWwrQixFQUE0QitlLEdBQ2xDbHRELEtBQUttc0UsV0FBVyxZQUFhLEdBQUksTUFBT2grQixFQUFLK2UsR0FPL0NvZixVQUFVQyxFQUFvQnArQixFQUEwQitlLEdBQ3REbHRELEtBQUttc0UsV0FBV0ksRUFBU0MsYUFBYyxHQUFJLE9BQVFyK0IsRUFBSytlLEdBTzFEdWYsT0FBT0YsRUFBb0JwK0IsRUFBMkIrZSxHQUNwRGx0RCxLQUFLbXNFLFdBQVdJLEVBQVNHLFVBQVcsR0FBSSxNQUFPditCLEVBQUsrZSxHQU90RDlrQyxPQUFPdWtELEVBQWN4K0IsRUFBa0UrZSxHQUNyRmx0RCxLQUFLbXNFLFdBQVdRLEVBQU1DLFVBQVcsR0FBSSxNQUFPeitCLEVBQUsrZSxHQU9uRDJmLGFBQWFGLEVBQWNHLEVBQW1CMytCLEVBQW9EK2UsR0FDaEdsdEQsS0FBS21zRSxXQUFXUSxFQUFNQyxVQUFXcnpCLEtBQUtDLFVBQVUsQ0FBQ3B4QixPQUFRMGtELElBQWEsT0FBUTMrQixFQUFPK2UsR0FPdkY2ZixhQUFhSixFQUFjRyxFQUFtQjMrQixFQUFvRCtlLEdBQ2hHbHRELEtBQUttc0UsV0FBV1EsRUFBTUMsVUFBV3J6QixLQUFLQyxVQUFVLENBQUNweEIsT0FBUTBrRCxJQUFhLFNBQVkzK0IsRUFBSytlLEdBT3pGaWYsV0FBV244QixFQUFhMXRDLEVBQWNvUSxFQUFnQnk3QixFQUFLK2UsR0FDekQsTUFBTUMsRUFBTyxJQUFJQyxlQUNqQkQsRUFBS241QixpQkFBaUIsUUFBU254QixJQUM3QixJQUFJODVCLEVBQWtCd3dCLEVBQUtTLGFBQ3ZCRyxFQUFZLEtBQ2hCLElBQ0VBLEVBQVF4VSxLQUFLb1UsTUFBTVIsRUFBS1MsY0FDeEJqeEIsRUFBV294QixFQUFLcHhCLFFBQ2hCLE1BQU85NUIsSUFRVyxNQUFoQnNxRCxFQUFLRSxPQUNQbGYsRUFBSTRmLEdBQVFaLEVBQUtTLGVBRWpCeGxELFFBQVEwTCxNQUFNLDhDQUErQzZvQixHQUN6RHV3QixHQUNGQSxFQUFXYSxFQUFPQSxFQUFLcHhCLFFBQVVBLE9BSXZDd3dCLEVBQUtuNUIsaUJBQWlCLFNBQVVueEIsSUFDOUJ1RixRQUFRMEwsTUFBTSx5QkFBMEJqUixHQUNwQ3FxRCxHQUNGQSxFQUNJLCtFQUdSQyxFQUFLMWtDLEtBQUsvVixFQUFRczlCLEdBQ2xCbWQsRUFBS0ssaUJBQWlCLGVBQWdCLG9CQUN0Q0wsRUFBS00sS0FBS25yRCxJQ25IUCxTQUFTMHFFLEtBQ2QsTUFBTTF0RCxFQUFNN2pCLE9BQU93eEUsYUFBYUMsUUFBUSxzQkFDeEMsT0FBSTV0RCxFQUNNaTZCLEtBQUtvVSxNQUFNcnVDLEdBRVosR0FZSixTQUFTNnRELEdBQWlCcjlCLEdBQy9CLE1BQU1zOUIsRUFBYyxDQUNsQnQ5QixLQUNHazlCLEtBQWlCbmhFLFFBQU8sQ0FBQzhrRCxFQUFNM1IsSUFBUTJSLEVBQUs3QyxVQUFZaGUsRUFBU2dlLFNBQVc5TyxFQVIxRCxLQVV2QnZqRCxPQUFPd3hFLGFBQWFJLFFBQVEscUJBQXNCOXpCLEtBQUtDLFVBQVU0ekIsSUNoQm5FLE1BQU1sOUIsR0FBVSs3QixHQUFXNWQsY0FLM0IsU0FBU2lmLEdBQVdqWixHQUNsQjNDLEdBQVMsSUFDSkMsS0FDSDBDLFFBQVNBLEVBQVUxbUIsR0FBUTJtQixNQUFRM21CLEdBQVFvSSxPQU94QyxTQUFTdzNCLEtBQ2RELElBQVcsR0FDWHgvQixHQUFham1CLFFBNkNmLFNBQVMybEQsR0FBT0MsRUFBZ0NwQixFQUFrQnFCLEdBQ2hFLE9BQU8sSUFBSXRxQixTQUE0QixDQUFDQyxFQUFTQyxLQUMzQ21xQixHQUFzRCxJQUE3QnBCLEVBQVFzQixVQUFVaHNFLE9BRTdDMGhELEVBQVEsQ0FDTjhRLEtBQU0sS0FDTmYsZ0JBQWlCLEtBQ2pCbVosU0FBVSxRQUd5QixJQUFqQ0YsRUFBUXVCLHFCQUlWdnFCLEVBQVF3cUIsR0FIU3hCLEVBQVFzQixVQUFVLEtBS25DdHFCLEVBTVIsU0FBd0JzcUIsRUFBdUJELEdBRTdDLE9BQU8sSUFBSXRxQixTQUE0QixDQUFDQyxFQUFTQyxLQUMvQ3hWLEdBQWE0d0IsT0FBTyxjQUFlLFNBQVUsU0FBVSxVQUFXbndCLElBQ2hFLEdBQUlBLEVBQUksQ0FDTixNQUFNeVEsRUFBTTh1QixFQUFTQyxjQUNmeEIsRUFBV29CLEVBQVUzdUIsR0FDM0JxRSxFQUFRd3FCLEdBQXFCdEIsU0FFN0JscEIsRUFBUSxRQUVULE9BQVEsVUFDWCxNQUFNaG1CLEVBQU8zaEMsU0FBU0MsY0FBYyxPQUNwQzBoQyxFQUFLNlIsbUJBQW1CLGFBQWMsdVdBT2hDeStCLEVBQVV0ckUsS0FBS2l2RCxHQUFNLGtCQUFrQkEsRUFBRXA0QyxTQUFTbzRDLEVBQUUwTCxpRUFJMURsdkIsR0FBYXFCLFdBQVc5UixHQUN4QixNQUFNeXdDLEVBQVd6d0MsRUFBS2xMLGNBQWMsY0FDaEN1N0MsSUFDRkksRUFBU3h3RSxNQUFRb3dFLE1BakNQTSxDQUFlM0IsRUFBUXNCLFVBQVdELE9BeUNsRCxTQUFTRyxHQUFxQnRCLEdBQzVCLE9BQU8sSUFBSW5wQixTQUE0QixDQUFDQyxFQUFTQyxLQUMvQzJWLEdBQVcsSUFDTkMsS0FDSHBGLGdCQUFpQnlZLEVBQVNyekQsT0FFeEJxekQsRUFBUzBCLG9CQUNYNXFCLEVBQVE2cUIsR0FBaUIzQixJQUV6Qm5lLEdBQWFDLGNBQWMyQixhQUFhcEwsTUFBTXVwQixJQUM1Q2xWLEdBQVcsSUFDTkMsS0FDSDlGLGdCQUFpQithLElBRW5COXFCLEVBQVE2cUIsR0FBaUIzQixVQU1qQyxTQUFTMkIsR0FBaUIzQixHQUN4QixPQUFPLElBQUlucEIsU0FBNEIsQ0FBQ0MsRUFBU0MsS0FDM0NpcEIsRUFBUzZCLFdBQ1gvcUIsRUFBUWdyQixHQUFZOUIsS0FFcEJlLElBQVcsR0FDWHA5QixHQUFRbzhCLFVBQVVDLEdBQVcrQixJQUMzQmhCLElBQVcsR0FDWHgvQixHQUFhd2hCLFFBQVEsY0FBZSxvQ0FDWGdmLDhDQUFxRC9CLEVBQVN2UCxrREFDcEYsS0FDRDNaLEVBQVFnckIsR0FBWTlCLE1BRXRCLE9BQVEsYUFDTjEzQyxHQUFReXVCLEVBQU96dUIsU0FLekIsU0FBU3c1QyxHQUFZOUIsR0FDbkIsT0FBTyxJQUFJbnBCLFNBQTRCLENBQUNDLEVBQVNDLEtBQzNDaXBCLEVBQVNHLFdBQ1hZLElBQVcsR0FDWHA5QixHQUFRdThCLE9BQU9GLEdBQVdFLElBRXhCLEdBREFhLElBQVcsR0FDVyxJQUFsQmIsRUFBTzlxRSxPQUNUbXNDLEdBQWFrZ0IsTUFBTSxjQUFlLDhDQUNyQnVlLEVBQVNnQyxpREFDaEJoQyxFQUFTaUMsb0RBRVosS0FDRG5yQixFQUFRZ3JCLEdBQVk5QixNQUV0QixvQkFFQSxJQUFvQyxJQUFoQ0EsRUFBU2tDLG1CQUNYcHJCLEVBQVFxckIsR0FBYW5DLEVBQVVFLEVBQU8sU0FDakMsQ0FDTDMrQixHQUFhNHdCLE9BQU8sY0FBZSxTQUFVLFNBQVUsVUFBV253QixJQUNoRSxHQUFJQSxFQUFJLENBQ04sTUFBTXlRLEVBQU04dUIsRUFBU0MsY0FDZnBCLEVBQVFGLEVBQU96dEIsR0FDckJxRSxFQUFRcXJCLEdBQWFuQyxFQUFVSSxPQUVoQyxPQUFRLFVBQ1gsTUFBTXR2QyxFQUFPM2hDLFNBQVNDLGNBQWMsT0FDcEMwaEMsRUFBSzZSLG1CQUFtQixhQUFjLHdIQUlsQ3U5QixFQUFPcHFFLEtBQ0Z1d0IsR0FBTSxrQkFBa0JBLEVBQUUxWixTQUFTMFosRUFBRTFaLGtGQUk5QzQwQixHQUFhcUIsV0FBVzlSLEdBQ3hCLE1BQU15d0MsRUFBV3p3QyxFQUFLbEwsY0FBYyxXQUM5QmloQyxFQUFrQjhGLEtBQVU5RixnQkFDOUJBLElBQ0YwYSxFQUFTeHdFLE1BQVE4MUQsRUFBZ0IrYSxZQUlyQ3Q1QyxHQUFReXVCLEVBQU96dUIsTUFFbkJ3dUIsRUFBUSxDQUNOOFEsS0FBTStFLEtBQVUvRSxLQUNoQmYsZ0JBQWlCOEYsS0FBVTlGLGdCQUMzQm1aLGdCQU9SLFNBQVNtQyxHQUFhbkMsRUFBb0JJLEdBQ3hDLE9BQU8sSUFBSXZwQixTQUE0QixDQUFDQyxFQUF1Q0MsS0FDN0UyVixHQUFXLElBQ05DLEtBQ0g3RixXQUFZc1osRUFBTTM4QixPQUVjLElBQTlCMjhCLEVBQU1nQyxvQkFDUnRyQixFQUFRLENBQ044USxLQUFNK0UsS0FBVS9FLEtBQ2hCZixnQkFBaUJ1WixFQUFNdlosZ0JBQ3ZCbVosY0FHRmUsSUFBVyxHQUNYcDlCLEdBQVE5bkIsT0FBT3VrRCxHQUFRamdFLElBQ3JCLE1BQU0wYixFQUFTMWIsRUFBSTBiLE9BQ2YxYixFQUFJc2pDLEtBQ05pcEIsR0FBVyxJQUNOQyxLQUNIN0YsV0FBWTNtRCxFQUFJc2pDLE1BR3BCczlCLElBQVcsR0FDWCxNQUFNc0IsRUFBZ0J4bUQsR0FBVSxHQUVoQzBsQixHQUFhNHdCLE9BQU8sY0FBZSwyTUFHOUI2TixFQUFTc0MsYUFBZSx3REFDZ0J0QyxFQUFTc0MsMERBQ2xELElBQ0pELEVBQWUsOEJBQThCLENBQUNyZ0MsRUFBSXUrQixLQUNoRCxNQUFNZ0MsRUFBeUJDLElBRXpCQSxFQUFPLytCLEtBQ1RpcEIsR0FBVyxJQUNOQyxLQUNIN0YsV0FBWTBiLEVBQU8vK0IsTUFHdkJzOUIsSUFBVyxHQUNYeC9CLEdBQWFpQixjQUFjLGtCQUMzQnNVLEVBQVEsQ0FDTjhRLEtBQU0rRSxLQUFVL0UsS0FDaEJmLGdCQUFpQnVaLEVBQU12WixnQkFDdkJtWixjQUdBaCtCLEVBQ0V1K0IsSUFBYzhCLEdBQ2hCdEIsSUFBVyxHQUNPLEtBQWRSLEVBQ0Y1OEIsR0FBUTI4QixhQUNKRixFQUFRRyxHQUNQa0MsR0FBU0YsRUFBc0JFLEtBQy9CbjZDLEdBQVF5dUIsRUFBT3p1QixLQUVwQnFiLEdBQVE2OEIsYUFDSkosRUFBT0csR0FBWWtDLEdBQVNGLEVBQXNCRSxLQUNqRG42QyxHQUFReXVCLEVBQU96dUIsTUFHdEJ3dUIsRUFBUSxDQUNOOFEsS0FBTStFLEtBQVUvRSxLQUNoQmYsZ0JBQWlCdVosRUFBTXZaLGdCQUN2Qm1aLGFBSUpscEIsRUFBUSxRQUVULE9BQVEsYUFDVHh1QixHQUFReXVCLEVBQU96dUIsU0NuU3pCLElBQUksR0FZSixNQUFNbzZDLFdBQWlCN0csR0FTckI3OEQsWUFBWXd6QixHQUNWdWMsTUFBTXZjLEVBQVMsY0FDZm82QixJQUFjLENBQUN0cEMsRUFBYzBpQyxLQUN2QkEsRUFBS3FCLGFBQWU1ekQsS0FBS3lDLFlBQzNCekMsS0FBS3cwQixTQUFTKzlCLEVBQUtxQixlQVF6QnlTLGlCQUNFcE4sR0FBVyxJQUNOQyxLQUNIdEYsV0FBWTV6RCxLQUFLeUMsY0NuQ2hCLFNBQVN5c0UsSUFBZSxLQUFFM2MsRUFBSSxNQUFFRCxFQUFLLFNBQUVoTyxHQUE2RXRPLEVBQVcxZ0MsR0FBTTBnQyxVQUUxSWdqQixHQUFlekcsRUFBTXZjLEdBRXJCdW5CLEdBQWdCakwsRUFBT3RjLEdBRXZCaWYsR0FBbUIzUSxFQUFVdE8sR0NuQi9CLE1BQU1tNUIsR0FBZ0MsZUFlaENDLEdBYk4sV0FDRSxJQUNFLE1BQU1DLEVBQVk1ekUsT0FBT3d4RSxhQUFhQyxRQUFRaUMsSUFDeENHLEVBQVVELEVBQVlsekUsU0FBU2t6RSxFQUFXLElBQU0sRUFBSSxFQUUxRCxPQURBNXpFLE9BQU93eEUsYUFBYUksUUFBUThCLEdBQStCLEVBQVV0eUUsWUFDOUR5eUUsRUFDUCxNQUFNenNFLEdBQ04sT0FBUSxHQU1HOHRCLEdBR1IsU0FBU3FiLEtBQ1osT0FBT29qQyxHQUdKLFNBQVNHLEdBQUtDLEVBQVdDLEVBQVV2MkQsRUFBTXBSLEdBQzlDLEtBQ2lCck0sT0FBT3d4RSxhQUFhQyxRQUFRaDBELElBQy9CazJELEdBQVNJLEdBQ25CandFLFlBQVcsS0FDTDlELE9BQU93eEUsYUFBYUMsUUFBUWgwRCxLQUM5QnpkLE9BQU93eEUsYUFBYUksUUFBUW4wRCxFQUFNLFFBQ2xDOVEsUUFBUWtCLElBQUksUUFDWnhCLE9BRVUsSUFBWDJuRSxHQUVMLE1BQU01c0UsS0N2QkgsTUFBTTZzRSxHQUNYbmtFLFlBQW1Cd3pCLEdBQUEsS0FBQUEsVUFDakIvK0IsS0FBSzJ3QixPQU1QQSxPQUVFM3dCLEtBQUsrK0IsUUFBUTNoQixVQUFVakgsSUFBSSxrQkFDM0JuVyxLQUFLKytCLFFBQVEzaEIsVUFBVWpILElBQUksV0FHM0IsTUFBTWk1RCxFQUFTcGpDLEtBR1RtaEIsRUFBTyxJQUFJQyxlQUNqQkQsRUFBSzFrQyxLQUNELE1BQ0EsNkVBQ0owa0MsRUFBS00sT0FDTE4sRUFBS241QixpQkFBaUIsU0FBVW54QixLQUM3QjdDLEtBQUsrK0IsUUFBUTVNLGNBQWMsZUFBaUJueUIsS0FBSysrQixTQUFTMkUsVUFDdkQsMEVBQ0oxakMsS0FBSysrQixRQUFRM2hCLFVBQVV1VixPQUFPLGNBRWhDdzZCLEVBQUtuNUIsaUJBQWlCLFFBQVNueEIsSUFFN0IsTUFBTTZ0RCxFQUFRblgsS0FBS29VLE1BQU1SLEVBQUtTLGNBSXhCK0MsRUFBT0QsRUFEREEsRUFBTS91RCxPQUFTeXRFLEVBQVMxZSxFQUFNL3VELE9BQVMsR0FFbkQsR0FBSWd2RCxFQUFNLENBRVIsTUFBTWdmLEVBQU1qMEUsU0FBU0MsY0FBYyxPQUNuQ2cwRSxFQUFJanNDLFVBQVlpdEIsRUFBS3R6QixLQUNyQixNQUFNdXlDLEVBQVlELEVBQUl4OUMsY0FBYyxLQUk5QnJoQixFQUFLcFYsU0FBU0MsY0FBYyxLQUNsQ21WLEVBQUc1QyxPQUFTLFNBQ1o0QyxFQUFHdzlCLE1BQVFxaUIsRUFBS3JpQixNQUNoQng5QixFQUFHNHlCLFVBQVksT0FBU2l0QixFQUFLcmlCLE1BQVEsV0FDakN0dUMsS0FBSzZ2RSxNQUFNbGYsRUFBS3R6QixNQUFRLE9BQ1gsTUFBYnV5QyxJQUNGOStELEVBQUdxL0IsS0FBT3kvQixFQUFVei9CLE9BRXJCbndDLEtBQUsrK0IsUUFBUTVNLGNBQWMsZUFBaUJueUIsS0FBSysrQixTQUFTeFcsWUFBWXpYLEdBRXpFOVEsS0FBSysrQixRQUFRM2hCLFVBQVV1VixPQUFPLGNBT2xDazlDLE1BQU12b0QsR0FDSixNQUFNOFMsRUFBTzErQixTQUFTQyxjQUFjLE9BRXBDLE9BREF5K0IsRUFBS3NKLFVBQVlwYyxFQUNWOFMsRUFBS3ZJLGFBQWV1SSxFQUFLMDFDLFdBQWEsSUNyRGpELElBQUlyakIsR0NJQXNqQixHRFdKLE1BQU1DLEdBdUJKemtFLFlBQXNCd3pCLEdBU3BCLEdBVG9CLEtBQUFBLFVBckJ0QixLQUFBa3hDLFNBQXdCLEtBQ3hCLEtBQUFDLFNBQWdDLEtBQ2hDLEtBQUE3OEIsU0FBOEMsS0FTOUMsS0FBQXRyQyxNQUFnQixHQVlkL0gsS0FBS3N1RCxZQUFjLElBQUkvQyxHQUFZLENBQ2pDcnlDLEtBQU0sWUFDTjZsQixVQUNBMnNCLE9BQVN4c0QsR0FBU2MsS0FBSzhwRSxTQUN2Qm5lLFFBQVMsU0FHUGhnRCxHQUFPd2hDLGVBQ1QsT0FHRixNQUFNZ2pDLEVBQWEsQ0FBQ0MsRUFBSXgrQyxFQUFXeStDLEVBQU1DLEVBQVN4OEQsS0FDaEQsTUFBTXk4RCxFQUFVLFFBQVFGLElBQ2xCbGpCLEVBQU8sSUFBSUMsZUFDakJELEVBQUtuNUIsaUJBQWlCLFNBQVVueEIsSUFDOUJ1dEUsRUFBRzFzQyxVQUFZLDBFQUNmNHNDLE9BRUZuakIsRUFBS241QixpQkFBaUIsUUFBU254QixJQUM3QixNQUFNMnRFLEVBQU9qM0IsS0FBS29VLE1BQU1SLEVBQUtTLGNBQzdCNXRELEtBQUt5d0UsbUJBQW1CTCxFQUFJeCtDLEVBQVd5K0MsRUFBTUcsR0FDN0NGLE9BRUZuakIsRUFBSzFrQyxLQUFLLE1BQU84bkQsR0FDakJwakIsRUFBS00sUUFJTXp0RCxLQUFLKytCLFFBQVE1TSxjQUFjLFNBQ25DdWMsUUFBVzdyQyxJQUVkLE1BQU15ZSxFQUFLemUsRUFBRXFMLE9BS1B3aUUsRUFBY3B2RCxFQUFFa1IsYUFBYSxrQkFDL0JsUixFQUFFb3lCLGNBQWNsaEIsYUFBYSxpQkFDM0JtK0MsRUFBaUJydkQsRUFBRWtSLGFBQWEsbUJBQ2xDbFIsRUFBRW95QixjQUFjbGhCLGFBQWEsa0JBQ2pDLEdBQU1rK0MsR0FBaUJDLEVBV3JCLE9BVkEzd0UsS0FBS3F6QyxTQUFXLENBQ2R2RCxTQUFXeUosS0FBS29VLE1BQU1nakIsR0FDdEIzZ0MsSUFBSzBnQyxHQU1QMXdFLEtBQUtzdUQsWUFBWXptQyxRQUNqQmhsQixFQUFFNndCLGtCQUNLLEdBR1gsTUFBTWs5QyxFQUFZQyxJQUNoQixHQUFJQSxFQUFPbHZFLE9BQVMsRUFBRyxDQUNyQixNQUFNZ3ZELEVBQU9rZ0IsRUFBT3J0RSxNQUNkc3RFLEVBQWM5d0UsS0FBSysrQixRQUFRNU0sY0FBY3crQixFQUFLNStCLFVBQ2hEKytDLEVBQ0ZYLEVBQ0VXLEVBQWFuZ0IsRUFBSy8rQixVQUNsQisrQixFQUFLMGYsTUFBTSxJQUFNTyxFQUFTQyxLQVM1QkQsRUFBU0MsUUFHWDd3RSxLQUFLK0gsTUFBUSxRQUNUL0gsS0FBS2l3RSxVQUNQandFLEtBQUtpd0UsV0FFUGp3RSxLQUFLaXdFLFNBQVcsS0FDaEJqd0UsS0FBS2t3RSxTQUFXLE1BZXBCVSxFQVpnQixDQUNkLENBQ0U3K0MsU0FBVSxtQkFDVnMrQyxLQUFNLGtCQUNOeitDLFVBQVcsbUJBRWIsQ0FDRUcsU0FBVSxtQkFDVnMrQyxLQUFNLHdCQUNOeitDLFVBQVcsMkJBTUU1eEIsS0FBSysrQixRQUFRNU0sY0FBYyxjQUNuQ3VjLFFBQVc3ckMsSU54SnRCcEgsT0FBT3d4RSxhQUFhOEQsV0FBVyxzQk0wSjNCL3dFLEtBQUs4cEUsVUFJUzlwRSxLQUFLKytCLFFBQVE1TSxjQUFjLGFBQ25DdWMsUUFBVzdyQyxJQUNqQjdDLEtBQUtzdUQsWUFBWXptQyxRQUlqQittQyxHQUFTLEtBQU0sTUFBTSxJQUFNNXVELEtBQUtzdUQsWUFBWTdsQyxVQUk5QyxNQUFNdW9ELEVBQXFCaHhFLEtBQUsrK0IsUUFBUTVNLGNBQWMsbUJBQ2xENitDLEdBQ0YsSUFBSXRCLEdBQVlzQixHQVFwQmhHLFdBQVc1c0UsR0FDTHVOLEdBQU93aEMsZUFDTC91QyxFQUFRNHVELE9BQ1Y1dUQsRUFBUTR1RCxTQU1PLFVBQWZodEQsS0FBSytILE1BRUgzSixFQUFRNHVELE9BQ1Y1dUQsRUFBUTR1RCxRQUdTLFVBQWZodEQsS0FBSytILE1BRUgzSixFQUFRMFYsT0FDVjFWLEVBQVEwVixTQUlWOVQsS0FBS2l3RSxTQUFXN3hFLEVBQVE0dUQsTUFDeEJodEQsS0FBS2t3RSxTQUFXOXhFLEVBQVEwVixPQUc1QjlULEtBQUtxekMsU0FBVyxLQUNoQnJ6QyxLQUFLc3VELFlBQVkzQyxRQUFVLEtBR3JCM3JELEtBQUtxekMsU0FDSHJ6QyxLQUFLcXpDLFNBQVN2RCxTQUNoQjF4QyxFQUFRNnlFLGFBQWFqeEUsS0FBS3F6QyxTQUFTdkQsVUFFbkMxeEMsRUFBUTh5RSxhQUFhbHhFLEtBQUtxekMsU0FBU3JELEtBR3JDNXhDLEVBQVE4eUUsYUFBYSxPQUd6Qmx4RSxLQUFLc3VELFlBQVk3bEMsUUFNWGdvRCxtQkFBbUJMLEVBQWlCeCtDLEVBQW1CeStDLEVBQWMvdEUsR0FPdkU5QixNQUFNeUQsUUFBUTNCLElBTWhCQSxFQUFLRCxLQUFLc3VELElBQ0osTUFBTXdnQixFQUFLejFFLFNBQVNDLGNBQWMsTUFDbEN3MUUsRUFBRy96RCxVQUFVakgsSUFBSSxnQkFBaUJ5YixHQUdsQyxNQUFNdy9DLEVBQVkxMUUsU0FBU0MsY0FBYyxPQUNuQzAxRSxFQUFpQixtQkFBbUJoQixLQUFRMWYsSUFDbER5Z0IsRUFBVWgwRCxVQUFVakgsSUFBSSxhQUN4Qmk3RCxFQUFVL29ELE1BQU1pcEQsZ0JBQ1osT0FBT0Qsb0JBQ1hELEVBQVV0L0MsYUFDTixnQkFBaUIsR0FBR3UvQyxtQkFDeEJELEVBQVV0L0MsYUFBYSxtQkFBb0IsUUFDM0NxL0MsRUFBRzVvRCxZQUFZNm9ELEdBR2YsTUFBTXY3QixFQUFLbjZDLFNBQVNDLGNBQWMsT0FDbENrNkMsRUFBR3o0QixVQUFVakgsSUFBSSxNQUNqQmc3RCxFQUFHNW9ELFlBQVlzdEIsR0FHZixNQUFNMDdCLEVBQUs3MUUsU0FBU0MsY0FBYyxNQUNsQzQxRSxFQUFHN3RDLFVBQVlpdEIsRUFDZjRnQixFQUFHei9DLGFBQWEsZ0JBQWlCLEdBQUd1L0MsbUJBQ3BDRSxFQUFHei9DLGFBQWEsbUJBQW9CLFFBQ3BDK2pCLEVBQUd0dEIsWUFBWWdwRCxHQUdmLE1BQU1DLEVBQVk5MUUsU0FBU0MsY0FBYyxLQUN6QzYxRSxFQUFVcDBELFVBQVVqSCxJQUFJLEtBQU0sb0JBQzlCcTdELEVBQVU5dEMsVUFBWSxVQUN0Qjh0QyxFQUFVMS9DLGFBQWEsY0FBZSxXQUN0QzAvQyxFQUFVdGpFLE9BQVMsU0FDbkJzakUsRUFBVXJoQyxLQUFPLEdBQUdraEMsZUFDcEJ4N0IsRUFBR3R0QixZQUFZaXBELEdBR2YsTUFBTUMsRUFBUy8xRSxTQUFTQyxjQUFjLEtBQ3RDODFFLEVBQU9yMEQsVUFBVWpILElBQUksS0FBTSxXQUMzQnM3RCxFQUFPL3RDLFVBQVksT0FDbkIrdEMsRUFBT3ZqRSxPQUFTLFNBQ2hCdWpFLEVBQU90aEMsS0FBTyxnQ0FBZ0NrZ0MsbUJBQzFDMWYsY0FDSjhnQixFQUFPMy9DLGFBQWEsY0FBZSxRQUNuQytqQixFQUFHdHRCLFlBQVlrcEQsR0FHZixNQUFNQyxFQUFTaDJFLFNBQVNDLGNBQWMsS0FRdEMsT0FQQSsxRSxFQUFPdDBELFVBQVVqSCxJQUFJLEtBQU0sYUFDM0J1N0QsRUFBT2h1QyxVQUFZLFNBQ25CZ3VDLEVBQU81L0MsYUFDSCxnQkFDQSxtQkFBbUJ1K0MsS0FBUTFmLG1CQUMvQitnQixFQUFPNS9DLGFBQWEsbUJBQW9CLFFBQ3hDK2pCLEVBQUd0dEIsWUFBWW1wRCxHQUNSUCxLQUVSL2lFLFNBQVMraUUsR0FBT2YsRUFBRzduRCxZQUFZNG9ELEtBT2hDckgsU0FFTixNQUFNNkgsRUFBYzNFLEtBR2Q0RSxFQUFPNXhFLEtBQUsrK0IsUUFBUTVNLGNBQWMsY0FDcEN3L0MsRUFBWWh3RSxPQUFTLEVBQ3ZCaXdFLEVBQUt4MEQsVUFBVXVWLE9BQU8sYUFFdEJpL0MsRUFBS3gwRCxVQUFVakgsSUFBSSxhQUlyQixNQUFNaTZELEVBQUt3QixFQUFLei9DLGNBQWMsV0FDOUJpK0MsRUFBRzFzQyxVQUFZLEdBR2ZpdUMsRUFDS3R2RSxLQUFLd3ZFLElBRUosSUFDRSxNQUFNVixFQUFLejFFLFNBQVNDLGNBQWMsTUFDbEN3MUUsRUFBR3IvQyxhQUFhLGlCQUFrQnluQixLQUFLQyxVQUFVcTRCLElBQ2pEVixFQUFHL3pELFVBQVVqSCxJQUFJLGFBQ2pCLE1BQU0yN0QsRUFBT3AyRSxTQUFTQyxjQUFjLFFBQ3BDbTJFLEVBQUtoZ0QsYUFBYSxpQkFBa0J5bkIsS0FBS0MsVUFBVXE0QixJQUluRCxNQUFNRSxFQUFZLE1BQ2hCLE9BQVFGLEVBQUszaEMsU0FDWCxJQUFLLFNBQ0gsTUFBTyxDQUFDLEtBQU0sYUFDaEIsSUFBSyxVQUNILE1BQU8sQ0FBQyxLQUFNLGNBQ2hCLElBQUssU0FDSCxNQUFPLENBQUMsS0FBTSxxQkFDaEIsSUFBSyxNQUNMLElBQUssT0FDSCxNQUFPLENBQUMsS0FBTSxhQUNoQixJQUFLLEtBQ0gsTUFBTyxDQUFDLEtBQU0sWUFDaEIsUUFDRSxNQUFPLENBQUMsS0FBTSxjQWRGLEdBaUJsQjRoQyxFQUFLMTBELFVBQVVqSCxPQUFPNDdELEdBQ3RCWixFQUFHNW9ELFlBQVl1cEQsR0FDZixNQUFNNTRELEVBQU94ZCxTQUFTQyxjQUFjLFFBT3BDLE9BTkF1ZCxFQUFLNFksYUFBYSxpQkFBa0J5bkIsS0FBS0MsVUFBVXE0QixJQUNuRDM0RCxFQUFLd3FCLFVBQVltdUMsRUFBSzFELE9BQVMsWUFBYzBELEVBQUszNEQsS0FBS28zQixXQUFXLEtBQU8sR0FBSyxLQUFPdWhDLEVBQUszNEQsS0FBTyxhQUlqR2k0RCxFQUFHNW9ELFlBQVlyUCxHQUNSaTRELEVBQ1AsTUFBT3R1RSxHQUNQdUYsUUFBUTBMLE1BQU0sa0JBQW1CalIsR0FFbkMsT0FBTyxRQUVSZ0osUUFBUThrRCxLQUFXQSxJQUNuQnZpRCxTQUFTK2lFLEdBQU9mLEVBQUc3bkQsWUFBWTRvRCxNQ3BXakMsU0FBU2EsS0FDZEMsSUFBVSxHQU1MLFNBQVNDLEtBQ2RELElBQVUsR0FVTCxTQUFTRSxHQUF5QkMsR0FDdkMsR0FBSXJDLEtBQWtCQSxHQUFjc0MsT0FBUSxDQUMxQyxHQUFJRCxFQUNGckMsR0FBY2xvRCxRQUNka29ELEdBQWdCdDBFLE9BQU9ndEIsS0FBSzJwRCxHQUM1QnJDLEdBQWN0OEMsYUFFZCxJQUNzQyxnQkFBaENzOEMsR0FBY3JnQyxTQUFTUyxNQUV6QjQvQixHQUFjcmdDLFNBQVM0aUMsUUFBTyxHQUVoQyxNQUFPenZFLEdBRVBrdEUsR0FBY3dDLE9BQU8sR0FBRzdpQyxTQUFTNGlDLFFBQU8sR0FHNUN2QyxHQUFjdDhDLGFBRVYyK0MsSUFDRnJDLEdBQWdCdDBFLE9BQU9ndEIsS0FBSzJwRCxHQUM1QnJDLEdBQWN0OEMsU0FXcEIsU0FBU3crQyxHQUFVTyxHQUNqQixNQWFNQyxFQUFnQixLQUNwQnJnRCxHQUNJOG1DLEtBQVUvRSxNQUNWLFNBQ0M3RyxTQUdINEwsS0FBVS9FLE9BQVMrRSxLQUFVL0YsWUFwQlgsTUFDcEIsTUFBTXlLLEVBQU91SyxLQUVYZ0ssR0FERUssRUFFRSxxQkFDQS8yRSxPQUFPaTBDLFNBQVNnakMsT0FBU3haLEtBQVUvRSxLQUFLckcsUUFBVThQLEVBQUttQyxLQUFLNXZCLEtBRzVEMTBDLE9BQU9pMEMsU0FBU2dqQyxPQUFTeFosS0FBVS9FLEtBQUtyRyxRQUFVOFAsRUFBS21DLEtBQUs1dkIsT0FnQmxFd2lDLEdBR0l2Z0IsTUFDRnFnQixLQUdGM2tDLEdBQWFrZ0IsTUFDWCxrQkFDQSw0REFDQSxLQUNFeWtCLE9DMUVELFNBQVNHLEdBQVlyaEMsRUFBYW02QixHQUV2QyxNQUFNbUgsRUFBY3RoQyxFQUFJNzFDLFNBQVMyaEMsS0FDN0JrVSxFQUFZLFFBQUtBLEVBQVksT0FBRXNoQyxHQUFhQyxVQUM5Q3ZoQyxFQUFZLE9BQUVzaEMsR0FBYUMsU0FBUyxDQUNsQ0MsWUFBYXJILEVBQVN0MkQsS0NMckIsU0FBUzQ5RCxHQUFXQyxFQUE0QjN3RSxHQUNyRCxJQUFJb0ssRUFBTSxHQWdCVixPQWJBcEssRUFBSzhMLFNBQVM4a0UsSUFFWixJQUFJdmlCLEVBQU9zaUIsRUFHWCxJQUFLLE1BQU05d0UsS0FBTyt3RSxFQUFVLENBQzFCLE1BQU01MUUsRUFBUTQxRSxFQUFTL3dFLEdBQ3ZCd3VELEVBQU9BLEVBQUs3eUQsUUFBUSxJQUFJcUQsT0FBTyxLQUFPZ0IsRUFBTSxLQUFNLEtBQU03RSxHQUkxRG9QLEdBQU9pa0QsS0FFRmprRCxFQUdGLFNBQVN5bUUsR0FBV3JpRSxFQUFpQm5PLEdBQzFDLEdBQWdDLFNBQTdCbU8sRUFBRzZzQixRQUFRMVosY0FBMEIsTUFBTSxJQUFJaGYsTUFBTSx3Q0FDeEQsTUFBTThiLEVBQWNqUSxFQUFHd2xCLGNBQWMzNkIsY0FBY2dILEdBR25ELElBRkFtTyxFQUFHc2lFLG9CQUNGaGxFLFNBQVN5d0QsR0FBUzk5QyxFQUFZK1EsYUFBYStzQyxFQUFNL3RELEVBQUcwaEIsYUFBYXFzQyxNQUM1RC90RCxFQUFHZzFCLFlBQ1Ava0IsRUFBWXdILFlBQVl6WCxFQUFHZzFCLFlBRzdCLE9BREFoMUIsRUFBRytpQixXQUFXdy9DLGFBQWF0eUQsRUFBYWpRLEdBQ2pDaVEsRUM1Q0YsU0FBU3V5RCxHQUFlamlDLEVBQW1CL3VDLEdBQ2hELElBQUlLLEVBQXlCMHVDLEVBQUlsZixjQUFjLElBQU11MEIsR0FBVVEsMkJBQzFEdmtELElBQ0hBLEVBQU0wdUMsRUFBSTExQyxjQUFjLFVBQ3hCZ0gsRUFBSXlhLFVBQVVqSCxJQUFJdXdDLEdBQVVRLDRCQUc5QnZrRCxFQUFJbXZCLGFBQWE0MEIsR0FBVXlCLGtCQUFtQixJQUU5Q3hsRCxFQUFJK2dDLFVBQVksb0VBRVU2VixLQUFLQyxVQUFVLENBQ3ZDK1ksS0FBTSxDQUNKbi9CLE1BQU85d0IsRUFBS2l3RCxLQUFLbi9CLE9BRW5Cay9CLE1BQU9od0QsRUFBS2d3RCxRQUlkM3ZELEVBQUlwRixLQUFPLGtCQUNYOHpDLEVBQUk4UixLQUFLdHdCLGFBQWFsd0IsRUFBSzB1QyxFQUFJOFIsS0FBS3JkLFlDQy9CLE1BQU15dEMsR0FBaUJoaUMsR0FBZ0IsQ0FBQ2lpQyxFQUEyQmx2QixFQUFXK1EsUUFDbkYsTUFBTWhrQixFQUFNRSxFQUFJNzFDLFNBQ1YyMUQsRUFBcUMsR0FDM0NtaUIsRUFBVXBsRSxTQUFTMndCLElBRWpCLE1BQU14RSxFQUFTaStCLEdBQVV6NUIsRUFBU3VsQixHQUM1QmtCLEVBQVdqckIsRUFBUyxHQUFjOFcsRUFBSzlXLEdBQVU4VyxFQUFJaFUsS0FTM0QsRy9CaUJHLFVBQ0wsSUFBQ2dVLEVBQUcsR0FBRWo4QixFQUFFLEtBQUU3WCxFQUFJLE9BQUVnOUIsRUFBTSxpQkFBRW03QixJQUl4QixJQUFJMzJCLEVBQXVCLEtBQzNCLE9BQVF4aEMsR0FFTixLQUFLaWlELEdBQVlxZ0IsVUFDZjlnQyxFQW1ETixTQUFnQ3NTLEdBRTlCLE1BQU10UyxFQUFVc1MsRUFBSTExQyxjQUFjLE9BRWxDLE9BREFvakMsRUFBUWpOLGFBQWE0MEIsR0FBVXVCLFVBQVd6SSxHQUFZcWdCLFdBQy9DOWdDLEVBdkRPMDBDLENBQXVCcGlDLEdBQ2pDLE1BR0YsS0FBS21PLEdBQVltVyxRQUNmNTJCLEVBMEVOLFNBQThCc1MsR0FDNUIsTUFBTXRTLEVBQVVzUyxFQUFJMTFDLGNBQWMsT0FFbEMsT0FEQW9qQyxFQUFRak4sYUFBYTQwQixHQUFVdUIsVUFBV3pJLEdBQVlxZ0IsV0FDL0M5Z0MsRUE3RU8yMEMsQ0FBcUJyaUMsR0FDL0IsTUFHRixLQUFLbU8sR0FBWTZnQixLQUNmdGhDLEVBK0VOLFNBQTJCc1MsR0FFekIsTUFBTXRTLEVBbENSLFNBQWtDc1MsRUFBbUJ6ZixHQUVuRCxNQUFNbU4sRUFBVXNTLEVBQUkxMUMsY0FBYyxPQUNsQ29qQyxFQUFRak4sYUFBYTQwQixHQUFVdUIsVUFBV3IyQixHQUcxQyxNQUFNbkssRUFBVTRwQixFQUFJMTFDLGNBQWMsT0FTbEMsT0FOQW9qQyxFQUFReFcsWUFBWWQsR0FHcEJBLEVBQVFySyxVQUFVakgsSUFBSXV3QyxHQUFVMkIsNEJBR3pCdHBCLEVBbUJTNDBDLENBQXlCdGlDLEVBQUttTyxHQUFZNmdCLE1BR3BENTRDLEVBQVVvd0MsR0FBZTk0QixHQVMvQixPQVJBdFgsRUFBUWljLFVBQVksc0JBS3BCamMsRUFBUXJLLFVBQVVqSCxJQUFJLFVBR2Y0b0IsRUE3Rk82MEMsQ0FBa0J2aUMsR0FDNUIsTUFHRixLQUFLbU8sR0FBWW9nQixLQUNmN2dDLEVBK0ZOLFNBQTJCc1MsR0FFekIsTUFBTXRTLEVBQVVzUyxFQUFJMTFDLGNBQWMsT0FDbENvakMsRUFBUWpOLGFBQWE0MEIsR0FBVXVCLFVBQVd6SSxHQUFZb2dCLE1BR3RELE1BQU1pVSxFQUFjeGlDLEVBQUkxMUMsY0FBYyxPQU10QyxPQUxBazRFLEVBQVlud0MsVUFBWSxzQkFDeEIzRSxFQUFReFcsWUFBWXNyRCxHQUdwQkEsRUFBWXoyRCxVQUFVakgsSUFBSXV3QyxHQUFVMkIsNEJBQzdCdHBCLEVBM0dPKzBDLENBQWtCemlDLEdBQzVCLE1BR0YsS0FBS21PLEdBQVk0Z0IsTUFDZnJoQyxFQTZHTixTQUE0QnNTLEdBRTFCLE1BQU10UyxFQUFVc1MsRUFBSTExQyxjQUFjLE9BRWxDLE9BREFvakMsRUFBUWpOLGFBQWE0MEIsR0FBVXVCLFVBQVd6SSxHQUFZNGdCLE9BQy9DcmhDLEVBakhPZzFDLENBQW1CMWlDLEdBQzdCLE1BRUYsUUFBUyxNQUFNLElBQUlwc0MsTUFBTSxpQkFBbUIxSCxHQWE5QyxHQVRBd2hDLEVBQVEzaEIsVUFBVWpILElBQUl1d0MsR0FBVXFDLHFCQUdoQ2hxQixFQUFRM2hCLFVBQVVqSCxJQUFJNVksRUFBS1YsWUFHM0JraUMsRUFBUWpOLGFBQWE0MEIsR0FBVXdCLHFCQUFzQjl5QyxHQUNyRDJwQixFQUFRM2hCLFVBQVVqSCxJQUFJZixHQUVsQm1sQixFQUFRLENBRVYsR0FBSWg5QixJQUFTaWlELEdBQVltVyxTQUFXcDdCLElBQVc4VyxFQUFJaFUsS0FDakQsTUFBTSxJQUFJcDRCLE1BQU0seUNBRWxCczFCLEVBQU9oUyxZQUFZd1csUUFFbkIzMkIsUUFBUW8yQyxLQUFLLHNDK0I3RWJ3MUIsQ0FBaUIsQ0FDZjNpQyxNQUNBajhCLEdBQUkycEIsRUFBUTNwQixHQUNaN1gsS0FBTXdoQyxFQUFReGhDLEtBQ2RnOUIsT0FBUWlyQixFQUNSa1EsaUJBQWtCMzJCLEVBQVEyMkIsbUJBR3hCbjdCLElBQVdpckIsRUFFYnA5QyxRQUFRdTZDLEtBQUssMERBQ1IsQ0FFTCxNQUFNc3hCLEVBQTRCelUsR0FBb0IsQ0FDcERwcUQsR0FBSTJwQixFQUFRM3BCLEdBQ1o3WCxLQUFNd2hDLEVBQVF4aEMsS0FDZG00RCxpQkFBa0IzMkIsRUFBUTIyQixpQkFDMUJnRCxRQUFRLElBSVZySCxFQUFNNXRELEtBQUssQ0FDVDhELEtBQU0wc0UsRUFDTnppQixHQUFJenlCLFFBSU5zeUIsRUFBTTF2RCxTQUNSdXlFLEdBQWlCM2lDLEVBQWpCMmlDLENBQXNCN2lCLEVBQU8vTSxHQUU3Qi9rRCxZQUFXLEtBRU44eEQsRUFBTW4vQyxNQUFLLEVBQUVzL0MsUUFBUW1KLEdBQVluSixNQUNsQzZKLFVBTUs4WSxHQUFvQjVpQyxHQUFpQitTLElBRWhELE1BQU1qVCxFQUFNRSxFQUFJNzFDLFNBQ2hCNG9ELEVBQ0NqaUQsS0FBSzA4QixJQUNKdzNCLEdBQW1CbGxCLEVBQUt0UyxFQUFRM3BCLElBQUksR0FDcENtaEQsR0FBbUJsbEIsRUFBS3RTLEVBQVEzcEIsSUFBSSxHQUU3QixHQUFjaThCLEVBQUt0UyxNQUUzQjN3QixTQUFTMndCLEsvQnBDTCxTQUF1QkEsR0FDNUJBLEVBQVFwTSxTK0JvQ04yekIsQ0FBY3ZuQixNQUdoQngvQixZQUFXLEtBRU4ra0QsRUFBU3B5QyxNQUFNcEIsR0FBTzZwRCxHQUFZN3BELE1BQ25DdXFELE9BRUQsSUFHUTZZLEdBQW9CM2lDLEdBQWdCLENBQUMweEIsRUFBcUMzZSxFQUFXK1EsUUFDaEcsTUFBTWhrQixFQUFNRSxFQUFJNzFDLFNBRWhCdW5FLEVBQU83MEQsU0FBUSxFQUFFN0csT0FBTWlxRCxTQUNyQixNQUFNMlAsRUFBUSxHQUFjOXZCLEVBQUttZ0IsR0FFakMsR0FBSUEsRUFBR3VILFlBQWN4eEQsRUFBS3d4RCxVQUFXLENBRW5DLE1BQU16RyxFQUFRdUwsTUhwRWIsU0FBa0J1VyxFQUF1QnIxQyxFQUFzQnV6QixJQWtCL0QsU0FBeUIraEIsRUFBbUJ0MUMsR0FDakRzMUMsRUFBUWptRSxTQUFTZ0gsSUFDZjJwQixFQUFRM2hCLFVBQVV1VixPQUFPdmQsTUFJM0IycEIsRUFBUTNoQixVQUFVdVYsT0FBTyt6QixHQUFVWSxrQkFHbkN2b0IsRUFBUTNoQixVQUFVdVYsT0FBTyt6QixHQUFVb0IsMEJBQ25DL29CLEVBQVEzaEIsVUFBVXVWLE9BQU8rekIsR0FBVWMseUJBM0JuQzhzQixDQUFnQkYsRUFBUy94RSxLQUFLaXZELEdBQU1BLEVBQUVsOEMsS0FBSzJwQixHQUMzQ3V6QixFQUFNbGtELFNBQVN3dkQsSUFDVkEsR0FDRDcrQixFQUFRM2hCLFVBQVVqSCxJQUFJeW5ELEVBQUt4b0QsSUFDM0IycEIsRUFBUTNoQixVQUFVakgsSUFBSXV3QyxHQUFVWSxtQkFJaENsL0MsUUFBUTBMLE1BQU0sd0NHNERkeWdFLENBQVNqaUIsRUFBTzZPLEVBQU8zUCxFQUFHdUgsVUFBVTEyRCxLQUFLbXlFLEdBQWFsaUIsRUFBTXBnRCxNQUFNby9DLEdBQU1BLEVBQUVsOEMsS0FBT28vRCxPQUVqRjVCLEdBQVkzTSxLQUFpQmtDLE0vQnRFNUIsSUFBaUJwcEMsRUFBc0JnaEMsRStCbUYxQyxHQVhJdk8sRUFBRzVzQixXQUFhcjlCLEVBQUtxOUIsVS9CekZ0QixTQUF5QnJLLEVBQXFCK3BCLEdBRW5EQSxFQUNHbDJDLFNBQVMwQyxJQUNSeXBCLEVBQU9oUyxZQUFZelgsTStCc0ZuQjJqRSxDQUFnQnRULEVBQU8zUCxFQUFHNXNCLFNBQ3ZCdmlDLEtBQUsrUyxHQUFrQmdqRCxHQUFlaGpELEVBQUlrdkMsS0FDMUN6NEMsUUFBUWlGLEtBQXVCQSxJQUMvQnpPLEtBQUt5TyxHQUFxQixHQUFjdWdDLEVBQUt2Z0MsS0FDN0NqRixRQUFRaUYsS0FBc0JBLEtBRy9CMGdELEVBQUd1TyxPQUFTeDRELEVBQUt3NEQsTy9CaEZEaGhDLEUrQmlGVm9pQyxHL0JqRmdDcEIsRStCaUZ6QnZPLEVBQUd1TyxNL0IvRXBCaGhDLEVBQVFqTixhQUFhNDBCLEdBQVU2QixVQUFXd1gsRUFBSzV2QixNQUUvQ3BSLEVBQVErbkMsZ0JBQWdCcGdCLEdBQVU2QixZK0IrRTlCaUosRUFBR3FOLE9BQVN0M0QsRUFBS3MzRCxLQUFNLENBQ3pCLE1BQU02VixFQUFXbnRFLEVBQUtzM0QsTUFBUSxHQUM5QnZpRSxPQUFPbUYsUUFBUWl6RSxHQUNkdG1FLFNBQVEsRUFBRThLLEVBQU1rUixNQUNmLElBQ0UrMkMsRUFBTTJGLGdCQUFnQjV0RCxHQUN0QixNQUFNclcsR0FDTnVGLFFBQVEwTCxNQUFNLDZCQUE4QixDQUFDb0YsT0FBTWtSLE1BQUsrMkMsY0FHNUQsTUFBTXdULEVBQVNuakIsRUFBR3FOLE1BQVEsR0FDMUJ2aUUsT0FBT21GLFFBQVFrekUsR0FDZHZtRSxTQUFRLEVBQUU4SyxFQUFNa1IsTUFDZixJQUNFKzJDLEVBQU1ydkMsYUFBYTVZLEVBQU1rUixHQUFPLElBQ2hDLE1BQU12bkIsR0FDTnVGLFFBQVEwTCxNQUFNLDBCQUEyQixDQUFDb0YsT0FBTWtSLE1BQUsrMkMsY0FzQzNELEdBbENJM1AsRUFBR3AwQyxZQUFjN1YsRUFBSzZWLFlBR3hCN1YsRUFBSzZWLFVBQVVoUCxTQUFTaTBELEdBQU1sQixFQUFNL2pELFVBQVV1VixPQUFPMHZDLEtBQ3JEbEIsRUFBTS9qRCxVQUFVakgsT0FBT3E3QyxFQUFHcDBDLFlBR3hCbzBDLEVBQUd4cEIsV0FBVyt0QixVQUFZeHVELEVBQUt5Z0MsV0FBVyt0QixVQUN4Q3ZFLEVBQUd4cEIsV0FBVyt0QixRL0JzSWpCLFNBQXVCb0wsR0FDNUJBLEVBQU0vakQsVUFBVXVWLE9BQU8rekIsR0FBVW9DLGlCK0J0STNCOHJCLENBQWN6VCxHL0JpSWYsU0FBdUJBLEdBQzVCQSxFQUFNL2pELFVBQVVqSCxJQUFJdXdDLEdBQVVvQyxpQitCaEl4QityQixDQUFjMVQsSUFHZDNQLEVBQUd4cEIsV0FBVzh0QixTQUFXdnVELEVBQUt5Z0MsV0FBVzh0QixTQUN2Q3RFLEVBQUd4cEIsV0FBVzh0QixPL0J1SWpCLFNBQXNCcUwsR0FDM0JBLEVBQU0vakQsVUFBVXVWLE9BQU8rekIsR0FBVW1DLGdCK0J2STNCaXNCLENBQWEzVCxHL0JrSWQsU0FBc0JBLEdBQzNCQSxFQUFNL2pELFVBQVVqSCxJQUFJdXdDLEdBQVVtQyxnQitCakl4QmtzQixDQUFhNVQsSUFHYjNQLEVBQUd1TyxLQUNpQixNQUFsQm9CLEVBQU14akMsVUFDUncxQyxHQUFXaFMsRUFBTyxLQUlsQjZULE1BRU94akIsRUFBRzd6QixRQUFRa0IsZ0JBQWtCc2lDLEVBQU14akMsUUFBUWtCLGVBR3BEczBDLEdBQVdoUyxFQUFPM1AsRUFBRzd6QixTQUVuQjZ6QixFQUFHbU8sTUFBUXA0RCxFQUFLbzRELElBQUssQ0FDdkIsTUFBTTZGLEVBQXlCckUsRUFBTWh2QyxjQUFjLE9BQy9DcXpDLEVBQ0ZBLEVBQUk3RixJQUFNbk8sRUFBR21PLElBRWJ2M0QsUUFBUTBMLE1BQU0sNkRBR2QwOUMsRUFBR2xqQixRQUFVL21DLEVBQUsrbUMsUUFDcEI2eUIsRUFBTTd5QixNQUFRa2pCLEVBQUdsakIsT0FFZmtqQixFQUFHK0ksWUFBY2h6RCxFQUFLZ3pELFcvQjJIdkIsU0FBc0J4N0IsRUFBc0IyRSxHQUU3Qm0wQixHQUFlOTRCLEdBR3ZCMkUsVUFxQmQsU0FBMkJwYyxHQUN6QixPQUFPQSxFQUFLeHBCLFFBQ1Isc0NBQ0EsMkRBeEJvQm0zRSxDQUFrQnZ4QyxHK0IzSHRDd3hDLENBQWEvVCxFQUFPM1AsRUFBRytJLFdBV3JCL0ksRUFBR25wQyxRQUFVOWdCLEVBQUs4Z0IsUUFFcEI4dUMsR0FBZ0I5bEIsRUFBS21nQixHQUFJLEdBQ3pCMkYsR0FBZ0I5bEIsRUFBS21nQixHQUFJLEtBR3ZCbUosR0FBWW5KLElBQ1ZqcUQsRUFBSzhnQixNQUFNeXRDLE9BQU8xaUMsUUFBVW8rQixFQUFHbnBDLE1BQU15dEMsT0FBTzFpQyxPQUMzQzdyQixFQUFLOGdCLE1BQU15dEMsT0FBT3pnQyxTQUFXbThCLEVBQUducEMsTUFBTXl0QyxPQUFPemdDLFFBQzdDOXRCLEVBQUs4Z0IsTUFBTTB0QyxRQUFRM2lDLFFBQVVvK0IsRUFBR25wQyxNQUFNMHRDLFFBQVEzaUMsT0FDOUM3ckIsRUFBSzhnQixNQUFNMHRDLFFBQVExZ0MsU0FBV204QixFQUFHbnBDLE1BQU0wdEMsUUFBUTFnQyxRQUMvQ204QixFQUFHK0ksWUFBY2h6RCxFQUFLZ3pELFcvQnNKMUIsU0FBd0JocEIsRUFBYXhTLEdBRTFDLE1BQU1vMkMsRUFBVXAyQyxFQUFRN00saUJBQWlCLFVBQ3pDLElBQUssTUFBTXBoQixLQUFNcWtFLEVBRWY1akMsRUFBVSxLQUFFemdDLEVBQUdnL0QsVytCMUpic0YsQ0FBZTdqQyxFQUFLNHZCLE1BSXhCbVMsR0FBZWppQyxFQUFLa0MsT0MvTWYsU0FBUzhoQyxHQUFXL2lCLEdBRXpCZ2hCLEdBQWUsS0FBbUIvL0IsTUFHN0IsU0FBUytoQyxHQUFjaGpCLEVBQW9CaWpCLEdBQWlCLEVBQU9qeEIsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFDbkgsU0FBU3cvQixFQUFTQyxHQUNoQkEsRUFBdUJybkUsU0FBUzJ3QixJQUU5Qm8yQixHQUFlLENBQUNwMkIsR0FBVWlYLE1BSTlCc2MsRUFBTWxrRCxTQUFTd3ZELElBQ2IsTUFBTThYLEVBQXFCcHhCLEVBQ3hCejRDLFFBQVFrekIsR0FBWUEsRUFBUWc2QixVQUFVOW5ELFNBQVMyc0QsRUFBS3hvRCxNQUVqRHFnRSxFQUF5QkMsRUFDNUI3cEUsUUFBUWt6QixHQUF5QyxJQUE3QkEsRUFBUWc2QixVQUFVcDNELFNBR3JDOHpFLEVBQXVCOXpFLE9BQVMsSUFDN0I0ekUsRUFZSEMsRUFBU0MsR0FYVDNuQyxHQUFhd2hCLFFBQVEsa0JBQW9CLGVBQ3JDbW1CLEVBQXVCOXpFLG1EQUFtRGk4RCxFQUFLeG9ELHVPQUsvRXVwRCxJQUNFQSxHQUFRNlcsRUFBU0MsS0FFcEIsU0FBVSxTQU9qQmwyRSxZQUFXLEtBR1Q2MUQsR0FBZXNnQixFQUNacnpFLEtBQUswOEIsSUFBWSxJQUNiQSxFQUNIZzZCLFVBQVdoNkIsRUFBUWc2QixVQUFVbHRELFFBQVF1SixHQUFPQSxJQUFPd29ELEVBQUt4b0QsU0FDckQ0Z0MsR0FHUG9mLEdBQWU5QyxFQUNaL3RELFFBQU8sQ0FBQzBELEVBQU0reUMsSUFDTi95QyxFQUFLeUIsT0FBTzJyRCxLQUNoQnhwRCxRQUFRa3pCLEtBQWNBLEVBQVFnaEMsTUFBUWhoQyxFQUFRZ2hDLEtBQUtkLFdBQWF0ZixHQUFTMmUsTUFBUXYvQixFQUFRZ2hDLEtBQUs1dkIsT0FBUzZLLEVBQUkra0IsS0FBSzV2QixPQUNoSDl0QyxLQUFLMDhCLElBQVksQ0FDaEJ4M0IsS0FBTXczQixFQUNOeXlCLEdBQUksSUFDQ3p5QixFQUNIZ2hDLEtBQU0sWUFHWCxPQUVKLE1BSUx1VCxHQUFlLEtBQW1CLy9CLE1BR3BDLE1BQU1vaUMsR0FBZ0IsQ0FBQzUyQyxFQUF1QjYrQixNQUFzQjcrQixFQUFRZ2hDLE1BQVFoaEMsRUFBUWdoQyxLQUFLZCxXQUFhdGYsR0FBUzJlLE1BQVF2L0IsRUFBUWdoQyxLQUFLNXZCLE9BQVN5dEIsRUFBS21DLEtBQUs1dkIsS0FFekp5bEMsR0FBa0IsQ0FBQzcyQyxFQUF1QjYrQixNQUFzQjcrQixFQUFRZzZCLFVBQVVwM0QsUUFBVW85QixFQUFRZzZCLFVBQVU5bkQsU0FBUzJzRCxFQUFLeG9ELElBRTNILFNBQVN5Z0UsR0FBY3JULEVBQW1DbGUsRUFBVytRLEtBQWVyZixFQUFXMWdDLEdBQU0wZ0MsVUFDMUd3c0IsRUFBUXAwRCxTQUFRLEVBQUU3RyxPQUFNaXFELFNBRWpCanFELEdBQVFBLEVBQUs2TixLQUFPbzhDLEVBQUdwOEMsSUFBTTdOLEVBQUt3NEQsT0FBU3ZPLEVBQUd1TyxPQUVqRHhnRSxZQUFXLEtBQ1QsTUFBTXUyRSxFQUEyQnh4QixFQUc5Qno0QyxRQUFRa3pCLEdBQVk2MkMsR0FBZ0I3MkMsRUFBU3gzQixJQUFTb3VFLEdBQWM1MkMsRUFBU3gzQixLQUM3RWxGLEtBQUswOEIsSUFBWSxJQUNiQSxFQUNIZ2hDLEtBQU00VixHQUFjNTJDLEVBQVN4M0IsR0FBUWlxRCxFQUFHdU8sS0FBT2hoQyxFQUFRZ2hDLEtBQ3ZEaEgsVUFBVzZjLEdBQWdCNzJDLEVBQVN4M0IsR0FBUXczQixFQUFRZzZCLFVBQVUxMkQsS0FBSzZXLEdBQVNBLElBQVMzUixFQUFLNk4sR0FBS284QyxFQUFHcDhDLEdBQUs4RCxJQUFRNmxCLEVBQVFnNkIsY0FHckhnZCxFQUFZLEdBQ1oxa0MsRUFBTSxLQUVaN3dDLE1BQU0rRyxLQUFLOHBDLEVBQUluZixpQkFBaUIsVUFBVTNxQixFQUFLdzRELEtBQUs1dkIsbUJBQW1CNW9DLEVBQUt3NEQsS0FBSzV2QixZQUM5RS9oQyxTQUFTK3lELElBRVJBLEVBQU1ydkMsYUFBYSxPQUFRcXZDLEVBQU0zdUMsYUFBYSxRQUFRMTBCLFFBQVF5SixFQUFLdzRELEtBQUs1dkIsS0FBTXFoQixFQUFHdU8sS0FBSzV2QixPQUN0RjRsQyxFQUFVdHlFLEtBQUswOUQsTUFHZSxJQUFJLElBQUl4YixJQUFJb3dCLElBQ25DM25FLFNBQVMreUQsSUFFaEIsTUFBTzZVLEVBQVNDLEdBcUM1QixTQUF5QjVrQyxFQUFtQjh2QixFQUFvQjdjLEdBRzlELElBQUlxckIsRUFBbUJ4TyxFQUN2QixFQUFHLENBQ0QsTUFBTStVLEVBQXlCN2QsR0FBdUJobkIsRUFBS3MrQixFQUFLcnJCLEdBQ2hFLEdBQUk0eEIsRUFBVSxNQUFPLENBQUNBLEVBQVV2RyxHQUM5QkEsRUFBTUEsRUFBSWo4QixvQkFDTGk4QixHQUVULE1BQU8sQ0FBQyxLQUFNLE1BL0N1RHdHLENBQWdCOWtDLEVBQUs4dkIsRUFBTzdjLEdBQ3ZGLEdBQU0weEIsSUFBWUEsRUFBUXo0RSxPQUFTaWlELEdBQVlvZ0IsTUFBUW9XLEVBQVF6NEUsT0FBU2lpRCxHQUFZNmdCLE1BQU8sQ0FFekYsTUFBTStWLEVBQXNCTixFQUFTNWpFLE1BQU1wQixHQUFxQkEsRUFBR3NFLEtBQU80Z0UsRUFBUTVnRSxLQUM1RWdoRSxFQUVKQSxFQUFNN2IsVUFBWXpDLEdBQWFtZSxHQUUvQkgsRUFBU3J5RSxLQUFLLElBQ1R1eUUsRUFDSHpiLFVBQVd6QyxHQUFhbWUsU0FLOUJILEVBQVNuMEUsUUFDWHl6RCxHQUFlMGdCLEVBQVU5L0IsS0FFMUIsR0FHQ3p1QyxFQUFLNk4sS0FBT3U4QyxLQUFRNkMsZUFDdEI5QyxHQUFTLElBQ0pDLEtBQ0g2QyxjQUFlaEQsRUFBR3A4QyxTQU8xQmsrRCxHQUFlLEtBQW1CLy9CLE1DMUc3QixTQUFTOGlDLEdBQVFobEMsRUFBbUJuNEIsRUFBY285RCxFQUFtQkMsRUFBMkIsWUFFckcsSUFBSUMsRUFBV25sQyxFQUFJbGYsY0FBYyxRQUFRb2tELE1BQXVCcjlELG1CQUFzQkEsUUFDakZzOUQsR0FBWUYsR0FBMkIsS0FBZEEsR0FFNUJFLEVBQVdubEMsRUFBSTExQyxjQUFjLFFBQzdCNjZFLEVBQVMxa0QsYUFBYXlrRCxFQUFvQnI5RCxHQUMxQ3M5RCxFQUFTL3VELFFBQVU2dUQsRUFDbkJqbEMsRUFBSThSLEtBQUs1NkIsWUFBWWl1RCxJQUVqQkYsR0FBMkIsS0FBZEEsR0FFZkUsRUFBUzFrRCxhQUFhLFVBQVd3a0QsR0FDakNFLEVBQVMxUCxnQkFBZ0IsUUFDekIwUCxFQUFTMWtELGFBQWF5a0QsRUFBb0JyOUQsSUFHdENzOUQsR0FBWUEsRUFBUzlpQyxjQUFjcGYsWUFBWWtpRCxHLGVDaERsRCxTQUFTQyxHQUFheHVFLEVBQWlCc3FELEdBQzVDLE1BQU1saEIsRUFBTSxLQW1CWixHQWpCS3BwQyxHQUFRQSxFQUFLMHJELFlBQWNwQixFQUFLb0IsV0RlaEMsU0FBc0J0aUIsRUFBbUJxbEMsR0FDOUMsSUFBSUMsRUFBYXRsQyxFQUFJOFIsS0FBS2h4QixjQUFjLElBQU11MEIsR0FBVStDLCtCQUNuRGt0QixJQUNIQSxFQUFhdGxDLEVBQUkxMUMsY0FBYyxTQUMvQmc3RSxFQUFXL2tELFVBQVk4MEIsR0FBVStDLDhCQUNqQ3BZLEVBQUk4UixLQUFLNTZCLFlBQVlvdUQsSUFFdkJBLEVBQVdqekMsVUFBWWd6QyxFQ3RCMkJFLENBQWF2bEMsRUFBS2toQixFQUFLb0IsV0FDcEUxckQsR0FBUUEsRUFBSzJyRCxhQUFlckIsRUFBS3FCLFlERGpDLFNBQXVCdmlCLEVBQW1Cd2xDLEdBQy9DLElBQUlydkQsRUFBWTZwQixFQUFJOFIsS0FBS2h4QixjQUFjLElBQU11MEIsR0FBVWdELGdDQUNsRGxpQyxJQUNIQSxFQUFZNnBCLEVBQUkxMUMsY0FBYyxVQUM5QjZyQixFQUFVanFCLEtBQU8sa0JBQ2pCaXFCLEVBQVVvSyxVQUFZODBCLEdBQVVnRCwrQkFDaENyWSxFQUFJOFIsS0FBSzU2QixZQUFZZixJQUV2QkEsRUFBVWtjLFVBQVltekMsRUNQOEJDLENBQWN6bEMsRUFBS2toQixFQUFLcUIsWUFDdkUzckQsR0FBUUEsRUFBS3FtQyxRQUFVaWtCLEVBQUtqa0IsT0R5RzVCLFNBQWtCK0MsRUFBbUJuNEIsR0FFMUMsSUFBSTY5RCxFQUFZMWxDLEVBQUk4UixLQUFLaHhCLGNBQWMsU0FDbEM0a0QsSUFDSEEsRUFBWTFsQyxFQUFJMTFDLGNBQWMsU0FDOUIwMUMsRUFBSThSLEtBQUs1NkIsWUFBWXd1RCxJQUl2QkEsRUFBVXJ6QyxVQUFZeHFCLEdBQVEsR0NsSFk4OUQsQ0FBUzNsQyxFQUFLa2hCLEVBQUtqa0IsT0FDeERybUMsR0FBUUEsRUFBSzhsQixjQUFnQndrQyxFQUFLeGtDLGFEaUdsQyxTQUF3QnNqQixFQUFtQjRsQyxHQUNoRFosR0FBUWhsQyxFQUFLLGNBQWU0bEMsR0NsRzBCQyxDQUFlN2xDLEVBQUtraEIsRUFBS3hrQyxhQUMxRTlsQixHQUFRQSxFQUFLaXJELGVBQWlCWCxFQUFLVyxjRGlEbkMsU0FBeUI3aEIsRUFBbUJqNkIsR0FDakQsR0FBaUIsT0FBYmk2QixFQUFJaFUsS0FFTixPQUVGLElBQUk4NUMsRUFBVzlsQyxFQUFJbGYsY0FBYyx3QkFDbEIsSUFBWC9hLEdBQ0ZpNkIsRUFBSWhVLEtBQUtqZ0IsVUFBVWpILElBQUl1d0MsR0FBVW1ELHlCQUM1QnN0QixJQUNIQSxFQUFXOWxDLEVBQUkxMUMsY0FBYyxRQUM3Qnc3RSxFQUFTaitELEtBQU8sV0FDaEJpK0QsRUFBUzF2RCxRQUFVLHNDQUNuQjRwQixFQUFJOFIsS0FBSzU2QixZQUFZNHVELE1BR3ZCOWxDLEVBQUloVSxLQUFLamdCLFVBQVV1VixPQUFPK3pCLEdBQVVtRCx5QkFDaENzdEIsR0FDRjlsQyxFQUFJOFIsS0FBSzd1QixZQUFZNmlELElDbEUrQkMsQ0FBZ0IvbEMsRUFBS2toQixFQUFLVyxjQUM3RWpyRCxHQUFRQSxFQUFLcXJELGNBQWdCZixFQUFLZSxhRDZIbEMsU0FBd0JqaUIsRUFBbUJnbUMsR0FDaEQsSUFBSUMsRUFDQWptQyxFQUFJOFIsS0FBS2h4QixjQUFjLDZCQUN0Qm1sRCxFQVFFRCxHQUNIQyxFQUFXNWpDLGNBQWNwZixZQUFZZ2pELEdBUm5DRCxJQUNKQyxFQUFham1DLEVBQUkxMUMsY0FBYyxRQUMvQjI3RSxFQUFXeGxELGFBQWEsT0FBUXVsRCxHQUNoQ0MsRUFBV3hsRCxhQUFhLE1BQU8saUJBQy9CdWYsRUFBSThSLEtBQUs1NkIsWUFBWSt1RCxJQU9uQkQsR0FFRkMsRUFBV3hsRCxhQUFhLE9BQVF1bEQsR0M5SW9CRSxDQUFlbG1DLEVBQUtraEIsRUFBS2UsYUFDMUVyckQsR0FBUUEsRUFBS3NyRCxzQkFBd0JoQixFQUFLZ0IscUJEdUsxQyxTQUFnQ2xpQixFQUFtQmdtQyxHQUN4RGhCLEdBQVFobEMsRUFBSyxlQUFnQmdtQyxFQUFXLFVBQVksSUFDcERoQixHQUFRaGxDLEVBQUssZ0JBQWlCZ21DLEdBQzlCaEIsR0FBUWhsQyxFQUFLLFdBQVlnbUMsR0MxSzZDRyxDQUF1Qm5tQyxFQUFLa2hCLEVBQUtnQixxQkFDbEd0ckQsR0FBUUEsRUFBS3VyRCxvQkFBc0JqQixFQUFLaUIsbUJENkp4QyxTQUE4Qm5pQixFQUFtQm9tQyxHQUN0RHBCLEdBQVFobEMsRUFBSyxlQUFnQm9tQyxFQUFXLFVBQVksSUFDcERwQixHQUFRaGxDLEVBQUssc0JBQXVCb21DLEdBQ3BDcEIsR0FBUWhsQyxFQUFLLGlCQUFrQm9tQyxHQ2hLbUNDLENBQXFCcm1DLEVBQUtraEIsRUFBS2lCLG1CQUM1RnZyRCxHQUFRQSxFQUFLd3JELGNBQWdCbEIsRUFBS2tCLGFEa0psQyxTQUF3QnBpQixFQUFtQm9tQyxHQUNoRHBCLEdBQVFobEMsRUFBSyxlQUFnQm9tQyxFQUFXLHNCQUF3QixHQUFJLFFBQ3BFcEIsR0FBUWhsQyxFQUFLLFVBQVdvbUMsRUFBVyxVQUFZLElBQy9DcEIsR0FBUWhsQyxFQUFLLGdCQUFpQm9tQyxHQUM5QnBCLEdBQVFobEMsRUFBSyxXQUFZb21DLEdDdEo2QkUsQ0FBZXRtQyxFQUFLa2hCLEVBQUtrQixhQUMxRXhyRCxHQUFRQSxFQUFLeXJELE9BQVNuQixFQUFLbUIsTURpSDNCLFNBQWlCcmlCLEVBQW1CbjRCLEdBQ3pDbTRCLEVBQUlsZixjQUFjLFFBQVF1aEMsS0FDdEJ4NkMsR0FBUSxHQ25INEIwK0QsQ0FBUXZtQyxFQUFLa2hCLEVBQUttQixNQUNyRHpyRCxHQUFRQSxFQUFLOHJELGdCQUFrQnhCLEVBQUt3QixlRDRLcEMsU0FBMEIxaUIsRUFBbUJvbUMsR0FDbERwQixHQUFRaGxDLEVBQUssZUFBZ0JvbUMsRUFBVyxVQUFZLElBQ3BEcEIsR0FBUWhsQyxFQUFLLGVBQWdCb21DLEdDOUs2QkksQ0FBaUJ4bUMsRUFBS2toQixFQUFLd0IsZUFDaEY5ckQsR0FBUUEsRUFBSytyRCxjQUFnQnpCLEVBQUt5QixhQWtFekN0RixlQUErQnNGLEVBQTBCc2UsR0FDdkQsSUFDRSxNQUFNd0YsRUFBbUIsSUFBSzlqQixVQUNoQjVRLFFBQVFweEIsSUFBSTExQixPQUFPd0UsS0FBS2czRSxHQUFrQnoxRSxLQUFJcXNELE1BQU94MUMsSUFDakUsTUFBTTYrRCxFQUFhRCxFQUFpQjUrRCxHQUNxQixDQUN2RCxNQUFNeE0sUUFBWXNyRSxNQUFNRCxFQUFXNW5DLE1BQzdCN3RDLFFBQWFvSyxFQUFJcWhELE9BQ2pCdHhELEVBQU8sT0FBZTZGLEVBQU15MUUsRUFBV3Q3RSxNQUN2Q2t3QixFQUFRLE9BQWVsd0IsRUFBTSxLQU1uQyxPQUxBczdFLEVBQVd6MUUsS0FBT0EsRUFDbEJ5MUUsRUFBV0UsVUFBWSxHQUNuQnRyRCxHQUNGcndCLE9BQU93RSxLQUFLNnJCLEdBQU92ZSxTQUFTak0sSUFBUTQxRSxTQUFXRSxVQUFVOTFFLElBVXhDN0UsRUFWaUVxdkIsRUFBTXhxQixHQVd6RjNCLE1BQU15RCxRQUFRM0csR0FBUyxlQUFnQixHQURoRCxJQUEyQkEsS0FSWixDQUFDNGIsT0FBTTYrRCxvQkFFYnh6RSxRQUFPLENBQUMwRCxFQUFNK3lDLElBQVEveUMsRUFBSyt5QyxFQUFJOWhDLE1BQVE4aEMsRUFBSSs4QixZQUFZLElBQzVELE1BQU96cUIsR0FDUGxsRCxRQUFRMEwsTUFBTSw4QkFBK0J3NUMsR0FDN0N4ZixHQUFha2dCLE1BQU0sUUFBUyxnREFBZ0RWLEtBQU8sS0FBUSxNQUFNQSxNQXRGN0M0cUIsQ0FBZ0IzbEIsRUFBS3lCLGFBQ3RFL3JELEdBQVFBLEVBQUtnc0QsUUFBVTFCLEVBQUswQixPRCtLNUIsU0FBa0I1aUIsRUFBbUI0aUIsR0FFMUN6ekQsTUFBTStHLEtBQUs4cEMsRUFBSThSLEtBQUtqeEIsaUJBQWlCLFFBQVF3MEIsR0FBVWtELDJCQUNwRHg3QyxTQUFTekwsSUFDUkEsRUFBSWd3QixZQUlSc2hDLEVBQ0c3bEQsU0FBUytwRSxJQUNSLE1BQU1wWSxFQUFPMXVCLEVBQUkxMUMsY0FBYyxRQUMvQm9rRSxFQUFLNXZCLEtBQU9nb0MsRUFBS2hvQyxLQUNqQjR2QixFQUFLOUIsSUFBTSxhQUNYOEIsRUFBS251QyxVQUFZODBCLEdBQVVrRCx1QkFDM0J2WSxFQUFJOFIsS0FBSzU2QixZQUFZdzNDLE1DN0xpQnFZLENBQVMvbUMsRUFBS2toQixFQUFLMEIsT0FDeERoc0QsR0FBUUEsRUFBS21yQixRQUFVbS9CLEVBQUtuL0IsT0RpRTVCLFNBQThCaWUsRUFBbUJqZSxHQUN0RCxJQUFJdWpELEVBQWF0bEMsRUFBSThSLEtBQUtoeEIsY0FBYyx5QkFDbkN3a0QsSUFDSEEsRUFBYXRsQyxFQUFJMTFDLGNBQWMsU0FDL0JnN0UsRUFBVy9rRCxVQUFZLHVCQUN2QnlmLEVBQUk4UixLQUFLNTZCLFlBQVlvdUQsSUFFdkJBLEVBQVdqekMsVUFBWSxRQUNwQmdqQixHQUFVNEIsMENBQ0ZsMUIsbUNBRVVzekIsR0FBVXdELGtCQUFrQixpREFFaEM5MkIsRUFBUSx1QkM1RXZCaWxELENBQXFCaG5DLEVBQUtraEIsRUFBS24vQixRQUU3Qm5yQixHQUFRQSxFQUFLbXNELHdCQUEwQjdCLEVBQUs2QixzQkFBdUIsQ0FDckUsTUFBTWpSLEVBQU8sS0FBa0JBLEtBRS9CM2lELE1BQU0rRyxLQUFLNDdDLEVBQUtqeEIsaUJBQWlCLHNCQUM5QjlqQixTQUFTekwsR0FBcUJBLEVBQUlnd0IsV0FnQnJDcjJCLE9BQU93RSxLQUFLeXhELEVBQUs2Qix1QkFDaEJobUQsU0FBU3V2QixJQUNLNDBCLEVBQUs2QixzQkFBc0J6MkIsR0FDbkN2dkIsU0FBU2txRSxJQUNaLE1BQU14bkUsRUFBS3VnQyxFQUFJMTFDLGNBQWNnaUMsR0FDN0I3c0IsRUFBR2doQixhQUFhLGtCQUFtQixJQUNuQ3gxQixPQUFPd0UsS0FBS3czRSxHQUNYbHFFLFNBQVNrdUQsSUFDUnhyRCxFQUFHZ2hCLGFBQWF3cUMsRUFBVWdjLEVBQU9oYyxPQUVuQ25aLEVBQUs1NkIsWUFBWXpYLFNBSXZCLElBQUk3SSxHQUFRQSxFQUFLaXNELFNBQVczQixFQUFLMkIsT0FBUSxDQUN2QyxNQUFNL1EsRUFBTyxLQUFrQkEsS0FHL0IzaUQsTUFBTStHLEtBQUs0N0MsRUFBS2p4QixpQkFBaUIsb0JBQzlCOWpCLFNBQVN6TCxHQUFxQkEsRUFBSWd3QixXQUdyQ3IyQixPQUFPd0UsS0FBS3l4RCxFQUFLMkIsUUFDaEI5bEQsU0FBU3dqQixJQUNSLE1BQU15bkMsRUFBWTlHLEVBQUsyQixPQUFPdGlDLEdBQzlCdDFCLE9BQU93RSxLQUFLdTRELEVBQVVuRixRQUNyQjlsRCxTQUFTNDVCLElBQ1IsTUFBTXV3QyxFQUFpQmxmLEVBQVVuRixPQUFPbHNCLEdBQ3hDMXJDLE9BQU93RSxLQUFLeTNFLEdBQ1hucUUsU0FBU29xRSxJQUNSLE1BQU1yYixFQUFrQm9iLEVBQWVDLEdBQ3ZDemIsR0FBYyxLQUFtQm5yQyxFQUFXNG1ELEVBQWlCeHdDLEVBQVltMUIsRUFBaUI5RCxFQUFVMkQsc0JBTTVHc1csR0FBZWppQyxFQUFLa0MsTUM1RWYsU0FBU2tsQyxHQUFXeHdFLEVBQWU0dEMsR0FheEMsT0FaSUEsRUFBRzBlLGNBQ0w3NEQsU0FBUzJoQyxLQUFLamdCLFVBQVVqSCxJQUFJdXdDLEdBQVVvRCx1QkFDakNvUCxLQUFVaEcsY0FDYnBsQixHQUFha2dCLE1BQU0sd0JBQXlCLCtNQUd6QyxVQUdMdHlELFNBQVMyaEMsS0FBS2pnQixVQUFVdVYsT0FBTyt6QixHQUFVb0QsdUJBR25DalUsRUFBR3dlLFNBQ1QsS0FBSzFtQixHQUFRMm1CLE1BQ1g1NEQsU0FBUzJoQyxLQUFLamdCLFVBQVVqSCxJQUFJdXdDLEdBQVV1RCx5QkFDdEMsTUFDRixLQUFLdGMsR0FBUStxQyxRQUNYdlMsS0FBZ0Ivb0QsVUFBVWpILElBQUl1d0MsR0FBVXNELHdCQUN4QyxNQUNGLFFBQ0VtYyxLQUFnQi9vRCxVQUFVdVYsT0FBTyt6QixHQUFVc0Qsd0JBQzNDdHVELFNBQVMyaEMsS0FBS2pnQixVQUFVdVYsT0FBTyt6QixHQUFVdUQseUJBR3pDaGlELEdBQVFBLEVBQUt1c0QsZ0JBQWtCM2UsRUFBRzJlLGdCQUVwQ29lLEdBQVkzTSxLQUFpQmtDLE1BRzdCNW9FLFlBQVcsS0FDVCxNQUFNNDBDLEVBQVksS0FDWndrQyxFQUFheGtDLEVBQ2hCdG9DLFFBQVFpRixLQUFTQSxFQUFHaW9ELFVBQVVwM0QsU0FBV21QLEVBQUdpb0QsVUFBVTluRCxTQUFTNGtDLEVBQUcyZSxpQkFDbEVueUQsS0FBS3lPLElBQU8sSUFDUkEsRUFDSHVpQyxVQUFVLE1BRWQraEIsR0FBZXVqQixFQUNaanZFLE9BQU9pdkUsRUFBV2gzRSxTQUFXd3lDLEVBQVV4eUMsT0FBUyxDQUFDLElBQzdDZzNELEtBQ0h0bEIsVUFBVSxJQUNQLE9BQ04sSUN2Q1AsSUFBSXVsQyxJQUFTLEVBQ04sU0FBU0MsS0FDZEQsSUFBUyxFQU9YLFNBQVNFLEdBQXFCM3FDLEdBQzVCLE1BQU8sSUFBSWp2QyxLQUNULElBQUswNUUsR0FDSCxPQUFPenFDLEtBQU9qdkMsSUNRYixTQUFTa3pCLEdBQUswZCxFQUFxQjNCLEVBQW1CK2hDLEdBQzNELEdBQUlwZ0MsSUFBYW9wQixLQUFVL0YsV0FDekI0bEIsR0FBUWpwQyxFQUF1QjNCLEVBQUsraEMsT0FDL0IsSUFBSXZrRSxHQUFPd2hDLGVBRWhCLE1BQU0sSUFBSWxvQyxNQUFNLGlFQUdoQm1wRCxHQUFhQyxjQUNSNkIsT0FBTyxnQkFBaUI5QixHQUFhSSxpQkFDckM1SixNQUFNbzBCLElBQ2lCLE1BQWxCQSxHQUNGRCxHQUFRQyxFQUE2QjdxQyxFQUFLK2hDLE1BSzdDL2hCLE9BQU9yNkMsSUFDRm84RCxHQUNGQSxFQUFTcDhELE9BU3JCLFNBQVNpbEUsR0FBTzVrQixFQUFnQmhtQixFQUFtQitoQyxHQUVqRCxJQUFJcEssRzVCekNKSCxLQUNPcFQsR0FBS2dVLFc0QjRDUlQsRUFBUXg3RCxRQUFRLGdCQUFtQixJQUNyQ2xDLFFBQVF1NkMsS0FBSyw0RkFHYm1qQixFQUFVQSxFQUFRaG9FLFFBQVEsb0NBQW9DLENBQUM0ZixFQUFPZ3pCLEVBQVFDLElBQ3JFLFFBQVdBLEVBQVMsUUFLL0Jzb0IsR0FBVyxJQUNOQyxLQUNIL0UsU0E2QkosU0FBZ0JBLEVBQWdCMlIsRUFBaUJ4akUsRUFBc0I2ckMsRUFBZ0I4cUMsR0FDckY5TCxHQUFpQmhaLEdBRWpCckgsR0FBYXVCLGNBQWN6bUMsTUFDdEJ1c0MsRUFBbUIyUixFQUNwQnhqRSxHQUFNLEtBQ0oyMkQsR0FBVyxJQUNOQyxLQUNIL0YsWUFBWSxJQUVWaGxCLEdBQ0ZBLE9BekJSLENBQUNyNkIsRUFBTytnQixLQUNOaVosR0FBYWtnQixNQUFNLGVBQWdCLGdEQUFrRG41QixHQUFPL2dCLEVBQU02b0IsU0FBVyxLQUM3RyxLQUNNdXpDLEdBQ0ZBLEVBQVNwOEQsU0FmZm84QyxDQUFPaUUsRUFBTTJSLEVBQVN2eUIsTUFBWSxLQUNoQ3pGLEdBQWFpQixjQUFjLGtCQUMzQm9qQyxLQUdBM2YsS0FFSXJrQixHQUNGQSxPQW9DQyxTQUFTK3FDLEdBQVdwcEMsRUFBb0IzQixHQUU3Q2dyQyxHQUNJcnBDLEdBQVUsQ0FBQ2cyQixFQUFTeGpFLElBQXlCNnJDLEdBQU9BLE1BQ3BELENBQUNtZixFQUFLM3dCLEVBQVN5OEMsS0FDYmh4RSxRQUFRMEwsTUFBTSw2QkFBOEJ3NUMsRUFBSzN3QixFQUFTeThDLEdBRXREanJDLEdBQ0ZBLElBR1csTUFBVGlyQyxFQUVGdHJDLEdBQWF3aEIsUUFDWCxtQkFBb0Isb0VBQW9FeGYsRUFBU0ksa0JBQ2hHM0IsSUFDQ1QsR0FBYWtnQixNQUFNLG1CQUFvQixpREFDUGxlLEVBQVNJLGlKQUV0QyxTQUNRNGMsR0FBYXVCLGNBQWN0QixHQUU3QixLQUFFamQsRUFBU0ksU0FBUzBVLE1BQU1sNEMsSUFDakNvaEMsR0FBYWptQixRQUNUMG1CLEdBQ0YycUMsR0FBV3BwQyxFQUFVM0IsU0FNN0JMLEdBQWF3aEIsUUFBUSxtQkFBb0Isb0NBQXFDM3lCLEtBQWE0UixXQVM5RixTQUFTOHFDLEdBQTRCbHJDLEVBQW1CK2hDLEdYN0l4RCxJQUF1Qjl4RSxJVzhJZCxDQUNaNnlFLGFBQWVuaEMsSUFDUkEsR0FBYXdwQyxLQUtaeHBDLEdBQ0ZvcEMsR0FBV3BwQyxFQUFVM0IsR0FIdkJvckMsR0FBa0JwckMsRUFBSytoQyxJQU8zQmdCLGFBQWVsaEMsSUFDUkEsR0FBUXNwQyxLQUtQdHBDLEdBRUZ3cEMsR0FBd0J4cEMsRUFBSzdCLEdBQUssQ0FBQ21mLEVBQUt6NEIsSUFBUTRrRCxHQUFZbnNCLEVBQUt6NEIsRUFBS3E3QyxHQUFVLEtBSmxGcUosR0FBa0JwckMsRUFBSytoQyxJQVEzQmxqQixNQUFPLEtBQ0Q3ZSxHQUNGQSxLQUdKcjZCLE1BQVF3NUMsSUFDTmxsRCxRQUFRMEwsTUFBTSwyQkFDZDJsRSxHQUFZbnNCLEVBQUssMEJBQTJCNGlCLEtYakxoRHpqQixHQUFZQSxJQUFhLElBQUl1akIsR0FBVWprQixLQUFnQlUsV0FNaERBLEdBQVV1ZSxXQUFXNXNFLEdXbUx2QixTQUFTd3dELEdBQVN6Z0IsRUFBK0IraEMsRUFBK0J3SixHQUNqRi90RSxHQUFPd2hDLGdCQUtYaWhCLEdBQWFDLGNBQWNPLFNBQVNSLEdBQWFJLGlCQUM1QzVKLE1BQU05VSxJQUNEQSxFQUNGcXBDLEdBQ0lycEMsR0FDQSxDQUFDZzJCLEVBQVN4akUsS0FFUndyQyxHQUFhaUIsZUFBZW1xQixLQUFVNXFCLE9BQVMsb0JBQXNCLFlBRWpFSCxHQUNGQSxFQUFLMkIsTUFJVCxDQUFDaDhCLEVBQVk2b0IsS0FDWG1SLEdBQWFrZ0IsTUFBTSxZQUFhLGlEQUFtRHJ4QixHQUFXN29CLEVBQU02b0IsU0FBVyxLQUMvRyxLQUNNdXpDLEdBQ0ZBLEVBQVNwOEQsU0FLZjRsRSxHQUNGQSxPQUlMdnJCLE9BQU9yNkMsSUFDRm84RCxHQUNGQSxFQUFTcDhELE1BU25CLFNBQVMybEUsR0FBWW5zQixFQUFVejRCLEVBQWFxN0MsRUFBK0J5SixHQUE0QixHQUNyR3Z4RSxRQUFRMEwsTUFBTSx5QkFBMEJ3NUMsR0FDeEN4ZixHQUFha2dCLE1BQU0sWUFBYSxxQkFBdUJuNUIsR0FBSyxTQUN4RHE3QyxHQUNGQSxFQUFTNWlCLEdBRVBxc0IsSUFBcUJMLE1BQ3ZCQyxLQUlKLFNBQVNLLEdBQWFqOUMsR0FDcEJ2MEIsUUFBUTBMLE1BQU0sK0NBQWdENm9CLEdBQzlEbVIsR0FBYWtnQixNQUFNLGNBQ2YsaUZBQ0lyeEIsb0JBQTJCaHhCLEdBQU84Z0MsbUVBQ3RDLFNBV0MsU0FBU3kvQixLQUNWcCtCLEdBQWF2UyxTQUNmbnpCLFFBQVF1NkMsS0FDSiw4RGhCbFBEK0wsaUJBQ0wsT0FBTyxJQUFLdEwsU0FBNEIsQ0FBQ0MsRUFBU0MsS0FDaERncUIsSUFBVyxHQUNYcDlCLEdBQVFtOEIsU0FBU0EsSUFDZmlCLElBQVcsR0FDWCxNQUFNL2EsRUFBTzJHLEtBQ1B3VSxFQUFlbmIsRUFBS3VCLGdCQUNwQlYsRUFBa0JiLEVBQUthLGdCQUM3QixHQUFJc2EsR0FBZ0J0YSxFQUFpQixDQUNuQyxNQUFNbVosRUFBcUJGLEVBQVFzQixVQUFVejdELE1BQU1vL0MsR0FBTUEsRUFBRXA0QyxPQUFTdzBELElBQzlEbU0sRUFBc0J0TixFQUFXQSxFQUFTdlAsYUFBZXVQLEVBQVNyekQsS0FBT2s2QyxFQUFnQmxqQixRQUMvRnBDLEdBQWF3aEIsUUFBUSxjQUFlLDZEQUNjdXFCLDZCQUErQ3ptQixFQUFnQnp1RCxNQUFRLGtCQUNySDRwQyxJQUNFQSxHQUNGOFUsRUFBUW1xQixHQUFPai9CLEVBQUk4OUIsRUFBU3FCLE1BR2hDLFdBQVksVUFFWixNQUFNb00sRUFBVXArRSxTQUFTQyxjQUFjLFVBQ3ZDbStFLEVBQVFwMkMsVUFBWSxPQUNwQm8yQyxFQUFRcHJDLFFBQVUsS0FDaEJaLEdBQWFqbUIsUUFDYnc3QixFQUFRbXFCLElBQU8sRUFBT25CLEVBQVNxQixLQUVqQzUvQixHQUFhcXhCLFVBQVUyYSxRQUd2QnoyQixFQUFRbXFCLElBQU8sRUFBT25CLEVBQVNxQixPQUUvQjc0QyxHQUFReXVCLEVBQU96dUIsUUFFcEJzNUIsT0FBT3Q1QixJQUVOLE1BREF5NEMsSUFBVyxHQUNMejRDLEtnQmtOUmtsRCxHQUNLbjFCLE1BQU1vMUIsSUFDREEsR0EyQlosU0FDSUMsRUFDQTlyQyxHQUNFeGlDLEdBQU93aEMsZ0JBQWtCOHNDLEVBQW1COWxCLE9BQzlDOGxCLEVBQW1CN21CLGdCQUFrQixJQUNoQzZtQixFQUFtQjdtQixnQkFDdEJ6dUQsS0FBTXMxRSxFQUFtQjlsQixLQUFLeHZELEtBQUtFLE1BQU0sS0FBSzVHLE1BQU0sR0FBSSxHQUFHNm5CLEtBQUssT0FHcEUsTUFBTXN0QyxFQUFrQjZtQixFQUFtQjdtQixnQkFDckNtWixFQUFXME4sRUFBbUIxTixTQUc5QnBZLEVBQU8rRSxLQUFVL0UsS0FDakJoQixFQUFhK0YsS0FBVS9GLFdBR3pCQyxHQUNGNkYsR0FBVyxJQUNOQyxLQUNIOUYsb0JBR0osTUFBTSthLEVBQVNqVixLQUFVOUYsZ0JBR3pCLEdBQUsrYSxFQUdILElBQUtoYSxHQUFRaEIsRUFDWGhsQixFQUFJLEtBQU0sa0RBQW1ELFdBRTdELEdBQUtvK0IsRUE4QkhwK0IsRUFBSSxLQUFNLEtBQU8sQ0FDZmdtQixPQUNBZixnQkFBaUIrYSxFQUNqQjVCLGlCQWpDVyxDQUNiLE1BQU1tQixFQUFleFUsS0FBVXBGLGdCQUMvQixJQUFLNFosRUFDSCxNQUFNLElBQUl6b0UsTUFDTiw0RUFFSmduRSxHQUFXNWQsY0FBY2dlLFNBQVNBLElBQ2hDLE1BQU02TixFQUNGN04sRUFBUXNCLFVBQVV6N0QsTUFBTW8vQyxHQUFNQSxFQUFFcDRDLE9BQVN3MEQsSUFDN0MsSUFBS3dNLEVBTUgsTUFMQXBzQyxHQUFha2dCLE1BQU0sY0FBZSx5Q0FDVjBmLHdIQUVwQnJCLEVBQVFzQixVQUFVdHJFLEtBQUtpdkQsR0FBTUEsRUFBRXA0QyxPQUFNNE0sS0FBSyw2QkFDM0MsU0FDRyxJQUFJN2dCLE1BQU0sc0NBQ0t5b0Usb0dBQzREckIsRUFBUXNCLFVBQ3RGdHJFLEtBQUtpdkQsR0FBTSxPQUFTQSxFQUFFcDRDLEtBQU8sVUFDN0I0TSxLQUFLLDRCQUdWcW9CLEVBQUksS0FBTSxLQUFPLENBQ1hnbUIsT0FDQWYsZ0JBQWlCK2EsRUFDakI1QixTQUFVMk4sWUE5QnhCL3JDLEVBQUksS0FBTSxrR0FBbUcsTUFyRHZHZ3NDLENBQVVILEdBQWdCLENBQUNJLEVBQVFDLEVBQVlDLEtoQm9CbEQsSUFBc0JsOEUsRWdCbkJiZzhFLEdBQ0Y3TSxLQUNBcU0sR0FBYVEsSUFFVEMsR0FDRjlNLEtBQ0F6L0IsR0FBYWtnQixNQUFNLGNBQWVxc0IsR0FBWSxXaEJhakNqOEUsRWdCWENrOEUsRWhCWXJCLElBQUlsM0IsU0FBZ0IsQ0FBQ0MsRUFBU0MsS0FDbkMsTUFBTThQLEVBQWtCaDFELEVBQVFnMUQsZ0JBQzFCbVosRUFBV251RSxFQUFRbXVFLFNBQ3pCLElBQUlnTyxHQUFTLEVBQ2J6c0MsR0FBYWtnQixNQUFNLGNBQWUsb0ZBQ2hDLEtBQ011c0IsRUFBUSxHQUNWQyxjQUFjRCxLQUdsQixTQUNGQSxHQUFTLEVBQ1RqTixJQUFXLEdBQ1hwOUIsR0FBUWc4QixRQUFROXRFLEdBQVMsS0FDdkJrdkUsSUFBVyxHQU9YaU4sRUFBUTkrRSxPQUFPZy9FLGFBQVksS0FDekJ2cUMsR0FBUWs4QixjQUNMcmUsSUFDQyxJQUFJbDVCLEVBQU0sV0FBV2s1QixFQUFLcHhCLG9CQUNSLElBQWRveEIsRUFBS2hwQyxNQUNQeTFELGNBQWNELEdBRWQxbEQsR0FBTyxvRUFEWXFrQyxLQUFVN0YsWUFBY0QsRUFBZ0J0RixRQUFVLG9FQUdqRXllLEdBQVlBLEVBQVNtTyxvQkFBc0JuTyxFQUFTbU8sb0JBQXNCLHlCQUU5RXIzQixFQUFReHVCLElBRVJpWixHQUFhNnNDLFFBQVE5bEQsTUFHeEJBLElBQ0MybEQsY0FBY0QsR0FDZGozQixFQUFPenVCLFFBR1YsUUFDREEsR0FBUXl1QixFQUFPenVCLFNnQnRETit2QixNQUFNL3ZCLElBQ0wwNEMsS0FDQXovQixHQUFha2dCLE1BQU0sY0FBZW41QixHQUFLLFlBRXhDczVCLE9BQU90NUIsSUFDTjA0QyxLQUNBcU0sR0FBYS9rRCxZQU94QnM1QixPQUFPdDVCLEdBQVEra0QsR0FBYS9rRCxLQW1GbkMsU0FBU3lrRCxLQUNQLE1BQU1yMkIsRUFBa0IsS0FDeEIsUUFBU0EsRUFBZ0I1bEIsTUFBUTRsQixFQUFnQjVsQixLQUFLa1MsV0FBVzV0QyxPQUFTLEVBTzVFLFNBQVM2M0UsR0FDTDcwRSxFQUNBd3BDLEVBQW1ELEtBQ25EOHFDLEVBQXlDLE1BQzNDMkIsR0FBYyxDQUNacm9CLEtBQU0sQ0FDSjRCLEtBQU0sS0FDTmhCLFlBQVksR0FFZHh1RCxPQUNBd3BDLE1BQUs4cUMsV0FPVCxTQUFTTSxHQUFrQnByQyxFQUFtQitoQyxHQUU1Q3NKLEdBRGlCLDREQUNpQnJyQyxHQUFLLENBQUNtZixFQUFLejRCLElBQVE0a0QsR0FBWW5zQixFQUFLejRCLEVBQUtxN0MsR0FBVSxLQU92RixTQUFTaUosR0FBa0JobEIsRUFBZ0JobUIsRUFDdkM4cUMsR0FDRTdtQixLQUNGdGtCLEdBQWF3aEIsUUFBUSx3QkFBeUIsOEVBQStFNkUsRUFBS2o3QyxXQUFhcTFCLElBQzFJQSxHQUFJc3NDLEdBQW9CMW1CLEVBQU1obUIsRUFBSzhxQyxLQUNyQyxXQUFZLFNBRWY0QixHQUFvQjFtQixFQUFNaG1CLEVBQUs4cUMsR0FJbkMsU0FBUzRCLEdBQW9CMW1CLEVBQWdCaG1CLEVBQ3pDOHFDLEdBQ0YyQixHQUFjLENBQ1pyb0IsS0FBTSxDQUNKNEIsT0FDQWhCLFlBQVksR0FFZHh1RCxLQUFNd3ZELEVBQUtyRyxRQUNYM2YsSUFBSyxDQUFDMjNCLEVBQWlCeGpFLEtBQ3JCNnFFLEdBQWlCaFosR0FDYmhtQixHQUNGQSxFQUFJMjNCLEVBQVN4akUsSUFHakIyMkUsV0FJSixTQUFTMkIsSUFBYyxLQUFDcm9CLEVBQUksS0FBRTV0RCxFQUFJLElBQUV3cEMsRUFBRyxPQUFFOHFDLElBTXZDdm5CLEdBQVMsSUFDSkMsS0FDSDBDLFFBQVMxbUIsR0FBUStxQyxVQUVuQjVyQixHQUFhdUIsY0FBY1IsWUFBWWxwRCxHQUFNLENBQUNtaEUsRUFBaUJ4akUsS0FFN0R1akUsR0FBUUMsR0FBUyxLbkJ0Y25CLEdBQVcsSUFBWSxJQUFJa0csR0FBVWpnQixLQUFnQk8sV0lGckQsR0FBVyxJQUFZLElBQUkyaUIsR0FBU2xqQixLQUFnQlEsVVJNcEQsR0FBVyxJQUFZLElBQUlzZCxHQUFXOWQsS0FBZ0JNLFlzQkR0RHVzQixJQUFTLEVDNGNMLE1BQU1sekIsRUFBUyxDQUNiNk0sS0FBTSxJQUNEandELEVBQUtpd0QsS0FDUjRCLEtBQU01QixFQUFLNEIsTUFFYjdCLE1BQU8rSyxHQUFhLzZELEVBQUtnd0QsT0FDekJoTyxTQUFVeVEsR0FBZ0J6eUQsRUFBS2dpRCxXQUVqQzRxQixHQUFleHBCLEdBQ2ZpbEIsR0FBU2psQixFQUFPNE0sTUFBTSxJQUN0QnVtQixLQUNBbm5CLEdBQVMsSUFDSkMsS0FDSDBDLFFBQVMxbUIsR0FBUW9JLE9BR25CeDJDLFlBQVcsS0FDVGl6RCxLQUNBQyxPQUNDLEtBRUN0a0IsR0FDRkEsRUFBSTIzQixFQUFTeGpFLFFBR2hCMjJFLEdDbGZFLFNBQVM2QixHQUFnQjFsRSxFQUFJN1gsRUFBTXM0QyxFQUFLOGIsTSxNQUM3QyxPQUMwRCxLQUFkLFFBRHJDLEVBQUE5YixFQUFHNFYsUUFDUHY1QyxNQUFLNjRELEdBQUtBLEVBQUUzMUQsS0FBT0EsR0FBTTIxRCxFQUFFeHRFLE9BQVNBLFdBQUssZUFBRTRqQyxTQUd6QyxTQUFTNDVDLEdBQWtCeDlFLEVBQU8sS0FBTXM0QyxFQUFLOGIsTUFDbEQsT0FBTzliLEVBQUc0VixRQUNQNS9DLFFBQU9rL0QsR0FBS0EsRUFBRTVwQyxVQUFxQixPQUFUNWpDLEdBQWlCd3RFLEVBQUV4dEUsT0FBU0EsS0NGcEQsU0FBU3k5RSxHQUFPbnNDLEVBQXdCdHhDLEdBRTdDbzBELEtBQVFsRyxRQUNQNS9DLFFBQU9rL0QsR0FBS0EsRUFBRXh0RSxPQUFTQSxJQUN2QjZRLFNBQVEyOEQsR0FBS2tRLEdBQU9wc0MsRUFBV2s4QixLQUdoQ25aLElBQVksQ0FBQzVZLEVBQVd2d0MsS0FDTnV3QyxFQUFVeVMsUUFDekI1L0MsUUFBT2svRCxHQUFLQSxFQUFFeHRFLE9BQVNBLElBQ3ZCc08sUUFBT3F2RSxJQUFPenlFLEVBQVVnakQsUUFBUXY1QyxNQUFLaXBFLEdBQU1BLEVBQUc1OUUsT0FBUzI5RSxFQUFHMzlFLE1BQVE0OUUsRUFBRy9sRSxLQUFPOGxFLEVBQUc5bEUsT0FDeEVoSCxTQUFTcW1CLEdBcUNyQixTQUFtQm9hLEVBQXdCZzhCLEdBQ3pDLE1BQU11USxFQUFRQyxHQUFjeHNDLEVBQVdnOEIsR0FDdkMsR0FBSXVRLEVBQU8sQ0FDVCxNQUFNRSxFQUFhQyxHQUFVajRFLElBQUl1bkUsRUFBT3oxRCxJQUN4Q21tRSxHQUFVcnlDLE9BQU8yaEMsRUFBT3oxRCxJQUN4QmdtRSxFQUFNNzlDLG9CQUFvQixRQUFTKzlDLEdBQ25DRixFQUFNem9ELFVBM0NpQjZvRCxDQUFVM3NDLEVBQVdwYSxLQUU1QmhzQixFQUFVZ2pELFFBQ3pCNS9DLFFBQU9rL0QsR0FBS0EsRUFBRXh0RSxPQUFTQSxJQUN2QnNPLFFBQU9xdkUsSUFBT2xpQyxFQUFVeVMsUUFBUXY1QyxNQUFLaXBFLEdBQU1BLEVBQUc1OUUsT0FBUzI5RSxFQUFHMzlFLE1BQVE0OUUsRUFBRy9sRSxLQUFPOGxFLEVBQUc5bEUsT0FDeEVoSCxTQUFTcW1CLEdBQU13bUQsR0FBT3BzQyxFQUFXcGEsS0FFekMsTUFBTWduRCxFQUFjVixHQUFrQng5RSxFQUFNeTdDLEdBRXRDMGlDLEVBRGNYLEdBQWtCeDlFLEVBQU1rTCxHQUNqQm9ELFFBQU9xdkUsSUFBT08sRUFBWXZwRSxNQUFLaXBFLEdBQU1BLEVBQUcvbEUsS0FBTzhsRSxFQUFHOWxFLElBQU0rbEUsRUFBRzU5RSxPQUFTMjlFLEVBQUczOUUsU0FFL0ZtK0UsRUFBTy81RSxRQUVSZzZFLEdBQVE5c0MsRUFBVzZzQyxFQUFPLE9BU2hDLE1BQU1ILEdBQVksSUFBSWw2RSxJQUV0QixTQUFTNDVFLEdBQU9wc0MsRUFBd0JnOEIsR0FFdEMsTUFBTXVRLEVBQVFDLEdBQWN4c0MsRUFBV2c4QixJQTRCekMsU0FBMEJoOEIsRUFBd0JnOEIsRyxZQUNoRCxNQUFNdVEsRUFBUTEvRSxTQUFTQyxlQUF5QixRQUFYLEVBQUFrdkUsRUFBT3ZvRSxZQUFJLGVBQUVLLE1BQU8sT0FNekQsT0FMQXk0RSxFQUFNaCtELFVBQVVqSCxJQUFJMDBELEVBQU96MUQsR0FBSSxPQUMvQmdtRSxFQUFNaCtELFVBQVVqSCxRQUE2QixRQUF0QixFQUFXLFFBQVgsRUFBQTAwRCxFQUFPdm9FLFlBQUksZUFBRXN2QixpQkFBUyxlQUFFL3NCLE1BQU0sT0FBUSxtQkFDN0R1MkUsRUFBTTEzQyxXQUF1QixRQUFYLEVBQUFtbkMsRUFBT3ZvRSxZQUFJLGVBQUUwNkQsY0FBZSxHQUM5Q251QixFQUFVdG1CLFlBQVk2eUQsR0FFZkEsRUFuQzJDUSxDQUFpQi9zQyxFQUFXZzhCLEdBR3hFeVEsRUFBYSxJQUFNdFEsR0FBV0gsR0FDcEN1USxFQUFNcG5ELGlCQUFpQixRQUFTc25ELEdBQ2hDQyxHQUFVejVFLElBQUkrb0UsRUFBT3oxRCxHQUFJa21FLEdBR3RCelEsRUFBTzFwQyxTQUFTdzZDLEdBQVE5c0MsRUFBV2c4QixHQWF4QyxTQUFTOFEsR0FBUTlzQyxFQUF3Qmc4QixHQUN2QyxNQUFNdVEsRUFBUUMsR0FBY3hzQyxFQUFXZzhCLEdBQ3ZDcnFFLE1BQU0rRyxLQUFLc25DLEVBQVUzYyxpQkFBaUIsU0FDckM5akIsU0FBUzBDLEdBQU9BLEVBQUdzTSxVQUFVdVYsT0FBTyxRQUNyQ3lvRCxFQUFNaCtELFVBQVVqSCxJQUFJLE1BYXRCLFNBQVNrbEUsR0FBY3hzQyxFQUF3Qmc4QixHQUM3QyxPQUFPaDhCLEVBQVUxYyxjQUFjLElBQU0wNEMsRUFBT3oxRCxJQ2xFOUMsTUFBTXltRSxHQUFtQixDQUFDLENBQ3hCN2UsWUFBYSxVQUNiNW5ELEdBQUksZ0JBQ0gsQ0FDRDRuRCxZQUFhLGtCQUNiNW5ELEdBQUksZUFFSCxDQUNENG5ELFlBQWEsbUJBQ2I1bkQsR0FBSSxnQkFDSCxDQUNENG5ELFlBQWEsUUFDYjVuRCxHQUFJLGNBQ0gsQ0FDRDRuRCxZQUFhLGVBQ2I1bkQsR0FBSSxzQkFLTixJQUFJbzNDLEdBTUcsU0FBU3N2QixHQUFtQi9WLEVBQXVCZ1csR0FFeEQsT0FOQXZ2QixHQUFpQkEsSUFBa0IsSUFBSXd2QixHQUFlandCLEtBQWdCUyxnQkFNL0RBLEdBQWUvakMsS0FBS3M5QyxFQUFTZ1csR0FPdEMsTUFBTUMsR0F5Qkp6d0UsWUFBc0J3ekIsR0FBQSxLQUFBQSxVQXJCdEIsS0FBQWs5QyxlQUFtQyxLQUVuQyxLQUFBdHdCLFFBQXVCLEtBU3ZCLEtBQUE3RixNQUFvQixLQVlsQjhMLElBQVksS0FDVixNQUFPc3FCLEdBQWtCbkIsR0FBa0IsWUFDckNvQixFQUF5QnA5QyxFQUFRNU0sY0FBYyxlQUNyRDN4QixNQUFNK0csS0FBSzQwRSxFQUFVanFELGlCQUFpQixRQUNyQzlqQixTQUFTMEMsR0FBT0EsRUFBR3NNLFVBQVV1VixPQUFPLFFBQ3JDLE1BQU1pL0MsRUFBT3VLLEVBQVVocUQsY0FBYyxJQUFNK3BELEVBQWU5bUUsSUFDdkR3OEQsRUFDREEsRUFBS3gwRCxVQUFVakgsSUFBSSxNQUduQi9OLFFBQVF1NkMsS0FBSyxzREFJakIsTUFBTTlNLEVBQUs4YixLQUNYRCxHQUFTLElBQ0o3YixFQUNINFYsUUFBUzVWLEVBQUc0VixRQUFRL2hELE9BQ2xCbXlFLEdBQ0N4NUUsS0FBSSxFQUFFMjZELGNBQWE1bkQsTUFBSzRwQyxLQUFRLENBQy9CNXBDLEtBQ0E3WCxLQUFNLFdBQ040akMsUUFBaUIsSUFBUjZkLEVBQ1QxOEMsS0FBTSxDQUNKMDZELGNBQ0FyNkQsSUFBSyxhQU1icTRFLEdBRGdDajhDLEVBQVE1TSxjQUFjLGlCQUNuQyxZQUduQm55QixLQUFLc3VELFlBQWMsSUFBSS9DLEdBQVksQ0FDakNyeUMsS0FBTSxrQkFDTjZsQixVQUNBMnNCLE9BQVN4c0QsSUFFUCxHQURBYyxLQUFLMnJELFFBQVV6c0QsRUFBS2l2QyxJQUNoQmp2QyxFQUFLMHlFLEtBQU0sQ0FDYixNQUFNd0ssRUFBU3pxQixLQUNmRCxHQUFTLElBQ0owcUIsRUFDSDN3QixRQUFTMndCLEVBQU8zd0IsUUFDZjUvQyxRQUFPLEVBQUV0TyxVQUFtQixhQUFUQSxJQUNuQjhFLEtBQUl3b0UsSUFBVSxJQUNWQSxFQUNIMXBDLFFBQVMwcEMsRUFBT3oxRCxLQUFPbFcsRUFBSzB5RSxXQUlsQzV4RSxLQUFLOGxELE1BQVFxVCxJQUFjLElBQU1uNUQsS0FBSzhwRSxXQUN0QzlwRSxLQUFLOHBFLFVBRVBuZSxRQUFTLEtBQ0gzckQsS0FBSzhsRCxPQUNQOWxELEtBQUs4bEQsUUFHSDlsRCxLQUFLMnJELFNBQ1AzckQsS0FBSzJyRCxhQU1YM3JELEtBQUtxOEUsY0FDSCw4QkFDQ3pwRCxHQUFNcW1DLEdBQVcsSUFDYkMsS0FDSDVxQixNQUFPMWIsTUFFWDV5QixLQUFLcThFLGNBQ0gsNkJBQ0N6cEQsR0FBTXFtQyxHQUFXLElBQ2JDLEtBQ0h4RixLQUFNOWdDLE1BRVY1eUIsS0FBS3E4RSxjQUNILG1DQUNDenBELEdBQU1xbUMsR0FBVyxJQUNiQyxLQUNIOWxDLE1BQVNSLEVBQUl6MkIsU0FBU3kyQixHQUFLLFNBRS9CNXlCLEtBQUtxOEUsY0FDSCw2QkFDQ3pwRCxHQUFNcW1DLEdBQVcsSUFDYkMsS0FDSHpGLFlBQWE3Z0MsTUFFakI1eUIsS0FBS3E4RSxjQUNILG9DQUNDenBELEdBQU1xbUMsR0FBVyxJQUNiQyxLQUNIbnJDLFlBQWE2RSxNQUVqQjV5QixLQUFLcThFLGNBQ0gsbUNBQ0N6cEQsR0FDR3FtQyxHQUFXLElBQ05DLEtBQ0gxRixrQkFBbUI1Z0MsTUFFM0I1eUIsS0FBS3E4RSxjQUNILCtCQUNDenBELEdBQU1xbUMsR0FBVyxJQUNiQyxLQUNIbkYsY0FBZW5oQyxNQUVuQjV5QixLQUFLcThFLGNBQ0gscUNBQ0N6cEQsR0FBTXFtQyxHQUFXLElBQ2JDLEtBQ0g1RixZQUFhMWdDLE1BRWpCNXlCLEtBQUtxOEUsY0FDSCxrQ0FDQ3pwRCxHQUNHcW1DLEdBQVcsSUFDTkMsS0FDSDNGLG9CQUFxQjNnQyxNQUU3QjV5QixLQUFLcThFLGNBQWMseUNBQTBDenBELEdBQU01eUIsS0FBS3M4RSxzQkFBc0IsQ0FBQzMzRSxLQUFNaXVCLE1BQ3JHNXlCLEtBQUtxOEUsY0FBYyw0Q0FBNkN6cEQsR0FBTTV5QixLQUFLczhFLHNCQUFzQixDQUFDcHNDLFFBQVN0ZCxNQUMzRzV5QixLQUFLcThFLGNBQWMsb0NBQXFDenBELElBQzVDLEtBQU5BLElBQ0ZBLEVBQUksTUFFTnFtQyxHQUFXLElBQ05DLEtBQ0g3RixXQUFZemdDLE9BS2hCNXlCLEtBQUt1OEUsaUJBQWlCLHNDQUFzQyxLQUMxRG51QixHQUFhQyxjQUFjTyxTQUFTUixHQUFhRyxrQkFDaEQzSixNQUFNOVUsSUFDREEsSUFFRm1wQixHQUFXLElBQ05DLEtBQ0g1RixZQUFheGpCLEVBQVNnZSxVQUV4Qjl0RCxLQUFLeW9CLFdBR1IwbEMsT0FBT3I2QyxJQUNOZzZCLEdBQWEraEIsWUFDVCx1REFDQy83QyxFQUFNNm9CLFNBQVcsV0FJMUIzOEIsS0FBS3U4RSxpQkFBaUIsMENBQTBDLEtBQzlEbnVCLEdBQWFDLGNBQWMyQixhQUMxQnBMLE1BQU05VSxJQUNEQSxJQUVGbXBCLEdBQVcsSUFDTkMsS0FDSDlGLGdCQUFpQnRqQixJQUVuQjl2QyxLQUFLeW9CLFdBR1IwbEMsT0FBT3I2QyxJQUNKZzZCLEdBQWEraEIsWUFDVCxnRUFDQy83QyxFQUFNNm9CLFNBQVcsV0FLNUIzOEIsS0FBS2k4RSxlQUFpQmo4RSxLQUFLKytCLFFBQVE1TSxjQUFjLGlCQUNqRG55QixLQUFLaThFLGVBQWVqb0QsaUJBQWlCLFNBQVMsS0FDNUNpbEMsR0FBVyxJQUNOQyxLQUNIaEcsYUFBY2x6RCxLQUFLaThFLGVBQWVqZCxhQUVuQyxHQUdIbFMsR0FBYXVCLGNBQWNyQixPQUFNLEtBQy9CRixHQUFhdUIsY0FBY0osYUFBYUMsSUFDdEMsTUFBTXA3QixFQUFTOXlCLEtBQUsrK0IsUUFBUTVNLGNBQ3hCLDRDQUNKVyxFQUFPNFEsVUFBWSxHQUNuQndxQixFQUFTOS9DLFNBQVM4aEMsSUFDaEIsTUFBTXRSLEVBQVNsakMsU0FBU0MsY0FBYyxVQUN0Q2lqQyxFQUFPdGhDLE1BQVE0eUMsRUFBUWgzQixLQUN2QjBsQixFQUFPOEUsVUFBWXdNLEVBQVE4c0IsYUFBZTlzQixFQUFRaDNCLEtBQ2xENFosRUFBT3ZLLFlBQVlxVyxZQU14QjUrQixLQUFLKytCLFFBQVE1TSxjQUFjLGdEQUFnRXVjLFFBQVc3ckMsR0FBTTdDLEtBQUt3OEUsZ0JBQ2pIeDhFLEtBQUsrK0IsUUFBUTVNLGNBQWMsb0RBQW9FdWMsUUFBVzdyQyxHQUFNbzJELEdBQVcsSUFDdkhDLEtBQ0hsRixZQUFhLElBQ1JrRixLQUFVbEYsZUFHakJoMEQsS0FBS3k4RSxnQkFBa0J6OEUsS0FBSysrQixRQUFRNU0sY0FBYyxzQkFDbERueUIsS0FBS3k4RSxnQkFBZ0IvdEMsUUFBVzdyQyxJQUM5QixNQUFNaU8sRUFBTWpPLEVBQUVxTCxPQUNkLEdBQUk0QyxFQUFHc00sVUFBVW9XLFNBQVMsV0FBWSxDQUNwQyxNQUFNd3JCLEVBQU1sdUMsRUFBRzBoQixhQUFhLFlBQ3RCKy9CLEVBQU8yRyxLQUNQbEYsRUFBYyxJQUFLekIsRUFBS3lCLG9CQUN2QkEsRUFBWWhWLEdBQ25CaWEsR0FBVyxJQUNOMUcsRUFDSHlCLHFCQUdGLEdBQUlsakQsRUFBR3NNLFVBQVVvVyxTQUFTLFlBQWEsQ0FDckMsTUFBTXdyQixFQUFNbHVDLEVBQUcwaEIsYUFBYSxZQUN0QisvQixFQUFPMkcsS0FDYmw1RCxLQUFLMDhFLGVBQWUxOUIsRUFBS3VULEVBQUt5QixZQUFZaFYsSUFBTSxDQUFDOHNCLEVBQVNpTSxLQUN4RCxNQUFNL2pCLEVBQWMsSUFBS3pCLEVBQUt5QixhQUM5QkEsRUFBWThYLEdBQVdpTSxFQUNuQmpNLElBQVk5c0IsVUFBY2dWLEVBQVloVixHQUMxQ2lhLEdBQVcsSUFDTjFHLEVBQ0h5QixxQkFPVGgwRCxLQUFLKytCLFFBQVE1TSxjQUFjLGtDQUFrRHVjLFFBQVc3ckMsR0FBTTdDLEtBQUsyOEUsVUFDcEczOEUsS0FBSzQ4RSxTQUFXNThFLEtBQUsrK0IsUUFBUTVNLGNBQWMsZUFDM0NueUIsS0FBSzQ4RSxTQUFTbHVDLFFBQVc3ckMsSUFDdkIsTUFBTWlPLEVBQU1qTyxFQUFFcUwsT0FDZCxHQUFJNEMsRUFBR3NNLFVBQVVvVyxTQUFTLFdBQVksQ0FDcEMsTUFBTXdyQixFQUFNN2lELFNBQVMyVSxFQUFHMGhCLGFBQWEsWUFBYSxJQUU1Q3FxRCxFQURRM2pCLEtBQVVqRixNQUNEaDJELFFBQ3ZCNCtFLEVBQVN6N0UsT0FBTzQ5QyxFQUFLLEdBQ3JCaWEsR0FBVyxJQUNOQyxLQUNIakYsTUFBTzRvQixTQUdULEdBQUkvckUsRUFBR3NNLFVBQVVvVyxTQUFTLFlBQWEsQ0FDckMsTUFBTXdyQixFQUFNN2lELFNBQVMyVSxFQUFHMGhCLGFBQWEsWUFBYSxJQUM1Q3loQyxFQUFRaUYsS0FBVWpGLE1BQ3hCajBELEtBQUs4OEUsU0FBUzdvQixFQUFNalYsSUFBT201QixJQUN6QixNQUFNMEUsRUFBVzVvQixFQUFNaDJELFFBQ3ZCNCtFLEVBQVM3OUIsR0FBT201QixFQUNoQmxmLEdBQVcsSUFDTkMsS0FDSGpGLE1BQU80b0IsU0FZbkJFLFNBQVNDLEdBQ1BoOUUsS0FBSysrQixRQUFRM2hCLFVBQVVqSCxJQUFJNm1FLEVBQWUsWUFFNUJoOUUsS0FBSysrQixRQUFRNU0sY0FBYyxhQUFhNnFELEtBQ2hEaGUsU0FBVSxFQU1sQnFkLGNBQWNZLEVBQXFCOXVDLEdBQ2pDLE1BQU1qa0IsRUFBUWxxQixLQUFLKytCLFFBQVE1TSxjQUFjOHFELEdBQ3pDLElBQUsveUQsRUFDSCxNQUFNLElBQUlqbEIsTUFDTiw2REFFTmlsQixFQUFNZ3pELFFBQVdyNkUsSUFDZnNyQyxFQUFJamtCLEVBQU01c0IsUUFPZGkvRSxpQkFBaUJVLEVBQXFCOXVDLEdBQ3BDLE1BQU1ndkMsRUFBTW45RSxLQUFLKytCLFFBQVE1TSxjQUFjOHFELEdBQ3ZDLElBQUtFLEVBQ0gsTUFBTSxJQUFJbDRFLE1BQ04sNkRBRU5rNEUsRUFBSW5wRCxpQkFBaUIsU0FBUyxLQUM1Qm1hLE9BQ0MsR0FPTGl2QyxjQUFjSCxFQUFxQjNHLEdBQ2pDLE1BQU1wc0QsRUFBUWxxQixLQUFLKytCLFFBQVE1TSxjQUFjOHFELEdBQ3JDM0csRUFDRUEsSUFBY3BzRCxFQUFNNXNCLFFBQU80c0IsRUFBTTVzQixNQUFRZzVFLEdBRXpCLEtBQWhCcHNELEVBQU01c0IsUUFBYzRzQixFQUFNNXNCLE1BQVEsSUFTMUMrL0UsbUJBQW1CdnRDLEdBQ0QsTUFBWkEsR0FFRjl2QyxLQUFLbzlFLGNBQWMsMkNBQTRDdHRDLEVBQVNJLFNBQ3hFbHdDLEtBQUtvOUUsY0FBYyx3Q0FBeUN0dEMsRUFBU25yQyxNQUdyRTNFLEtBQUsrK0IsUUFBUTNoQixVQUFVdVYsT0FBTyw4QkFFOUIzeUIsS0FBS285RSxjQUFjLDJDQUE0QyxJQUMvRHA5RSxLQUFLbzlFLGNBQWMsd0NBQXlDLElBRzVEcDlFLEtBQUsrK0IsUUFBUTNoQixVQUFVakgsSUFBSSw2QkFTL0JzUyxLQUFLczlDLEVBQXVCZ1csR0FDMUIvN0UsS0FBS3N1RCxZQUFZN2xDLEtBQUssQ0FBQzBsQixJQUFLNDNCLEVBQVM2TCxLQUFNbUssSUFNN0NqUyxTQUNFLE1BQU12WCxFQUFPMkcsS0FFYmw1RCxLQUFLNDhFLFNBQVNsNUMsVUFBWTFqQyxLQUFLczlFLFlBQVlwa0IsS0FBVWpGLE9BQ3JEajBELEtBQUt5OEUsZ0JBQWdCLzRDLFVBQVkxakMsS0FBS3U5RSxtQkFBbUJockIsRUFBS3lCLGFBRTlEaDBELEtBQUtxOUUsbUJBQW1COXFCLEVBQUthLGlCQUM3QnB6RCxLQUFLaThFLGVBQWVqZCxRQUFVek0sRUFBS1csYUFFbkNsekQsS0FBS285RSxjQUFjLG9DQUFxQzdxQixFQUFLZSxhQUM3RHR6RCxLQUFLbzlFLGNBQWMsbUNBQW9DN3FCLEVBQUtjLFlBQzVEcnpELEtBQUtvOUUsY0FBYyxrQ0FBbUM3cUIsRUFBS24vQixNQUFNdjJCLFlBQ2pFbUQsS0FBS285RSxjQUFjLDZCQUE4QjdxQixFQUFLamtCLE9BQ3REdHVDLEtBQUtvOUUsY0FBYyw0QkFBNkI3cUIsRUFBS21CLE1BQ3JEMXpELEtBQUtvOUUsY0FBYyxtQ0FBb0M3cUIsRUFBS3hrQyxhQUM1RC90QixLQUFLbzlFLGNBQWMsOEJBQStCN3FCLEVBQUt3QixlQUN2RC96RCxLQUFLbzlFLGNBQWMsa0NBQW1DN3FCLEVBQUtpQixtQkFDM0R4ekQsS0FBS285RSxjQUFjLDRCQUE2QjdxQixFQUFLa0IsYUFDckR6ekQsS0FBS285RSxjQUFjLGlDQUFrQzdxQixFQUFLZ0IscUJBRTVEZ3FCLG1CQUFtQnZwQixHQUNqQixNQUFPLE9BQ0gxM0QsT0FBT3dFLEtBQUtrekQsR0FDUDN4RCxLQUFJLENBQUM2VyxFQUFNOGxDLEtBQ1YsTUFBTSs0QixFQUFhL2pCLEVBQVk5NkMsR0FDekJza0UsRUFBYzloRixTQUFTQyxjQUFjLEtBRTNDLE9BREE2aEYsRUFBWTNyRCxZQUFja21ELEVBQVd6MUUsS0FBT2kzQyxLQUFLQyxVQUFVdStCLEVBQVd6MUUsTUFBUSxHQUN2RSwySEFFcUU0Vyw2RkFDWkEsOEVBRzdEQSxrQkFBdUI2K0QsRUFBV3oxRSxLQUFPaEcsT0FBT3dFLEtBQUtpM0UsRUFBV3oxRSxNQUFNWCxPQUFTLFlBQWMsaURBQzlGbzJFLEVBQVc1bkMsNEJBQ1RxdEMsRUFBWTk1QyxrREFJakI1ZCxLQUFLLElBQ1YsUUFHTjAyRCxnQkFDRXg4RSxLQUFLMDhFLGVBQWUsWUFBYSxDQUFDdnNDLEtBQU0sOENBQStDMXpDLEtBQU0sS0FDekYsQ0FBQ3ljLEVBQU02K0QsS0FDTCxNQUFNL2pCLEVBQWMsSUFBS2tGLEtBQVVsRixhQUMvQkEsRUFBWTk2QyxJQUNkOVEsUUFBUXU2QyxLQUFLLG1EQUNiN1UsR0FBYWtnQixNQUFNLFFBQVMsbURBQW1ELFdBRS9FZ0csRUFBWTk2QyxHQUFRNitELEVBQ3BCOWUsR0FBVyxJQUNOQyxLQUNIbEYsb0JBTVowb0IsZUFBZWUsRUFBaUIxRixFQUF3QjVwQyxHQUN0REwsR0FBYTR3QixPQUFPLG1CQUNsQix1Q0FDQXFaLEVBQVc1bkMsS0FBTSwrQ0FBK0MsQ0FBQzVCLEVBQUk0QixLQUMvRDVCLEdBQ0ZULEdBQWE0d0IsT0FBTyxtQkFDbEIsd0NBQ0ErZSxFQUFTLGFBQWEsQ0FBQ0MsRUFBS3hrRSxLQUN0QndrRSxHQUNGNXZDLEdBQWE0d0IsT0FBTyxtQkFDbEIsd0NBQ0FxWixFQUFXdDdFLEtBQU0sSUFBSSxDQUFDa2hGLEVBQU1saEYsS0FDdEJraEYsR0FDRnh2QyxFQUFJajFCLEVBQU0sQ0FBQ2kzQixPQUFNMXpDLGtCQVlyQzZnRixZQUFZcnBCLEdBQ1YsTUFBTyxPQUNIQSxFQUNLNXhELEtBQUksQ0FBQzgxRSxFQUFNbjVCLElBaUJILG9IQUU4REEsc0ZBQ1pBLHNHQW5CbkM0K0IsbUJBQW1CLHlCQUNqQ3pGLEVBQUtob0Msa0hBSUFnb0MsRUFBSzBGLG1OQU9RMUYsRUFBSzBGLGdFQUNMMUYsRUFBSzBGLGdFQUNMMUYsRUFBSzBGLHFFQVloQy8zRCxLQUFLLElBQ1YsUUFDSDYyRCxVQUNEMzhFLEtBQUs4OEUsU0FDRCxDQUNFM3NDLEtBQU0saURBQ04wdEMsT0FBUSx5QkFFVEMsSUFDQyxNQUFNN3BCLEVBQVFpRixLQUFVakYsTUFDbEJBLEVBQU0vaEQsTUFBTWltRSxHQUFlQSxFQUFLaG9DLE9BQVMydEMsRUFBUTN0QyxNQUFRZ29DLEVBQUswRixTQUFXQyxFQUFRRCxTQUNyRnoxRSxRQUFRdTZDLEtBQUssaURBRWJzVyxHQUFXLElBQ05DLEtBQ0hqRixNQUFPQSxFQUFNdnFELE9BQU9vMEUsUUFNaENoQixTQUFTM0UsRUFBTWhxQyxHQUNiTCxHQUFhNHdCLE9BQU8sWUFDbEIsZ0dBQ0F5WixFQUFLaG9DLEtBQU0sa0RBQWtELENBQUM1QixFQUFJNEIsS0FDNUQ1QixHQUNGVCxHQUFhNHdCLE9BQU8sWUFDbEIsMkRBQ0F5WixFQUFLMEYsT0FBUSx3QkFBMEIsQ0FBQ0gsRUFBS0csS0FDdkNILEdBQ0Z2dkMsRUFBSyxDQUFDMHZDLFNBQVExdEMsZUFhNUJ0b0IsUUFDRTduQixLQUFLc3VELFlBQVl6bUMsUUFHWHkwRCxzQkFBc0J5QixHQUM1QixNQUFNanVDLEVBQVdvcEIsS0FBVTlGLGdCQUNyQnJqQixFQUFjTixHQUFJdXVDLGVBQWVsdUMsRUFBVWl1QyxHQUNqRDlrQixHQUFXLElBQ05DLEtBQ0g5RixnQkFBaUJyakIsS0N2aUJ2QixNQUFNLEdBQVVnYyxLQUFnQkcsS0FDMUJoSCxHQUFXLElBQUksR0FBU3hwRCxVQUM5QixJQUFJdWlGLElBQVcsRUFFUixTQUFTQyxLQUNWRCxLQW1FSnR5RSxHQUFPMGhDLFVBQVVqL0IsU0FBU2s4RCxJQUN4QnBsQixHQUFTbWxCLFlBQVlDLEdBQVd6bkUsR0FBTXM3RSxHQUFZN1QsRUFBU2wxRCxHQUFJdlMsUUFJakUrdUQsSUFBWSxDQUFDNVksRUFBV3Z3QyxLQUN0QixHQUFHdXdDLEVBQVUwYixhQUFlanNELEVBQVVpc0QsV0FBWSxDQUNoRCxNQUFNOGIsRUFBTyxHQUFRcitDLGNBQWMsdUJBR25DM3hCLE1BQU0rRyxLQUFLaXBFLEVBQUt0K0MsaUJBQWlCLHdDQUNoQzlqQixTQUFTMEMsR0FBT0EsRUFBRzZoQixXQUdwQixNQUFNK25DLEVBQWdCL0ksS0FBUStDLFdBR3hCcFEsRUFBVyxHQUNqQixJQUFLLE1BQU1sdkMsS0FBTXNsRCxFQUFlLENBQzlCLE1BQU1HLEVBQU9ILEVBQWN0bEQsSUFDSixJQUFuQnlsRCxFQUFLdWpCLFlBQ0Y5NUIsRUFBU3VXLEVBQUt3akIsVUFHakIvNUIsRUFBU3VXLEVBQUt3akIsVUFBVTU2RSxLQUFLNjZFLEdBQWN6akIsRUFBTXpsRCxJQUZqRGt2QyxFQUFTdVcsRUFBS3dqQixVQUFZLENBQUNDLEdBQWN6akIsRUFBTXpsRCxLQVFyRCxJQUFLLE1BQU1BLEtBQU1rdkMsRUFBVSxDQUV6QixNQUFNaFgsRUFBUTV4QyxTQUFTQyxjQUFjLE9BQ3JDMnhDLEVBQU1sd0IsVUFBVWpILElBQUksUUFBUyxzQkFDN0JtM0IsRUFBTTVKLFVBQVl0dUIsRUFDbEJvN0QsRUFBS2pvRCxZQUFZK2tCLEdBR2pCZ1gsRUFBU2x2QyxHQUFJaEgsU0FBUzBDLEdBQU8wL0QsRUFBS2pvRCxZQUFZelgsVUFNcEQsR0FBUTQ5QixRQUFXN3JDLElBQ2pCLE1BQU1pRixFQUFVakYsRUFBRXFMLE9BQXVCc2tCLGFBQWEscUJBQ3JEM3ZCLEVBQUVxTCxPQUF1QndsQyxjQUFjbGhCLGFBQWEsb0JBQy9DK3JELEVBQWUxN0UsRUFBRXFMLE9BQXVCc2tCLGFBQWEsaUJBQzFEM3ZCLEVBQUVxTCxPQUF1QndsQyxjQUFjbGhCLGFBQWEsZ0JBQ3JEMnJELEdBQVlyMkUsRUFBUWpGLEVBQUcwN0UsSUFDbEIxN0UsRUFBRXFMLE9BQXVCd2xDLGVBQzVCN3dDLEVBQUVxTCxPQUF1QndsQyxjQUFjdDJCLFVBQVVvVyxTQUFTLG1CQUMxRDN3QixFQUFFcUwsT0FBdUJ3bEMsY0FBY3QyQixVQUFVb1csU0FBUyxlQXhHOURnckQsR0FBaUJwd0UsU0FBU3dqQixJQUN4QmwyQixTQUFTMmhDLEtBQUtqZ0IsVUFBVXVWLE9BQU9mLFFBZmpDcXNELElBQVcsRUFDWDlrQixJQUFjLElBQU0yUSxPQUNwQmhNLElBQWUsSUFBTWdNLE9BQ3JCeFUsSUFBa0IsSUFBTXdVLE9BQ3hCbFksSUFBWSxJQUFNa1ksT0FJcEIsTUFBTTBVLEdBQW1CLENBQ3ZCLG9CQUFxQixxQkFBc0Isb0JBQzNDLG9CQUFxQixvQkFTdkIsU0FBU0MsR0FBY0MsR0FDckJGLEdBQWlCcHdFLFNBQVN3akIsSUFDcEI4c0QsSUFBc0I5c0QsRUFDeEJsMkIsU0FBUzJoQyxLQUFLamdCLFVBQVV1aEUsT0FBTy9zRCxHQUUvQmwyQixTQUFTMmhDLEtBQUtqZ0IsVUFBVXVWLE9BQU9mLE1BaUI5QixTQUFTZ3RELEdBQW9CanpDLEVBQWF3QyxHQUUvQyxPQURBK3ZDLEtBQ09oNUIsR0FBU21sQixZQUFZMStCLEVBQUd3QyxHQUdqQyxTQUFTbXdDLEdBQWN6akIsRUFBTXpsRCxHQUUzQixNQUFNeXBFLEVBQWdCaGtCLEVBQUtpa0IsYUFBZSxpQkFDcENDLEVBQWtCbGtCLEVBQUtta0IsYUFBZSxPQUN0Q2x1RSxFQUFLcFYsU0FBU0MsY0FBYyxPQVFsQyxPQVBBbVYsRUFBR3NNLFVBQVVqSCxJQUFJLGdCQUFpQixrQkFDbENyRixFQUFHdzlCLE1BQVEsR0FBR3VzQixFQUFLM2hELE9BQ25CcEksRUFBR2doQixhQUFhLG1CQUFvQixVQUFZaXRELEdBQ2hEanVFLEVBQUdnaEIsYUFBYSxlQUFnQjFjLEdBQ2hDdEUsRUFBRzR5QixVQUFZLGdDQUFnQ203QyxpQkFDN0Noa0IsRUFBSzNoRCxXQUVBcEksRUFzRUY0OUMsZUFBZXV3QixHQUFtQjFoRixFQUFtQmdpRSxHQUMxRCxHQUFJaGlFLElBQVNpaUQsR0FBWW1XLFFBQVMsQ0FDaEMsTUFBTzdrRCxFQUFJb3VFLFNBQTJCbjVCLEdBQVcsQ0FDL0N4b0QsT0FDQWc5QixPQUFRbytCLEtBQ1I0RyxnQkFDQWwzQyxNQUFPLENBQ0x5dEMsT0FBUSxHQUNSQyxRQUFTLE1BSWIsTUFBTyxDQUFDamxELEVBQUlvdUUsR0FDUCxDQUVMLE1BQU1uZSxFQUFVb0YsS0FDVm5GLEVBQVlELEVBQVEzaEMsd0JBQ3BCN0UsRUFBU3NtQyxJQUFvQixFQUFPRSxHQUVwQ08sRUFEVyxHQUFjLEtBQW1CL21DLEdBQ3RCNkUseUJBR3RCLEtBQUNyc0IsRUFBSSxJQUFFdWlCLEdBQU8rckMsR0FBYSxDQUMvQkwsWUFDQU0sYUFDQUMsWUFBYSxDQUNYbnVDLE1BQU9pc0MsR0FDUGhxQyxPQUFRZ3FDLE9BS0x2dUQsRUFBSW91RSxTQUEyQm41QixHQUFXLENBQy9DeG9ELE9BQ0FnOUIsU0FDQWdsQyxnQkFDQWwzQyxNQUFPLENBQ0x5dEMsT0FBUSxHQUNSQyxRQUFTLENBQ1B6Z0MsSUFBS0EsRUFBTSxLQUNYdmlCLEtBQU1BLEVBQU8sU0FLbkIsTUFBTyxDQUFDakMsRUFBSW91RSxJQXlCaEIsU0FBU3BWLEtBQ0hwWCxLQUNGLEdBQVF2Z0MsY0FBYyxTQUFTL1UsVUFBVXVWLE9BQU8sT0FFaEQsR0FBUVIsY0FBYyxTQUFTL1UsVUFBVWpILElBQUksT0FFM0N3OEMsS0FDRixHQUFReGdDLGNBQWMsU0FBUy9VLFVBQVV1VixPQUFPLE9BRWhELEdBQVFSLGNBQWMsU0FBUy9VLFVBQVVqSCxJQUFJLE9BWWpELFNBQVNnb0UsR0FBWTVnRixFQUFjay9CLEVBQWM4aUMsR0FDL0MsTUFBTTRmLEVBQWExaUQsRUFDbkIsT0FBUWwvQixHQUNOLElBQUssYUFDSGtoRixHQUFjLHFCQUNkLE1BQ0YsSUFBSyxrQkFDSEEsR0FBYyxzQkFDZCxNQUNGLElBQUssaUJBQ0hBLEdBQWMscUJBQ2QsTUFDRixJQUFLLGlCQUNIQSxHQUFjLHFCQUNkLE1BQ0YsSUFBSyxnQkFDSEEsR0FBYyxvQkFDZCxNQUNGLElBQUssV0FDSHBGLEtBQ0EsTUFDRixJQUFLLGNBQ0hqbkQsS0FDQSxNQUNGLElBQUssd0JBQ0gwcEQsS0FDQSxNQUNGLElBQUssYUFDSEEsR0FBbUIsS0FBTSxjQUN6QixNQUNGLElBQUssZUFDSDVQLEtBQ0EsTUFDRixJQUFLLFlBQ0g5NUMsR0FBSzhtQyxLQUFVL0UsTUFDZixNQUNGLElBQUssWUFDSHZGLEtBQ0EsTUFDRixJQUFLLFlBQ0hvakIsS0FDQSxNQUNGLElBQUssdUJBQ0hFLEtBQ0EsTUFDRixJQUFLLHlCQUNIOWpCLEdBQWFDLGNBQWNPLFdBQzNCLE1BQ0YsSUFBSyxzQnZCOVNBLEdBQVNubUMsT3VCZ1RaLE1BQ0YsSUFBSyxxQm5CblRBLEdBQVNBLE9tQnFUWixNQUNGLElBQUssMkIzQnJTUHc1QyxLQUdBMkgsSzJCb1NJLE1BQ0YsSUFBSyxvQkFBcUIsQ0FDeEIsTUFBTS96QixFQUFLOGIsS0FDWEQsR0FBUyxJQUNKN2IsRUFDSDBlLGNBQWUxZSxFQUFHMGUsZUFFcEIsTUFFRixJQUFLLHVCQUNIN0MsR0FBUyxJQUNKQyxLQUNINEMsY0FBYyxJQUVoQixNQUNGLElBQUssd0JBQ0g3QyxHQUFTLElBQ0pDLEtBQ0g0QyxjQUFjLElBRWhCLE1BQ0YsSUFBSyxzQkFBdUIsQ0FDMUIsTUFBTTlJLEVBQVVrRyxLQUFRbEcsUUFBUTUvQyxRQUFPay9ELEdBQWdCLGVBQVhBLEVBQUV4dEUsT0FDeEN3bEUsRUFBYXRYLEVBQVF0NUMsV0FBVTQ0RCxHQUFLQSxFQUFFNXBDLFVBQ3RDajVCLEVBQU91akQsR0FBU3NYLEVBQWEsR0FBS3RYLEVBQVE5cEQsUUFDaERxcEUsR0FBVzlpRSxHQUNYLE1BRUYsSUFBSyxzQkFBdUIsQ0FDMUIsTUFBTXVqRCxFQUFVa0csS0FBUWxHLFFBQVE1L0MsUUFBT2svRCxHQUFnQixlQUFYQSxFQUFFeHRFLE9BQ3hDd2xFLEVBQWF0WCxFQUFRdDVDLFdBQVU0NEQsR0FBS0EsRUFBRTVwQyxVQUN0Q2w1QixFQUFPd2pELEdBQVNzWCxFQUFhLEVBQUl0WCxFQUFROXBELFFBQVU4cEQsRUFBUTlwRCxRQUNqRXFwRSxHQUFXL2lFLEdBQ1gsTUFFRixJQUFLLGNBQ0hnakUsS0FDQSxNQUNGLElBQUssY0FDSGdVLEdBQW1Cei9CLEdBQVk2Z0IsS0FBTWQsR0FDckMsTUFFRixJQUFLLGlCQUNIMGYsR0FBbUJ6L0IsR0FBWW1XLFFBQVM0SixHQUN4QyxNQUVGLElBQUssY0FDSDBmLEdBQW1Cei9CLEdBQVlvZ0IsS0FBTUwsR0FDckMsTUFFRixJQUFLLGdCQWpKRjdRLGVBQWlDNlEsR0FDdEMsSUFDRSxNQUFNenZCLFFBQWlCc2UsR0FBYUMsY0FBY08sU0FBU1IsR0FBYUcsa0JBQ3hFLEdBQUl6ZSxFQUFVLENBR1osTUFBT3N2QyxTQUFpQkgsR0FBbUJ6L0IsR0FBWTRnQixNQUFPYixHQUU5RCtGLEdBQVk4WixFQUFTdHZDLEVBQVNnZSxVQUVoQyxNQUFNaDZDLEdBQ05nNkIsR0FBYStoQixZQUFZLGlEQUFtRC83QyxFQUFNNm9CLFNBQVcsTUF1STNGMGlELENBQWtCOWYsR0FDbEIsTUFFRixJQUFLLG1CQUNIMGYsR0FBbUJ6L0IsR0FBWXFnQixVQUFXTixHQUMxQyxNQUVGLElBQUssd0JBQ0h1RSxLQUNBLE1BQ0YsSUFBSyx1QkFFSDdCLEtBQ0EsTUFDRixJQUFLLHNCQUNIK0UsS0FDQSxNQUNGLElBQUssdUJBQ0hhLEtBQ0EsTUFDRixJQUFLLDJCQUNIWCxLQUNBLE1BQ0YsSUFBSyxZQUNIdmdFLEtBQ0EsTUFDRixJQUFLLFlBQ0hDLEtBQ0EsTUFDRixJQUFLLHFCQUNIZ2EsR0FBUzYrQixHQUFVdWxCLEtBQU1tYSxHQUN6QixNQUNGLElBQUssc0JBQ0h2K0QsR0FBUzYrQixHQUFVc2xCLE1BQU9vYSxHQUMxQixNQUNGLElBQUssbUJBQ0h2K0QsR0FBUzYrQixHQUFVeEksR0FBSWtvQyxHQUN2QixNQUNGLElBQUsscUJBQ0h2K0QsR0FBUzYrQixHQUFVeEgsS0FBTWtuQyxHQUN6QixNQUNGLElBQUssZUFDSGphLEtBQ0EsTUFDRixJQUFLLGlCQUNIQyxLQUNBLE1BQ0YsSUFBSyxtQkFDSEMsS0FDQSxNQUNGLElBQUssc0JBQ0hDLEtBQ0EsTUFDRixJQUFLLG1CQUNIc0csS0FDQSxNQUNGLElBQUssbUJBQ0hGLEtBQ0EsTUFFRixJQUFLLFlBQ0hod0UsT0FBT2d0QixLQUFLOWMsR0FBTzJnQyxZQUNuQixNQUNGLElBQUssb0JBQ0g3d0MsT0FBT2d0QixLQUFLOWMsR0FBTzZnQyxlQUNuQixNQUNGLElBQUssY0FDSC93QyxPQUFPZ3RCLEtBQUs5YyxHQUFPOGdDLGNBQ25CLE1BQ0YsSUFBSyx3QkFDSGh4QyxPQUFPZ3RCLEtBQUs5YyxHQUFPZ2hDLHdCQUNuQixNQUNGLElBQUssMEJBQ0hseEMsT0FBT2d0QixLQUFLOWMsR0FBTytnQywwQkFDbkIsTUFDRixJQUFLLHNCQUNIanhDLE9BQU9ndEIsS0FBSzljLEdBQU9paEMsa0JBQ25CLE1BQ0YsSUFBSyxrQkFDSG54QyxPQUFPZ3RCLEtBQUs5YyxHQUFPa2hDLHNCQUNuQixNQUNGLElBQUssZ0JBQ0hweEMsT0FBT2d0QixLQUFLOWMsR0FBT21oQyxpQkFDbkIsTUFDRixJQUFLLGVBQ0hyeEMsT0FBT2d0QixLQUFLOWMsR0FBT29oQyxnQkFDbkIsTUFDRixJQUFLLGdCQUNIdHhDLE9BQU9ndEIsS0FBSzljLEdBQU9xaEMsV0FDbkIsTUFDRixJQUFLLGNBQ0h2eEMsT0FBT2d0QixLQUFLOWMsR0FBT3NoQyxXQUNuQixNQUNGLElBQUssa0JBQ0h4eEMsT0FBT2d0QixLQUFLOWMsR0FBT3VoQyxZQUNuQixNQUNGLFFBQ0U5a0MsUUFBUXU2QyxLQUFLLHNCQUF1QnBsRCxJQ3pYbkMsSUNyRUgsR2pDREEraEYsR2dDc0VPQyxHQUFnQjlqRixPQUFpQixTQ3hEckMsTUFBTStqRixHQW1CWGowRSxZQUFzQnd6QixHQUFBLEtBQUFBLFVBaEJ0QixLQUFBMGdELGVBQStCLEtBQy9CLEtBQUFDLGVBQWlDLEtBSXpCLEtBQUFDLGVBQWlDLEdBWXZDMy9FLEtBQUs0L0UsUUFBVTUvRSxLQUFLKytCLFFBQVE1TSxjQUFjLHNCQVE1QzB0RCxVQUVFLEdBRGU3L0UsS0FBSysrQixRQUFRNU0sY0FBYyxnQkFBZ0IvVSxVQUFVb1csU0FBUywyQkFDakUsQ0FDVixNQUFNc3NELEVBQWdCL2hCLEdBQWdCeDVELFFBQU8sQ0FBQ202QixFQUFLbWdDLEtBQ2pELE1BQU0vdEQsRUFBSzlRLEtBQUsrK0IsUUFBUTVNLGNBQWMsUUFBVTBzQyxHQU1oRCxPQUxLL3RELEVBR0g0dEIsRUFBSW1nQyxHQUFRL3RELEVBQUd4VCxNQUZmOEssUUFBUTBMLE1BQU0sb0RBQXFEK3FELEdBSTlEbmdDLElBQ04sSUFNSCxPQUhBb2hELEVBQVM3Z0IsU0FBV1osR0FBWXloQixFQUFTM3ZDLE1BR2xDMnZDLEVBRVQsT0FBTyxLQUdUeGdELFNBQVN6OEIsR0FDUDdDLEtBQUsrL0UsZ0JBQWdCLEdBQWMsS0FBbUIvL0UsS0FBS3kvRSxnQkFBaUJ6L0UsS0FBSysrQixTQUduRmdoRCxnQkFBZ0JDLEVBQVNKLEdBQ3ZCLE1BQU1sekQsRUFBTXN6RCxFQUFRNWdELHdCQUNkNGhDLEVBQVltRixLQUFnQi9tQyx3QkFDNUI2Z0QsRUFBa0JqZixFQUFVM3JDLE9BQVMyckMsRUFBVTFyQyxJQUFNNUksRUFBSTRJLElBQ3pEQyxFQUFTeDRCLEtBQUtDLElBQUlpakYsRUFBa0J2ekQsRUFBSTJJLE9BM0V0QixHQTJFb0R0NEIsS0FBS0csSUFBSThqRSxFQUFVM3JDLE9BQVMsR0FBSTRxRCxJQUN0R2x0RSxFQUFPMlosRUFBSTNaLEtBN0VGLEdBOEVmNnNFLEVBQVF2M0QsTUFBTWtOLE9BQVNBLEVBQVMsS0FDaENxcUQsRUFBUXYzRCxNQUFNdFYsS0FBT0EsRUFBTyxLQU05Qm10RSxjQUdFLEdBRkFDLElBQVksR0FFUm5nRixLQUFLMC9FLGVBQWdCLENBR3ZCMS9FLEtBQUsyL0UsZUFBZXZ4RSxTQUFTKy9CLEdBQVFBLE1BQ3JDbnVDLEtBQUsyL0UsZUFBaUIsR0FLckIzL0UsS0FBSysrQixRQUFRNU0sY0FBYyxrQkFBa0M5SixNQUFNQyxRQUFVLE9BQzlFdG9CLEtBQUswL0UsZUFBZWpzRCxPQUFNLEdBQzFCenpCLEtBQUswL0UsZUFBZVUsVUFDcEJwZ0YsS0FBSzAvRSxlQUFpQixLQUN0QixNQUFNbmxELEVBQVN2NkIsS0FBSzQvRSxRQUFRbHNDLGNBQ3RCa1AsRUFBUTVpRCxLQUFLNC9FLFFBQVE3NUMsV0FBVSxHQUNyQ3ZsQyxNQUFNK0csS0FBS3E3QyxFQUFNMXdCLGlCQUFpQiw2QkFDakM5akIsU0FBUzBDLEdBQW9CQSxFQUFHc00sVUFBVXVWLE9BQU8sNkJBQ2xENEgsRUFBTzFILGFBQWErdkIsRUFBTzVpRCxLQUFLNC9FLFNBQ2hDcmxELEVBQU9qRyxZQUFZdDBCLEtBQUs0L0UsU0FDeEI1L0UsS0FBSzQvRSxRQUFVaDlCLEVBR2ZpRSxLQUdBLE1BQU13NUIsRUFBbUIsR0FBYyxLQUFtQnJnRixLQUFLeS9FLGdCQUN6RGEsRUFBV3pvQixHQUFld29CLEdBQ2hDQyxFQUFTeFosZ0JBQWdCLG1CQUN6QndaLEVBQVNsakUsVUFBVXVWLE9BQU8sbUJBQW9CLG1CQUM5QzB0RCxFQUFpQmpqRSxVQUFVdVYsT0FBTyxxQkFDbEMwdEQsRUFBaUJ2WixnQkFBZ0IsOEJBTWpDMVIsR0FBZSxDQUFDLElBQ1hwMUQsS0FBS3kvRSxlQUNSbGxCLFVBQVd6QyxHQUFhdW9CLE1BRTFCcmdGLEtBQUt5L0UsZUFBaUIsS0FFeEJ6L0UsS0FBSysrQixRQUFRM2hCLFVBQVV1VixPQUFPLHVCQUdoQzR0RCxhQUFhdjBCLEVBQTRCdzBCLEVBQVcsS0FBTXJ5QyxFQUFNLE1BQzlELE1BQU1zeUMsRUFBbUIsS0FFekIsR0FBZ0MsSUFBNUJBLEVBQWlCOStFLE9BQWMsQ0FDakMsTUFBTSsrRSxFQUFhRCxFQUFpQixHQUNwQyxHQUFJQyxJQUFlMWdGLEtBQUt5L0UsZUFBZ0IsQ0FDdEN6L0UsS0FBS2tnRixjQUNMQyxJQUFZLEdBRVpuZ0YsS0FBS3kvRSxlQUFpQmlCLEVBQ3RCLE1BQU1MLEVBQW1CLEdBQWMsS0FBbUJyZ0YsS0FBS3kvRSxnQkFJL0R6L0UsS0FBSysvRSxnQkFBZ0JNLEVBQWtCcmdGLEtBQUsrK0IsU0FDNUMsTUFBTXVoRCxFQUFXem9CLEdBQWV3b0IsR0FDMUJqaUYsRUFBVSxDQUNkd2hGLFFBQVM1L0UsS0FBSzQvRSxRQUNkZSxjQUFjLEVBQ2RDLGVBQWUsRUFDZkMsUUFBUyxDQUNQLHFCQUFzQixFQUV0QixzQkFBdUIsR0FHekJDLFlBQWEsQ0FDWEMsS0FBTSxDQUNKbDZELEVBQUcsR0FDSG02RCxPQUFRLENBQUNDLFdBQVksS0FDckIvOEUsRUFBRyxHQUNIZzlFLEdBQUksR0FDSjV2QixFQUFHLEdBQ0g2dkIsR0FBSSxHQUNKQyxHQUFJLEdBQ0o3UCxHQUFJLEdBQ0o4UCxHQUFJLEdBQ0pDLEdBQUksR0FDSkMsR0FBSSxHQUNKblIsR0FBSSxHQUNKeDZCLEVBQUcsR0FDSDRyQyxHQUFJLEdBQ0pyUSxHQUFJLEdBQ0o3dkQsRUFBRyxDQUNEbWdFLGlCQUFrQixDQUNoQnR4QyxLQUFNLE1BQ04rdEIsU0FBVSxPQUNWaHdELE9BQVEsTUFDUm9nQyxNQUFPLE1BQ1Avd0MsS0FBTSxRQUdWaW9FLElBQUssQ0FDSGljLGlCQUFrQixDQUNoQm5vRSxJQUFLLE1BQ0xxbUQsSUFBSyxNQUNMcnhCLE1BQU8sTUFDUGxiLE1BQU8sTUFDUGlDLE9BQVEsTUFDUnFzRCxNQUFPLFFBSVh2SixLQUFNLENBQUM4SSxXQUFZLE9BQVFVLFVBQVcsQ0FBQzkwRCxLQUFNLGlCQUluRDdzQixLQUFLMC9FLGVBQWlCLElBQUlILEdBQVNxQyxPQUFPdEIsRUFBVWxpRixHQUVwRDRCLEtBQUswL0UsZUFBZW1DLEdBQUcsU0FBVWgvRSxHQUFNN0MsS0FBSzhoRixRQUFRai9FLEVBQUVrL0UsY0FBY0MsUUFBUSxXQUc1RTNCLEVBQWlCampFLFVBQVVqSCxJQUFJLHFCQUMvQmtxRSxFQUFpQnZ1RCxhQUFhLDZCQUE4QixRQUM1RDl4QixLQUFLKytCLFFBQVEzaEIsVUFBVWpILElBQUksdUJBRzNCLE1BQU1rN0IsRUFBTSxLQUNORSxFQUFNMDBCLEtBQ05nYyxFQUFxQnAvRSxHQUFNN0MsS0FBS3MvQixTQUFTejhCLEdBQ3pDcS9FLEVBQWUsSUFBTWxpRixLQUFLbWlGLE9BQU85QixHQU1qQytCLEVBQWlCM3BCLEdBQWN6NEQsS0FBS3kvRSxnQkFDMUMsSUFBSWovRSxNQUFNUixLQUFLeS9FLGtCQUFtQjJDLEdBQ2pDLy9FLEtBQUl5TyxHQUFNLEdBQWMsS0FBbUJBLEtBQzNDMUMsU0FBUSt5RCxJQUNKQSxFQUFNOTJCLGFBQWEsVUFDcEI4MkIsRUFBTXJ2QyxhQUFhLGdCQUFpQnF2QyxFQUFNM3VDLGFBQWEsU0FDdkQydUMsRUFBTTJGLGdCQUFnQixRQUN0QjNGLEVBQU16eUIsUUFBVzdyQyxHQUFNQSxFQUFFNndCLGlCQUN6QjF6QixLQUFLMi9FLGVBQWVsOEUsTUFDbEIsS0FDRTA5RCxFQUFNcnZDLGFBQWEsT0FBUXF2QyxFQUFNM3VDLGFBQWEsa0JBQzlDMnVDLEVBQU0yRixnQkFBZ0Isd0JBTzlCOW1FLEtBQUsyL0UsZUFBZWw4RSxLRjdLckIsU0FBd0I0dEMsR0FFN0IsT0FEQTZzQyxLQUNPaDVCLEdBQVNpbEIsT0FBTzk0QixHRTRLZmd4QyxDQUFlaHhDLEdBQ2Z1dEMsR0FBb0IsQ0FDbEJ0eEMsTUFBTyxZQUNQbnJDLElBQUssSUFDTHFyQyxTQUFTLElBQ1AzcUMsR0FBTTdDLEtBQUtzaUYsZUFBZXovRSxLQUM5Qis3RSxHQUFvQixDQUNsQnR4QyxNQUFPLG1CQUNQbnJDLElBQUssV0FDSFUsR0FBTTdDLEtBQUtrZ0YsaUJBQ2YsSUFBTTN1QyxFQUFJaFUsb0JBQW9CLFNBQVUwa0QsS0FDeEMsSUFBTTVCLEVBQWlCOWlELG9CQUFvQixPQUFRMmtELEtBQ25ELElBQU1saUYsS0FBSzAvRSxlQUFlNkMsSUFBSSxVQUM5QixJQUFNdmlGLEtBQUswL0UsZUFBZTZDLElBQUksVUFDOUIsSUFBTXZpRixLQUFLMC9FLGVBQWU2QyxJQUFJLFdBRWhDaHhDLEVBQUl2ZCxpQkFBaUIsU0FBVWl1RCxHQUMvQjVCLEVBQWlCcnNELGlCQUFpQixPQUFRa3VELEdBQzFDbGlGLEtBQUswL0UsZUFBZW1DLEdBQUcsUUFBU2gvRSxHQUFNN0MsS0FBS21pRixPQUFPOUIsS0FDbERyZ0YsS0FBSzAvRSxlQUFlbUMsR0FBRyxRQUFRLEtBQzVCN2hGLEtBQUsrK0IsUUFBUTVNLGNBQWMsaUJBQWlDcXdELFlBQWUzL0UsSUFDMUUsTUFBTTQvRSxFQUFjemlGLEtBQUswL0UsZUFBZWdELFNBQVN2dUMsVUFBVXd1QyxjQUMzRDMyQixFQUFhNEMsU0FBU1IsR0FBYUcsa0JBQzlCM0osTUFBTTlVLElBQ0w5dkMsS0FBS3VnRixhQUFhdjBCLEVBQWN5MkIsR0FBYSxLQUN2QzN5QyxHQUNGOXZDLEtBQUswL0UsZUFBZWdELFNBQVNFLFNBQVMvaEYsS0FBSyxjQUFlLENBQUN5WSxJQUFLdzJCLEVBQVNnZSxRQUFTNlIsSUFBSyxXQUk1RnhSLE9BQU9yNkMsSUFDTmc2QixHQUFhK2hCLFlBQVksaURBQW1ELzdDLEVBQU02b0IsU0FBVyxLQUM3RjM4QixLQUFLdWdGLGFBQWF2MEIsRUFBY3kyQixPQUt4QyxNQUFNSSxFQUFlN2lGLEtBQUsrK0IsUUFBUTVNLGNBQWMsa0JBQzFDMndELEVBQVVELEVBQWExd0QsY0FBYyxzQkFFM0MsU0FBUzR3RCxFQUFnQmxnRixHQUd2QnRELFlBQVcsS0FDVHVqRixFQUFRRSxRQUNSSCxFQUFheDZELE1BQU1DLFFBQVUsR0FDNUJ6bEIsRUFBRXFMLE9BQXVCdWxCLFVBQ3pCLEtBRUpvdkQsRUFBYTF3RCxjQUFjLFVBQTBCOHdELFNBQVlwZ0YsR0FBTWtnRixFQUFnQmxnRixHQUN0RmdnRixFQUFhMXdELGNBQWMsVUFBMEIrd0QsT0FBVXJnRixHQUFNN0MsS0FBS21pRixPQUFPOUIsR0FDakZ3QyxFQUFhMXdELGNBQWMsUUFBd0JneEQsVUFBYXRnRixHQUFNa2dGLEVBQWdCbGdGLEdBQ3RGZ2dGLEVBQWExd0QsY0FBYyxRQUF3Qmd4RCxVQUFhdGdGLEdBQU1rZ0YsRUFBZ0JsZ0YsR0FDdEZnZ0YsRUFBYTF3RCxjQUFjLFFBQXdCK3dELE9BQVVyZ0YsR0FBTTdDLEtBQUttaUYsT0FBTzlCLEdBQy9FcmdGLEtBQUsrK0IsUUFBUTVNLGNBQWMsZ0JBQWdDdWMsUUFBVzdyQyxHQUFNN0MsS0FBS3NpRixlQUFlei9FLEdBR2xHN0MsS0FBS3l6QixNQUFNK3NELEdBQ1ByeUMsR0FDRkEsWUFHS0EsR0FDVEEsU0FHRi9sQyxRQUFRMEwsTUFBTSxpREFBa0Qyc0UsR0FJcEVxQixRQUFRcjZELEdBQ0ZBLEVBQVEvSixNQUFNLGlCQUNoQm93QixHQUFhd2hCLFFBQVEsZ0JBQWlCLHlPQUEwTy9nQixJQUM5USxHQUFJQSxFQUFJLENBQ04sTUFDTSt4QyxFQUFXem9CLEdBRFEsR0FBYyxLQUFtQjczRCxLQUFLeS9FLGlCQUV6RDJELEVBQWU5QyxFQUFTNThDLFVBQVU1bEMsUUFBUSxnQkFBaUIsSUFDakV3aUYsRUFBUzU4QyxVQUFZMC9DLEtBRXRCLFVBQVcsZUFJbEJqQixPQUFPOUIsR0FHTDlnRixZQUFXLEtBQ0p1dUMsR0FBYXZTLFVBQ2I3L0IsU0FBUzJuRixnQkFBa0JoRCxHQUMxQjNrRixTQUFTMm5GLGNBQWNqbUUsVUFBVW9XLFNBQVMsOEJBQzlDeHpCLEtBQUtrZ0YsZ0JBRU4sR0FJTHpzRCxNQUFNK3NELEdBQ0F4Z0YsS0FBSzAvRSxpQkFDUDEvRSxLQUFLMC9FLGVBQWVqc0QsT0FBTSxHQUV0QitzRCxHQUNGeGdGLEtBQUswL0UsZUFBZWdELFNBQVN2dUMsVUFBVW12QyxZQUFZOUMsSUFRekQ4QixlQUFlei9FLEdBQ1A3QyxLQUFLeS9FLGVBQWUxZixLQUV4Qmp5QixHQUFha2dCLE1BQU0sYUFBYywrUUFBK1EsU0FHaFRtUSxHQUFlLENBQ2I3N0QsS0FGY3RDLEtBQUs2L0UsVUFHbkIxeEMsSUFBTW8xQyxJQUlBQSxFQUNGdmpGLEtBQUswL0UsZUFBZWdELFNBQVNFLFNBQVMvaEYsS0FBSyxhQUFjMGlGLEdBRXpEdmpGLEtBQUswL0UsZUFBZWdELFNBQVNFLFNBQVMvaEYsS0FBSyxjQUc3Q2IsS0FBSzAvRSxlQUFlanNELE9BQU0sTUFLaEM1d0IsRUFBRTZ3QixrQkNwV0MsU0FBUzh2RCxLQUNkLE1BQU16a0QsRUFBd0JzMkIsS0FBY25qRCxNQUFNcEIsR0FBT0EsRUFBR3VpQyxVQUFZdmlDLEVBQUdrdkQsYUFFM0UsR0FBSWpoQyxFQUNGLEdBQUk0N0IsR0FBWTU3QixHQUFVLENBQ3hCLE1BQU0wa0QsRUFBUzl4QixLQUFRbEcsUUFBUXY1QyxNQUFLNjRELEdBQWMsV0FBVEEsRUFBRTMxRCxLQUMzQzQxRCxHQUFXeVksUUFJWCxPQUFRMWtELEVBQVF4aEMsTUFDZCxLQUFLaWlELEdBQVk2Z0IsS0RsQnZCLEdBQVcsSUFBWSxJQUFJbWYsR0FBY3p6QixLQUFnQlksZUFLbEQsR0FBUzR6QixhQUFhbnlCLEdBQWFDLGVDZ0JwQyxNQUNBLEtBQUs3TyxHQUFZb2dCLEtBQ2ZnSyxLQUVGLE1BQ0EsS0FBS3BxQixHQUFZNGdCLE1BQ2ZoUyxHQUFhQyxjQUFjTyxTQUFTUixHQUFhRyxrQkFDbEQzSixNQUFNaXRCLElBQ0RBLEdBQ0Z2TSxHQUFZdm1DLEVBQVM4eUMsRUFBSy9qQixZQUc3QkssT0FBT3I2QyxJQUNOZzZCLEdBQWEraEIsWUFBWSxpREFBbUQvN0MsRUFBTTZvQixTQUFXLFNBUXZHLE1BQU0rbUQsR0FNSm40RSxZQUFtQnd6QixHQUFBLEtBQUFBLFVBRWpCLytCLEtBQUsyakYsbUJBQXFCNWtELEVBQVE1TSxjQUFjLGlCQUNoRG55QixLQUFLMmpGLG1CQUFtQmoxQyxRQUFXN3JDLElIR3JDNDdFLEdBQWMsc0JHRFpucEIsSUFBa0IsQ0FBQ3N1QixFQUFhdC9CLElBQWF0a0QsS0FBSzhwRSxXQUNsRGhNLElBQWUsSUFBTTk5RCxLQUFLOHBFLFdBQzFCbFksSUFBWSxJQUFNNXhELEtBQUs4cEUsV0FFdkI5cEUsS0FBSysrQixRQUFRNU0sY0FBYyxXQUFXNkIsaUJBQWlCLFNBQVMsSUFBTTh2QyxPQUN0RTlqRSxLQUFLKytCLFFBQVE1TSxjQUFjLFNBQVM2QixpQkFBaUIsU0FBUyxJQUFNd3ZELE9BQ3BFeGpGLEtBQUsrK0IsUUFBUTVNLGNBQWMsU0FBUzZCLGlCQUFpQixTQUFTLElBQU1nekMsT0FDcEVobkUsS0FBSysrQixRQUFRNU0sY0FBYyxVQUFVNkIsaUJBQWlCLFNBQVMsSUFBTTZ6QyxPQUNyRTduRSxLQUFLKytCLFFBQVE1TSxjQUFjLGNBQWM2QixpQkFBaUIsU0FBUyxJQUFNa3pDLE9BQ3pFbG5FLEtBQUsrK0IsUUFBUTVNLGNBQWMsUUFBUTZCLGlCQUFpQixTQUFTLElBQU1veEMsT0FDbkVwbEUsS0FBSysrQixRQUFRNU0sY0FBYyxPQUFPNkIsaUJBQWlCLFNBQVMsSUFBTWt4QyxPQUNsRWxsRSxLQUFLKytCLFFBQVE1TSxjQUFjLFNBQVM2QixpQkFBaUIsU0FBUyxJQUFNbXhDLE9BQ3BFbmxFLEtBQUsrK0IsUUFBUTVNLGNBQWMsV0FBVzZCLGlCQUFpQixTQUFTLElBQU1xeEMsT0FDdEVybEUsS0FBSysrQixRQUFRNU0sY0FBYyxvQkFBb0I2QixpQkFBaUIsU0FBVW54QixJbENoQnZFeThFLEtBQ0xBLEdBQU05aEMsY0FBZ0I4aEMsR0FBTTloQyxpQmtDdUJwQnNzQixTQUNOLE1BQU1sTSxFQUFPdUssS0FFYixHQUFJdkssRUFBTSxDQUNSLE1BQU05dEIsRUFBV29wQixLQUFVL0UsS0FDckIwdkIsRUFBY3p4QixLQUFZLElBQU0sR0FDaEMweEIsRUFBV2gwQyxHQUFZQSxFQUFTbnJDLEtBQU9tckMsRUFBU25yQyxLQUFPay9FLEVBQWMsTUFBUSxHQUNuRjdqRixLQUFLMmpGLG1CQUFtQmpnRCxVQUFZLGFBQ2hDb2dELGNBQ0FsbUIsRUFBS1osc0JBU3FCLElBSlAzSCxLQUN0QnhwRCxRQUFRaUYsR0FBT0EsRUFBR3VpQyxVQUFZbWxCLEdBQVUxbkQsS0FHdEJuUCxRQUVuQjNCLEtBQUsrK0IsUUFBUTVNLGNBQWMsV0FBVy9VLFVBQVVqSCxJQUFJLE9BQ3BEblcsS0FBSysrQixRQUFRNU0sY0FBYyxTQUFTL1UsVUFBVWpILElBQUksT0FDbERuVyxLQUFLKytCLFFBQVE1TSxjQUFjLFNBQVMvVSxVQUFVakgsSUFBSSxPQUNsRG5XLEtBQUsrK0IsUUFBUTVNLGNBQWMsUUFBUS9VLFVBQVVqSCxJQUFJLE9BQ2pEblcsS0FBSysrQixRQUFRNU0sY0FBYyxPQUFPL1UsVUFBVWpILElBQUksT0FDaERuVyxLQUFLKytCLFFBQVE1TSxjQUFjLFNBQVMvVSxVQUFVakgsSUFBSSxPQUNsRG5XLEtBQUsrK0IsUUFBUTVNLGNBQWMsV0FBVy9VLFVBQVVqSCxJQUFJLE9BQ3BEblcsS0FBSysrQixRQUFRNU0sY0FBYyxjQUFjL1UsVUFBVWpILElBQUksU0FFdkRuVyxLQUFLKytCLFFBQVE1TSxjQUFjLFdBQVcvVSxVQUFVdVYsT0FBTyxPQUN2RDN5QixLQUFLKytCLFFBQVE1TSxjQUFjLFNBQVMvVSxVQUFVdVYsT0FBTyxPQUNyRDN5QixLQUFLKytCLFFBQVE1TSxjQUFjLFNBQVMvVSxVQUFVdVYsT0FBTyxPQUNyRDN5QixLQUFLKytCLFFBQVE1TSxjQUFjLFFBQVEvVSxVQUFVdVYsT0FBTyxPQUNwRDN5QixLQUFLKytCLFFBQVE1TSxjQUFjLE9BQU8vVSxVQUFVdVYsT0FBTyxPQUNuRDN5QixLQUFLKytCLFFBQVE1TSxjQUFjLFNBQVMvVSxVQUFVdVYsT0FBTyxPQUNyRDN5QixLQUFLKytCLFFBQVE1TSxjQUFjLFdBQVcvVSxVQUFVdVYsT0FBTyxPQUN2RDN5QixLQUFLKytCLFFBQVE1TSxjQUFjLGNBQWMvVSxVQUFVdVYsT0FBTyxRQUV4RGkxQyxLQUNGNW5FLEtBQUsrK0IsUUFBUTVNLGNBQWMsVUFBVS9VLFVBQVV1VixPQUFPLE9BRXREM3lCLEtBQUsrK0IsUUFBUTVNLGNBQWMsVUFBVS9VLFVBQVVqSCxJQUFJLE9sQ3pFbERtcEUsSUFDRUEsR0FBTTloQyxha0MyRVR4OUMsS0FBSysrQixRQUFRNU0sY0FBYyxvQkFBb0IvVSxVQUFVdVYsT0FBTyxPQUVoRTN5QixLQUFLKytCLFFBQVE1TSxjQUFjLG9CQUFvQi9VLFVBQVVqSCxJQUFJLFFsQzFINUQsTUFBTTR0RSxHQUEwQixJQUFNekUsR0FDN0MsSUFBSSxJQUFTLEVBQ04sTUFBTTBFLEdBQW9CLElBQU0sSUFBUyxFQUNuQ0MsR0FBcUIsSUFBTSxJQUFTLEVBRzFDLFNBQVNqUCxLQUNkLElBQUtzSyxHQUFTLE9BQ2QsTUFBTWp1QyxFQUFNLE1BQ04sY0FBRW1qQixHQUFrQjdDLEtBQzFCcXlCLEtBQ0ExRSxHQUFNbDZCLE1BQU1pUSxLQUNUeHBELFFBQ0VpRixJQUE4QyxJQUF4QkEsRUFBR2lvRCxVQUFVcDNELFVBQWtCbVAsRUFBR2lvRCxVQUFVN21ELE1BQU1nSCxHQUFTQSxJQUFTczdDLE9BQ3RGMWpELEVBQUdrM0IsV0FBVyt0QixVQUFZcEUsS0FBUTRDLGNBQWtCempELEVBQUdrM0IsV0FBVzh0QixRQUFVbkUsS0FBUTRDLGdCQUMxRmx5RCxLQUFLeU8sR0FBTyxHQUFjdWdDLEVBQUt2Z0MsS0FDL0JqRixRQUFRaUYsS0FBU0EsS0FDcEJ3dUUsR0FBTXQ1QixhQUFhLEtBQXNCM2pELEtBQUt5TyxHQUFPLEdBQWN1Z0MsRUFBS3ZnQyxNQUN4RW16RSxLQU1GLFNBQVNDLEdBQVFwekUsR0FDZkEsRUFBR3VYLE1BQU1pTixJQUFNLEdBQ2Z4a0IsRUFBR3VYLE1BQU10VixLQUFPLEdBQ2hCakMsRUFBR3VYLE1BQU1yVixNQUFRLEdBQ2pCbEMsRUFBR3VYLE1BQU1rTixPQUFTLEdBQ2xCemtCLEVBQUd1WCxNQUFNK0ssTUFBUSxHQUNqQnRpQixFQUFHdVgsTUFBTWdOLE9BQVMsR0FDbEJ2a0IsRUFBR3VYLE1BQU15ZSxPQUFTLEdBQ2xCaDJCLEVBQUd1WCxNQUFNd2UsUUFBVSxHQUNuQi8xQixFQUFHdVgsTUFBTWtxQixPQUFTLEdBQ2xCemhDLEVBQUd1WCxNQUFNdzBCLFVBQVksR0FDckIvckMsRUFBR3VYLE1BQU16SCxTQUFXLEdBeUJmLFNBQVN1L0QsR0FBWWgwRCxHQUNyQm16RCxJQUNEQSxHQUFNbitDLFVBQVloVixJQUNwQm16RCxHQUFNbitDLFNBQVdoVixHQUdkLFNBQVMwNUIsS0FDVHk1QixJQUVMQSxHQUFNejVCLGVBUUQsU0FBU3RPLEdBQW9CaDZDLEVBQWM0d0MsR0FDaEQsR0FBS214QyxHQUNMLE9BQU9BLEdBQU0vbkMsb0JBQW9CaDZDLEVBQU00d0MsR0FNekMsU0FBU2cyQyxHQUE0QmgyQyxHQUNuQyxNQUFPLElBQUlqdkMsS0FFVDhrRixLQUVBLE1BQU10M0UsRUFBTXloQyxLQUFPanZDLEdBSW5CLE9BRkEra0YsS0FFT3YzRSxHQUlYLFNBQVMwM0UsR0FBYTkvQixHQUNwQixJQUFLZzdCLEdBQWdELFlBQXZDbDNFLFFBQVF1NkMsS0FBSyx5QkFDM0IsTUFBTXRSLEVBQU0sS0FDWmlULEVBQVNsMkMsU0FBUzBDLElBQ2hCLE1BQU15cEIsRUFBU2krQixHQUFVMW5ELEdBQ25CMDBDLEVBQVdqckIsRUFBUyxHQUFjOFcsRUFBSzlXLEdBQVU4VyxFQUFJaFUsS0FDdkQ5QyxJQUFXaXJCLEVBRWJwOUMsUUFBUXU2QyxLQUFLLDRDQUdiMjhCLEdBQU12NUIsV0FBVyxHQUFjMVUsRUFBS3ZnQyxJQUFLLE1BR3pDd3pDLEVBQVMzaUQsU0FFWHBDLFlBQVcsS0FFVCsvRSxHQUFNbmdDLE9BQU9tRixFQUFTamlELEtBQUt5TyxHQUFPLEdBQWN1Z0MsRUFBS3ZnQyxRQUNwRCxLQUVId3VFLEdBQU10NUIsYUFBYSxLQUFzQjNqRCxLQUFLeU8sR0FBTyxHQUFjdWdDLEVBQUt2Z0MsT0FJNUUsU0FBUyxHQUFpQnd6QyxHQUNuQmc3QixHQUNMaDdCLEVBQVNsMkMsU0FBUzBDLElBQ2hCd3VFLEdBQU1oNUIsY0FBY3gxQyxFQUFHc0UsT0FGWGhOLFFBQVF1NkMsS0FBSyw0QkFNN0IsU0FBUzBoQyxHQUFnQnBoQixHQUN2QixJQUFLcWMsR0FBbUQsWUFBMUNsM0UsUUFBUXU2QyxLQUFLLDRCQUUzQixNQUFNdFIsRUFBTSxLQUNaNHhCLEVBQU83MEQsU0FBUSxFQUFFN0csT0FBTWlxRCxTQUNyQixNQUFNMlAsRUFBUSxHQUFjOXZCLEVBQUttZ0IsR0FDM0J6cEQsRUFBUWc4RSxLQUFXOTlCLGFBQWF1TCxFQUFHcDhDLElBQ3pDLEdBQUkrckQsRUFBSixDQU1BLEdBQUkzUCxFQUFHbmUsV0FBYTlyQyxFQUFLOHJDLFNBQVUsQ0FDakMsTUFBTWMsRUFBWW1yQyxHQUFNOXJDLGVBQ2xCNGlDLEVBQVFqaUMsRUFBVWppQyxNQUFNeTVCLEdBQU1BLEVBQUU3NkIsS0FBT3F3RCxJQUM3QyxHQUFJM1AsRUFBR25lLFVBQ0wsSUFBSytpQyxFQUFPLENBQ1YsTUFBTTk1QixFQUFlbkksRUFBVTl4QyxLQUFLc3BDLEdBQU1BLEVBQUU3NkIsS0FBSXBILE9BQU8sQ0FBQ3kzRCxJQUN4RDRpQixLQUFXLzlCLGFBQWExSixTQUd0Qjg1QixHQUNGMk4sS0FBVy85QixhQUFhN1IsRUFBVXRvQyxRQUFROC9CLEdBQU1BLElBQU15cUMsSUFBTy96RSxLQUFLc3BDLEdBQU1BLEVBQUU3NkIsTUFLNUUwZ0QsRUFBR3hwQixXQUFXK3RCLFVBQVl4dUQsRUFBS3lnQyxXQUFXK3RCLFVBQ3hDdkUsRUFBR3hwQixXQUFXK3RCLFFBQ1hwRSxLQUFRNEMsY0FDWHd2QixLQUFXaCtCLFdBQVdvYixHQUduQnhQLEtBQVE0QyxjQUVYd3ZCLEtBQVd6OUIsY0FBY3YrQyxFQUFNcU4sS0FLakNvOEMsRUFBRzd6QixVQUFZcDJCLEVBQUtvMkIsVUFFdEIyaEQsR0FBTWg1QixjQUFjditDLEVBQU1xTixJQUMxQmtxRSxHQUFNdjVCLFdBQVdvYixHQUVqQm1lLEdBQU10NUIsYUFBYSxLQUFzQjNqRCxLQUFLeU8sR0FBTyxHQUFjdWdDLEVBQUt2Z0MsT0FFdEUwZ0QsRUFBR3hwQixXQUFXOHRCLFNBQVd2dUQsRUFBS3lnQyxXQUFXOHRCLFFBQ3ZDdEUsRUFBR3hwQixXQUFXOHRCLFFBQ1puRSxLQUFRNEMsY0FDVnd2QixLQUFXaCtCLFdBQVdvYixHQUl4QjNQLEVBQUducEMsTUFBVTlnQixFQUFLOGdCLFdBL0NwQmpnQixRQUFRMEwsTUFBTSxPQUFRdk0sRUFBTWlxRCxNQXNEaEMsTUFBTTh5QixFQUFxQnJoQixFQUN4QnAzRCxRQUFPLEVBQUV0RSxPQUFNaXFELFFBQVFqcUQsRUFBSzhnQixRQUFVbXBDLEVBQUducEMsT0FBUzlnQixFQUFLNlYsWUFBY28wQyxFQUFHcDBDLFlBQ3hFL2EsS0FBSSxFQUFFbXZELFFBQVEsR0FBYyxLQUFtQkEsS0FFL0M5bkQsT0FBT3U1RCxFQUVMc2hCLFNBQVEsRUFBRS95QixRQUFRK0csR0FBcUIvRyxLQUN2Q252RCxLQUFLeU8sR0FBTyxHQUFjLEtBQW1CQSxNQUdsRHd1RSxHQUFNbjZCLGNBQWNtL0IsR0FJdEIsSUFBSWxlLEdtQ3JPQThDLEduQzhPSixNQUFNNUMsR0FLSi82RCxjQUhRLEtBQUF5M0IsVUFBVyxFQUNYLEtBQUF3aEQsaUJBQW1CLEdBR3pCNXlCLElBQVksQ0FBQzVZLEVBQW9CdndDLEtBQzFCNjJFLEtBQ0F0bUMsR0FBYUEsRUFBVXViLGVBQWlCOXJELEVBQVU4ckQsY0FFckRoMUQsWUFBVyxJQUFNeTFFLE1BQWMsR0FFNUJoOEIsR0FBYUEsRUFBVXViLGVBQWlCOXJELEVBQVU4ckQsY0FDckQxTyxLQUVFN00sR0FBYUEsRUFBVXdiLGdCQUFrQi9yRCxFQUFVK3JELGVBRXJEajFELFlBQVcsSUFBTXkxRSxNQUFjLE9BR25DN2IsSUFBYyxDQUFDbmdCLEVBQXNCdndDLEtBQzlCNjJFLElBQ0R0bUMsRUFBVTJhLFlBQWNsckQsRUFBVWtyRCxXQUVwQzJyQixHQUFNbjZCLG1CQUdWbVEsR0FBa0JyRSxHQUEyQixDQUMzQ0MsTUFBT2l6QixHQUFzQkMsSUFDN0JqekIsU0FBVWd6QixHQUFzQixJQUNoQy95QixTQUFVK3lCLEdBQXNCRSxPQUlwQzF1QyxVQUVRMzFDLEtBQUtzL0UsUUFDVHQvRSxLQUFLcy9FLE1BQU0zcEMsVUFDWDMxQyxLQUFLcy9FLE1BQVEsS0FDYkEsR0FBUSxNQUVWdC9FLEtBQUt3a0YsaUJBQWlCcDJFLFNBQVN3bkMsR0FBTUEsTUFDckM1MUMsS0FBS3drRixpQkFBbUIsR0FHMUI3ekQsS0FBS3hJLEdBQ0hub0IsS0FBSzIxQyxVQUVMMnBDLEdBQVF0L0UsS0FBS3MvRSxNQUFRLElBQUlqN0IsR0FBTWw4QixFQUFRLEdBQUksQ0FDekNxOEIsTUFBUTF6QyxHQUFvQjB6QyxHQUFNMXpDLEdBQ2xDMnpDLGFBQWUzekMsSUFDTixFQUVUNHpDLFlBQWM1ekMsR0FDSXNuRCxHQUFlNVQsR0FBTTF6QyxJQUN0Qm12RCxXQUVqQjVyQixXQUFhdmpDLEdBQ0tzbkQsR0FBZTVULEdBQU0xekMsSUFDdEJvdkQsV0FFakJ2dEIsYUFBZ0I3aEMsSUFDZCxNQUFNaXVCLEVBQVVxNUIsR0FBZTVULEdBQU0xekMsSUFHckMsUUFEMEI2Z0QsS0FBUTRDLGNBQWdCeDFCLEVBQVF4aEMsT0FBU2lpRCxHQUFZbVcsV0FLOUNoRSxLQUFRNEMsY0FBZ0J4MUIsRUFBUTIyQixpQkFFeEQsQ0FDTHBnQyxJQUFLeUosRUFBUW9oQyxhQUFhN3FDLElBQzFCdmlCLE1BQU0sRUFDTndpQixPQUFRd0osRUFBUW9oQyxhQUFhNXFDLE9BQzdCdmlCLE9BQU8sR0FJSityQixFQUFRb2hDLGVBRWpCeHVCLGFBQWU3Z0MsR0FDR3NuRCxHQUFlNVQsR0FBTTF6QyxJQUN0QjZnQyxhQUVqQmtNLFFBQVMsQ0FBRS9zQyxFQUFpQjhzQyxJQUNWd2EsR0FBZTVULEdBQU0xekMsSUFFdEJ2VCxPQUFTaWlELEdBQVltVyxTQUNJLFNBQW5DL1gsRUFBU2pnQixRQUFRMVosY0FFeEJneUIsT0FBUSxLQUNEbkksR0FBYXZTLFVBQ2hCaW9ELE1BR0p6cEMsU0FBV2twQixHQUFXampFLEtBQUt5a0YsV0FBV3hoQixHQUN0Q25yQixPQUFTbXJCLEdBQVdqakUsS0FBSzBrRixTQUFTemhCLEdBQ2xDbm5CLFlBQWNtbkIsR0FBV2pqRSxLQUFLMmtGLFdBQVcxaEIsR0FHekNqcEIsU0FBV2lwQixHQUFXampFLEtBQUs0a0YsbUJBQW1CM2hCLEdBQzlDenFCLFlBQWN5cUIsR0FBV2pqRSxLQUFLNGxELFlBQzlCckssY0FBZ0IwbkIsR0FBV2pqRSxLQUFLNmtGLGdCQUdsQ3RsRixZQUFXLElBQU15MUUsTUFBYyxLQUcvQnoxRSxZQUFXLEtBQ1RTLEtBQUt3a0YsaUJBQWlCL2dGLEtBQ3BCOHpDLEdBQW9CLGFBQWMxMEMsSUFFNUJwSCxTQUFZb0gsRUFBRXFMLE9BQXVCb29CLGNBQWNDLGFBQ3JEc3dCLFdBSUwsR0FFTC9WLFlBQ0UsT0FBSzl3QyxLQUFLcy9FLE1BQ0h0L0UsS0FBS3MvRSxNQUFNeHVDLFlBRFEsQ0FBQzdxQixFQUFHLEVBQUdtUCxFQUFHLEdBRzlCMHZELG9CQUNOOWtGLEtBQUtnakMsVUFBVyxFQUdWNmhELGNBRU4sS0FBa0J4bkQsS0FBS2pnQixVQUFVakgsSUFBSXV3QyxHQUFVaUMscUJBQy9DM29ELEtBQUs4a0Ysb0JBRUNsL0IsWUFFTixLQUFrQnZvQixLQUFLamdCLFVBQVVqSCxJQUFJdXdDLEdBQVVrQyxxQkFDL0M1b0QsS0FBSzhrRixvQkFFQ0MsaUJBQWlCQyxHQUN2QmhsRixLQUFLZ2pDLFVBQVcsRUFDaEJoakMsS0FBS3lrRixXQUFXTyxHQUVWTCxXQUFXSyxHQUVqQixLQUFrQjNuRCxLQUFLamdCLFVBQVV1VixPQUFPK3pCLEdBQVVpQyxxQkFDbEQzb0QsS0FBSytrRixpQkFBaUJDLEdBRWhCTixTQUFTTSxHQUVmLEtBQWtCM25ELEtBQUtqZ0IsVUFBVXVWLE9BQU8rekIsR0FBVWtDLHFCQUNsRDVvRCxLQUFLK2tGLGlCQUFpQkMsR0FHdEIsTUFhTUMsRUFib0dELEVBQ3ZHM2lGLEtBQUswd0MsSUFBZSxDQUVuQmhVLFFBQVNzNUIsR0FBdUIsS0FBbUJ0bEIsRUFBV2ppQyxJQUM5RDR1RCxVQUFXckgsR0FBdUIsS0FBbUJ0bEIsRUFBV2ppQyxHQUFHNGlDLGVBQ25Fc0wsSUFBS3grQyxNQUFNK0csS0FBS3dyQyxFQUFXamlDLEdBQUc0aUMsY0FBYzlPLFVBQVV0NkIsUUFBUXlvQyxFQUFXamlDLFFBRTFFek8sS0FBSSxFQUFFMDhCLFVBQVMyZ0MsWUFBVzFnQixVQUFTLENBQ2xDamdCLFVBQVMyZ0MsWUFBVzFnQixNQUNwQmttQyxVQUFXMXNCLEdBQVV6NUIsT0FFdEJsekIsUUFBTyxFQUFFa3pCLFVBQVMyZ0MsWUFBV3dsQixZQUFXbG1DLFNBQVMwZ0IsSUFBY3dsQixHQUFhQSxFQUFVdGdELFNBQVN0NkIsUUFBUXkwQixFQUFRM3BCLE1BQVE0cEMsSUFHdkh6NkMsUUFBTyxDQUFDc3JDLEdBQU85USxVQUFTMmdDLFlBQVd3bEIsWUFBV2xtQyxVQUM3QyxNQUFNbW1DLEVBQXVCdDFDLEVBQUszOUIsTUFBTXkrQyxHQUFTQSxFQUFLdjdDLEtBQU9zcUQsRUFBVXRxRCxLQVV2RSxHQVRJK3ZFLEVBQXNCQSxFQUFxQnZnRCxTQUFXMndCLEdBQ3hENHZCLEVBQXFCdmdELFNBQVMvNEIsUUFBUXVKLEdBQU9BLElBQU8ycEIsRUFBUTNwQixLQUM1RDRwQyxFQUFLamdCLEVBQVEzcEIsSUFDVnk2QixFQUFLcHNDLEtBQUssSUFDVmk4RCxFQUNIOTZCLFNBQVUyd0IsR0FDUm1LLEVBQVU5NkIsU0FBUy80QixRQUFRdUosR0FBT0EsSUFBTzJwQixFQUFRM3BCLEtBQ2pENHBDLEVBQUtqZ0IsRUFBUTNwQixNQUVYOHZFLEdBQWFBLEVBQVU5dkUsS0FBT3NxRCxFQUFVdHFELEdBQUksQ0FFaEQsTUFBTWd3RSxFQUF1Qmh0QixHQUFlOHNCLEVBQVU5dkUsR0FBSXk2QixHQUN0RHUxQyxFQUFzQkEsRUFBcUJ4Z0QsU0FBV3dnRCxFQUFxQnhnRCxTQUFTLzRCLFFBQVF1SixHQUFPQSxJQUFPMnBCLEVBQVEzcEIsS0FDakh5NkIsRUFBS3BzQyxLQUFLLElBQ1Z5aEYsRUFDSHRnRCxTQUFVc2dELEVBQVV0Z0QsU0FBUy80QixRQUFRdUosR0FBT0EsSUFBTzJwQixFQUFRM3BCLE9BRy9ELE9BQU95NkIsSUFDTixJQUVMdWxCLEdBQWU2dkIsR0FFVEwsbUJBQW1CSSxHQUN6QixHQUFJLEdBRUYsT0FFRixNQUFNSyxFQUFnQkwsRUFDckIzaUYsS0FBSzB3QyxJQUVHLENBQ0xoVSxRQUFTczJCLEtBQWNuakQsTUFBTXBCLEdBQU8sR0FBYyxLQUFtQkEsS0FBUWlpQyxFQUFXamlDLEtBQ3hGaWlDLGlCQUdIbG5DLFFBQU8sRUFBRWt6QixVQUFTZ1UsZ0JBQWdCaFUsR0FBV0EsRUFBUXNVLFdBQWFOLEVBQVdNLFdBQzdFaHhDLEtBQUksRUFBRTA4QixVQUFTZ1UsaUJBQ1AsSUFDRmhVLEVBQ0hzVSxTQUFVTixFQUFXTSxhQUduQmhXLEVBQU9zN0IsS0FFYnZELEdBQWUvM0IsRUFBS2dXLFNBQVdneUMsRUFBYzM3RSxPQUFPLENBQUMsSUFDaEQyekIsRUFDSGdXLFVBQVUsS0FDTmd5QyxHQUUrQixJQUFqQyxLQUFzQjFqRixRQUN4QnNnRSxLQU1Jd2lCLFdBQVd4aEIsR0FDYixJQUtDampFLEtBQUtnakMsV0FFUmlnQyxFQUFPNzBELFNBQVN1OUIsSUFFZHU0QyxHQUFRdjRDLEVBQUU3NkIsSUFHVnRRLE1BQU0rRyxLQUFLb2tDLEVBQUU3NkIsR0FBR29oQixpQkFBaUIsSUFBTXcwQixHQUFVcUMsc0JBQ2hEMzZDLFNBQVMwQyxHQUFvQm96RSxHQUFRcHpFLFFBR3hDc2tELEdBQWU2TixFQUFPNWdFLEtBQUtzcEMsSUFFekIsTUFBTTVNLEVBQVVzMkIsS0FBY25qRCxNQUFNcEIsR0FBTyxHQUFjLEtBQW1CQSxLQUFRNjZCLEVBQUU3NkIsS0FDdEYsSUFBSzZnRCxLQUFRNEMsYUFBYyxDQUd6QixNQUFNbmhDLEVBQVF1WSxFQUFFd0YsUUFBUWdCLGtCQUFrQi9lLE1BQ3RDMkwsRUFBUTIyQixrQkFBb0J3RCxLQUFVOWxDLFFBQVVBLEdBRWxENmxDLEdBQVcsSUFDTkMsS0FDSDlsQyxVQW1CTixNQUFPLElBQ0YyTCxFQUNIMVcsTUFBTyxJQUNGMFcsRUFBUTFXLE1BQ1gsQ0FBQ3NwQyxLQUFRNEMsYUFBZSxTQUFXLFdBQVlrQixHQUFtQjEyQixFQUFTQSxFQUFRMjJCLGlCQUFrQixJQUM3Ri9ELEtBQVE0QyxhQUFleDFCLEVBQVExVyxNQUFNeXRDLE9BQVMvMkIsRUFBUTFXLE1BQU0wdEMsUUFDaEUxZ0MsT0FBUXNXLEVBQUV3RixRQUFRZ0Isa0JBQWtCOWMsT0FBUyxLQUM3Q0MsSUFBS3FXLEVBQUV3RixRQUFRZ0Isa0JBQWtCN2MsSUFBTSxLQUN2Q3ZpQixLQUFNNDRCLEVBQUV3RixRQUFRZ0Isa0JBQWtCcC9CLEtBQU8sS0FDekNxZ0IsTUFBT3VZLEVBQUV3RixRQUFRZ0Isa0JBQWtCL2UsTUFBUSxlb0MvZnBELE1BQU1reUQsR0F1QlgvNUUsWUFBbUJ3ekIsRUFBc0J3bUQsR0FBdEIsS0FBQXhtRCxVQWhCbkIsS0FBQXltRCxVQUEyQixHQUMzQixLQUFBQyxXQUE0QixHQUs1QixLQUFBQyxRQUFrQixFQVFsQixLQUFBQyxZQUE4QixHQUc1QjNsRixLQUFLNGxGLFNBQVdMLEVBR2hCdmxGLEtBQUsrK0IsUUFBUS9LLGlCQUFpQixhQUFjbnhCLEdBQU03QyxLQUFLNmxGLFlBQVloakYsS0FBSSxHQUd2RXBILE9BQU91NEIsaUJBQWlCLFVBQVUsSUFBTWgwQixLQUFLOHBFLFdBQVUsR0FNekRnYyxRQUFRL21ELEdBQ04vK0IsS0FBS3dsRixVQUFVL2hGLEtBQUtzN0IsR0FDcEIvK0IsS0FBSzhwRSxTQU1QVixTQUFTcnFDLEdBQ1AvK0IsS0FBS3lsRixXQUFXaGlGLEtBQUtzN0IsR0FDckIvK0IsS0FBSzhwRSxTQU1QbjNDLE9BQU9vTSxHQUNMLytCLEtBQUt5bEYsV0FBV3JrRixPQUFPcEIsS0FBS3lsRixXQUFXbjdFLFFBQVF5MEIsR0FBVSxHQUN6REEsRUFBUTFXLE1BQU10VixLQUFPLEdBQ3JCZ3NCLEVBQVExVyxNQUFNclYsTUFBUSxHQUN0QmhULEtBQUs4cEUsU0FNUEEsT0FBT2ljLEdBQWEsR0FDbEIsTUFBTXI1RCxFQUFNMXNCLEtBQUsrK0IsUUFBUUssd0JBQ25Ca2lDLEVBQWF0aEUsS0FBSysrQixRQUFRMlUsY0FBY3RVLHdCQUc5Q3AvQixLQUFLd2xGLFVBQVVwM0UsU0FBUzJ3QixJQUN0QkEsRUFBUTFXLE1BQU1yVixNQUFRc3VELEVBQVdsdUMsTUFBUTFHLEVBQUkzWixLQUFPLFFBRXREL1MsS0FBS3lsRixXQUFXcjNFLFNBQVMyd0IsSUFDdkJBLEVBQVExVyxNQUFNdFYsS0FBT3V5RSxHQUFTVSxNQUFRdDVELEVBQUkzWixLQUFPLFFBRS9DZ3pFLEdBQWMvbEYsS0FBSzRsRixVQUNyQjVsRixLQUFLNGxGLFdBR1RDLFlBQVlJLEdBQ1ZqbUYsS0FBSzBsRixRQUFTLEVBR2QxbEYsS0FBSzJsRixZQUFZbGlGLEtBQ2Y4ekMsR0FBb0IsYUFBYzEwQyxHQUFrQjdDLEtBQUtpZ0MsWUFBWXA5QixLQUNyRTAwQyxHQUFvQixXQUFZMTBDLEdBQWtCN0MsS0FBS2ttRixVQUFVcmpGLE1BT3JFcWpGLFVBQVVyakYsR0FDUjdDLEtBQUswbEYsUUFBUyxFQUNkMWxGLEtBQUsybEYsWUFBWXYzRSxTQUFTeE0sR0FBVUEsTUFDcEM1QixLQUFLMmxGLFlBQWMsR0FNckIxbEQsWUFBWXA5QixHQUNWLElBQUltUSxFQUFRN1csU0FBUzZELEtBQUsrK0IsUUFBUTFXLE1BQU1yVixPQUN4QyxHQUFpQyxLQUE3QmhULEtBQUsrK0IsUUFBUTFXLE1BQU1yVixNQUFjLENBQ25DLE1BQU1zdUQsRUFBYXRoRSxLQUFLKytCLFFBQVEyVSxjQUFjdFUsd0JBQ3hDMVMsRUFBTzdwQixFQUFFcUwsT0FBdUJreEIsd0JBQ3RDcHNCLEVBQVFzdUQsRUFBV3R1RCxNQUFRMFosRUFBSTFaLE1BRWpDaFQsS0FBSysrQixRQUFRMVcsTUFBTXJWLE1BQVNBLEVBQVFuUSxFQUFFMnhDLFVBQWEsS0FDbkR4MEMsS0FBSzhwRSxTQUNMamtCLE1EaEhHLFNBQVNzakIsS0FNZCxPQUpLRCxLQUFjQSxHQUFlLElBQUlvYyxHQUFTdjVCLEtBQWdCYyxrQkFBa0IsS0FDL0VoSCxTQUdLcWpCLEdDR0EsR0FBQThjLE1BQVEsRUNLakIsTUFBTUcsR0FDSjU2RSxZQUFvQnd6QixHQUFBLEtBQUFBLFVBQ2xCdTJCLElBQWtCLElBQU10MUQsS0FBSzhwRSxXQU12QkEsU0FFTixTQUFTdmtCLEVBQVd4bUIsR0FDbEIsTUFBTXhFLEVBQVNpK0IsR0FBVXo1QixHQUN6QixPQUFPeEUsRUFBVWkrQixHQUFVaitCLEdBQVUsQ0FBQ0EsR0FBUTd3QixPQUFPNjdDLEVBQVdockIsSUFBVyxDQUFDQSxHQUFXLEdBSXpGLEtBQU92NkIsS0FBSysrQixRQUFRd1EsV0FBVzV0QyxRQUM3QjNCLEtBQUtvbUYsWUFBYXBtRixLQUFLKytCLFFBQVF3USxXQUFXLElBSzVDLE1BQU1reEMsRUFBbUIsS0FDdEJwK0UsS0FBS3lPLElBQU8sQ0FDWEEsS0FDQXUxRSxRQUFTOWdDLEVBQVd6MEMsT0FFckIyeEQsTUFBSyxDQUFDNmpCLEVBQU9DLElBQVVBLEVBQU1GLFFBQVExa0YsT0FBUzJrRixFQUFNRCxRQUFRMWtGLFNBRS9ELEdBQUk4K0UsRUFBaUI5K0UsT0FBUSxDQUMzQixNQUFNNmtGLEVBQVUvRixFQUFpQnJmLFFBR2pDLElBQUlxbEIsRUFBWUQsRUFBUUgsUUFDeEI1RixFQUFpQnJ5RSxTQUFRLEVBQUUwQyxLQUFJdTFFLGNBQzdCLE1BQU1LLEVBQWUsR0FDckIsSUFBSTFuQyxFQUFNLEVBQ1YsS0FBT0EsRUFBTXluQyxFQUFVOWtGLFFBQVVxOUMsRUFBTXFuQyxFQUFRMWtGLFFBQVU4a0YsRUFBVXpuQyxLQUFTcW5DLEVBQVFybkMsSUFDbEYwbkMsRUFBYWpqRixLQUFLZ2pGLEVBQVV6bkMsTUFFOUJ5bkMsRUFBWUMsS0FJa0IsSUFBNUJqRyxFQUFpQjkrRSxRQUNuQjhrRixFQUFVRSxRQUFRSCxFQUFRMTFFLElBSTVCMjFFLEVBQ0dHLFVBQ0F4NEUsU0FBU3k0RSxHQUFhN21GLEtBQUs4bUYsU0FBU0QsTUFPbkNDLFNBQVMvbkQsR0FFZixJQURjLEdBQWMsS0FBbUJBLEdBQ3BDLE9BRVgsTUFBTWdvRCxFQUFRcnJGLFNBQVNDLGNBQWMsT0FDL0JxckYsRUFBa0Jqb0QsRUFBUTNoQixVQUM3QnZSLFFBQVErbEIsSUFBZTgwQixHQUFVeUUsa0JBQWtCbDZDLFNBQVMyZ0IsS0FDekRtcEMsRUFBYWlzQixFQUFnQnJsRixPQUFTLElBQU1xbEYsRUFBZ0JsaEUsS0FBSyxLQUFPLEdBR3hFazNDLEVBRFV0RSxHQUFPMzVCLEdBQ08sT0FBUzQ3QixHQUFZNTdCLEdBQVcsWUFBYzJpQyxHQUFlM2lDLEdBQzNGZ29ELEVBQU0zcEUsVUFBVWpILElBQUksU0FDcEI0d0UsRUFBTXJqRCxVQUFZczVCLEVBQWNqQyxFQUNoQ2dzQixFQUFNMStELE1BQU00eEIsUUFBVSxJQUFNajZDLEtBQUsrK0IsUUFBUXdRLFdBQVc1dEMsUUFBUTlFLFdBQzVEbUQsS0FBSysrQixRQUFReFcsWUFBWXcrRCxHQUN6QkEsRUFBTXI0QyxRQUFVLElBQU0wbUIsR0FBZUMsS0FDbEN4cEQsUUFBUWlGLEdBQU9BLEVBQUd1aUMsVUFBWXZpQyxJQUFPaXVCLElBQ3JDMThCLEtBQUt5TyxJQUFPLElBQ1JBLEVBQ0h1aUMsU0FBVXZpQyxJQUFPaXVCLE9BRXJCLE1BQ01rb0QsRUFBTXZyRixTQUFTQyxjQUFjLE9BQ25Dc3JGLEVBQUk3cEUsVUFBVWpILElBQUksT0FDbEI4d0UsRUFBSXZqRCxVQUhRLHNMQUlaMWpDLEtBQUsrK0IsUUFBUXhXLFlBQVkwK0QsR0FNbkJiLFlBQVlXLEdBQ2xCL21GLEtBQUsrK0IsUUFBUXpLLFlBQVl5eUQsSUNqSDdCLFNBQVN6N0UsR0FBUXhILEdBV2YsT0FURXdILEdBRG9CLG1CQUFYakUsUUFBb0QsaUJBQXBCQSxPQUFPQyxTQUN0QyxTQUFVeEQsR0FDbEIsY0FBY0EsR0FHTixTQUFVQSxHQUNsQixPQUFPQSxHQUF5QixtQkFBWHVELFFBQXlCdkQsRUFBSXlILGNBQWdCbEUsUUFBVXZELElBQVF1RCxPQUFPekssVUFBWSxnQkFBa0JrSCxHQUl0SHdILEdBQVF4SCxHQUdqQixTQUFTLEdBQWdCQSxFQUFLM0IsRUFBSzdFLEdBWWpDLE9BWEk2RSxLQUFPMkIsRUFDVHhILE9BQU80SixlQUFlcEMsRUFBSzNCLEVBQUssQ0FDOUI3RSxNQUFPQSxFQUNQMk4sWUFBWSxFQUNadUQsY0FBYyxFQUNkQyxVQUFVLElBR1ozSyxFQUFJM0IsR0FBTzdFLEVBR053RyxFQUdULFNBQVNvakYsS0FlUCxPQWRBQSxHQUFXNXFGLE9BQU9zcUIsUUFBVSxTQUFVMVksR0FDcEMsSUFBSyxJQUFJaEssRUFBSSxFQUFHQSxFQUFJbkUsVUFBVTRCLE9BQVF1QyxJQUFLLENBQ3pDLElBQUlpSyxFQUFTcE8sVUFBVW1FLEdBRXZCLElBQUssSUFBSS9CLEtBQU9nTSxFQUNWN1IsT0FBT00sVUFBVXFFLGVBQWV2RCxLQUFLeVEsRUFBUWhNLEtBQy9DK0wsRUFBTy9MLEdBQU9nTSxFQUFPaE0sSUFLM0IsT0FBTytMLEdBR0ZnNUUsR0FBUzduRixNQUFNVyxLQUFNRCxXQUc5QixTQUFTNkwsR0FBY3NDLEdBQ3JCLElBQUssSUFBSWhLLEVBQUksRUFBR0EsRUFBSW5FLFVBQVU0QixPQUFRdUMsSUFBSyxDQUN6QyxJQUFJaUssRUFBeUIsTUFBaEJwTyxVQUFVbUUsR0FBYW5FLFVBQVVtRSxHQUFLLEdBQy9DMkosRUFBVXZSLE9BQU93RSxLQUFLcU4sR0FFa0IsbUJBQWpDN1IsT0FBT3lSLHdCQUNoQkYsRUFBVUEsRUFBUW5FLE9BQU9wTixPQUFPeVIsc0JBQXNCSSxHQUFRdEMsUUFBTyxTQUFVb0MsR0FDN0UsT0FBTzNSLE9BQU9tUix5QkFBeUJVLEVBQVFGLEdBQUtoRCxnQkFJeEQ0QyxFQUFRTyxTQUFRLFNBQVVqTSxHQUN4QixHQUFnQitMLEVBQVEvTCxFQUFLZ00sRUFBT2hNLE9BSXhDLE9BQU8rTCxFQWtCVCxTQUFTaTVFLEdBQXlCaDVFLEVBQVFpNUUsR0FDeEMsR0FBYyxNQUFWajVFLEVBQWdCLE1BQU8sR0FFM0IsSUFFSWhNLEVBQUsrQixFQUZMZ0ssRUFsQk4sU0FBdUNDLEVBQVFpNUUsR0FDN0MsR0FBYyxNQUFWajVFLEVBQWdCLE1BQU8sR0FDM0IsSUFFSWhNLEVBQUsrQixFQUZMZ0ssRUFBUyxHQUNUbTVFLEVBQWEvcUYsT0FBT3dFLEtBQUtxTixHQUc3QixJQUFLakssRUFBSSxFQUFHQSxFQUFJbWpGLEVBQVcxbEYsT0FBUXVDLElBQ2pDL0IsRUFBTWtsRixFQUFXbmpGLEdBQ2JrakYsRUFBUzk4RSxRQUFRbkksSUFBUSxJQUM3QitMLEVBQU8vTCxHQUFPZ00sRUFBT2hNLElBR3ZCLE9BQU8rTCxFQU1NbzVFLENBQThCbjVFLEVBQVFpNUUsR0FJbkQsR0FBSTlxRixPQUFPeVIsc0JBQXVCLENBQ2hDLElBQUl3NUUsRUFBbUJqckYsT0FBT3lSLHNCQUFzQkksR0FFcEQsSUFBS2pLLEVBQUksRUFBR0EsRUFBSXFqRixFQUFpQjVsRixPQUFRdUMsSUFDdkMvQixFQUFNb2xGLEVBQWlCcmpGLEdBQ25Ca2pGLEVBQVM5OEUsUUFBUW5JLElBQVEsR0FDeEI3RixPQUFPTSxVQUFVMmtCLHFCQUFxQjdqQixLQUFLeVEsRUFBUWhNLEtBQ3hEK0wsRUFBTy9MLEdBQU9nTSxFQUFPaE0sSUFJekIsT0FBTytMLEVBeUJULFNBQVMwUCxHQUFVbGIsR0FDakIsR0FBc0Isb0JBQVhqSCxRQUEwQkEsT0FBT2s3QixVQUMxQyxRQUVBQSxVQUFVL1ksVUFBVUYsTUFBTWhiLEdBSTlCLElBQUk4a0YsR0FBYTVwRSxHQUFVLHlEQUN2QjZwRSxHQUFPN3BFLEdBQVUsU0FDakI4cEUsR0FBVTlwRSxHQUFVLFlBQ3BCK3BFLEdBQVMvcEUsR0FBVSxhQUFlQSxHQUFVLGFBQWVBLEdBQVUsWUFDckVncUUsR0FBTWhxRSxHQUFVLG1CQUNoQmlxRSxHQUFtQmpxRSxHQUFVLFlBQWNBLEdBQVUsWUFFckRrcUUsR0FBYyxDQUNoQjNtRSxTQUFTLEVBQ1RnbEIsU0FBUyxHQUdYLFNBQVMwN0MsR0FBRy93RSxFQUFJMnJCLEVBQU8zYyxHQUNyQmhQLEVBQUdrakIsaUJBQWlCeUksRUFBTzNjLEdBQUswbkUsSUFBY00sSUFHaEQsU0FBU3ZGLEdBQUl6eEUsRUFBSTJyQixFQUFPM2MsR0FDdEJoUCxFQUFHeXNCLG9CQUFvQmQsRUFBTzNjLEdBQUswbkUsSUFBY00sSUFHbkQsU0FBU3orQyxHQUVUdjRCLEVBRUFpaEIsR0FDRSxHQUFLQSxFQUFMLENBR0EsR0FGZ0IsTUFBaEJBLEVBQVMsS0FBZUEsRUFBV0EsRUFBUzh0QixVQUFVLElBRWxEL3VDLEVBQ0YsSUFDRSxHQUFJQSxFQUFHdTRCLFFBQ0wsT0FBT3Y0QixFQUFHdTRCLFFBQVF0WCxHQUNiLEdBQUlqaEIsRUFBRzA0QixrQkFDWixPQUFPMTRCLEVBQUcwNEIsa0JBQWtCelgsR0FDdkIsR0FBSWpoQixFQUFHdzRCLHNCQUNaLE9BQU94NEIsRUFBR3c0QixzQkFBc0J2WCxHQUVsQyxNQUFPbEMsR0FDUCxPQUFPLEVBSVgsT0FBTyxHQUdULFNBQVNrNEQsR0FBZ0JqM0UsR0FDdkIsT0FBT0EsRUFBR2szRSxNQUFRbDNFLElBQU9wVixVQUFZb1YsRUFBR2szRSxLQUFLNTlDLFNBQVd0NUIsRUFBR2szRSxLQUFPbDNFLEVBQUcraUIsV0FHdkUsU0FBU28wRCxHQUVUbjNFLEVBRUFpaEIsRUFFQW0yRCxFQUFLQyxHQUNILEdBQUlyM0UsRUFBSSxDQUNObzNFLEVBQU1BLEdBQU94c0YsU0FFYixFQUFHLENBQ0QsR0FBZ0IsTUFBWnEyQixJQUFxQyxNQUFoQkEsRUFBUyxHQUFhamhCLEVBQUcraUIsYUFBZXEwRCxHQUFPNytDLEdBQVF2NEIsRUFBSWloQixHQUFZc1gsR0FBUXY0QixFQUFJaWhCLEtBQWNvMkQsR0FBY3IzRSxJQUFPbzNFLEVBQzdJLE9BQU9wM0UsRUFHVCxHQUFJQSxJQUFPbzNFLEVBQUssWUFFVHAzRSxFQUFLaTNFLEdBQWdCajNFLElBR2hDLE9BQU8sS0FHVCxJQWdXSXMzRSxHQWhXQUMsR0FBVSxPQUVkLFNBQVNDLEdBQVl4M0UsRUFBSW9JLEVBQU1uUixHQUM3QixHQUFJK0ksR0FBTW9JLEVBQ1IsR0FBSXBJLEVBQUdzTSxVQUNMdE0sRUFBR3NNLFVBQVVyVixFQUFRLE1BQVEsVUFBVW1SLE9BQ2xDLENBQ0wsSUFBSTBZLEdBQWEsSUFBTTlnQixFQUFHOGdCLFVBQVksS0FBSzl6QixRQUFRdXFGLEdBQVMsS0FBS3ZxRixRQUFRLElBQU1vYixFQUFPLElBQUssS0FDM0ZwSSxFQUFHOGdCLFdBQWFBLEdBQWE3cEIsRUFBUSxJQUFNbVIsRUFBTyxLQUFLcGIsUUFBUXVxRixHQUFTLE1BSzlFLFNBQVNFLEdBQUl6M0UsRUFBSS9NLEVBQU1xbUIsR0FDckIsSUFBSS9CLEVBQVF2WCxHQUFNQSxFQUFHdVgsTUFFckIsR0FBSUEsRUFBTyxDQUNULFFBQVksSUFBUitCLEVBT0YsT0FOSTF1QixTQUFTNjZCLGFBQWU3NkIsU0FBUzY2QixZQUFZaUIsaUJBQy9DcE4sRUFBTTF1QixTQUFTNjZCLFlBQVlpQixpQkFBaUIxbUIsRUFBSSxJQUN2Q0EsRUFBRzAzRSxlQUNacCtELEVBQU10WixFQUFHMDNFLG1CQUdLLElBQVR6a0YsRUFBa0JxbUIsRUFBTUEsRUFBSXJtQixHQUU3QkEsS0FBUXNrQixJQUFzQyxJQUE1QnRrQixFQUFLdUcsUUFBUSxZQUNuQ3ZHLEVBQU8sV0FBYUEsR0FHdEJza0IsRUFBTXRrQixHQUFRcW1CLEdBQXNCLGlCQUFSQSxFQUFtQixHQUFLLE9BSzFELFNBQVNxK0QsR0FBTzMzRSxFQUFJNDNFLEdBQ2xCLElBQUlDLEVBQW9CLEdBRXhCLEdBQWtCLGlCQUFQNzNFLEVBQ1Q2M0UsRUFBb0I3M0UsT0FFcEIsRUFBRyxDQUNELElBQUlpM0IsRUFBWXdnRCxHQUFJejNFLEVBQUksYUFFcEJpM0IsR0FBMkIsU0FBZEEsSUFDZjRnRCxFQUFvQjVnRCxFQUFZLElBQU00Z0QsVUFJaENELElBQWE1M0UsRUFBS0EsRUFBRytpQixhQUdqQyxJQUFJKzBELEVBQVdudEYsT0FBT290RixXQUFhcHRGLE9BQU9xdEYsaUJBQW1CcnRGLE9BQU9zdEYsV0FBYXR0RixPQUFPdXRGLFlBR3hGLE9BQU9KLEdBQVksSUFBSUEsRUFBU0QsR0FHbEMsU0FBU3oyRSxHQUFLZzJFLEVBQUt2cUQsRUFBU3IyQixHQUMxQixHQUFJNGdGLEVBQUssQ0FDUCxJQUFJMVgsRUFBTzBYLEVBQUllLHFCQUFxQnRyRCxHQUNoQ3o1QixFQUFJLEVBQ0o4SyxFQUFJd2hFLEVBQUs3dUUsT0FFYixHQUFJMkYsRUFDRixLQUFPcEQsRUFBSThLLEVBQUc5SyxJQUNab0QsRUFBU2twRSxFQUFLdHNFLEdBQUlBLEdBSXRCLE9BQU9zc0UsRUFHVCxNQUFPLEdBR1QsU0FBUzBZLEtBR1AsT0FGdUJ4dEYsU0FBU21vRCxrQkFLdkJub0QsU0FBUzBvQyxnQkFjcEIsU0FBUytrRCxHQUFRcjRFLEVBQUlzNEUsRUFBMkJDLEVBQTJCQyxFQUFXejZDLEdBQ3BGLEdBQUsvOUIsRUFBR3N1Qix1QkFBeUJ0dUIsSUFBT3JWLE9BQXhDLENBQ0EsSUFBSTh0RixFQUFRajBELEVBQUt2aUIsRUFBTXdpQixFQUFRdmlCLEVBQU9xaUIsRUFBUWpDLEVBbUI5QyxHQWpCSXRpQixJQUFPclYsUUFBVXFWLEVBQUcraUIsWUFBYy9pQixJQUFPbzRFLE1BRTNDNXpELEdBREFpMEQsRUFBU3o0RSxFQUFHc3VCLHlCQUNDOUosSUFDYnZpQixFQUFPdzJFLEVBQU94MkUsS0FDZHdpQixFQUFTZzBELEVBQU9oMEQsT0FDaEJ2aUIsRUFBUXUyRSxFQUFPdjJFLE1BQ2ZxaUIsRUFBU2swRCxFQUFPbDBELE9BQ2hCakMsRUFBUW0yRCxFQUFPbjJELFFBRWZrQyxFQUFNLEVBQ052aUIsRUFBTyxFQUNQd2lCLEVBQVM5NUIsT0FBTzZ6QyxZQUNoQnQ4QixFQUFRdlgsT0FBT2cyQyxXQUNmcGMsRUFBUzU1QixPQUFPNnpDLFlBQ2hCbGMsRUFBUTMzQixPQUFPZzJDLGFBR1oyM0MsR0FBNkJDLElBQThCdjRFLElBQU9yVixTQUVyRW96QyxFQUFZQSxHQUFhLzlCLEVBQUcraUIsWUFHdkIyekQsSUFDSCxHQUNFLEdBQUkzNEMsR0FBYUEsRUFBVXpQLHdCQUEwRCxTQUFoQ21wRCxHQUFJMTVDLEVBQVcsY0FBMkJ3NkMsR0FBNEQsV0FBL0JkLEdBQUkxNUMsRUFBVyxhQUEyQixDQUNwSyxJQUFJMjZDLEVBQWdCMzZDLEVBQVV6UCx3QkFFOUI5SixHQUFPazBELEVBQWNsMEQsSUFBTW41QixTQUFTb3NGLEdBQUkxNUMsRUFBVyxxQkFDbkQ5N0IsR0FBUXkyRSxFQUFjejJFLEtBQU81VyxTQUFTb3NGLEdBQUkxNUMsRUFBVyxzQkFDckR0WixFQUFTRCxFQUFNaTBELEVBQU9sMEQsT0FDdEJyaUIsRUFBUUQsRUFBT3cyRSxFQUFPbjJELE1BQ3RCLGFBSUt5YixFQUFZQSxFQUFVaGIsWUFJbkMsR0FBSXkxRCxHQUFheDRFLElBQU9yVixPQUFRLENBRTlCLElBQUlndUYsRUFBV2hCLEdBQU81NUMsR0FBYS85QixHQUMvQjQ0RSxFQUFTRCxHQUFZQSxFQUFTbm9FLEVBQzlCcW9FLEVBQVNGLEdBQVlBLEVBQVMxZSxFQUU5QjBlLElBS0ZsMEQsR0FKQUQsR0FBT3EwRCxJQUdQdDBELEdBQVVzMEQsR0FFVjMyRSxHQUpBRCxHQUFRMjJFLElBQ1J0MkQsR0FBU3MyRCxJQU9iLE1BQU8sQ0FDTHAwRCxJQUFLQSxFQUNMdmlCLEtBQU1BLEVBQ053aUIsT0FBUUEsRUFDUnZpQixNQUFPQSxFQUNQb2dCLE1BQU9BLEVBQ1BpQyxPQUFRQSxJQVlaLFNBQVN1MEQsR0FBZTk0RSxFQUFJKzRFLEVBQVFDLEdBS2xDLElBSkEsSUFBSXZ2RCxFQUFTd3ZELEdBQTJCajVFLEdBQUksR0FDeENrNUUsRUFBWWIsR0FBUXI0RSxHQUFJKzRFLEdBR3JCdHZELEdBQVEsQ0FDYixJQUFJMHZELEVBQWdCZCxHQUFRNXVELEdBQVF1dkQsR0FTcEMsS0FObUIsUUFBZkEsR0FBdUMsU0FBZkEsRUFDaEJFLEdBQWFDLEVBRWJELEdBQWFDLEdBR1gsT0FBTzF2RCxFQUNyQixHQUFJQSxJQUFXMnVELEtBQTZCLE1BQzVDM3VELEVBQVN3dkQsR0FBMkJ4dkQsR0FBUSxHQUc5QyxPQUFPLEVBWVQsU0FBUzJ2RCxHQUFTcDVFLEVBQUlxNUUsRUFBVS9yRixHQUs5QixJQUpBLElBQUlnc0YsRUFBZSxFQUNmbG1GLEVBQUksRUFDSjBnQyxFQUFXOXpCLEVBQUc4ekIsU0FFWDFnQyxFQUFJMGdDLEVBQVNqakMsUUFBUSxDQUMxQixHQUFrQyxTQUE5QmlqQyxFQUFTMWdDLEdBQUdta0IsTUFBTUMsU0FBc0JzYyxFQUFTMWdDLEtBQU9tbUYsR0FBU0MsT0FBUzFsRCxFQUFTMWdDLEtBQU9tbUYsR0FBU0UsU0FBV3RDLEdBQVFyakQsRUFBUzFnQyxHQUFJOUYsRUFBUWcxQyxVQUFXdGlDLEdBQUksR0FBUSxDQUNwSyxHQUFJczVFLElBQWlCRCxFQUNuQixPQUFPdmxELEVBQVMxZ0MsR0FHbEJrbUYsSUFHRmxtRixJQUdGLE9BQU8sS0FVVCxTQUFTc21GLEdBQVUxNUUsRUFBSWloQixHQUdyQixJQUZBLElBQUlrQixFQUFPbmlCLEVBQUcyNUUsaUJBRVB4M0QsSUFBU0EsSUFBU28zRCxHQUFTQyxPQUFrQyxTQUF6Qi9CLEdBQUl0MUQsRUFBTSxZQUF5QmxCLElBQWFzWCxHQUFRcFcsRUFBTWxCLEtBQ3ZHa0IsRUFBT0EsRUFBSzRyQix1QkFHZCxPQUFPNXJCLEdBQVEsS0FXakIsU0FBU3Z4QixHQUFNb1AsRUFBSWloQixHQUNqQixJQUFJcndCLEVBQVEsRUFFWixJQUFLb1AsSUFBT0EsRUFBRytpQixXQUNiLE9BQVEsRUFLVixLQUFPL2lCLEVBQUtBLEVBQUcrdEMsd0JBQ3FCLGFBQTlCL3RDLEVBQUc0NUUsU0FBUzdyRCxlQUFnQy90QixJQUFPdTVFLEdBQVN6bkMsT0FBVzd3QixJQUFZc1gsR0FBUXY0QixFQUFJaWhCLElBQ2pHcndCLElBSUosT0FBT0EsRUFVVCxTQUFTaXBGLEdBQXdCNzVFLEdBQy9CLElBQUl1aUIsRUFBYSxFQUNidTNELEVBQVksRUFDWkMsRUFBYzNCLEtBRWxCLEdBQUlwNEUsRUFDRixFQUFHLENBQ0QsSUFBSTI0RSxFQUFXaEIsR0FBTzMzRSxHQUNsQjQ0RSxFQUFTRCxFQUFTbm9FLEVBQ2xCcW9FLEVBQVNGLEVBQVMxZSxFQUN0QjEzQyxHQUFjdmlCLEVBQUdnekIsV0FBYTRsRCxFQUM5QmtCLEdBQWE5NUUsRUFBR3V6QixVQUFZc2xELFFBQ3JCNzRFLElBQU8rNUUsSUFBZ0IvNUUsRUFBS0EsRUFBRytpQixhQUcxQyxNQUFPLENBQUNSLEVBQVl1M0QsR0FzQnRCLFNBQVNiLEdBQTJCajVFLEVBQUlnNkUsR0FFdEMsSUFBS2g2RSxJQUFPQSxFQUFHc3VCLHNCQUF1QixPQUFPOHBELEtBQzdDLElBQUk2QixFQUFPajZFLEVBQ1BrNkUsR0FBVSxFQUVkLEdBRUUsR0FBSUQsRUFBSzN4RCxZQUFjMnhELEVBQUs3akQsYUFBZTZqRCxFQUFLN3hELGFBQWU2eEQsRUFBSy9qRCxhQUFjLENBQ2hGLElBQUlpa0QsRUFBVTFDLEdBQUl3QyxHQUVsQixHQUFJQSxFQUFLM3hELFlBQWMyeEQsRUFBSzdqRCxjQUFxQyxRQUFyQitqRCxFQUFRaHpELFdBQTRDLFVBQXJCZ3pELEVBQVFoekQsWUFBMEI4eUQsRUFBSzd4RCxhQUFlNnhELEVBQUsvakQsZUFBc0MsUUFBckJpa0QsRUFBUWx6RCxXQUE0QyxVQUFyQmt6RCxFQUFRbHpELFdBQXdCLENBQ3BOLElBQUtnekQsRUFBSzNyRCx1QkFBeUIyckQsSUFBU3J2RixTQUFTMmhDLEtBQU0sT0FBTzZyRCxLQUNsRSxHQUFJOEIsR0FBV0YsRUFBYSxPQUFPQyxFQUNuQ0MsR0FBVSxVQUtQRCxFQUFPQSxFQUFLbDNELFlBRXJCLE9BQU9xMUQsS0FlVCxTQUFTZ0MsR0FBWUMsRUFBT0MsR0FDMUIsT0FBT3J1RixLQUFLNjhCLE1BQU11eEQsRUFBTTcxRCxPQUFTdjRCLEtBQUs2OEIsTUFBTXd4RCxFQUFNOTFELE1BQVF2NEIsS0FBSzY4QixNQUFNdXhELEVBQU1wNEUsUUFBVWhXLEtBQUs2OEIsTUFBTXd4RCxFQUFNcjRFLE9BQVNoVyxLQUFLNjhCLE1BQU11eEQsRUFBTTkxRCxVQUFZdDRCLEtBQUs2OEIsTUFBTXd4RCxFQUFNLzFELFNBQVd0NEIsS0FBSzY4QixNQUFNdXhELEVBQU0vM0QsU0FBV3IyQixLQUFLNjhCLE1BQU13eEQsRUFBTWg0RCxPQUt2TixTQUFTaTRELEdBQVNyd0QsRUFBVXN3RCxHQUMxQixPQUFPLFdBQ0wsSUFBS2xELEdBQWtCLENBQ3JCLElBQUlscEYsRUFBT2EsVUFDUG04QixFQUFRbDhCLEtBRVEsSUFBaEJkLEVBQUt5QyxPQUNQcTVCLEVBQVN0OUIsS0FBS3crQixFQUFPaDlCLEVBQUssSUFFMUI4N0IsRUFBUzM3QixNQUFNNjhCLEVBQU9oOUIsR0FHeEJrcEYsR0FBbUI3b0YsWUFBVyxXQUM1QjZvRixRQUFtQixJQUNsQmtELEtBVVQsU0FBU0MsR0FBU3o2RSxFQUFJbVYsRUFBR21QLEdBQ3ZCdGtCLEVBQUdnekIsWUFBYzdkLEVBQ2pCblYsRUFBR3V6QixXQUFhalAsRUFHbEIsU0FBU3d0QixHQUFNOXhDLEdBQ2IsSUFBSTA2RSxFQUFVL3ZGLE9BQU8rdkYsUUFDakJwMUUsRUFBSTNhLE9BQU9nd0YsUUFBVWh3RixPQUFPaXdGLE1BRWhDLE9BQUlGLEdBQVdBLEVBQVFHLElBQ2RILEVBQVFHLElBQUk3NkUsR0FBSWkxQixXQUFVLEdBQ3hCM3ZCLEVBQ0ZBLEVBQUV0RixHQUFJOHhDLE9BQU0sR0FBTSxHQUVsQjl4QyxFQUFHaTFCLFdBQVUsR0FvQnhCLElBQUk2bEQsR0FBVSxZQUFhLElBQUl4dUYsTUFBT3l1RixVQXlKdEMsSUFBSUMsR0FBVSxHQUNWQyxHQUFXLENBQ2JDLHFCQUFxQixHQUVuQkMsR0FBZ0IsQ0FDbEJDLE1BQU8sU0FBZUMsR0FFcEIsSUFBSyxJQUFJdnRELEtBQVVtdEQsR0FDYkEsR0FBUzlxRixlQUFlMjlCLE1BQWFBLEtBQVV1dEQsS0FDakRBLEVBQU92dEQsR0FBVW10RCxHQUFTbnRELElBSTlCa3RELEdBQVExOUUsU0FBUSxTQUFVa2pELEdBQ3hCLEdBQUlBLEVBQUU4NkIsYUFBZUQsRUFBT0MsV0FDMUIsS0FBTSxpQ0FBaUMxaUYsT0FBT3lpRixFQUFPQyxXQUFZLHNCQUdyRU4sR0FBUXJvRixLQUFLMG9GLElBRWZFLFlBQWEsU0FBcUJDLEVBQVdDLEVBQVV0RyxHQUNyRCxJQUFJL3BELEVBQVFsOEIsS0FFWkEsS0FBS3dzRixlQUFnQixFQUVyQnZHLEVBQUlobUYsT0FBUyxXQUNYaThCLEVBQU1zd0QsZUFBZ0IsR0FHeEIsSUFBSUMsRUFBa0JILEVBQVksU0FDbENSLEdBQVExOUUsU0FBUSxTQUFVKzlFLEdBQ25CSSxFQUFTSixFQUFPQyxjQUVqQkcsRUFBU0osRUFBT0MsWUFBWUssSUFDOUJGLEVBQVNKLEVBQU9DLFlBQVlLLEdBQWlCN2dGLEdBQWMsQ0FDekQyZ0YsU0FBVUEsR0FDVHRHLElBS0RzRyxFQUFTbnVGLFFBQVErdEYsRUFBT0MsYUFBZUcsRUFBU0osRUFBT0MsWUFBWUUsSUFDckVDLEVBQVNKLEVBQU9DLFlBQVlFLEdBQVcxZ0YsR0FBYyxDQUNuRDJnRixTQUFVQSxHQUNUdEcsU0FJVHlHLGtCQUFtQixTQUEyQkgsRUFBVXo3RSxFQUFJaTdFLEVBQVUzdEYsR0FZcEUsSUFBSyxJQUFJd2dDLEtBWFRrdEQsR0FBUTE5RSxTQUFRLFNBQVUrOUUsR0FDeEIsSUFBSUMsRUFBYUQsRUFBT0MsV0FDeEIsR0FBS0csRUFBU251RixRQUFRZ3VGLElBQWdCRCxFQUFPSCxvQkFBN0MsQ0FDQSxJQUFJVyxFQUFjLElBQUlSLEVBQU9JLEVBQVV6N0UsRUFBSXk3RSxFQUFTbnVGLFNBQ3BEdXVGLEVBQVlKLFNBQVdBLEVBQ3ZCSSxFQUFZdnVGLFFBQVVtdUYsRUFBU251RixRQUMvQm11RixFQUFTSCxHQUFjTyxFQUV2QnpGLEdBQVM2RSxFQUFVWSxFQUFZWixjQUdkUSxFQUFTbnVGLFFBQzFCLEdBQUttdUYsRUFBU251RixRQUFRNkMsZUFBZTI5QixHQUFyQyxDQUNBLElBQUlndUQsRUFBVzVzRixLQUFLNnNGLGFBQWFOLEVBQVUzdEQsRUFBUTJ0RCxFQUFTbnVGLFFBQVF3Z0MsU0FFNUMsSUFBYmd1RCxJQUNUTCxFQUFTbnVGLFFBQVF3Z0MsR0FBVWd1RCxLQUlqQ0UsbUJBQW9CLFNBQTRCNXpFLEVBQU1xekUsR0FDcEQsSUFBSVEsRUFBa0IsR0FNdEIsT0FMQWpCLEdBQVExOUUsU0FBUSxTQUFVKzlFLEdBQ2MsbUJBQTNCQSxFQUFPWSxpQkFFbEI3RixHQUFTNkYsRUFBaUJaLEVBQU9ZLGdCQUFnQnJ2RixLQUFLNnVGLEVBQVNKLEVBQU9DLFlBQWFsekUsT0FFOUU2ekUsR0FFVEYsYUFBYyxTQUFzQk4sRUFBVXJ6RSxFQUFNNWIsR0FDbEQsSUFBSTB2RixFQVNKLE9BUkFsQixHQUFRMTlFLFNBQVEsU0FBVSs5RSxHQUVuQkksRUFBU0osRUFBT0MsYUFFakJELEVBQU9jLGlCQUEyRCxtQkFBakNkLEVBQU9jLGdCQUFnQi96RSxLQUMxRDh6RSxFQUFnQmIsRUFBT2MsZ0JBQWdCL3pFLEdBQU14YixLQUFLNnVGLEVBQVNKLEVBQU9DLFlBQWE5dUYsT0FHNUUwdkYsSUE2RFgsSUFBSVgsR0FBYyxTQUFxQkMsRUFBV0MsR0FDaEQsSUFBSXpyQyxFQUFPL2dELFVBQVU0QixPQUFTLFFBQXNCdkMsSUFBakJXLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxHQUMzRW10RixFQUFnQnBzQyxFQUFLbWxDLElBQ3JCM2pGLEVBQU82a0YsR0FBeUJybUMsRUFBTSxDQUFDLFFBRTNDbXJDLEdBQWNJLFlBQVk1bkYsS0FBSzRsRixHQUEvQjRCLENBQXlDSyxFQUFXQyxFQUFVM2dGLEdBQWMsQ0FDMUV1aEYsT0FBUUEsR0FDUjNuQyxTQUFVQSxHQUNWNG5DLFFBQVNBLEdBQ1RDLE9BQVFBLEdBQ1JDLE9BQVFBLEdBQ1JDLFdBQVlBLEdBQ1pDLFFBQVNBLEdBQ1RDLFlBQWFBLEdBQ2JDLFlBQWFDLEdBQ2JDLFlBQWFBLEdBQ2JDLGVBQWdCeEQsR0FBU3lELE9BQ3pCWixjQUFlQSxFQUNmYSxTQUFVQSxHQUNWQyxrQkFBbUJBLEdBQ25CQyxTQUFVQSxHQUNWQyxrQkFBbUJBLEdBQ25CQyxtQkFBb0JDLEdBQ3BCQyxxQkFBc0JDLEdBQ3RCQyxlQUFnQixXQUNkZCxJQUFjLEdBRWhCZSxjQUFlLFdBQ2JmLElBQWMsR0FFaEJnQixzQkFBdUIsU0FBK0J2MUUsR0FDcER3MUUsR0FBZSxDQUNibkMsU0FBVUEsRUFDVnJ6RSxLQUFNQSxFQUNOZzBFLGNBQWVBLE1BR2xCNXFGLEtBR0wsU0FBU29zRixHQUFlbHdDLElBakd4QixTQUF1QnNDLEdBQ3JCLElBQUl5ckMsRUFBV3pyQyxFQUFLeXJDLFNBQ2hCYyxFQUFTdnNDLEVBQUt1c0MsT0FDZG4wRSxFQUFPNG5DLEVBQUs1bkMsS0FDWnkxRSxFQUFXN3RDLEVBQUs2dEMsU0FDaEJuQixFQUFVMXNDLEVBQUswc0MsUUFDZm9CLEVBQU85dEMsRUFBSzh0QyxLQUNaQyxFQUFTL3RDLEVBQUsrdEMsT0FDZGQsRUFBV2p0QyxFQUFLaXRDLFNBQ2hCRSxFQUFXbnRDLEVBQUttdEMsU0FDaEJELEVBQW9CbHRDLEVBQUtrdEMsa0JBQ3pCRSxFQUFvQnB0QyxFQUFLb3RDLGtCQUN6QmhCLEVBQWdCcHNDLEVBQUtvc0MsY0FDckJVLEVBQWM5c0MsRUFBSzhzQyxZQUNuQmtCLEVBQXVCaHVDLEVBQUtndUMscUJBRWhDLEdBREF2QyxFQUFXQSxHQUFZYyxHQUFVQSxFQUFPekIsSUFDeEMsQ0FDQSxJQUFJM0YsRUFDQTduRixFQUFVbXVGLEVBQVNudUYsUUFDbkIyd0YsRUFBUyxLQUFPNzFFLEVBQUt4SixPQUFPLEdBQUdtdkIsY0FBZ0IzbEIsRUFBSzAyQixPQUFPLElBRTNEbjBDLE9BQU91ekYsYUFBZ0J4SCxJQUFlQyxJQU14Q3hCLEVBQU12cUYsU0FBU2toQyxZQUFZLFVBQ3ZCQyxVQUFVM2pCLEdBQU0sR0FBTSxHQU4xQitzRSxFQUFNLElBQUkrSSxZQUFZOTFFLEVBQU0sQ0FDMUIrMUUsU0FBUyxFQUNUQyxZQUFZLElBT2hCakosRUFBSXowQixHQUFLbzlCLEdBQVF2QixFQUNqQnBILEVBQUkxK0UsS0FBT3NuRixHQUFVeEIsRUFDckJwSCxFQUFJdDFCLEtBQU9nK0IsR0FBWXRCLEVBQ3ZCcEgsRUFBSXJqQyxNQUFRNHFDLEVBQ1p2SCxFQUFJOEgsU0FBV0EsRUFDZjlILEVBQUlnSSxTQUFXQSxFQUNmaEksRUFBSStILGtCQUFvQkEsRUFDeEIvSCxFQUFJaUksa0JBQW9CQSxFQUN4QmpJLEVBQUlpSCxjQUFnQkEsRUFDcEJqSCxFQUFJa0osU0FBV3ZCLEVBQWNBLEVBQVl3QixpQkFBY2h3RixFQUV2RCxJQUFJaXdGLEVBQXFCempGLEdBQWMsR0FBSWtqRixFQUFzQjdDLEdBQWNhLG1CQUFtQjV6RSxFQUFNcXpFLElBRXhHLElBQUssSUFBSTN0RCxLQUFVeXdELEVBQ2pCcEosRUFBSXJuRCxHQUFVeXdELEVBQW1CendELEdBRy9CeXVELEdBQ0ZBLEVBQU9oN0QsY0FBYzR6RCxHQUduQjduRixFQUFRMndGLElBQ1Yzd0YsRUFBUTJ3RixHQUFRcnhGLEtBQUs2dUYsRUFBVXRHLElBNkNqQzV6RCxDQUFjem1CLEdBQWMsQ0FDMUJnaUYsWUFBYUEsR0FDYkosUUFBU0EsR0FDVG1CLFNBQVV4QixHQUNWRSxPQUFRQSxHQUNSVSxTQUFVQSxHQUNWQyxrQkFBbUJBLEdBQ25CQyxTQUFVQSxHQUNWQyxrQkFBbUJBLElBQ2xCMXZDLElBR0wsSUFBSTJ1QyxHQUNBM25DLEdBQ0E0bkMsR0FDQUMsR0FDQUMsR0FDQUMsR0FDQUMsR0FDQUMsR0FDQU0sR0FDQUUsR0FDQUQsR0FDQUUsR0FDQW9CLEdBQ0ExQixHQUlBMkIsR0FDQUMsR0FDQUMsR0FDQUMsR0FDQUMsR0FDQUMsR0FDQWpDLEdBQ0FrQyxHQUNBQyxHQUdBQyxHQUVKQyxHQWhCSUMsSUFBc0IsRUFDdEJDLElBQWtCLEVBQ2xCQyxHQUFZLEdBVVpDLElBQXdCLEVBQ3hCQyxJQUF5QixFQUl6QkMsR0FBbUMsR0FFdkNDLElBQVUsRUFDTkMsR0FBb0IsR0FHcEJDLEdBQXFDLG9CQUFiLzBGLFNBQ3hCZzFGLEdBQTBCOUksR0FDMUIrSSxHQUFtQmxKLElBQVFELEdBQWEsV0FBYSxRQUV6RG9KLEdBQW1CSCxLQUFtQjVJLEtBQXFCRCxJQUFPLGNBQWVsc0YsU0FBU0MsY0FBYyxPQUNwR2sxRixHQUEwQixXQUM1QixHQUFLSixHQUFMLENBRUEsR0FBSWpKLEdBQ0YsT0FBTyxFQUdULElBQUkxMkUsRUFBS3BWLFNBQVNDLGNBQWMsS0FFaEMsT0FEQW1WLEVBQUd1WCxNQUFNeUwsUUFBVSxzQkFDZSxTQUEzQmhqQixFQUFHdVgsTUFBTW83QixlQVRZLEdBVzFCcXRDLEdBQW1CLFNBQTBCaGdGLEVBQUkxUyxHQUNuRCxJQUFJMnlGLEVBQVF4SSxHQUFJejNFLEdBQ1prZ0YsRUFBVTcwRixTQUFTNDBGLEVBQU0zOUQsT0FBU2ozQixTQUFTNDBGLEVBQU0xNEQsYUFBZWw4QixTQUFTNDBGLEVBQU01NEQsY0FBZ0JoOEIsU0FBUzQwRixFQUFNaDRELGlCQUFtQjU4QixTQUFTNDBGLEVBQU10NEQsa0JBQ2hKdzRELEVBQVMvRyxHQUFTcDVFLEVBQUksRUFBRzFTLEdBQ3pCOHlGLEVBQVNoSCxHQUFTcDVFLEVBQUksRUFBRzFTLEdBQ3pCK3lGLEVBQWdCRixHQUFVMUksR0FBSTBJLEdBQzlCRyxFQUFpQkYsR0FBVTNJLEdBQUkySSxHQUMvQkcsRUFBa0JGLEdBQWlCaDFGLFNBQVNnMUYsRUFBY0csWUFBY24xRixTQUFTZzFGLEVBQWNJLGFBQWVwSSxHQUFROEgsR0FBUTc5RCxNQUM5SG8rRCxFQUFtQkosR0FBa0JqMUYsU0FBU2kxRixFQUFlRSxZQUFjbjFGLFNBQVNpMUYsRUFBZUcsYUFBZXBJLEdBQVErSCxHQUFROTlELE1BRXRJLEdBQXNCLFNBQWxCMjlELEVBQU16b0UsUUFDUixNQUErQixXQUF4QnlvRSxFQUFNVSxlQUFzRCxtQkFBeEJWLEVBQU1VLGNBQXFDLFdBQWEsYUFHckcsR0FBc0IsU0FBbEJWLEVBQU16b0UsUUFDUixPQUFPeW9FLEVBQU1XLG9CQUFvQjdzRixNQUFNLEtBQUtsRCxRQUFVLEVBQUksV0FBYSxhQUd6RSxHQUFJc3ZGLEdBQVVFLEVBQXFCLE9BQWdDLFNBQTNCQSxFQUFxQixNQUFjLENBQ3pFLElBQUlRLEVBQWdELFNBQTNCUixFQUFxQixNQUFlLE9BQVMsUUFDdEUsT0FBT0QsR0FBb0MsU0FBekJFLEVBQWV4dkYsT0FBb0J3dkYsRUFBZXh2RixRQUFVK3ZGLEVBQW1DLGFBQWIsV0FHdEcsT0FBT1YsSUFBcUMsVUFBMUJFLEVBQWM3b0UsU0FBaUQsU0FBMUI2b0UsRUFBYzdvRSxTQUFnRCxVQUExQjZvRSxFQUFjN29FLFNBQWlELFNBQTFCNm9FLEVBQWM3b0UsU0FBc0Irb0UsR0FBbUJMLEdBQXVDLFNBQTVCRCxFQUFNSixLQUFnQ08sR0FBc0MsU0FBNUJILEVBQU1KLEtBQWdDVSxFQUFrQkcsRUFBbUJSLEdBQVcsV0FBYSxjQWlDblZZLEdBQWdCLFNBQXVCeHpGLEdBQ3pDLFNBQVN5ekYsRUFBS3YwRixFQUFPdzBGLEdBQ25CLE9BQU8sU0FBVXRnQyxFQUFJanFELEVBQU00bEYsRUFBUWxILEdBQ2pDLElBQUk4TCxFQUFZdmdDLEVBQUdwekQsUUFBUWlLLE1BQU02USxNQUFRM1IsRUFBS25KLFFBQVFpSyxNQUFNNlEsTUFBUXM0QyxFQUFHcHpELFFBQVFpSyxNQUFNNlEsT0FBUzNSLEVBQUtuSixRQUFRaUssTUFBTTZRLEtBRWpILEdBQWEsTUFBVDViLElBQWtCdzBGLEdBQVFDLEdBRzVCLE9BQU8sRUFDRixHQUFhLE1BQVR6MEYsSUFBMkIsSUFBVkEsRUFDMUIsT0FBTyxFQUNGLEdBQUl3MEYsR0FBa0IsVUFBVngwRixFQUNqQixPQUFPQSxFQUNGLEdBQXFCLG1CQUFWQSxFQUNoQixPQUFPdTBGLEVBQUt2MEYsRUFBTWswRCxFQUFJanFELEVBQU00bEYsRUFBUWxILEdBQU02TCxFQUFuQ0QsQ0FBeUNyZ0MsRUFBSWpxRCxFQUFNNGxGLEVBQVFsSCxHQUVsRSxJQUFJK0wsR0FBY0YsRUFBT3RnQyxFQUFLanFELEdBQU1uSixRQUFRaUssTUFBTTZRLEtBQ2xELE9BQWlCLElBQVY1YixHQUFtQyxpQkFBVkEsR0FBc0JBLElBQVUwMEYsR0FBYzEwRixFQUFNd29CLE1BQVF4b0IsRUFBTWdOLFFBQVEwbkYsSUFBZSxHQUsvSCxJQUFJM3BGLEVBQVEsR0FDUjRwRixFQUFnQjd6RixFQUFRaUssTUFFdkI0cEYsR0FBMkMsVUFBMUIzbUYsR0FBUTJtRixLQUM1QkEsRUFBZ0IsQ0FDZC80RSxLQUFNKzRFLElBSVY1cEYsRUFBTTZRLEtBQU8rNEUsRUFBYy80RSxLQUMzQjdRLEVBQU02cEYsVUFBWUwsRUFBS0ksRUFBY0gsTUFBTSxHQUMzQ3pwRixFQUFNOHBGLFNBQVdOLEVBQUtJLEVBQWNHLEtBQ3BDL3BGLEVBQU1ncUYsWUFBY0osRUFBY0ksWUFDbENqMEYsRUFBUWlLLE1BQVFBLEdBRWQrbEYsR0FBc0IsWUFDbkJ5QyxJQUEyQnpELElBQzlCN0UsR0FBSTZFLEdBQVMsVUFBVyxTQUd4QmtCLEdBQXdCLFlBQ3JCdUMsSUFBMkJ6RCxJQUM5QjdFLEdBQUk2RSxHQUFTLFVBQVcsS0FLeEJxRCxJQUNGLzBGLFNBQVNzNEIsaUJBQWlCLFNBQVMsU0FBVWl5RCxHQUMzQyxHQUFJaUssR0FLRixPQUpBakssRUFBSXZ5RCxpQkFDSnV5RCxFQUFJemtELGlCQUFtQnlrRCxFQUFJemtELGtCQUMzQnlrRCxFQUFJcU0sMEJBQTRCck0sRUFBSXFNLDJCQUNwQ3BDLElBQWtCLEdBQ1gsS0FFUixHQUdMLElBQUlxQyxHQUFnQyxTQUF1Q3RNLEdBQ3pFLEdBQUlrSCxHQUFRLENBQ1ZsSCxFQUFNQSxFQUFJdU0sUUFBVXZNLEVBQUl1TSxRQUFRLEdBQUt2TSxFQUVyQyxJQUFJd00sR0FoRjJEeHNFLEVBZ0ZyQmdnRSxFQUFJOWxELFFBaEZvQi9LLEVBZ0ZYNndELEVBQUk1bEQsUUE5RTdEOHZELEdBQVVsakYsTUFBSyxTQUFVcy9FLEdBQ3ZCLElBQUkvQixHQUFVK0IsR0FBZCxDQUNBLElBQUl4ckQsRUFBT29vRCxHQUFRb0QsR0FDZm1HLEVBQVluRyxFQUFTWCxJQUFTeHRGLFFBQVF1MEYscUJBQ3RDQyxFQUFxQjNzRSxHQUFLOGEsRUFBS2h1QixLQUFPMi9FLEdBQWF6c0UsR0FBSzhhLEVBQUsvdEIsTUFBUTAvRSxFQUNyRUcsRUFBbUJ6OUQsR0FBSzJMLEVBQUt6TCxJQUFNbzlELEdBQWF0OUQsR0FBSzJMLEVBQUt4TCxPQUFTbTlELEVBRXZFLE9BQUlBLEdBQWFFLEdBQXNCQyxFQUM5QkMsRUFBTXZHLE9BRGYsTUFJS3VHLEdBcUVMLEdBQUlMLEVBQVMsQ0FFWCxJQUFJaDJELEVBQVEsR0FFWixJQUFLLElBQUl2NEIsS0FBSytoRixFQUNSQSxFQUFJaGxGLGVBQWVpRCxLQUNyQnU0QixFQUFNdjRCLEdBQUsraEYsRUFBSS9oRixJQUluQnU0QixFQUFNdnVCLE9BQVN1dUIsRUFBTTR3RCxPQUFTb0YsRUFDOUJoMkQsRUFBTS9JLG9CQUFpQixFQUN2QitJLEVBQU0rRSxxQkFBa0IsRUFFeEJpeEQsRUFBUTdHLElBQVNtSCxZQUFZdDJELElBaEdMLElBQXFDeFcsRUFBR21QLEVBQ2hFMDlELEdBb0dGRSxHQUF3QixTQUErQi9NLEdBQ3JEa0gsSUFDRkEsR0FBT3Q1RCxXQUFXKzNELElBQVNxSCxpQkFBaUJoTixFQUFJLzNFLFNBVXBELFNBQVNtOEUsR0FBU3Y1RSxFQUFJMVMsR0FDcEIsSUFBTTBTLElBQU1BLEVBQUdzNUIsVUFBNEIsSUFBaEJ0NUIsRUFBR3M1QixTQUM1QixLQUFNLDhDQUE4QzFnQyxPQUFPLEdBQUc3TSxTQUFTYSxLQUFLb1QsSUFHOUU5USxLQUFLOFEsR0FBS0EsRUFFVjlRLEtBQUs1QixRQUFVQSxFQUFVOG9GLEdBQVMsR0FBSTlvRixHQUV0QzBTLEVBQUc4NkUsSUFBVzVyRixLQUNkLElBeGpCSWt6RixFQURBQyxFQXlqQkFwSCxFQUFXLENBQ2IxakYsTUFBTyxLQUNQbzZELE1BQU0sRUFDTjJ3QixVQUFVLEVBQ1Y5OUUsTUFBTyxLQUNQKzlFLE9BQVEsS0FDUmpnRCxVQUFXLFdBQVdwMUMsS0FBSzhTLEVBQUc0NUUsVUFBWSxNQUFRLEtBQ2xENEksY0FBZSxFQUVmQyxZQUFZLEVBRVpDLHNCQUF1QixLQUV2QkMsbUJBQW1CLEVBQ25CbnRELFVBQVcsV0FDVCxPQUFPd3FELEdBQWlCaGdGLEVBQUk5USxLQUFLNUIsVUFFbkNzMUYsV0FBWSxpQkFDWkMsWUFBYSxrQkFDYkMsVUFBVyxnQkFDWEMsT0FBUSxTQUNSaG9GLE9BQVEsS0FDUmlvRixpQkFBaUIsRUFDakJDLFVBQVcsRUFDWEMsT0FBUSxLQUNSQyxRQUFTLFNBQWlCQyxFQUFjL0csR0FDdEMrRyxFQUFhRCxRQUFRLE9BQVE5RyxFQUFPdDdELGNBRXRDc2lFLFlBQVksRUFDWkMsZ0JBQWdCLEVBQ2hCQyxXQUFZLFVBQ1pDLE1BQU8sRUFDUEMsa0JBQWtCLEVBQ2xCQyxxQkFBc0JDLE9BQU90NEYsU0FBV3M0RixPQUFTaDVGLFFBQVFVLFNBQVNWLE9BQU9vK0IsaUJBQWtCLEtBQU8sRUFDbEc2NkQsZUFBZSxFQUNmQyxjQUFlLG9CQUNmQyxnQkFBZ0IsRUFDaEJDLGtCQUFtQixFQUNuQkMsZUFBZ0IsQ0FDZDd1RSxFQUFHLEVBQ0htUCxFQUFHLEdBRUwyL0QsZ0JBQTRDLElBQTVCMUssR0FBUzBLLGdCQUE0QixpQkFBa0J0NUYsU0FBV2tzRixHQUNsRmdMLHFCQUFzQixHQUl4QixJQUFLLElBQUl6NUUsS0FGVCt5RSxHQUFjUyxrQkFBa0Ixc0YsS0FBTThRLEVBQUlpN0UsR0FFekJBLElBQ2I3eUUsS0FBUTlhLEtBQWFBLEVBQVE4YSxHQUFRNnlFLEVBQVM3eUUsSUFNbEQsSUFBSyxJQUFJNEcsS0FIVDh4RSxHQUFjeHpGLEdBR0M0QixLQUNRLE1BQWpCOGYsRUFBR3BRLE9BQU8sSUFBa0MsbUJBQWIxUCxLQUFLOGYsS0FDdEM5ZixLQUFLOGYsR0FBTTlmLEtBQUs4ZixHQUFJcmIsS0FBS3pFLE9BSzdCQSxLQUFLZzFGLGlCQUFrQjUyRixFQUFRczJGLGVBQXdCOUQsR0FFbkQ1d0YsS0FBS2cxRixrQkFFUGgxRixLQUFLNUIsUUFBUW8yRixvQkFBc0IsR0FJakNwMkYsRUFBUTIyRixlQUNWbFQsR0FBRy93RSxFQUFJLGNBQWU5USxLQUFLaTFGLGNBRTNCcFQsR0FBRy93RSxFQUFJLFlBQWE5USxLQUFLaTFGLGFBQ3pCcFQsR0FBRy93RSxFQUFJLGFBQWM5USxLQUFLaTFGLGNBR3hCajFGLEtBQUtnMUYsa0JBQ1BuVCxHQUFHL3dFLEVBQUksV0FBWTlRLE1BQ25CNmhGLEdBQUcvd0UsRUFBSSxZQUFhOVEsT0FHdEJtd0YsR0FBVTFzRixLQUFLekQsS0FBSzhRLElBRXBCMVMsRUFBUWtYLE9BQVNsWCxFQUFRa1gsTUFBTWhTLEtBQU90RCxLQUFLeWlFLEtBQUtya0UsRUFBUWtYLE1BQU1oUyxJQUFJdEQsT0FBUyxJQUUzRWtuRixHQUFTbG5GLE1BOW9CTG16RixFQUFrQixHQUVmLENBQ0wrQixzQkFBdUIsV0FDckIvQixFQUFrQixHQUNibnpGLEtBQUs1QixRQUFRMjFGLFdBQ0gsR0FBRzkxRixNQUFNUCxLQUFLc0MsS0FBSzhRLEdBQUc4ekIsVUFDNUJ4MkIsU0FBUSxTQUFVeTJCLEdBQ3pCLEdBQThCLFNBQTFCMGpELEdBQUkxakQsRUFBTyxZQUF5QkEsSUFBVXdsRCxHQUFTQyxNQUEzRCxDQUNBNkksRUFBZ0IxdkYsS0FBSyxDQUNuQnlLLE9BQVEyMkIsRUFDUjlELEtBQU1vb0QsR0FBUXRrRCxLQUdoQixJQUFJblAsRUFBVzlwQixHQUFjLEdBQUl1bkYsRUFBZ0JBLEVBQWdCeHhGLE9BQVMsR0FBR28vQixNQUc3RSxHQUFJOEQsRUFBTXN3RCxzQkFBdUIsQ0FDL0IsSUFBSUMsRUFBYzNNLEdBQU81akQsR0FBTyxHQUU1QnV3RCxJQUNGMS9ELEVBQVNKLEtBQU84L0QsRUFBWW45RSxFQUM1QnlkLEVBQVMzaUIsTUFBUXFpRixFQUFZdnlGLEdBSWpDZ2lDLEVBQU1uUCxTQUFXQSxPQUdyQjIvRCxrQkFBbUIsU0FBMkJ0dEYsR0FDNUNvckYsRUFBZ0IxdkYsS0FBS3NFLElBRXZCdXRGLHFCQUFzQixTQUE4QnBuRixHQUNsRGlsRixFQUFnQi94RixPQXBKdEIsU0FBdUJrRSxFQUFLeEIsR0FDMUIsSUFBSyxJQUFJSSxLQUFLb0IsRUFDWixHQUFLQSxFQUFJckUsZUFBZWlELEdBRXhCLElBQUssSUFBSS9CLEtBQU8yQixFQUNkLEdBQUlBLEVBQUk3QyxlQUFla0IsSUFBUTJCLEVBQUkzQixLQUFTbUQsRUFBSXBCLEdBQUcvQixHQUFNLE9BQU9zeUYsT0FBT3Z3RixHQUkzRSxPQUFRLEVBMkltQnF4RixDQUFjcEMsRUFBaUIsQ0FDcERqbEYsT0FBUUEsSUFDTixJQUVOc25GLFdBQVksU0FBb0J4NkQsR0FDOUIsSUFBSWtCLEVBQVFsOEIsS0FFWixJQUFLQSxLQUFLNUIsUUFBUTIxRixVQUdoQixPQUZBN3pGLGFBQWFnekYsUUFDVyxtQkFBYmw0RCxHQUF5QkEsS0FJdEMsSUFBSXk2RCxHQUFZLEVBQ1pDLEVBQWdCLEVBQ3BCdkMsRUFBZ0Iva0YsU0FBUSxTQUFVckcsR0FDaEMsSUFBSTlJLEVBQU8sRUFDUGlQLEVBQVNuRyxFQUFNbUcsT0FDZnduQixFQUFXeG5CLEVBQU93bkIsU0FDbEJpZ0UsRUFBU3hNLEdBQVFqN0UsR0FDakIwbkYsRUFBZTFuRixFQUFPMG5GLGFBQ3RCQyxFQUFhM25GLEVBQU8ybkYsV0FDcEJDLEVBQWdCL3RGLEVBQU1nNUIsS0FDdEJnMUQsRUFBZXROLEdBQU92NkUsR0FBUSxHQUU5QjZuRixJQUVGSixFQUFPcmdFLEtBQU95Z0UsRUFBYTk5RSxFQUMzQjA5RSxFQUFPNWlGLE1BQVFnakYsRUFBYWx6RixHQUc5QnFMLEVBQU95bkYsT0FBU0EsRUFFWnpuRixFQUFPaW5GLHVCQUVMakssR0FBWTBLLEVBQWNELEtBQVl6SyxHQUFZeDFELEVBQVVpZ0UsS0FDL0RHLEVBQWN4Z0UsSUFBTXFnRSxFQUFPcmdFLE1BQVF3Z0UsRUFBYy9pRixLQUFPNGlGLEVBQU81aUYsUUFBVzJpQixFQUFTSixJQUFNcWdFLEVBQU9yZ0UsTUFBUUksRUFBUzNpQixLQUFPNGlGLEVBQU81aUYsUUFFOUg5VCxFQTJFWixTQUEyQjYyRixFQUFlcGdFLEVBQVVpZ0UsRUFBUXYzRixHQUMxRCxPQUFPckIsS0FBS3FpRCxLQUFLcmlELEtBQUtpNUYsSUFBSXRnRSxFQUFTSixJQUFNd2dFLEVBQWN4Z0UsSUFBSyxHQUFLdjRCLEtBQUtpNUYsSUFBSXRnRSxFQUFTM2lCLEtBQU8raUYsRUFBYy9pRixLQUFNLElBQU1oVyxLQUFLcWlELEtBQUtyaUQsS0FBS2k1RixJQUFJdGdFLEVBQVNKLElBQU1xZ0UsRUFBT3JnRSxJQUFLLEdBQUt2NEIsS0FBS2k1RixJQUFJdGdFLEVBQVMzaUIsS0FBTzRpRixFQUFPNWlGLEtBQU0sSUFBTTNVLEVBQVEyMUYsVUE1RTFNa0MsQ0FBa0JILEVBQWVGLEVBQWNDLEVBQVkzNUQsRUFBTTk5QixVQUt2RThzRixHQUFZeUssRUFBUWpnRSxLQUN2QnhuQixFQUFPMG5GLGFBQWVsZ0UsRUFDdEJ4bkIsRUFBTzJuRixXQUFhRixFQUVmMTJGLElBQ0hBLEVBQU9pOUIsRUFBTTk5QixRQUFRMjFGLFdBR3ZCNzNELEVBQU1nNkQsUUFBUWhvRixFQUFRNG5GLEVBQWVILEVBQVExMkYsSUFHM0NBLElBQ0Z3MkYsR0FBWSxFQUNaQyxFQUFnQjM0RixLQUFLQyxJQUFJMDRGLEVBQWV6MkYsR0FDeENpQixhQUFhZ08sRUFBT2lvRixxQkFDcEJqb0YsRUFBT2lvRixvQkFBc0I1MkYsWUFBVyxXQUN0QzJPLEVBQU93bkYsY0FBZ0IsRUFDdkJ4bkYsRUFBTzBuRixhQUFlLEtBQ3RCMW5GLEVBQU93bkIsU0FBVyxLQUNsQnhuQixFQUFPMm5GLFdBQWEsS0FDcEIzbkYsRUFBT2luRixzQkFBd0IsT0FDOUJsMkYsR0FDSGlQLEVBQU9pbkYsc0JBQXdCbDJGLE1BR25DaUIsYUFBYWd6RixHQUVSdUMsRUFHSHZDLEVBQXNCM3pGLFlBQVcsV0FDUCxtQkFBYnk3QixHQUF5QkEsTUFDbkMwNkQsR0FKcUIsbUJBQWIxNkQsR0FBeUJBLElBT3RDbTRELEVBQWtCLElBRXBCK0MsUUFBUyxTQUFpQmhvRixFQUFRa29GLEVBQWFULEVBQVFVLEdBQ3JELEdBQUlBLEVBQVUsQ0FDWjlOLEdBQUlyNkUsRUFBUSxhQUFjLElBQzFCcTZFLEdBQUlyNkUsRUFBUSxZQUFhLElBQ3pCLElBQUl1N0UsRUFBV2hCLEdBQU96b0YsS0FBSzhRLElBQ3ZCNDRFLEVBQVNELEdBQVlBLEVBQVNub0UsRUFDOUJxb0UsRUFBU0YsR0FBWUEsRUFBUzFlLEVBQzlCdXJCLEdBQWNGLEVBQVlyakYsS0FBTzRpRixFQUFPNWlGLE9BQVMyMkUsR0FBVSxHQUMzRDZNLEdBQWNILEVBQVk5Z0UsSUFBTXFnRSxFQUFPcmdFLE1BQVFxMEQsR0FBVSxHQUM3RHo3RSxFQUFPc29GLGFBQWVGLEVBQ3RCcG9GLEVBQU91b0YsYUFBZUYsRUFDdEJoTyxHQUFJcjZFLEVBQVEsWUFBYSxlQUFpQm9vRixFQUFhLE1BQVFDLEVBQWEsU0FDNUV2MkYsS0FBSzAyRixnQkFpQmIsU0FBaUJ4b0YsR0FDZixPQUFPQSxFQUFPaWxCLFlBbEJld2pFLENBQVF6b0YsR0FFL0JxNkUsR0FBSXI2RSxFQUFRLGFBQWMsYUFBZW1vRixFQUFXLE1BQVFyMkYsS0FBSzVCLFFBQVE0MUYsT0FBUyxJQUFNaDBGLEtBQUs1QixRQUFRNDFGLE9BQVMsS0FDOUd6TCxHQUFJcjZFLEVBQVEsWUFBYSxzQkFDRSxpQkFBcEJBLEVBQU8wb0YsVUFBeUIxMkYsYUFBYWdPLEVBQU8wb0YsVUFDM0Qxb0YsRUFBTzBvRixTQUFXcjNGLFlBQVcsV0FDM0JncEYsR0FBSXI2RSxFQUFRLGFBQWMsSUFDMUJxNkUsR0FBSXI2RSxFQUFRLFlBQWEsSUFDekJBLEVBQU8wb0YsVUFBVyxFQUNsQjFvRixFQUFPc29GLFlBQWEsRUFDcEJ0b0YsRUFBT3VvRixZQUFhLElBQ25CSixRQTRxRFgsU0FBU1EsR0FBUWhJLEVBQVFELEVBQU16QixFQUFRMkosRUFBVW5JLEVBQVVvSSxFQUFZN0osRUFBZThKLEdBQ3BGLElBQUkvUSxFQUdBZ1IsRUFGQTFLLEVBQVdzQyxFQUFPakQsSUFDbEJzTCxFQUFXM0ssRUFBU251RixRQUFRbTZDLE9BMkJoQyxPQXhCSTk4QyxPQUFPdXpGLGFBQWdCeEgsSUFBZUMsSUFNeEN4QixFQUFNdnFGLFNBQVNraEMsWUFBWSxVQUN2QkMsVUFBVSxRQUFRLEdBQU0sR0FONUJvcEQsRUFBTSxJQUFJK0ksWUFBWSxPQUFRLENBQzVCQyxTQUFTLEVBQ1RDLFlBQVksSUFPaEJqSixFQUFJejBCLEdBQUtvOUIsRUFDVDNJLEVBQUkxK0UsS0FBT3NuRixFQUNYNUksRUFBSXNFLFFBQVU0QyxFQUNkbEgsRUFBSWtSLFlBQWNMLEVBQ2xCN1EsRUFBSW1SLFFBQVV6SSxHQUFZQyxFQUMxQjNJLEVBQUlvUixZQUFjTixHQUFjNU4sR0FBUXlGLEdBQ3hDM0ksRUFBSStRLGdCQUFrQkEsRUFDdEIvUSxFQUFJaUgsY0FBZ0JBLEVBQ3BCMkIsRUFBT3g4RCxjQUFjNHpELEdBRWpCaVIsSUFDRkQsRUFBU0MsRUFBU3g1RixLQUFLNnVGLEVBQVV0RyxFQUFLaUgsSUFHakMrSixFQUdULFNBQVNLLEdBQWtCeG1GLEdBQ3pCQSxFQUFHc2lDLFdBQVksRUFHakIsU0FBU21rRCxLQUNQaEgsSUFBVSxFQTZFWixTQUFTaUgsR0FBWTFtRixHQUtuQixJQUpBLElBQUl3TyxFQUFNeE8sRUFBRzZzQixRQUFVN3NCLEVBQUc4Z0IsVUFBWTlnQixFQUFHd0ksSUFBTXhJLEVBQUdxL0IsS0FBT3IvQixFQUFHK2dCLFlBQ3hEM3RCLEVBQUlvYixFQUFJM2QsT0FDUjgxRixFQUFNLEVBRUh2ekYsS0FDTHV6RixHQUFPbjRFLEVBQUlrTixXQUFXdG9CLEdBR3hCLE9BQU91ekYsRUFBSTU2RixTQUFTLElBY3RCLFNBQVM2NkYsR0FBVTUzRSxHQUNqQixPQUFPdmdCLFdBQVd1Z0IsRUFBSSxHQUd4QixTQUFTNjNFLEdBQWdCdmlGLEdBQ3ZCLE9BQU9sVixhQUFha1YsR0FsekN0QmkxRSxHQUFTenRGLFVBRVQsQ0FDRTJPLFlBQWE4K0UsR0FDYjRJLGlCQUFrQixTQUEwQi9rRixHQUNyQ2xPLEtBQUs4USxHQUFHMGlCLFNBQVN0bEIsSUFBV0EsSUFBV2xPLEtBQUs4USxLQUMvQysrRSxHQUFhLE9BR2pCK0gsY0FBZSxTQUF1QjNSLEVBQUsvM0UsR0FDekMsTUFBeUMsbUJBQTNCbE8sS0FBSzVCLFFBQVFrb0MsVUFBMkJ0bUMsS0FBSzVCLFFBQVFrb0MsVUFBVTVvQyxLQUFLc0MsS0FBTWltRixFQUFLLzNFLEVBQVFpL0UsSUFBVW50RixLQUFLNUIsUUFBUWtvQyxXQUU5SDJ1RCxZQUFhLFNBRWJoUCxHQUNFLEdBQUtBLEVBQUlpSixXQUFULENBRUEsSUFBSWh6RCxFQUFRbDhCLEtBQ1I4USxFQUFLOVEsS0FBSzhRLEdBQ1YxUyxFQUFVNEIsS0FBSzVCLFFBQ2YwMUYsRUFBa0IxMUYsRUFBUTAxRixnQkFDMUJ2MkYsRUFBTzBvRixFQUFJMW9GLEtBQ1hzNkYsRUFBUTVSLEVBQUl1TSxTQUFXdk0sRUFBSXVNLFFBQVEsSUFBTXZNLEVBQUk2UixhQUFtQyxVQUFwQjdSLEVBQUk2UixhQUEyQjdSLEVBQzNGLzNFLEdBQVUycEYsR0FBUzVSLEdBQUsvM0UsT0FDeEI2cEYsRUFBaUI5UixFQUFJLzNFLE9BQU84cEYsYUFBZS9SLEVBQUl0aEYsTUFBUXNoRixFQUFJdGhGLEtBQUssSUFBTXNoRixFQUFJZ1MsY0FBZ0JoUyxFQUFJZ1MsZUFBZSxLQUFPL3BGLEVBQ3BIckMsRUFBU3pOLEVBQVF5TixPQUtyQixHQW93Q0osU0FBZ0NwUCxHQUM5Qit6RixHQUFrQjd1RixPQUFTLEVBSTNCLElBSEEsSUFBSXUyRixFQUFTejdGLEVBQUt3c0YscUJBQXFCLFNBQ25DanFDLEVBQU1rNUMsRUFBT3YyRixPQUVWcTlDLEtBQU8sQ0FDWixJQUFJbHVDLEVBQUtvbkYsRUFBT2w1QyxHQUNoQmx1QyxFQUFHa3VELFNBQVd3eEIsR0FBa0Ivc0YsS0FBS3FOLElBOXdDckNxbkYsQ0FBdUJybkYsSUFHbkJxOEUsTUFJQSx3QkFBd0JudkYsS0FBS1QsSUFBd0IsSUFBZjBvRixFQUFJbVMsUUFBZ0JoNkYsRUFBUWcxRixZQUtsRTJFLEVBQWVNLG9CQUtkcjRGLEtBQUtnMUYsa0JBQW1Cck4sS0FBVXo1RSxHQUEyQyxXQUFqQ0EsRUFBT3l2QixRQUFRa0IsbUJBSWhFM3dCLEVBQVMrNUUsR0FBUS81RSxFQUFROVAsRUFBUWcxQyxVQUFXdGlDLEdBQUksS0FFbEM1QyxFQUFPMG9GLFVBSWpCckosS0FBZXIvRSxHQUFuQixDQVNBLEdBSEE2L0UsR0FBV3JzRixHQUFNd00sR0FDakI4L0UsR0FBb0J0c0YsR0FBTXdNLEVBQVE5UCxFQUFRZzFDLFdBRXBCLG1CQUFYdm5DLEdBQ1QsR0FBSUEsRUFBT25PLEtBQUtzQyxLQUFNaW1GLEVBQUsvM0UsRUFBUWxPLE1BY2pDLE9BYkEwdUYsR0FBZSxDQUNibkMsU0FBVXJ3RCxFQUNWbXhELE9BQVEwSyxFQUNSNytFLEtBQU0sU0FDTnkxRSxTQUFVemdGLEVBQ1YwZ0YsS0FBTTk5RSxFQUNOKzlFLE9BQVEvOUUsSUFHVnU3RSxHQUFZLFNBQVVud0QsRUFBTyxDQUMzQitwRCxJQUFLQSxTQUVQNk4sR0FBbUI3TixFQUFJaUosWUFBY2pKLEVBQUl2eUQsdUJBR3RDLEdBQUk3bkIsSUFDVEEsRUFBU0EsRUFBT2hILE1BQU0sS0FBS29JLE1BQUssU0FBVXFyRixHQUd4QyxHQUZBQSxFQUFXclEsR0FBUThQLEVBQWdCTyxFQUFTbnlFLE9BQVFyVixHQUFJLEdBZXRELE9BWkE0OUUsR0FBZSxDQUNibkMsU0FBVXJ3RCxFQUNWbXhELE9BQVFpTCxFQUNScC9FLEtBQU0sU0FDTnkxRSxTQUFVemdGLEVBQ1YyZ0YsT0FBUS85RSxFQUNSODlFLEtBQU05OUUsSUFHUnU3RSxHQUFZLFNBQVVud0QsRUFBTyxDQUMzQitwRCxJQUFLQSxLQUVBLE1BTVQsWUFEQTZOLEdBQW1CN04sRUFBSWlKLFlBQWNqSixFQUFJdnlELGtCQUt6Q3QxQixFQUFRaTFGLFNBQVdwTCxHQUFROFAsRUFBZ0IzNUYsRUFBUWkxRixPQUFRdmlGLEdBQUksSUFLbkU5USxLQUFLdTRGLGtCQUFrQnRTLEVBQUs0UixFQUFPM3BGLE1BRXJDcXFGLGtCQUFtQixTQUVuQnRTLEVBRUE0UixFQUVBM3BGLEdBQ0UsSUFJSXNxRixFQUpBdDhELEVBQVFsOEIsS0FDUjhRLEVBQUtvckIsRUFBTXByQixHQUNYMVMsRUFBVTg5QixFQUFNOTlCLFFBQ2hCazRCLEVBQWdCeGxCLEVBQUd3bEIsY0FHdkIsR0FBSXBvQixJQUFXaS9FLElBQVVqL0UsRUFBTzJsQixhQUFlL2lCLEVBQUksQ0FDakQsSUFBSWdtRixFQUFXM04sR0FBUWo3RSxHQXdFdkIsR0F2RUFtL0UsR0FBU3Y4RSxFQUVUMDBDLElBREEybkMsR0FBU2ovRSxHQUNTMmxCLFdBQ2xCeTVELEdBQVNILEdBQU92NUQsWUFDaEIyNUQsR0FBYXIvRSxFQUNib2hGLEdBQWNseEYsRUFBUWlLLE1BQ3RCZ2lGLEdBQVNFLFFBQVU0QyxHQUNuQm9DLEdBQVMsQ0FDUHJoRixPQUFRaS9FLEdBQ1JodEQsU0FBVTAzRCxHQUFTNVIsR0FBSzlsRCxRQUN4QkUsU0FBVXczRCxHQUFTNVIsR0FBSzVsRCxTQUUxQnN2RCxHQUFrQkosR0FBT3B2RCxRQUFVMjJELEVBQVMvakYsS0FDNUM2OEUsR0FBaUJMLEdBQU9sdkQsUUFBVXkyRCxFQUFTeGhFLElBQzNDdDFCLEtBQUt5NEYsUUFBVVosR0FBUzVSLEdBQUs5bEQsUUFDN0JuZ0MsS0FBSzA0RixRQUFVYixHQUFTNVIsR0FBSzVsRCxRQUM3QjhzRCxHQUFPOWtFLE1BQU0sZUFBaUIsTUFFOUJtd0UsRUFBYyxXQUNabk0sR0FBWSxhQUFjbndELEVBQU8sQ0FDL0IrcEQsSUFBS0EsSUFHSG9FLEdBQVNtQyxjQUNYdHdELEVBQU15OEQsV0FPUno4RCxFQUFNMDhELDZCQUVEbFIsSUFBV3hyRCxFQUFNODRELGtCQUNwQjdILEdBQU8vNUMsV0FBWSxHQUlyQmxYLEVBQU0yOEQsa0JBQWtCNVMsRUFBSzRSLEdBRzdCbkosR0FBZSxDQUNibkMsU0FBVXJ3RCxFQUNWaGpCLEtBQU0sU0FDTmcwRSxjQUFlakgsSUFJakJxQyxHQUFZNkUsR0FBUS91RixFQUFRdTFGLGFBQWEsS0FJM0N2MUYsRUFBUXkxRixPQUFPaHZGLE1BQU0sS0FBS3VKLFNBQVEsU0FBVWtxRixHQUMxQ3BtRixHQUFLaTdFLEdBQVFtTCxFQUFTbnlFLE9BQVFteEUsT0FFaEN6VixHQUFHdnJELEVBQWUsV0FBWWk4RCxJQUM5QjFRLEdBQUd2ckQsRUFBZSxZQUFhaThELElBQy9CMVEsR0FBR3ZyRCxFQUFlLFlBQWFpOEQsSUFDL0IxUSxHQUFHdnJELEVBQWUsVUFBVzRGLEVBQU15OEQsU0FDbkM5VyxHQUFHdnJELEVBQWUsV0FBWTRGLEVBQU15OEQsU0FDcEM5VyxHQUFHdnJELEVBQWUsY0FBZTRGLEVBQU15OEQsU0FFbkNqUixJQUFXMW5GLEtBQUtnMUYsa0JBQ2xCaDFGLEtBQUs1QixRQUFRbzJGLG9CQUFzQixFQUNuQ3JILEdBQU8vNUMsV0FBWSxHQUdyQmk1QyxHQUFZLGFBQWNyc0YsS0FBTSxDQUM5QmltRixJQUFLQSxLQUdIN25GLEVBQVFrMkYsT0FBV2wyRixFQUFRbTJGLG1CQUFvQnNELEdBQVk3M0YsS0FBS2cxRixrQkFBcUJ2TixJQUFRRCxJQWtCL0ZnUixRQWxCNkcsQ0FDN0csR0FBSW5PLEdBQVNtQyxjQUdYLFlBRkF4c0YsS0FBSzI0RixVQVFQOVcsR0FBR3ZyRCxFQUFlLFVBQVc0RixFQUFNNDhELHFCQUNuQ2pYLEdBQUd2ckQsRUFBZSxXQUFZNEYsRUFBTTQ4RCxxQkFDcENqWCxHQUFHdnJELEVBQWUsY0FBZTRGLEVBQU00OEQscUJBQ3ZDalgsR0FBR3ZyRCxFQUFlLFlBQWE0RixFQUFNNjhELDhCQUNyQ2xYLEdBQUd2ckQsRUFBZSxZQUFhNEYsRUFBTTY4RCw4QkFDckMzNkYsRUFBUTIyRixnQkFBa0JsVCxHQUFHdnJELEVBQWUsY0FBZTRGLEVBQU02OEQsOEJBQ2pFNzhELEVBQU04OEQsZ0JBQWtCejVGLFdBQVdpNUYsRUFBYXA2RixFQUFRazJGLFVBTTlEeUUsNkJBQThCLFNBRTlCbDJGLEdBQ0UsSUFBSWcxRixFQUFRaDFGLEVBQUUydkYsUUFBVTN2RixFQUFFMnZGLFFBQVEsR0FBSzN2RixFQUVuQzlGLEtBQUtDLElBQUlELEtBQUtzL0MsSUFBSXc3QyxFQUFNMTNELFFBQVVuZ0MsS0FBS3k0RixRQUFTMTdGLEtBQUtzL0MsSUFBSXc3QyxFQUFNeDNELFFBQVVyZ0MsS0FBSzA0RixVQUFZMzdGLEtBQUt5akIsTUFBTXhnQixLQUFLNUIsUUFBUW8yRixxQkFBdUJ4MEYsS0FBS2cxRixpQkFBbUJ2NUYsT0FBT28rQixrQkFBb0IsS0FDOUw3NUIsS0FBSzg0Rix1QkFHVEEsb0JBQXFCLFdBQ25CM0wsSUFBVW1LLEdBQWtCbkssSUFDNUJqdEYsYUFBYUYsS0FBS2c1RixpQkFFbEJoNUYsS0FBSzQ0Riw2QkFFUEEsMEJBQTJCLFdBQ3pCLElBQUl0aUUsRUFBZ0J0MkIsS0FBSzhRLEdBQUd3bEIsY0FDNUJpc0QsR0FBSWpzRCxFQUFlLFVBQVd0MkIsS0FBSzg0RixxQkFDbkN2VyxHQUFJanNELEVBQWUsV0FBWXQyQixLQUFLODRGLHFCQUNwQ3ZXLEdBQUlqc0QsRUFBZSxjQUFldDJCLEtBQUs4NEYscUJBQ3ZDdlcsR0FBSWpzRCxFQUFlLFlBQWF0MkIsS0FBSys0Riw4QkFDckN4VyxHQUFJanNELEVBQWUsWUFBYXQyQixLQUFLKzRGLDhCQUNyQ3hXLEdBQUlqc0QsRUFBZSxjQUFldDJCLEtBQUsrNEYsK0JBRXpDRixrQkFBbUIsU0FFbkI1UyxFQUVBNFIsR0FDRUEsRUFBUUEsR0FBNEIsU0FBbkI1UixFQUFJNlIsYUFBMEI3UixHQUUxQ2ptRixLQUFLZzFGLGlCQUFtQjZDLEVBQ3ZCNzNGLEtBQUs1QixRQUFRMjJGLGVBQ2ZsVCxHQUFHbm1GLFNBQVUsY0FBZXNFLEtBQUtpNUYsY0FFakNwWCxHQUFHbm1GLFNBRE1tOEYsRUFDSSxZQUVBLFlBRmE3M0YsS0FBS2k1RixlQUtqQ3BYLEdBQUdzTCxHQUFRLFVBQVdudEYsTUFDdEI2aEYsR0FBR3dMLEdBQVEsWUFBYXJ0RixLQUFLazVGLGVBRy9CLElBQ014OUYsU0FBU3k0QyxVQUVYdWpELElBQVUsV0FDUmg4RixTQUFTeTRDLFVBQVU1dUMsV0FHckI5SixPQUFPKzNDLGVBQWV1VCxrQkFFeEIsTUFBT3VHLE1BRVg2ckMsYUFBYyxTQUFzQkMsRUFBVW5ULEdBSTVDLEdBRkFnSyxJQUFzQixFQUVsQjVDLElBQVVGLEdBQVEsQ0FDcEJkLEdBQVksY0FBZXJzRixLQUFNLENBQy9CaW1GLElBQUtBLElBR0hqbUYsS0FBS2cxRixpQkFDUG5ULEdBQUdubUYsU0FBVSxXQUFZczNGLElBRzNCLElBQUk1MEYsRUFBVTRCLEtBQUs1QixTQUVsQmc3RixHQUFZOVEsR0FBWTZFLEdBQVEvdUYsRUFBUXcxRixXQUFXLEdBQ3BEdEwsR0FBWTZFLEdBQVEvdUYsRUFBUXMxRixZQUFZLEdBQ3hDckosR0FBU3lELE9BQVM5dEYsS0FDbEJvNUYsR0FBWXA1RixLQUFLcTVGLGVBRWpCM0ssR0FBZSxDQUNibkMsU0FBVXZzRixLQUNWa1osS0FBTSxRQUNOZzBFLGNBQWVqSCxTQUdqQmptRixLQUFLczVGLFlBR1RDLGlCQUFrQixXQUNoQixHQUFJL0osR0FBVSxDQUNaeHZGLEtBQUt5NEYsT0FBU2pKLEdBQVNydkQsUUFDdkJuZ0MsS0FBSzA0RixPQUFTbEosR0FBU252RCxRQUV2Qit0RCxLQUtBLElBSEEsSUFBSWxnRixFQUFTeFMsU0FBUzg5RixpQkFBaUJoSyxHQUFTcnZELFFBQVNxdkQsR0FBU252RCxTQUM5RDlGLEVBQVNyc0IsRUFFTkEsR0FBVUEsRUFBTzhwRixhQUN0QjlwRixFQUFTQSxFQUFPOHBGLFdBQVd3QixpQkFBaUJoSyxHQUFTcnZELFFBQVNxdkQsR0FBU252RCxZQUN4RDlGLEdBQ2ZBLEVBQVNyc0IsRUFLWCxHQUZBaS9FLEdBQU90NUQsV0FBVyszRCxJQUFTcUgsaUJBQWlCL2tGLEdBRXhDcXNCLEVBQ0YsRUFBRyxDQUNELEdBQUlBLEVBQU9xeEQsS0FFRXJ4RCxFQUFPcXhELElBQVNtSCxZQUFZLENBQ3JDNXlELFFBQVNxdkQsR0FBU3J2RCxRQUNsQkUsUUFBU212RCxHQUFTbnZELFFBQ2xCbnlCLE9BQVFBLEVBQ1JtL0UsT0FBUTl5RCxNQUdPdjZCLEtBQUs1QixRQUFRZzJGLGVBQzVCLE1BSUpsbUYsRUFBU3FzQixRQUdKQSxFQUFTQSxFQUFPMUcsWUFHekJ5NkQsT0FHSjJLLGFBQWMsU0FFZGhULEdBQ0UsR0FBSXNKLEdBQVEsQ0FDVixJQUFJbnhGLEVBQVU0QixLQUFLNUIsUUFDZnkyRixFQUFvQnoyRixFQUFReTJGLGtCQUM1QkMsRUFBaUIxMkYsRUFBUTAyRixlQUN6QitDLEVBQVE1UixFQUFJdU0sUUFBVXZNLEVBQUl1TSxRQUFRLEdBQUt2TSxFQUN2Q3dULEVBQWNyTSxJQUFXM0UsR0FBTzJFLElBQVMsR0FDekMxRCxFQUFTMEQsSUFBV3FNLEdBQWVBLEVBQVluNEUsRUFDL0Nxb0UsRUFBU3lELElBQVdxTSxHQUFlQSxFQUFZMXVCLEVBQy9DMnVCLEVBQXVCaEosSUFBMkJWLElBQXVCckYsR0FBd0JxRixJQUNqRzJKLEdBQU05QixFQUFNMTNELFFBQVVvdkQsR0FBT3B2RCxRQUFVMjBELEVBQWU3dUUsSUFBTXlqRSxHQUFVLElBQU1nUSxFQUF1QkEsRUFBcUIsR0FBS3BKLEdBQWlDLEdBQUssSUFBTTVHLEdBQVUsR0FDbkxrUSxHQUFNL0IsRUFBTXgzRCxRQUFVa3ZELEdBQU9sdkQsUUFBVXkwRCxFQUFlMS9ELElBQU11MEQsR0FBVSxJQUFNK1AsRUFBdUJBLEVBQXFCLEdBQUtwSixHQUFpQyxHQUFLLElBQU0zRyxHQUFVLEdBRXZMLElBQUtVLEdBQVN5RCxTQUFXbUMsR0FBcUIsQ0FDNUMsR0FBSTRFLEdBQXFCOTNGLEtBQUtDLElBQUlELEtBQUtzL0MsSUFBSXc3QyxFQUFNMTNELFFBQVVuZ0MsS0FBS3k0RixRQUFTMTdGLEtBQUtzL0MsSUFBSXc3QyxFQUFNeDNELFFBQVVyZ0MsS0FBSzA0RixTQUFXN0QsRUFDaEgsT0FHRjcwRixLQUFLazVGLGFBQWFqVCxHQUFLLEdBR3pCLEdBQUltSCxHQUFTLENBQ1BxTSxHQUNGQSxFQUFZNTJGLEdBQUs4MkYsR0FBTWxLLElBQVUsR0FDakNnSyxFQUFZeGhGLEdBQUsyaEYsR0FBTWxLLElBQVUsSUFFakMrSixFQUFjLENBQ1puNEUsRUFBRyxFQUNIdUYsRUFBRyxFQUNIdzdDLEVBQUcsRUFDSDBJLEVBQUcsRUFDSGxvRSxFQUFHODJGLEVBQ0gxaEYsRUFBRzJoRixHQUlQLElBQUlDLEVBQVksVUFBVW53RixPQUFPK3ZGLEVBQVluNEUsRUFBRyxLQUFLNVgsT0FBTyt2RixFQUFZNXlFLEVBQUcsS0FBS25kLE9BQU8rdkYsRUFBWXAzQixFQUFHLEtBQUszNEQsT0FBTyt2RixFQUFZMXVCLEVBQUcsS0FBS3JoRSxPQUFPK3ZGLEVBQVk1MkYsRUFBRyxLQUFLNkcsT0FBTyt2RixFQUFZeGhGLEVBQUcsS0FDdkxzd0UsR0FBSTZFLEdBQVMsa0JBQW1CeU0sR0FDaEN0UixHQUFJNkUsR0FBUyxlQUFnQnlNLEdBQzdCdFIsR0FBSTZFLEdBQVMsY0FBZXlNLEdBQzVCdFIsR0FBSTZFLEdBQVMsWUFBYXlNLEdBQzFCcEssR0FBU2tLLEVBQ1RqSyxHQUFTa0ssRUFDVHBLLEdBQVdxSSxFQUdiNVIsRUFBSWlKLFlBQWNqSixFQUFJdnlELG1CQUcxQjJsRSxhQUFjLFdBR1osSUFBS2pNLEdBQVMsQ0FDWixJQUFJditDLEVBQVk3dUMsS0FBSzVCLFFBQVF3MkYsZUFBaUJsNUYsU0FBUzJoQyxLQUFPZ3dELEdBQzFEdHNELEVBQU9vb0QsR0FBUWdFLElBQVEsRUFBTXVELElBQXlCLEVBQU03aEQsR0FDNUR6d0MsRUFBVTRCLEtBQUs1QixRQUVuQixHQUFJc3lGLEdBQXlCLENBSTNCLElBRkFWLEdBQXNCbmhELEVBRTBCLFdBQXpDMDVDLEdBQUl5SCxHQUFxQixhQUFzRSxTQUExQ3pILEdBQUl5SCxHQUFxQixjQUEyQkEsS0FBd0J0MEYsVUFDdElzMEYsR0FBc0JBLEdBQW9CbjhELFdBR3hDbThELEtBQXdCdDBGLFNBQVMyaEMsTUFBUTJ5RCxLQUF3QnQwRixTQUFTMG9DLGlCQUN4RTRyRCxLQUF3QnQwRixXQUFVczBGLEdBQXNCOUcsTUFDNURub0QsRUFBS3pMLEtBQU8wNkQsR0FBb0IzckQsVUFDaEN0RCxFQUFLaHVCLE1BQVFpOUUsR0FBb0Jsc0QsWUFFakNrc0QsR0FBc0I5RyxLQUd4Qm9ILEdBQW1DM0YsR0FBd0JxRixJQUk3RDFILEdBREE4RSxHQUFVRCxHQUFPcG5ELFdBQVUsR0FDTjNuQyxFQUFRczFGLFlBQVksR0FDekNwTCxHQUFZOEUsR0FBU2h2RixFQUFRdTJGLGVBQWUsR0FDNUNyTSxHQUFZOEUsR0FBU2h2RixFQUFRdzFGLFdBQVcsR0FDeENyTCxHQUFJNkUsR0FBUyxhQUFjLElBQzNCN0UsR0FBSTZFLEdBQVMsWUFBYSxJQUMxQjdFLEdBQUk2RSxHQUFTLGFBQWMsY0FDM0I3RSxHQUFJNkUsR0FBUyxTQUFVLEdBQ3ZCN0UsR0FBSTZFLEdBQVMsTUFBT3JzRCxFQUFLekwsS0FDekJpekQsR0FBSTZFLEdBQVMsT0FBUXJzRCxFQUFLaHVCLE1BQzFCdzFFLEdBQUk2RSxHQUFTLFFBQVNyc0QsRUFBSzNOLE9BQzNCbTFELEdBQUk2RSxHQUFTLFNBQVVyc0QsRUFBSzFMLFFBQzVCa3pELEdBQUk2RSxHQUFTLFVBQVcsT0FDeEI3RSxHQUFJNkUsR0FBUyxXQUFZc0QsR0FBMEIsV0FBYSxTQUNoRW5JLEdBQUk2RSxHQUFTLFNBQVUsVUFDdkI3RSxHQUFJNkUsR0FBUyxnQkFBaUIsUUFDOUIvQyxHQUFTQyxNQUFROEMsR0FDakJ2K0MsRUFBVXRtQixZQUFZNmtFLElBRXRCN0UsR0FBSTZFLEdBQVMsbUJBQW9CdUMsR0FBa0J4ekYsU0FBU2l4RixHQUFRL2tFLE1BQU0rSyxPQUFTLElBQU0sS0FBT3c4RCxHQUFpQnp6RixTQUFTaXhGLEdBQVEva0UsTUFBTWdOLFFBQVUsSUFBTSxPQUc1SjZqRSxhQUFjLFNBRWRqVCxFQUVBbVQsR0FDRSxJQUFJbDlELEVBQVFsOEIsS0FFUmswRixFQUFlak8sRUFBSWlPLGFBQ25COTFGLEVBQVU4OUIsRUFBTTk5QixRQUNwQml1RixHQUFZLFlBQWFyc0YsS0FBTSxDQUM3QmltRixJQUFLQSxJQUdIb0UsR0FBU21DLGNBQ1h4c0YsS0FBSzI0RixXQUtQdE0sR0FBWSxhQUFjcnNGLE1BRXJCcXFGLEdBQVNtQyxpQkFDWmdCLEdBQVU1cUMsR0FBTXVxQyxLQUNSLzVDLFdBQVksRUFDcEJvNkMsR0FBUW5sRSxNQUFNLGVBQWlCLEdBRS9Ccm9CLEtBQUs4NUYsYUFFTHhSLEdBQVlrRixHQUFTeHRGLEtBQUs1QixRQUFRdTFGLGFBQWEsR0FDL0N0SixHQUFTem5DLE1BQVE0cUMsSUFJbkJ0eEQsRUFBTTY5RCxRQUFVckMsSUFBVSxXQUN4QnJMLEdBQVksUUFBU253RCxHQUNqQm11RCxHQUFTbUMsZ0JBRVJ0d0QsRUFBTTk5QixRQUFRcTFGLG1CQUNqQnBHLEdBQU94NkQsYUFBYTI2RCxHQUFTTCxJQUcvQmp4RCxFQUFNNDlELGFBRU5wTCxHQUFlLENBQ2JuQyxTQUFVcndELEVBQ1ZoakIsS0FBTSxlQUdUa2dGLEdBQVk5USxHQUFZNkUsR0FBUS91RixFQUFRdzFGLFdBQVcsR0FFaER3RixHQUNGbEosSUFBa0IsRUFDbEJoMEQsRUFBTTg5RCxRQUFVdmYsWUFBWXYrQyxFQUFNcTlELGlCQUFrQixNQUdwRGhYLEdBQUk3bUYsU0FBVSxVQUFXd2dDLEVBQU15OEQsU0FDL0JwVyxHQUFJN21GLFNBQVUsV0FBWXdnQyxFQUFNeThELFNBQ2hDcFcsR0FBSTdtRixTQUFVLGNBQWV3Z0MsRUFBTXk4RCxTQUUvQnpFLElBQ0ZBLEVBQWErRixjQUFnQixPQUM3Qjc3RixFQUFRNjFGLFNBQVc3MUYsRUFBUTYxRixRQUFRdjJGLEtBQUt3K0IsRUFBT2c0RCxFQUFjL0csS0FHL0R0TCxHQUFHbm1GLFNBQVUsT0FBUXdnQyxHQUVyQnFzRCxHQUFJNEUsR0FBUSxZQUFhLGtCQUczQjhDLElBQXNCLEVBQ3RCL3pELEVBQU1nK0QsYUFBZXhDLEdBQVV4N0QsRUFBTWk5RCxhQUFhMTBGLEtBQUt5M0IsRUFBT2s5RCxFQUFVblQsSUFDeEVwRSxHQUFHbm1GLFNBQVUsY0FBZXdnQyxHQUM1Qnl4RCxJQUFRLEVBRUpoRyxJQUNGWSxHQUFJN3NGLFNBQVMyaEMsS0FBTSxjQUFlLFVBSXRDMDFELFlBQWEsU0FFYjlNLEdBQ0UsSUFFSTZRLEVBQ0FDLEVBQ0FvRCxFQU9BdDBELEVBWEEvMEIsRUFBSzlRLEtBQUs4USxHQUNWNUMsRUFBUyszRSxFQUFJLzNFLE9BSWI5UCxFQUFVNEIsS0FBSzVCLFFBQ2ZpSyxFQUFRakssRUFBUWlLLE1BQ2hCd2xGLEVBQWlCeEQsR0FBU3lELE9BQzFCc00sRUFBVTlLLEtBQWdCam5GLEVBQzFCZ3lGLEVBQVVqOEYsRUFBUXFrRSxLQUNsQjYzQixFQUFlMU0sSUFBZUMsRUFFOUIzeEQsRUFBUWw4QixLQUNSdTZGLEdBQWlCLEVBRXJCLElBQUloSyxHQUFKLENBZ0hBLFFBTjJCLElBQXZCdEssRUFBSXZ5RCxnQkFDTnV5RCxFQUFJaUosWUFBY2pKLEVBQUl2eUQsaUJBR3hCeGxCLEVBQVMrNUUsR0FBUS81RSxFQUFROVAsRUFBUWcxQyxVQUFXdGlDLEdBQUksR0FDaEQwcEYsRUFBYyxZQUNWblEsR0FBU21DLGNBQWUsT0FBTytOLEVBRW5DLEdBQUlwTixHQUFPMzVELFNBQVN5eUQsRUFBSS8zRSxTQUFXQSxFQUFPMG9GLFVBQVkxb0YsRUFBT3NvRixZQUFjdG9GLEVBQU91b0YsWUFBY3Y2RCxFQUFNdStELHdCQUEwQnZzRixFQUM5SCxPQUFPd3NGLEdBQVUsR0FLbkIsR0FGQXhLLElBQWtCLEVBRWRyQyxJQUFtQnp2RixFQUFRZzFGLFdBQWFnSCxFQUFVQyxJQUFZRixHQUFVOU0sR0FBTzc1RCxTQUFTMjVELEtBQzFGUyxLQUFnQjV0RixPQUFTQSxLQUFLb3ZGLFlBQWNFLEdBQVk0QyxVQUFVbHlGLEtBQU02dEYsRUFBZ0JWLEdBQVFsSCxLQUFTNTlFLEVBQU04cEYsU0FBU255RixLQUFNNnRGLEVBQWdCVixHQUFRbEgsSUFBTyxDQUk3SixHQUhBcGdELEVBQStDLGFBQXBDN2xDLEtBQUs0M0YsY0FBYzNSLEVBQUsvM0UsR0FDbkM0b0YsRUFBVzNOLEdBQVFnRSxJQUNuQnFOLEVBQWMsaUJBQ1ZuUSxHQUFTbUMsY0FBZSxPQUFPK04sRUFFbkMsR0FBSUosRUFpQkYsT0FoQkEzMEMsR0FBVzZuQyxHQUVYbHNFLElBRUFuaEIsS0FBSzg1RixhQUVMVSxFQUFjLFVBRVRuUSxHQUFTbUMsZ0JBQ1JjLEdBQ0ZELEdBQU94NkQsYUFBYXM2RCxHQUFRRyxJQUU1QkQsR0FBTzlrRSxZQUFZNGtFLEtBSWhCdU4sR0FBVSxHQUduQixJQUFJQyxFQUFjblEsR0FBVTE1RSxFQUFJMVMsRUFBUWcxQyxXQUV4QyxJQUFLdW5ELEdBcWhCWCxTQUFzQjFVLEVBQUtwZ0QsRUFBVTBtRCxHQUNuQyxJQUFJeHJELEVBQU9vb0QsR0FBUXFCLEdBQVUrQixFQUFTejdFLEdBQUl5N0UsRUFBU251RixRQUFRZzFDLFlBRTNELE9BQU92TixFQUFXb2dELEVBQUk5bEQsUUFBVVksRUFBSy90QixNQUR4QixJQUMwQ2l6RSxFQUFJOWxELFNBQVdZLEVBQUsvdEIsT0FBU2l6RSxFQUFJNWxELFFBQVVVLEVBQUt4TCxRQUFVMHdELEVBQUk5bEQsU0FBV1ksRUFBS2h1QixLQUFPa3pFLEVBQUk5bEQsUUFBVVksRUFBSy90QixPQUFTaXpFLEVBQUk1bEQsUUFBVVUsRUFBS3pMLEtBQU8yd0QsRUFBSTlsRCxTQUFXWSxFQUFLL3RCLE9BQVNpekUsRUFBSTVsRCxRQUFVVSxFQUFLeEwsT0FEck8sR0F2aEJXcWxFLENBQWEzVSxFQUFLcGdELEVBQVU3bEMsUUFBVTI2RixFQUFZL0QsU0FBVSxDQUU5RSxHQUFJK0QsSUFBZ0J4TixHQUNsQixPQUFPdU4sR0FBVSxHQVluQixHQVJJQyxHQUFlN3BGLElBQU9tMUUsRUFBSS8zRSxTQUM1QkEsRUFBU3lzRixHQUdQenNGLElBQ0Y2b0YsRUFBYTVOLEdBQVFqN0UsS0FHMEQsSUFBN0Uyb0YsR0FBUXhKLEdBQVF2OEUsRUFBSXE4RSxHQUFRMkosRUFBVTVvRixFQUFRNm9GLEVBQVk5USxJQUFPLzNFLEdBTW5FLE9BTEFpVCxJQUNBclEsRUFBR3lYLFlBQVk0a0UsSUFDZjNuQyxHQUFXMTBDLEVBRVhrMEUsSUFDTzBWLEdBQVUsUUFFZCxHQUFJeHNGLEVBQU8ybEIsYUFBZS9pQixFQUFJLENBQ25DaW1GLEVBQWE1TixHQUFRajdFLEdBQ3JCLElBQUlvNEIsRUFDQXUwRCxFQWNBNTdDLEVBYkE2N0MsRUFBaUIzTixHQUFPdDVELGFBQWUvaUIsRUFDdkNpcUYsR0F0N0JhLFNBQTRCakUsRUFBVUMsRUFBWWx4RCxHQUN6RSxJQUFJbTFELEVBQWNuMUQsRUFBV2l4RCxFQUFTL2pGLEtBQU8rakYsRUFBU3hoRSxJQUNsRDJsRSxFQUFjcDFELEVBQVdpeEQsRUFBUzlqRixNQUFROGpGLEVBQVN2aEUsT0FDbkQybEUsRUFBa0JyMUQsRUFBV2l4RCxFQUFTMWpFLE1BQVEwakUsRUFBU3poRSxPQUN2RDhsRSxFQUFjdDFELEVBQVdreEQsRUFBV2hrRixLQUFPZ2tGLEVBQVd6aEUsSUFDdEQ4bEUsRUFBY3YxRCxFQUFXa3hELEVBQVcvakYsTUFBUStqRixFQUFXeGhFLE9BQ3ZEOGxFLEVBQWtCeDFELEVBQVdreEQsRUFBVzNqRSxNQUFRMmpFLEVBQVcxaEUsT0FDL0QsT0FBTzJsRSxJQUFnQkcsR0FBZUYsSUFBZ0JHLEdBQWVKLEVBQWNFLEVBQWtCLElBQU1DLEVBQWNFLEVBQWtCLEVBKzZCOUdDLENBQW1Cbk8sR0FBT3lKLFVBQVl6SixHQUFPd0ksUUFBVW1CLEVBQVU1b0YsRUFBTzBvRixVQUFZMW9GLEVBQU95bkYsUUFBVW9CLEVBQVlseEQsR0FDcEkwMUQsRUFBUTExRCxFQUFXLE1BQVEsT0FDM0IyMUQsRUFBa0I1UixHQUFlMTdFLEVBQVEsTUFBTyxRQUFVMDdFLEdBQWV1RCxHQUFRLE1BQU8sT0FDeEZzTyxFQUFlRCxFQUFrQkEsRUFBZ0JuM0QsZUFBWSxFQVdqRSxHQVRJd3JELEtBQWUzaEYsSUFDakIyc0YsRUFBd0I5RCxFQUFXd0UsR0FDbkNuTCxJQUF3QixFQUN4QkMsSUFBMEIwSyxHQUFtQjM4RixFQUFRbTFGLFlBQWN1SCxHQUdyRXgwRCxFQW9mUixTQUEyQjIvQyxFQUFLLzNFLEVBQVE2b0YsRUFBWWx4RCxFQUFVeXRELEVBQWVFLEVBQXVCRCxFQUFZbUksR0FDOUcsSUFBSUMsRUFBYzkxRCxFQUFXb2dELEVBQUk1bEQsUUFBVTRsRCxFQUFJOWxELFFBQzNDeTdELEVBQWUvMUQsRUFBV2t4RCxFQUFXMWhFLE9BQVMwaEUsRUFBVzNqRSxNQUN6RHlvRSxFQUFXaDJELEVBQVdreEQsRUFBV3poRSxJQUFNeWhFLEVBQVdoa0YsS0FDbEQrb0YsRUFBV2oyRCxFQUFXa3hELEVBQVd4aEUsT0FBU3doRSxFQUFXL2pGLE1BQ3JEK29GLEdBQVMsRUFFYixJQUFLeEksRUFFSCxHQUFJbUksR0FBZ0IzTCxHQUFxQjZMLEVBQWV0SSxHQVF0RCxJQUxLbEQsS0FBNEMsSUFBbEJOLEdBQXNCNkwsRUFBY0UsRUFBV0QsRUFBZXBJLEVBQXdCLEVBQUltSSxFQUFjRyxFQUFXRixFQUFlcEksRUFBd0IsS0FFdkxwRCxJQUF3QixHQUdyQkEsR0FPSDJMLEdBQVMsT0FMVCxHQUFzQixJQUFsQmpNLEdBQXNCNkwsRUFBY0UsRUFBVzlMLEdBQ2pENEwsRUFBY0csRUFBVy9MLEdBQ3pCLE9BQVFELFFBT1osR0FBSTZMLEVBQWNFLEVBQVdELEdBQWdCLEVBQUl0SSxHQUFpQixHQUFLcUksRUFBY0csRUFBV0YsR0FBZ0IsRUFBSXRJLEdBQWlCLEVBQ25JLE9Bd0JSLFNBQTZCcGxGLEdBQzNCLE9BQUl4TSxHQUFNeXJGLElBQVV6ckYsR0FBTXdNLEdBQ2pCLEdBRUMsRUE1Qkc4dEYsQ0FBb0I5dEYsR0FPakMsT0FGQTZ0RixFQUFTQSxHQUFVeEksS0FJYm9JLEVBQWNFLEVBQVdELEVBQWVwSSxFQUF3QixHQUFLbUksRUFBY0csRUFBV0YsRUFBZXBJLEVBQXdCLEdBQ2hJbUksRUFBY0UsRUFBV0QsRUFBZSxFQUFJLEdBQUssRUFJckQsRUEvaEJXSyxDQUFrQmhXLEVBQUsvM0UsRUFBUTZvRixFQUFZbHhELEVBQVVrMUQsRUFBa0IsRUFBSTM4RixFQUFRazFGLGNBQWdELE1BQWpDbDFGLEVBQVFvMUYsc0JBQWdDcDFGLEVBQVFrMUYsY0FBZ0JsMUYsRUFBUW8xRixzQkFBdUJuRCxHQUF3QlIsS0FBZTNoRixHQUdsTyxJQUFkbzRCLEVBQWlCLENBRW5CLElBQUk0MUQsRUFBWXg2RixHQUFNeXJGLElBRXRCLEdBQ0UrTyxHQUFhNTFELEVBQ2IyWSxFQUFVdUcsR0FBUzVnQixTQUFTczNELFNBQ3JCajlDLElBQXdDLFNBQTVCc3BDLEdBQUl0cEMsRUFBUyxZQUF5QkEsSUFBWW11QyxLQUl6RSxHQUFrQixJQUFkOW1ELEdBQW1CMlksSUFBWS93QyxFQUNqQyxPQUFPd3NGLEdBQVUsR0FHbkI3SyxHQUFhM2hGLEVBQ2I0aEYsR0FBZ0J4cEQsRUFDaEIsSUFBSTFTLEVBQWMxbEIsRUFBT2l3QyxtQkFDckJnK0MsR0FBUSxFQUdSQyxFQUFhdkYsR0FBUXhKLEdBQVF2OEUsRUFBSXE4RSxHQUFRMkosRUFBVTVvRixFQUFRNm9GLEVBQVk5USxFQUYzRWtXLEVBQXNCLElBQWQ3MUQsR0FJUixJQUFtQixJQUFmODFELEVBNEJGLE9BM0JtQixJQUFmQSxJQUFvQyxJQUFoQkEsSUFDdEJELEVBQXVCLElBQWZDLEdBR1Y3TCxJQUFVLEVBQ1ZoeEYsV0FBV2c0RixHQUFXLElBQ3RCcDJFLElBRUlnN0UsSUFBVXZvRSxFQUNaOWlCLEVBQUd5WCxZQUFZNGtFLElBRWZqL0UsRUFBTzJsQixXQUFXaEIsYUFBYXM2RCxHQUFRZ1AsRUFBUXZvRSxFQUFjMWxCLEdBSTNEc3RGLEdBQ0ZqUSxHQUFTaVEsRUFBaUIsRUFBR0MsRUFBZUQsRUFBZ0JuM0QsV0FHOURtaEIsR0FBVzJuQyxHQUFPdDVELGdCQUdZejBCLElBQTFCeTdGLEdBQXdDeEssS0FDMUNOLEdBQXFCaHpGLEtBQUtzL0MsSUFBSXcrQyxFQUF3QjFSLEdBQVFqN0UsR0FBUXF0RixLQUd4RXZXLElBQ08wVixHQUFVLEdBSXJCLEdBQUk1cEYsRUFBRzBpQixTQUFTMjVELElBQ2QsT0FBT3VOLEdBQVUsR0FJckIsT0FBTyxFQXpQUCxTQUFTRixFQUFjdGhGLEVBQU1takYsR0FDM0JoUSxHQUFZbnpFLEVBQU1nakIsRUFBT3R3QixHQUFjLENBQ3JDcTZFLElBQUtBLEVBQ0xtVSxRQUFTQSxFQUNUeDZELEtBQU1pRyxFQUFXLFdBQWEsYUFDOUJzMEQsT0FBUUEsRUFDUnJELFNBQVVBLEVBQ1ZDLFdBQVlBLEVBQ1pzRCxRQUFTQSxFQUNUQyxhQUFjQSxFQUNkcHNGLE9BQVFBLEVBQ1J3c0YsVUFBV0EsRUFDWG5pRCxPQUFRLFNBQWdCcnFDLEVBQVFpdUYsR0FDOUIsT0FBT3RGLEdBQVF4SixHQUFRdjhFLEVBQUlxOEUsR0FBUTJKLEVBQVU1b0YsRUFBUWk3RSxHQUFRajdFLEdBQVMrM0UsRUFBS2tXLElBRTdFblgsUUFBU0EsR0FDUnFYLElBSUwsU0FBU2w3RSxJQUNQcTVFLEVBQWMsNEJBRWR0K0QsRUFBTWc1RCx3QkFFRmg1RCxJQUFVbytELEdBQ1pBLEVBQWFwRix3QkFLakIsU0FBU3dGLEVBQVU0QixHQXVEakIsT0F0REE5QixFQUFjLG9CQUFxQixDQUNqQzhCLFVBQVdBLElBR1RBLElBRUVsQyxFQUNGdk0sRUFBZWlNLGFBRWZqTSxFQUFlME8sV0FBV3JnRSxHQUd4QkEsSUFBVW8rRCxJQUVaaFMsR0FBWTZFLEdBQVFTLEdBQWNBLEdBQVl4dkYsUUFBUXMxRixXQUFhN0YsRUFBZXp2RixRQUFRczFGLFlBQVksR0FDdEdwTCxHQUFZNkUsR0FBUS91RixFQUFRczFGLFlBQVksSUFHdEM5RixLQUFnQjF4RCxHQUFTQSxJQUFVbXVELEdBQVN5RCxPQUM5Q0YsR0FBYzF4RCxFQUNMQSxJQUFVbXVELEdBQVN5RCxRQUFVRixLQUN0Q0EsR0FBYyxNQUlaME0sSUFBaUJwK0QsSUFDbkJBLEVBQU11K0Qsc0JBQXdCdnNGLEdBR2hDZ3VCLEVBQU1zNUQsWUFBVyxXQUNmZ0YsRUFBYyw2QkFDZHQrRCxFQUFNdStELHNCQUF3QixRQUc1QnYrRCxJQUFVbytELElBQ1pBLEVBQWE5RSxhQUNiOEUsRUFBYUcsc0JBQXdCLFFBS3JDdnNGLElBQVdpL0UsS0FBV0EsR0FBT3lKLFVBQVkxb0YsSUFBVzRDLElBQU81QyxFQUFPMG9GLFlBQ3BFL0csR0FBYSxNQUlWenhGLEVBQVFnMkYsZ0JBQW1Cbk8sRUFBSW9ILFFBQVVuL0UsSUFBV3hTLFdBQ3ZEeXhGLEdBQU90NUQsV0FBVyszRCxJQUFTcUgsaUJBQWlCaE4sRUFBSS8zRSxTQUcvQ291RixHQUFhL0osR0FBOEJ0TSxLQUc3QzduRixFQUFRZzJGLGdCQUFrQm5PLEVBQUl6a0QsaUJBQW1CeWtELEVBQUl6a0Qsa0JBQy9DKzRELEdBQWlCLEVBSTFCLFNBQVN2VixJQUNQaUosR0FBV3ZzRixHQUFNeXJGLElBQ2pCZSxHQUFvQnhzRixHQUFNeXJGLEdBQVEvdUYsRUFBUWcxQyxXQUUxQ3M3QyxHQUFlLENBQ2JuQyxTQUFVcndELEVBQ1ZoakIsS0FBTSxTQUNOMDFFLEtBQU05OUUsRUFDTm05RSxTQUFVQSxHQUNWQyxrQkFBbUJBLEdBQ25CaEIsY0FBZWpILE1BdUpyQndVLHNCQUF1QixLQUN2QitCLGVBQWdCLFdBQ2RqYSxHQUFJN21GLFNBQVUsWUFBYXNFLEtBQUtpNUYsY0FDaEMxVyxHQUFJN21GLFNBQVUsWUFBYXNFLEtBQUtpNUYsY0FDaEMxVyxHQUFJN21GLFNBQVUsY0FBZXNFLEtBQUtpNUYsY0FDbEMxVyxHQUFJN21GLFNBQVUsV0FBWTYyRixJQUMxQmhRLEdBQUk3bUYsU0FBVSxZQUFhNjJGLElBQzNCaFEsR0FBSTdtRixTQUFVLFlBQWE2MkYsS0FFN0JrSyxhQUFjLFdBQ1osSUFBSW5tRSxFQUFnQnQyQixLQUFLOFEsR0FBR3dsQixjQUM1QmlzRCxHQUFJanNELEVBQWUsVUFBV3QyQixLQUFLMjRGLFNBQ25DcFcsR0FBSWpzRCxFQUFlLFdBQVl0MkIsS0FBSzI0RixTQUNwQ3BXLEdBQUlqc0QsRUFBZSxZQUFhdDJCLEtBQUsyNEYsU0FDckNwVyxHQUFJanNELEVBQWUsY0FBZXQyQixLQUFLMjRGLFNBQ3ZDcFcsR0FBSTdtRixTQUFVLGNBQWVzRSxPQUUvQjI0RixRQUFTLFNBRVQxUyxHQUNFLElBQUluMUUsRUFBSzlRLEtBQUs4USxHQUNWMVMsRUFBVTRCLEtBQUs1QixRQUVuQjZ2RixHQUFXdnNGLEdBQU15ckYsSUFDakJlLEdBQW9CeHNGLEdBQU15ckYsR0FBUS91RixFQUFRZzFDLFdBQzFDaTVDLEdBQVksT0FBUXJzRixLQUFNLENBQ3hCaW1GLElBQUtBLElBRVB6Z0MsR0FBVzJuQyxJQUFVQSxHQUFPdDVELFdBRTVCbzZELEdBQVd2c0YsR0FBTXlyRixJQUNqQmUsR0FBb0J4c0YsR0FBTXlyRixHQUFRL3VGLEVBQVFnMUMsV0FFdENpM0MsR0FBU21DLGdCQU1ieUQsSUFBc0IsRUFDdEJJLElBQXlCLEVBQ3pCRCxJQUF3QixFQUN4QjVWLGNBQWN4NkUsS0FBS2c2RixTQUNuQjk1RixhQUFhRixLQUFLZzVGLGlCQUVsQnJCLEdBQWdCMzNGLEtBQUsrNUYsU0FFckJwQyxHQUFnQjMzRixLQUFLazZGLGNBR2pCbDZGLEtBQUtnMUYsa0JBQ1B6UyxHQUFJN21GLFNBQVUsT0FBUXNFLE1BQ3RCdWlGLEdBQUl6eEUsRUFBSSxZQUFhOVEsS0FBS2s1RixlQUc1Qmw1RixLQUFLdzhGLGlCQUVMeDhGLEtBQUt5OEYsZUFFRDlVLElBQ0ZZLEdBQUk3c0YsU0FBUzJoQyxLQUFNLGNBQWUsSUFHcENrckQsR0FBSTRFLEdBQVEsWUFBYSxJQUVyQmxILElBQ0UwSCxLQUNGMUgsRUFBSWlKLFlBQWNqSixFQUFJdnlELGtCQUNyQnQxQixFQUFRKzFGLFlBQWNsTyxFQUFJemtELG1CQUc3QjRyRCxJQUFXQSxHQUFRdjVELFlBQWN1NUQsR0FBUXY1RCxXQUFXUyxZQUFZODRELEtBRTVEQyxLQUFXN25DLElBQVlvb0MsSUFBMkMsVUFBNUJBLEdBQVl3QixjQUVwRDVCLElBQVdBLEdBQVEzNUQsWUFBYzI1RCxHQUFRMzVELFdBQVdTLFlBQVlrNUQsSUFHOURMLEtBQ0VudEYsS0FBS2cxRixpQkFDUHpTLEdBQUk0SyxHQUFRLFVBQVdudEYsTUFHekJzM0YsR0FBa0JuSyxJQUVsQkEsR0FBTzlrRSxNQUFNLGVBQWlCLEdBRzFCc2xFLEtBQVVzQyxJQUNaM0gsR0FBWTZFLEdBQVFTLEdBQWNBLEdBQVl4dkYsUUFBUXMxRixXQUFhMXpGLEtBQUs1QixRQUFRczFGLFlBQVksR0FHOUZwTCxHQUFZNkUsR0FBUW50RixLQUFLNUIsUUFBUXUxRixhQUFhLEdBRTlDakYsR0FBZSxDQUNibkMsU0FBVXZzRixLQUNWa1osS0FBTSxXQUNOMDFFLEtBQU1wcEMsR0FDTnlvQyxTQUFVLEtBQ1ZDLGtCQUFtQixLQUNuQmhCLGNBQWVqSCxJQUdib0gsS0FBVzduQyxJQUNUeW9DLElBQVksSUFFZFMsR0FBZSxDQUNickIsT0FBUTduQyxHQUNSdHNDLEtBQU0sTUFDTjAxRSxLQUFNcHBDLEdBQ05xcEMsT0FBUXhCLEdBQ1JILGNBQWVqSCxJQUlqQnlJLEdBQWUsQ0FDYm5DLFNBQVV2c0YsS0FDVmtaLEtBQU0sU0FDTjAxRSxLQUFNcHBDLEdBQ04wbkMsY0FBZWpILElBSWpCeUksR0FBZSxDQUNickIsT0FBUTduQyxHQUNSdHNDLEtBQU0sT0FDTjAxRSxLQUFNcHBDLEdBQ05xcEMsT0FBUXhCLEdBQ1JILGNBQWVqSCxJQUdqQnlJLEdBQWUsQ0FDYm5DLFNBQVV2c0YsS0FDVmtaLEtBQU0sT0FDTjAxRSxLQUFNcHBDLEdBQ04wbkMsY0FBZWpILEtBSW5CMkgsSUFBZUEsR0FBWXg3RCxRQUV2QjY3RCxLQUFhRixJQUNYRSxJQUFZLElBRWRTLEdBQWUsQ0FDYm5DLFNBQVV2c0YsS0FDVmtaLEtBQU0sU0FDTjAxRSxLQUFNcHBDLEdBQ04wbkMsY0FBZWpILElBR2pCeUksR0FBZSxDQUNibkMsU0FBVXZzRixLQUNWa1osS0FBTSxPQUNOMDFFLEtBQU1wcEMsR0FDTjBuQyxjQUFlakgsS0FNbkJvRSxHQUFTeUQsU0FFSyxNQUFaRyxLQUFrQyxJQUFkQSxLQUN0QkEsR0FBV0YsR0FDWEcsR0FBb0JGLElBR3RCVSxHQUFlLENBQ2JuQyxTQUFVdnNGLEtBQ1ZrWixLQUFNLE1BQ04wMUUsS0FBTXBwQyxHQUNOMG5DLGNBQWVqSCxJQUlqQmptRixLQUFLb3lCLFdBOUlUcHlCLEtBQUtzNUYsWUFxSlRBLFNBQVUsV0FDUmpOLEdBQVksVUFBV3JzRixNQUN2QnF0RixHQUFTRixHQUFTM25DLEdBQVc0bkMsR0FBVUUsR0FBU0UsR0FBVUQsR0FBYUUsR0FBYzhCLEdBQVNDLEdBQVc3QixHQUFRTSxHQUFXQyxHQUFvQkgsR0FBV0MsR0FBb0I2QixHQUFhQyxHQUFnQmxDLEdBQWMwQixHQUFjakYsR0FBU0UsUUFBVUYsR0FBU0MsTUFBUUQsR0FBU3puQyxNQUFReW5DLEdBQVN5RCxPQUFTLEtBQy9TMEMsR0FBa0JwaUYsU0FBUSxTQUFVMEMsR0FDbENBLEVBQUdrdUQsU0FBVSxLQUVmd3hCLEdBQWtCN3VGLE9BQVM4dEYsR0FBU0MsR0FBUyxHQUUvQ2dOLFlBQWEsU0FFYnpXLEdBQ0UsT0FBUUEsRUFBSTFvRixNQUNWLElBQUssT0FDTCxJQUFLLFVBQ0h5QyxLQUFLMjRGLFFBQVExUyxHQUViLE1BRUYsSUFBSyxZQUNMLElBQUssV0FDQ2tILEtBQ0ZudEYsS0FBSyt5RixZQUFZOU0sR0E4SzNCLFNBRUFBLEdBQ01BLEVBQUlpTyxlQUNOak8sRUFBSWlPLGFBQWF5SSxXQUFhLFFBR2hDMVcsRUFBSWlKLFlBQWNqSixFQUFJdnlELGlCQW5MZGtwRSxDQUFnQjNXLElBR2xCLE1BRUYsSUFBSyxjQUNIQSxFQUFJdnlELG1CQVNWbXBFLFFBQVMsV0FRUCxJQVBBLElBQ0kvckYsRUFEQWdzRixFQUFRLEdBRVJsNEQsRUFBVzVrQyxLQUFLOFEsR0FBRzh6QixTQUNuQjFnQyxFQUFJLEVBQ0o4SyxFQUFJNDFCLEVBQVNqakMsT0FDYnZELEVBQVU0QixLQUFLNUIsUUFFWjhGLEVBQUk4SyxFQUFHOUssSUFHUitqRixHQUZKbjNFLEVBQUs4ekIsRUFBUzFnQyxHQUVFOUYsRUFBUWcxQyxVQUFXcHpDLEtBQUs4USxJQUFJLElBQzFDZ3NGLEVBQU1yNUYsS0FBS3FOLEVBQUcwaEIsYUFBYXAwQixFQUFRaTJGLGFBQWVtRCxHQUFZMW1GLElBSWxFLE9BQU9nc0YsR0FPVHI2QixLQUFNLFNBQWNxNkIsRUFBT0MsR0FDekIsSUFBSXJzQyxFQUFRLEdBQ1IyOEIsRUFBU3J0RixLQUFLOFEsR0FDbEI5USxLQUFLNjhGLFVBQVV6dUYsU0FBUSxTQUFVZ0gsRUFBSWxSLEdBQ25DLElBQUk0TSxFQUFLdThFLEVBQU96b0QsU0FBUzFnQyxHQUVyQitqRixHQUFRbjNFLEVBQUk5USxLQUFLNUIsUUFBUWcxQyxVQUFXaTZDLEdBQVEsS0FDOUMzOEIsRUFBTXQ3QyxHQUFNdEUsS0FFYjlRLE1BQ0grOEYsR0FBZ0IvOEYsS0FBS2sxRix3QkFDckI0SCxFQUFNMXVGLFNBQVEsU0FBVWdILEdBQ2xCczdDLEVBQU10N0MsS0FDUmk0RSxFQUFPLzRELFlBQVlvOEIsRUFBTXQ3QyxJQUN6Qmk0RSxFQUFPOWtFLFlBQVltb0MsRUFBTXQ3QyxRQUc3QjJuRixHQUFnQi84RixLQUFLdzFGLGNBTXZCcGpFLEtBQU0sV0FDSixJQUFJOWMsRUFBUXRWLEtBQUs1QixRQUFRa1gsTUFDekJBLEdBQVNBLEVBQU14VCxLQUFPd1QsRUFBTXhULElBQUk5QixPQVNsQ2lvRixRQUFTLFNBQW1CbjNFLEVBQUlpaEIsR0FDOUIsT0FBT2syRCxHQUFRbjNFLEVBQUlpaEIsR0FBWS94QixLQUFLNUIsUUFBUWcxQyxVQUFXcHpDLEtBQUs4USxJQUFJLElBU2xFOHRCLE9BQVEsU0FBZ0IxbEIsRUFBTTViLEdBQzVCLElBQUljLEVBQVU0QixLQUFLNUIsUUFFbkIsUUFBYyxJQUFWZCxFQUNGLE9BQU9jLEVBQVE4YSxHQUVmLElBQUk4ekUsRUFBZ0JmLEdBQWNZLGFBQWE3c0YsS0FBTWtaLEVBQU01YixHQUd6RGMsRUFBUThhLFFBRG1CLElBQWxCOHpFLEVBQ09BLEVBRUExdkYsRUFHTCxVQUFUNGIsR0FDRjA0RSxHQUFjeHpGLElBUXBCZ2lGLFFBQVMsV0FDUGlNLEdBQVksVUFBV3JzRixNQUN2QixJQUFJOFEsRUFBSzlRLEtBQUs4USxHQUNkQSxFQUFHODZFLElBQVcsS0FDZHJKLEdBQUl6eEUsRUFBSSxZQUFhOVEsS0FBS2kxRixhQUMxQjFTLEdBQUl6eEUsRUFBSSxhQUFjOVEsS0FBS2kxRixhQUMzQjFTLEdBQUl6eEUsRUFBSSxjQUFlOVEsS0FBS2kxRixhQUV4QmoxRixLQUFLZzFGLGtCQUNQelMsR0FBSXp4RSxFQUFJLFdBQVk5USxNQUNwQnVpRixHQUFJenhFLEVBQUksWUFBYTlRLE9BSXZCUSxNQUFNNUQsVUFBVXdSLFFBQVExUSxLQUFLb1QsRUFBR29oQixpQkFBaUIsZ0JBQWdCLFNBQVVwaEIsR0FDekVBLEVBQUdnMkQsZ0JBQWdCLGdCQUdyQjltRSxLQUFLMjRGLFVBRUwzNEYsS0FBSzQ0Riw0QkFFTHpJLEdBQVUvdUYsT0FBTyt1RixHQUFVN2xGLFFBQVF0SyxLQUFLOFEsSUFBSyxHQUM3QzlRLEtBQUs4USxHQUFLQSxFQUFLLE1BRWpCZ3BGLFdBQVksV0FDVixJQUFLck0sR0FBYSxDQUVoQixHQURBcEIsR0FBWSxZQUFhcnNGLE1BQ3JCcXFGLEdBQVNtQyxjQUFlLE9BQzVCakUsR0FBSWlGLEdBQVMsVUFBVyxRQUVwQnh0RixLQUFLNUIsUUFBUXExRixtQkFBcUJqRyxHQUFRMzVELFlBQzVDMjVELEdBQVEzNUQsV0FBV1MsWUFBWWs1RCxJQUdqQ0MsSUFBYyxJQUdsQjhPLFdBQVksU0FBb0IzTyxHQUM5QixHQUFnQyxVQUE1QkEsRUFBWXdCLGFBTWhCLEdBQUkzQixHQUFhLENBRWYsR0FEQXBCLEdBQVksWUFBYXJzRixNQUNyQnFxRixHQUFTbUMsY0FBZSxPQUV4QlcsR0FBT3Q1RCxZQUFjdzVELElBQVdydEYsS0FBSzVCLFFBQVFpSyxNQUFNZ3FGLFlBRTVDL0UsR0FDVEQsR0FBT3g2RCxhQUFhMjZELEdBQVNGLElBRTdCRCxHQUFPOWtFLFlBQVlpbEUsSUFKbkJILEdBQU94NkQsYUFBYTI2RCxHQUFTTCxJQU8zQm50RixLQUFLNUIsUUFBUWlLLE1BQU1ncUYsYUFDckJyeUYsS0FBS2syRixRQUFRL0ksR0FBUUssSUFHdkJqRixHQUFJaUYsR0FBUyxVQUFXLElBQ3hCQyxJQUFjLFFBdEJkenRGLEtBQUs4NUYsZUF3TFBySixJQUNGNU8sR0FBR25tRixTQUFVLGFBQWEsU0FBVXVxRixJQUM3Qm9FLEdBQVN5RCxRQUFVbUMsS0FBd0JoSyxFQUFJaUosWUFDbERqSixFQUFJdnlELG9CQU1WMjJELEdBQVMyUyxNQUFRLENBQ2ZuYixHQUFJQSxHQUNKVSxJQUFLQSxHQUNMZ0csSUFBS0EsR0FDTHIyRSxLQUFNQSxHQUNOK3FGLEdBQUksU0FBWW5zRixFQUFJaWhCLEdBQ2xCLFFBQVNrMkQsR0FBUW4zRSxFQUFJaWhCLEVBQVVqaEIsR0FBSSxJQUVyQ29zRixPQXZpRUYsU0FBZ0JDLEVBQUs3akYsR0FDbkIsR0FBSTZqRixHQUFPN2pGLEVBQ1QsSUFBSyxJQUFJblgsS0FBT21YLEVBQ1ZBLEVBQUlyWSxlQUFla0IsS0FDckJnN0YsRUFBSWg3RixHQUFPbVgsRUFBSW5YLElBS3JCLE9BQU9nN0YsR0EraEVQOVIsU0FBVUEsR0FDVnBELFFBQVNBLEdBQ1RLLFlBQWFBLEdBQ2IxbEMsTUFBT0EsR0FDUGxoRCxNQUFPQSxHQUNQMDdGLFNBQVUxRixHQUNWMkYsZUFBZ0IxRixHQUNoQjJGLGdCQUFpQnhNLEdBQ2pCNUcsU0FBVUEsSUFRWkcsR0FBUy9tRixJQUFNLFNBQVV5N0IsR0FDdkIsT0FBT0EsRUFBUTZzRCxLQVFqQnZCLEdBQVM2QixNQUFRLFdBQ2YsSUFBSyxJQUFJMWlGLEVBQU96SixVQUFVNEIsT0FBUW1xRixFQUFVLElBQUl0ckYsTUFBTWdKLEdBQU9DLEVBQU8sRUFBR0EsRUFBT0QsRUFBTUMsSUFDbEZxaUYsRUFBUXJpRixHQUFRMUosVUFBVTBKLEdBR3hCcWlGLEVBQVEsR0FBR3ZnRixjQUFnQi9LLFFBQU9zckYsRUFBVUEsRUFBUSxJQUN4REEsRUFBUTE5RSxTQUFRLFNBQVUrOUUsR0FDeEIsSUFBS0EsRUFBT3Z2RixZQUFjdXZGLEVBQU92dkYsVUFBVTJPLFlBQ3pDLEtBQU0sZ0VBQWdFN0IsT0FBTyxHQUFHN00sU0FBU2EsS0FBS3l1RixJQUc1RkEsRUFBTzZRLFFBQU8zUyxHQUFTMlMsTUFBUXB4RixHQUFjLEdBQUl5K0UsR0FBUzJTLE1BQU83USxFQUFPNlEsUUFDNUUvUSxHQUFjQyxNQUFNQyxPQVV4QjlCLEdBQVNya0YsT0FBUyxTQUFVOEssRUFBSTFTLEdBQzlCLE9BQU8sSUFBSWlzRixHQUFTdjVFLEVBQUkxUyxJQUkxQmlzRixHQUFTMXNFLFFBOS9FSyxTQWdnRmQsSUFDSTQvRSxHQUNBQyxHQUlBQyxHQU5BQyxHQUFjLEdBaUlEclMsSUFBUyxTQUFVcEYsRUFBSzduRixFQUFTaXZGLEVBQVFzUSxHQUV4RCxHQUFLdi9GLEVBQVF5eUMsT0FBYixDQUNBLElBTUkrc0QsRUFOQTMzRSxHQUFLZ2dFLEVBQUl1TSxRQUFVdk0sRUFBSXVNLFFBQVEsR0FBS3ZNLEdBQUs5bEQsUUFDekMvSyxHQUFLNndELEVBQUl1TSxRQUFVdk0sRUFBSXVNLFFBQVEsR0FBS3ZNLEdBQUs1bEQsUUFDekN3OUQsRUFBT3ovRixFQUFRMC9GLGtCQUNmQyxFQUFRMy9GLEVBQVE0L0YsWUFDaEJuVCxFQUFjM0IsS0FJZHNVLEtBQWlCblEsSUFDbkJtUSxHQUFlblEsRUF0QmpCcVEsR0FBWXR2RixTQUFRLFNBQVU2dkYsR0FDNUJ6akIsY0FBY3lqQixFQUFXQyxRQUUzQlIsR0FBYyxHQXFCWkgsR0FBV24vRixFQUFReXlDLE9BQ25CK3NELEVBQWlCeC9GLEVBQVErL0YsVUFFUixJQUFiWixLQUNGQSxHQUFXeFQsR0FBMkJzRCxHQUFRLEtBSWxELElBQUkrUSxFQUFZLEVBQ1pDLEVBQWdCZCxHQUVwQixFQUFHLENBQ0QsSUFBSXpzRixFQUFLdXRGLEVBQ0x0OUQsRUFBT29vRCxHQUFRcjRFLEdBQ2Z3a0IsRUFBTXlMLEVBQUt6TCxJQUNYQyxFQUFTd0wsRUFBS3hMLE9BQ2R4aUIsRUFBT2d1QixFQUFLaHVCLEtBQ1pDLEVBQVErdEIsRUFBSy90QixNQUNib2dCLEVBQVEyTixFQUFLM04sTUFDYmlDLEVBQVMwTCxFQUFLMUwsT0FDZGlwRSxPQUFhLEVBQ2JDLE9BQWEsRUFDYnIzRCxFQUFjcDJCLEVBQUdvMkIsWUFDakJGLEVBQWVsMkIsRUFBR2syQixhQUNsQitwRCxFQUFReEksR0FBSXozRSxHQUNaMHRGLEVBQWExdEYsRUFBR2d6QixXQUNoQjI2RCxFQUFhM3RGLEVBQUd1ekIsVUFFaEJ2ekIsSUFBTys1RSxHQUNUeVQsRUFBYWxyRSxFQUFROFQsSUFBb0MsU0FBcEI2cEQsRUFBTTk0RCxXQUE0QyxXQUFwQjg0RCxFQUFNOTRELFdBQThDLFlBQXBCODRELEVBQU05NEQsV0FDekdzbUUsRUFBYWxwRSxFQUFTMlIsSUFBcUMsU0FBcEIrcEQsRUFBTWg1RCxXQUE0QyxXQUFwQmc1RCxFQUFNaDVELFdBQThDLFlBQXBCZzVELEVBQU1oNUQsYUFFM0d1bUUsRUFBYWxyRSxFQUFROFQsSUFBb0MsU0FBcEI2cEQsRUFBTTk0RCxXQUE0QyxXQUFwQjg0RCxFQUFNOTRELFdBQ3pFc21FLEVBQWFscEUsRUFBUzJSLElBQXFDLFNBQXBCK3BELEVBQU1oNUQsV0FBNEMsV0FBcEJnNUQsRUFBTWg1RCxZQUc3RSxJQUFJMm1FLEVBQUtKLElBQWV2aEcsS0FBS3MvQyxJQUFJcnBDLEVBQVFpVCxJQUFNNDNFLEdBQVFXLEVBQWFwckUsRUFBUThULElBQWdCbnFDLEtBQUtzL0MsSUFBSXRwQyxFQUFPa1QsSUFBTTQzRSxLQUFVVyxHQUN4SEcsRUFBS0osSUFBZXhoRyxLQUFLcy9DLElBQUk5bUIsRUFBU0gsSUFBTXlvRSxHQUFRWSxFQUFhcHBFLEVBQVMyUixJQUFpQmpxQyxLQUFLcy9DLElBQUkvbUIsRUFBTUYsSUFBTXlvRSxLQUFVWSxHQUU5SCxJQUFLZixHQUFZVSxHQUNmLElBQUssSUFBSWw2RixFQUFJLEVBQUdBLEdBQUtrNkYsRUFBV2w2RixJQUN6Qnc1RixHQUFZeDVGLEtBQ2Z3NUYsR0FBWXg1RixHQUFLLElBS25CdzVGLEdBQVlVLEdBQVdNLElBQU1BLEdBQU1oQixHQUFZVSxHQUFXTyxJQUFNQSxHQUFNakIsR0FBWVUsR0FBV3R0RixLQUFPQSxJQUN0RzRzRixHQUFZVSxHQUFXdHRGLEdBQUtBLEVBQzVCNHNGLEdBQVlVLEdBQVdNLEdBQUtBLEVBQzVCaEIsR0FBWVUsR0FBV08sR0FBS0EsRUFDNUJua0IsY0FBY2tqQixHQUFZVSxHQUFXRixLQUUzQixHQUFOUSxHQUFpQixHQUFOQyxLQUNRLEVBR3JCakIsR0FBWVUsR0FBV0YsSUFBTXpqQixZQUFZLFdBRW5Da2pCLEdBQTZCLElBQWYzOUYsS0FBSzQrRixPQUNyQnZVLEdBQVN5RCxPQUFPbUwsYUFBYXdFLElBSS9CLElBQUlvQixFQUFnQm5CLEdBQVkxOUYsS0FBSzQrRixPQUFPRCxHQUFLakIsR0FBWTE5RixLQUFLNCtGLE9BQU9ELEdBQUtaLEVBQVEsRUFDbEZlLEVBQWdCcEIsR0FBWTE5RixLQUFLNCtGLE9BQU9GLEdBQUtoQixHQUFZMTlGLEtBQUs0K0YsT0FBT0YsR0FBS1gsRUFBUSxFQUV4RCxtQkFBbkJILEdBQ29JLGFBQXpJQSxFQUFlbGdHLEtBQUsyc0YsR0FBU0UsUUFBUTEyRCxXQUFXKzNELElBQVVrVCxFQUFlRCxFQUFlNVksRUFBS3dYLEdBQVlDLEdBQVkxOUYsS0FBSzQrRixPQUFPOXRGLEtBS3ZJeTZFLEdBQVNtUyxHQUFZMTlGLEtBQUs0K0YsT0FBTzl0RixHQUFJZ3VGLEVBQWVELElBQ3BEcDZGLEtBQUssQ0FDTG02RixNQUFPUixJQUNMLE1BSVJBLFVBQ09oZ0csRUFBUTJnRyxjQUFnQlYsSUFBa0J4VCxJQUFnQndULEVBQWdCdFUsR0FBMkJzVSxHQUFlLFFBRzVILElBbEdILElBb0dJVyxHQUFPLFNBQWNsK0MsR0FDdkIsSUFBSW9zQyxFQUFnQnBzQyxFQUFLb3NDLGNBQ3JCVSxFQUFjOXNDLEVBQUs4c0MsWUFDbkJULEVBQVNyc0MsRUFBS3FzQyxPQUNkVSxFQUFpQi9zQyxFQUFLK3NDLGVBQ3RCWSxFQUF3QjN0QyxFQUFLMnRDLHNCQUM3Qk4sRUFBcUJydEMsRUFBS3F0QyxtQkFDMUJFLEVBQXVCdnRDLEVBQUt1dEMscUJBQ2hDLEdBQUtuQixFQUFMLENBQ0EsSUFBSStSLEVBQWFyUixHQUFlQyxFQUNoQ00sSUFDQSxJQUFJMEosRUFBUTNLLEVBQWNnUyxnQkFBa0JoUyxFQUFjZ1MsZUFBZXY5RixPQUFTdXJGLEVBQWNnUyxlQUFlLEdBQUtoUyxFQUNoSGgvRSxFQUFTeFMsU0FBUzg5RixpQkFBaUIzQixFQUFNMTNELFFBQVMwM0QsRUFBTXgzRCxTQUM1RGd1RCxJQUVJNFEsSUFBZUEsRUFBV251RixHQUFHMGlCLFNBQVN0bEIsS0FDeEN1Z0YsRUFBc0IsU0FDdEJ6dUYsS0FBS20vRixRQUFRLENBQ1hoUyxPQUFRQSxFQUNSUyxZQUFhQSxPQUtuQixTQUFTd1IsTUFzQ1QsU0FBU0MsTUFwQ1RELEdBQU94aUcsVUFBWSxDQUNqQjBpRyxXQUFZLEtBQ1pDLFVBQVcsU0FBbUJuL0MsR0FDNUIsSUFBSTR0QyxFQUFvQjV0QyxFQUFNNHRDLGtCQUM5Qmh1RixLQUFLcy9GLFdBQWF0UixHQUVwQm1SLFFBQVMsU0FBaUJLLEdBQ3hCLElBQUlyUyxFQUFTcVMsRUFBTXJTLE9BQ2ZTLEVBQWM0UixFQUFNNVIsWUFDeEI1dEYsS0FBS3VzRixTQUFTMkksd0JBRVZ0SCxHQUNGQSxFQUFZc0gsd0JBR2QsSUFBSXRoRSxFQUFjczJELEdBQVNscUYsS0FBS3VzRixTQUFTejdFLEdBQUk5USxLQUFLcy9GLFdBQVl0L0YsS0FBSzVCLFNBRS9EdzFCLEVBQ0Y1ekIsS0FBS3VzRixTQUFTejdFLEdBQUcraEIsYUFBYXM2RCxFQUFRdjVELEdBRXRDNXpCLEtBQUt1c0YsU0FBU3o3RSxHQUFHeVgsWUFBWTRrRSxHQUcvQm50RixLQUFLdXNGLFNBQVNpSixhQUVWNUgsR0FDRkEsRUFBWTRILGNBR2hCd0osS0FBTUEsSUFHUjlYLEdBQVNrWSxHQUFRLENBQ2ZoVCxXQUFZLGtCQUtkaVQsR0FBT3ppRyxVQUFZLENBQ2pCdWlHLFFBQVMsU0FBaUJNLEdBQ3hCLElBQUl0UyxFQUFTc1MsRUFBTXRTLE9BRWZ1UyxFQURjRCxFQUFNN1IsYUFDWTV0RixLQUFLdXNGLFNBQ3pDbVQsRUFBZXhLLHdCQUNmL0gsRUFBT3Q1RCxZQUFjczVELEVBQU90NUQsV0FBV1MsWUFBWTY0RCxHQUNuRHVTLEVBQWVsSyxjQUVqQndKLEtBQU1BLElBR1I5WCxHQUFTbVksR0FBUSxDQUNmalQsV0FBWSxrQkEwc0JkLFlDbG1IQSxNQUFNdVQsR0FDSnAwRixZQUFtQnd6QixHQWtDakIsU0FBU29yQyxFQUFPdjRDLEVBQVd1YyxHQUN6QjN0QyxNQUFNK0csS0FBSzdMLFNBQVN3MkIsaUJBQWlCTixJQUNwQ3hqQixTQUFTMEMsR0FBT0EsRUFBRzQ5QixRQUFVUCxJQXBDZixLQUFBcFAsVUFDakIrK0IsSUFBZSxDQUFDanVDLEVBQUd5aUMsSUFBVXR5RCxLQUFLOHBFLFdBQ2xDbFksSUFBWSxJQUFNNXhELEtBQUs4cEUsV0FJdkI5cEUsS0FBSzQvRixjQUFjLENBQUMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sTUFBTyxNQUFPLE9BQVEsQ0FBRWx5RCxXQUFXLElBRTdHMXRDLEtBQUs0L0YsY0FBYyxDQUFDLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLEtBQU0sQ0FBRXB5RCxTQUFTLElBRWxGeHRDLEtBQUs0L0YsY0FBYyxDQUFDLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLEtBQU0sQ0FBRXB5RCxTQUFTLEVBQU1DLFVBQVUsSUFHbEd6dEMsS0FBSysrQixRQUFRL0ssaUJBQWlCLFNBQVVueEIsSUFDdEMsR0FBS0EsRUFBRXFMLE9BQXVCa1AsVUFBVW9XLFNBQVMsZUFFL0N4ekIsS0FBSzYvRixrQkFDRDcvRixLQUFLOC9GLGFBQWNqOUYsRUFBRXFMLE9BQXVCd2xDLGNBQWNBLHFCQUU5RCxHQUFLN3dDLEVBQUVxTCxPQUF1QmtQLFVBQVVvVyxTQUFTLG1CQUUvQ3h6QixLQUFLKy9GLGdCQUNELy9GLEtBQUs4L0YsYUFBY2o5RixFQUFFcUwsT0FBdUJ3bEMsY0FBY0Esb0JBQ3pELENBRUwsTUFBTXNzRCxFQUFZaGdHLEtBQUs4L0YsYUFBY2o5RixFQUFFcUwsT0FBdUJ3bEMsZUFDMURzc0QsR0FBYSxHQUNmaGdHLEtBQUtpZ0csaUJBQWlCRCxHQUFXLEdBSXZDbjlGLEVBQUU2d0Isb0JBQ0QsR0FNSHkyQyxFQUFPLGFBQWN0bkUsR0FBTW9vRSxPQUMzQmQsRUFBTyxnQkFBaUJ0bkUsR0FBTThvRSxPQUM5QnhCLEVBQU8saUJBQWtCdG5FLElBQ3ZCLE1BQU1rd0UsRUFBYzVLLEtBRXBCeUQsR0FBV21ILEVBRENsVixLQUFXdnpELFFBQVF5b0UsR0FDRCxNQUVoQzVJLEVBQU8sbUJBQW9CdG5FLElBQ3pCLE1BQU1rd0UsRUFBYzVLLEtBRXBCeUQsR0FBV21ILEVBRENsVixLQUFXdnpELFFBQVF5b0UsR0FDRCxNQUVoQyxNQUFNbGtDLEVBQXlCN3VDLEtBQUsrK0IsUUFBUTVNLGNBQWMsd0JBQzFELFVBQWdCMGMsRUFBVyxDQUN6QjZrRCxXQUFZLGFBQ1pLLFVBQVcsSUFDWFYsT0FBUSxlQUNSNk0sT0FBU3I5RixJQUNQLE1BQU15dkQsRUFBUXVMLEtBQ2RGLEdBQVMsQ0FBQ0MsS0FBTXRMLEVBQU16dkQsRUFBRWtyRixVQUFXL3VDLElBQUtuOEMsRUFBRW9yRixjQUtoRDJSLGNBQWM5K0YsRUFBZ0IxQyxHQUM1QjBDLEVBQUtzTixTQUFRLENBQUNqTSxFQUFLNjhDLElBQVE0L0IsR0FBb0IsQ0FDN0N0eEMsTUFBTyxlQUFpQjBSLEVBQU0sR0FDOUI3OEMsTUFDQStuQixPQUFPLEtBQ0o5ckIsSUFDRHlFLElBQ0YsTUFBTSs2RCxFQUFPQyxLQUFXN2UsR0FDcEI0ZSxHQUFNK00sR0FBUy9NLFFBU3ZCaWlDLGtCQUFrQjdnRCxHQUNoQjJzQixHQUFXOU4sS0FBVzdlLElBT3hCK2dELGdCQUFnQi9nRCxHQUNkeXNCLEdBQVM1TixLQUFXN2UsSUFPdEJpaEQsaUJBQWlCamhELEVBQWFtaEQsR0FFeEJBLEdBQ0Z4MUIsR0FBUzlNLEtBQVc3ZSxJQVF4QjhnRCxhQUFhL2dFLEdBQ1gsTUFBTXFoRSxFQUFVcmhFLEVBQVF2TSxhQUFhLGlCQUNyQyxPQUFJNHRFLEVBQ0tqa0csU0FBU2lrRyxFQUFTLEtBRWpCLEVBUUp0MkIsU0FHTixNQUFNLGNBQUV0VixHQUFrQjdDLEtBQ3BCMHVDLEVBQWV4aUMsS0FDbEJ4N0QsS0FBSSxDQUFDaXZELEVBQUd0UyxJQUFRMWlELE9BQU9zcUIsT0FBTyxDQUM3QmdMLFdBQVkwL0IsRUFBRWw4QyxLQUFPby9DLEVBQWdCLGVBQWlCLEtBQU9sRCxFQUFFOFosVUFBWSxpQkFBbUIsdUJBQXlCOVosRUFBRWlhLGNBQWdCLHFCQUF1QiwyQkFBNkJqYSxFQUFFZ2EsUUFBVSxlQUFpQixvQkFDMU50c0IsTUFDQXNoRCxhQUFjaHZDLEVBQUVsOEMsS0FBT28vQyxHQUFpQnhWLEVBQU0sRUFBSSxpQ0FBaUNBLEVBQUksU0FBU0EsRUFBSSxLQUFPLElBQzFHc1MsS0FFQ3ppQixFQUFZN3VDLEtBQUsrK0IsUUFBUTVNLGNBQWMsd0JBQ3ZDb3VFLEVBQWV2Z0csS0FBSysrQixRQUFRNU0sY0FBYyx1QkFBdUJ1UixVQUN2RW1MLEVBQVVuTCxVQUFZc3ZDLEdBQVd1dEIsRUFBY0YsSUN0SjVDLE1BQU1HLEdBMEJYajFGLFlBQVl3ekIsRUFBc0JvUCxHQXRCbEMsS0FBQXZrQyxNQUFRLEdBQ1IsS0FBQTYyRixZQUFhLEVBQ2IsS0FBQUMsaUJBQWtCLEVBcUJoQjFnRyxLQUFLKytCLFFBQVVBLEVBQ2YvK0IsS0FBS211QyxJQUFNQSxFQUNYbnVDLEtBQUsyZ0csV0FBYTNnRyxLQUFLKytCLFFBQVE1TSxjQUFjLGlCQUM3Q255QixLQUFLMmdHLFdBQVcxZCxTQUFZcGdGLEdBQU03QyxLQUFLKzVDLFNBQVNsM0MsR0FDaEQ3QyxLQUFLMmdHLFdBQVdDLFFBQVcvOUYsR0FBTTdDLEtBQUsrNUMsU0FBU2wzQyxHQUMvQzdDLEtBQUs2Z0csYUFBZTdnRyxLQUFLKytCLFFBQVE1TSxjQUFjLHdCQUMvQ255QixLQUFLNmdHLGFBQWE1ZCxTQUFZcGdGLEdBQU03QyxLQUFLKzVDLFNBQVNsM0MsR0FDbEQ3QyxLQUFLNmdHLGFBQWFELFFBQVcvOUYsR0FBTTdDLEtBQUsrNUMsU0FBU2wzQyxHQUNqRDdDLEtBQUs4Z0csb0JBQXNCOWdHLEtBQUsrK0IsUUFBUTVNLGNBQWMsaUNBQ3REbnlCLEtBQUs4Z0csb0JBQW9CN2QsU0FBWXBnRixHQUFNN0MsS0FBSys1QyxTQUFTbDNDLEdBRzNEaytGLFlBQVlOLEdBQ1Z6Z0csS0FBS3lnRyxXQUFhQSxFQUNsQnpnRyxLQUFLOHBFLFNBR1BrM0IsaUJBQWlCTixHQUNmMWdHLEtBQUswZ0csZ0JBQWtCQSxFQUN2QjFnRyxLQUFLOHBFLFNBUVBtM0IsU0FBU3IzRixHQUNQNUosS0FBSzRKLE1BQVFBLEVBQ2I1SixLQUFLOHBFLFNBR1BvM0IsV0FDRSxPQUFPbGhHLEtBQUs0SixNQU1kdTNGLGFBQ0UsTUFBTUMsRUFBaUJqbEcsU0FBUzZELEtBQUs2Z0csYUFBYXZqRyxNQUFPLElBRXpELE9BRGdCK2pHLE1BQU1ELEdBQWtCLEVBQUlBLEVBQWlCLElBSS9Ecm5ELFNBQVNsM0MsR0FLUCxHQUhBQSxFQUFFNndCLGlCQUNGN3dCLEVBQUUyK0Isa0JBRUd4aEMsS0FBSzhnRyxvQkFBb0I5aEMsUUFLNUJoL0QsS0FBSzRKLE1BQVEsa0JBTHdCLENBQ3JDLE1BQU0wM0YsRUFBVXRoRyxLQUFLbWhHLGFBQ2Y3NkUsRUFBTXZwQixLQUFLNjhCLE1BQWdCLElBQVYwbkUsR0FBZXprRyxTQUFTLElBQy9DbUQsS0FBSzRKLE1uRENKLFNBQW1CMGMsR0FDeEIsR0FBeUIsSUFBckJBLEVBQUloYyxRQUFRLEtBQ2QsT0FBT2djLEVBRVQsR0FBbUIsSUFBZkEsRUFBSTNrQixPQUVOLE9BREF5RyxRQUFRMEwsTUFBTSxtQkFBcUJ3UyxFQUFNLE1BQVFBLEVBQUkza0IsUUFDOUMya0IsRUFFVCxNQUFNaTdFLEVBYUQsU0FBb0JqN0UsR0FDekIsT0FBeUIsSUFBckJBLEVBQUloYyxRQUFRLEtBQ1AsTUFFVGdjLEVBQU1BLEVBQUl4b0IsUUFBUSxJQUFLLElBS1IsQ0FKTDNCLFNBQVNtcUIsRUFBSXU1QixVQUFVLEVBQUcsR0FBSSxJQUM5QjFqRCxTQUFTbXFCLEVBQUl1NUIsVUFBVSxFQUFHLEdBQUksSUFDOUIxakQsU0FBU21xQixFQUFJdTVCLFVBQVUsRUFBRyxHQUFJLElBQzlCMWpELFNBQVNtcUIsRUFBSXU1QixVQUFVLEVBQUcsR0FBSSxJQUFNLE1BckIvQjJoRCxDQUFXbDdFLEdBTTFCLE1BRGUsUUFKTGk3RSxFQUFPLEdBSVksSUFIbkJBLEVBQU8sR0FHc0IsSUFGN0JBLEVBQU8sR0FFZ0MsSUFEdkNBLEVBQU8sR0FDMEMsSW1EZDFDRSxDQUFVemhHLEtBQUsyZ0csV0FBV3JqRyxPQUF3QixJQUFmZ3BCLEVBQUkza0IsT0FBZSxHQUFLLEtBQU8ya0IsR0FNakZ0bUIsS0FBS211QyxNQUdQMjdCLFNBQ0UsR0FBSTlwRSxLQUFLMGdHLGdCQUNQMWdHLEtBQUs4Z0csb0JBQW9CWSxlQUFnQixFQUN6QzFoRyxLQUFLNmdHLGFBQWF2akcsTUFBUSxRQUcxQixHQURBMEMsS0FBSzhnRyxvQkFBb0JZLGVBQWdCLEVBQ3RCLGdCQUFmMWhHLEtBQUs0SixPQUF5QyxNQUFkNUosS0FBSzRKLE9BQWdDLEtBQWY1SixLQUFLNEosTUFDN0Q1SixLQUFLOGdHLG9CQUFvQjloQyxTQUFVLEVBQ25DaC9ELEtBQUsyZ0csV0FBV3ZOLFVBQVcsRUFDM0JwekYsS0FBSzJnRyxXQUFXdDRFLE1BQU1pNUUsUUFBVSxLQUNoQ3RoRyxLQUFLNmdHLGFBQWF6TixVQUFXLEVBQzdCcHpGLEtBQUs2Z0csYUFBYXZqRyxNQUFRLE9BQ3JCLENBQ0wwQyxLQUFLOGdHLG9CQUFvQjloQyxTQUFVLEVBQ25DaC9ELEtBQUsyZ0csV0FBV3ZOLFVBQVcsRUFDM0JwekYsS0FBSzJnRyxXQUFXdDRFLE1BQU1pNUUsUUFBVSxJQUdoQyxNQUFNaDdFLEVuRHFCUCxTQUFtQjZ2QyxHQUV4QixHQUE0QixJQUF4QkEsRUFBSzdyRCxRQUFRLE9BQ2YsT0FBTzZyRCxFQUlULE1BQU1DLEVBQVVGLEdBQVlDLEdBQzVCLElBQUl0cUIsRUFBSXVxQixFQUFRLEdBQUd2NUQsU0FBUyxJQUN4Qmd2QyxFQUFFbHFDLE9BQVMsSUFDYmtxQyxFQUFJLElBQU1BLEdBRVosSUFBSXh2QyxFQUFJKzVELEVBQVEsR0FBR3Y1RCxTQUFTLElBQ3hCUixFQUFFc0YsT0FBUyxJQUNidEYsRUFBSSxJQUFNQSxHQUVaLElBQUl3cUIsRUFBSXV2QyxFQUFRLEdBQUd2NUQsU0FBUyxJQUN4QmdxQixFQUFFbGxCLE9BQVMsSUFDYmtsQixFQUFJLElBQU1BLEdBRVosSUFBSXZGLEVBQUk4MEMsRUFBUSxHQUFHdjVELFNBQVMsSUFLNUIsT0FKSXlrQixFQUFFM2YsT0FBUyxJQUNiMmYsRUFBSSxJQUFNQSxHQUVHLEtBQU91cUIsRUFBSXh2QyxFQUFJd3FCLEVBQUl2RixHbUQ3Q2hCcWdGLENBQVUzaEcsS0FBSzRKLE9BQzNCNUosS0FBSzJnRyxXQUFXcmpHLE1BQVFncEIsRUFBSXU1QixVQUFVLEVBQUd2NUIsRUFBSTNrQixPQUFTLEdBQ3REM0IsS0FBSzZnRyxhQUFhek4sVUFBVyxFQUM3QixJQUNFLE1BQU05dEYsRUFBTTR3RCxHQUFZbDJELEtBQUs0SixPQUM3QjVKLEtBQUs2Z0csYUFBYXZqRyxNQUFTUCxLQUFLNjhCLE1BQWUsSUFBVHQwQixFQUFJLEdBQVcsS0FBTXpJLFdBQzNELE1BQU9nRyxHQUVQdUYsUUFBUXU2QyxLQUFLLDJDQUE0QzNpRCxLQUFLNEosTUFBTy9HLEdBQ3JFN0MsS0FBSzZnRyxhQUFhdmpHLE1BQVEsT0FJNUIwQyxLQUFLeWdHLFlBQ1B6Z0csS0FBSzhnRyxvQkFBb0IxTixVQUFXLEVBQ3BDcHpGLEtBQUsyZ0csV0FBV3ZOLFVBQVcsRUFDM0JwekYsS0FBSzJnRyxXQUFXdDRFLE1BQU1pNUUsUUFBVSxLQUNoQ3RoRyxLQUFLNmdHLGFBQWF6TixVQUFXLEdBRTdCcHpGLEtBQUs4Z0csb0JBQW9CMU4sVUFBVyxHQzdHbkMsTUFBTXdPLEdBVVhyMkYsWUFBc0J3ekIsR0FBQSxLQUFBQSxVQVBaLEtBQUFra0MsT0FBUyxJQUFJNWhFLElBS2IsS0FBQXdnRyxRQUFVLEtBOEJwQkMsa0JBQXNDcHhDLEVBQW1CcXhDLEdBQ3ZELElBQUl6a0csRUFBUSxLQUNSMGtHLEdBQTBCLEVBQzFCQyxHQUFlLEVBa0JuQixPQWpCQXZ4QyxFQUFNdGlELFNBQVNyRyxJQUNiLE1BQU1tNkYsRUFBZUgsRUFBb0JoNkYsR0FDckNrNkYsR0FDRkEsR0FBZSxFQUdmM2tHLEVBQVE0a0csR0FHSkEsSUFBaUI1a0csSUFDbkIwa0csR0FBaUIsTUFJbEJBLElBQ0gxa0csRUFBUSxNQUVIQSxFQU1Dd3NFLE9BQU8yVyxJQUVQMGhCLGlCQUFpQnB3RSxFQUFrQnowQixHQUMzQyxJQUFJMEMsS0FBS2lqRSxPQUFPNS9ELElBQUkwdUIsR0FHbEIsTUFBTSxJQUFJOXNCLE1BQU0saUJBQW1COHNCLEdBRm5DL3hCLEtBQUtpakUsT0FBTzMvRCxJQUFJeXVCLEdBQVVnb0IsU0FBU3o4QyxHQVE3QjhrRyxZQUFZbEssR0FDcEJBLEVBQU85cEYsU0FBU2kwRixJQUVkLE1BQU1uNEUsRUFBUWxxQixLQUFLKytCLFFBQVE1TSxjQUFja3dFLEVBQVV0d0UsVUFDbkQsSUFBSzdILEVBQVMsTUFBTSxJQUFJamxCLE1BQU0sd0JBQTBCbzlGLEVBQVV0d0UsVUFFbEUsTUFBTXV3RSxFQUFZLENBRWhCdm9ELFNBQVd6OEMsSUFFTCxNQUFPQSxHQUFxRCxTQUFWQSxHQUNoREEsSUFBVTRzQixFQUFNNXNCLFFBQU80c0IsRUFBTTVzQixNQUFRQSxHQUN6QzRzQixFQUFNa3BFLFVBQVcsSUFFakJscEUsRUFBTTVzQixNQUFRLEdBQ2Q0c0IsRUFBTWtwRSxVQUFXLEtBTXZCbHBFLEVBQU04SixpQkFBaUJxdUUsRUFBVS9WLFdBQVl6cEYsSUFDM0NBLEVBQUU2d0IsaUJBRUYsTUFBTXRKLEVBQU1GLEVBQU01c0IsTUFBUTRzQixFQUFNNXNCLE1BQVEra0csRUFBVUUsS0FBTyxHQUN6RHZpRyxLQUFLbWpFLGFBQWFrL0IsRUFBVXJ3RCxVQUFXNW5CLE1BS3pDcHFCLEtBQUtpakUsT0FBT25oRSxJQUFJdWdHLEVBQVV0d0UsU0FBVXV3RSxNQUk5Qm4vQixhQUFhbnhCLEVBQW1CNW5CLEdBQ3RCLFVBQWQ0bkIsR0FFcUIsS0FDdEJubUMsUUFBUWlGLEdBQU9BLEVBQUc0a0QsbUJBQXFCL0QsS0FBUTRDLGVBQWNveUIsV0FHNUQxdEIsR0FBVyxJQUNOQyxLQUNIOWxDLE1BQU9qM0IsU0FBU2l1QixLQUt0QmdyQyxHQUFlLEtBQ2QveUQsS0FBS3lPLElBQ0osTUFBTXVYLEVBQVEsR0FFZCxPQURBQSxFQUFNMnBCLEdBQWE1bkIsRUFDWixJQUNGdFosRUFDSHVYLE1BQU8sSUFDRnZYLEVBQUd1WCxTQUNIdXRDLEdBQTBCakUsS0FBUTRDLGFBQWN6akQsRUFBR3VYLE1BQU9vdEMsR0FBbUIza0QsRUFBSUEsRUFBRzRrRCxpQkFBa0JydEMsVUFVdkdtNkUsVUFBVXp3RSxFQUFrQmdvQixFQUE4QnV5QyxFQUFZLFNBQzlFLE9BQU90c0YsS0FBS3lpRyxnQkFBZ0Ixd0UsRUFBVXU2RCxFQUFXdnlDLEdBT3pDMm9ELGFBQWEzd0UsRUFBa0Jnb0IsR0FDdkMsT0FBTy81QyxLQUFLeWlHLGdCQUFnQjF3RSxFQUFVLFNBQVVnb0IsR0FNeEM0b0QsYUFBYTV3RSxFQUFrQmdvQixHQUN2QyxPQUFPLzVDLEtBQUt5aUcsZ0JBQWdCMXdFLEVBQVUsU0FBVWdvQixHQU0xQzBvRCxnQkFBZ0Ixd0UsRUFBa0J1NkQsRUFBbUJ2eUMsR0FFM0QsTUFBTTZvRCxFQUFjNWlHLEtBQUsrK0IsUUFBUTVNLGNBQWNKLEdBVy9DLE9BUkE2d0UsRUFBWTV1RSxpQkFBaUJzNEQsR0FBWXpwRixJQUV2Q0EsRUFBRTZ3QixpQkFDRjd3QixFQUFFMitCLGtCQUVGdVksRUFBU2wzQyxNQUdKKy9GLEdDbExKLE1BQU1DLFdBQWVqQixHQWMxQnIyRixZQUFZd3pCLEdBQ1Z1YyxNQUFNdmMsR0FHTi8rQixLQUFLOGlHLGVBR0w5aUcsS0FBSytpRyxlQUVMbnhDLElBQVksS0FDVjV4RCxLQUFLOHBFLE9BQU8sU0FHZHhVLElBQWtCLEtBQ2hCdDFELEtBQUs4cEUsT0FBTyxTQU9oQmc1QixlQUNFOWlHLEtBQUtnakcsWUFBYyxJQUFJeEMsR0FBWXhnRyxLQUFLKytCLFFBQVE1TSxjQUFjLDBCQUEwQixJQUFNbnlCLEtBQUtpakcsbUJBTXJHRixlQUNFL2lHLEtBQUtrakcsZ0JBQWtCbGpHLEtBQUsrK0IsUUFBUTVNLGNBQWMsb0JBQ2xEbnlCLEtBQUttakcsZUFBaUJuakcsS0FBSysrQixRQUFRNU0sY0FBYywwQkFHakRueUIsS0FBS2tqRyxnQkFBZ0JsdkUsaUJBQWlCLFNBQVMsSUFBTWgwQixLQUFLb2pHLHdCQUF1QixHQUdqRnBqRyxLQUFLbWpHLGVBQWVudkUsaUJBQWlCLFNBQVMsSUFBTWgwQixLQUFLcWpHLHVCQUFzQixHQUcvRXJqRyxLQUFLc2pHLG1CQUFxQnRqRyxLQUFLMGlHLGFBQWEsNEJBQTZCam1FLElBQ3ZFejhCLEtBQUttakUsYUFBYSx3QkFBMEIxbUMsRUFBTXZ1QixPQUE0QjVRLFVBR2hGMEMsS0FBS3VqRyxrQkFBb0J2akcsS0FBSzBpRyxhQUFhLDRCQUE2QmptRSxJQUN0RSxNQUFNK21FLEVBQVl4akcsS0FBS3lqRyxrQkFBa0JubUcsTUFDbkNvbUcsRUFBWTFqRyxLQUFLdWpHLGtCQUFrQmptRyxNQUN6QzBDLEtBQUttakUsYUFBYSxzQkFBdUJ1Z0MsRUFBWSxJQUFNRixNQUc3RHhqRyxLQUFLeWpHLGtCQUFvQnpqRyxLQUFLMGlHLGFBQWEsNEJBQTZCam1FLElBQ3RFLE1BQU0rbUUsRUFBWXhqRyxLQUFLeWpHLGtCQUFrQm5tRyxNQUNuQ29tRyxFQUFZMWpHLEtBQUt1akcsa0JBQWtCam1HLE1BQ3pDMEMsS0FBS21qRSxhQUFhLHNCQUF1QnVnQyxFQUFZLElBQU1GLE1BRzdEeGpHLEtBQUsyakcsZUFBaUIzakcsS0FBSzBpRyxhQUFhLHdCQUF5QmptRSxJQUMvRHo4QixLQUFLbWpFLGFBQWEsb0JBQXNCMW1DLEVBQU12dUIsT0FBNEI1USxVQUc1RTBDLEtBQUs0akcsYUFBZTVqRyxLQUFLMGlHLGFBQWEsc0JBQXVCam1FLElBQzNEejhCLEtBQUttakUsYUFBYSxrQkFBb0IxbUMsRUFBTXZ1QixPQUE0QjVRLFVBUTVFd3NFLE9BQU81SCxHQUdMLEdBRkE1bUIsTUFBTXd1QixPQUFPNUgsR0FFVDRZLEdBQWdCLFNBQVUsY0FBZSxDQUMzQzk2RSxLQUFLKytCLFFBQVExVyxNQUFNQyxRQUFVLEdBRTdCLE1BQU11N0UsRUFBa0JseUMsS0FBUTRDLGFBQWUsU0FBVyxVQUcxRCxHQUFJMk4sRUFBZXZnRSxPQUFTLEVBQUcsQ0FDN0IzQixLQUFLZ2pHLFlBQVlqQyxhQUFZLEdBRTdCLE1BQU1uM0YsRUFBUTVKLEtBQUs4aEcsa0JBQWtCNS9CLEdBQWlCcHhELEdBQU9BLEVBQUd1WCxNQUFNdzdFLEdBQWlCLHFCQUF1QixLQUc5RzdqRyxLQUFLZ2pHLFlBQVloQyxpQkFBMkIsT0FBVnAzRixHQUdyQixNQUFUQSxHQUNGNUosS0FBS2dqRyxZQUFZL0IsU0FBU3IzRixRQUc1QjVKLEtBQUtnakcsWUFBWWpDLGFBQVksR0FJL0IsTUFBTStDLEVBQXNCMXNGLElBQ3RCQSxFQUNGcFgsS0FBS21qRyxlQUFlL2xGLFVBQVV1VixPQUFPLFlBRXJDM3lCLEtBQUttakcsZUFBZS9sRixVQUFVakgsSUFBSSxZQUVwQ25XLEtBQUtzakcsbUJBQW1CbFEsVUFBWWg4RSxFQUNwQ3BYLEtBQUt1akcsa0JBQWtCblEsVUFBWWg4RSxFQUNuQ3BYLEtBQUt5akcsa0JBQWtCclEsVUFBWWg4RSxFQUNuQ3BYLEtBQUsyakcsZUFBZXZRLFVBQVloOEUsRUFDaENwWCxLQUFLNGpHLGFBQWF4USxVQUFZaDhFLEdBSTFCMnNGLEVBQVUvakcsS0FBSzhoRyxrQkFBa0I1L0IsR0FBaUJweEQsR0FBT0EsRUFBR3VYLE1BQU13N0UsR0FBaUIsc0JBR3ZGQyxFQURhLE1BQVhDLEdBQWdDLFNBQVpBLEdBQWtDLEtBQVpBLEdBTzlDLE1BQU1DLEVBQW9CaGtHLEtBQUs4aEcsa0JBQWtCNS9CLEdBQWlCcHhELEdBQU9BLEVBQUd1WCxNQUFNdzdFLEdBQWlCLDJCQUMvRkcsRUFDRmhrRyxLQUFLc2pHLG1CQUFtQmhtRyxNQUFRMG1HLEVBRWhDaGtHLEtBQUtzakcsbUJBQW1CdjFCLGNBQWdCLEVBSTFDLE1BQU1rMkIsRUFBMEJqa0csS0FBSzhoRyxrQkFBa0I1L0IsR0FBaUJweEQsR0FBT0EsRUFBR3VYLE1BQU13N0UsR0FBaUIseUJBQ3pHLEdBQUlJLEdBQXVDLEtBQXBCQSxFQUF3QixDQUM3QyxNQUFNVCxFQUFZUyxFQUFnQmh6RixTQUFTLFFBQVUsT0FBU2d6RixFQUFnQmh6RixTQUFTLFNBQVcsUUFBVWd6RixFQUFnQmh6RixTQUFTLFVBQVksU0FBVyxHQUN0Snl5RixFQUFZTyxFQUFnQmh6RixTQUFTLE9BQVMsTUFBUWd6RixFQUFnQmh6RixTQUFTLFVBQVksU0FBV2d6RixFQUFnQmh6RixTQUFTLFVBQVksU0FBVyxHQUc1SmpSLEtBQUt1akcsa0JBQWtCam1HLE1BQVFvbUcsRUFDL0IxakcsS0FBS3lqRyxrQkFBa0JubUcsTUFBUWttRyxPQUUvQnhqRyxLQUFLdWpHLGtCQUFrQngxQixjQUFnQixFQUN2Qy90RSxLQUFLeWpHLGtCQUFrQjExQixjQUFnQixFQUl6QyxNQUFNbTJCLEVBQWdCbGtHLEtBQUs4aEcsa0JBQWtCNS9CLEdBQWlCcHhELEdBQU9BLEVBQUd1WCxNQUFNdzdFLEdBQWlCLHVCQUUzRkssRUFDRmxrRyxLQUFLMmpHLGVBQWVybUcsTUFBUTRtRyxFQUU1QmxrRyxLQUFLMmpHLGVBQWU1MUIsY0FBZ0IsRUFJdEMsTUFBTW8yQixFQUFjbmtHLEtBQUs4aEcsa0JBQWtCNS9CLEdBQWlCcHhELEdBQU9BLEVBQUd1WCxNQUFNdzdFLEdBQWlCLHFCQUV6Rk0sRUFDRm5rRyxLQUFLNGpHLGFBQWF0bUcsTUFBUTZtRyxFQUUxQm5rRyxLQUFLNGpHLGFBQWE3MUIsY0FBZ0IsT0FHcEMvdEUsS0FBSysrQixRQUFRMVcsTUFBTUMsUUFBVSxPQU9qQzI2RSxpQkFDdUMsZ0JBQWhDampHLEtBQUtnakcsWUFBWTlCLFlBQWtFLElBQWxDbGhHLEtBQUtnakcsWUFBWTdCLGVBQ25FLEtBQXNCbHdGLFNBQVMwbkQsTUFJakMzNEQsS0FBS21qRSxhQUFhLG1CQUFvQm5qRSxLQUFLZ2pHLFlBQVk5QixZQUZ2RGxoRyxLQUFLOHBFLE9BQU8sTUFTaEJwYiw0QkFDRSxJQUVFLE1BQU01ZSxRQUFpQnNlLEdBQWFDLGNBQWNPLFNBQVNSLEdBQWFHLGtCQUN4RSxHQUFJemUsRUFBVSxDQUVaLE1BQU0vUSxFQUFVczJCLEtBQWNuakQsTUFBTXBCLEdBQU9BLEVBQUd1aUMsV0FHOUMraEIsR0FBZSxDQUFDLElBQ1hyMkIsRUFDSDFXLE1BQU91dEMsR0FBMEJqRSxLQUFRNEMsYUFBY3gxQixFQUFRMVcsTUFBTyxDQUFFLG1CQUFvQm9uQixHQUFJMjBELGNBQWN0MEQsRUFBU2dlLGVBRzNILE1BQU9oNkMsR0FDUGc2QixHQUFhK2hCLFlBQVksd0NBQXdDLzdDLEVBQU02b0IsU0FBVyxPQU90RjBtRSxxQkFDRXJqRyxLQUFLbWpFLGFBQWEsbUJBQW9CLEtDM05uQyxNQUFNa2hDLFdBQW1CekMsR0ErQjlCcjJGLFlBQVl3ekIsR0FFVnVjLE1BQU12YyxHQVRSLEtBQUF1bEUsMEJBQWdELEtBS2hELEtBQUFDLDBCQUFnRCxLQU05Q3ZrRyxLQUFLZ2pHLFlBQWMsSUFBSXhDLEdBQVl4Z0csS0FBSysrQixRQUFRNU0sY0FBYywwQkFBMEIsSUFBTW55QixLQUFLd2tHLHlCQUNuR3hrRyxLQUFLc2tHLDBCQUE0QixDQUMvQixtQ0FDQSxxQ0FDQSxzQ0FDQSxxQ0FDQWppRyxLQUFLMHZCLEdBQWEveEIsS0FBSzJpRyxhQUFhNXdFLEdBQVdsdkIsR0FBTTdDLEtBQUt5a0csMkJBRTVEemtHLEtBQUt1a0csMEJBQTRCLENBQy9CLHFDQUNBLHNDQUNBLHlDQUNBLHlDQUNBbGlHLEtBQUswdkIsR0FBYS94QixLQUFLMmlHLGFBQWE1d0UsR0FBVSxJQUFNL3hCLEtBQUswa0csNEJBRTNEMWtHLEtBQUsya0csaUJBQW1CM2tHLEtBQUt3aUcsVUFBVSx1QkFBd0IzL0YsR0FBTTdDLEtBQUt5a0cseUJBQzFFemtHLEtBQUs0a0csb0JBQXNCNWtHLEtBQUswaUcsYUFBYSwwQkFBMkI3L0YsR0FBTTdDLEtBQUs2a0cseUJBQ25GN2tHLEtBQUs4a0csa0JBQW9COWtHLEtBQUt3aUcsVUFBVSx3QkFBeUIzL0YsR0FBTTdDLEtBQUswa0csMEJBRTVFOXlDLElBQVksS0FDVjV4RCxLQUFLOHBFLE9BQU8sU0FHZHhVLElBQWtCLEtBQ2hCdDFELEtBQUs4cEUsT0FBTyxTQU9oQkEsT0FBTzJXLEdBR0wsR0FGQW5sQyxNQUFNd3VCLE9BQU8yVyxHQUVUM0YsR0FBZ0IsU0FBVSxjQUFlLENBQzNDOTZFLEtBQUsrK0IsUUFBUTFXLE1BQU1DLFFBQVUsR0FFN0IsTUFBTWt1QyxFQUFXN0UsS0FBUTRDLGFBQWUsU0FBVyxVQUk3Q3d3QyxFQUFjL2tHLEtBQUs4aEcsa0JBQXdDcmhCLEdBQW1CM3ZFLElBQ2xGLE1BQU1vaUIsRUFBSXBpQixFQUFHdVgsTUFBTW11QyxHQUFVLGdCQUM3QixPQUFJdGpDLEdBQVcsS0FBTkEsRUFDQUEsRUFFQSxRQUtQNnhFLEdBQ0Yva0csS0FBS2dsRyxrQkFBa0JELEdBQ3ZCL2tHLEtBQUtpbEcsa0JBQWtCeGtCLElBRXZCemdGLEtBQUtrbEcsY0FJUCxNQUFNQyxFQUFjbmxHLEtBQUs4aEcsa0JBQWtCcmhCLEdBQW1CM3ZFLEdBQU9BLEVBQUd1WCxNQUFNbXVDLEdBQVUsa0JBRXBGMnVDLEVBQ0ZubEcsS0FBSzRrRyxvQkFBb0J0bkcsTUFBUTZuRyxFQUVqQ25sRyxLQUFLNGtHLG9CQUFvQjcyQixjQUFnQixFQUkzQyxNQUFNcTNCLEVBQWtCcGxHLEtBQUs4aEcsa0JBQWtCcmhCLEdBQW1CM3ZFLEdBQU9BLEVBQUd1WCxNQUFNbXVDLEdBQVUsbUJBRXhGNHVDLEVBQ0ZwbEcsS0FBS3FsRyxtQkFBbUJELEdBRXhCcGxHLEtBQUtzbEcseUJBR1B0bEcsS0FBSysrQixRQUFRMVcsTUFBTUMsUUFBVSxPQU9qQzI4RSxrQkFBa0J4a0IsR0FDaEIsTUFBTWpxQixFQUFXN0UsS0FBUTRDLGFBQWUsU0FBVyxVQUVuRCxHQUFJa3NCLEVBQWlCOStFLE9BQVMsRUFBRyxDQUMvQjNCLEtBQUtnakcsWUFBWWpDLGFBQVksR0FDN0IsTUFBTW4zRixFQUFRNUosS0FBSzhoRyxrQkFBa0JyaEIsR0FBbUIzdkUsR0FBT0EsRUFBR3VYLE1BQU1tdUMsR0FBVSxpQkFBbUIsa0JBR3JHeDJELEtBQUtnakcsWUFBWWhDLGlCQUEwQixNQUFUcDNGLEdBR3JCLE1BQVRBLEdBQ0Y1SixLQUFLZ2pHLFlBQVkvQixTQUFTcjNGLFFBRzVCNUosS0FBS2dqRyxZQUFZakMsYUFBWSxHQU9qQ3NFLG1CQUFtQk4sR0FDakIsTUFBTTdwRixFQUFTNnBGLEVBQVlsZ0csTUFBTSxLQUdqQyxJQUFJdWxCLEVBQU1sUCxFQUFPLEdBWWpCLElBWGlCLE1BQWJBLEVBQU8sSUFBdUIsTUFBUmtQLEdBQXVCLFFBQVJBLEtBQ3ZDQSxFQUFNbFAsRUFBTyxLQUVFLE1BQWJBLEVBQU8sSUFBdUIsTUFBUmtQLEdBQXVCLFFBQVJBLEtBQ3ZDQSxFQUFNbFAsRUFBTyxLQUVFLE1BQWJBLEVBQU8sSUFBdUIsTUFBUmtQLEdBQXVCLFFBQVJBLEtBQ3ZDQSxFQUFNbFAsRUFBTyxJQUlKLE1BQVBrUCxHQUF3QixNQUFSQSxHQUF1QixRQUFSQSxFQUFlLENBSWhELElBQUk0MEIsRUFISmgvQyxLQUFLOGtHLGtCQUFrQnhuRyxNQUFROHNCLEVBQUl3bEIsT0FBTyxFQUFHeGxCLEVBQUk5ZixRQUFRLE9BSXpELE1BQU0xRSxFQUFNNUYsS0FBS3VrRywwQkFBMEI1aUcsT0FDM0MsSUFBS3E5QyxFQUFNLEVBQUdBLEVBQU1wNUMsRUFBS281QyxJQUFPLENBQzlCLE1BQU11bUQsRUFBV3ZsRyxLQUFLdWtHLDBCQUEwQnZsRCxHQUM1QixNQUFoQjlqQyxFQUFPOGpDLElBQWdDLFFBQWhCOWpDLEVBQU84akMsR0FDaEN1bUQsRUFBU3ZtQyxTQUFVLEVBRW5CdW1DLEVBQVN2bUMsU0FBVSxRQUl2QmgvRCxLQUFLc2xHLG9CQU9UTixrQkFBa0JELEdBRWhCLE1BQU03cEYsRUFBUzZwRixFQUFZbGdHLE1BQU0sS0FHakMsSUFBSXVsQixFQUFNbFAsRUFBTyxHQVlqQixJQVhpQixNQUFiQSxFQUFPLElBQXVCLE1BQVJrUCxHQUF1QixRQUFSQSxLQUN2Q0EsRUFBTWxQLEVBQU8sS0FFRSxNQUFiQSxFQUFPLElBQXVCLE1BQVJrUCxHQUF1QixRQUFSQSxLQUN2Q0EsRUFBTWxQLEVBQU8sS0FFRSxNQUFiQSxFQUFPLElBQXVCLE1BQVJrUCxHQUF1QixRQUFSQSxLQUN2Q0EsRUFBTWxQLEVBQU8sSUFJSCxNQUFSa1AsR0FBdUIsUUFBUkEsRUFBZSxDQUNoQ3BxQixLQUFLMmtHLGlCQUFpQnJuRyxNQUFROHNCLEVBQUl3bEIsT0FBTyxFQUFHeGxCLEVBQUk5ZixRQUFRLE9BR3hELE1BQU0xRSxFQUFNNUYsS0FBS3NrRywwQkFBMEIzaUcsT0FDM0MsSUFBSyxJQUFJcTlDLEVBQU0sRUFBR0EsRUFBTXA1QyxFQUFLbzVDLElBQU8sQ0FDbEMsTUFBTXVtRCxFQUFXdmxHLEtBQUtza0csMEJBQTBCdGxELEdBQzVDOWpDLEVBQU92WixPQUFTcTlDLEdBQXVCLE1BQWhCOWpDLEVBQU84akMsSUFDZCxRQUFoQjlqQyxFQUFPOGpDLEdBQ1R1bUQsRUFBU3ZtQyxTQUFVLEVBRW5CdW1DLEVBQVN2bUMsU0FBVSxRQUl2QmgvRCxLQUFLa2xHLGNBT1RJLG9CQUlFLElBQUl0bUQsRUFISmgvQyxLQUFLOGtHLGtCQUFrQnhuRyxNQUFRLEdBSS9CLE1BQU1zSSxFQUFNNUYsS0FBS3VrRywwQkFBMEI1aUcsT0FDM0MsSUFBS3E5QyxFQUFNLEVBQUdBLEVBQU1wNUMsRUFBS281QyxJQUNOaC9DLEtBQUt1a0csMEJBQTBCdmxELEdBQ3ZDZ2dCLFNBQVUsRUFPdkJrbUMsY0FJRSxJQUFJbG1ELEVBSEpoL0MsS0FBSzJrRyxpQkFBaUJybkcsTUFBUSxHQUk5QixNQUFNc0ksRUFBTTVGLEtBQUtza0csMEJBQTBCM2lHLE9BQzNDLElBQUtxOUMsRUFBTSxFQUFHQSxFQUFNcDVDLEVBQUtvNUMsSUFDTmgvQyxLQUFLc2tHLDBCQUEwQnRsRCxHQUN2Q2dnQixTQUFVLEVBSXJCaC9ELEtBQUtnakcsWUFBWS9CLFNBQVMsSUFDMUJqaEcsS0FBS2dqRyxZQUFZakMsYUFBWSxHQU8vQjBELHVCQUNFLEdBQUl6a0csS0FBSzJrRyxpQkFBaUJybkcsT0FBeUMsS0FBaEMwQyxLQUFLMmtHLGlCQUFpQnJuRyxPQUFnRCxNQUFoQzBDLEtBQUsya0csaUJBQWlCcm5HLE1BQWUsQ0FFNUcwQyxLQUFLZ2pHLFlBQVlqQyxhQUFZLEdBQ00sTUFBL0IvZ0csS0FBS2dqRyxZQUFZOUIsWUFBc0QsS0FBaENsaEcsS0FBS2dqRyxZQUFZOUIsWUFDMURsaEcsS0FBS2dqRyxZQUFZL0IsU0FBUyxpQkFJNUIsSUFDSWppRCxFQURBd21ELEVBQWlCLEdBRXJCLE1BQU01L0YsRUFBTTVGLEtBQUtza0csMEJBQTBCM2lHLE9BQzNDLElBQUtxOUMsRUFBTSxFQUFHQSxFQUFNcDVDLEVBQUtvNUMsSUFDTmgvQyxLQUFLc2tHLDBCQUEwQnRsRCxHQUNuQ2dnQixRQUNYd21DLEdBQWtCeGxHLEtBQUsya0csaUJBQWlCcm5HLE1BQVEsTUFFaERrb0csR0FBa0IsS0FNdEJ4bEcsS0FBS2dqRyxZQUFZaEMsa0JBQWlCLEdBRWxDLE1BQU15RSxFQUFpQnpsRyxLQUFLNGtHLG9CQUFvQnRuRyxNQUVoRDgzRCxHQUFlLEtBQ2QveUQsS0FBS3lPLElBQ0ssSUFDRkEsRUFDSHVYLE1BQU91dEMsR0FBMEJqRSxLQUFRNEMsYUFBY3pqRCxFQUFHdVgsTUFBTyxDQUMvRCxlQUFnQm05RSxFQUNoQixlQUFnQkMsY0FLeEJyd0MsR0FBZSxLQUNkL3lELEtBQUt5TyxJQUNHLElBQ0ZBLEVBQ0h1WCxNQUFPdXRDLEdBQTBCakUsS0FBUTRDLGFBQWN6akQsRUFBR3VYLE1BQU8sQ0FDL0QsZUFBZ0IsR0FDaEIsZUFBZ0IsVUFJdEJyb0IsS0FBS2dqRyxZQUFZakMsYUFBWSxHQVNqQzhELHVCQUNFN2tHLEtBQUttakUsYUFBYSxlQUFnQm5qRSxLQUFLNGtHLG9CQUFvQnRuRyxPQU83RGtuRyx1QkFDRXhrRyxLQUFLbWpFLGFBQWEsZUFBZ0JuakUsS0FBS2dqRyxZQUFZOUIsWUFPckR3RCx3QkFFRSxHQUFvQyxNQUFoQzFrRyxLQUFLOGtHLGtCQUFrQnhuRyxPQUNVLEtBQWpDMEMsS0FBSzhrRyxrQkFBa0J4bkcsTUFBYyxDQUV2QyxJQUNJMGhELEVBREF3bUQsRUFBaUIsR0FFckIsTUFBTTUvRixFQUFNNUYsS0FBS3VrRywwQkFBMEI1aUcsT0FDM0MsSUFBS3E5QyxFQUFNLEVBQUdBLEVBQU1wNUMsRUFBS281QyxJQUNOaC9DLEtBQUt1a0csMEJBQTBCdmxELEdBQ25DZ2dCLFFBQ1h3bUMsR0FBa0J4bEcsS0FBSzhrRyxrQkFBa0J4bkcsTUFBUSxNQUVqRGtvRyxHQUFrQixLQUd0QnhsRyxLQUFLbWpFLGFBQWEsZ0JBQWlCcWlDLFFBRW5DeGxHLEtBQUttakUsYUFBYSxnQkFBaUIsT0M5VnpDLE1BQU11aUMsR0FBYSxJQUFJOTNGLFFBOENWKzNGLEdBQWVDLEdBQ0osbUJBQU5BLEdBQW9CRixHQUFXcmlHLElBQUl1aUcsR0M1Q3hDQyxHQUFpQyxvQkFBWHBxRyxRQUNOLE1BQXpCQSxPQUFPcXFHLHFCQUVIMW1HLElBREozRCxPQUFPcXFHLGVBQWVDLDBCQWtCYkMsR0FBYyxDQUFDbjNELEVBQVdobkMsRUFBT1csRUFBTSxRQUNoRCxLQUFPWCxJQUFVVyxHQUFLLENBQ2xCLE1BQU13RyxFQUFJbkgsRUFBTStyQixZQUNoQmliLEVBQVV2YSxZQUFZenNCLEdBQ3RCQSxFQUFRbUgsSUN2QkhpM0YsR0FBVyxHQUlYQyxHQUFVLEdDSlZDLEdBQVMsU0FBUzcyRixPQUFPdlMsS0FBSzB3QixVQUFVeHZCLE1BQU0sT0FLOUNtb0csR0FBYSxVQUFPRCxXQUNwQkUsR0FBYyxJQUFJbGxHLE9BQU8sR0FBR2dsRyxNQUFVQyxNQUl0Q0UsR0FBdUIsUUFJN0IsTUFBTUMsR0FDVGg3RixZQUFZL00sRUFBUXVnQyxHQUNoQi8rQixLQUFLd21HLE1BQVEsR0FDYnhtRyxLQUFLKytCLFFBQVVBLEVBQ2YsTUFBTTBuRSxFQUFnQixHQUNoQkMsRUFBUSxHQUVSQyxFQUFTanJHLFNBQVNrckcsaUJBQWlCN25FLEVBQVF0WCxRQUFTLElBQWtELE1BQU0sR0FJbEgsSUFBSW8vRSxFQUFnQixFQUNoQm5sRyxHQUFTLEVBQ1RvbEcsRUFBWSxFQUNoQixNQUFNLFFBQUVDLEVBQVM3ckYsUUFBUSxPQUFFdlosSUFBYW5ELEVBQ3hDLEtBQU9zb0csRUFBWW5sRyxHQUFRLENBQ3ZCLE1BQU15NEIsRUFBT3VzRSxFQUFPSyxXQUNwQixHQUFhLE9BQVQ1c0UsR0FTSixHQURBMTRCLElBQ3NCLElBQWxCMDRCLEVBQUtnUSxTQUF3QyxDQUM3QyxHQUFJaFEsRUFBSzZzRSxnQkFBaUIsQ0FDdEIsTUFBTXQxRSxFQUFheUksRUFBS3pJLFlBQ2xCLE9BQUVod0IsR0FBV2d3QixFQU1uQixJQUFJcWEsRUFBUSxFQUNaLElBQUssSUFBSTluQyxFQUFJLEVBQUdBLEVBQUl2QyxFQUFRdUMsSUFDcEJxc0MsR0FBUzVlLEVBQVd6dEIsR0FBR2dWLEtBQU1vdEYsS0FDN0J0NkQsSUFHUixLQUFPQSxLQUFVLEdBQUcsQ0FHaEIsTUFBTWs3RCxFQUFnQkgsRUFBUUQsR0FFeEI1dEYsRUFBT2l1RixHQUF1QnRtRyxLQUFLcW1HLEdBQWUsR0FNbERFLEVBQXNCbHVGLEVBQUsrSyxjQUFnQnFpRixHQUMzQ2UsRUFBaUJqdEUsRUFBSzVILGFBQWE0MEUsR0FDekNodEUsRUFBSzBzQyxnQkFBZ0JzZ0MsR0FDckIsTUFBTUUsRUFBVUQsRUFBZXhpRyxNQUFNd2hHLElBQ3JDcm1HLEtBQUt3bUcsTUFBTS9pRyxLQUFLLENBQUVsRyxLQUFNLFlBQWFtRSxRQUFPd1gsT0FBTTZ0RixRQUFTTyxJQUMzRFIsR0FBYVEsRUFBUTNsRyxPQUFTLEdBR2pCLGFBQWpCeTRCLEVBQUt1RCxVQUNMK29FLEVBQU1qakcsS0FBSzIyQixHQUNYdXNFLEVBQU9ZLFlBQWNudEUsRUFBSzNTLGNBRzdCLEdBQXNCLElBQWxCMlMsRUFBS2dRLFNBQXFDLENBQy9DLE1BQU05bkMsRUFBTzgzQixFQUFLOTNCLEtBQ2xCLEdBQUlBLEVBQUtnSSxRQUFRNjdGLEtBQVcsRUFBRyxDQUMzQixNQUFNNXJFLEVBQVNILEVBQUt2RyxXQUNka3pFLEVBQVV6a0csRUFBS3VDLE1BQU13aEcsSUFDckJyN0UsRUFBWSs3RSxFQUFRcGxHLE9BQVMsRUFHbkMsSUFBSyxJQUFJdUMsRUFBSSxFQUFHQSxFQUFJOG1CLEVBQVc5bUIsSUFBSyxDQUNoQyxJQUFJa0IsRUFDQXVtQyxFQUFJbzdELEVBQVE3aUcsR0FDaEIsR0FBVSxLQUFOeW5DLEVBQ0F2bUMsRUFBU29pRyxTQUVSLENBQ0QsTUFBTTlwRixFQUFReXBGLEdBQXVCdG1HLEtBQUs4cUMsR0FDNUIsT0FBVmp1QixHQUFrQjZ5QixHQUFTN3lCLEVBQU0sR0FBSTRvRixNQUNyQzM2RCxFQUFJQSxFQUFFMXRDLE1BQU0sRUFBR3lmLEVBQU1oYyxPQUFTZ2MsRUFBTSxHQUNoQ0EsRUFBTSxHQUFHemYsTUFBTSxHQUFJcW9HLEdBQXFCM2tHLFFBQVUrYixFQUFNLElBRWhFdFksRUFBUzFKLFNBQVNzaEMsZUFBZTJPLEdBRXJDcFIsRUFBTzFILGFBQWF6dEIsRUFBUWcxQixHQUM1QnA2QixLQUFLd21HLE1BQU0vaUcsS0FBSyxDQUFFbEcsS0FBTSxPQUFRbUUsUUFBU0EsSUFJbEIsS0FBdkJxbEcsRUFBUS83RSxJQUNSdVAsRUFBTzFILGFBQWEyMEUsS0FBZ0JwdEUsR0FDcENxc0UsRUFBY2hqRyxLQUFLMjJCLElBR25CQSxFQUFLOTNCLEtBQU95a0csRUFBUS83RSxHQUd4Qjg3RSxHQUFhOTdFLFFBR2hCLEdBQXNCLElBQWxCb1AsRUFBS2dRLFNBQ1YsR0FBSWhRLEVBQUs5M0IsT0FBUzZqRyxHQUFRLENBQ3RCLE1BQU01ckUsRUFBU0gsRUFBS3ZHLFdBS1MsT0FBekJ1RyxFQUFLN0YsaUJBQTRCN3lCLElBQVVtbEcsSUFDM0NubEcsSUFDQTY0QixFQUFPMUgsYUFBYTIwRSxLQUFnQnB0RSxJQUV4Q3lzRSxFQUFnQm5sRyxFQUNoQjFCLEtBQUt3bUcsTUFBTS9pRyxLQUFLLENBQUVsRyxLQUFNLE9BQVFtRSxVQUdQLE9BQXJCMDRCLEVBQUt4RyxZQUNMd0csRUFBSzkzQixLQUFPLElBR1pta0csRUFBY2hqRyxLQUFLMjJCLEdBQ25CMTRCLEtBRUpvbEcsUUFFQyxDQUNELElBQUk1aUcsR0FBSyxFQUNULE1BQW1ELEtBQTNDQSxFQUFJazJCLEVBQUs5M0IsS0FBS2dJLFFBQVE2N0YsR0FBUWppRyxFQUFJLEtBS3RDbEUsS0FBS3dtRyxNQUFNL2lHLEtBQUssQ0FBRWxHLEtBQU0sT0FBUW1FLE9BQVEsSUFDeENvbEcsVUFqSFJILEVBQU9ZLFlBQWNiLEVBQU1sakcsTUF1SG5DLElBQUssTUFBTXdMLEtBQUt5M0YsRUFDWnozRixFQUFFNmtCLFdBQVdTLFlBQVl0bEIsSUFJckMsTUFBTXVoQyxHQUFXLENBQUNqeEIsRUFBS21vRixLQUNuQixNQUFNL2xHLEVBQVE0ZCxFQUFJM2QsT0FBUzhsRyxFQUFPOWxHLE9BQ2xDLE9BQU9ELEdBQVMsR0FBSzRkLEVBQUlyaEIsTUFBTXlELEtBQVcrbEcsR0FFakNDLEdBQXdCQyxJQUF5QixJQUFoQkEsRUFBS2ptRyxNQUd0QzhsRyxHQUFlLElBQU05ckcsU0FBU2tzRyxjQUFjLElBMkI1Q1QsR0FFYiw2SUNsTU8sTUFBTVUsR0FDVHQ4RixZQUFZdThGLEVBQVVDLEVBQVczcEcsR0FDN0I0QixLQUFLZ29HLFFBQVUsR0FDZmhvRyxLQUFLOG5HLFNBQVdBLEVBQ2hCOW5HLEtBQUsrbkcsVUFBWUEsRUFDakIvbkcsS0FBSzVCLFFBQVVBLEVBRW5CMDhDLE9BQU81L0IsR0FDSCxJQUFJaFgsRUFBSSxFQUNSLElBQUssTUFBTXlqRyxLQUFRM25HLEtBQUtnb0csYUFDUDVvRyxJQUFUdW9HLEdBQ0FBLEVBQUtuekUsU0FBU3RaLEVBQU9oWCxJQUV6QkEsSUFFSixJQUFLLE1BQU15akcsS0FBUTNuRyxLQUFLZ29HLGFBQ1A1b0csSUFBVHVvRyxHQUNBQSxFQUFLTSxTQUlqQkMsU0FzQ0ksTUFBTXRyQyxFQUFXaXBDLEdBQ2I3bEcsS0FBSzhuRyxTQUFTL29FLFFBQVF0WCxRQUFRc2UsV0FBVSxHQUN4Q3JxQyxTQUFTeXNHLFdBQVdub0csS0FBSzhuRyxTQUFTL29FLFFBQVF0WCxTQUFTLEdBQ2pEaS9FLEVBQVEsR0FDUkYsRUFBUXhtRyxLQUFLOG5HLFNBQVN0QixNQUV0QkcsRUFBU2pyRyxTQUFTa3JHLGlCQUFpQmhxQyxFQUFVLElBQWtELE1BQU0sR0FDM0csSUFFSStxQyxFQUZBYixFQUFZLEVBQ1pzQixFQUFZLEVBRVpodUUsRUFBT3VzRSxFQUFPSyxXQUVsQixLQUFPRixFQUFZTixFQUFNN2tHLFFBRXJCLEdBREFnbUcsRUFBT25CLEVBQU1NLEdBQ1JZLEdBQXFCQyxHQUExQixDQVFBLEtBQU9TLEVBQVlULEVBQUtqbUcsT0FDcEIwbUcsSUFDc0IsYUFBbEJodUUsRUFBS3N3RCxXQUNMZ2MsRUFBTWpqRyxLQUFLMjJCLEdBQ1h1c0UsRUFBT1ksWUFBY250RSxFQUFLM1MsU0FFSyxRQUE5QjJTLEVBQU91c0UsRUFBT0ssY0FLZkwsRUFBT1ksWUFBY2IsRUFBTWxqRyxNQUMzQjQyQixFQUFPdXNFLEVBQU9LLFlBSXRCLEdBQWtCLFNBQWRXLEVBQUtwcUcsS0FBaUIsQ0FDdEIsTUFBTW9xRyxFQUFPM25HLEtBQUsrbkcsVUFBVU0scUJBQXFCcm9HLEtBQUs1QixTQUN0RHVwRyxFQUFLVyxnQkFBZ0JsdUUsRUFBSzdGLGlCQUMxQnYwQixLQUFLZ29HLFFBQVF2a0csS0FBS2trRyxRQUdsQjNuRyxLQUFLZ29HLFFBQVF2a0csUUFBUXpELEtBQUsrbkcsVUFBVVEsMkJBQTJCbnVFLEVBQU11dEUsRUFBS3p1RixLQUFNeXVGLEVBQUtaLFFBQVMvbUcsS0FBSzVCLFVBRXZHMG9HLFNBL0JJOW1HLEtBQUtnb0csUUFBUXZrRyxVQUFLckUsR0FDbEIwbkcsSUFvQ1IsT0FKSWpCLEtBQ0FucUcsU0FBUzhzRyxVQUFVNXJDLEdBQ25Ca3BDLGVBQWUyQyxRQUFRN3JDLElBRXBCQSxHQ3hHZixNQUFNOHJDLEdBQVNqdEcsT0FBT2t0RyxjQUNsQkEsYUFBYUMsYUFBYSxXQUFZLENBQUVDLFdBQWFsOUQsR0FBTUEsSUFDekRtOUQsR0FBZ0IsSUFBSTNDLE1BS25CLE1BQU00QyxHQUNUeDlGLFlBQVl3N0YsRUFBUzdyRixFQUFRM2QsRUFBTXdxRyxHQUMvQi9uRyxLQUFLK21HLFFBQVVBLEVBQ2YvbUcsS0FBS2tiLE9BQVNBLEVBQ2RsYixLQUFLekMsS0FBT0EsRUFDWnlDLEtBQUsrbkcsVUFBWUEsRUFLckJpQixVQUNJLE1BQU0zakQsRUFBSXJsRCxLQUFLK21HLFFBQVFwbEcsT0FBUyxFQUNoQyxJQUFJMmxCLEVBQU8sR0FDUDJoRixHQUFtQixFQUN2QixJQUFLLElBQUkva0csRUFBSSxFQUFHQSxFQUFJbWhELEVBQUduaEQsSUFBSyxDQUN4QixNQUFNeW5DLEVBQUkzckMsS0FBSyttRyxRQUFRN2lHLEdBa0JqQmdsRyxFQUFjdjlELEVBQUV3OUQsWUFBWSxXQUlsQ0YsR0FBb0JDLEdBQWUsR0FBS0QsS0FDRyxJQUF2Q3Q5RCxFQUFFcmhDLFFBQVEsU0FBTzQrRixFQUFjLEdBSW5DLE1BQU1FLEVBQWlCakMsR0FBdUJ0bUcsS0FBSzhxQyxHQU8vQ3JrQixHQU5tQixPQUFuQjhoRixFQU1RejlELEdBQUtzOUQsRUFBbUJILEdBQWdCMUMsSUFNeEN6NkQsRUFBRWlFLE9BQU8sRUFBR3c1RCxFQUFlMW5HLE9BQVMwbkcsRUFBZSxHQUN2REEsRUFBZSxHQUFLOUMsR0FBdUI4QyxFQUFlLEdBQzFEakQsR0FJWixPQURBNytFLEdBQVF0bkIsS0FBSyttRyxRQUFRMWhELEdBQ2QvOUIsRUFFWCtoRixxQkFDSSxNQUFNdkIsRUFBV3BzRyxTQUFTQyxjQUFjLFlBQ3hDLElBQUkyQixFQUFRMEMsS0FBS2dwRyxVQVNqQixZQVJlNXBHLElBQVhzcEcsS0FLQXByRyxFQUFRb3JHLEdBQU9HLFdBQVd2ckcsSUFFOUJ3cUcsRUFBU3BrRSxVQUFZcG1DLEVBQ2R3cUcsR0N4RlIsTUFBTXdCLEdBQWVoc0csR0FDTixPQUFWQSxLQUNlLGlCQUFWQSxHQUF1QyxtQkFBVkEsR0FFakNpc0csR0FBY2pzRyxHQUNoQmtELE1BQU15RCxRQUFRM0csT0FFZEEsSUFBU0EsRUFBTStKLE9BQU9DLFdBTzFCLE1BQU1raUcsR0FDVGorRixZQUFZd3pCLEVBQVM3bEIsRUFBTTZ0RixHQUN2Qi9tRyxLQUFLbXlELE9BQVEsRUFDYm55RCxLQUFLKytCLFFBQVVBLEVBQ2YvK0IsS0FBS2taLEtBQU9BLEVBQ1psWixLQUFLK21HLFFBQVVBLEVBQ2YvbUcsS0FBS3dtRyxNQUFRLEdBQ2IsSUFBSyxJQUFJdGlHLEVBQUksRUFBR0EsRUFBSTZpRyxFQUFRcGxHLE9BQVMsRUFBR3VDLElBQ3BDbEUsS0FBS3dtRyxNQUFNdGlHLEdBQUtsRSxLQUFLeXBHLGNBTTdCQSxjQUNJLE9BQU8sSUFBSUMsR0FBYzFwRyxNQUU3QjJwRyxZQUNJLE1BQU01QyxFQUFVL21HLEtBQUsrbUcsUUFDZjFoRCxFQUFJMGhELEVBQVFwbEcsT0FBUyxFQUNyQjZrRyxFQUFReG1HLEtBQUt3bUcsTUFjbkIsR0FBVSxJQUFObmhELEdBQTBCLEtBQWYwaEQsRUFBUSxJQUE0QixLQUFmQSxFQUFRLEdBQVcsQ0FDbkQsTUFBTW4wRSxFQUFJNHpFLEVBQU0sR0FBR2xwRyxNQUNuQixHQUFpQixpQkFBTnMxQixFQUNQLE9BQU90akIsT0FBT3NqQixHQUVsQixHQUFpQixpQkFBTkEsSUFBbUIyMkUsR0FBVzMyRSxHQUNyQyxPQUFPQSxFQUdmLElBQUlqcEIsRUFBTyxHQUNYLElBQUssSUFBSXpGLEVBQUksRUFBR0EsRUFBSW1oRCxFQUFHbmhELElBQUssQ0FDeEJ5RixHQUFRbzlGLEVBQVE3aUcsR0FDaEIsTUFBTXlqRyxFQUFPbkIsRUFBTXRpRyxHQUNuQixRQUFhOUUsSUFBVHVvRyxFQUFvQixDQUNwQixNQUFNLzBFLEVBQUkrMEUsRUFBS3JxRyxNQUNmLEdBQUlnc0csR0FBWTEyRSxLQUFPMjJFLEdBQVczMkUsR0FDOUJqcEIsR0FBcUIsaUJBQU5pcEIsRUFBaUJBLEVBQUl0akIsT0FBT3NqQixRQUczQyxJQUFLLE1BQU02QixLQUFLN0IsRUFDWmpwQixHQUFxQixpQkFBTjhxQixFQUFpQkEsRUFBSW5sQixPQUFPbWxCLElBTTNELE9BREE5cUIsR0FBUW85RixFQUFRMWhELEdBQ1QxN0MsRUFFWHMrRixTQUNRam9HLEtBQUtteUQsUUFDTG55RCxLQUFLbXlELE9BQVEsRUFDYm55RCxLQUFLKytCLFFBQVFqTixhQUFhOXhCLEtBQUtrWixLQUFNbFosS0FBSzJwRyxlQU8vQyxNQUFNRCxHQUNUbitGLFlBQVlxK0YsR0FDUjVwRyxLQUFLMUMsV0FBUThCLEVBQ2JZLEtBQUs0cEcsVUFBWUEsRUFFckJwMUUsU0FBU2wzQixHQUNEQSxJQUFVMm9HLElBQWNxRCxHQUFZaHNHLElBQVVBLElBQVUwQyxLQUFLMUMsUUFDN0QwQyxLQUFLMUMsTUFBUUEsRUFJUnFvRyxHQUFZcm9HLEtBQ2IwQyxLQUFLNHBHLFVBQVV6M0MsT0FBUSxJQUluQzgxQyxTQUNJLEtBQU90QyxHQUFZM2xHLEtBQUsxQyxRQUFRLENBQzVCLE1BQU11c0csRUFBWTdwRyxLQUFLMUMsTUFDdkIwQyxLQUFLMUMsTUFBUTJvRyxHQUNiNEQsRUFBVTdwRyxNQUVWQSxLQUFLMUMsUUFBVTJvRyxJQUduQmptRyxLQUFLNHBHLFVBQVUzQixVQVdoQixNQUFNNkIsR0FDVHYrRixZQUFZbk4sR0FDUjRCLEtBQUsxQyxXQUFROEIsRUFDYlksS0FBSytwRyxvQkFBaUIzcUcsRUFDdEJZLEtBQUs1QixRQUFVQSxFQU9uQjRyRyxXQUFXbjdELEdBQ1A3dUMsS0FBS2lxRyxVQUFZcDdELEVBQVV0bUIsWUFBWWkvRSxNQUN2Q3huRyxLQUFLa3FHLFFBQVVyN0QsRUFBVXRtQixZQUFZaS9FLE1BU3pDYyxnQkFBZ0I2QixHQUNabnFHLEtBQUtpcUcsVUFBWUUsRUFDakJucUcsS0FBS2txRyxRQUFVQyxFQUFJdjJFLFlBT3ZCdzJFLGVBQWV6QyxHQUNYQSxFQUFLMEMsU0FBU3JxRyxLQUFLaXFHLFVBQVl6QyxNQUMvQkcsRUFBSzBDLFNBQVNycUcsS0FBS2txRyxRQUFVMUMsTUFPakM4QyxnQkFBZ0JILEdBQ1pBLEVBQUlFLFNBQVNycUcsS0FBS2lxRyxVQUFZekMsTUFDOUJ4bkcsS0FBS2txRyxRQUFVQyxFQUFJRCxRQUNuQkMsRUFBSUQsUUFBVWxxRyxLQUFLaXFHLFVBRXZCejFFLFNBQVNsM0IsR0FDTDBDLEtBQUsrcEcsZUFBaUJ6c0csRUFFMUIycUcsU0FDSSxHQUFrQyxPQUE5QmpvRyxLQUFLaXFHLFVBQVVwMkUsV0FDZixPQUVKLEtBQU84eEUsR0FBWTNsRyxLQUFLK3BHLGlCQUFpQixDQUNyQyxNQUFNRixFQUFZN3BHLEtBQUsrcEcsZUFDdkIvcEcsS0FBSytwRyxlQUFpQjlELEdBQ3RCNEQsRUFBVTdwRyxNQUVkLE1BQU0xQyxFQUFRMEMsS0FBSytwRyxlQUNmenNHLElBQVUyb0csS0FHVnFELEdBQVloc0csR0FDUkEsSUFBVTBDLEtBQUsxQyxPQUNmMEMsS0FBS3VxRyxhQUFhanRHLEdBR2pCQSxhQUFpQnlyRyxHQUN0Qi9vRyxLQUFLd3FHLHVCQUF1Qmx0RyxHQUV2QkEsYUFBaUJtdEcsS0FDdEJ6cUcsS0FBSzBxRyxhQUFhcHRHLEdBRWJpc0csR0FBV2pzRyxHQUNoQjBDLEtBQUsycUcsaUJBQWlCcnRHLEdBRWpCQSxJQUFVNG9HLElBQ2ZsbUcsS0FBSzFDLE1BQVE0b0csR0FDYmxtRyxLQUFLNEIsU0FJTDVCLEtBQUt1cUcsYUFBYWp0RyxJQUcxQitzRyxTQUFTandFLEdBQ0xwNkIsS0FBS2txRyxRQUFRcjJFLFdBQVdoQixhQUFhdUgsRUFBTXA2QixLQUFLa3FHLFNBRXBEUSxhQUFhcHRHLEdBQ0wwQyxLQUFLMUMsUUFBVUEsSUFHbkIwQyxLQUFLNEIsUUFDTDVCLEtBQUtxcUcsU0FBUy9zRyxHQUNkMEMsS0FBSzFDLE1BQVFBLEdBRWpCaXRHLGFBQWFqdEcsR0FDVCxNQUFNODhCLEVBQU9wNkIsS0FBS2lxRyxVQUFVcjJFLFlBSXRCZzNFLEVBQWlDLGlCQUh2Q3R0RyxFQUFpQixNQUFUQSxFQUFnQixHQUFLQSxHQUdxQkEsRUFBUWdTLE9BQU9oUyxHQUM3RDg4QixJQUFTcDZCLEtBQUtrcUcsUUFBUTMxRSxpQkFDSixJQUFsQjZGLEVBQUtnUSxTQUlMaFEsRUFBSzkzQixLQUFPc29HLEVBR1o1cUcsS0FBSzBxRyxhQUFhaHZHLFNBQVNzaEMsZUFBZTR0RSxJQUU5QzVxRyxLQUFLMUMsTUFBUUEsRUFFakJrdEcsdUJBQXVCbHRHLEdBQ25CLE1BQU13cUcsRUFBVzluRyxLQUFLNUIsUUFBUXlzRyxnQkFBZ0J2dEcsR0FDOUMsR0FBSTBDLEtBQUsxQyxpQkFBaUJ1cUcsSUFDdEI3bkcsS0FBSzFDLE1BQU13cUcsV0FBYUEsRUFDeEI5bkcsS0FBSzFDLE1BQU13OUMsT0FBT3g5QyxFQUFNNGQsWUFFdkIsQ0FLRCxNQUFNN0QsRUFBVyxJQUFJd3dGLEdBQWlCQyxFQUFVeHFHLEVBQU15cUcsVUFBVy9uRyxLQUFLNUIsU0FDaEV3K0QsRUFBV3ZsRCxFQUFTNndGLFNBQzFCN3dGLEVBQVN5akMsT0FBT3g5QyxFQUFNNGQsUUFDdEJsYixLQUFLMHFHLGFBQWE5dEMsR0FDbEI1OEQsS0FBSzFDLE1BQVErWixHQUdyQnN6RixpQkFBaUJydEcsR0FVUmtELE1BQU15RCxRQUFRakUsS0FBSzFDLFNBQ3BCMEMsS0FBSzFDLE1BQVEsR0FDYjBDLEtBQUs0QixTQUlULE1BQU1rcEcsRUFBWTlxRyxLQUFLMUMsTUFDdkIsSUFDSXl0RyxFQURBakUsRUFBWSxFQUVoQixJQUFLLE1BQU1uMkMsS0FBUXJ6RCxFQUVmeXRHLEVBQVdELEVBQVVoRSxRQUVKMW5HLElBQWIyckcsSUFDQUEsRUFBVyxJQUFJakIsR0FBUzlwRyxLQUFLNUIsU0FDN0Iwc0csRUFBVXJuRyxLQUFLc25HLEdBQ0csSUFBZGpFLEVBQ0FpRSxFQUFTWCxlQUFlcHFHLE1BR3hCK3FHLEVBQVNULGdCQUFnQlEsRUFBVWhFLEVBQVksS0FHdkRpRSxFQUFTdjJFLFNBQVNtOEIsR0FDbEJvNkMsRUFBUzlDLFNBQ1RuQixJQUVBQSxFQUFZZ0UsRUFBVW5wRyxTQUV0Qm1wRyxFQUFVbnBHLE9BQVNtbEcsRUFDbkI5bUcsS0FBSzRCLE1BQU1tcEcsR0FBWUEsRUFBU2IsVUFHeEN0b0csTUFBTXFvRyxFQUFZanFHLEtBQUtpcUcsV0FDbkJqRSxHQUFZaG1HLEtBQUtpcUcsVUFBVXAyRSxXQUFZbzJFLEVBQVVyMkUsWUFBYTV6QixLQUFLa3FHLFVBVXBFLE1BQU1jLEdBQ1R6L0YsWUFBWXd6QixFQUFTN2xCLEVBQU02dEYsR0FHdkIsR0FGQS9tRyxLQUFLMUMsV0FBUThCLEVBQ2JZLEtBQUsrcEcsb0JBQWlCM3FHLEVBQ0MsSUFBbkIybkcsRUFBUXBsRyxRQUErQixLQUFmb2xHLEVBQVEsSUFBNEIsS0FBZkEsRUFBUSxHQUNyRCxNQUFNLElBQUk5aEcsTUFBTSwyREFFcEJqRixLQUFLKytCLFFBQVVBLEVBQ2YvK0IsS0FBS2taLEtBQU9BLEVBQ1psWixLQUFLK21HLFFBQVVBLEVBRW5CdnlFLFNBQVNsM0IsR0FDTDBDLEtBQUsrcEcsZUFBaUJ6c0csRUFFMUIycUcsU0FDSSxLQUFPdEMsR0FBWTNsRyxLQUFLK3BHLGlCQUFpQixDQUNyQyxNQUFNRixFQUFZN3BHLEtBQUsrcEcsZUFDdkIvcEcsS0FBSytwRyxlQUFpQjlELEdBQ3RCNEQsRUFBVTdwRyxNQUVkLEdBQUlBLEtBQUsrcEcsaUJBQW1COUQsR0FDeEIsT0FFSixNQUFNM29HLElBQVUwQyxLQUFLK3BHLGVBQ2pCL3BHLEtBQUsxQyxRQUFVQSxJQUNYQSxFQUNBMEMsS0FBSysrQixRQUFRak4sYUFBYTl4QixLQUFLa1osS0FBTSxJQUdyQ2xaLEtBQUsrK0IsUUFBUStuQyxnQkFBZ0I5bUUsS0FBS2taLE1BRXRDbFosS0FBSzFDLE1BQVFBLEdBRWpCMEMsS0FBSytwRyxlQUFpQjlELElBWXZCLE1BQU1nRixXQUEwQnpCLEdBQ25DaitGLFlBQVl3ekIsRUFBUzdsQixFQUFNNnRGLEdBQ3ZCenJELE1BQU12YyxFQUFTN2xCLEVBQU02dEYsR0FDckIvbUcsS0FBS2tyRyxPQUNtQixJQUFuQm5FLEVBQVFwbEcsUUFBK0IsS0FBZm9sRyxFQUFRLElBQTRCLEtBQWZBLEVBQVEsR0FFOUQwQyxjQUNJLE9BQU8sSUFBSTBCLEdBQWFuckcsTUFFNUIycEcsWUFDSSxPQUFJM3BHLEtBQUtrckcsT0FDRWxyRyxLQUFLd21HLE1BQU0sR0FBR2xwRyxNQUVsQmcrQyxNQUFNcXVELFlBRWpCMUIsU0FDUWpvRyxLQUFLbXlELFFBQ0xueUQsS0FBS215RCxPQUFRLEVBRWJueUQsS0FBSysrQixRQUFRLytCLEtBQUtrWixNQUFRbFosS0FBSzJwRyxjQUlwQyxNQUFNd0IsV0FBcUJ6QixJQU1sQyxJQUFJMEIsSUFBd0IsRUFHNUIsTUFDSSxJQUNJLE1BQU1odEcsRUFBVSxDQUNSK2lCLGNBRUEsT0FEQWlxRixJQUF3QixHQUNqQixJQUlmM3ZHLE9BQU91NEIsaUJBQWlCLE9BQVE1MUIsRUFBU0EsR0FFekMzQyxPQUFPOGhDLG9CQUFvQixPQUFRbi9CLEVBQVNBLEdBRWhELE1BQU9pdEcsTUFiWCxHQWlCTyxNQUFNQyxHQUNULy9GLFlBQVl3ekIsRUFBU3V0RCxFQUFXaWYsR0FDNUJ2ckcsS0FBSzFDLFdBQVE4QixFQUNiWSxLQUFLK3BHLG9CQUFpQjNxRyxFQUN0QlksS0FBSysrQixRQUFVQSxFQUNmLytCLEtBQUtzc0YsVUFBWUEsRUFDakJ0c0YsS0FBS3VyRyxhQUFlQSxFQUNwQnZyRyxLQUFLd3JHLG1CQUFzQjNvRyxHQUFNN0MsS0FBSzA4RixZQUFZNzVGLEdBRXREMnhCLFNBQVNsM0IsR0FDTDBDLEtBQUsrcEcsZUFBaUJ6c0csRUFFMUIycUcsU0FDSSxLQUFPdEMsR0FBWTNsRyxLQUFLK3BHLGlCQUFpQixDQUNyQyxNQUFNRixFQUFZN3BHLEtBQUsrcEcsZUFDdkIvcEcsS0FBSytwRyxlQUFpQjlELEdBQ3RCNEQsRUFBVTdwRyxNQUVkLEdBQUlBLEtBQUsrcEcsaUJBQW1COUQsR0FDeEIsT0FFSixNQUFNd0YsRUFBY3pyRyxLQUFLK3BHLGVBQ25CMkIsRUFBYzFyRyxLQUFLMUMsTUFDbkJxdUcsRUFBc0MsTUFBZkYsR0FDVixNQUFmQyxJQUNLRCxFQUFZdHFGLFVBQVl1cUYsRUFBWXZxRixTQUNqQ3NxRixFQUFZbDhCLE9BQVNtOEIsRUFBWW44QixNQUNqQ2s4QixFQUFZdGxFLFVBQVl1bEUsRUFBWXZsRSxTQUMxQ3lsRSxFQUFtQyxNQUFmSCxJQUF1QyxNQUFmQyxHQUF1QkMsR0FDckVBLEdBQ0EzckcsS0FBSysrQixRQUFReEIsb0JBQW9CdjlCLEtBQUtzc0YsVUFBV3RzRixLQUFLd3JHLG1CQUFvQnhyRyxLQUFLNnJHLFdBRS9FRCxJQUNBNXJHLEtBQUs2ckcsVUFBWSxHQUFXSixHQUM1QnpyRyxLQUFLKytCLFFBQVEvSyxpQkFBaUJoMEIsS0FBS3NzRixVQUFXdHNGLEtBQUt3ckcsbUJBQW9CeHJHLEtBQUs2ckcsWUFFaEY3ckcsS0FBSzFDLE1BQVFtdUcsRUFDYnpyRyxLQUFLK3BHLGVBQWlCOUQsR0FFMUJ2SixZQUFZamdFLEdBQ2tCLG1CQUFmejhCLEtBQUsxQyxNQUNaMEMsS0FBSzFDLE1BQU1JLEtBQUtzQyxLQUFLdXJHLGNBQWdCdnJHLEtBQUsrK0IsUUFBU3RDLEdBR25EejhCLEtBQUsxQyxNQUFNby9GLFlBQVlqZ0UsSUFPbkMsTUFBTSxHQUFjbXBFLEdBQU1BLElBQ3JCd0YsR0FDRyxDQUFFanFGLFFBQVN5a0YsRUFBRXprRixRQUFTZ2xCLFFBQVN5L0QsRUFBRXovRCxRQUFTb3BDLEtBQU1xMkIsRUFBRXIyQixNQUNsRHEyQixFQUFFemtGLFNDeGFHLEdBQTJCLElBakNqQyxNQVVIb25GLDJCQUEyQnhwRSxFQUFTN2xCLEVBQU02dEYsRUFBUzNvRyxHQUMvQyxNQUFNMHRHLEVBQVM1eUYsRUFBSyxHQUNwQixNQUFlLE1BQVg0eUYsRUFDa0IsSUFBSWIsR0FBa0Jsc0UsRUFBUzdsQixFQUFLamIsTUFBTSxHQUFJOG9HLEdBQy9DUCxNQUVOLE1BQVhzRixFQUNPLENBQUMsSUFBSVIsR0FBVXZzRSxFQUFTN2xCLEVBQUtqYixNQUFNLEdBQUlHLEVBQVFtdEcsZUFFM0MsTUFBWE8sRUFDTyxDQUFDLElBQUlkLEdBQXFCanNFLEVBQVM3bEIsRUFBS2piLE1BQU0sR0FBSThvRyxJQUUzQyxJQUFJeUMsR0FBbUJ6cUUsRUFBUzdsQixFQUFNNnRGLEdBQ3ZDUCxNQU1yQjZCLHFCQUFxQmpxRyxHQUNqQixPQUFPLElBQUkwckcsR0FBUzFyRyxLQzdCckIsU0FBU3lzRyxHQUFnQnJzRyxHQUM1QixJQUFJdXRHLEVBQWdCQyxHQUFlMW9HLElBQUk5RSxFQUFPakIsV0FDeEI2QixJQUFsQjJzRyxJQUNBQSxFQUFnQixDQUNaRSxhQUFjLElBQUlyK0YsUUFDbEJzK0YsVUFBVyxJQUFJN3FHLEtBRW5CMnFHLEdBQWVscUcsSUFBSXRELEVBQU9qQixLQUFNd3VHLElBRXBDLElBQUlqRSxFQUFXaUUsRUFBY0UsYUFBYTNvRyxJQUFJOUUsRUFBT3VvRyxTQUNyRCxRQUFpQjNuRyxJQUFiMG9HLEVBQ0EsT0FBT0EsRUFJWCxNQUFNM2xHLEVBQU0zRCxFQUFPdW9HLFFBQVFqaEYsS0FBS3FnRixJQVdoQyxPQVRBMkIsRUFBV2lFLEVBQWNHLFVBQVU1b0csSUFBSW5CLFFBQ3RCL0MsSUFBYjBvRyxJQUVBQSxFQUFXLElBQUl2QixHQUFTL25HLEVBQVFBLEVBQU82cUcsc0JBRXZDMEMsRUFBY0csVUFBVXBxRyxJQUFJSyxFQUFLMmxHLElBR3JDaUUsRUFBY0UsYUFBYW5xRyxJQUFJdEQsRUFBT3VvRyxRQUFTZSxHQUN4Q0EsRUFFSixNQUFNa0UsR0FBaUIsSUFBSTNxRyxJQzlCckJtbEcsR0FBUSxJQUFJNTRGLFFBZ0JabTdELEdBQVMsQ0FBQ3ZxRSxFQUFRcXdDLEVBQVd6d0MsS0FDdEMsSUFBSXVwRyxFQUFPbkIsR0FBTWxqRyxJQUFJdXJDLFFBQ1J6dkMsSUFBVHVvRyxJQUNBM0IsR0FBWW4zRCxFQUFXQSxFQUFVL0ksWUFDakMwZ0UsR0FBTTFrRyxJQUFJK3NDLEVBQVc4NEQsRUFBTyxJQUFJbUMsR0FBU3h0RyxPQUFPc3FCLE9BQU8sQ0FBRWlrRixnQkFBZSxJQUFJenNHLEtBQzVFdXBHLEVBQUtxQyxXQUFXbjdELElBRXBCODRELEVBQUtuekUsU0FBU2gyQixHQUNkbXBHLEVBQUtNLFVDS2Esb0JBQVh4c0csU0FDTkEsT0FBd0Isa0JBQU1BLE9BQXdCLGdCQUFJLEtBQUtnSSxLQUFLLFNBTWxFLE1BQU02akIsR0FBTyxDQUFDeS9FLEtBQVk3ckYsSUFBVyxJQUFJNnRGLEdBQWVoQyxFQUFTN3JGLEVBQVEsT0FBUSxJQ2hDbEZpeEYsR0FBaUIsSUFBSXYrRixRQVFkdytGLElYMEJhbjBGLEdXMUJXM2EsR0FBV3FxRyxJQUM1QyxLQUFNQSxhQUFnQm1DLElBQ2xCLE1BQU0sSUFBSTdrRyxNQUFNLGdEQUVwQixNQUFNb25HLEVBQWdCRixHQUFlN29HLElBQUlxa0csR0FDekMsUUFBc0J2b0csSUFBbEJpdEcsR0FBK0IvQyxHQUFZaHNHLElBQzNDQSxJQUFVK3VHLEVBQWMvdUcsT0FBU3FxRyxFQUFLcnFHLFFBQVUrdUcsRUFBY3p2QyxTQUM5RCxPQUVKLE1BQU1rckMsRUFBV3BzRyxTQUFTQyxjQUFjLFlBQ3hDbXNHLEVBQVNwa0UsVUFBWXBtQyxFQUNyQixNQUFNcy9ELEVBQVdsaEUsU0FBU3lzRyxXQUFXTCxFQUFTcmdGLFNBQVMsR0FDdkRrZ0YsRUFBS256RSxTQUFTb29DLEdBQ2R1dkMsR0FBZXJxRyxJQUFJNmxHLEVBQU0sQ0FBRXJxRyxRQUFPcy9ELGNYYU4sSUFBSzE5RCxLQUNqQyxNQUFNNnJFLEVBQUk5eUQsTUFBSy9ZLEdBRWYsT0FEQXdtRyxHQUFXNWpHLElBQUlpcEUsR0FBRyxHQUNYQSxJQUhjLElBQUM5eUQsR1kvQm5CLE1BQU1xMEYsV0FBc0IxSyxHQTRCakNyMkYsWUFBWXd6QixHQUNWdWMsTUFBTXZjLEdBNUJSLEtBQUErb0UsU0FBVyxDQUNUcHRDLEVBQ0FybkIsRUFDQSsvQyxFQUNBajNELElBQ0c3VSxFQUFJO2lCQUVMOHJFLEVBQVcsMkRBQTZEO2tFQUd0RUEsRUFBV2daLEdBQVcsaURBQW1EO3dCQUV6RGp3RSxlQUFzQmkzRDtxQ0FDRSxLQUFYLy9DO1VBRTNCKzRELEdBQ0U5dkcsT0FBT21GLFFBQVFpNUQsR0FDZDd1RCxRQUFPLEVBQUV1SixFQUFJbTNGLE1BQVVBLEVBQUludUIsWUFDM0IvN0UsS0FBSSxFQUFFK1MsRUFBSW0zRixLQUFTLGlDQUNGbjNGLElBQUtpK0IsSUFBYWorQixFQUFLLFlBQWMsTUFBTW0zRixFQUFJcnpGLGdDQUVoRTRNLEtBQUs7OztJQVFkOHJDLElBQVksS0FDTmtwQixHQUFnQixTQUFVLGVBQzVCOTZFLEtBQUs4cEUsT0FBTyxNQUNaOXBFLEtBQUsrK0IsUUFBUTFXLE1BQU1DLFFBQVUsSUFFN0J0b0IsS0FBSysrQixRQUFRMVcsTUFBTUMsUUFBVSxVQUlqQ2d0QyxJQUFrQixLQUNoQnQxRCxLQUFLOHBFLE9BQU8sU0FRaEJBLE9BQU81SCxHLE1BQ0w1bUIsTUFBTXd1QixPQUFPNUgsR0FDYixNQUFNeEgsRUFBZ0JELEdBQWlCL1QsR0FBVXNFLGdCQUMzQ3IrQixFQUFRdTFDLEVBQWV2Z0UsT0FBeUMsUUFBakMsRUFBQ3VnRSxFQUFlLEdBQUc1L0QsS0FBS2c0RCxpQkFBUyxlQUFFbkMsa0JBQWUvNEQsRUFDakZvdEcsRUFBT3RxQyxFQUNWandELE9BQU9uQixJQUFNLE1BQUMsT0FBQTZiLEtBQTJCLFFBQXRCLEVBQUs3YixFQUFHeE8sS0FBS2c0RCxpQkFBUyxlQUFFbkMsaUJBQ3hDaTdCLEVBQVdseEIsRUFDZGoxRCxNQUFNNkQsR0FBTyxDQUNaMHVDLEdBQVlxZ0IsVUFDWnJnQixHQUFZbVcsU0FDWDFrRCxTQUFTSCxFQUFHdlQsT0FBU203RCxHQUFPNW5ELEtBQzNCdWlDLEVBQVdtNUQsR0FBUTcvRSxFQUFRQSxFQUFRLEdBQ3pDbzhDLEdBQ0Uvb0UsS0FBSzhuRyxTQUFTcHRDLEVBQ2RybkIsRUFDQSsvQyxHQUNDdndGLEdBQU03QyxLQUFLeXNHLGVBQWdCNXBHLEVBQUVxTCxPQUE2QjVRLFNBQzNEMEMsS0FBSysrQixTQUdUMHRFLGVBQWV0MEMsR0FDYixNQUFNOTZCLEVBQU9zN0IsS0FDUHhrQixFQUFZLEtBQXNCdG9DLFFBQVFpRixHQUFPQSxJQUFPdXNCLElBQzlELEdBQUc4VyxFQUFVeHlDLE9BQ1gsR0FBb0IsS0FBakJ3MkQsRUFDRC9DLEdBQ0VqaEIsRUFDQzl4QyxLQUFLeU8sSUFBTyxJQUNSQSxFQUNIeXBELFVBQVd6cEQsRUFBR3hPLEtBQUtnNEQsVUFBVWg0RCxLQUFLMHZFLFNBQVcsR0FDN0MxdkUsS0FBTSxJQUNEd08sRUFBR3hPLEtBQ05nNEQsVUFBVyxlQUlaLENBQ0xsRixHQUNFamhCLEVBQ0M5eEMsS0FBS3lPLElBQU8sSUFDUkEsRUFDSHhPLEtBQU0sSUFDRHdPLEVBQUd4TyxLQUNOZzRELFVBQVcsSUFDTnhwRCxFQUFHeE8sS0FBS2c0RCxVQUNYbkMsZUFDQTcxRCxLQUFNLENBQ0owdkUsUUFBU2xoRSxFQUFHeXBELGtCQU90QixNQUFNamUsRUFBZSxLQUFzQnp3QyxRQUFRaUYsR0FBT0EsSUFBT3VzQixJQUVqRWcrQixLQUNBbEIsR0FBaUI3ZCxLQzlHbEIsTUFBTW93RCxXQUF5QjlLLEdBTXBDcjJGLFlBQVl3ekIsR0FFVnVjLE1BQU12YyxHQUVOLytCLEtBQUs2Z0csYUFBZTdnRyxLQUFLd2lHLFVBQVUsa0JBQW1CMy9GLEdBQU03QyxLQUFLMnNHLGVBQWU5cEcsS0FFaEYrdUQsSUFBWSxLQUNWNXhELEtBQUs4cEUsT0FBTyxTQUdkeFUsSUFBa0IsS0FDaEJ0MUQsS0FBSzhwRSxPQUFPLFNBT2hCNmlDLGVBQWVsd0UsR0FDYixNQUFNclMsRUFBUXBxQixLQUFLNmdHLGFBQWF2akcsT0FBcUMsS0FBNUIwQyxLQUFLNmdHLGFBQWF2akcsTUFDekRQLEtBQUtDLElBQUksRUFBSUQsS0FBS0csSUFBSSxFQUFHNDVCLFdBQVc5MkIsS0FBSzZnRyxhQUFhdmpHLE9BQVMsTUFDN0QsS0FDSjBDLEtBQUttakUsYUFBYSxVQUFXLzRDLEVBQU1BLEVBQUl2dEIsV0FBYSxNQU01Q2l0RSxPQUFPMlcsR0FHZixHQUZBbmxDLE1BQU13dUIsT0FBTzJXLEdBRVQzRixHQUFnQixTQUFVLGNBQWUsQ0FDM0M5NkUsS0FBSysrQixRQUFRMVcsTUFBTUMsUUFBVSxHQUc3QixNQUFNK1UsRUFBT3M3QixLQUNQaTBDLEVBQWlCbnNCLEVBQWlCNTBFLFFBQVFpRixHQUFPQSxJQUFPdXNCLElBQzlELEdBQUl1dkUsRUFBZWpyRyxPQUFTLEVBQUcsQ0FFN0IzQixLQUFLNmdHLGFBQWEvNUIsZ0JBQWdCLFlBR2xDLE1BQU13NkIsRUFBVXRoRyxLQUFLOGhHLGtCQUF3QzhLLEdBQWlCOTdGLEdBQU9BLEVBQUd1WCxNQUFNc3BDLEtBQVE0QyxhQUFlLFNBQVcsV0FBVytzQyxVQUV6SXRoRyxLQUFLNmdHLGFBQWF2akcsV0FERyxJQUFaZ2tHLEVBQ2lCLEdBRVYsS0FBWkEsRUFDd0IsTUFFQXZrRyxLQUFLNjhCLE1BQTRCLElBQXRCOUMsV0FBV3dxRSxJQUFnQnprRyxnQkFLcEVtRCxLQUFLNmdHLGFBQWF2akcsTUFBUSxHQUMxQjBDLEtBQUs2Z0csYUFBYS91RSxhQUFhLFdBQVksYUFHN0M5eEIsS0FBSysrQixRQUFRMVcsTUFBTUMsUUFBVSxRQ2xENUIsTUFBTXVrRixXQUFpQmpMLEdBZ0M1QnIyRixZQUFZd3pCLEdBRVZ1YyxNQUFNdmMsR0F4QlIsS0FBQSt0RSxlQUFpQyxLQUtqQyxLQUFBQyx1QkFBMkMsS0FLM0MsS0FBQUMsZUFBb0UsR0FLcEUsS0FBQUMsUUFBNkIsS0FLN0IsS0FBQUMsWUFBZ0MsS0FNOUJwdkMsSUFBZSxLQUNiOTlELEtBQUt1MEUsU0FBUzFXLE1BQ2Q3OUQsS0FBSzhwRSxPQUFPLFNBR2RsWSxJQUFZLEtBQ1Y1eEQsS0FBSzhwRSxPQUFPLFNBR2R4VSxJQUFrQixLQUNoQnQxRCxLQUFLOHBFLE9BQU8sU0FJZDlwRSxLQUFLa3RHLFlBQWNsdEcsS0FBSysrQixRQUFRNU0sY0FBYyxlQUM5Q255QixLQUFLaXRHLFFBQVVqdEcsS0FBSysrQixRQUFRNU0sY0FBYyxnQkFDMUNueUIsS0FBS2l0RyxRQUFRditELFFBQVUsSUFBTTF1QyxLQUFLOGhFLFdBR2xDOWhFLEtBQUs4c0csZUFBa0I5c0csS0FBSysrQixRQUFRNU0sY0FBYyxtQkFDbERueUIsS0FBSzhzRyxlQUFlcCtELFFBQVUsS0FDNUIsTUFDTXB4QyxFQUQ2QjBDLEtBQUsrK0IsUUFBUTVNLGNBQWMsaUNBQ3ZDNzBCLE1BQ2pCeTRELEVBQW9CLFdBQVZ6NEQsRUFDVnc0RCxFQUFtQixZQUFWeDRELEVBQ2Y4M0QsR0FBZSxLQUNaL3lELEtBQUt5TyxHQUFPOG5ELEdBQWlCOW5ELEtBQzdCakYsUUFBUWlGLEdBQU9BLEVBQUdrM0IsV0FBVyt0QixVQUFZQSxHQUFXamxELEVBQUdrM0IsV0FBVzh0QixTQUFXQSxJQUM3RXp6RCxLQUFLeU8sSUFBTyxJQUNSQSxFQUNIdWlDLFNBQVVzZSxLQUFRNEMsYUFBZXVCLEVBQVNDLEVBQzFDL3RCLFdBQVksQ0FDVit0QixVQUNBRCxnQkFJUjkxRCxLQUFLK3NHLHVCQUF5Qi9zRyxLQUFLKytCLFFBQVE1TSxjQUFjLDJCQUN6RG55QixLQUFLK3NHLHVCQUF1QjlwQixTQUFXLEtBQ3JDLE1BQU1scUIsRUFBWS80RCxLQUFLK3NHLHVCQUF1Qi90QyxRQUFVLEdBQUssQ0FBQ21KLEtBQWlCL3lELElBQy9FZ2dELEdBQWUsS0FDWi95RCxLQUFLeU8sR0FBTzhuRCxHQUFpQjluRCxLQUM3QnpPLEtBQUt5TyxJQUFPLElBQ1JBLEVBQ0hpb0Qsa0JBS1JvMEMsZ0JBQWdCN29ELEdBQ2QsTUFBTWpuQixFQUFPczdCLEtBQ2IsT0FBT3JVLEVBQ0p6NEMsUUFBUWlGLEdBQU9BLElBQU91c0IsR0FBUXZzQixFQUFHdlQsT0FBU2lpRCxHQUFZbVcsVUFBWTdrRCxFQUFHNGtELG1CQU0xRW9NLFdBQ0UsTUFBTXhkLEVBQVd0a0QsS0FBS210RyxnQkFBZ0IsTUFHaENDLEVBQWdCOW9ELEVBQ3JCamlELEtBQUt5TyxHQUFPQSxFQUFHaXZELE9BQ2Z4N0QsUUFBTyxDQUFDMEQsRUFBTSt5QyxJQUNUL3lDLEdBQVEreUMsR0FDTjErQyxPQUFPd0UsS0FBS21ILEdBQU1nSyxPQUFPOVAsR0FBUThGLEVBQUs5RixLQUFTNjRDLEVBQUk3NEMsTUFDaEQ3RixPQUFPd0UsS0FBS2s2QyxHQUFLL29DLE9BQU85UCxHQUFROEYsRUFBSzlGLEtBQVM2NEMsRUFBSTc0QyxLQUU1QzhGLEVBTVIsT0FFVGpJLEtBQUtzaUYsZUFBZThxQixHQUFVcnRDLElBQzVCM0ssR0FBZTlRLEVBQ1pqaUQsS0FBS3lPLElBQXFCLElBQ3RCQSxFQUNIaXZELGVBU1J3VSxTQUFTamlCLEdBR1AsTUFBTSs2QyxFQUFpQnJ0RyxLQUFLKytCLFFBQVE1TSxjQUFjLG9CQUNsRGs3RSxFQUFlM3BFLFVBQVlzdkMsR0FBVzY1QixHQUFTUyxpQkFBa0JoN0MsR0FHN0R0eUQsS0FBS2d0RyxnQkFDUGh0RyxLQUFLZ3RHLGVBQWU1K0YsU0FBU3VpRCxJQUNRLE1BQS9CQSxFQUFLNDhDLFNBQVM3NUQsZUFDaEJpZCxFQUFLNDhDLFNBQVM3NUQsY0FBY3BmLFlBQVlxOEIsRUFBSzQ4QyxVQUUvQzU4QyxFQUFLNDhDLFNBQVN0cUIsU0FBVyxRQUs3QixNQUFNdnlCLEVBQVNsd0QsTUFBTStHLEtBQUs4bEcsRUFBZW43RSxpQkFBaUIsb0JBQzFEbHlCLEtBQUtndEcsZUFBaUJ0OEMsRUFBTXJ1RCxLQUFJLENBQUNzdUQsRUFBTTNSLEtBQ3JDLE1BQU11dUQsRUFBNkI1OEMsRUFBS3grQixjQUFjLGVBQ2hEeXJDLEVBQU90TCxFQUFNdFQsS0FLbkIsT0FKQXV1RCxFQUFTdHFCLFNBQVlwZ0YsSUFDbkI3QyxLQUFLd3RHLFVBQVU1dkMsRUFBTTJ2QyxHQUNyQjFxRyxFQUFFNndCLGtCQUVHLENBQUM2NUUsV0FBVTN2QyxXQVF0QjR2QyxVQUFVNXZDLEVBQWlCMnZDLEdBRXJCQSxFQUFTdnVDLFFBQ1hrRixHQUFVLEtBQXVCdEcsR0FFakN1RyxHQUFlLEtBQXVCdkcsR0FFeEM1OUQsS0FBS3l0RyxrQkFNUEEsa0JBQ0UsTUFBTSxjQUFFajVDLEdBQWtCN0MsS0FDMUJ5RCxHQUFlLEtBQ1oveUQsS0FBS3lPLElBQU8sSUFDUkEsRUFDSHVpQyxTQUFVdXVCLEdBQWdCOXdELEVBQUkwakQsUUFPcENzVixPQUFPMlcsR0FHTCxHQUZBbmxDLE1BQU13dUIsT0FBTzJXLEdBRVQzRixHQUFnQixTQUFVLGNBQWUsQ0FDM0M5NkUsS0FBSysrQixRQUFRMVcsTUFBTUMsUUFBVSxHQUc3QixNQUFNK1UsRUFBT3M3QixLQUNQKzBDLEVBQXlCanRCLEVBQzlCNTBFLFFBQVFpRixHQUFPQSxJQUFPdXNCLElBQ3RCaDdCLEtBQUt5TyxHQUFPOG5ELEdBQWlCOW5ELEtBTTlCLEdBSEF0USxNQUFNK0csS0FBS3ZILEtBQUs4c0csZUFBZTU2RSxpQkFBaUIsMEJBQy9DOWpCLFNBQVMwQyxHQUF5QkEsRUFBR3NpRixVQUFZbDZCLEtBQVVoRyxlQUV4RHc2QyxFQUF1Qi9yRyxPQUFTLEVBQUcsQ0FFckMsTUFBTXFtQyxFQUFhaG9DLEtBQUs4aEcsa0JBQWtCNEwsR0FBeUIzdUUsR0FDNURBLEVBQVFpSixXQUFXOHRCLE9BR2pCLzJCLEVBQVFpSixXQUFXK3RCLFFBR2YsT0FGQSxTQUhGLFlBU0wvdEIsRUFDSnhuQyxNQUFNK0csS0FBS3ZILEtBQUs4c0csZUFBZTU2RSxpQkFBaUIsMEJBQy9DOWpCLFNBQVMwQyxJQUNSQSxFQUFHa3VELFFBQVVoM0IsSUFBZWwzQixFQUFHeFQsTUFDL0J3VCxFQUFHNHdGLGVBQWdCLEtBR3JCbGhHLE1BQU0rRyxLQUFLdkgsS0FBSzhzRyxlQUFlNTZFLGlCQUFpQiwwQkFDL0M5akIsU0FBUzBDLEdBQXlCQSxFQUFHNHdGLGVBQWdCLElBSXhELElBQUlpTSxHQUFhLEVBQ2pCM3RHLEtBQUtndEcsZUFBZTUrRixTQUFTdWlELElBRTNCQSxFQUFLNDhDLFNBQVNuYSxVQUFXLEVBR3pCLE1BQU14MUIsRUFBT0MsS0FBVzNyRCxNQUFNby9DLEdBQU1BLEVBQUVsOEMsS0FBT3U3QyxFQUFLaU4sS0FBS3hvRCxLQUNqRHc0RixFQUFXNXRHLEtBQUs4aEcsa0JBQWtCNEwsR0FBeUI1OEYsR0FBT0EsRUFBR2lvRCxVQUFVOW5ELFNBQVMyc0QsRUFBS3hvRCxNQUduR3U0RixFQUFhQSxJQUEyQixJQUFiQyxFQUNWLE9BQWJBLEVBRUZqOUMsRUFBSzQ4QyxTQUFTN0wsZUFBZ0IsR0FFOUIvd0MsRUFBSzQ4QyxTQUFTN0wsZUFBZ0IsRUFDOUIvd0MsRUFBSzQ4QyxTQUFTdnVDLFFBQVU0dUMsTUFHNUI1dEcsS0FBSytzRyx1QkFBdUIzWixVQUFXLEVBSXJDcHpGLEtBQUsrc0csdUJBQXVCL3RDLFVBRDFCMnVDLE9BT0ozdEcsS0FBS2d0RyxlQUFlNStGLFNBQVN1aUQsSUFDM0JBLEVBQUs0OEMsU0FBU25hLFVBQVcsRUFDekJ6aUMsRUFBSzQ4QyxTQUFTN0wsZUFBZ0IsS0FFaEMxaEcsS0FBSytzRyx1QkFBdUIzWixVQUFXLEVBQ3ZDcHpGLEtBQUsrc0csdUJBQXVCL3RDLFNBQVUsRUFFdEN4K0QsTUFDQytHLEtBQUt2SCxLQUFLOHNHLGVBQWU1NkUsaUJBQWlCLDBCQUMxQzlqQixTQUFTMEMsR0FBeUJBLEVBQUdzaUYsVUFBVyxTQUduRHB6RixLQUFLKytCLFFBQVExVyxNQUFNQyxRQUFVLE9BRS9CLE1BQU11bEYsRUFBZTd0RyxLQUFLbXRHLGdCQUFnQjFzQixHQUMxQyxHQUFJb3RCLEVBQWFsc0csT0FBUyxFQUFHLENBRzNCLE1BQU1vK0QsRUFBTy8vRCxLQUFLOGhHLGtCQUFzQytMLEdBQWUvOEYsR0FBT0EsRUFBR2l2RCxPQUNqRi8vRCxLQUFLa3RHLFlBQVk1dkcsTUFBUXlpRSxFQUFPQSxFQUFLNXZCLEtBQU8sR0FDNUNud0MsS0FBS2t0RyxZQUFZOVosVUFBVyxFQUM1QnB6RixLQUFLaXRHLFFBQVE3WixVQUFXLE9BRXhCcHpGLEtBQUtpdEcsUUFBUTdaLFVBQVcsRUFDeEJwekYsS0FBS2t0RyxZQUFZOVosVUFBVyxFQUM1QnB6RixLQUFLa3RHLFlBQVk1dkcsTUFBUSxHQUk3Qnd3RyxRQUFRaDlGLEdBQ04sUUFBU0EsRUFBR2l2RCxNQUFRanZELEVBQUd5cEQsVUFBVXRwRCxTQUFTLE1BTTVDcXhFLGVBQWU4cUIsRUFBZXJ6RCxHQUV4QixLQUNEOXNDLE1BQU02RCxHQUFPQSxFQUFHeXBELFVBQVV0cEQsU0FBUyxTQUVqQyxLQUNBNU8sS0FBS3lPLEdBQU95bkQsR0FBcUJ6bkQsS0FDakM3RCxNQUFNMjNCLEdBQWFBLEVBQ2pCMzNCLE1BQU00M0IsR0FBVTdrQyxLQUFLOHRHLFFBQVFqcEUsT0FFbENpSixHQUFha2dCLE1BQU0sYUFBYywrUEFBK1AsU0FFaFNtUSxHQUFlLENBQ2I3N0QsS0FBTThxRyxFQUNOai9ELElBQU00L0QsSUFJSmgwRCxFQUFTZzBELE9BblRWLEdBQUFULGlCQUFtQixpT0NoQjVCLE1BQU1VLEdBQWlCLG9CQUNqQkMsR0FBdUIsMEJBQ3ZCQyxHQUFtQixzQkFDbkJDLEdBQXNCLHlCQUN0QkMsR0FBZ0Isa0JBQ2hCQyxHQUFpQixtQkFDakJDLEdBQW1CLHNCQUNuQkMsR0FBcUIsd0JBQ3JCQyxHQUFvQix1QkFDcEJDLEdBQWtCLHFCQUNsQkMsR0FBa0IscUJBQ2xCQyxHQUFvQix1QkFDcEJDLEdBQW1CLHNCQUNuQkMsR0FBaUIsb0JBQ2pCQyxHQUFjLGdCQUNkQyxHQUFhLGVBQ2JDLEdBQVcsYUFDWEMsR0FBWSxjQUVsQixTQUFTQyxHQUFvQjlrRixFQUFhK2tGLEdBQ3hDLE9BQU8va0YsUUFBNkMra0YsRUFBV2h6RyxTQUFTaXVCLEdBQUt2dEIsV0FheEUsTUFBTXV5RyxXQUFxQnhOLEdBY2hDcjJGLFlBQVl3ekIsR0FFVnVjLE1BQU12YyxHQUVObzZCLElBQWMsS0FDWm41RCxLQUFLOHBFLE9BQU8sU0FHZGxZLElBQVksS0FDVjV4RCxLQUFLOHBFLE9BQU8sU0FHZHhVLElBQWtCLEtBQ2hCdDFELEtBQUs4cEUsT0FBTyxTQUdkOXBFLEtBQUtvaUcsWUFBWSxDQUNmLENBQUVyd0UsU0FBVWs5RSxHQUFXajlELFVBQVcsT0FBUXM2QyxVQUFXLFFBQVNpVyxLQUFNLE1BQ3BFLENBQUV4d0UsU0FBVWk5RSxHQUFVaDlELFVBQVcsTUFBT3M2QyxVQUFXLFFBQVNpVyxLQUFNLE1BQ2xFLENBQUV4d0UsU0FBVWc5RSxHQUFZLzhELFVBQVcsUUFBU3M2QyxVQUFXLFFBQVNpVyxLQUFNLE1BQ3RFLENBQUV4d0UsU0FBVSs4RSxHQUFhOThELFVBQVcsU0FBVXM2QyxVQUFXLFFBQVNpVyxLQUFNLE1BQ3hFLENBQUV4d0UsU0FBVTg4RSxHQUFnQjc4RCxVQUFXLGFBQWNzNkMsVUFBVyxRQUFTaVcsS0FBTSxNQUMvRSxDQUFFeHdFLFNBQVU2OEUsR0FBa0I1OEQsVUFBVyxlQUFnQnM2QyxVQUFXLFFBQVNpVyxLQUFNLE1BQ25GLENBQUV4d0UsU0FBVTQ4RSxHQUFtQjM4RCxVQUFXLGdCQUFpQnM2QyxVQUFXLFFBQVNpVyxLQUFNLE1BQ3JGLENBQUV4d0UsU0FBVTI4RSxHQUFpQjE4RCxVQUFXLGNBQWVzNkMsVUFBVyxRQUFTaVcsS0FBTSxNQUNqRixDQUFFeHdFLFNBQVUwOEUsR0FBaUJ6OEQsVUFBVyxjQUFlczZDLFVBQVcsUUFBU2lXLEtBQU0sTUFDakYsQ0FBRXh3RSxTQUFVeThFLEdBQW1CeDhELFVBQVcsZ0JBQWlCczZDLFVBQVcsUUFBU2lXLEtBQU0sTUFDckYsQ0FBRXh3RSxTQUFVdzhFLEdBQW9CdjhELFVBQVcsaUJBQWtCczZDLFVBQVcsUUFBU2lXLEtBQU0sTUFDdkYsQ0FBRXh3RSxTQUFVdThFLEdBQWtCdDhELFVBQVcsZUFBZ0JzNkMsVUFBVyxRQUFTaVcsS0FBTSxNQUNuRixDQUFFeHdFLFNBQVVzOEUsR0FBZ0JyOEQsVUFBVyxXQUFZczZDLFVBQVcsU0FBVWlXLEtBQU0sSUFDOUUsQ0FBRXh3RSxTQUFVcThFLEdBQWVwOEQsVUFBVyxVQUFXczZDLFVBQVcsU0FBVWlXLEtBQU0sSUFDNUUsQ0FBRXh3RSxTQUFVbzhFLEdBQXFCbjhELFVBQVcsaUJBQWtCczZDLFVBQVcsU0FBVWlXLEtBQU0sSUFDekYsQ0FBRXh3RSxTQUFVbThFLEdBQWtCbDhELFVBQVcsY0FBZXM2QyxVQUFXLFNBQVVpVyxLQUFNLElBQ25GLENBQUV4d0UsU0FBVWs4RSxHQUFzQmo4RCxVQUFXLGtCQUFtQnM2QyxVQUFXLFNBQVVpVyxLQUFNLElBQzNGLENBQUV4d0UsU0FBVWk4RSxHQUFnQmg4RCxVQUFXLFlBQWFzNkMsVUFBVyxTQUFVaVcsS0FBTSxNQUdqRnZpRyxLQUFLcXZHLGFBQWVydkcsS0FBSzBpRyxhQUFhLG1CQUFvQjcvRixHQUFNN0MsS0FBS3N2RyxpQkFBaUJ6c0csS0FDdEY3QyxLQUFLdXZHLFNBQVd2dkcsS0FBS3dpRyxVQUFVLGNBQWUzL0YsR0FBTTdDLEtBQUt3dkcsYUFBYTNzRyxLQUN0RTdDLEtBQUt5dkcsV0FBYXp2RyxLQUFLd2lHLFVBQVUsZ0JBQWlCMy9GLEdBQU03QyxLQUFLMHZHLGVBQWU3c0csS0FHOUV5c0csaUJBQWlCenNHLEdBQ2YsTUFBTXFuQixFQUFRcm5CLEVBQUVxTCxPQUNoQmtuRCxHQUFlLEtBQ1oveUQsS0FBS3lPLElBQU8sSUFDUkEsRUFDSDZzQixRQUFTelQsRUFBTTVzQixXQU9yQmt5RyxhQUFhM3NHLEdBRVgsTUFBTXFuQixFQUFRcm5CLEVBQUVxTCxPQUdoQmtuRCxHQUFlLEtBQ1oveUQsS0FBS3lPLElBQU8sSUFDUkEsRUFDSDZ1RCxJQUFLejFDLEVBQU01c0IsV0FVakJveUcsZUFBZTdzRyxHQUNiQSxFQUFFNndCLGlCQUVGLE1BQU14SixFQUFRcm5CLEVBQUVxTCxPQUdoQmtuRCxHQUFlLEtBQ1oveUQsS0FBS3lPLElBQU8sSUFDUkEsRUFDSHc5QixNQUFPcGtCLEVBQU01c0IsV0FTbkJ3c0UsT0FBTzJXLEdBR0wsR0FGQW5sQyxNQUFNd3VCLE9BQU8yVyxHQUVUM0YsR0FBZ0IsU0FBVSxjQUFlLENBQzFDOTZFLEtBQUsrK0IsUUFBUTVNLGNBQWMsb0JBQW9DOUosTUFBTUMsUUFBVSxHQUM5RXRvQixLQUFLKytCLFFBQVE1TSxjQUFjLGVBQStCOUosTUFBTUMsUUFBVSxHQUU1RSxNQUFNK1UsRUFBT3M3QixLQUNQN0MsRUFBU25FLEtBQVE0QyxhQUdqQnE0QyxFQUFpQm5zQixFQUNwQjUwRSxRQUFRaUYsR0FBT0EsSUFBT3VzQixJQUVuQnN5RSxFQUEwQi9DLEVBQzdCL2dHLFFBQVFpRixHQUFPQSxFQUFHdlQsT0FBU2lpRCxHQUFZbVcsVUFHcENpNkMsRUFBa0I1dkcsS0FBSzhoRyxrQkFBa0I4SyxHQUFpQjd0RSxHQUFZMGhDLEdBQWdCMWhDLEVBQVMsVUFBVysyQixLQUMxRys1QyxFQUFtQjd2RyxLQUFLOGhHLGtCQUFrQjhLLEdBQWlCN3RFLEdBQVkwaEMsR0FBZ0IxaEMsRUFBUyxXQUFZKzJCLEtBRzVHOWlCLEVBQUssR0FBZTI4RCxFQUF3QnR0RyxLQUFLeU8sR0FBTzR2RCxHQUFlNXZELEVBQUlnbEQsTUFFM0VnNkMsRUFBZSxJQUFJenVHLElBQUksQ0FDM0IsQ0FBQzR0RyxHQUFXLElBQU1seUcsS0FBSzY4QixNQUFNb1osRUFBR2pnQyxNQUFRLEdBQUdsVyxZQUMzQyxDQUFDbXlHLEdBQVUsSUFBTWp5RyxLQUFLNjhCLE1BQU1vWixFQUFHMWQsS0FBTyxHQUFHejRCLFlBQ3pDLENBQUNreUcsR0FBWSxJQUFNaHlHLEtBQUs2OEIsTUFBTW9aLEVBQUc1ZixPQUFTLEdBQUd2MkIsWUFDN0MsQ0FBQ2l5RyxHQUFhLElBQU0veEcsS0FBSzY4QixNQUFNb1osRUFBRzNkLFFBQVUsR0FBR3g0QixZQUMvQyxDQUFDZ3lHLEdBQWdCLElBQU1LLEdBQW9CbHZHLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWTBoQyxHQUFnQjFoQyxFQUFTLGFBQWMrMkIsS0FBVSxLQUNoSixDQUFDODRDLEdBQWtCLElBQU1NLEdBQW9CbHZHLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWTBoQyxHQUFnQjFoQyxFQUFTLGVBQWdCKzJCLEtBQVUsS0FDcEosQ0FBQzY0QyxHQUFtQixJQUFNTyxHQUFvQmx2RyxLQUFLOGhHLGtCQUFrQjhLLEdBQWlCN3RFLEdBQVkwaEMsR0FBZ0IxaEMsRUFBUyxnQkFBaUIrMkIsS0FBVSxLQUN0SixDQUFDNDRDLEdBQWlCLElBQU1RLEdBQW9CbHZHLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWTBoQyxHQUFnQjFoQyxFQUFTLGNBQWUrMkIsS0FBVSxLQUNsSixDQUFDMjRDLEdBQWlCLElBQU1TLEdBQW9CbHZHLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWTBoQyxHQUFnQjFoQyxFQUFTLGNBQWUrMkIsS0FBVSxLQUNsSixDQUFDMDRDLEdBQW1CLElBQU1VLEdBQW9CbHZHLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWTBoQyxHQUFnQjFoQyxFQUFTLGdCQUFpQisyQixLQUFVLEtBQ3RKLENBQUN5NEMsR0FBb0IsSUFBTVcsR0FBb0JsdkcsS0FBSzhoRyxrQkFBa0I4SyxHQUFpQjd0RSxHQUFZMGhDLEdBQWdCMWhDLEVBQVMsaUJBQWtCKzJCLEtBQVUsS0FDeEosQ0FBQ3c0QyxHQUFrQixJQUFNWSxHQUFvQmx2RyxLQUFLOGhHLGtCQUFrQjhLLEdBQWlCN3RFLEdBQVkwaEMsR0FBZ0IxaEMsRUFBUyxlQUFnQisyQixLQUFVLEtBQ3BKLENBQUN1NEMsR0FBZ0IsSUFBTXdCLEdBQ3ZCLENBQUN6QixHQUFlLElBQU13QixHQUN0QixDQUFDekIsR0FBcUIsSUFBTW51RyxLQUFLOGhHLGtCQUFrQjhLLEdBQWlCN3RFLEdBQVkwaEMsR0FBZ0IxaEMsRUFBUyxpQkFBa0IrMkIsTUFDM0gsQ0FBQ280QyxHQUFrQixJQUFNbHVHLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWTBoQyxHQUFnQjFoQyxFQUFTLGNBQWUrMkIsTUFDckgsQ0FBQ200QyxHQUFzQixJQUFNanVHLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWTBoQyxHQUFnQjFoQyxFQUFTLGtCQUFtQisyQixNQUM3SCxDQUFDazRDLEdBQWdCLElBQU1odUcsS0FBSzhoRyxrQkFBa0I4SyxHQUFpQjd0RSxHQUFZMGhDLEdBQWdCMWhDLEVBQVMsWUFBYSsyQixRQUc3R240QixFQUFVMzlCLEtBQUs4aEcsa0JBQWtCOEssR0FBaUI3dEUsR0FBWUEsRUFBUXBCLFVBUTVFLEdBTkUzOUIsS0FBS3F2RyxhQUFhL3hHLE1BRGhCcWdDLEdBR3dCLEdBSXhCZ3lFLEVBQXdCaHVHLE9BQVMsRUFBRyxDQUN0QyxNQUFNb3VHLEVBQTBDSixFQUM3QzlqRyxRQUFRaUYsSUFBUUEsRUFBRzRrRCxtQkFFcEIxMUQsS0FBS3l2RyxXQUFXcmMsVUFBVyxFQUN4QnVjLEVBQXdCaHVHLFFBTTNCM0IsS0FBS21pRyxpQkFBaUI0TSxHQUFZZSxFQUFheHNHLElBQUl5ckcsR0FBakJlLElBQ2xDOXZHLEtBQUttaUcsaUJBQWlCMk0sR0FBYWdCLEVBQWF4c0csSUFBSXdyRyxHQUFqQmdCLE1BTG5DOXZHLEtBQUttaUcsaUJBQWlCNE0sR0FBWSxNQUNsQy91RyxLQUFLbWlHLGlCQUFpQjJNLEdBQWEsT0FPWixXQUFyQmUsR0FBa0NFLEVBQXdDcHVHLFFBSTVFM0IsS0FBS21pRyxpQkFBaUI2TSxHQUFVYyxFQUFheHNHLElBQUkwckcsR0FBakJjLElBQ2hDOXZHLEtBQUttaUcsaUJBQWlCOE0sR0FBV2EsRUFBYXhzRyxJQUFJMnJHLEdBQWpCYSxNQUpqQzl2RyxLQUFLbWlHLGlCQUFpQjZNLEdBQVUsTUFDaENodkcsS0FBS21pRyxpQkFBaUI4TSxHQUFXLE9BT25DLE1BQU1lLEVBQWVod0csS0FBSzhoRyxrQkFBa0I2TixHQUEwQjV3RSxHQUFZQSxFQUFReGhDLE9BQzFGLEdBQUl5eUcsSUFBaUJ4d0QsR0FBWTRnQixNQUFPLENBQ3RDcGdFLEtBQUt1dkcsU0FBU25jLFVBQVcsRUFDekIsTUFBTXp6QixFQUFNMy9ELEtBQUs4aEcsa0JBQWtCNk4sR0FBMEI3K0YsR0FDcERBLEVBQUc2dUQsTUFHVjMvRCxLQUFLdXZHLFNBQVNqeUcsTUFEWnFpRSxHQUdvQixRQUd4QjMvRCxLQUFLdXZHLFNBQVNqeUcsTUFBUSxHQUN0QjBDLEtBQUt1dkcsU0FBU25jLFVBQVcsRUFJSDJjLEVBQXdDcHVHLE9BRTlEM0IsS0FBS21pRyxpQkFBaUJrTSxHQUFnQndCLEdBQW9CLElBRTFEN3ZHLEtBQUttaUcsaUJBQWlCa00sR0FBZ0IsTUFLcEMyQixJQUFpQnh3RCxHQUFZcWdCLFdBQWE4dkMsRUFBd0JodUcsT0FDcEUzQixLQUFLbWlHLGlCQUFpQmlNLEdBQWV3QixHQUFtQixJQUV4RDV2RyxLQUFLbWlHLGlCQUFpQmlNLEdBQWUsTUFJbkN1QixFQUF3Qmh1RyxRQUE4QixTQUFwQml1RyxHQUNwQzV2RyxLQUFLbWlHLGlCQUFpQmdNLEdBQXFCMkIsRUFBYXhzRyxJQUFJNnFHLEdBQWpCMkIsSUFBMkMsSUFDdEY5dkcsS0FBS21pRyxpQkFBaUIrTCxHQUFrQjRCLEVBQWF4c0csSUFBSTRxRyxHQUFqQjRCLElBQXdDLElBQ2hGOXZHLEtBQUttaUcsaUJBQWlCOEwsR0FBc0I2QixFQUFheHNHLElBQUkycUcsR0FBakI2QixJQUE0QyxJQUN4Rjl2RyxLQUFLbWlHLGlCQUFpQjZMLEdBQWdCOEIsRUFBYXhzRyxJQUFJMHFHLEdBQWpCOEIsSUFBc0MsTUFFNUU5dkcsS0FBS21pRyxpQkFBaUJnTSxHQUFxQixNQUMzQ251RyxLQUFLbWlHLGlCQUFpQitMLEdBQWtCLE1BQ3hDbHVHLEtBQUttaUcsaUJBQWlCOEwsR0FBc0IsTUFDNUNqdUcsS0FBS21pRyxpQkFBaUI2TCxHQUFnQixPQUl4QyxNQUFNMS9ELEVBQVF0dUMsS0FBSzhoRyxrQkFBa0I2TixHQUEwQjcrRixHQUFPQSxFQUFHdzlCLFFBRXZFdHVDLEtBQUt5dkcsV0FBV255RyxNQURkZ3hDLEdBR3NCLEdBRzFCdHVDLEtBQUttaUcsaUJBQWlCME0sR0FBZ0JpQixFQUFheHNHLElBQUl1ckcsR0FBakJpQixJQUN0Qzl2RyxLQUFLbWlHLGlCQUFpQnVNLEdBQWlCb0IsRUFBYXhzRyxJQUFJb3JHLEdBQWpCb0IsSUFDdkM5dkcsS0FBS21pRyxpQkFBaUJ5TSxHQUFrQmtCLEVBQWF4c0csSUFBSXNyRyxHQUFqQmtCLElBQ3hDOXZHLEtBQUttaUcsaUJBQWlCd00sR0FBbUJtQixFQUFheHNHLElBQUlxckcsR0FBakJtQixJQUN6Qzl2RyxLQUFLbWlHLGlCQUFpQnNNLEdBQWlCcUIsRUFBYXhzRyxJQUFJbXJHLEdBQWpCcUIsSUFDdkM5dkcsS0FBS21pRyxpQkFBaUJtTSxHQUFrQndCLEVBQWF4c0csSUFBSWdyRyxHQUFqQndCLElBQ3hDOXZHLEtBQUttaUcsaUJBQWlCcU0sR0FBbUJzQixFQUFheHNHLElBQUlrckcsR0FBakJzQixJQUN6Qzl2RyxLQUFLbWlHLGlCQUFpQm9NLEdBQW9CdUIsRUFBYXhzRyxJQUFJaXJHLEdBQWpCdUIsU0FHMUM5dkcsS0FBS2l3Ryx5QkFHTmp3RyxLQUFLKytCLFFBQVE1TSxjQUFjLG9CQUFvQzlKLE1BQU1DLFFBQVUsT0FDOUV0b0IsS0FBSysrQixRQUFRNU0sY0FBYyxlQUErQjlKLE1BQU1DLFFBQVUsT0FJaEYybkYsb0JBQ0Vqd0csS0FBS21pRyxpQkFBaUI2TCxHQUFnQixNQUN0Q2h1RyxLQUFLbWlHLGlCQUFpQjhMLEdBQXNCLE1BQzVDanVHLEtBQUttaUcsaUJBQWlCK0wsR0FBa0IsTUFDeENsdUcsS0FBS21pRyxpQkFBaUJnTSxHQUFxQixNQUMzQ251RyxLQUFLbWlHLGlCQUFpQmlNLEdBQWUsTUFDckNwdUcsS0FBS21pRyxpQkFBaUJrTSxHQUFnQixNQUN0Q3J1RyxLQUFLbWlHLGlCQUFpQm1NLEdBQWtCLE1BQ3hDdHVHLEtBQUttaUcsaUJBQWlCb00sR0FBb0IsTUFDMUN2dUcsS0FBS21pRyxpQkFBaUJxTSxHQUFtQixNQUN6Q3h1RyxLQUFLbWlHLGlCQUFpQnNNLEdBQWlCLE1BQ3ZDenVHLEtBQUttaUcsaUJBQWlCdU0sR0FBaUIsTUFDdkMxdUcsS0FBS21pRyxpQkFBaUJ3TSxHQUFtQixNQUN6QzN1RyxLQUFLbWlHLGlCQUFpQnlNLEdBQWtCLE1BQ3hDNXVHLEtBQUttaUcsaUJBQWlCME0sR0FBZ0IsTUFDdEM3dUcsS0FBS21pRyxpQkFBaUIyTSxHQUFhLE1BQ25DOXVHLEtBQUttaUcsaUJBQWlCNE0sR0FBWSxNQUNsQy91RyxLQUFLbWlHLGlCQUFpQjZNLEdBQVUsTUFDaENodkcsS0FBS21pRyxpQkFBaUI4TSxHQUFXLE1BRWpDanZHLEtBQUt1dkcsU0FBU25jLFVBQVcsRUFDekJwekYsS0FBS3V2RyxTQUFTanlHLE1BQVEsR0FDdEIwQyxLQUFLeXZHLFdBQVdyYyxVQUFXLEVBQzNCcHpGLEtBQUt5dkcsV0FBV255RyxNQUFRLElDclRyQixTQUFTNHlHLEdBQVVsekMsRUFBcUJwckMsRUFBc0I2bEQsRUFBc0JsbEIsRUFBTzJHLEtBQVdsakIsRUFBVzFnQyxHQUFNMGdDLFVBQzVILE1BQU1pbkIsRUFBWXdhLEVBQVdsK0IsS0FBS29VLE1BQU1wVSxLQUFLQyxVQUFVaStCLElBQWMsQ0FDbkU3bEQsVUFBVyxHQUNYb3JDLFlBQWEsR0FDYjdFLGFBQWMsR0FDZGpFLE9BQVEsQ0FBQzZCLFFBQVMsQ0FBQ282QyxPQUFRLE1BRzdCLEdBQUk1OUMsRUFBSzJCLE9BQU90aUMsR0FDZCxNQUFNLElBQUkzc0IsTUFBTSw2QkFHaEJtMEQsR0FBbUI2RCxHQUNsQjd1RCxTQUFTK3VELElBQ1JpekMsR0FBc0J4K0UsRUFBV3VyQyxFQUFnQjFELFlBQWEwRCxFQUFnQm4xQixXQUFZbTFCLEVBQWdCNzZELEtBQU0wNkQsRUFBYXpLLEVBQU12YyxNQVNsSSxTQUFTbzZELEdBQXNCeCtFLEVBQXNCNm5DLEVBQTBCenhCLEVBQXdCeXZDLEVBQTRCNDRCLEVBQTBCOTlDLEVBQU8yRyxLQUFXbGpCLEVBQVcxZ0MsR0FBTTBnQyxVQUVyTSxNQUFNaW5CLEVBQVUsSUFDWHdhLEVBQ0g3bEQsWUFDQTZuQyxlQUlJSixFQUFjOUcsRUFBSzJCLE9BQU90aUMsR0FBYSxJQUV4QzJnQyxFQUFLMkIsT0FBT3RpQyxJQUNiLENBQ0ZBLFlBQ0F1bUMsYUFBYyxPQUNkNkUsWUFBYXF6QyxFQUNibjhDLE9BQVEsSUFFTG1GLEVBQVVuRixPQUFPbHNCLEtBQ3BCcXhCLEVBQVVuRixPQUFPbHNCLEdBQWMsSUFFakNxeEIsRUFBVW5GLE9BQU9sc0IsR0FBWXl4QixHQUFld0QsRUFFNUMsTUFBTTUwQyxFQUF5QixJQUMxQmtxQyxFQUFLMkIsT0FDUixDQUFDdGlDLEdBQVl5bkMsR0FFZkosR0FBVyxJQUNOMUcsRUFDSDJCLE9BQVE3ckMsR0FDUDJ0QixHQUdFLFNBQVNzNkQsR0FBWTErRSxFQUFtQjJnQyxFQUFPMkcsS0FBVzVVLEVBQVcrUSxLQUFlcmYsRUFBVzFnQyxHQUFNMGdDLFVBRTFHLE1BQU11NkQsRUFBVSxJQUNYaCtDLEVBQ0gyQixPQUFRLElBQ0gzQixFQUFLMkIsZ0JBS0xxOEMsRUFBUXI4QyxPQUFPdGlDLEdBR3RCd2pDLEdBQWU5USxFQUNaejRDLFFBQVFpRixHQUFPQSxFQUFHc00sVUFBVW5NLFNBQVMyZ0IsS0FDckN2dkIsS0FBS3lPLElBQU8sSUFDUkEsRUFDSHNNLFVBQVd0TSxFQUFHc00sVUFBVXZSLFFBQVF3MkQsR0FBTUEsSUFBTXp3QyxRQUN6Q29rQixHQUdQaWpCLEdBQVdzM0MsRUFBU3Y2RCxHQ3REdEIsU0FBU3c2RCxHQUFVNStFLEVBQXNCNm5DLEVBQTBCenhCLEdBUWpFMDBCLEdBQWdCLENBQ2RwNkQsT0FSMkI0MkQsS0FBVWhGLE9BQU90aUMsSUFBZSxDQUFDc2lDLE9BQVEsS0FDckJBLE9BQU9sc0IsSUFBZSxJQUNmeXhCLElBQWdCLENBQ3RFdEIsYUFBYyxPQUNkdm1DLFlBQ0E2bkMsZUFJQXpGLFlBQWEsQ0FDWFUsV0FBWSxDQUFDLENBQUNzSSxZQUFhLEdBQUk5akQsS0FBTSxHQUFJaS9DLGFBQWMsS0FDcER6dUQsT0FBT3d2RCxLQUFVakYsTUFDZjV4RCxLQUFLODFFLElBQVMsQ0FDWG5iLFlBQWFtYixFQUFLMEYsT0FDbEIza0UsS0FBTWkvRCxFQUFLMEYsT0FDWDFsQixhQUFjLFNBR3hCQSxhQUFjLE9BQ2R0OEIsT0FBUSxDQUNOa2UsU0FBVSxDQUFDa2pCLEVBQVMzMUMsSUFBUzhvRixHQUFzQngrRSxFQUFXNm5DLEVBQWF6eEIsRUFBWWkxQixHQUN2Rnd6QyxTQUFVLENBQUM1dEcsRUFBR210QyxFQUFLN0IsSUFBUTR6QixHQUFPbC9ELEVBQUdzckMsTUFLcEMsTUFBTXVpRSxXQUF3QjlPLEdBZW5DcjJGLFlBQVl3ekIsR0FDVnVjLE1BQU12YyxHQWRSLEtBQUE0eEUsb0JBQWlDLEdBZS9CM3dHLEtBQUs0d0csV0FBYTV3RyxLQUFLKytCLFFBQVE1TSxjQUFjLCtCQUM3Q255QixLQUFLNndHLGlCQUFtQjd3RyxLQUFLKytCLFFBQVE1TSxjQUFjLGdDQUNuRG55QixLQUFLOHdHLG1CQUFxQjl3RyxLQUFLKytCLFFBQVE1TSxjQUFjLDhCQUNyRG55QixLQUFLNndHLGlCQUFpQjV0QixTQUFZcGdGLElBQ2hDMnRHLEdBQVV4d0csS0FBSzR3RyxXQUFXdHpHLE1BQU8wQyxLQUFLK3dHLGlCQUFrQi93RyxLQUFLZ3hHLGlCQUM3RCxNQUFNMzNDLEVBQWFILEtBQVVoRixPQUFPbDBELEtBQUs0d0csV0FBV3R6RyxRQUFXLEdBQy9EMEMsS0FBS2l4RyxtQkFBbUI1M0MsSUFFMUJyNUQsS0FBSzh3RyxtQkFBbUI3dEIsU0FBWXBnRixJQUVsQzZ1RCxHQUFTLElBQ0pDLEtBQ0g0QyxhQUFjdjBELEtBQUs4d0csbUJBQW1COXhDLFdBRzFDaC9ELEtBQUs0d0csV0FBVzN0QixTQUFZcGdGLElBQzFCN0MsS0FBS3lrRixXQUFXemtGLEtBQUs0d0csV0FBV3R6RyxRQUVqQzBDLEtBQUsrK0IsUUFBUTVNLGNBQWMsY0FBOEJ1YyxRQUFXN3JDLElBQ25FN0MsS0FBS2t4RyxlQUVObHhHLEtBQUsrK0IsUUFBUTVNLGNBQWMsaUJBQWlDdWMsUUFBVzdyQyxJQUd0RTdDLEtBQUtteEcsWUFBWW54RyxLQUFLNHdHLFdBQVd0ekcsUUFJbEMwQyxLQUFLKytCLFFBQVE1TSxjQUFjLGtCQUFrQ3VjLFFBQVc3ckMsSUFDdkV1eUQsR0FBZSxLQUNaL3lELEtBQUt5TyxJQUFPLElBQ1ZBLEVBQ0hzTSxVQUFXdE0sRUFBR3NNLFVBQVV2UixRQUFRdzJELEdBQU1BLElBQU1yaUUsS0FBSzR3RyxXQUFXdHpHLGNBR2hFMEMsS0FBS294RyxvQkFBc0JweEcsS0FBSysrQixRQUFRNU0sY0FBYyxVQUN0RG55QixLQUFLb3hHLG9CQUFvQjFpRSxRQUFXN3JDLElBQ2xDdXlELEdBQWVDLEtBQ1p4cEQsUUFBUWlGLEdBQU9BLEVBQUd1aUMsYUFBZXZpQyxFQUFHc00sVUFBVWxMLE1BQU1td0QsR0FBTUEsSUFBTXJpRSxLQUFLNHdHLFdBQVd0ekcsVUFDaEYrRSxLQUFLeU8sSUFBTyxJQUNSQSxFQUNIdWlDLFVBQVd2aUMsRUFBR3VpQyxlQUdwQnJ6QyxLQUFLcXhHLG1CQUFxQnJ4RyxLQUFLKytCLFFBQVE1TSxjQUFjLFlBQ3JEbnlCLEtBQUtxeEcsbUJBQW1CM2lFLFFBQVc3ckMsSUFDakMsTUFBTWt3RSxFQUFjNUssS0FDcEIvUyxHQUFlQyxLQUNkeHBELFFBQVFpRixHQUFPQSxFQUFHdWlDLGFBQWV2aUMsRUFBR3NNLFVBQVVsTCxNQUFNbXdELEdBQU1BLElBQU1yaUUsS0FBSzR3RyxXQUFXdHpHLFVBQW1DLElBQXhCd1QsRUFBR2lvRCxVQUFVcDNELFVBQWtCbVAsRUFBR2lvRCxVQUFVN21ELE1BQU1nSCxHQUFTQSxJQUFTNjVELEVBQVkzOUQsUUFDM0svUyxLQUFLeU8sSUFBTyxJQUNSQSxFQUNIdWlDLFVBQVd2aUMsRUFBR3VpQyxlQUtoQnJ6QyxLQUFLKytCLFFBQVE1TSxjQUFjLG9CQUFvQ3VjLFFBQVUsSUFBTTF1QyxLQUFLc3hHLGVBQWV0eEcsS0FBSzR3RyxXQUFXdHpHLE9BTW5IMEMsS0FBSysrQixRQUFRNU0sY0FBYyxlQUErQnVjLFFBQVc3ckMsR0FBTTdDLEtBQUt1eEcsWUFBWXZ4RyxLQUFLNHdHLFdBQVd0ekcsT0FFOUdzMEQsSUFBWSxLQUNWNXhELEtBQUs4cEUsT0FBTyxTQUdkeFUsSUFBa0IsS0FDaEJ0MUQsS0FBSzhwRSxPQUFPLFNBSWhCd25DLGVBQWV0L0QsR0FDYmh5QyxLQUFLa3hHLFlBQVloNEMsS0FBVWhGLE9BQU9saUIsSUFHcEN1L0QsWUFBWUMsR0FDVixHQUFJQSxJQUFpQjlxRCxHQUFVbUUscUJBQzdCL2MsR0FBYWtnQixNQUNYLGlCQUNBLGNBQWN0SCxHQUFVa0UsK0RBQ3hCLGFBQ0csQ0FDTCxNQUFNdG9ELEVBQU80MkQsS0FBVWhGLE9BQU9zOUMsR0FDOUJ4eEcsS0FBS2t4RyxZQUFZNXVHLEdBQU80VyxHQUFTbFosS0FBS3l4RyxjQUFjRCxFQUFjdDRGLE1BT3RFdTRGLGNBQWNELEVBQXNCdDRGLEVBQWNnN0MsRUFBMEJnRixLQUFVaEYsT0FBUTVQLEVBQVcrUSxLQUFlcmYsRUFBVzFnQyxHQUFNMGdDLFVBQ3ZJLE1BQU1wa0IsRUFBWTV4QixLQUFLMHhHLDBCQUEwQng0RixHQUdqRGxaLEtBQUsyeEcsYUFBYTN4RyxLQUFLNHhHLHFCQUFxQkosRUFBYyxLQUFNbHRELEdBQVcxeUIsRUFBV3NpQyxFQUFRbGUsR0FHOUZzNkQsR0FBWWtCLEdBUWRJLHFCQUFxQjUvRCxFQUFzQndpQixFQUFlbFEsRUFBVytRLE1BQ25FLE9BQUliLEVBQ0tsUSxFQUNKejRDLFFBQVFpRixHQUFPQSxFQUFHc00sVUFBVW5NLFNBQVMrZ0MsSUFDVCxJQUF4QmxoQyxFQUFHaW9ELFVBQVVwM0QsUUFDYm1QLEVBQUdpb0QsVUFBVTluRCxTQUFTdWpELEtBRXRCbFEsRUFDSno0QyxRQUFRaUYsR0FBT0EsRUFBR3NNLFVBQVVuTSxTQUFTK2dDLEtBTzVDZy9ELGdCQUNFLE9BQU90cUQsR0FBVXdFLGlCQUFpQnlHLEtBQVE0QyxhQUFlLEVBQUksR0FNL0Rrd0IsV0FBV3JoQixFQUFxQmxQLEVBQTBCZ0YsS0FBVWhGLE9BQVE1UCxFQUFXK1EsS0FBZXJmLEVBQVcxZ0MsR0FBTTBnQyxVQUNySCxNQUFNM1ksRUFBT3M3QixHQUFRclUsR0FDZnV0RCxFQUFTLEdBQW9CdnRELEdBQ2hDejRDLFFBQVFpRixHQUFPQSxJQUFPdXNCLElBQ3JCK2xDLElBQWExYyxHQUFVbUUscUJBQ3pCL2MsR0FBYWtnQixNQUFNLGdCQUFpQix3QkFDckJ0SCxHQUFVa0UsdUZBRXpCLFNBQ1NpbkQsRUFBT2x3RyxPQUNoQjNCLEtBQUsyeEcsYUFBYUUsRUFBUXp1QyxFQUFVbFAsRUFBUWxlLEdBRTVDbEksR0FBYWtnQixNQUFNLGdCQUFpQixpRUFBaUUsU0FJekcyakQsYUFBYXg5RCxFQUEyQm5DLEVBQW1Ca2lCLEVBQTBCZ0YsS0FBVWhGLE9BQVFsZSxFQUFXMWdDLEdBQU0wZ0MsVUFDdEgsTUFBTTg3RCxFQUFpQngxRyxPQUFPd0UsS0FBS296RCxHQUNoQ3JvRCxRQUFROC9CLEdBQU1BLElBQU0rYSxHQUFVbUUsdUJBQ2pDdUssR0FBZWpoQixFQUNaOXhDLEtBQUt5TyxHQUFPQSxFQUFHc00sVUFBVW5NLFNBQVMrZ0MsR0FBYWxoQyxFQUFLLElBQ2hEQSxFQUNIc00sVUFBV3RNLEVBQ1JzTSxVQUVFdlIsUUFBUXcyRCxJQUFPeXZDLEVBQWU3Z0csU0FBU294RCxLQUV2QzM0RCxPQUFPLENBQUNzb0MsT0FDWGdFLEdBTVIrN0QsVUFBVXp0RCxHQUNSLE1BQU0wdEQsRUFBWTk0QyxLQUFVaEYsT0FDNUIsT0FBTzVQLEVBQ0pqaUQsS0FBS3lPLEdBQU9BLEVBQUdzTSxZQU1mN1ksUUFBTyxDQUFDMEQsRUFBTWk1QixJQUNOajVCLEVBQUs0RCxRQUFRb21HLEdBQWtCL3dFLEVBQVc1MkIsUUFBUTJuRyxJQUFrQixNQUU1RXBtRyxRQUFRK2xCLEdBQWN0MUIsT0FBT3dFLEtBQUtreEcsR0FBVzkvRixNQUFNOC9CLEdBQXNCQSxJQUFjcGdCLE1BUzVGc2dGLGdCQUFnQmxnRSxHLE1BRWRoeUMsS0FBSzR3RyxXQUFXbHRFLFVBQVksR0FHNUIsTUFBTXl1RSxFQUFlajVDLEtBQVVoRixPQWlCL0IsSUFkRWxpQixJQUFjMFUsR0FBVW9FLHVCQUF5QixDQUFDLENBQ2xEbDVCLFVBQVc4MEIsR0FBVW9FLHVCQUNyQmtTLFlBQWF0VyxHQUFVcUUsMkJBQ3BCLElBQ0pyaEQsT0FBT3BOLE9BQU93RSxLQUFLcXhHLEdBQWM5dkcsS0FBS3V2QixHQUFjdWdGLEVBQWF2Z0YsTUFFakV2dkIsS0FBS3lCLElBRUosTUFBTTg2QixFQUFTbGpDLFNBQVNDLGNBQWMsVUFHdEMsT0FGQWlqQyxFQUFPdGhDLE1BQVF3RyxFQUFJOHRCLFVBQ25CZ04sRUFBTzhFLFVBQVk1L0IsRUFBSWs1RCxZQUNoQnArQixLQUVSeHdCLFNBQVN3d0IsR0FBVzUrQixLQUFLNHdHLFdBQVdyb0YsWUFBWXFXLEtBQ2hDLE1BQWJvVCxFQUFvQixDQUN0QixNQUFNb2dFLEVBQW9CcGdFLEVBRzFCaHlDLEtBQUs0d0csV0FBV3R6RyxNQUFTODBHLEVBRXpCcHlHLEtBQUsrK0IsUUFBUTNoQixVQUFVdVYsT0FBTyxZQUc5QixNQUFNMG1DLEVBQWFILEtBQVVoRixPQUFPaytDLElBQXFCLEdBQ3pEcHlHLEtBQUtxeUcseUJBQXlCaDVDLEdBQzlCcjVELEtBQUs2d0csaUJBQWlCemQsVUFBVyxFQUc3QnB6RixLQUFLMndHLHNCQUF3QnlCLElBRS9CcHlHLEtBQUs2d0csaUJBQWlCOWlDLGNBQWdCLEdBRXhDL3RFLEtBQUsyd0csb0JBQXNCeUIsRUFHM0I1QixHQUFVNEIsRUFBa0JweUcsS0FBSyt3RyxpQkFBa0Ivd0csS0FBS2d4RyxpQkFHeEQsTUFBTXNCLEVBQVF0eUcsS0FBSzR4RyxxQkFBcUJRLEVBQWtDLFFBQWxCLEVBQUVqcUMsWUFBZ0IsZUFBRS95RCxJQUFJelQsT0FDMUU0d0csRUFBbUIsSUFBVkQsRUFBYyxFQUFJdHlHLEtBQUs0eEcscUJBQXFCUSxFQUFrQixNQUFNendHLE9BQ25GM0IsS0FBS3F4RyxtQkFBbUIzdEUsVUFBWSxHQUFHNnVFLDhDQUN2Q3Z5RyxLQUFLb3hHLG9CQUFvQjF0RSxVQUFZLEdBQUc0dUUsZ0NBR3hDdHlHLEtBQUtpeEcsbUJBQW1CNTNDLFFBRXhCcjVELEtBQUsrK0IsUUFBUTNoQixVQUFVakgsSUFBSSxZQU8vQjg2RixtQkFBbUI1M0MsR0FDakIsTUFDTW01QyxJQURrQm41QyxFQUFVbkYsUUFBVSxJQUFJbDBELEtBQUtneEcsa0JBQW9CLElBQzFDaHhHLEtBQUsrd0csbUJBQXFCLEdBQ3pEdndHLE1BQU0rRyxLQUFLdkgsS0FBSysrQixRQUFRN00saUJBQWlCLDBCQUN4QzlqQixTQUFTMEMsSUFDUixNQUFNNnNCLEVBQVU3c0IsRUFBRzBoQixhQUFhLHVCQUMxQjhhLEVBQVF4OEIsRUFBRzBoQixhQUFhLHVCQUF5QmdnRixFQUFRNzBFLEdBQVcsS0FBTyxJQUM3RTdzQixFQUFHNHlCLFlBQWM0SixJQUNuQng4QixFQUFHNHlCLFVBQVk0SixNQVFyQitrRSx5QkFBeUJoNUMsR0FDdkIsTUFBTWtmLEdBQWtCbGYsRUFBVW5GLFFBQVUsSUFBSWwwRCxLQUFLZ3hHLGlCQUcvQ2pqQyxFQUFnQi90RSxLQUFLNndHLGlCQUFpQjlpQyxjQUM1Qy90RSxLQUFLNndHLGlCQUFpQm50RSxVQUFZLEdBTVorMkIsR0FBaUIvVCxHQUFVdUUsWUFDYnRoRCxLQUFLaWYsTUFBTTFXLE1BQU1uTyxHQUF1QixnQkFBZEEsRUFBS21WLE9BQXdCM2IsS0FJdEY4RSxLQUFLbzNELElBRUosTUFBTTc2QixFQUFTbGpDLFNBQVNDLGNBQWMsVUFJdEMsT0FIQWlqQyxFQUFPdGhDLE1BQVFtOEQsRUFDZjc2QixFQUFPOEUsVUFBWSsxQixHQUNaOGUsR0FBb0JBLEVBQWU5ZSxHQUFlLEtBQU8sSUFDekQ3NkIsS0FFUnh3QixTQUFTd3dCLEdBQVc1K0IsS0FBSzZ3RyxpQkFBaUJ0b0YsWUFBWXFXLEtBRzNENStCLEtBQUs2d0csaUJBQWlCOWlDLGNBQWdCQSxFQU14Q2dqQyxpQkFDRSxNQUF1QyxLQUFoQy93RyxLQUFLNndHLGlCQUFpQnZ6RyxNQUFlLFNBQVcwQyxLQUFLNndHLGlCQUFpQnZ6RyxNQU0vRTR6RyxZQUFZejVCLEVBQXNCMVIsR0FDaEMsTUFBTTFvQyxFQUFPczdCLEtBQ0V0RCxLQUFjeHBELFFBQVFpRixHQUFPQSxJQUFPdXNCLElBQ3hDMTdCLFFBQVUsRUFDbkJtc0MsR0FBYWtnQixNQUFNLGlCQUFrQixpRUFBaUUsU0FFdEdsZ0IsR0FBYTR3QixPQUFPLGlCQUFrQiwrQkFBZ0MrWSxFQUFXQSxFQUFTemEsWUFBYyxHQUFJLGNBQWMsQ0FBQzJCLEVBQVF6bEQsS0FDN0h5bEQsR0FBVXpsRCxHQUFpQixLQUFUQSxJQUNwQmxaLEtBQUt5eUcsY0FBYyxDQUFDdjVGLE9BQU11K0QsYUFDdEIxUixHQUNGQSxFQUFRN3NELE9BVWxCdzRGLDBCQUEwQng0RixHQUN4QixNQUFPLFNBQVdBLEVBQUtwYixRQUFRLEtBQU0sS0FBS21tQixjQU81Q3d1RixlQUFjLEtBQUN2NUYsRUFBSSxTQUFFdStELEdBQWlEdmpCLEVBQTBCZ0YsS0FBVWhGLE9BQVE1UCxFQUFXK1EsS0FBZXJmLEVBQVcxZ0MsR0FBTTBnQyxVQUMzSixNQUFNcGtCLEVBQVk1eEIsS0FBSzB4RywwQkFBMEJ4NEYsR0FHakRnM0YsR0FBVWgzRixFQUFNMFksRUFBVzZsRCxHQUczQnozRSxLQUFLeWtGLFdBQVc3eUQsRUFBV3NpQyxFQUFRNVAsRUFBVXRPLEdBRzdDaDJDLEtBQUtreUcsZ0JBQWdCdGdGLEdBUXZCdS9FLFlBQVlqNEYsRUFBY3c1RixJQUNKLElBQWhCQSxFQUNGMXlHLEtBQUsyeUcsY0FBY3o1RixHQUVmQSxJQUFTd3RDLEdBQVVtRSxxQkFDckIvYyxHQUFha2dCLE1BQU0saUJBQWtCLDBCQUN0QnRILEdBQVVrRSx5RUFDdEIsU0FFSDljLEdBQWF3aEIsUUFBUSxpQkFBa0IsaURBQ0RwMkMseUNBQ2xDeWxELElBQ0VBLEdBQ0YzK0QsS0FBSzJ5RyxjQUFjejVGLE1BVW5CNHdELE9BQU8yVyxHQUdmLEdBRkFubEMsTUFBTXd1QixPQUFPMlcsR0FFVDNGLEdBQWdCLFFBQVMsY0FRM0IsR0FQQTk2RSxLQUFLKytCLFFBQVExVyxNQUFNQyxRQUFVLEdBSTdCdG9CLEtBQUs4d0csbUJBQW1COXhDLFFBQVVyTixLQUFRNEMsYUFHdENrc0IsRUFBaUI5K0UsT0FBUyxFQUFHLENBRS9CLE1BQU1peEcsRUFBaUIsTUFFckIsTUFBTTF4RSxFQUFhbGhDLEtBQUsreEcsVUFBVXR4QixHQUdsQyxPQUFJdi9DLEVBQVd2L0IsUUFBVSxFQUNoQnUvQixFQUFXLEdBRWJ3bEIsR0FBVW1FLHNCQVJJLEdBVXZCN3FELEtBQUtreUcsZ0JBQWdCVSxHQUdIbnlCLEVBQWlCOStFLE9BQVMsR0FDZ0MsSUFBekU4K0UsRUFBaUI1MEUsUUFBUWlGLEdBQU9BLEVBQUd2VCxPQUFTaWlELEdBQVk2Z0IsT0FBTTErRCxPQUUvRDNCLEtBQUsrK0IsUUFBUTNoQixVQUFVdVYsT0FBTyx1QkFFOUIzeUIsS0FBSysrQixRQUFRM2hCLFVBQVVqSCxJQUFJLDRCQUs3Qm5XLEtBQUtreUcsZ0JBQWdCeHJELEdBQVVtRSxzQkFFL0I3cUQsS0FBSysrQixRQUFRM2hCLFVBQVV1VixPQUFPLDRCQUdoQzN5QixLQUFLKytCLFFBQVExVyxNQUFNQyxRQUFVLE9BT3pCcXFGLGNBQWN6NUYsR0FDcEIsTUFBTTBsQixFQUFTNStCLEtBQUs0d0csV0FBV3orRSxjQUFjLGlCQUFtQmpaLEVBQU8sTUFHdkVvM0YsR0FBWTF4RSxFQUFPdGhDLE9BR25CMEMsS0FBSzR3RyxXQUFXdDhFLFlBQVlzSyxJLDBCQ3hlekIsTUFBTWkwRSxXQUFrQmpSLEdBWTdCcjJGLFlBQVl3ekIsR0FFVnVjLE1BQU12YyxHQUpSLEtBQUErekUsYUFBYyxFQU1aLE1BQU1DLEVBQWtCL3lHLEtBQUt3aUcsVUFBVSw0QkFBNEIsSUFBTXhpRyxLQUFLMnNHLGtCQUFrQixRQUNoRyxLQUFVb0csR0FDVi95RyxLQUFLZ3pHLG9CQUFzQkQsRUFBZ0I1MEQsbUJBQzNDbitDLEtBQUtnekcsb0JBQW9CNTFGLFVBQVVqSCxJQUFJLGVBRXZDblcsS0FBSzBpRyxhQUFhLDRCQUE0QixJQUFNMWlHLEtBQUsyc0csbUJBR3pEM3NHLEtBQUtpekcsY0FBZ0JqekcsS0FBSysrQixRQUFRNU0sY0FBYyx5QkFDaERueUIsS0FBS3dpRyxVQUFVLHlCQUF5QixJQUFNeGlHLEtBQUsyc0csbUJBRW5ELzZDLElBQVksS0FDVjV4RCxLQUFLOHBFLE9BQU8sU0FHZHhVLElBQWtCLEtBQ2hCdDFELEtBQUs4cEUsT0FBTyxTQUloQm9wQyxpQkFDRSxPQUFPbHpHLEtBQUtnekcsb0JBQW9CdndHLFdBQVdvQyxNQUFNLEtBQUtpaEIsS0FBSyxLQUc3RHF0RixlQUFlcDRDLEdBQ1QvNkQsS0FBSzh5RyxhQUNMOXlHLEtBQUtrekcsbUJBQXFCbjRDLElBQzVCLzZELEtBQUs4eUcsYUFBYyxFQUNuQjl5RyxLQUFLZ3pHLG9CQUFvQngrRSxTQUFTdW1DLEVBQy9CbDJELE1BQU0sS0FDTmdILFFBQVErbEIsSUFBdUI4MEIsR0FBVXlFLGtCQUFrQmw2QyxTQUFTMmdCLEtBQ3BFOUwsS0FBSyxNQUNSOWxCLEtBQUs4eUcsYUFBYyxHQU92Qm5HLGlCQUNFLEdBQUkzc0csS0FBSzh5RyxZQUFhLE9BQ3RCOXlHLEtBQUs4eUcsYUFBYyxFQUduQixNQUFNajBDLEVBQU83K0QsS0FBS296RyxhQUFhcHpHLEtBQUtpekcsY0FBYzMxRyxPQUdsRCxHQUFJMEMsS0FBS2d6RyxvQkFBb0I1MUYsVUFBVW9XLFNBQVMsT0FDOUN4ekIsS0FBS216RyxlQUFlLFFBQ2YsQ0FDTCxNQUFNbnNCLEVBQWtCLEtBQXNCLEdBQUc1cEUsVUFDOUN2UixRQUFRK2xCLEdBQXNCODBCLEdBQVV5RSxrQkFBa0JsNkMsU0FBUzJnQixLQUN0RTJ4QyxHQUFhdmpFLEtBQUtrekcsaUJBQW1CLElBQU1sc0IsR0FJN0MxakIsR0FBY3pFLEdBRWQ3K0QsS0FBSzh5RyxhQUFjLEVBTVhocEMsT0FBTzJXLEdBQ2YsSUFBSXpnRixLQUFLOHlHLFlBR1QsR0FGQXgzRCxNQUFNd3VCLE9BQU8yVyxHQUVUM0YsR0FBZ0IsU0FBVSxjQUFlLENBQzNDOTZFLEtBQUsrK0IsUUFBUTFXLE1BQU1DLFFBQVUsR0FHRyxJQUE1Qm00RCxFQUFpQjkrRSxRQUNuQjNCLEtBQUtnekcsb0JBQW9CNTFGLFVBQVV1VixPQUFPLE9BQzFDM3lCLEtBQUttekcsZUFBZTF5QixFQUFpQixHQUFHcmpFLFVBQVUwSSxLQUFLLFFBRXZEOWxCLEtBQUtnekcsb0JBQW9CNTFGLFVBQVVqSCxJQUFJLE9BQ3ZDblcsS0FBS216RyxlQUFlLEtBSXRCLE1BQU10MEMsRUFBTzcrRCxLQUFLOGhHLGtCQUF3Q3JoQixHQUFtQjN2RSxHQUFPOVEsS0FBS3F6RyxhQUFhdmlHLEVBQUcrdEQsUUFDN0YsTUFBUkEsR0FBZ0JBLElBQVM3K0QsS0FBS3F6RyxhQUFhcnpHLEtBQUtvekcsYUFBYXB6RyxLQUFLaXpHLGNBQWMzMUcsVUFDbEYwQyxLQUFLaXpHLGNBQWMzMUcsTUFBUXVoRSxHQUFRLFNBR3JDNytELEtBQUsrK0IsUUFBUTFXLE1BQU1DLFFBQVUsT0FHakMrcUYsYUFBYXgwQyxHQUNYLE9BQVcsTUFBUkEsRUFBcUIsR0FFakJ2aUUsT0FBT21GLFFBQVFvOUQsR0FDckI0RCxNQUFLLENBQUNuaEQsRUFBR3VGLElBQU12RixFQUFFLEdBQUdneUYsY0FBY3pzRixFQUFFLE1BQ3BDeGtCLEtBQUksRUFBRTZXLEVBQU1rUixLQUFTbFIsR0FBZSxNQUFQa1IsRUFBYyxLQUFLQSxLQUFTLE1BQ3pEdEUsS0FBSyxLQUVSc3RGLGFBQWF6cEcsR0FDWCxHQUFXLE1BQVJBLEVBQWMsTUFBTyxHQUV4QixNQUFNZ29CLEVBQWFob0IsRUFBSytULE1BQU0sbUNBQzlCLEdBQWtCLE1BQWRpVSxFQUFvQixNQUFPLEdBRS9CLE1BQU1uekIsRUFBUyxHQVNmLE9BUkFtekIsRUFBV3ZqQixTQUFTa1QsSUFDbEIsTUFBT3BJLEVBQU1rUixHQUFPOUksRUFBRXpjLE1BQU0sS0FDNUIsR0FBVyxNQUFQdWxCLEVBQWE1ckIsRUFBTzBhLEdBQVEsU0FDM0IsQ0FDSCxNQUFNcTZGLEVBQVducEYsRUFBSXRzQixRQUFRLFdBQVcsTUFDeENVLEVBQU8wYSxHQUFRcTZGLE1BR1ovMEcsR0NoSVgsTUFBTWcxRyxHQUFnQixDQUNwQixDQUFDaDBELEdBQVlxZ0IsV0FBWSxZQUN6QixDQUFDcmdCLEdBQVltVyxTQUFVLCtCQUN2QixDQUFDblcsR0FBWTRnQixPQUFRLFFBQ3JCLENBQUM1Z0IsR0FBWTZnQixNQUFPLE9BQ3BCLENBQUM3Z0IsR0FBWW9nQixNQUFPLHFCQUNwQixDQUFDbFosR0FBVXNFLGdCQUFpQix1QkFDNUIzdEIsS0FBTSxRQUVELE1BQU1vMkUsV0FBaUI3UixHQTZCNUJyMkYsWUFBWXd6QixHQUNWdWMsTUFBTXZjLEdBN0JSLEtBQUErb0UsU0FBVyxDQUNUcHRDLEVBQ0FqK0QsRUFDQTZuRCxFQUNBbm9CLElBQ0cxL0IsRUFBTzZxQixFQUFJO3lDQUN1QjZnRCxNQUFvQnZHLEdBQWdCbmxFLEVBQU0wckUsS0FBaUIveUQsSUFBTSxHQUFLLHVCQUF1QjNZLEVBQUsyWTt3QkFDbkgzWSxFQUFLNDJDLFNBQVcsV0FBYSxLQUFLNTJDLEVBQUttb0MsU0FBU2pqQyxPQUFTLEdBQUs7dUNBQy9DNnhHLEdBQTZDLFNBQS9CLzJHLEVBQUtraEMsUUFBUTFaLGNBQTJCLE9BQVN4bkIsRUFBSzZGLEtBQUtnNEQsVUFBWTVULEdBQVVzRSxlQUFpQnZ1RCxFQUFLYzt1QkFDcElzRixJQUNaczVCLEVBQVMxL0IsR0FDVG9HLEVBQUU2d0IsaUJBQ0Y3d0IsRUFBRTIrQixtQkFDSzs7Ozs7WUFNUC9rQyxFQUFLa2hDLFFBQVExWixjQUFjbm1CLFFBQVEsT0FBUXVrRSxHQUFNQSxFQUFFeGpDLGtCQUFpQnBpQyxFQUFLMmdCLFVBQVV6YixPQUFTLElBQU0sS0FBS2xGLEVBQUsyZ0IsVUFBVTBJLEtBQUs7OztRQUkvSHd5QyxHQUFZNzdELEVBQU02bkQsR0FDakJqaUQsS0FBS3lPLEdBQU85USxLQUFLOG5HLFNBQVNwdEMsRUFBZTVwRCxFQUFJd3pDLEVBQVVub0I7O0lBRzFELEdBR0Z5MUIsSUFBWSxLQUNOa3BCLEdBQWdCLGNBQWUsZUFDakM5NkUsS0FBSzhwRSxPQUFPLE1BQ1ovcUMsRUFBUTFXLE1BQU1DLFFBQVUsSUFFeEJ5VyxFQUFRMVcsTUFBTUMsUUFBVSxVQUk1Qmd0QyxJQUFrQixLQUNoQnQxRCxLQUFLOHBFLE9BQU8sU0FRaEJBLE9BQU8yVyxHQUNMbmxDLE1BQU13dUIsT0FBTzJXLEdBQ2IsTUFBTS9sQixFQUFnQkQsR0FBaUIvVCxHQUFVc0UsZ0JBQzNDMUcsRUFBVytRLEtBQ2pCMFQsR0FDRS9vRSxLQUFLOG5HLFNBQ0hwdEMsRUFDQS9CLEdBQVFyVSxHQUNSQSxHQUNDeHpDLEdBQU9veEQsR0FBZSxDQUFDcHhELE1BRTFCOVEsS0FBSysrQixVQ3pEWCxNQUFNLEdBQVVndEIsS0FBZ0JXLGFBR2hDLElBQUksSUFBVyxFQXFFZixTQUFTZ25ELEtBQ1AsTUFBTUMsRUFBc0IsR0FBUXhoRixjQUFjLCtCQUM1Q3loRixFQUFxQixLQUFzQi9uRyxRQUFRaEosR0FBTTgzRCxHQUFZOTNELE1BQ3BFcTVFLEdBQWtCbkIsR0FBa0IsY0FFaEIsWUFBdkJtQixhQUFjLEVBQWRBLEVBQWdCOW1FLEtBQWlELElBQTlCdytGLEVBQW1CanlHLFFBeUI1RCxTQUF1QjI0RCxHQUNyQixHQUFJQSxHQUFhQSxFQUFVaDRELEtBQUtnNEQsVUFBVyxDQUN6QyxNQUFNdTVDLEVBQWdCdjVDLEVBQVVoNEQsS0FBS2c0RCxVQUNyQ21DLEdBQW9CLENBQ2xCbjZELEtBQU11eEcsRUFBY3Z4RyxLQUNwQjB4RCxZQUFha0YsS0FBVWxGLFlBQ3ZCbUUsYUFBYzA3QyxFQUFjMTdDLGFBQzVCdDhCLE9BQVEsQ0FDTmtlLFNBQVUsQ0FBQ2tqQixFQUFTMzFDLEtBRWxCOHRDLEdBQWUsQ0FBQyxJQUNYa0YsRUFDSGg0RCxLQUFNLElBQ0RnNEQsRUFBVWg0RCxLQUNiZzRELFVBQVcsSUFDTkEsRUFBVWg0RCxLQUFLZzRELFVBQ2xCaDRELEtBQU0sSUFDRGc0RCxFQUFVaDRELEtBQUtnNEQsVUFBVWg0RCxRQUN6QjI2RCxLQUlUMUMsVUFBV2p6QyxNQUlmbXBGLFNBQVUsQ0FBQzV0RyxFQUFHbXRDLEVBQUs3QixJQUFRNHpCLEdBQU9sL0QsRUFBR3NyQyxHQUNyQzJsRSxXQUFZLENBQUNqeEcsRUFBR2s5RCxFQUFNNXhCLElBQVEyekIsR0FBU2ovRCxFQUFHazlELEVBQU01eEIsV0FJcERvdUIsS0F2REF3M0MsQ0FBY0gsRUFBbUIsSUFDakNELEVBQW9CdHJGLE1BQU1DLFFBQVUsS0FFcENxckYsRUFBb0J0ckYsTUFBTUMsUUFBVSxPQUNwQ2kwQyxNQVFKLFNBQVN5M0MsR0FBWWxqRyxHQUNsQkEsRUFBRzRpQyxjQUE4QnQyQixVQUFVdWhFLE9BQU8sWUFDbkQsTUFBTXMxQixFQUFRbmpHLEVBQUdxaEIsY0FBYyxlQUMzQjhoRixJQUNGQSxFQUFNNzJGLFVBQVV1aEUsT0FBTyxrQkFDdkJzMUIsRUFBTTcyRixVQUFVdWhFLE9BQU8sa0JDeEdwQixTQUFTdTFCLEdBQWdCbjFFLEdBRTlCbS9DLEsvQlVPLElBQUl3RixHQUFZMzNCLEtBQWdCRSxhR1poQyxJQUFJazZCLEdBQVlwNkIsS0FBZ0JJLGFFSGhDLElBQUl3ekMsR0FBUzV6QyxLQUFnQkssVXlCa0JwQzdzRCxZQUFXLEtBQ0wsSUFRUixXQUNpQixJQUFJc2pHLEdBQU8sR0FBUTF3RSxjQUFjLHVCQUM3QixJQUFJa3lFLEdBQVcsR0FBUWx5RSxjQUFjLG1CQUNsQyxJQUFJbTZFLEdBQWMsR0FBUW42RSxjQUFjLDhCQUN6QyxJQUFJaTlFLEdBQWEsSUFDckIsSUFBSXZDLEdBQVMsR0FBUTE2RSxjQUFjLGlCQUMzQixJQUFJdTZFLEdBQWlCLEdBQVF2NkUsY0FBYyxvQkFDbEQsSUFBSTBnRixHQUFVLEdBQVExZ0YsY0FBYyxrQkFOdEQsTUFTTWdpRixFQUFrQixHQUFRaGlGLGNBQWMsMkJBSXhDaWlGLEdBSGtCLElBQUkxRCxHQUFnQnlELEdBR3hCLEdBQVFqaUYsaUJBQWlCLHVCQUM3QyxJQUFLLElBQUk4c0IsRUFBTSxFQUFHQSxFQUFNbzFELEVBQVl6eUcsT0FBUXE5QyxJQUFPLENBQ2pELE1BQU1sdUMsRUFBa0JzakcsRUFBWXAxRCxHQUM5QnExRCxFQUFRLHlCQUEyQnIxRCxFQUNlLFNBQXZDdmpELE9BQU93eEUsYUFBYUMsUUFBUW1uQyxJQUUzQ0wsR0FBWWxqRyxHQUVkQSxFQUFHNDlCLFFBQVc3ckMsSUFDWm14RyxHQUFZbGpHLEdBQ1pyVixPQUFPd3hFLGFBQWFJLFFBQVFnbkMsRUFBUXZqRyxFQUFHNGlDLGNBQThCdDJCLFVBQVVvVyxTQUFTLFlBQVkzMkIsYUFLeEdtK0UsR0FEa0MsR0FBUTdvRCxjQUFjLDRCQUNuQyxjQUdyQm1qQyxJQUFrQixJQUFNbytDLE9BQ3hCOWhELElBQVksSUFBTThoRCxPQUVsQm4wRyxZQUFXLEtBR1QsTUFBTXMyQyxFQUFLOGIsS0FDWEQsR0FBUyxJQUNKN2IsRUFDSDRWLFFBQVM1VixFQUFHNFYsUUFBUS9oRCxPQUFPLENBQ3pCMEwsR0FBSSxjQUNKN1gsS0FBTSxhQUNONGpDLFNBQVMsRUFDVDcrQixLQUFNLENBQ0pzdkIsVUFBVyx3QkFJakIsTUFBTWlkLEVBQVluekMsU0FBU0MsY0FBYyxXQUN6Q2t6QyxFQUFVenhCLFVBQVVqSCxJQUFJLG1CQUFvQix5QkFDNUMsR0FBUWdjLGNBQWMsbUJBQW1CNUosWUFBWXNtQixHQUNyRCxJQUFJNGtFLEdBQVM1a0UsS0FDWixLQTlEYSxHQUNkLElBQVcsSUFDVixHQ1RIa3JCLEtBU0EsTUFBTW5ULEVBQWFtRixLQUNibWQsRUFBZUMsS0FDckJELEVBQWE0YyxRQUFRbC9CLEVBQVdxRixhQUNoQ2lkLEVBQWE0YyxRQUFRbC9CLEVBQVd1RixhQUNoQytjLEVBQWE0YyxRQUFRM2YsS0FBZ0J6eUIsZUFDckN3MUIsRUFBYUUsU0FBU3hpQixFQUFXOEYsY0MzQm5DLElBQUksSUFBVyxFQUtmLFNBQVM0bkQsS0FDUDVpRCxHQUFTLElBQ0pDLEtBQ0gwQyxRQUFTMW1CLEdBQVFvSSxPQUVuQnljLEtBR0ssU0FBUyxLQUFTcHFELFFBQVF1NkMsS0FBSyw2Q0FHL0IsU0FBUzk2QyxLQUVkLEdBQUksR0FBVSxNQUFNLElBQUk1QyxNQUFNLHVDQUM5QixJQUFXLEVBRVAwRyxHQUFPL0QsT0FDVFEsUUFBUXU2QyxLQUFLLGlDQUlmLE1BQU1yWCxFeEhpRkQsU0FBZ0IxdEIsR0FDbkIsT0FBTUEsRUFDS3V0QixHQUFldnRCLEdBRUYsb0JBQWJsaUIsVUFDYyxvQkFBZGk3QixXQUNlLGdCQUF0QkEsVUFBVTQ5RSxRQUNILElBQUl4cEUsR0FFVSxvQkFBZHBVLFVBQ0F3VSxHQUFleFUsVUFBVS9ZLFdBNERKLG9CQUFaSixTQUEyQkEsUUFBUUcsUUFDdkMsSUFBSStzQixHQUFTbHRCLFFBQVFHLFFBQVExZixNQUFNLElBQU0sS3dIeEozQ3UyRyxHQUNWQyxFQUFZbnBFLEdBQTRCLFlBQWpCQSxFQUFRcHlCLEtBQy9CdzdGLEVBQVdwcEUsR0FBNEIsV0FBakJBLEVBQVFweUIsS0FFL0J1N0YsR0FBY0MsR0FDakI1bUUsR0FBYWtnQixNQUFNLFVBQ2pCLHlSQUtrQzFpQixFQUFVQSxFQUFRcHlCLEtBQU8sNkJBRTNELFNBSUpnN0YsR0FBZ0Jub0QsS0FBZ0JhLFd4QzdCaEMwSSxHQUFrQnJFLEdBQTJCLENBQzNDQyxNQUFPNG5CLEdBQWV2RixHQUFjdE4sT0FDcEM5VSxTQUFVMm5CLEdBQWUzRSxHQUFpQmxPLE9BQzFDN1UsU0FBVTBuQixHQUFlNUUsR0FBaUJqTyxVQUc1Q25JLEdBQWU3TSxHQUF3QixDQUNyQ0MsTUFBTzRuQixHQUFlekQsSUFDdEJsa0IsU0FBVTJuQixHQUFleEQsSUFDekJsa0IsU0FBVTBuQixHQUFlakQsT0FHM0IxYyxHQUFjMmYsR0FBZXJDLEtBRTdCN2tCLEdBQVlrbkIsR0FBZUwsS0FFM0JJLEt3Q21CS2x0RSxHQUFPL0QsUURpQlpuTSxPQUFPazVHLGVBQWlCLElBQ2xCdmlELEtBQ0sscUVBRUYsS0FJSixXQUdMLE1BQU13aUQsRUFBZWw1RyxTQUFTMG9DLGdCQUFnQmhMLFlBQ3hDeTdFLEVBQWdCbjVHLFNBQVMwb0MsZ0JBQWdCbEwsY0FHM0MyN0UsRUFEcUIsS0FDZUQsRUFGaEIsTUFHdEI5bUUsR0FBYWtnQixNQUFNLFVBQ2YsOEJBQThCNG1ELEtBQzFCQyw4TEFHSixTQ2pDSkMsSUFJRW5wRyxHQUFPd2hDLGdCQUNUcWxCLEtEN0JHOUQsaUJBQ0UsSUFBSXRMLFNBQWMsQ0FBQ0MsRUFBU0MsS0FFakM1bkQsU0FBUzJoQyxLQUFLamdCLFVBQVVqSCxJQUFJLG9CQUU1QixNQUFNc3RFLEVBQVNoMEMsR0FBSXNsRSxnQkFDYixLQUFFcHdHLEVBQUksUUFBRXVyQyxHQUErQ3V6QyxFQUN6RDkrRSxHQUFRdXJDLEVBQ1ZncEMsR0FBVyxDQUNUdjBFLE9BQ0F1ckMsVUFDQTRkLFFBQVMsT0FBTzVkLFFBQWN2ckMsSUFDOUJ1VSxLQUFNdlUsRUFBS0UsTUFBTSxLQUFLckIsTUFDdEJ3eEcsS0FBTSxHQUNOQyxPQUFPLElBRU4sS0FDRDV4RCxRQUdGdlYsR0FBYWtnQixNQUFNLGNBQWUsdUNBQ0p5MUIsRUFBTzkrRSwrV0FHckMsU0FDQTIrQyxRQ0tGNHhELElBRUE3N0IsSUFBNEIsSUFBTWk3QixPQUFhLElBQU1BLFVDaEZyRGEsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVXg1RyxRQUczQyxJQUFJRCxFQUFTdTVHLEVBQXlCRSxHQUFZLENBQ2pEamdHLEdBQUlpZ0csRUFDSkMsUUFBUSxFQUNSejVHLFFBQVMsSUFVVixPQU5BMDVHLEVBQW9CRixHQUFVMzNHLEtBQUs5QixFQUFPQyxRQUFTRCxFQUFRQSxFQUFPQyxRQUFTdTVHLEdBRzNFeDVHLEVBQU8wNUcsUUFBUyxFQUdUMTVHLEVBQU9DLFFDcEJmLE9DRkF1NUcsRUFBb0JwbUcsRUFBS3BULElBQ3hCLElBQUkrcEIsRUFBUy9wQixHQUFVQSxFQUFPeVAsV0FDN0IsSUFBTXpQLEVBQWdCLFFBQ3RCLElBQU1BLEVBRVAsT0FEQXc1RyxFQUFvQnJxQyxFQUFFcGxELEVBQVEsQ0FBRXJFLEVBQUdxRSxJQUM1QkEsR0NMUnl2RixFQUFvQnJxQyxFQUFJLENBQUNsdkUsRUFBUzI1RyxLQUNqQyxJQUFJLElBQUlyekcsS0FBT3F6RyxFQUNYSixFQUFvQnhQLEVBQUU0UCxFQUFZcnpHLEtBQVNpekcsRUFBb0J4UCxFQUFFL3BHLEVBQVNzRyxJQUM1RTdGLE9BQU80SixlQUFlckssRUFBU3NHLEVBQUssQ0FBRThJLFlBQVksRUFBTTNILElBQUtreUcsRUFBV3J6RyxNQ0ozRWl6RyxFQUFvQi80RyxFQUFJLFdBQ3ZCLEdBQTBCLGlCQUFmZ2xCLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT3JoQixNQUFRLElBQUl0RCxTQUFTLGNBQWIsR0FDZCxNQUFPbUcsR0FDUixHQUFzQixpQkFBWHBILE9BQXFCLE9BQU9BLFFBTGpCLEdDQXhCMjVHLEVBQW9CSyxJQUFPNzVHLEtBQzFCQSxFQUFTVSxPQUFPMEosT0FBT3BLLElBQ1hncEMsV0FBVWhwQyxFQUFPZ3BDLFNBQVcsSUFDeEN0b0MsT0FBTzRKLGVBQWV0SyxFQUFRLFVBQVcsQ0FDeENxUCxZQUFZLEVBQ1puSixJQUFLLEtBQ0osTUFBTSxJQUFJbUQsTUFBTSwwRkFBNEZySixFQUFPd1osT0FHOUd4WixHQ1RSdzVHLEVBQW9CeFAsRUFBSSxDQUFDOWhHLEVBQUtDLElBQVN6SCxPQUFPTSxVQUFVcUUsZUFBZXZELEtBQUtvRyxFQUFLQyxHQ0NqRnF4RyxFQUFvQnZwRSxFQUFLaHdDLElBQ0gsb0JBQVh3TCxRQUEwQkEsT0FBT3F1RyxhQUMxQ3A1RyxPQUFPNEosZUFBZXJLLEVBQVN3TCxPQUFPcXVHLFlBQWEsQ0FBRXA0RyxNQUFPLFdBRTdEaEIsT0FBTzRKLGVBQWVySyxFQUFTLGFBQWMsQ0FBRXlCLE9BQU8sS05GaEQ4M0csRUFBb0IsTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNhblVzZURPTSA9ICEhKFxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICB3aW5kb3cuZG9jdW1lbnQgJiZcbiAgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcbik7XG5cbm1vZHVsZS5leHBvcnRzID0gY2FuVXNlRE9NOyIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKlxuICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gKlxuICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIHZhbHVlcyhvdGhlcik7XG4gKiAvLyA9PiBbMywgNF1cbiAqXG4gKiBvYmplY3QuYSA9IDI7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddXG4gKlxuICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1lbW9pemU7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IERhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICogfSwgXy5ub3coKSk7XG4gKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICovXG52YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByb290LkRhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGU7XG4iLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3Rvcnkpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyppc3RhbmJ1bCBpZ25vcmUgbmV4dDpjYW50IHRlc3QqL1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIHJvb3Qub2JqZWN0UGF0aCA9IGZhY3RvcnkoKTtcbiAgfVxufSkodGhpcywgZnVuY3Rpb24oKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gIGZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICAgIGlmKG9iaiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgLy90byBoYW5kbGUgb2JqZWN0cyB3aXRoIG51bGwgcHJvdG90eXBlcyAodG9vIGVkZ2UgY2FzZT8pXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApXG4gIH1cblxuICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKXtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9TdHJpbmcodHlwZSl7XG4gICAgcmV0dXJuIHRvU3RyLmNhbGwodHlwZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc09iamVjdChvYmope1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZyhvYmopID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xuICB9XG5cbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKG9iail7XG4gICAgLyppc3RhbmJ1bCBpZ25vcmUgbmV4dDpjYW50IHRlc3QqL1xuICAgIHJldHVybiB0b1N0ci5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH1cblxuICBmdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKXtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nIHx8IHRvU3RyaW5nKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEtleShrZXkpe1xuICAgIHZhciBpbnRLZXkgPSBwYXJzZUludChrZXkpO1xuICAgIGlmIChpbnRLZXkudG9TdHJpbmcoKSA9PT0ga2V5KSB7XG4gICAgICByZXR1cm4gaW50S2V5O1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gZmFjdG9yeShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICAgIHZhciBvYmplY3RQYXRoID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0UGF0aCkucmVkdWNlKGZ1bmN0aW9uKHByb3h5LCBwcm9wKSB7XG4gICAgICAgIGlmKHByb3AgPT09ICdjcmVhdGUnKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgICAgICB9XG5cbiAgICAgICAgLyppc3RhbmJ1bCBpZ25vcmUgZWxzZSovXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0UGF0aFtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHByb3h5W3Byb3BdID0gb2JqZWN0UGF0aFtwcm9wXS5iaW5kKG9iamVjdFBhdGgsIG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICB9LCB7fSk7XG4gICAgfTtcblxuICAgIHZhciBoYXNTaGFsbG93UHJvcGVydHlcbiAgICBpZiAob3B0aW9ucy5pbmNsdWRlSW5oZXJpdGVkUHJvcHMpIHtcbiAgICAgIGhhc1NoYWxsb3dQcm9wZXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFzU2hhbGxvd1Byb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBwcm9wID09PSAnbnVtYmVyJyAmJiBBcnJheS5pc0FycmF5KG9iaikpIHx8IGhhc093blByb3BlcnR5KG9iaiwgcHJvcClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTaGFsbG93UHJvcGVydHkob2JqLCBwcm9wKSB7XG4gICAgICBpZiAoaGFzU2hhbGxvd1Byb3BlcnR5KG9iaiwgcHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXQob2JqLCBwYXRoLCB2YWx1ZSwgZG9Ob3RSZXBsYWNlKXtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGF0aCA9IFtwYXRoXTtcbiAgICAgIH1cbiAgICAgIGlmICghcGF0aCB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gc2V0KG9iaiwgcGF0aC5zcGxpdCgnLicpLm1hcChnZXRLZXkpLCB2YWx1ZSwgZG9Ob3RSZXBsYWNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJyZW50UGF0aCA9IHBhdGhbMF07XG4gICAgICB2YXIgY3VycmVudFZhbHVlID0gZ2V0U2hhbGxvd1Byb3BlcnR5KG9iaiwgY3VycmVudFBhdGgpO1xuICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZUluaGVyaXRlZFByb3BzICYmIChjdXJyZW50UGF0aCA9PT0gJ19fcHJvdG9fXycgfHxcbiAgICAgICAgKGN1cnJlbnRQYXRoID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBjdXJyZW50VmFsdWUgPT09ICdmdW5jdGlvbicpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvciBzZWN1cml0eSByZWFzb25zLCBvYmplY3RcXCdzIG1hZ2ljIHByb3BlcnRpZXMgY2Fubm90IGJlIHNldCcpXG4gICAgICB9XG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gdm9pZCAwIHx8ICFkb05vdFJlcGxhY2UpIHtcbiAgICAgICAgICBvYmpbY3VycmVudFBhdGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIC8vY2hlY2sgaWYgd2UgYXNzdW1lIGFuIGFycmF5XG4gICAgICAgIGlmKHR5cGVvZiBwYXRoWzFdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG9ialtjdXJyZW50UGF0aF0gPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmpbY3VycmVudFBhdGhdID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldChvYmpbY3VycmVudFBhdGhdLCBwYXRoLnNsaWNlKDEpLCB2YWx1ZSwgZG9Ob3RSZXBsYWNlKTtcbiAgICB9XG5cbiAgICBvYmplY3RQYXRoLmhhcyA9IGZ1bmN0aW9uIChvYmosIHBhdGgpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGF0aCA9IFtwYXRoXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGF0aCB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gISFvYmo7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaiA9IGdldEtleShwYXRoW2ldKTtcblxuICAgICAgICBpZigodHlwZW9mIGogPT09ICdudW1iZXInICYmIGlzQXJyYXkob2JqKSAmJiBqIDwgb2JqLmxlbmd0aCkgfHxcbiAgICAgICAgICAob3B0aW9ucy5pbmNsdWRlSW5oZXJpdGVkUHJvcHMgPyAoaiBpbiBPYmplY3Qob2JqKSkgOiBoYXNPd25Qcm9wZXJ0eShvYmosIGopKSkge1xuICAgICAgICAgIG9iaiA9IG9ialtqXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIG9iamVjdFBhdGguZW5zdXJlRXhpc3RzID0gZnVuY3Rpb24gKG9iaiwgcGF0aCwgdmFsdWUpe1xuICAgICAgcmV0dXJuIHNldChvYmosIHBhdGgsIHZhbHVlLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgb2JqZWN0UGF0aC5zZXQgPSBmdW5jdGlvbiAob2JqLCBwYXRoLCB2YWx1ZSwgZG9Ob3RSZXBsYWNlKXtcbiAgICAgIHJldHVybiBzZXQob2JqLCBwYXRoLCB2YWx1ZSwgZG9Ob3RSZXBsYWNlKTtcbiAgICB9O1xuXG4gICAgb2JqZWN0UGF0aC5pbnNlcnQgPSBmdW5jdGlvbiAob2JqLCBwYXRoLCB2YWx1ZSwgYXQpe1xuICAgICAgdmFyIGFyciA9IG9iamVjdFBhdGguZ2V0KG9iaiwgcGF0aCk7XG4gICAgICBhdCA9IH5+YXQ7XG4gICAgICBpZiAoIWlzQXJyYXkoYXJyKSkge1xuICAgICAgICBhcnIgPSBbXTtcbiAgICAgICAgb2JqZWN0UGF0aC5zZXQob2JqLCBwYXRoLCBhcnIpO1xuICAgICAgfVxuICAgICAgYXJyLnNwbGljZShhdCwgMCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBvYmplY3RQYXRoLmVtcHR5ID0gZnVuY3Rpb24ob2JqLCBwYXRoKSB7XG4gICAgICBpZiAoaXNFbXB0eShwYXRoKSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuICAgICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSwgaTtcbiAgICAgIGlmICghKHZhbHVlID0gb2JqZWN0UGF0aC5nZXQob2JqLCBwYXRoKSkpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdFBhdGguc2V0KG9iaiwgcGF0aCwgJycpO1xuICAgICAgfSBlbHNlIGlmIChpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3RQYXRoLnNldChvYmosIHBhdGgsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gb2JqZWN0UGF0aC5zZXQob2JqLCBwYXRoLCAwKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUubGVuZ3RoID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGZvciAoaSBpbiB2YWx1ZSkge1xuICAgICAgICAgIGlmIChoYXNTaGFsbG93UHJvcGVydHkodmFsdWUsIGkpKSB7XG4gICAgICAgICAgICBkZWxldGUgdmFsdWVbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2JqZWN0UGF0aC5zZXQob2JqLCBwYXRoLCBudWxsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgb2JqZWN0UGF0aC5wdXNoID0gZnVuY3Rpb24gKG9iaiwgcGF0aCAvKiwgdmFsdWVzICovKXtcbiAgICAgIHZhciBhcnIgPSBvYmplY3RQYXRoLmdldChvYmosIHBhdGgpO1xuICAgICAgaWYgKCFpc0FycmF5KGFycikpIHtcbiAgICAgICAgYXJyID0gW107XG4gICAgICAgIG9iamVjdFBhdGguc2V0KG9iaiwgcGF0aCwgYXJyKTtcbiAgICAgIH1cblxuICAgICAgYXJyLnB1c2guYXBwbHkoYXJyLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbiAgICB9O1xuXG4gICAgb2JqZWN0UGF0aC5jb2FsZXNjZSA9IGZ1bmN0aW9uIChvYmosIHBhdGhzLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICgodmFsdWUgPSBvYmplY3RQYXRoLmdldChvYmosIHBhdGhzW2ldKSkgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH07XG5cbiAgICBvYmplY3RQYXRoLmdldCA9IGZ1bmN0aW9uIChvYmosIHBhdGgsIGRlZmF1bHRWYWx1ZSl7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHBhdGggPSBbcGF0aF07XG4gICAgICB9XG4gICAgICBpZiAoIXBhdGggfHwgcGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH1cbiAgICAgIGlmIChvYmogPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gb2JqZWN0UGF0aC5nZXQob2JqLCBwYXRoLnNwbGl0KCcuJyksIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdXJyZW50UGF0aCA9IGdldEtleShwYXRoWzBdKTtcbiAgICAgIHZhciBuZXh0T2JqID0gZ2V0U2hhbGxvd1Byb3BlcnR5KG9iaiwgY3VycmVudFBhdGgpXG4gICAgICBpZiAobmV4dE9iaiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gbmV4dE9iajtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFBhdGguZ2V0KG9ialtjdXJyZW50UGF0aF0sIHBhdGguc2xpY2UoMSksIGRlZmF1bHRWYWx1ZSk7XG4gICAgfTtcblxuICAgIG9iamVjdFBhdGguZGVsID0gZnVuY3Rpb24gZGVsKG9iaiwgcGF0aCkge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09PSAnbnVtYmVyJykge1xuICAgICAgICBwYXRoID0gW3BhdGhdO1xuICAgICAgfVxuXG4gICAgICBpZiAob2JqID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRW1wdHkocGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH1cbiAgICAgIGlmKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gb2JqZWN0UGF0aC5kZWwob2JqLCBwYXRoLnNwbGl0KCcuJykpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VycmVudFBhdGggPSBnZXRLZXkocGF0aFswXSk7XG4gICAgICBpZiAoIWhhc1NoYWxsb3dQcm9wZXJ0eShvYmosIGN1cnJlbnRQYXRoKSkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfVxuXG4gICAgICBpZihwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgb2JqLnNwbGljZShjdXJyZW50UGF0aCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIG9ialtjdXJyZW50UGF0aF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvYmplY3RQYXRoLmRlbChvYmpbY3VycmVudFBhdGhdLCBwYXRoLnNsaWNlKDEpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0UGF0aDtcbiAgfVxuXG4gIHZhciBtb2QgPSBmYWN0b3J5KCk7XG4gIG1vZC5jcmVhdGUgPSBmYWN0b3J5O1xuICBtb2Qud2l0aEluaGVyaXRlZFByb3BzID0gZmFjdG9yeSh7aW5jbHVkZUluaGVyaXRlZFByb3BzOiB0cnVlfSlcbiAgcmV0dXJuIG1vZDtcbn0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkFjdGlvbkNyZWF0b3JzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHZvaWQgMDtcbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgVU5ETzogJ0BAcmVkdXgtdW5kby9VTkRPJyxcbiAgUkVETzogJ0BAcmVkdXgtdW5kby9SRURPJyxcbiAgSlVNUF9UT19GVVRVUkU6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19GVVRVUkUnLFxuICBKVU1QX1RPX1BBU1Q6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19QQVNUJyxcbiAgSlVNUDogJ0BAcmVkdXgtdW5kby9KVU1QJyxcbiAgQ0xFQVJfSElTVE9SWTogJ0BAcmVkdXgtdW5kby9DTEVBUl9ISVNUT1JZJ1xufTtcbmV4cG9ydHMuQWN0aW9uVHlwZXMgPSBBY3Rpb25UeXBlcztcbnZhciBBY3Rpb25DcmVhdG9ycyA9IHtcbiAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuVU5ET1xuICAgIH07XG4gIH0sXG4gIHJlZG86IGZ1bmN0aW9uIHJlZG8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJFRE9cbiAgICB9O1xuICB9LFxuICBqdW1wVG9GdXR1cmU6IGZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShpbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRSxcbiAgICAgIGluZGV4OiBpbmRleFxuICAgIH07XG4gIH0sXG4gIGp1bXBUb1Bhc3Q6IGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaW5kZXgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfTtcbiAgfSxcbiAganVtcDogZnVuY3Rpb24ganVtcChpbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QLFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfTtcbiAgfSxcbiAgY2xlYXJIaXN0b3J5OiBmdW5jdGlvbiBjbGVhckhpc3RvcnkoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkNMRUFSX0hJU1RPUllcbiAgICB9O1xuICB9XG59O1xuZXhwb3J0cy5BY3Rpb25DcmVhdG9ycyA9IEFjdGlvbkNyZWF0b3JzOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zZXQgPSBzZXQ7XG5leHBvcnRzLnN0YXJ0ID0gc3RhcnQ7XG5leHBvcnRzLmVuZCA9IGVuZDtcbmV4cG9ydHMubG9nID0gbG9nO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfVxuXG52YXIgX19ERUJVR19fO1xuXG52YXIgZGlzcGxheUJ1ZmZlcjtcbnZhciBjb2xvcnMgPSB7XG4gIHByZXZTdGF0ZTogJyM5RTlFOUUnLFxuICBhY3Rpb246ICcjMDNBOUY0JyxcbiAgbmV4dFN0YXRlOiAnIzRDQUY1MCdcbn07XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogZGVidWcgbWVzc2FnaW5nIGlzIG5vdCB0ZXN0ZWQgKi9cblxuZnVuY3Rpb24gaW5pdEJ1ZmZlcigpIHtcbiAgZGlzcGxheUJ1ZmZlciA9IHtcbiAgICBoZWFkZXI6IFtdLFxuICAgIHByZXY6IFtdLFxuICAgIGFjdGlvbjogW10sXG4gICAgbmV4dDogW10sXG4gICAgbXNnczogW11cbiAgfTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkZWJ1ZyBtZXNzYWdpbmcgaXMgbm90IHRlc3RlZCAqL1xuXG5cbmZ1bmN0aW9uIHByaW50QnVmZmVyKCkge1xuICB2YXIgX2Rpc3BsYXlCdWZmZXIgPSBkaXNwbGF5QnVmZmVyLFxuICAgICAgaGVhZGVyID0gX2Rpc3BsYXlCdWZmZXIuaGVhZGVyLFxuICAgICAgcHJldiA9IF9kaXNwbGF5QnVmZmVyLnByZXYsXG4gICAgICBuZXh0ID0gX2Rpc3BsYXlCdWZmZXIubmV4dCxcbiAgICAgIGFjdGlvbiA9IF9kaXNwbGF5QnVmZmVyLmFjdGlvbixcbiAgICAgIG1zZ3MgPSBfZGlzcGxheUJ1ZmZlci5tc2dzO1xuXG4gIGlmIChjb25zb2xlLmdyb3VwKSB7XG4gICAgdmFyIF9jb25zb2xlLCBfY29uc29sZTIsIF9jb25zb2xlMywgX2NvbnNvbGU0LCBfY29uc29sZTU7XG5cbiAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5ncm91cENvbGxhcHNlZC5hcHBseShfY29uc29sZSwgX3RvQ29uc3VtYWJsZUFycmF5KGhlYWRlcikpO1xuXG4gICAgKF9jb25zb2xlMiA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZTIsIF90b0NvbnN1bWFibGVBcnJheShwcmV2KSk7XG5cbiAgICAoX2NvbnNvbGUzID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlMywgX3RvQ29uc3VtYWJsZUFycmF5KGFjdGlvbikpO1xuXG4gICAgKF9jb25zb2xlNCA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZTQsIF90b0NvbnN1bWFibGVBcnJheShuZXh0KSk7XG5cbiAgICAoX2NvbnNvbGU1ID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlNSwgX3RvQ29uc3VtYWJsZUFycmF5KG1zZ3MpKTtcblxuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX2NvbnNvbGU2LCBfY29uc29sZTcsIF9jb25zb2xlOCwgX2NvbnNvbGU5LCBfY29uc29sZTEwO1xuXG4gICAgKF9jb25zb2xlNiA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZTYsIF90b0NvbnN1bWFibGVBcnJheShoZWFkZXIpKTtcblxuICAgIChfY29uc29sZTcgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGU3LCBfdG9Db25zdW1hYmxlQXJyYXkocHJldikpO1xuXG4gICAgKF9jb25zb2xlOCA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZTgsIF90b0NvbnN1bWFibGVBcnJheShhY3Rpb24pKTtcblxuICAgIChfY29uc29sZTkgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGU5LCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dCkpO1xuXG4gICAgKF9jb25zb2xlMTAgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUxMCwgX3RvQ29uc3VtYWJsZUFycmF5KG1zZ3MpKTtcbiAgfVxufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGRlYnVnIG1lc3NhZ2luZyBpcyBub3QgdGVzdGVkICovXG5cblxuZnVuY3Rpb24gY29sb3JGb3JtYXQodGV4dCwgY29sb3IsIG9iaikge1xuICByZXR1cm4gW1wiJWNcIi5jb25jYXQodGV4dCksIFwiY29sb3I6IFwiLmNvbmNhdChjb2xvciwgXCI7IGZvbnQtd2VpZ2h0OiBib2xkXCIpLCBvYmpdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGRlYnVnIG1lc3NhZ2luZyBpcyBub3QgdGVzdGVkICovXG5cblxuZnVuY3Rpb24gc3RhcnQoYWN0aW9uLCBzdGF0ZSkge1xuICBpbml0QnVmZmVyKCk7XG5cbiAgaWYgKF9fREVCVUdfXykge1xuICAgIGlmIChjb25zb2xlLmdyb3VwKSB7XG4gICAgICBkaXNwbGF5QnVmZmVyLmhlYWRlciA9IFsnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycsICdhY3Rpb24nLCBhY3Rpb24udHlwZV07XG4gICAgICBkaXNwbGF5QnVmZmVyLmFjdGlvbiA9IGNvbG9yRm9ybWF0KCdhY3Rpb24nLCBjb2xvcnMuYWN0aW9uLCBhY3Rpb24pO1xuICAgICAgZGlzcGxheUJ1ZmZlci5wcmV2ID0gY29sb3JGb3JtYXQoJ3ByZXYgaGlzdG9yeScsIGNvbG9ycy5wcmV2U3RhdGUsIHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheUJ1ZmZlci5oZWFkZXIgPSBbJ3JlZHV4LXVuZG8gYWN0aW9uJywgYWN0aW9uLnR5cGVdO1xuICAgICAgZGlzcGxheUJ1ZmZlci5hY3Rpb24gPSBbJ2FjdGlvbicsIGFjdGlvbl07XG4gICAgICBkaXNwbGF5QnVmZmVyLnByZXYgPSBbJ3ByZXYgaGlzdG9yeScsIHN0YXRlXTtcbiAgICB9XG4gIH1cbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkZWJ1ZyBtZXNzYWdpbmcgaXMgbm90IHRlc3RlZCAqL1xuXG5cbmZ1bmN0aW9uIGVuZChuZXh0U3RhdGUpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIGlmIChjb25zb2xlLmdyb3VwKSB7XG4gICAgICBkaXNwbGF5QnVmZmVyLm5leHQgPSBjb2xvckZvcm1hdCgnbmV4dCBoaXN0b3J5JywgY29sb3JzLm5leHRTdGF0ZSwgbmV4dFN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheUJ1ZmZlci5uZXh0ID0gWyduZXh0IGhpc3RvcnknLCBuZXh0U3RhdGVdO1xuICAgIH1cblxuICAgIHByaW50QnVmZmVyKCk7XG4gIH1cbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkZWJ1ZyBtZXNzYWdpbmcgaXMgbm90IHRlc3RlZCAqL1xuXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBkaXNwbGF5QnVmZmVyLm1zZ3MgPSBkaXNwbGF5QnVmZmVyLm1zZ3MuY29uY2F0KFtdLmNvbmNhdChhcmdzLCBbJ1xcbiddKSk7XG4gIH1cbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBkZWJ1ZyBtZXNzYWdpbmcgaXMgbm90IHRlc3RlZCAqL1xuXG5cbmZ1bmN0aW9uIHNldChkZWJ1Zykge1xuICBfX0RFQlVHX18gPSBkZWJ1Zztcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucGFyc2VBY3Rpb25zID0gcGFyc2VBY3Rpb25zO1xuZXhwb3J0cy5pc0hpc3RvcnkgPSBpc0hpc3Rvcnk7XG5leHBvcnRzLmluY2x1ZGVBY3Rpb24gPSBpbmNsdWRlQWN0aW9uO1xuZXhwb3J0cy5leGNsdWRlQWN0aW9uID0gZXhjbHVkZUFjdGlvbjtcbmV4cG9ydHMuY29tYmluZUZpbHRlcnMgPSBjb21iaW5lRmlsdGVycztcbmV4cG9ydHMuZ3JvdXBCeUFjdGlvblR5cGVzID0gZ3JvdXBCeUFjdGlvblR5cGVzO1xuZXhwb3J0cy5uZXdIaXN0b3J5ID0gbmV3SGlzdG9yeTtcblxuLy8gcGFyc2VBY3Rpb25zIGhlbHBlcjogdGFrZXMgYSBzdHJpbmcgKG9yIGFycmF5KVxuLy8gICAgICAgICAgICAgICAgICAgICAgYW5kIG1ha2VzIGl0IGFuIGFycmF5IGlmIGl0IGlzbid0IHlldFxuZnVuY3Rpb24gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpIHtcbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocmF3QWN0aW9ucykpIHtcbiAgICByZXR1cm4gcmF3QWN0aW9ucztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmF3QWN0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW3Jhd0FjdGlvbnNdO1xuICB9XG5cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn0gLy8gaXNIaXN0b3J5IGhlbHBlcjogY2hlY2sgZm9yIGEgdmFsaWQgaGlzdG9yeSBvYmplY3RcblxuXG5mdW5jdGlvbiBpc0hpc3RvcnkoaGlzdG9yeSkge1xuICByZXR1cm4gdHlwZW9mIGhpc3RvcnkucHJlc2VudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGhpc3RvcnkuZnV0dXJlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaGlzdG9yeS5wYXN0ICE9PSAndW5kZWZpbmVkJyAmJiBBcnJheS5pc0FycmF5KGhpc3RvcnkuZnV0dXJlKSAmJiBBcnJheS5pc0FycmF5KGhpc3RvcnkucGFzdCk7XG59IC8vIGluY2x1ZGVBY3Rpb24gaGVscGVyOiB3aGl0ZWxpc3QgYWN0aW9ucyB0byBiZSBhZGRlZCB0byB0aGUgaGlzdG9yeVxuXG5cbmZ1bmN0aW9uIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucykge1xuICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA+PSAwO1xuICB9O1xufSAvLyBleGNsdWRlQWN0aW9uIGhlbHBlcjogYmxhY2tsaXN0IGFjdGlvbnMgZnJvbSBiZWluZyBhZGRlZCB0byB0aGUgaGlzdG9yeVxuXG5cbmZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24ocmF3QWN0aW9ucykge1xuICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA8IDA7XG4gIH07XG59IC8vIGNvbWJpbmVGaWx0ZXJzIGhlbHBlcjogY29tYmluZSBtdWx0aXBsZSBmaWx0ZXJzIHRvIG9uZVxuXG5cbmZ1bmN0aW9uIGNvbWJpbmVGaWx0ZXJzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZmlsdGVycyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmaWx0ZXJzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZpbHRlcnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24sIGN1cnJlbnRTdGF0ZSwgcHJldmlvdXNIaXN0b3J5KSB7XG4gICAgICByZXR1cm4gcHJldihhY3Rpb24sIGN1cnJlbnRTdGF0ZSwgcHJldmlvdXNIaXN0b3J5KSAmJiBjdXJyKGFjdGlvbiwgY3VycmVudFN0YXRlLCBwcmV2aW91c0hpc3RvcnkpO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdyb3VwQnlBY3Rpb25UeXBlcyhyYXdBY3Rpb25zKSB7XG4gIHZhciBhY3Rpb25zID0gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpID49IDAgPyBhY3Rpb24udHlwZSA6IG51bGw7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5ld0hpc3RvcnkocGFzdCwgcHJlc2VudCwgZnV0dXJlKSB7XG4gIHZhciBncm91cCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcbiAgcmV0dXJuIHtcbiAgICBwYXN0OiBwYXN0LFxuICAgIHByZXNlbnQ6IHByZXNlbnQsXG4gICAgZnV0dXJlOiBmdXR1cmUsXG4gICAgZ3JvdXA6IGdyb3VwLFxuICAgIF9sYXRlc3RVbmZpbHRlcmVkOiBwcmVzZW50LFxuICAgIGluZGV4OiBwYXN0Lmxlbmd0aCxcbiAgICBsaW1pdDogcGFzdC5sZW5ndGggKyBmdXR1cmUubGVuZ3RoICsgMVxuICB9O1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQWN0aW9uVHlwZXNcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2FjdGlvbnMuQWN0aW9uVHlwZXM7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQWN0aW9uQ3JlYXRvcnNcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2FjdGlvbnMuQWN0aW9uQ3JlYXRvcnM7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VBY3Rpb25zXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9oZWxwZXJzLnBhcnNlQWN0aW9ucztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc0hpc3RvcnlcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2hlbHBlcnMuaXNIaXN0b3J5O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImluY2x1ZGVBY3Rpb25cIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2hlbHBlcnMuaW5jbHVkZUFjdGlvbjtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJleGNsdWRlQWN0aW9uXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9oZWxwZXJzLmV4Y2x1ZGVBY3Rpb247XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29tYmluZUZpbHRlcnNcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2hlbHBlcnMuY29tYmluZUZpbHRlcnM7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ3JvdXBCeUFjdGlvblR5cGVzXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9oZWxwZXJzLmdyb3VwQnlBY3Rpb25UeXBlcztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJuZXdIaXN0b3J5XCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9oZWxwZXJzLm5ld0hpc3Rvcnk7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVmYXVsdFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfcmVkdWNlcltcImRlZmF1bHRcIl07XG4gIH1cbn0pO1xuXG52YXIgX2FjdGlvbnMgPSByZXF1aXJlKFwiLi9hY3Rpb25zXCIpO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzXCIpO1xuXG52YXIgX3JlZHVjZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3JlZHVjZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH0iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kb2FibGU7XG5cbnZhciBkZWJ1ZyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL2RlYnVnXCIpKTtcblxudmFyIF9hY3Rpb25zID0gcmVxdWlyZShcIi4vYWN0aW9uc1wiKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZShcIi4vaGVscGVyc1wiKTtcblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyBpZiAodHlwZW9mIFdlYWtNYXAgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG51bGw7IHZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgcmV0dXJuIGNhY2hlOyB9OyByZXR1cm4gY2FjaGU7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBpZiAob2JqID09PSBudWxsIHx8IF90eXBlb2Yob2JqKSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09ialtcImRlZmF1bHRcIl0gPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9XG5cbmZ1bmN0aW9uIGNyZWF0ZUhpc3Rvcnkoc3RhdGUsIGlnbm9yZUluaXRpYWxTdGF0ZSkge1xuICAvLyBpZ25vcmVJbml0aWFsU3RhdGUgZXNzZW50aWFsbHkgcHJldmVudHMgdGhlIHVzZXIgZnJvbSB1bmRvaW5nIHRvIHRoZVxuICAvLyBiZWdpbm5pbmcsIGluIHRoZSBjYXNlIHRoYXQgdGhlIHVuZG9hYmxlIHJlZHVjZXIgaGFuZGxlcyBpbml0aWFsaXphdGlvblxuICAvLyBpbiBhIHdheSB0aGF0IGNhbid0IGJlIHJlZG9uZSBzaW1wbHlcbiAgdmFyIGhpc3RvcnkgPSAoMCwgX2hlbHBlcnMubmV3SGlzdG9yeSkoW10sIHN0YXRlLCBbXSk7XG5cbiAgaWYgKGlnbm9yZUluaXRpYWxTdGF0ZSkge1xuICAgIGhpc3RvcnkuX2xhdGVzdFVuZmlsdGVyZWQgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59IC8vIGluc2VydDogaW5zZXJ0IGBzdGF0ZWAgaW50byBoaXN0b3J5LCB3aGljaCBtZWFucyBhZGRpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbi8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuLy8gICAgICAgICB0aGUgYGZ1dHVyZWAuXG5cblxuZnVuY3Rpb24gaW5zZXJ0KGhpc3RvcnksIHN0YXRlLCBsaW1pdCwgZ3JvdXApIHtcbiAgdmFyIGxlbmd0aFdpdGhvdXRGdXR1cmUgPSBoaXN0b3J5LnBhc3QubGVuZ3RoICsgMTtcbiAgZGVidWcubG9nKCdpbnNlcnRpbmcnLCBzdGF0ZSk7XG4gIGRlYnVnLmxvZygnbmV3IGZyZWU6ICcsIGxpbWl0IC0gbGVuZ3RoV2l0aG91dEZ1dHVyZSk7XG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0LFxuICAgICAgX2xhdGVzdFVuZmlsdGVyZWQgPSBoaXN0b3J5Ll9sYXRlc3RVbmZpbHRlcmVkO1xuICB2YXIgaXNIaXN0b3J5T3ZlcmZsb3cgPSBsaW1pdCAmJiBsaW1pdCA8PSBsZW5ndGhXaXRob3V0RnV0dXJlO1xuICB2YXIgcGFzdFNsaWNlZCA9IHBhc3Quc2xpY2UoaXNIaXN0b3J5T3ZlcmZsb3cgPyAxIDogMCk7XG4gIHZhciBuZXdQYXN0ID0gX2xhdGVzdFVuZmlsdGVyZWQgIT0gbnVsbCA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdFNsaWNlZCksIFtfbGF0ZXN0VW5maWx0ZXJlZF0pIDogcGFzdFNsaWNlZDtcbiAgcmV0dXJuICgwLCBfaGVscGVycy5uZXdIaXN0b3J5KShuZXdQYXN0LCBzdGF0ZSwgW10sIGdyb3VwKTtcbn0gLy8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuXG5cbmZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShoaXN0b3J5LCBpbmRleCkge1xuICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IGhpc3RvcnkuZnV0dXJlLmxlbmd0aCkgcmV0dXJuIGhpc3Rvcnk7XG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0LFxuICAgICAgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmUsXG4gICAgICBfbGF0ZXN0VW5maWx0ZXJlZCA9IGhpc3RvcnkuX2xhdGVzdFVuZmlsdGVyZWQ7XG4gIHZhciBuZXdQYXN0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXN0KSwgW19sYXRlc3RVbmZpbHRlcmVkXSwgX3RvQ29uc3VtYWJsZUFycmF5KGZ1dHVyZS5zbGljZSgwLCBpbmRleCkpKTtcbiAgdmFyIG5ld1ByZXNlbnQgPSBmdXR1cmVbaW5kZXhdO1xuICB2YXIgbmV3RnV0dXJlID0gZnV0dXJlLnNsaWNlKGluZGV4ICsgMSk7XG4gIHJldHVybiAoMCwgX2hlbHBlcnMubmV3SGlzdG9yeSkobmV3UGFzdCwgbmV3UHJlc2VudCwgbmV3RnV0dXJlKTtcbn0gLy8ganVtcFRvUGFzdDoganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gcGFzdCBoaXN0b3J5XG5cblxuZnVuY3Rpb24ganVtcFRvUGFzdChoaXN0b3J5LCBpbmRleCkge1xuICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IGhpc3RvcnkucGFzdC5sZW5ndGgpIHJldHVybiBoaXN0b3J5O1xuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdCxcbiAgICAgIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlLFxuICAgICAgX2xhdGVzdFVuZmlsdGVyZWQgPSBoaXN0b3J5Ll9sYXRlc3RVbmZpbHRlcmVkO1xuICB2YXIgbmV3UGFzdCA9IHBhc3Quc2xpY2UoMCwgaW5kZXgpO1xuICB2YXIgbmV3RnV0dXJlID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXN0LnNsaWNlKGluZGV4ICsgMSkpLCBbX2xhdGVzdFVuZmlsdGVyZWRdLCBfdG9Db25zdW1hYmxlQXJyYXkoZnV0dXJlKSk7XG4gIHZhciBuZXdQcmVzZW50ID0gcGFzdFtpbmRleF07XG4gIHJldHVybiAoMCwgX2hlbHBlcnMubmV3SGlzdG9yeSkobmV3UGFzdCwgbmV3UHJlc2VudCwgbmV3RnV0dXJlKTtcbn0gLy8ganVtcDoganVtcCBuIHN0ZXBzIGluIHRoZSBwYXN0IG9yIGZvcndhcmRcblxuXG5mdW5jdGlvbiBqdW1wKGhpc3RvcnksIG4pIHtcbiAgaWYgKG4gPiAwKSByZXR1cm4ganVtcFRvRnV0dXJlKGhpc3RvcnksIG4gLSAxKTtcbiAgaWYgKG4gPCAwKSByZXR1cm4ganVtcFRvUGFzdChoaXN0b3J5LCBoaXN0b3J5LnBhc3QubGVuZ3RoICsgbik7XG4gIHJldHVybiBoaXN0b3J5O1xufSAvLyBoZWxwZXIgdG8gZHluYW1pY2FsbHkgbWF0Y2ggaW4gdGhlIHJlZHVjZXIncyBzd2l0Y2gtY2FzZVxuXG5cbmZ1bmN0aW9uIGFjdGlvblR5cGVBbW9uZ0NsZWFySGlzdG9yeVR5cGUoYWN0aW9uVHlwZSwgY2xlYXJIaXN0b3J5VHlwZSkge1xuICByZXR1cm4gY2xlYXJIaXN0b3J5VHlwZS5pbmRleE9mKGFjdGlvblR5cGUpID4gLTEgPyBhY3Rpb25UeXBlIDogIWFjdGlvblR5cGU7XG59IC8vIHJlZHV4LXVuZG8gaGlnaGVyIG9yZGVyIHJlZHVjZXJcblxuXG5mdW5jdGlvbiB1bmRvYWJsZShyZWR1Y2VyKSB7XG4gIHZhciByYXdDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBkZWJ1Zy5zZXQocmF3Q29uZmlnLmRlYnVnKTtcblxuICB2YXIgY29uZmlnID0gX29iamVjdFNwcmVhZCh7XG4gICAgbGltaXQ6IHVuZGVmaW5lZCxcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ3JvdXBCeTogZnVuY3Rpb24gZ3JvdXBCeSgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgdW5kb1R5cGU6IF9hY3Rpb25zLkFjdGlvblR5cGVzLlVORE8sXG4gICAgcmVkb1R5cGU6IF9hY3Rpb25zLkFjdGlvblR5cGVzLlJFRE8sXG4gICAganVtcFRvUGFzdFR5cGU6IF9hY3Rpb25zLkFjdGlvblR5cGVzLkpVTVBfVE9fUEFTVCxcbiAgICBqdW1wVG9GdXR1cmVUeXBlOiBfYWN0aW9ucy5BY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRSxcbiAgICBqdW1wVHlwZTogX2FjdGlvbnMuQWN0aW9uVHlwZXMuSlVNUCxcbiAgICBuZXZlclNraXBSZWR1Y2VyOiBmYWxzZSxcbiAgICBpZ25vcmVJbml0aWFsU3RhdGU6IGZhbHNlLFxuICAgIHN5bmNGaWx0ZXI6IGZhbHNlXG4gIH0sIHJhd0NvbmZpZywge1xuICAgIGluaXRUeXBlczogKDAsIF9oZWxwZXJzLnBhcnNlQWN0aW9ucykocmF3Q29uZmlnLmluaXRUeXBlcywgWydAQHJlZHV4LXVuZG8vSU5JVCddKSxcbiAgICBjbGVhckhpc3RvcnlUeXBlOiAoMCwgX2hlbHBlcnMucGFyc2VBY3Rpb25zKShyYXdDb25maWcuY2xlYXJIaXN0b3J5VHlwZSwgW19hY3Rpb25zLkFjdGlvblR5cGVzLkNMRUFSX0hJU1RPUlldKVxuICB9KTsgLy8gQWxsb3dzIHRoZSB1c2VyIHRvIGNhbGwgdGhlIHJlZHVjZXIgd2l0aCByZWR1eC11bmRvIHNwZWNpZmljIGFjdGlvbnNcblxuXG4gIHZhciBza2lwUmVkdWNlciA9IGNvbmZpZy5uZXZlclNraXBSZWR1Y2VyID8gZnVuY3Rpb24gKHJlcywgYWN0aW9uKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNsaWNlcyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBzbGljZXNbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCByZXMsIHtcbiAgICAgIHByZXNlbnQ6IHJlZHVjZXIuYXBwbHkodm9pZCAwLCBbcmVzLnByZXNlbnQsIGFjdGlvbl0uY29uY2F0KHNsaWNlcykpXG4gICAgfSk7XG4gIH0gOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgdmFyIGluaXRpYWxTdGF0ZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGluaXRpYWxTdGF0ZTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBkZWJ1Zy5zdGFydChhY3Rpb24sIHN0YXRlKTtcbiAgICB2YXIgaGlzdG9yeSA9IHN0YXRlO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBzbGljZXMgPSBuZXcgQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgc2xpY2VzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIGlmICghaW5pdGlhbFN0YXRlKSB7XG4gICAgICBkZWJ1Zy5sb2coJ2hpc3RvcnkgaXMgdW5pbml0aWFsaXplZCcpO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY3JlYXRlSGlzdG9yeUFjdGlvbiA9IHtcbiAgICAgICAgICB0eXBlOiAnQEByZWR1eC11bmRvL0NSRUFURV9ISVNUT1JZJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RhcnQgPSByZWR1Y2VyLmFwcGx5KHZvaWQgMCwgW3N0YXRlLCBjcmVhdGVIaXN0b3J5QWN0aW9uXS5jb25jYXQoc2xpY2VzKSk7XG4gICAgICAgIGhpc3RvcnkgPSBjcmVhdGVIaXN0b3J5KHN0YXJ0LCBjb25maWcuaWdub3JlSW5pdGlhbFN0YXRlKTtcbiAgICAgICAgZGVidWcubG9nKCdkbyBub3Qgc2V0IGluaXRpYWxTdGF0ZSBvbiBwcm9iZSBhY3Rpb25zJyk7XG4gICAgICAgIGRlYnVnLmVuZChoaXN0b3J5KTtcbiAgICAgICAgcmV0dXJuIGhpc3Rvcnk7XG4gICAgICB9IGVsc2UgaWYgKCgwLCBfaGVscGVycy5pc0hpc3RvcnkpKHN0YXRlKSkge1xuICAgICAgICBoaXN0b3J5ID0gaW5pdGlhbFN0YXRlID0gY29uZmlnLmlnbm9yZUluaXRpYWxTdGF0ZSA/IHN0YXRlIDogKDAsIF9oZWxwZXJzLm5ld0hpc3RvcnkpKHN0YXRlLnBhc3QsIHN0YXRlLnByZXNlbnQsIHN0YXRlLmZ1dHVyZSk7XG4gICAgICAgIGRlYnVnLmxvZygnaW5pdGlhbEhpc3RvcnkgaW5pdGlhbGl6ZWQ6IGluaXRpYWxTdGF0ZSBpcyBhIGhpc3RvcnknLCBpbml0aWFsU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlzdG9yeSA9IGluaXRpYWxTdGF0ZSA9IGNyZWF0ZUhpc3Rvcnkoc3RhdGUsIGNvbmZpZy5pZ25vcmVJbml0aWFsU3RhdGUpO1xuICAgICAgICBkZWJ1Zy5sb2coJ2luaXRpYWxIaXN0b3J5IGluaXRpYWxpemVkOiBpbml0aWFsU3RhdGUgaXMgbm90IGEgaGlzdG9yeScsIGluaXRpYWxTdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlcztcblxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gaGlzdG9yeTtcblxuICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG4gICAgICAgIHJlcyA9IGp1bXAoaGlzdG9yeSwgLTEpO1xuICAgICAgICBkZWJ1Zy5sb2coJ3BlcmZvcm0gdW5kbycpO1xuICAgICAgICBkZWJ1Zy5lbmQocmVzKTtcbiAgICAgICAgcmV0dXJuIHNraXBSZWR1Y2VyLmFwcGx5KHZvaWQgMCwgW3JlcywgYWN0aW9uXS5jb25jYXQoc2xpY2VzKSk7XG5cbiAgICAgIGNhc2UgY29uZmlnLnJlZG9UeXBlOlxuICAgICAgICByZXMgPSBqdW1wKGhpc3RvcnksIDEpO1xuICAgICAgICBkZWJ1Zy5sb2coJ3BlcmZvcm0gcmVkbycpO1xuICAgICAgICBkZWJ1Zy5lbmQocmVzKTtcbiAgICAgICAgcmV0dXJuIHNraXBSZWR1Y2VyLmFwcGx5KHZvaWQgMCwgW3JlcywgYWN0aW9uXS5jb25jYXQoc2xpY2VzKSk7XG5cbiAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuICAgICAgICByZXMgPSBqdW1wVG9QYXN0KGhpc3RvcnksIGFjdGlvbi5pbmRleCk7XG4gICAgICAgIGRlYnVnLmxvZyhcInBlcmZvcm0ganVtcFRvUGFzdCB0byBcIi5jb25jYXQoYWN0aW9uLmluZGV4KSk7XG4gICAgICAgIGRlYnVnLmVuZChyZXMpO1xuICAgICAgICByZXR1cm4gc2tpcFJlZHVjZXIuYXBwbHkodm9pZCAwLCBbcmVzLCBhY3Rpb25dLmNvbmNhdChzbGljZXMpKTtcblxuICAgICAgY2FzZSBjb25maWcuanVtcFRvRnV0dXJlVHlwZTpcbiAgICAgICAgcmVzID0ganVtcFRvRnV0dXJlKGhpc3RvcnksIGFjdGlvbi5pbmRleCk7XG4gICAgICAgIGRlYnVnLmxvZyhcInBlcmZvcm0ganVtcFRvRnV0dXJlIHRvIFwiLmNvbmNhdChhY3Rpb24uaW5kZXgpKTtcbiAgICAgICAgZGVidWcuZW5kKHJlcyk7XG4gICAgICAgIHJldHVybiBza2lwUmVkdWNlci5hcHBseSh2b2lkIDAsIFtyZXMsIGFjdGlvbl0uY29uY2F0KHNsaWNlcykpO1xuXG4gICAgICBjYXNlIGNvbmZpZy5qdW1wVHlwZTpcbiAgICAgICAgcmVzID0ganVtcChoaXN0b3J5LCBhY3Rpb24uaW5kZXgpO1xuICAgICAgICBkZWJ1Zy5sb2coXCJwZXJmb3JtIGp1bXAgdG8gXCIuY29uY2F0KGFjdGlvbi5pbmRleCkpO1xuICAgICAgICBkZWJ1Zy5lbmQocmVzKTtcbiAgICAgICAgcmV0dXJuIHNraXBSZWR1Y2VyLmFwcGx5KHZvaWQgMCwgW3JlcywgYWN0aW9uXS5jb25jYXQoc2xpY2VzKSk7XG5cbiAgICAgIGNhc2UgYWN0aW9uVHlwZUFtb25nQ2xlYXJIaXN0b3J5VHlwZShhY3Rpb24udHlwZSwgY29uZmlnLmNsZWFySGlzdG9yeVR5cGUpOlxuICAgICAgICByZXMgPSBjcmVhdGVIaXN0b3J5KGhpc3RvcnkucHJlc2VudCwgY29uZmlnLmlnbm9yZUluaXRpYWxTdGF0ZSk7XG4gICAgICAgIGRlYnVnLmxvZygncGVyZm9ybSBjbGVhckhpc3RvcnknKTtcbiAgICAgICAgZGVidWcuZW5kKHJlcyk7XG4gICAgICAgIHJldHVybiBza2lwUmVkdWNlci5hcHBseSh2b2lkIDAsIFtyZXMsIGFjdGlvbl0uY29uY2F0KHNsaWNlcykpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMgPSByZWR1Y2VyLmFwcGx5KHZvaWQgMCwgW2hpc3RvcnkucHJlc2VudCwgYWN0aW9uXS5jb25jYXQoc2xpY2VzKSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5pbml0VHlwZXMuc29tZShmdW5jdGlvbiAoYWN0aW9uVHlwZSkge1xuICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlID09PSBhY3Rpb24udHlwZTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBkZWJ1Zy5sb2coJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG4gICAgICAgICAgZGVidWcuZW5kKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXN0b3J5Ll9sYXRlc3RVbmZpbHRlcmVkID09PSByZXMpIHtcbiAgICAgICAgICAvLyBEb24ndCBoYW5kbGUgdGhpcyBhY3Rpb24uIERvIG5vdCBjYWxsIGRlYnVnLmVuZCBoZXJlLFxuICAgICAgICAgIC8vIGJlY2F1c2UgdGhpcyBhY3Rpb24gc2hvdWxkIG5vdCBwcm9kdWNlIHNpZGUgZWZmZWN0cyB0byB0aGUgY29uc29sZVxuICAgICAgICAgIHJldHVybiBoaXN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9ucyAqL1xuXG5cbiAgICAgICAgdmFyIGZpbHRlcmVkID0gdHlwZW9mIGNvbmZpZy5maWx0ZXIgPT09ICdmdW5jdGlvbicgJiYgIWNvbmZpZy5maWx0ZXIoYWN0aW9uLCByZXMsIGhpc3RvcnkpO1xuXG4gICAgICAgIGlmIChmaWx0ZXJlZCkge1xuICAgICAgICAgIC8vIGlmIGZpbHRlcmluZyBhbiBhY3Rpb24sIG1lcmVseSB1cGRhdGUgdGhlIHByZXNlbnRcbiAgICAgICAgICB2YXIgZmlsdGVyZWRTdGF0ZSA9ICgwLCBfaGVscGVycy5uZXdIaXN0b3J5KShoaXN0b3J5LnBhc3QsIHJlcywgaGlzdG9yeS5mdXR1cmUsIGhpc3RvcnkuZ3JvdXApO1xuXG4gICAgICAgICAgaWYgKCFjb25maWcuc3luY0ZpbHRlcikge1xuICAgICAgICAgICAgZmlsdGVyZWRTdGF0ZS5fbGF0ZXN0VW5maWx0ZXJlZCA9IGhpc3RvcnkuX2xhdGVzdFVuZmlsdGVyZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVidWcubG9nKCdmaWx0ZXIgaWdub3JlZCBhY3Rpb24sIG5vdCBzdG9yaW5nIGl0IGluIHBhc3QnKTtcbiAgICAgICAgICBkZWJ1Zy5lbmQoZmlsdGVyZWRTdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIGZpbHRlcmVkU3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNhc2UtZGVjbGFyYXRpb25zICovXG5cblxuICAgICAgICB2YXIgZ3JvdXAgPSBjb25maWcuZ3JvdXBCeShhY3Rpb24sIHJlcywgaGlzdG9yeSk7XG5cbiAgICAgICAgaWYgKGdyb3VwICE9IG51bGwgJiYgZ3JvdXAgPT09IGhpc3RvcnkuZ3JvdXApIHtcbiAgICAgICAgICAvLyBpZiBncm91cGluZyB3aXRoIHRoZSBwcmV2aW91cyBhY3Rpb24sIG9ubHkgdXBkYXRlIHRoZSBwcmVzZW50XG4gICAgICAgICAgdmFyIGdyb3VwZWRTdGF0ZSA9ICgwLCBfaGVscGVycy5uZXdIaXN0b3J5KShoaXN0b3J5LnBhc3QsIHJlcywgaGlzdG9yeS5mdXR1cmUsIGhpc3RvcnkuZ3JvdXApO1xuICAgICAgICAgIGRlYnVnLmxvZygnZ3JvdXBCeSBncm91cGVkIHRoZSBhY3Rpb24gd2l0aCB0aGUgcHJldmlvdXMgYWN0aW9uJyk7XG4gICAgICAgICAgZGVidWcuZW5kKGdyb3VwZWRTdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIGdyb3VwZWRTdGF0ZTtcbiAgICAgICAgfSAvLyBJZiB0aGUgYWN0aW9uIHdhc24ndCBmaWx0ZXJlZCBvciBncm91cGVkLCBpbnNlcnQgbm9ybWFsbHlcblxuXG4gICAgICAgIGhpc3RvcnkgPSBpbnNlcnQoaGlzdG9yeSwgcmVzLCBjb25maWcubGltaXQsIGdyb3VwKTtcbiAgICAgICAgZGVidWcubG9nKCdpbnNlcnRlZCBuZXcgc3RhdGUgaW50byBoaXN0b3J5Jyk7XG4gICAgICAgIGRlYnVnLmVuZChoaXN0b3J5KTtcbiAgICAgICAgcmV0dXJuIGhpc3Rvcnk7XG4gICAgfVxuICB9O1xufSIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYEFzc2VydDogSXNDYWxsYWJsZShhcmd1bWVudCkgaXMgdHJ1ZWBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbn07XG4iLCJ2YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xuXG52YXIgJFN0cmluZyA9IFN0cmluZztcbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAodHlwZW9mIGFyZ3VtZW50ID09ICdvYmplY3QnIHx8IGlzQ2FsbGFibGUoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93ICRUeXBlRXJyb3IoXCJDYW4ndCBzZXQgXCIgKyAkU3RyaW5nKGFyZ3VtZW50KSArICcgYXMgYSBwcm90b3R5cGUnKTtcbn07XG4iLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcblxudmFyIFVOU0NPUEFCTEVTID0gd2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmlmIChBcnJheVByb3RvdHlwZVtVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSB7XG4gIGRlZmluZVByb3BlcnR5KEFycmF5UHJvdG90eXBlLCBVTlNDT1BBQkxFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogY3JlYXRlKG51bGwpXG4gIH0pO1xufVxuXG4vLyBhZGQgYSBrZXkgdG8gQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBjaGFyQXQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLW11bHRpYnl0ZScpLmNoYXJBdDtcblxuLy8gYEFkdmFuY2VTdHJpbmdJbmRleGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFkdmFuY2VzdHJpbmdpbmRleFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoUywgaW5kZXgsIHVuaWNvZGUpIHtcbiAgcmV0dXJuIGluZGV4ICsgKHVuaWNvZGUgPyBjaGFyQXQoUywgaW5kZXgpLmxlbmd0aCA6IDEpO1xufTtcbiIsInZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBQcm90b3R5cGUpIHtcbiAgaWYgKGlzUHJvdG90eXBlT2YoUHJvdG90eXBlLCBpdCkpIHJldHVybiBpdDtcbiAgdGhyb3cgJFR5cGVFcnJvcignSW5jb3JyZWN0IGludm9jYXRpb24nKTtcbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBc3NlcnQ6IFR5cGUoYXJndW1lbnQpIGlzIE9iamVjdGBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc09iamVjdChhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcigkU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGFuIG9iamVjdCcpO1xufTtcbiIsIi8vIEZGMjYtIGJ1ZzogQXJyYXlCdWZmZXJzIGFyZSBub24tZXh0ZW5zaWJsZSwgYnV0IE9iamVjdC5pc0V4dGVuc2libGUgZG9lcyBub3QgcmVwb3J0IGl0XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWlzZXh0ZW5zaWJsZSwgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuICAgIGlmIChPYmplY3QuaXNFeHRlbnNpYmxlKGJ1ZmZlcikpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShidWZmZXIsICdhJywgeyB2YWx1ZTogOCB9KTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJGZvckVhY2ggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktaXRlcmF0aW9uJykuZm9yRWFjaDtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1pcy1zdHJpY3QnKTtcblxudmFyIFNUUklDVF9NRVRIT0QgPSBhcnJheU1ldGhvZElzU3RyaWN0KCdmb3JFYWNoJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5mb3JlYWNoXG5tb2R1bGUuZXhwb3J0cyA9ICFTVFJJQ1RfTUVUSE9EID8gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFja2ZuIC8qICwgdGhpc0FyZyAqLykge1xuICByZXR1cm4gJGZvckVhY2godGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tYXJyYXktcHJvdG90eXBlLWZvcmVhY2ggLS0gc2FmZVxufSA6IFtdLmZvckVhY2g7XG4iLCJ2YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS57IGluZGV4T2YsIGluY2x1ZGVzIH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoTyk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGlmICgoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykgJiYgT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4gIGluY2x1ZGVzOiBjcmVhdGVNZXRob2QodHJ1ZSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluZGV4b2ZcbiAgaW5kZXhPZjogY3JlYXRlTWV0aG9kKGZhbHNlKVxufTtcbiIsInZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIEluZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9sZW5ndGgtb2YtYXJyYXktbGlrZScpO1xudmFyIGFycmF5U3BlY2llc0NyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNyZWF0ZScpO1xuXG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgZm9yRWFjaCwgbWFwLCBmaWx0ZXIsIHNvbWUsIGV2ZXJ5LCBmaW5kLCBmaW5kSW5kZXgsIGZpbHRlclJlamVjdCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBJU19GSUxURVJfUkVKRUNUID0gVFlQRSA9PSA3O1xuICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgY2FsbGJhY2tmbiwgdGhhdCwgc3BlY2lmaWNDcmVhdGUpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgc2VsZiA9IEluZGV4ZWRPYmplY3QoTyk7XG4gICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kKGNhbGxiYWNrZm4sIHRoYXQpO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShzZWxmKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBjcmVhdGUgPSBzcGVjaWZpY0NyZWF0ZSB8fCBhcnJheVNwZWNpZXNDcmVhdGU7XG4gICAgdmFyIHRhcmdldCA9IElTX01BUCA/IGNyZWF0ZSgkdGhpcywgbGVuZ3RoKSA6IElTX0ZJTFRFUiB8fCBJU19GSUxURVJfUkVKRUNUID8gY3JlYXRlKCR0aGlzLCAwKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdmFsdWUsIHJlc3VsdDtcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgIHZhbHVlID0gc2VsZltpbmRleF07XG4gICAgICByZXN1bHQgPSBib3VuZEZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgTyk7XG4gICAgICBpZiAoVFlQRSkge1xuICAgICAgICBpZiAoSVNfTUFQKSB0YXJnZXRbaW5kZXhdID0gcmVzdWx0OyAvLyBtYXBcbiAgICAgICAgZWxzZSBpZiAocmVzdWx0KSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHZhbHVlOyAgICAgICAgICAgICAvLyBmaW5kXG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gaW5kZXg7ICAgICAgICAgICAgIC8vIGZpbmRJbmRleFxuICAgICAgICAgIGNhc2UgMjogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJcbiAgICAgICAgfSBlbHNlIHN3aXRjaCAoVFlQRSkge1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIGZhbHNlOyAgICAgICAgICAgICAvLyBldmVyeVxuICAgICAgICAgIGNhc2UgNzogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJSZWplY3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogdGFyZ2V0O1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbiAgZm9yRWFjaDogY3JlYXRlTWV0aG9kKDApLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLm1hcFxuICBtYXA6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maWx0ZXJcbiAgZmlsdGVyOiBjcmVhdGVNZXRob2QoMiksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuc29tZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNvbWVcbiAgc29tZTogY3JlYXRlTWV0aG9kKDMpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmV2ZXJ5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZXZlcnlcbiAgZXZlcnk6IGNyZWF0ZU1ldGhvZCg0KSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maW5kYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZFxuICBmaW5kOiBjcmVhdGVNZXRob2QoNSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gIGZpbmRJbmRleDogY3JlYXRlTWV0aG9kKDYpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbHRlclJlamVjdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFycmF5LWZpbHRlcmluZ1xuICBmaWx0ZXJSZWplY3Q6IGNyZWF0ZU1ldGhvZCg3KVxufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIFY4X1ZFUlNJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHRoaXMgZmVhdHVyZSBkZXRlY3Rpb24gaW4gVjggc2luY2UgaXQgY2F1c2VzXG4gIC8vIGRlb3B0aW1pemF0aW9uIGFuZCBzZXJpb3VzIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzdcbiAgcmV0dXJuIFY4X1ZFUlNJT04gPj0gNTEgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBhcnJheS5jb25zdHJ1Y3RvciA9IHt9O1xuICAgIGNvbnN0cnVjdG9yW1NQRUNJRVNdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHsgZm9vOiAxIH07XG4gICAgfTtcbiAgICByZXR1cm4gYXJyYXlbTUVUSE9EX05BTUVdKEJvb2xlYW4pLmZvbyAhPT0gMTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBhcmd1bWVudCkge1xuICB2YXIgbWV0aG9kID0gW11bTUVUSE9EX05BTUVdO1xuICByZXR1cm4gISFtZXRob2QgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhbGwgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgICBtZXRob2QuY2FsbChudWxsLCBhcmd1bWVudCB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9LCAxKTtcbiAgfSk7XG59O1xuIiwidmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgcmVkdWNlLCByZWR1Y2VSaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX1JJR0hUKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgY2FsbGJhY2tmbiwgYXJndW1lbnRzTGVuZ3RoLCBtZW1vKSB7XG4gICAgYUNhbGxhYmxlKGNhbGxiYWNrZm4pO1xuICAgIHZhciBPID0gdG9PYmplY3QodGhhdCk7XG4gICAgdmFyIHNlbGYgPSBJbmRleGVkT2JqZWN0KE8pO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgICB2YXIgaW5kZXggPSBJU19SSUdIVCA/IGxlbmd0aCAtIDEgOiAwO1xuICAgIHZhciBpID0gSVNfUklHSFQgPyAtMSA6IDE7XG4gICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA8IDIpIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgICBtZW1vID0gc2VsZltpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaW5kZXggKz0gaTtcbiAgICAgIGlmIChJU19SSUdIVCA/IGluZGV4IDwgMCA6IGxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgICB0aHJvdyAkVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoO0lTX1JJR0hUID8gaW5kZXggPj0gMCA6IGxlbmd0aCA+IGluZGV4OyBpbmRleCArPSBpKSBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgbWVtbyA9IGNhbGxiYWNrZm4obWVtbywgc2VsZltpbmRleF0sIGluZGV4LCBPKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5yZWR1Y2VcbiAgbGVmdDogY3JlYXRlTWV0aG9kKGZhbHNlKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZXJpZ2h0XG4gIHJpZ2h0OiBjcmVhdGVNZXRob2QodHJ1ZSlcbn07XG4iLCJ2YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHknKTtcblxudmFyICRBcnJheSA9IEFycmF5O1xudmFyIG1heCA9IE1hdGgubWF4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgdmFyIGsgPSB0b0Fic29sdXRlSW5kZXgoc3RhcnQsIGxlbmd0aCk7XG4gIHZhciBmaW4gPSB0b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQsIGxlbmd0aCk7XG4gIHZhciByZXN1bHQgPSAkQXJyYXkobWF4KGZpbiAtIGssIDApKTtcbiAgZm9yICh2YXIgbiA9IDA7IGsgPCBmaW47IGsrKywgbisrKSBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIG4sIE9ba10pO1xuICByZXN1bHQubGVuZ3RoID0gbjtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1hcnJheScpO1xudmFyIGlzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY29uc3RydWN0b3InKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbnZhciAkQXJyYXkgPSBBcnJheTtcblxuLy8gYSBwYXJ0IG9mIGBBcnJheVNwZWNpZXNDcmVhdGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheXNwZWNpZXNjcmVhdGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9yaWdpbmFsQXJyYXkpIHtcbiAgdmFyIEM7XG4gIGlmIChpc0FycmF5KG9yaWdpbmFsQXJyYXkpKSB7XG4gICAgQyA9IG9yaWdpbmFsQXJyYXkuY29uc3RydWN0b3I7XG4gICAgLy8gY3Jvc3MtcmVhbG0gZmFsbGJhY2tcbiAgICBpZiAoaXNDb25zdHJ1Y3RvcihDKSAmJiAoQyA9PT0gJEFycmF5IHx8IGlzQXJyYXkoQy5wcm90b3R5cGUpKSkgQyA9IHVuZGVmaW5lZDtcbiAgICBlbHNlIGlmIChpc09iamVjdChDKSkge1xuICAgICAgQyA9IENbU1BFQ0lFU107XG4gICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gcmV0dXJuIEMgPT09IHVuZGVmaW5lZCA/ICRBcnJheSA6IEM7XG59O1xuIiwidmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3InKTtcblxuLy8gYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5c3BlY2llc2NyZWF0ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgKGFycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsQXJyYXkpKShsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoKTtcbn07XG4iLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBpdGVyYXRvcldpdGhSZXR1cm4gPSB7XG4gICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHsgZG9uZTogISFjYWxsZWQrKyB9O1xuICAgIH0sXG4gICAgJ3JldHVybic6IGZ1bmN0aW9uICgpIHtcbiAgICAgIFNBRkVfQ0xPU0lORyA9IHRydWU7XG4gICAgfVxuICB9O1xuICBpdGVyYXRvcldpdGhSZXR1cm5bSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1hcnJheS1mcm9tLCBuby10aHJvdy1saXRlcmFsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIEFycmF5LmZyb20oaXRlcmF0b3JXaXRoUmV0dXJuLCBmdW5jdGlvbiAoKSB7IHRocm93IDI7IH0pO1xufSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjLCBTS0lQX0NMT1NJTkcpIHtcbiAgaWYgKCFTS0lQX0NMT1NJTkcgJiYgIVNBRkVfQ0xPU0lORykgcmV0dXJuIGZhbHNlO1xuICB2YXIgSVRFUkFUSU9OX1NVUFBPUlQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiBJVEVSQVRJT05fU1VQUE9SVCA9IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4ZWMob2JqZWN0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gSVRFUkFUSU9OX1NVUFBPUlQ7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG52YXIgdG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyh7fS50b1N0cmluZyk7XG52YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBzdHJpbmdTbGljZSh0b1N0cmluZyhpdCksIDgsIC0xKTtcbn07XG4iLCJ2YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjbGFzc29mUmF3ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyICRPYmplY3QgPSBPYmplY3Q7XG5cbi8vIEVTMyB3cm9uZyBoZXJlXG52YXIgQ09SUkVDVF9BUkdVTUVOVFMgPSBjbGFzc29mUmF3KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG4vLyBnZXR0aW5nIHRhZyBmcm9tIEVTNisgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgXG5tb2R1bGUuZXhwb3J0cyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCA/IGNsYXNzb2ZSYXcgOiBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIHRhZywgcmVzdWx0O1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAodGFnID0gdHJ5R2V0KE8gPSAkT2JqZWN0KGl0KSwgVE9fU1RSSU5HX1RBRykpID09ICdzdHJpbmcnID8gdGFnXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBDT1JSRUNUX0FSR1VNRU5UUyA/IGNsYXNzb2ZSYXcoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAocmVzdWx0ID0gY2xhc3NvZlJhdyhPKSkgPT0gJ09iamVjdCcgJiYgaXNDYWxsYWJsZShPLmNhbGxlZSkgPyAnQXJndW1lbnRzJyA6IHJlc3VsdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZGVmaW5lQnVpbHRJbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWlucycpO1xudmFyIGdldFdlYWtEYXRhID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLW1ldGFkYXRhJykuZ2V0V2Vha0RhdGE7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1pbnN0YW5jZScpO1xudmFyIGl0ZXJhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0ZScpO1xudmFyIEFycmF5SXRlcmF0aW9uTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbicpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xuXG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGludGVybmFsU3RhdGVHZXR0ZXJGb3IgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcjtcbnZhciBmaW5kID0gQXJyYXlJdGVyYXRpb25Nb2R1bGUuZmluZDtcbnZhciBmaW5kSW5kZXggPSBBcnJheUl0ZXJhdGlvbk1vZHVsZS5maW5kSW5kZXg7XG52YXIgc3BsaWNlID0gdW5jdXJyeVRoaXMoW10uc3BsaWNlKTtcbnZhciBpZCA9IDA7XG5cbi8vIGZhbGxiYWNrIGZvciB1bmNhdWdodCBmcm96ZW4ga2V5c1xudmFyIHVuY2F1Z2h0RnJvemVuU3RvcmUgPSBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgcmV0dXJuIHN0b3JlLmZyb3plbiB8fCAoc3RvcmUuZnJvemVuID0gbmV3IFVuY2F1Z2h0RnJvemVuU3RvcmUoKSk7XG59O1xuXG52YXIgVW5jYXVnaHRGcm96ZW5TdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbnRyaWVzID0gW107XG59O1xuXG52YXIgZmluZFVuY2F1Z2h0RnJvemVuID0gZnVuY3Rpb24gKHN0b3JlLCBrZXkpIHtcbiAgcmV0dXJuIGZpbmQoc3RvcmUuZW50cmllcywgZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG4gIH0pO1xufTtcblxuVW5jYXVnaHRGcm96ZW5TdG9yZS5wcm90b3R5cGUgPSB7XG4gIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBlbnRyeSA9IGZpbmRVbmNhdWdodEZyb3plbih0aGlzLCBrZXkpO1xuICAgIGlmIChlbnRyeSkgcmV0dXJuIGVudHJ5WzFdO1xuICB9LFxuICBoYXM6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gISFmaW5kVW5jYXVnaHRGcm96ZW4odGhpcywga2V5KTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBlbnRyeSA9IGZpbmRVbmNhdWdodEZyb3plbih0aGlzLCBrZXkpO1xuICAgIGlmIChlbnRyeSkgZW50cnlbMV0gPSB2YWx1ZTtcbiAgICBlbHNlIHRoaXMuZW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0sXG4gICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGluZGV4ID0gZmluZEluZGV4KHRoaXMuZW50cmllcywgZnVuY3Rpb24gKGl0KSB7XG4gICAgICByZXR1cm4gaXRbMF0gPT09IGtleTtcbiAgICB9KTtcbiAgICBpZiAofmluZGV4KSBzcGxpY2UodGhpcy5lbnRyaWVzLCBpbmRleCwgMSk7XG4gICAgcmV0dXJuICEhfmluZGV4O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVAsIEFEREVSKSB7XG4gICAgdmFyIENvbnN0cnVjdG9yID0gd3JhcHBlcihmdW5jdGlvbiAodGhhdCwgaXRlcmFibGUpIHtcbiAgICAgIGFuSW5zdGFuY2UodGhhdCwgUHJvdG90eXBlKTtcbiAgICAgIHNldEludGVybmFsU3RhdGUodGhhdCwge1xuICAgICAgICB0eXBlOiBDT05TVFJVQ1RPUl9OQU1FLFxuICAgICAgICBpZDogaWQrKyxcbiAgICAgICAgZnJvemVuOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgaWYgKGl0ZXJhYmxlICE9IHVuZGVmaW5lZCkgaXRlcmF0ZShpdGVyYWJsZSwgdGhhdFtBRERFUl0sIHsgdGhhdDogdGhhdCwgQVNfRU5UUklFUzogSVNfTUFQIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIFByb3RvdHlwZSA9IENvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuICAgIHZhciBnZXRJbnRlcm5hbFN0YXRlID0gaW50ZXJuYWxTdGF0ZUdldHRlckZvcihDT05TVFJVQ1RPUl9OQU1FKTtcblxuICAgIHZhciBkZWZpbmUgPSBmdW5jdGlvbiAodGhhdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGF0KTtcbiAgICAgIHZhciBkYXRhID0gZ2V0V2Vha0RhdGEoYW5PYmplY3Qoa2V5KSwgdHJ1ZSk7XG4gICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgdW5jYXVnaHRGcm96ZW5TdG9yZShzdGF0ZSkuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgZWxzZSBkYXRhW3N0YXRlLmlkXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgfTtcblxuICAgIGRlZmluZUJ1aWx0SW5zKFByb3RvdHlwZSwge1xuICAgICAgLy8gYHsgV2Vha01hcCwgV2Vha1NldCB9LnByb3RvdHlwZS5kZWxldGUoa2V5KWAgbWV0aG9kc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy13ZWFrbWFwLnByb3RvdHlwZS5kZWxldGVcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtd2Vha3NldC5wcm90b3R5cGUuZGVsZXRlXG4gICAgICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGRhdGEgPSBnZXRXZWFrRGF0YShrZXkpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUoc3RhdGUpWydkZWxldGUnXShrZXkpO1xuICAgICAgICByZXR1cm4gZGF0YSAmJiBoYXNPd24oZGF0YSwgc3RhdGUuaWQpICYmIGRlbGV0ZSBkYXRhW3N0YXRlLmlkXTtcbiAgICAgIH0sXG4gICAgICAvLyBgeyBXZWFrTWFwLCBXZWFrU2V0IH0ucHJvdG90eXBlLmhhcyhrZXkpYCBtZXRob2RzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXdlYWttYXAucHJvdG90eXBlLmhhc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy13ZWFrc2V0LnByb3RvdHlwZS5oYXNcbiAgICAgIGhhczogZnVuY3Rpb24gaGFzKGtleSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGRhdGEgPSBnZXRXZWFrRGF0YShrZXkpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUoc3RhdGUpLmhhcyhrZXkpO1xuICAgICAgICByZXR1cm4gZGF0YSAmJiBoYXNPd24oZGF0YSwgc3RhdGUuaWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVmaW5lQnVpbHRJbnMoUHJvdG90eXBlLCBJU19NQVAgPyB7XG4gICAgICAvLyBgV2Vha01hcC5wcm90b3R5cGUuZ2V0KGtleSlgIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy13ZWFrbWFwLnByb3RvdHlwZS5nZXRcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICAgICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICAgIHZhciBkYXRhID0gZ2V0V2Vha0RhdGEoa2V5KTtcbiAgICAgICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUoc3RhdGUpLmdldChrZXkpO1xuICAgICAgICAgIHJldHVybiBkYXRhID8gZGF0YVtzdGF0ZS5pZF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpYCBtZXRob2RcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtd2Vha21hcC5wcm90b3R5cGUuc2V0XG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmUodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSA6IHtcbiAgICAgIC8vIGBXZWFrU2V0LnByb3RvdHlwZS5hZGQodmFsdWUpYCBtZXRob2RcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtd2Vha3NldC5wcm90b3R5cGUuYWRkXG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZGVmaW5lKHRoaXMsIHZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBpc0ZvcmNlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1mb3JjZWQnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIEludGVybmFsTWV0YWRhdGFNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtbWV0YWRhdGEnKTtcbnZhciBpdGVyYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdGUnKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLWluc3RhbmNlJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NoZWNrLWNvcnJlY3RuZXNzLW9mLWl0ZXJhdGlvbicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgaW5oZXJpdElmUmVxdWlyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5oZXJpdC1pZi1yZXF1aXJlZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUl9OQU1FLCB3cmFwcGVyLCBjb21tb24pIHtcbiAgdmFyIElTX01BUCA9IENPTlNUUlVDVE9SX05BTUUuaW5kZXhPZignTWFwJykgIT09IC0xO1xuICB2YXIgSVNfV0VBSyA9IENPTlNUUlVDVE9SX05BTUUuaW5kZXhPZignV2VhaycpICE9PSAtMTtcbiAgdmFyIEFEREVSID0gSVNfTUFQID8gJ3NldCcgOiAnYWRkJztcbiAgdmFyIE5hdGl2ZUNvbnN0cnVjdG9yID0gZ2xvYmFsW0NPTlNUUlVDVE9SX05BTUVdO1xuICB2YXIgTmF0aXZlUHJvdG90eXBlID0gTmF0aXZlQ29uc3RydWN0b3IgJiYgTmF0aXZlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICB2YXIgQ29uc3RydWN0b3IgPSBOYXRpdmVDb25zdHJ1Y3RvcjtcbiAgdmFyIGV4cG9ydGVkID0ge307XG5cbiAgdmFyIGZpeE1ldGhvZCA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgICB2YXIgdW5jdXJyaWVkTmF0aXZlTWV0aG9kID0gdW5jdXJyeVRoaXMoTmF0aXZlUHJvdG90eXBlW0tFWV0pO1xuICAgIGRlZmluZUJ1aWx0SW4oTmF0aXZlUHJvdG90eXBlLCBLRVksXG4gICAgICBLRVkgPT0gJ2FkZCcgPyBmdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICAgICAgdW5jdXJyaWVkTmF0aXZlTWV0aG9kKHRoaXMsIHZhbHVlID09PSAwID8gMCA6IHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IDogS0VZID09ICdkZWxldGUnID8gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gSVNfV0VBSyAmJiAhaXNPYmplY3Qoa2V5KSA/IGZhbHNlIDogdW5jdXJyaWVkTmF0aXZlTWV0aG9kKHRoaXMsIGtleSA9PT0gMCA/IDAgOiBrZXkpO1xuICAgICAgfSA6IEtFWSA9PSAnZ2V0JyA/IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIElTX1dFQUsgJiYgIWlzT2JqZWN0KGtleSkgPyB1bmRlZmluZWQgOiB1bmN1cnJpZWROYXRpdmVNZXRob2QodGhpcywga2V5ID09PSAwID8gMCA6IGtleSk7XG4gICAgICB9IDogS0VZID09ICdoYXMnID8gZnVuY3Rpb24gaGFzKGtleSkge1xuICAgICAgICByZXR1cm4gSVNfV0VBSyAmJiAhaXNPYmplY3Qoa2V5KSA/IGZhbHNlIDogdW5jdXJyaWVkTmF0aXZlTWV0aG9kKHRoaXMsIGtleSA9PT0gMCA/IDAgOiBrZXkpO1xuICAgICAgfSA6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHVuY3VycmllZE5hdGl2ZU1ldGhvZCh0aGlzLCBrZXkgPT09IDAgPyAwIDoga2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICk7XG4gIH07XG5cbiAgdmFyIFJFUExBQ0UgPSBpc0ZvcmNlZChcbiAgICBDT05TVFJVQ1RPUl9OQU1FLFxuICAgICFpc0NhbGxhYmxlKE5hdGl2ZUNvbnN0cnVjdG9yKSB8fCAhKElTX1dFQUsgfHwgTmF0aXZlUHJvdG90eXBlLmZvckVhY2ggJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpLmVudHJpZXMoKS5uZXh0KCk7XG4gICAgfSkpXG4gICk7XG5cbiAgaWYgKFJFUExBQ0UpIHtcbiAgICAvLyBjcmVhdGUgY29sbGVjdGlvbiBjb25zdHJ1Y3RvclxuICAgIENvbnN0cnVjdG9yID0gY29tbW9uLmdldENvbnN0cnVjdG9yKHdyYXBwZXIsIENPTlNUUlVDVE9SX05BTUUsIElTX01BUCwgQURERVIpO1xuICAgIEludGVybmFsTWV0YWRhdGFNb2R1bGUuZW5hYmxlKCk7XG4gIH0gZWxzZSBpZiAoaXNGb3JjZWQoQ09OU1RSVUNUT1JfTkFNRSwgdHJ1ZSkpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAvLyBlYXJseSBpbXBsZW1lbnRhdGlvbnMgbm90IHN1cHBvcnRzIGNoYWluaW5nXG4gICAgdmFyIEhBU05UX0NIQUlOSU5HID0gaW5zdGFuY2VbQURERVJdKElTX1dFQUsgPyB7fSA6IC0wLCAxKSAhPSBpbnN0YW5jZTtcbiAgICAvLyBWOCB+IENocm9taXVtIDQwLSB3ZWFrLWNvbGxlY3Rpb25zIHRocm93cyBvbiBwcmltaXRpdmVzLCBidXQgc2hvdWxkIHJldHVybiBmYWxzZVxuICAgIHZhciBUSFJPV1NfT05fUFJJTUlUSVZFUyA9IGZhaWxzKGZ1bmN0aW9uICgpIHsgaW5zdGFuY2UuaGFzKDEpOyB9KTtcbiAgICAvLyBtb3N0IGVhcmx5IGltcGxlbWVudGF0aW9ucyBkb2Vzbid0IHN1cHBvcnRzIGl0ZXJhYmxlcywgbW9zdCBtb2Rlcm4gLSBub3QgY2xvc2UgaXQgY29ycmVjdGx5XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIHZhciBBQ0NFUFRfSVRFUkFCTEVTID0gY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uKGZ1bmN0aW9uIChpdGVyYWJsZSkgeyBuZXcgTmF0aXZlQ29uc3RydWN0b3IoaXRlcmFibGUpOyB9KTtcbiAgICAvLyBmb3IgZWFybHkgaW1wbGVtZW50YXRpb25zIC0wIGFuZCArMCBub3QgdGhlIHNhbWVcbiAgICB2YXIgQlVHR1lfWkVSTyA9ICFJU19XRUFLICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFY4IH4gQ2hyb21pdW0gNDItIGZhaWxzIG9ubHkgd2l0aCA1KyBlbGVtZW50c1xuICAgICAgdmFyICRpbnN0YW5jZSA9IG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpO1xuICAgICAgdmFyIGluZGV4ID0gNTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSAkaW5zdGFuY2VbQURERVJdKGluZGV4LCBpbmRleCk7XG4gICAgICByZXR1cm4gISRpbnN0YW5jZS5oYXMoLTApO1xuICAgIH0pO1xuXG4gICAgaWYgKCFBQ0NFUFRfSVRFUkFCTEVTKSB7XG4gICAgICBDb25zdHJ1Y3RvciA9IHdyYXBwZXIoZnVuY3Rpb24gKGR1bW15LCBpdGVyYWJsZSkge1xuICAgICAgICBhbkluc3RhbmNlKGR1bW15LCBOYXRpdmVQcm90b3R5cGUpO1xuICAgICAgICB2YXIgdGhhdCA9IGluaGVyaXRJZlJlcXVpcmVkKG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpLCBkdW1teSwgQ29uc3RydWN0b3IpO1xuICAgICAgICBpZiAoaXRlcmFibGUgIT0gdW5kZWZpbmVkKSBpdGVyYXRlKGl0ZXJhYmxlLCB0aGF0W0FEREVSXSwgeyB0aGF0OiB0aGF0LCBBU19FTlRSSUVTOiBJU19NQVAgfSk7XG4gICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgfSk7XG4gICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBOYXRpdmVQcm90b3R5cGU7XG4gICAgICBOYXRpdmVQcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB9XG5cbiAgICBpZiAoVEhST1dTX09OX1BSSU1JVElWRVMgfHwgQlVHR1lfWkVSTykge1xuICAgICAgZml4TWV0aG9kKCdkZWxldGUnKTtcbiAgICAgIGZpeE1ldGhvZCgnaGFzJyk7XG4gICAgICBJU19NQVAgJiYgZml4TWV0aG9kKCdnZXQnKTtcbiAgICB9XG5cbiAgICBpZiAoQlVHR1lfWkVSTyB8fCBIQVNOVF9DSEFJTklORykgZml4TWV0aG9kKEFEREVSKTtcblxuICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgc2hvdWxkIG5vdCBjb250YWlucyAuY2xlYXIgbWV0aG9kXG4gICAgaWYgKElTX1dFQUsgJiYgTmF0aXZlUHJvdG90eXBlLmNsZWFyKSBkZWxldGUgTmF0aXZlUHJvdG90eXBlLmNsZWFyO1xuICB9XG5cbiAgZXhwb3J0ZWRbQ09OU1RSVUNUT1JfTkFNRV0gPSBDb25zdHJ1Y3RvcjtcbiAgJCh7IGdsb2JhbDogdHJ1ZSwgY29uc3RydWN0b3I6IHRydWUsIGZvcmNlZDogQ29uc3RydWN0b3IgIT0gTmF0aXZlQ29uc3RydWN0b3IgfSwgZXhwb3J0ZWQpO1xuXG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBDT05TVFJVQ1RPUl9OQU1FKTtcblxuICBpZiAoIUlTX1dFQUspIGNvbW1vbi5zZXRTdHJvbmcoQ29uc3RydWN0b3IsIENPTlNUUlVDVE9SX05BTUUsIElTX01BUCk7XG5cbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufTtcbiIsInZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIG93bktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb3duLWtleXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UsIGV4Y2VwdGlvbnMpIHtcbiAgdmFyIGtleXMgPSBvd25LZXlzKHNvdXJjZSk7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5TW9kdWxlLmY7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgaWYgKCFoYXNPd24odGFyZ2V0LCBrZXkpICYmICEoZXhjZXB0aW9ucyAmJiBoYXNPd24oZXhjZXB0aW9ucywga2V5KSkpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICB9XG4gIH1cbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGKCkgeyAvKiBlbXB0eSAqLyB9XG4gIEYucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbnVsbDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IEYoKSkgIT09IEYucHJvdG90eXBlO1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUnKS5JdGVyYXRvclByb3RvdHlwZTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQsIEVOVU1FUkFCTEVfTkVYVCkge1xuICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgSXRlcmF0b3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCshRU5VTUVSQUJMRV9ORVhULCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JDb25zdHJ1Y3RvciwgVE9fU1RSSU5HX1RBRywgZmFsc2UsIHRydWUpO1xuICBJdGVyYXRvcnNbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzO1xuICByZXR1cm4gSXRlcmF0b3JDb25zdHJ1Y3Rvcjtcbn07XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwga2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0b1Byb3BlcnR5S2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleScpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBwcm9wZXJ0eUtleSA9IHRvUHJvcGVydHlLZXkoa2V5KTtcbiAgaWYgKHByb3BlcnR5S2V5IGluIG9iamVjdCkgZGVmaW5lUHJvcGVydHlNb2R1bGUuZihvYmplY3QsIHByb3BlcnR5S2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbcHJvcGVydHlLZXldID0gdmFsdWU7XG59O1xuIiwidmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgbWFrZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbWFrZS1idWlsdC1pbicpO1xudmFyIGRlZmluZUdsb2JhbFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1nbG9iYWwtcHJvcGVydHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgdmFyIHNpbXBsZSA9IG9wdGlvbnMuZW51bWVyYWJsZTtcbiAgdmFyIG5hbWUgPSBvcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubmFtZSA6IGtleTtcbiAgaWYgKGlzQ2FsbGFibGUodmFsdWUpKSBtYWtlQnVpbHRJbih2YWx1ZSwgbmFtZSwgb3B0aW9ucyk7XG4gIGlmIChvcHRpb25zLmdsb2JhbCkge1xuICAgIGlmIChzaW1wbGUpIE9ba2V5XSA9IHZhbHVlO1xuICAgIGVsc2UgZGVmaW5lR2xvYmFsUHJvcGVydHkoa2V5LCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFvcHRpb25zLnVuc2FmZSkgZGVsZXRlIE9ba2V5XTtcbiAgICBlbHNlIGlmIChPW2tleV0pIHNpbXBsZSA9IHRydWU7XG4gICAgaWYgKHNpbXBsZSkgT1trZXldID0gdmFsdWU7XG4gICAgZWxzZSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKE8sIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6ICFvcHRpb25zLm5vbkNvbmZpZ3VyYWJsZSxcbiAgICAgIHdyaXRhYmxlOiAhb3B0aW9ucy5ub25Xcml0YWJsZVxuICAgIH0pO1xuICB9IHJldHVybiBPO1xufTtcbiIsInZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgb3B0aW9ucykge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSBkZWZpbmVCdWlsdEluKHRhcmdldCwga2V5LCBzcmNba2V5XSwgb3B0aW9ucyk7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB0cnkge1xuICAgIGRlZmluZVByb3BlcnR5KGdsb2JhbCwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnbG9iYWxba2V5XSA9IHZhbHVlO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBGdW5jdGlvbk5hbWUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tbmFtZScpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1pdGVyYXRvci1jb25zdHJ1Y3RvcicpO1xudmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtcHJvdG90eXBlLW9mJyk7XG52YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXNldC1wcm90b3R5cGUtb2YnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvcnMnKTtcbnZhciBJdGVyYXRvcnNDb3JlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycy1jb3JlJyk7XG5cbnZhciBQUk9QRVJfRlVOQ1RJT05fTkFNRSA9IEZ1bmN0aW9uTmFtZS5QUk9QRVI7XG52YXIgQ09ORklHVVJBQkxFX0ZVTkNUSU9OX05BTUUgPSBGdW5jdGlvbk5hbWUuQ09ORklHVVJBQkxFO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gSXRlcmF0b3JzQ29yZS5JdGVyYXRvclByb3RvdHlwZTtcbnZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gSXRlcmF0b3JzQ29yZS5CVUdHWV9TQUZBUklfSVRFUkFUT1JTO1xudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG52YXIgRU5UUklFUyA9ICdlbnRyaWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJdGVyYWJsZSwgTkFNRSwgSXRlcmF0b3JDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvcihJdGVyYXRvckNvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblxuICB2YXIgZ2V0SXRlcmF0aW9uTWV0aG9kID0gZnVuY3Rpb24gKEtJTkQpIHtcbiAgICBpZiAoS0lORCA9PT0gREVGQVVMVCAmJiBkZWZhdWx0SXRlcmF0b3IpIHJldHVybiBkZWZhdWx0SXRlcmF0b3I7XG4gICAgaWYgKCFCVUdHWV9TQUZBUklfSVRFUkFUT1JTICYmIEtJTkQgaW4gSXRlcmFibGVQcm90b3R5cGUpIHJldHVybiBJdGVyYWJsZVByb3RvdHlwZVtLSU5EXTtcbiAgICBzd2l0Y2ggKEtJTkQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgICBjYXNlIEVOVFJJRVM6IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcyk7IH07XG4gIH07XG5cbiAgdmFyIFRPX1NUUklOR19UQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgPSBmYWxzZTtcbiAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICB2YXIgbmF0aXZlSXRlcmF0b3IgPSBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl1cbiAgICB8fCBJdGVyYWJsZVByb3RvdHlwZVsnQEBpdGVyYXRvciddXG4gICAgfHwgREVGQVVMVCAmJiBJdGVyYWJsZVByb3RvdHlwZVtERUZBVUxUXTtcbiAgdmFyIGRlZmF1bHRJdGVyYXRvciA9ICFCVUdHWV9TQUZBUklfSVRFUkFUT1JTICYmIG5hdGl2ZUl0ZXJhdG9yIHx8IGdldEl0ZXJhdGlvbk1ldGhvZChERUZBVUxUKTtcbiAgdmFyIGFueU5hdGl2ZUl0ZXJhdG9yID0gTkFNRSA9PSAnQXJyYXknID8gSXRlcmFibGVQcm90b3R5cGUuZW50cmllcyB8fCBuYXRpdmVJdGVyYXRvciA6IG5hdGl2ZUl0ZXJhdG9yO1xuICB2YXIgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBtZXRob2RzLCBLRVk7XG5cbiAgLy8gZml4IG5hdGl2ZVxuICBpZiAoYW55TmF0aXZlSXRlcmF0b3IpIHtcbiAgICBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihhbnlOYXRpdmVJdGVyYXRvci5jYWxsKG5ldyBJdGVyYWJsZSgpKSk7XG4gICAgaWYgKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUubmV4dCkge1xuICAgICAgaWYgKCFJU19QVVJFICYmIGdldFByb3RvdHlwZU9mKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSkgIT09IEl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgICAgIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgIHNldFByb3RvdHlwZU9mKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgSXRlcmF0b3JQcm90b3R5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc0NhbGxhYmxlKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0pKSB7XG4gICAgICAgICAgZGVmaW5lQnVpbHRJbihDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBUT19TVFJJTkdfVEFHLCB0cnVlLCB0cnVlKTtcbiAgICAgIGlmIChJU19QVVJFKSBJdGVyYXRvcnNbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzO1xuICAgIH1cbiAgfVxuXG4gIC8vIGZpeCBBcnJheS5wcm90b3R5cGUueyB2YWx1ZXMsIEBAaXRlcmF0b3IgfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKFBST1BFUl9GVU5DVElPTl9OQU1FICYmIERFRkFVTFQgPT0gVkFMVUVTICYmIG5hdGl2ZUl0ZXJhdG9yICYmIG5hdGl2ZUl0ZXJhdG9yLm5hbWUgIT09IFZBTFVFUykge1xuICAgIGlmICghSVNfUFVSRSAmJiBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KEl0ZXJhYmxlUHJvdG90eXBlLCAnbmFtZScsIFZBTFVFUyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIElOQ09SUkVDVF9WQUxVRVNfTkFNRSA9IHRydWU7XG4gICAgICBkZWZhdWx0SXRlcmF0b3IgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBjYWxsKG5hdGl2ZUl0ZXJhdG9yLCB0aGlzKTsgfTtcbiAgICB9XG4gIH1cblxuICAvLyBleHBvcnQgYWRkaXRpb25hbCBtZXRob2RzXG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogZ2V0SXRlcmF0aW9uTWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyBkZWZhdWx0SXRlcmF0b3IgOiBnZXRJdGVyYXRpb25NZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiBnZXRJdGVyYXRpb25NZXRob2QoRU5UUklFUylcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoS0VZIGluIG1ldGhvZHMpIHtcbiAgICAgIGlmIChCVUdHWV9TQUZBUklfSVRFUkFUT1JTIHx8IElOQ09SUkVDVF9WQUxVRVNfTkFNRSB8fCAhKEtFWSBpbiBJdGVyYWJsZVByb3RvdHlwZSkpIHtcbiAgICAgICAgZGVmaW5lQnVpbHRJbihJdGVyYWJsZVByb3RvdHlwZSwgS0VZLCBtZXRob2RzW0tFWV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSAkKHsgdGFyZ2V0OiBOQU1FLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBCVUdHWV9TQUZBUklfSVRFUkFUT1JTIHx8IElOQ09SUkVDVF9WQUxVRVNfTkFNRSB9LCBtZXRob2RzKTtcbiAgfVxuXG4gIC8vIGRlZmluZSBpdGVyYXRvclxuICBpZiAoKCFJU19QVVJFIHx8IEZPUkNFRCkgJiYgSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1JdICE9PSBkZWZhdWx0SXRlcmF0b3IpIHtcbiAgICBkZWZpbmVCdWlsdEluKEl0ZXJhYmxlUHJvdG90eXBlLCBJVEVSQVRPUiwgZGVmYXVsdEl0ZXJhdG9yLCB7IG5hbWU6IERFRkFVTFQgfSk7XG4gIH1cbiAgSXRlcmF0b3JzW05BTUVdID0gZGVmYXVsdEl0ZXJhdG9yO1xuXG4gIHJldHVybiBtZXRob2RzO1xufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBEZXRlY3QgSUU4J3MgaW5jb21wbGV0ZSBkZWZpbmVQcm9wZXJ0eSBpbXBsZW1lbnRhdGlvblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgMSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSlbMV0gIT0gNztcbn0pO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgRVhJU1RTID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gRVhJU1RTID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCIvLyBpdGVyYWJsZSBET00gY29sbGVjdGlvbnNcbi8vIGZsYWcgLSBgaXRlcmFibGVgIGludGVyZmFjZSAtICdlbnRyaWVzJywgJ2tleXMnLCAndmFsdWVzJywgJ2ZvckVhY2gnIG1ldGhvZHNcbm1vZHVsZS5leHBvcnRzID0ge1xuICBDU1NSdWxlTGlzdDogMCxcbiAgQ1NTU3R5bGVEZWNsYXJhdGlvbjogMCxcbiAgQ1NTVmFsdWVMaXN0OiAwLFxuICBDbGllbnRSZWN0TGlzdDogMCxcbiAgRE9NUmVjdExpc3Q6IDAsXG4gIERPTVN0cmluZ0xpc3Q6IDAsXG4gIERPTVRva2VuTGlzdDogMSxcbiAgRGF0YVRyYW5zZmVySXRlbUxpc3Q6IDAsXG4gIEZpbGVMaXN0OiAwLFxuICBIVE1MQWxsQ29sbGVjdGlvbjogMCxcbiAgSFRNTENvbGxlY3Rpb246IDAsXG4gIEhUTUxGb3JtRWxlbWVudDogMCxcbiAgSFRNTFNlbGVjdEVsZW1lbnQ6IDAsXG4gIE1lZGlhTGlzdDogMCxcbiAgTWltZVR5cGVBcnJheTogMCxcbiAgTmFtZWROb2RlTWFwOiAwLFxuICBOb2RlTGlzdDogMSxcbiAgUGFpbnRSZXF1ZXN0TGlzdDogMCxcbiAgUGx1Z2luOiAwLFxuICBQbHVnaW5BcnJheTogMCxcbiAgU1ZHTGVuZ3RoTGlzdDogMCxcbiAgU1ZHTnVtYmVyTGlzdDogMCxcbiAgU1ZHUGF0aFNlZ0xpc3Q6IDAsXG4gIFNWR1BvaW50TGlzdDogMCxcbiAgU1ZHU3RyaW5nTGlzdDogMCxcbiAgU1ZHVHJhbnNmb3JtTGlzdDogMCxcbiAgU291cmNlQnVmZmVyTGlzdDogMCxcbiAgU3R5bGVTaGVldExpc3Q6IDAsXG4gIFRleHRUcmFja0N1ZUxpc3Q6IDAsXG4gIFRleHRUcmFja0xpc3Q6IDAsXG4gIFRvdWNoTGlzdDogMFxufTtcbiIsIi8vIGluIG9sZCBXZWJLaXQgdmVyc2lvbnMsIGBlbGVtZW50LmNsYXNzTGlzdGAgaXMgbm90IGFuIGluc3RhbmNlIG9mIGdsb2JhbCBgRE9NVG9rZW5MaXN0YFxudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudCcpO1xuXG52YXIgY2xhc3NMaXN0ID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50KCdzcGFuJykuY2xhc3NMaXN0O1xudmFyIERPTVRva2VuTGlzdFByb3RvdHlwZSA9IGNsYXNzTGlzdCAmJiBjbGFzc0xpc3QuY29uc3RydWN0b3IgJiYgY2xhc3NMaXN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01Ub2tlbkxpc3RQcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgPyB1bmRlZmluZWQgOiBET01Ub2tlbkxpc3RQcm90b3R5cGU7XG4iLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzc29mKGdsb2JhbC5wcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG4iLCJ2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCduYXZpZ2F0b3InLCAndXNlckFnZW50JykgfHwgJyc7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIERlbm8gPSBnbG9iYWwuRGVubztcbnZhciB2ZXJzaW9ucyA9IHByb2Nlc3MgJiYgcHJvY2Vzcy52ZXJzaW9ucyB8fCBEZW5vICYmIERlbm8udmVyc2lvbjtcbnZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4O1xudmFyIG1hdGNoLCB2ZXJzaW9uO1xuXG5pZiAodjgpIHtcbiAgbWF0Y2ggPSB2OC5zcGxpdCgnLicpO1xuICAvLyBpbiBvbGQgQ2hyb21lLCB2ZXJzaW9ucyBvZiBWOCBpc24ndCBWOCA9IENocm9tZSAvIDEwXG4gIC8vIGJ1dCB0aGVpciBjb3JyZWN0IHZlcnNpb25zIGFyZSBub3QgaW50ZXJlc3RpbmcgZm9yIHVzXG4gIHZlcnNpb24gPSBtYXRjaFswXSA+IDAgJiYgbWF0Y2hbMF0gPCA0ID8gMSA6ICsobWF0Y2hbMF0gKyBtYXRjaFsxXSk7XG59XG5cbi8vIEJyb3dzZXJGUyBOb2RlSlMgYHByb2Nlc3NgIHBvbHlmaWxsIGluY29ycmVjdGx5IHNldCBgLnY4YCB0byBgMC4wYFxuLy8gc28gY2hlY2sgYHVzZXJBZ2VudGAgZXZlbiBpZiBgLnY4YCBleGlzdHMsIGJ1dCAwXG5pZiAoIXZlcnNpb24gJiYgdXNlckFnZW50KSB7XG4gIG1hdGNoID0gdXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLyk7XG4gIGlmICghbWF0Y2ggfHwgbWF0Y2hbMV0gPj0gNzQpIHtcbiAgICBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG4gICAgaWYgKG1hdGNoKSB2ZXJzaW9uID0gK21hdGNoWzFdO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdmVyc2lvbjtcbiIsIi8vIElFOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSBbXG4gICdjb25zdHJ1Y3RvcicsXG4gICdoYXNPd25Qcm9wZXJ0eScsXG4gICdpc1Byb3RvdHlwZU9mJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgJ3RvU3RyaW5nJyxcbiAgJ3ZhbHVlT2YnXG5dO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpLmY7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgZGVmaW5lR2xvYmFsUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWdsb2JhbC1wcm9wZXJ0eScpO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzJyk7XG52YXIgaXNGb3JjZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtZm9yY2VkJyk7XG5cbi8qXG4gIG9wdGlvbnMudGFyZ2V0ICAgICAgICAgLSBuYW1lIG9mIHRoZSB0YXJnZXQgb2JqZWN0XG4gIG9wdGlvbnMuZ2xvYmFsICAgICAgICAgLSB0YXJnZXQgaXMgdGhlIGdsb2JhbCBvYmplY3RcbiAgb3B0aW9ucy5zdGF0ICAgICAgICAgICAtIGV4cG9ydCBhcyBzdGF0aWMgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5wcm90byAgICAgICAgICAtIGV4cG9ydCBhcyBwcm90b3R5cGUgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5yZWFsICAgICAgICAgICAtIHJlYWwgcHJvdG90eXBlIG1ldGhvZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMuZm9yY2VkICAgICAgICAgLSBleHBvcnQgZXZlbiBpZiB0aGUgbmF0aXZlIGZlYXR1cmUgaXMgYXZhaWxhYmxlXG4gIG9wdGlvbnMuYmluZCAgICAgICAgICAgLSBiaW5kIG1ldGhvZHMgdG8gdGhlIHRhcmdldCwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLndyYXAgICAgICAgICAgIC0gd3JhcCBjb25zdHJ1Y3RvcnMgdG8gcHJldmVudGluZyBnbG9iYWwgcG9sbHV0aW9uLCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMudW5zYWZlICAgICAgICAgLSB1c2UgdGhlIHNpbXBsZSBhc3NpZ25tZW50IG9mIHByb3BlcnR5IGluc3RlYWQgb2YgZGVsZXRlICsgZGVmaW5lUHJvcGVydHlcbiAgb3B0aW9ucy5zaGFtICAgICAgICAgICAtIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgb3B0aW9ucy5lbnVtZXJhYmxlICAgICAtIGV4cG9ydCBhcyBlbnVtZXJhYmxlIHByb3BlcnR5XG4gIG9wdGlvbnMuZG9udENhbGxHZXRTZXQgLSBwcmV2ZW50IGNhbGxpbmcgYSBnZXR0ZXIgb24gdGFyZ2V0XG4gIG9wdGlvbnMubmFtZSAgICAgICAgICAgLSB0aGUgLm5hbWUgb2YgdGhlIGZ1bmN0aW9uIGlmIGl0IGRvZXMgbm90IG1hdGNoIHRoZSBrZXlcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcbiAgdmFyIFRBUkdFVCA9IG9wdGlvbnMudGFyZ2V0O1xuICB2YXIgR0xPQkFMID0gb3B0aW9ucy5nbG9iYWw7XG4gIHZhciBTVEFUSUMgPSBvcHRpb25zLnN0YXQ7XG4gIHZhciBGT1JDRUQsIHRhcmdldCwga2V5LCB0YXJnZXRQcm9wZXJ0eSwgc291cmNlUHJvcGVydHksIGRlc2NyaXB0b3I7XG4gIGlmIChHTE9CQUwpIHtcbiAgICB0YXJnZXQgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAoU1RBVElDKSB7XG4gICAgdGFyZ2V0ID0gZ2xvYmFsW1RBUkdFVF0gfHwgZGVmaW5lR2xvYmFsUHJvcGVydHkoVEFSR0VULCB7fSk7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0ID0gKGdsb2JhbFtUQVJHRVRdIHx8IHt9KS5wcm90b3R5cGU7XG4gIH1cbiAgaWYgKHRhcmdldCkgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgc291cmNlUHJvcGVydHkgPSBzb3VyY2Vba2V5XTtcbiAgICBpZiAob3B0aW9ucy5kb250Q2FsbEdldFNldCkge1xuICAgICAgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSk7XG4gICAgICB0YXJnZXRQcm9wZXJ0eSA9IGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci52YWx1ZTtcbiAgICB9IGVsc2UgdGFyZ2V0UHJvcGVydHkgPSB0YXJnZXRba2V5XTtcbiAgICBGT1JDRUQgPSBpc0ZvcmNlZChHTE9CQUwgPyBrZXkgOiBUQVJHRVQgKyAoU1RBVElDID8gJy4nIDogJyMnKSArIGtleSwgb3B0aW9ucy5mb3JjZWQpO1xuICAgIC8vIGNvbnRhaW5lZCBpbiB0YXJnZXRcbiAgICBpZiAoIUZPUkNFRCAmJiB0YXJnZXRQcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodHlwZW9mIHNvdXJjZVByb3BlcnR5ID09IHR5cGVvZiB0YXJnZXRQcm9wZXJ0eSkgY29udGludWU7XG4gICAgICBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKHNvdXJjZVByb3BlcnR5LCB0YXJnZXRQcm9wZXJ0eSk7XG4gICAgfVxuICAgIC8vIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgICBpZiAob3B0aW9ucy5zaGFtIHx8ICh0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHNvdXJjZVByb3BlcnR5LCAnc2hhbScsIHRydWUpO1xuICAgIH1cbiAgICBkZWZpbmVCdWlsdEluKHRhcmdldCwga2V5LCBzb3VyY2VQcm9wZXJ0eSwgb3B0aW9ucyk7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gVE9ETzogUmVtb3ZlIGZyb20gYGNvcmUtanNANGAgc2luY2UgaXQncyBtb3ZlZCB0byBlbnRyeSBwb2ludHNcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIHJlZ2V4cEV4ZWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWV4ZWMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbnZhciBSZWdFeHBQcm90b3R5cGUgPSBSZWdFeHAucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGV4ZWMsIEZPUkNFRCwgU0hBTSkge1xuICB2YXIgU1lNQk9MID0gd2VsbEtub3duU3ltYm9sKEtFWSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19TWU1CT0wgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN0cmluZyBtZXRob2RzIGNhbGwgc3ltYm9sLW5hbWVkIFJlZ0VwIG1ldGhvZHNcbiAgICB2YXIgTyA9IHt9O1xuICAgIE9bU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH07XG4gICAgcmV0dXJuICcnW0tFWV0oTykgIT0gNztcbiAgfSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19FWEVDID0gREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN5bWJvbC1uYW1lZCBSZWdFeHAgbWV0aG9kcyBjYWxsIC5leGVjXG4gICAgdmFyIGV4ZWNDYWxsZWQgPSBmYWxzZTtcbiAgICB2YXIgcmUgPSAvYS87XG5cbiAgICBpZiAoS0VZID09PSAnc3BsaXQnKSB7XG4gICAgICAvLyBXZSBjYW4ndCB1c2UgcmVhbCByZWdleCBoZXJlIHNpbmNlIGl0IGNhdXNlcyBkZW9wdGltaXphdGlvblxuICAgICAgLy8gYW5kIHNlcmlvdXMgcGVyZm9ybWFuY2UgZGVncmFkYXRpb24gaW4gVjhcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8zMDZcbiAgICAgIHJlID0ge307XG4gICAgICAvLyBSZWdFeHBbQEBzcGxpdF0gZG9lc24ndCBjYWxsIHRoZSByZWdleCdzIGV4ZWMgbWV0aG9kLCBidXQgZmlyc3QgY3JlYXRlc1xuICAgICAgLy8gYSBuZXcgb25lLiBXZSBuZWVkIHRvIHJldHVybiB0aGUgcGF0Y2hlZCByZWdleCB3aGVuIGNyZWF0aW5nIHRoZSBuZXcgb25lLlxuICAgICAgcmUuY29uc3RydWN0b3IgPSB7fTtcbiAgICAgIHJlLmNvbnN0cnVjdG9yW1NQRUNJRVNdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmU7IH07XG4gICAgICByZS5mbGFncyA9ICcnO1xuICAgICAgcmVbU1lNQk9MXSA9IC8uL1tTWU1CT0xdO1xuICAgIH1cblxuICAgIHJlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7IGV4ZWNDYWxsZWQgPSB0cnVlOyByZXR1cm4gbnVsbDsgfTtcblxuICAgIHJlW1NZTUJPTF0oJycpO1xuICAgIHJldHVybiAhZXhlY0NhbGxlZDtcbiAgfSk7XG5cbiAgaWYgKFxuICAgICFERUxFR0FURVNfVE9fU1lNQk9MIHx8XG4gICAgIURFTEVHQVRFU19UT19FWEVDIHx8XG4gICAgRk9SQ0VEXG4gICkge1xuICAgIHZhciB1bmN1cnJpZWROYXRpdmVSZWdFeHBNZXRob2QgPSB1bmN1cnJ5VGhpcygvLi9bU1lNQk9MXSk7XG4gICAgdmFyIG1ldGhvZHMgPSBleGVjKFNZTUJPTCwgJydbS0VZXSwgZnVuY3Rpb24gKG5hdGl2ZU1ldGhvZCwgcmVnZXhwLCBzdHIsIGFyZzIsIGZvcmNlU3RyaW5nTWV0aG9kKSB7XG4gICAgICB2YXIgdW5jdXJyaWVkTmF0aXZlTWV0aG9kID0gdW5jdXJyeVRoaXMobmF0aXZlTWV0aG9kKTtcbiAgICAgIHZhciAkZXhlYyA9IHJlZ2V4cC5leGVjO1xuICAgICAgaWYgKCRleGVjID09PSByZWdleHBFeGVjIHx8ICRleGVjID09PSBSZWdFeHBQcm90b3R5cGUuZXhlYykge1xuICAgICAgICBpZiAoREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZm9yY2VTdHJpbmdNZXRob2QpIHtcbiAgICAgICAgICAvLyBUaGUgbmF0aXZlIFN0cmluZyBtZXRob2QgYWxyZWFkeSBkZWxlZ2F0ZXMgdG8gQEBtZXRob2QgKHRoaXNcbiAgICAgICAgICAvLyBwb2x5ZmlsbGVkIGZ1bmN0aW9uKSwgbGVhc2luZyB0byBpbmZpbml0ZSByZWN1cnNpb24uXG4gICAgICAgICAgLy8gV2UgYXZvaWQgaXQgYnkgZGlyZWN0bHkgY2FsbGluZyB0aGUgbmF0aXZlIEBAbWV0aG9kIG1ldGhvZC5cbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5jdXJyaWVkTmF0aXZlUmVnRXhwTWV0aG9kKHJlZ2V4cCwgc3RyLCBhcmcyKSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmN1cnJpZWROYXRpdmVNZXRob2Qoc3RyLCByZWdleHAsIGFyZzIpIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBkb25lOiBmYWxzZSB9O1xuICAgIH0pO1xuXG4gICAgZGVmaW5lQnVpbHRJbihTdHJpbmcucHJvdG90eXBlLCBLRVksIG1ldGhvZHNbMF0pO1xuICAgIGRlZmluZUJ1aWx0SW4oUmVnRXhwUHJvdG90eXBlLCBTWU1CT0wsIG1ldGhvZHNbMV0pO1xuICB9XG5cbiAgaWYgKFNIQU0pIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShSZWdFeHBQcm90b3R5cGVbU1lNQk9MXSwgJ3NoYW0nLCB0cnVlKTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtaXNleHRlbnNpYmxlLCBlcy14L25vLW9iamVjdC1wcmV2ZW50ZXh0ZW5zaW9ucyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xuIiwidmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBhcHBseSA9IEZ1bmN0aW9uUHJvdG90eXBlLmFwcGx5O1xudmFyIGNhbGwgPSBGdW5jdGlvblByb3RvdHlwZS5jYWxsO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1yZWZsZWN0IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIFJlZmxlY3QgPT0gJ29iamVjdCcgJiYgUmVmbGVjdC5hcHBseSB8fCAoTkFUSVZFX0JJTkQgPyBjYWxsLmJpbmQoYXBwbHkpIDogZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY2FsbC5hcHBseShhcHBseSwgYXJndW1lbnRzKTtcbn0pO1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgTkFUSVZFX0JJTkQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1uYXRpdmUnKTtcblxudmFyIGJpbmQgPSB1bmN1cnJ5VGhpcyh1bmN1cnJ5VGhpcy5iaW5kKTtcblxuLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCkge1xuICBhQ2FsbGFibGUoZm4pO1xuICByZXR1cm4gdGhhdCA9PT0gdW5kZWZpbmVkID8gZm4gOiBOQVRJVkVfQklORCA/IGJpbmQoZm4sIHRoYXQpIDogZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1mdW5jdGlvbi1wcm90b3R5cGUtYmluZCAtLSBzYWZlXG4gIHZhciB0ZXN0ID0gKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSkuYmluZCgpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgcmV0dXJuIHR5cGVvZiB0ZXN0ICE9ICdmdW5jdGlvbicgfHwgdGVzdC5oYXNPd25Qcm9wZXJ0eSgncHJvdG90eXBlJyk7XG59KTtcbiIsInZhciBOQVRJVkVfQklORCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLW5hdGl2ZScpO1xuXG52YXIgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9CSU5EID8gY2FsbC5iaW5kKGNhbGwpIDogZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY2FsbC5hcHBseShjYWxsLCBhcmd1bWVudHMpO1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyIGdldERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG52YXIgRVhJU1RTID0gaGFzT3duKEZ1bmN0aW9uUHJvdG90eXBlLCAnbmFtZScpO1xuLy8gYWRkaXRpb25hbCBwcm90ZWN0aW9uIGZyb20gbWluaWZpZWQgLyBtYW5nbGVkIC8gZHJvcHBlZCBmdW5jdGlvbiBuYW1lc1xudmFyIFBST1BFUiA9IEVYSVNUUyAmJiAoZnVuY3Rpb24gc29tZXRoaW5nKCkgeyAvKiBlbXB0eSAqLyB9KS5uYW1lID09PSAnc29tZXRoaW5nJztcbnZhciBDT05GSUdVUkFCTEUgPSBFWElTVFMgJiYgKCFERVNDUklQVE9SUyB8fCAoREVTQ1JJUFRPUlMgJiYgZ2V0RGVzY3JpcHRvcihGdW5jdGlvblByb3RvdHlwZSwgJ25hbWUnKS5jb25maWd1cmFibGUpKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEVYSVNUUzogRVhJU1RTLFxuICBQUk9QRVI6IFBST1BFUixcbiAgQ09ORklHVVJBQkxFOiBDT05GSUdVUkFCTEVcbn07XG4iLCJ2YXIgTkFUSVZFX0JJTkQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1uYXRpdmUnKTtcblxudmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xudmFyIGJpbmQgPSBGdW5jdGlvblByb3RvdHlwZS5iaW5kO1xudmFyIGNhbGwgPSBGdW5jdGlvblByb3RvdHlwZS5jYWxsO1xudmFyIHVuY3VycnlUaGlzID0gTkFUSVZFX0JJTkQgJiYgYmluZC5iaW5kKGNhbGwsIGNhbGwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9CSU5EID8gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBmbiAmJiB1bmN1cnJ5VGhpcyhmbik7XG59IDogZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBmbiAmJiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNhbGwuYXBwbHkoZm4sIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciBhRnVuY3Rpb24gPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGlzQ2FsbGFibGUoYXJndW1lbnQpID8gYXJndW1lbnQgOiB1bmRlZmluZWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1ldGhvZCkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBhRnVuY3Rpb24oZ2xvYmFsW25hbWVzcGFjZV0pIDogZ2xvYmFsW25hbWVzcGFjZV0gJiYgZ2xvYmFsW25hbWVzcGFjZV1bbWV0aG9kXTtcbn07XG4iLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mJyk7XG52YXIgZ2V0TWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1tZXRob2QnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGdldE1ldGhvZChpdCwgSVRFUkFUT1IpXG4gICAgfHwgZ2V0TWV0aG9kKGl0LCAnQEBpdGVyYXRvcicpXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG4iLCJ2YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0cnlUb1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90cnktdG8tc3RyaW5nJyk7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQsIHVzaW5nSXRlcmF0b3IpIHtcbiAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBnZXRJdGVyYXRvck1ldGhvZChhcmd1bWVudCkgOiB1c2luZ0l0ZXJhdG9yO1xuICBpZiAoYUNhbGxhYmxlKGl0ZXJhdG9yTWV0aG9kKSkgcmV0dXJuIGFuT2JqZWN0KGNhbGwoaXRlcmF0b3JNZXRob2QsIGFyZ3VtZW50KSk7XG4gIHRocm93ICRUeXBlRXJyb3IodHJ5VG9TdHJpbmcoYXJndW1lbnQpICsgJyBpcyBub3QgaXRlcmFibGUnKTtcbn07XG4iLCJ2YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcblxuLy8gYEdldE1ldGhvZGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoViwgUCkge1xuICB2YXIgZnVuYyA9IFZbUF07XG4gIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhQ2FsbGFibGUoZnVuYyk7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xuXG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIGNoYXJBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJBdCk7XG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xudmFyIFNVQlNUSVRVVElPTl9TWU1CT0xTID0gL1xcJChbJCYnYF18XFxkezEsMn18PFtePl0qPikvZztcbnZhciBTVUJTVElUVVRJT05fU1lNQk9MU19OT19OQU1FRCA9IC9cXCQoWyQmJ2BdfFxcZHsxLDJ9KS9nO1xuXG4vLyBgR2V0U3Vic3RpdHV0aW9uYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0c3Vic3RpdHV0aW9uXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtYXRjaGVkLCBzdHIsIHBvc2l0aW9uLCBjYXB0dXJlcywgbmFtZWRDYXB0dXJlcywgcmVwbGFjZW1lbnQpIHtcbiAgdmFyIHRhaWxQb3MgPSBwb3NpdGlvbiArIG1hdGNoZWQubGVuZ3RoO1xuICB2YXIgbSA9IGNhcHR1cmVzLmxlbmd0aDtcbiAgdmFyIHN5bWJvbHMgPSBTVUJTVElUVVRJT05fU1lNQk9MU19OT19OQU1FRDtcbiAgaWYgKG5hbWVkQ2FwdHVyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIG5hbWVkQ2FwdHVyZXMgPSB0b09iamVjdChuYW1lZENhcHR1cmVzKTtcbiAgICBzeW1ib2xzID0gU1VCU1RJVFVUSU9OX1NZTUJPTFM7XG4gIH1cbiAgcmV0dXJuIHJlcGxhY2UocmVwbGFjZW1lbnQsIHN5bWJvbHMsIGZ1bmN0aW9uIChtYXRjaCwgY2gpIHtcbiAgICB2YXIgY2FwdHVyZTtcbiAgICBzd2l0Y2ggKGNoYXJBdChjaCwgMCkpIHtcbiAgICAgIGNhc2UgJyQnOiByZXR1cm4gJyQnO1xuICAgICAgY2FzZSAnJic6IHJldHVybiBtYXRjaGVkO1xuICAgICAgY2FzZSAnYCc6IHJldHVybiBzdHJpbmdTbGljZShzdHIsIDAsIHBvc2l0aW9uKTtcbiAgICAgIGNhc2UgXCInXCI6IHJldHVybiBzdHJpbmdTbGljZShzdHIsIHRhaWxQb3MpO1xuICAgICAgY2FzZSAnPCc6XG4gICAgICAgIGNhcHR1cmUgPSBuYW1lZENhcHR1cmVzW3N0cmluZ1NsaWNlKGNoLCAxLCAtMSldO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6IC8vIFxcZFxcZD9cbiAgICAgICAgdmFyIG4gPSArY2g7XG4gICAgICAgIGlmIChuID09PSAwKSByZXR1cm4gbWF0Y2g7XG4gICAgICAgIGlmIChuID4gbSkge1xuICAgICAgICAgIHZhciBmID0gZmxvb3IobiAvIDEwKTtcbiAgICAgICAgICBpZiAoZiA9PT0gMCkgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgIGlmIChmIDw9IG0pIHJldHVybiBjYXB0dXJlc1tmIC0gMV0gPT09IHVuZGVmaW5lZCA/IGNoYXJBdChjaCwgMSkgOiBjYXB0dXJlc1tmIC0gMV0gKyBjaGFyQXQoY2gsIDEpO1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBjYXB0dXJlID0gY2FwdHVyZXNbbiAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gY2FwdHVyZSA9PT0gdW5kZWZpbmVkID8gJycgOiBjYXB0dXJlO1xuICB9KTtcbn07XG4iLCJ2YXIgY2hlY2sgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICYmIGl0Lk1hdGggPT0gTWF0aCAmJiBpdDtcbn07XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5tb2R1bGUuZXhwb3J0cyA9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLWdsb2JhbC10aGlzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmKSB8fFxuICBjaGVjayh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jIC0tIGZhbGxiYWNrXG4gIChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSgpIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKHt9Lmhhc093blByb3BlcnR5KTtcblxuLy8gYEhhc093blByb3BlcnR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaGFzb3ducHJvcGVydHlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1oYXNvd24gLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuaGFzT3duIHx8IGZ1bmN0aW9uIGhhc093bihpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eSh0b09iamVjdChpdCksIGtleSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcbiIsInZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEJ1aWx0SW4oJ2RvY3VtZW50JywgJ2RvY3VtZW50RWxlbWVudCcpO1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG5cbi8vIFRoYW5rcyB0byBJRTggZm9yIGl0cyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhREVTQ1JJUFRPUlMgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG52YXIgc3BsaXQgPSB1bmN1cnJ5VGhpcygnJy5zcGxpdCk7XG5cbi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5tb2R1bGUuZXhwb3J0cyA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gdGhyb3dzIGFuIGVycm9yIGluIHJoaW5vLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvcmhpbm8vaXNzdWVzLzM0NlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgcmV0dXJuICEkT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCk7XG59KSA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY2xhc3NvZihpdCkgPT0gJ1N0cmluZycgPyBzcGxpdChpdCwgJycpIDogJE9iamVjdChpdCk7XG59IDogJE9iamVjdDtcbiIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXNldC1wcm90b3R5cGUtb2YnKTtcblxuLy8gbWFrZXMgc3ViY2xhc3Npbmcgd29yayBjb3JyZWN0IGZvciB3cmFwcGVkIGJ1aWx0LWluc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJHRoaXMsIGR1bW15LCBXcmFwcGVyKSB7XG4gIHZhciBOZXdUYXJnZXQsIE5ld1RhcmdldFByb3RvdHlwZTtcbiAgaWYgKFxuICAgIC8vIGl0IGNhbiB3b3JrIG9ubHkgd2l0aCBuYXRpdmUgYHNldFByb3RvdHlwZU9mYFxuICAgIHNldFByb3RvdHlwZU9mICYmXG4gICAgLy8gd2UgaGF2ZW4ndCBjb21wbGV0ZWx5IGNvcnJlY3QgcHJlLUVTNiB3YXkgZm9yIGdldHRpbmcgYG5ldy50YXJnZXRgLCBzbyB1c2UgdGhpc1xuICAgIGlzQ2FsbGFibGUoTmV3VGFyZ2V0ID0gZHVtbXkuY29uc3RydWN0b3IpICYmXG4gICAgTmV3VGFyZ2V0ICE9PSBXcmFwcGVyICYmXG4gICAgaXNPYmplY3QoTmV3VGFyZ2V0UHJvdG90eXBlID0gTmV3VGFyZ2V0LnByb3RvdHlwZSkgJiZcbiAgICBOZXdUYXJnZXRQcm90b3R5cGUgIT09IFdyYXBwZXIucHJvdG90eXBlXG4gICkgc2V0UHJvdG90eXBlT2YoJHRoaXMsIE5ld1RhcmdldFByb3RvdHlwZSk7XG4gIHJldHVybiAkdGhpcztcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIHN0b3JlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xuXG52YXIgZnVuY3Rpb25Ub1N0cmluZyA9IHVuY3VycnlUaGlzKEZ1bmN0aW9uLnRvU3RyaW5nKTtcblxuLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGBjb3JlLWpzQDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKCFpc0NhbGxhYmxlKHN0b3JlLmluc3BlY3RTb3VyY2UpKSB7XG4gIHN0b3JlLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZyhpdCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmUuaW5zcGVjdFNvdXJjZTtcbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGlkZGVuLWtleXMnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKS5mO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWxNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMtZXh0ZXJuYWwnKTtcbnZhciBpc0V4dGVuc2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLWV4dGVuc2libGUnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdWlkJyk7XG52YXIgRlJFRVpJTkcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnJlZXppbmcnKTtcblxudmFyIFJFUVVJUkVEID0gZmFsc2U7XG52YXIgTUVUQURBVEEgPSB1aWQoJ21ldGEnKTtcbnZhciBpZCA9IDA7XG5cbnZhciBzZXRNZXRhZGF0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBkZWZpbmVQcm9wZXJ0eShpdCwgTUVUQURBVEEsIHsgdmFsdWU6IHtcbiAgICBvYmplY3RJRDogJ08nICsgaWQrKywgLy8gb2JqZWN0IElEXG4gICAgd2Vha0RhdGE6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xuXG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBhIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYgKCFoYXNPd24oaXQsIE1FVEFEQVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhZGF0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQURBVEFdLm9iamVjdElEO1xufTtcblxudmFyIGdldFdlYWtEYXRhID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXNPd24oaXQsIE1FVEFEQVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhZGF0YShpdCk7XG4gIC8vIHJldHVybiB0aGUgc3RvcmUgb2Ygd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQURBVEFdLndlYWtEYXRhO1xufTtcblxuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKEZSRUVaSU5HICYmIFJFUVVJUkVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhc093bihpdCwgTUVUQURBVEEpKSBzZXRNZXRhZGF0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG5cbnZhciBlbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gIG1ldGEuZW5hYmxlID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuICBSRVFVSVJFRCA9IHRydWU7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mO1xuICB2YXIgc3BsaWNlID0gdW5jdXJyeVRoaXMoW10uc3BsaWNlKTtcbiAgdmFyIHRlc3QgPSB7fTtcbiAgdGVzdFtNRVRBREFUQV0gPSAxO1xuXG4gIC8vIHByZXZlbnQgZXhwb3Npbmcgb2YgbWV0YWRhdGEga2V5XG4gIGlmIChnZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QpLmxlbmd0aCkge1xuICAgIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUuZiA9IGZ1bmN0aW9uIChpdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE93blByb3BlcnR5TmFtZXMoaXQpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocmVzdWx0W2ldID09PSBNRVRBREFUQSkge1xuICAgICAgICAgIHNwbGljZShyZXN1bHQsIGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgICQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IHRydWUgfSwge1xuICAgICAgZ2V0T3duUHJvcGVydHlOYW1lczogZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsTW9kdWxlLmZcbiAgICB9KTtcbiAgfVxufTtcblxudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgZW5hYmxlOiBlbmFibGUsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWtEYXRhOiBnZXRXZWFrRGF0YSxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuXG5oaWRkZW5LZXlzW01FVEFEQVRBXSA9IHRydWU7XG4iLCJ2YXIgTkFUSVZFX1dFQUtfTUFQID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25hdGl2ZS13ZWFrLW1hcCcpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlJyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG5cbnZhciBPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCA9ICdPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZCc7XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG52YXIgc2V0LCBnZXQsIGhhcztcblxudmFyIGVuZm9yY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGhhcyhpdCkgPyBnZXQoaXQpIDogc2V0KGl0LCB7fSk7XG59O1xuXG52YXIgZ2V0dGVyRm9yID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBzdGF0ZTtcbiAgICBpZiAoIWlzT2JqZWN0KGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ0luY29tcGF0aWJsZSByZWNlaXZlciwgJyArIFRZUEUgKyAnIHJlcXVpcmVkJyk7XG4gICAgfSByZXR1cm4gc3RhdGU7XG4gIH07XG59O1xuXG5pZiAoTkFUSVZFX1dFQUtfTUFQIHx8IHNoYXJlZC5zdGF0ZSkge1xuICB2YXIgc3RvcmUgPSBzaGFyZWQuc3RhdGUgfHwgKHNoYXJlZC5zdGF0ZSA9IG5ldyBXZWFrTWFwKCkpO1xuICB2YXIgd21nZXQgPSB1bmN1cnJ5VGhpcyhzdG9yZS5nZXQpO1xuICB2YXIgd21oYXMgPSB1bmN1cnJ5VGhpcyhzdG9yZS5oYXMpO1xuICB2YXIgd21zZXQgPSB1bmN1cnJ5VGhpcyhzdG9yZS5zZXQpO1xuICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgaWYgKHdtaGFzKHN0b3JlLCBpdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgIHdtc2V0KHN0b3JlLCBpdCwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtZ2V0KHN0b3JlLCBpdCkgfHwge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiB3bWhhcyhzdG9yZSwgaXQpO1xuICB9O1xufSBlbHNlIHtcbiAgdmFyIFNUQVRFID0gc2hhcmVkS2V5KCdzdGF0ZScpO1xuICBoaWRkZW5LZXlzW1NUQVRFXSA9IHRydWU7XG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBpZiAoaGFzT3duKGl0LCBTVEFURSkpIHRocm93IG5ldyBUeXBlRXJyb3IoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShpdCwgU1RBVEUsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH07XG4gIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBoYXNPd24oaXQsIFNUQVRFKSA/IGl0W1NUQVRFXSA6IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaGFzT3duKGl0LCBTVEFURSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IHNldCxcbiAgZ2V0OiBnZXQsXG4gIGhhczogaGFzLFxuICBlbmZvcmNlOiBlbmZvcmNlLFxuICBnZXR0ZXJGb3I6IGdldHRlckZvclxufTtcbiIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b3R5cGVbSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcblxuLy8gYElzQXJyYXlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1hcnJheS1pc2FycmF5IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZ3VtZW50KSB7XG4gIHJldHVybiBjbGFzc29mKGFyZ3VtZW50KSA9PSAnQXJyYXknO1xufTtcbiIsIi8vIGBJc0NhbGxhYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PSAnZnVuY3Rpb24nO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGluc3BlY3RTb3VyY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UnKTtcblxudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG52YXIgZW1wdHkgPSBbXTtcbnZhciBjb25zdHJ1Y3QgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ2NvbnN0cnVjdCcpO1xudmFyIGNvbnN0cnVjdG9yUmVnRXhwID0gL15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLztcbnZhciBleGVjID0gdW5jdXJyeVRoaXMoY29uc3RydWN0b3JSZWdFeHAuZXhlYyk7XG52YXIgSU5DT1JSRUNUX1RPX1NUUklORyA9ICFjb25zdHJ1Y3RvclJlZ0V4cC5leGVjKG5vb3ApO1xuXG52YXIgaXNDb25zdHJ1Y3Rvck1vZGVybiA9IGZ1bmN0aW9uIGlzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgaWYgKCFpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGZhbHNlO1xuICB0cnkge1xuICAgIGNvbnN0cnVjdChub29wLCBlbXB0eSwgYXJndW1lbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxudmFyIGlzQ29uc3RydWN0b3JMZWdhY3kgPSBmdW5jdGlvbiBpc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7XG4gIGlmICghaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBmYWxzZTtcbiAgc3dpdGNoIChjbGFzc29mKGFyZ3VtZW50KSkge1xuICAgIGNhc2UgJ0FzeW5jRnVuY3Rpb24nOlxuICAgIGNhc2UgJ0dlbmVyYXRvckZ1bmN0aW9uJzpcbiAgICBjYXNlICdBc3luY0dlbmVyYXRvckZ1bmN0aW9uJzogcmV0dXJuIGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gd2UgY2FuJ3QgY2hlY2sgLnByb3RvdHlwZSBzaW5jZSBjb25zdHJ1Y3RvcnMgcHJvZHVjZWQgYnkgLmJpbmQgaGF2ZW4ndCBpdFxuICAgIC8vIGBGdW5jdGlvbiN0b1N0cmluZ2AgdGhyb3dzIG9uIHNvbWUgYnVpbHQtaXQgZnVuY3Rpb24gaW4gc29tZSBsZWdhY3kgZW5naW5lc1xuICAgIC8vIChmb3IgZXhhbXBsZSwgYERPTVF1YWRgIGFuZCBzaW1pbGFyIGluIEZGNDEtKVxuICAgIHJldHVybiBJTkNPUlJFQ1RfVE9fU1RSSU5HIHx8ICEhZXhlYyhjb25zdHJ1Y3RvclJlZ0V4cCwgaW5zcGVjdFNvdXJjZShhcmd1bWVudCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5pc0NvbnN0cnVjdG9yTGVnYWN5LnNoYW0gPSB0cnVlO1xuXG4vLyBgSXNDb25zdHJ1Y3RvcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3Jcbm1vZHVsZS5leHBvcnRzID0gIWNvbnN0cnVjdCB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBjYWxsZWQ7XG4gIHJldHVybiBpc0NvbnN0cnVjdG9yTW9kZXJuKGlzQ29uc3RydWN0b3JNb2Rlcm4uY2FsbClcbiAgICB8fCAhaXNDb25zdHJ1Y3Rvck1vZGVybihPYmplY3QpXG4gICAgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlOyB9KVxuICAgIHx8IGNhbGxlZDtcbn0pID8gaXNDb25zdHJ1Y3RvckxlZ2FjeSA6IGlzQ29uc3RydWN0b3JNb2Rlcm47XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciByZXBsYWNlbWVudCA9IC8jfFxcLnByb3RvdHlwZVxcLi87XG5cbnZhciBpc0ZvcmNlZCA9IGZ1bmN0aW9uIChmZWF0dXJlLCBkZXRlY3Rpb24pIHtcbiAgdmFyIHZhbHVlID0gZGF0YVtub3JtYWxpemUoZmVhdHVyZSldO1xuICByZXR1cm4gdmFsdWUgPT0gUE9MWUZJTEwgPyB0cnVlXG4gICAgOiB2YWx1ZSA9PSBOQVRJVkUgPyBmYWxzZVxuICAgIDogaXNDYWxsYWJsZShkZXRlY3Rpb24pID8gZmFpbHMoZGV0ZWN0aW9uKVxuICAgIDogISFkZXRlY3Rpb247XG59O1xuXG52YXIgbm9ybWFsaXplID0gaXNGb3JjZWQubm9ybWFsaXplID0gZnVuY3Rpb24gKHN0cmluZykge1xuICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZShyZXBsYWNlbWVudCwgJy4nKS50b0xvd2VyQ2FzZSgpO1xufTtcblxudmFyIGRhdGEgPSBpc0ZvcmNlZC5kYXRhID0ge307XG52YXIgTkFUSVZFID0gaXNGb3JjZWQuTkFUSVZFID0gJ04nO1xudmFyIFBPTFlGSUxMID0gaXNGb3JjZWQuUE9MWUZJTEwgPSAnUCc7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGb3JjZWQ7XG4iLCJ2YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiBpc0NhbGxhYmxlKGl0KTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIFVTRV9TWU1CT0xfQVNfVUlEID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VzZS1zeW1ib2wtYXMtdWlkJyk7XG5cbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVTRV9TWU1CT0xfQVNfVUlEID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHZhciAkU3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJyk7XG4gIHJldHVybiBpc0NhbGxhYmxlKCRTeW1ib2wpICYmIGlzUHJvdG90eXBlT2YoJFN5bWJvbC5wcm90b3R5cGUsICRPYmplY3QoaXQpKTtcbn07XG4iLCJ2YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0cnlUb1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90cnktdG8tc3RyaW5nJyk7XG52YXIgaXNBcnJheUl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgZ2V0SXRlcmF0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yJyk7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIGl0ZXJhdG9yQ2xvc2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItY2xvc2UnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbnZhciBSZXN1bHQgPSBmdW5jdGlvbiAoc3RvcHBlZCwgcmVzdWx0KSB7XG4gIHRoaXMuc3RvcHBlZCA9IHN0b3BwZWQ7XG4gIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xufTtcblxudmFyIFJlc3VsdFByb3RvdHlwZSA9IFJlc3VsdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCB1bmJvdW5kRnVuY3Rpb24sIG9wdGlvbnMpIHtcbiAgdmFyIHRoYXQgPSBvcHRpb25zICYmIG9wdGlvbnMudGhhdDtcbiAgdmFyIEFTX0VOVFJJRVMgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuQVNfRU5UUklFUyk7XG4gIHZhciBJU19JVEVSQVRPUiA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JU19JVEVSQVRPUik7XG4gIHZhciBJTlRFUlJVUFRFRCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JTlRFUlJVUFRFRCk7XG4gIHZhciBmbiA9IGJpbmQodW5ib3VuZEZ1bmN0aW9uLCB0aGF0KTtcbiAgdmFyIGl0ZXJhdG9yLCBpdGVyRm4sIGluZGV4LCBsZW5ndGgsIHJlc3VsdCwgbmV4dCwgc3RlcDtcblxuICB2YXIgc3RvcCA9IGZ1bmN0aW9uIChjb25kaXRpb24pIHtcbiAgICBpZiAoaXRlcmF0b3IpIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsICdub3JtYWwnLCBjb25kaXRpb24pO1xuICAgIHJldHVybiBuZXcgUmVzdWx0KHRydWUsIGNvbmRpdGlvbik7XG4gIH07XG5cbiAgdmFyIGNhbGxGbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChBU19FTlRSSUVTKSB7XG4gICAgICBhbk9iamVjdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gSU5URVJSVVBURUQgPyBmbih2YWx1ZVswXSwgdmFsdWVbMV0sIHN0b3ApIDogZm4odmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICB9IHJldHVybiBJTlRFUlJVUFRFRCA/IGZuKHZhbHVlLCBzdG9wKSA6IGZuKHZhbHVlKTtcbiAgfTtcblxuICBpZiAoSVNfSVRFUkFUT1IpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhYmxlO1xuICB9IGVsc2Uge1xuICAgIGl0ZXJGbiA9IGdldEl0ZXJhdG9yTWV0aG9kKGl0ZXJhYmxlKTtcbiAgICBpZiAoIWl0ZXJGbikgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhpdGVyYWJsZSkgKyAnIGlzIG5vdCBpdGVyYWJsZScpO1xuICAgIC8vIG9wdGltaXNhdGlvbiBmb3IgYXJyYXkgaXRlcmF0b3JzXG4gICAgaWYgKGlzQXJyYXlJdGVyYXRvck1ldGhvZChpdGVyRm4pKSB7XG4gICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoaXRlcmFibGUpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICByZXN1bHQgPSBjYWxsRm4oaXRlcmFibGVbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCAmJiBpc1Byb3RvdHlwZU9mKFJlc3VsdFByb3RvdHlwZSwgcmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xuICAgIH1cbiAgICBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlLCBpdGVyRm4pO1xuICB9XG5cbiAgbmV4dCA9IGl0ZXJhdG9yLm5leHQ7XG4gIHdoaWxlICghKHN0ZXAgPSBjYWxsKG5leHQsIGl0ZXJhdG9yKSkuZG9uZSkge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBjYWxsRm4oc3RlcC52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsICd0aHJvdycsIGVycm9yKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ29iamVjdCcgJiYgcmVzdWx0ICYmIGlzUHJvdG90eXBlT2YoUmVzdWx0UHJvdG90eXBlLCByZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICB9IHJldHVybiBuZXcgUmVzdWx0KGZhbHNlKTtcbn07XG4iLCJ2YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgZ2V0TWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1tZXRob2QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGtpbmQsIHZhbHVlKSB7XG4gIHZhciBpbm5lclJlc3VsdCwgaW5uZXJFcnJvcjtcbiAgYW5PYmplY3QoaXRlcmF0b3IpO1xuICB0cnkge1xuICAgIGlubmVyUmVzdWx0ID0gZ2V0TWV0aG9kKGl0ZXJhdG9yLCAncmV0dXJuJyk7XG4gICAgaWYgKCFpbm5lclJlc3VsdCkge1xuICAgICAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpbm5lclJlc3VsdCA9IGNhbGwoaW5uZXJSZXN1bHQsIGl0ZXJhdG9yKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpbm5lckVycm9yID0gdHJ1ZTtcbiAgICBpbm5lclJlc3VsdCA9IGVycm9yO1xuICB9XG4gIGlmIChraW5kID09PSAndGhyb3cnKSB0aHJvdyB2YWx1ZTtcbiAgaWYgKGlubmVyRXJyb3IpIHRocm93IGlubmVyUmVzdWx0O1xuICBhbk9iamVjdChpbm5lclJlc3VsdCk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LXByb3RvdHlwZS1vZicpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gZmFsc2U7XG5cbi8vIGAlSXRlcmF0b3JQcm90b3R5cGUlYCBvYmplY3Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1vYmplY3RcbnZhciBJdGVyYXRvclByb3RvdHlwZSwgUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlLCBhcnJheUl0ZXJhdG9yO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLWFycmF5LXByb3RvdHlwZS1rZXlzIC0tIHNhZmUgKi9cbmlmIChbXS5rZXlzKSB7XG4gIGFycmF5SXRlcmF0b3IgPSBbXS5rZXlzKCk7XG4gIC8vIFNhZmFyaSA4IGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICBpZiAoISgnbmV4dCcgaW4gYXJyYXlJdGVyYXRvcikpIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSB0cnVlO1xuICBlbHNlIHtcbiAgICBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihnZXRQcm90b3R5cGVPZihhcnJheUl0ZXJhdG9yKSk7XG4gICAgaWYgKFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkgSXRlcmF0b3JQcm90b3R5cGUgPSBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cbn1cblxudmFyIE5FV19JVEVSQVRPUl9QUk9UT1RZUEUgPSBJdGVyYXRvclByb3RvdHlwZSA9PSB1bmRlZmluZWQgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgdGVzdCA9IHt9O1xuICAvLyBGRjQ0LSBsZWdhY3kgaXRlcmF0b3JzIGNhc2VcbiAgcmV0dXJuIEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXS5jYWxsKHRlc3QpICE9PSB0ZXN0O1xufSk7XG5cbmlmIChORVdfSVRFUkFUT1JfUFJPVE9UWVBFKSBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuZWxzZSBpZiAoSVNfUFVSRSkgSXRlcmF0b3JQcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1AQGl0ZXJhdG9yXG5pZiAoIWlzQ2FsbGFibGUoSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdKSkge1xuICBkZWZpbmVCdWlsdEluKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEl0ZXJhdG9yUHJvdG90eXBlOiBJdGVyYXRvclByb3RvdHlwZSxcbiAgQlVHR1lfU0FGQVJJX0lURVJBVE9SUzogQlVHR1lfU0FGQVJJX0lURVJBVE9SU1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307XG4iLCJ2YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG5cbi8vIGBMZW5ndGhPZkFycmF5TGlrZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWxlbmd0aG9mYXJyYXlsaWtlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHRvTGVuZ3RoKG9iai5sZW5ndGgpO1xufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgQ09ORklHVVJBQkxFX0ZVTkNUSU9OX05BTUUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tbmFtZScpLkNPTkZJR1VSQUJMRTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xuXG52YXIgZW5mb3JjZUludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmVuZm9yY2U7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxudmFyIENPTkZJR1VSQUJMRV9MRU5HVEggPSBERVNDUklQVE9SUyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCAnbGVuZ3RoJywgeyB2YWx1ZTogOCB9KS5sZW5ndGggIT09IDg7XG59KTtcblxudmFyIFRFTVBMQVRFID0gU3RyaW5nKFN0cmluZykuc3BsaXQoJ1N0cmluZycpO1xuXG52YXIgbWFrZUJ1aWx0SW4gPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSwgbmFtZSwgb3B0aW9ucykge1xuICBpZiAoU3RyaW5nKG5hbWUpLnNsaWNlKDAsIDcpID09PSAnU3ltYm9sKCcpIHtcbiAgICBuYW1lID0gJ1snICsgU3RyaW5nKG5hbWUpLnJlcGxhY2UoL15TeW1ib2xcXCgoW14pXSopXFwpLywgJyQxJykgKyAnXSc7XG4gIH1cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nZXR0ZXIpIG5hbWUgPSAnZ2V0ICcgKyBuYW1lO1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnNldHRlcikgbmFtZSA9ICdzZXQgJyArIG5hbWU7XG4gIGlmICghaGFzT3duKHZhbHVlLCAnbmFtZScpIHx8IChDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSAmJiB2YWx1ZS5uYW1lICE9PSBuYW1lKSkge1xuICAgIGRlZmluZVByb3BlcnR5KHZhbHVlLCAnbmFtZScsIHsgdmFsdWU6IG5hbWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgfVxuICBpZiAoQ09ORklHVVJBQkxFX0xFTkdUSCAmJiBvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAnYXJpdHknKSAmJiB2YWx1ZS5sZW5ndGggIT09IG9wdGlvbnMuYXJpdHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ2xlbmd0aCcsIHsgdmFsdWU6IG9wdGlvbnMuYXJpdHkgfSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgJ2NvbnN0cnVjdG9yJykgJiYgb3B0aW9ucy5jb25zdHJ1Y3Rvcikge1xuICAgICAgaWYgKERFU0NSSVBUT1JTKSBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ3Byb3RvdHlwZScsIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuICAgIC8vIGluIFY4IH4gQ2hyb21lIDUzLCBwcm90b3R5cGVzIG9mIHNvbWUgbWV0aG9kcywgbGlrZSBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AsIGFyZSBub24td3JpdGFibGVcbiAgICB9IGVsc2UgaWYgKHZhbHVlLnByb3RvdHlwZSkgdmFsdWUucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHZhciBzdGF0ZSA9IGVuZm9yY2VJbnRlcm5hbFN0YXRlKHZhbHVlKTtcbiAgaWYgKCFoYXNPd24oc3RhdGUsICdzb3VyY2UnKSkge1xuICAgIHN0YXRlLnNvdXJjZSA9IFRFTVBMQVRFLmpvaW4odHlwZW9mIG5hbWUgPT0gJ3N0cmluZycgPyBuYW1lIDogJycpO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG5cbi8vIGFkZCBmYWtlIEZ1bmN0aW9uI3RvU3RyaW5nIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dGVuZC1uYXRpdmUgLS0gcmVxdWlyZWRcbkZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IG1ha2VCdWlsdEluKGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gaXNDYWxsYWJsZSh0aGlzKSAmJiBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLnNvdXJjZSB8fCBpbnNwZWN0U291cmNlKHRoaXMpO1xufSwgJ3RvU3RyaW5nJyk7XG4iLCJ2YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cbi8vIGBNYXRoLnRydW5jYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWF0aC50cnVuY1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tbWF0aC10cnVuYyAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgudHJ1bmMgfHwgZnVuY3Rpb24gdHJ1bmMoeCkge1xuICB2YXIgbiA9ICt4O1xuICByZXR1cm4gKG4gPiAwID8gZmxvb3IgOiBjZWlsKShuKTtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xudmFyIFY4X1ZFUlNJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5tb2R1bGUuZXhwb3J0cyA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgc3ltYm9sID0gU3ltYm9sKCk7XG4gIC8vIENocm9tZSAzOCBTeW1ib2wgaGFzIGluY29ycmVjdCB0b1N0cmluZyBjb252ZXJzaW9uXG4gIC8vIGBnZXQtb3duLXByb3BlcnR5LXN5bWJvbHNgIHBvbHlmaWxsIHN5bWJvbHMgY29udmVydGVkIHRvIG9iamVjdCBhcmUgbm90IFN5bWJvbCBpbnN0YW5jZXNcbiAgcmV0dXJuICFTdHJpbmcoc3ltYm9sKSB8fCAhKE9iamVjdChzeW1ib2wpIGluc3RhbmNlb2YgU3ltYm9sKSB8fFxuICAgIC8vIENocm9tZSAzOC00MCBzeW1ib2xzIGFyZSBub3QgaW5oZXJpdGVkIGZyb20gRE9NIGNvbGxlY3Rpb25zIHByb3RvdHlwZXMgdG8gaW5zdGFuY2VzXG4gICAgIVN5bWJvbC5zaGFtICYmIFY4X1ZFUlNJT04gJiYgVjhfVkVSU0lPTiA8IDQxO1xufSk7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNDYWxsYWJsZShXZWFrTWFwKSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoaW5zcGVjdFNvdXJjZShXZWFrTWFwKSk7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgdHJpbSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctdHJpbScpLnRyaW07XG52YXIgd2hpdGVzcGFjZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2hpdGVzcGFjZXMnKTtcblxudmFyICRwYXJzZUludCA9IGdsb2JhbC5wYXJzZUludDtcbnZhciBTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyIElURVJBVE9SID0gU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcjtcbnZhciBoZXggPSAvXlsrLV0/MHgvaTtcbnZhciBleGVjID0gdW5jdXJyeVRoaXMoaGV4LmV4ZWMpO1xudmFyIEZPUkNFRCA9ICRwYXJzZUludCh3aGl0ZXNwYWNlcyArICcwOCcpICE9PSA4IHx8ICRwYXJzZUludCh3aGl0ZXNwYWNlcyArICcweDE2JykgIT09IDIyXG4gIC8vIE1TIEVkZ2UgMTgtIGJyb2tlbiB3aXRoIGJveGVkIHN5bWJvbHNcbiAgfHwgKElURVJBVE9SICYmICFmYWlscyhmdW5jdGlvbiAoKSB7ICRwYXJzZUludChPYmplY3QoSVRFUkFUT1IpKTsgfSkpO1xuXG4vLyBgcGFyc2VJbnRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wYXJzZWludC1zdHJpbmctcmFkaXhcbm1vZHVsZS5leHBvcnRzID0gRk9SQ0VEID8gZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCkge1xuICB2YXIgUyA9IHRyaW0odG9TdHJpbmcoc3RyaW5nKSk7XG4gIHJldHVybiAkcGFyc2VJbnQoUywgKHJhZGl4ID4+PiAwKSB8fCAoZXhlYyhoZXgsIFMpID8gMTYgOiAxMCkpO1xufSA6ICRwYXJzZUludDtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgb2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cycpO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzJyk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBJbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0Jyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1hc3NpZ24gLS0gc2FmZVxudmFyICRhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgY29uY2F0ID0gdW5jdXJyeVRoaXMoW10uY29uY2F0KTtcblxuLy8gYE9iamVjdC5hc3NpZ25gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gc2hvdWxkIGhhdmUgY29ycmVjdCBvcmRlciBvZiBvcGVyYXRpb25zIChFZGdlIGJ1ZylcbiAgaWYgKERFU0NSSVBUT1JTICYmICRhc3NpZ24oeyBiOiAxIH0sICRhc3NpZ24oZGVmaW5lUHJvcGVydHkoe30sICdhJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYicsIHtcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pLCB7IGI6IDIgfSkpLmIgIT09IDEpIHJldHVybiB0cnVlO1xuICAvLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1ZylcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tc3ltYm9sIC0tIHNhZmVcbiAgdmFyIHN5bWJvbCA9IFN5bWJvbCgpO1xuICB2YXIgYWxwaGFiZXQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW3N5bWJvbF0gPSA3O1xuICBhbHBoYWJldC5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoY2hyKSB7IEJbY2hyXSA9IGNocjsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtzeW1ib2xdICE9IDcgfHwgb2JqZWN0S2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gYWxwaGFiZXQ7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMTtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICB2YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mO1xuICB3aGlsZSAoYXJndW1lbnRzTGVuZ3RoID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IEluZGV4ZWRPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5U3ltYm9scyA/IGNvbmNhdChvYmplY3RLZXlzKFMpLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoUykpIDogb2JqZWN0S2V5cyhTKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgIGtleSA9IGtleXNbaisrXTtcbiAgICAgIGlmICghREVTQ1JJUFRPUlMgfHwgY2FsbChwcm9wZXJ0eUlzRW51bWVyYWJsZSwgUywga2V5KSkgVFtrZXldID0gU1trZXldO1xuICAgIH1cbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuIiwiLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgLS0gb2xkIElFLCBXU0ggKi9cbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydGllcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VudW0tYnVnLWtleXMnKTtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG52YXIgaHRtbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9odG1sJyk7XG52YXIgZG9jdW1lbnRDcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcblxudmFyIEdUID0gJz4nO1xudmFyIExUID0gJzwnO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIFNDUklQVCA9ICdzY3JpcHQnO1xudmFyIElFX1BST1RPID0gc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xuXG52YXIgRW1wdHlDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcblxudmFyIHNjcmlwdFRhZyA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gIHJldHVybiBMVCArIFNDUklQVCArIEdUICsgY29udGVudCArIExUICsgJy8nICsgU0NSSVBUICsgR1Q7XG59O1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgQWN0aXZlWCBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVggPSBmdW5jdGlvbiAoYWN0aXZlWERvY3VtZW50KSB7XG4gIGFjdGl2ZVhEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJycpKTtcbiAgYWN0aXZlWERvY3VtZW50LmNsb3NlKCk7XG4gIHZhciB0ZW1wID0gYWN0aXZlWERvY3VtZW50LnBhcmVudFdpbmRvdy5PYmplY3Q7XG4gIGFjdGl2ZVhEb2N1bWVudCA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrXG4gIHJldHVybiB0ZW1wO1xufTtcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUlGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gIHZhciBKUyA9ICdqYXZhJyArIFNDUklQVCArICc6JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgaHRtbC5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNDc1XG4gIGlmcmFtZS5zcmMgPSBTdHJpbmcoSlMpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnZG9jdW1lbnQuRj1PYmplY3QnKSk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIHJldHVybiBpZnJhbWVEb2N1bWVudC5GO1xufTtcblxuLy8gQ2hlY2sgZm9yIGRvY3VtZW50LmRvbWFpbiBhbmQgYWN0aXZlIHggc3VwcG9ydFxuLy8gTm8gbmVlZCB0byB1c2UgYWN0aXZlIHggYXBwcm9hY2ggd2hlbiBkb2N1bWVudC5kb21haW4gaXMgbm90IHNldFxuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbS9pc3N1ZXMvMTUwXG4vLyB2YXJpYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL2tpdGNhbWJyaWRnZS9lczUtc2hpbS9jb21taXQvNGY3MzhhYzA2NjM0NlxuLy8gYXZvaWQgSUUgR0MgYnVnXG52YXIgYWN0aXZlWERvY3VtZW50O1xudmFyIE51bGxQcm90b09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBhY3RpdmVYRG9jdW1lbnQgPSBuZXcgQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogaWdub3JlICovIH1cbiAgTnVsbFByb3RvT2JqZWN0ID0gdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnXG4gICAgPyBkb2N1bWVudC5kb21haW4gJiYgYWN0aXZlWERvY3VtZW50XG4gICAgICA/IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KSAvLyBvbGQgSUVcbiAgICAgIDogTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lKClcbiAgICA6IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KTsgLy8gV1NIXG4gIHZhciBsZW5ndGggPSBlbnVtQnVnS2V5cy5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkgZGVsZXRlIE51bGxQcm90b09iamVjdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2xlbmd0aF1dO1xuICByZXR1cm4gTnVsbFByb3RvT2JqZWN0KCk7XG59O1xuXG5oaWRkZW5LZXlzW0lFX1BST1RPXSA9IHRydWU7XG5cbi8vIGBPYmplY3QuY3JlYXRlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWNyZWF0ZSAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKE8gIT09IG51bGwpIHtcbiAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHlDb25zdHJ1Y3RvcigpO1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gTnVsbFByb3RvT2JqZWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlLmYocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy92OC1wcm90b3R5cGUtZGVmaW5lLWJ1ZycpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBvYmplY3RLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1rZXlzJyk7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydGllc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydGllcyAtLSBzYWZlXG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyAmJiAhVjhfUFJPVE9UWVBFX0RFRklORV9CVUcgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIHByb3BzID0gdG9JbmRleGVkT2JqZWN0KFByb3BlcnRpZXMpO1xuICB2YXIga2V5cyA9IG9iamVjdEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIHByb3BzW2tleV0pO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pZTgtZG9tLWRlZmluZScpO1xudmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Y4LXByb3RvdHlwZS1kZWZpbmUtYnVnJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgdG9Qcm9wZXJ0eUtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXknKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIEVOVU1FUkFCTEUgPSAnZW51bWVyYWJsZSc7XG52YXIgQ09ORklHVVJBQkxFID0gJ2NvbmZpZ3VyYWJsZSc7XG52YXIgV1JJVEFCTEUgPSAnd3JpdGFibGUnO1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnR5XG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyA/IFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID8gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAodHlwZW9mIE8gPT09ICdmdW5jdGlvbicgJiYgUCA9PT0gJ3Byb3RvdHlwZScgJiYgJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzICYmIFdSSVRBQkxFIGluIEF0dHJpYnV0ZXMgJiYgIUF0dHJpYnV0ZXNbV1JJVEFCTEVdKSB7XG4gICAgdmFyIGN1cnJlbnQgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApO1xuICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnRbV1JJVEFCTEVdKSB7XG4gICAgICBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgICAgIEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogQ09ORklHVVJBQkxFIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0NPTkZJR1VSQUJMRV0gOiBjdXJyZW50W0NPTkZJR1VSQUJMRV0sXG4gICAgICAgIGVudW1lcmFibGU6IEVOVU1FUkFCTEUgaW4gQXR0cmlidXRlcyA/IEF0dHJpYnV0ZXNbRU5VTUVSQUJMRV0gOiBjdXJyZW50W0VOVU1FUkFCTEVdLFxuICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICB9IHJldHVybiAkZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG59IDogJGRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuICRkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyAkVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCcpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgTyA9IHRvSW5kZXhlZE9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoaGFzT3duKE8sIFApKSByZXR1cm4gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCFjYWxsKHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmYsIE8sIFApLCBPW1BdKTtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eW5hbWVzIC0tIHNhZmUgKi9cbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKS5mO1xudmFyIGFycmF5U2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2Utc2ltcGxlJyk7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5TmFtZXMoaXQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBhcnJheVNsaWNlKHdpbmRvd05hbWVzKTtcbiAgfVxufTtcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIGNsYXNzb2YoaXQpID09ICdXaW5kb3cnXG4gICAgPyBnZXRXaW5kb3dOYW1lcyhpdClcbiAgICA6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzKHRvSW5kZXhlZE9iamVjdChpdCkpO1xufTtcbiIsInZhciBpbnRlcm5hbE9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG5cbnZhciBoaWRkZW5LZXlzID0gZW51bUJ1Z0tleXMuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eW5hbWVzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHNhZmVcbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG4iLCJ2YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcbnZhciBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29ycmVjdC1wcm90b3R5cGUtZ2V0dGVyJyk7XG5cbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xudmFyIE9iamVjdFByb3RvdHlwZSA9ICRPYmplY3QucHJvdG90eXBlO1xuXG4vLyBgT2JqZWN0LmdldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0cHJvdG90eXBlb2YgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPyAkT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gKE8pIHtcbiAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzT3duKG9iamVjdCwgSUVfUFJPVE8pKSByZXR1cm4gb2JqZWN0W0lFX1BST1RPXTtcbiAgdmFyIGNvbnN0cnVjdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICBpZiAoaXNDYWxsYWJsZShjb25zdHJ1Y3RvcikgJiYgb2JqZWN0IGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiAkT2JqZWN0ID8gT2JqZWN0UHJvdG90eXBlIDogbnVsbDtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgQVJSQVlfQlVGRkVSX05PTl9FWFRFTlNJQkxFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWJ1ZmZlci1ub24tZXh0ZW5zaWJsZScpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtaXNleHRlbnNpYmxlIC0tIHNhZmVcbnZhciAkaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcbnZhciBGQUlMU19PTl9QUklNSVRJVkVTID0gZmFpbHMoZnVuY3Rpb24gKCkgeyAkaXNFeHRlbnNpYmxlKDEpOyB9KTtcblxuLy8gYE9iamVjdC5pc0V4dGVuc2libGVgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuaXNleHRlbnNpYmxlXG5tb2R1bGUuZXhwb3J0cyA9IChGQUlMU19PTl9QUklNSVRJVkVTIHx8IEFSUkFZX0JVRkZFUl9OT05fRVhURU5TSUJMRSkgPyBmdW5jdGlvbiBpc0V4dGVuc2libGUoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiBmYWxzZTtcbiAgaWYgKEFSUkFZX0JVRkZFUl9OT05fRVhURU5TSUJMRSAmJiBjbGFzc29mKGl0KSA9PSAnQXJyYXlCdWZmZXInKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAkaXNFeHRlbnNpYmxlID8gJGlzRXh0ZW5zaWJsZShpdCkgOiB0cnVlO1xufSA6ICRpc0V4dGVuc2libGU7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gdW5jdXJyeVRoaXMoe30uaXNQcm90b3R5cGVPZik7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBpbmRleE9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzJykuaW5kZXhPZjtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG5cbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pICFoYXNPd24oaGlkZGVuS2V5cywga2V5KSAmJiBoYXNPd24oTywga2V5KSAmJiBwdXNoKHJlc3VsdCwga2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhc093bihPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCBwdXNoKHJlc3VsdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsInZhciBpbnRlcm5hbE9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG5cbi8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3Qta2V5cyAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBOYXNob3JuIH4gSkRLOCBidWdcbnZhciBOQVNIT1JOX0JVRyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiAhJHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAxOiAyIH0sIDEpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZWAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUucHJvcGVydHlpc2VudW1lcmFibGVcbmV4cG9ydHMuZiA9IE5BU0hPUk5fQlVHID8gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBWKTtcbiAgcmV0dXJuICEhZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGU7XG59IDogJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gLS0gc2FmZSAqL1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGFQb3NzaWJsZVByb3RvdHlwZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLXBvc3NpYmxlLXByb3RvdHlwZScpO1xuXG4vLyBgT2JqZWN0LnNldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnNldHByb3RvdHlwZW9mXG4vLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1zZXRwcm90b3R5cGVvZiAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyBmdW5jdGlvbiAoKSB7XG4gIHZhciBDT1JSRUNUX1NFVFRFUiA9IGZhbHNlO1xuICB2YXIgdGVzdCA9IHt9O1xuICB2YXIgc2V0dGVyO1xuICB0cnkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICAgIHNldHRlciA9IHVuY3VycnlUaGlzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCk7XG4gICAgc2V0dGVyKHRlc3QsIFtdKTtcbiAgICBDT1JSRUNUX1NFVFRFUiA9IHRlc3QgaW5zdGFuY2VvZiBBcnJheTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICBhbk9iamVjdChPKTtcbiAgICBhUG9zc2libGVQcm90b3R5cGUocHJvdG8pO1xuICAgIGlmIChDT1JSRUNUX1NFVFRFUikgc2V0dGVyKE8sIHByb3RvKTtcbiAgICBlbHNlIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgcmV0dXJuIE87XG4gIH07XG59KCkgOiB1bmRlZmluZWQpO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcblxuLy8gYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCA/IHt9LnRvU3RyaW5nIDogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnW29iamVjdCAnICsgY2xhc3NvZih0aGlzKSArICddJztcbn07XG4iLCJ2YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYE9yZGluYXJ5VG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKHByZWYgPT09ICdzdHJpbmcnICYmIGlzQ2FsbGFibGUoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0KHZhbCA9IGNhbGwoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gIGlmIChpc0NhbGxhYmxlKGZuID0gaW5wdXQudmFsdWVPZikgJiYgIWlzT2JqZWN0KHZhbCA9IGNhbGwoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gIGlmIChwcmVmICE9PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlKGZuID0gaW5wdXQudG9TdHJpbmcpICYmICFpc09iamVjdCh2YWwgPSBjYWxsKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyAkVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcbiIsInZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xuXG52YXIgY29uY2F0ID0gdW5jdXJyeVRoaXMoW10uY29uY2F0KTtcblxuLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ293bktleXMnKSB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG4gIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mKGFuT2JqZWN0KGl0KSk7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZjtcbiAgcmV0dXJuIGdldE93blByb3BlcnR5U3ltYm9scyA/IGNvbmNhdChrZXlzLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpKSA6IGtleXM7XG59O1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYycpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYFJlZ0V4cEV4ZWNgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWdleHBleGVjXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChSLCBTKSB7XG4gIHZhciBleGVjID0gUi5leGVjO1xuICBpZiAoaXNDYWxsYWJsZShleGVjKSkge1xuICAgIHZhciByZXN1bHQgPSBjYWxsKGV4ZWMsIFIsIFMpO1xuICAgIGlmIChyZXN1bHQgIT09IG51bGwpIGFuT2JqZWN0KHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoY2xhc3NvZihSKSA9PT0gJ1JlZ0V4cCcpIHJldHVybiBjYWxsKHJlZ2V4cEV4ZWMsIFIsIFMpO1xuICB0aHJvdyAkVHlwZUVycm9yKCdSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgcmVnZXhwL25vLWVtcHR5LWNhcHR1cmluZy1ncm91cCwgcmVnZXhwL25vLWVtcHR5LWdyb3VwLCByZWdleHAvbm8tbGF6eS1lbmRzIC0tIHRlc3RpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIHJlZ2V4cC9uby11c2VsZXNzLXF1YW50aWZpZXIgLS0gdGVzdGluZyAqL1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHJlZ2V4cEZsYWdzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1mbGFncycpO1xudmFyIHN0aWNreUhlbHBlcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLXN0aWNreS1oZWxwZXJzJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlJyk7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpLmdldDtcbnZhciBVTlNVUFBPUlRFRF9ET1RfQUxMID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC11bnN1cHBvcnRlZC1kb3QtYWxsJyk7XG52YXIgVU5TVVBQT1JURURfTkNHID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC11bnN1cHBvcnRlZC1uY2cnKTtcblxudmFyIG5hdGl2ZVJlcGxhY2UgPSBzaGFyZWQoJ25hdGl2ZS1zdHJpbmctcmVwbGFjZScsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG52YXIgbmF0aXZlRXhlYyA9IFJlZ0V4cC5wcm90b3R5cGUuZXhlYztcbnZhciBwYXRjaGVkRXhlYyA9IG5hdGl2ZUV4ZWM7XG52YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckF0KTtcbnZhciBpbmRleE9mID0gdW5jdXJyeVRoaXMoJycuaW5kZXhPZik7XG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG52YXIgVVBEQVRFU19MQVNUX0lOREVYX1dST05HID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlMSA9IC9hLztcbiAgdmFyIHJlMiA9IC9iKi9nO1xuICBjYWxsKG5hdGl2ZUV4ZWMsIHJlMSwgJ2EnKTtcbiAgY2FsbChuYXRpdmVFeGVjLCByZTIsICdhJyk7XG4gIHJldHVybiByZTEubGFzdEluZGV4ICE9PSAwIHx8IHJlMi5sYXN0SW5kZXggIT09IDA7XG59KSgpO1xuXG52YXIgVU5TVVBQT1JURURfWSA9IHN0aWNreUhlbHBlcnMuQlJPS0VOX0NBUkVUO1xuXG4vLyBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cCwgY29waWVkIGZyb20gZXM1LXNoaW0ncyBTdHJpbmcjc3BsaXQgcGF0Y2guXG52YXIgTlBDR19JTkNMVURFRCA9IC8oKT8/Ly5leGVjKCcnKVsxXSAhPT0gdW5kZWZpbmVkO1xuXG52YXIgUEFUQ0ggPSBVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkcgfHwgTlBDR19JTkNMVURFRCB8fCBVTlNVUFBPUlRFRF9ZIHx8IFVOU1VQUE9SVEVEX0RPVF9BTEwgfHwgVU5TVVBQT1JURURfTkNHO1xuXG5pZiAoUEFUQ0gpIHtcbiAgcGF0Y2hlZEV4ZWMgPSBmdW5jdGlvbiBleGVjKHN0cmluZykge1xuICAgIHZhciByZSA9IHRoaXM7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZShyZSk7XG4gICAgdmFyIHN0ciA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgdmFyIHJhdyA9IHN0YXRlLnJhdztcbiAgICB2YXIgcmVzdWx0LCByZUNvcHksIGxhc3RJbmRleCwgbWF0Y2gsIGksIG9iamVjdCwgZ3JvdXA7XG5cbiAgICBpZiAocmF3KSB7XG4gICAgICByYXcubGFzdEluZGV4ID0gcmUubGFzdEluZGV4O1xuICAgICAgcmVzdWx0ID0gY2FsbChwYXRjaGVkRXhlYywgcmF3LCBzdHIpO1xuICAgICAgcmUubGFzdEluZGV4ID0gcmF3Lmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdmFyIGdyb3VwcyA9IHN0YXRlLmdyb3VwcztcbiAgICB2YXIgc3RpY2t5ID0gVU5TVVBQT1JURURfWSAmJiByZS5zdGlja3k7XG4gICAgdmFyIGZsYWdzID0gY2FsbChyZWdleHBGbGFncywgcmUpO1xuICAgIHZhciBzb3VyY2UgPSByZS5zb3VyY2U7XG4gICAgdmFyIGNoYXJzQWRkZWQgPSAwO1xuICAgIHZhciBzdHJDb3B5ID0gc3RyO1xuXG4gICAgaWYgKHN0aWNreSkge1xuICAgICAgZmxhZ3MgPSByZXBsYWNlKGZsYWdzLCAneScsICcnKTtcbiAgICAgIGlmIChpbmRleE9mKGZsYWdzLCAnZycpID09PSAtMSkge1xuICAgICAgICBmbGFncyArPSAnZyc7XG4gICAgICB9XG5cbiAgICAgIHN0ckNvcHkgPSBzdHJpbmdTbGljZShzdHIsIHJlLmxhc3RJbmRleCk7XG4gICAgICAvLyBTdXBwb3J0IGFuY2hvcmVkIHN0aWNreSBiZWhhdmlvci5cbiAgICAgIGlmIChyZS5sYXN0SW5kZXggPiAwICYmICghcmUubXVsdGlsaW5lIHx8IHJlLm11bHRpbGluZSAmJiBjaGFyQXQoc3RyLCByZS5sYXN0SW5kZXggLSAxKSAhPT0gJ1xcbicpKSB7XG4gICAgICAgIHNvdXJjZSA9ICcoPzogJyArIHNvdXJjZSArICcpJztcbiAgICAgICAgc3RyQ29weSA9ICcgJyArIHN0ckNvcHk7XG4gICAgICAgIGNoYXJzQWRkZWQrKztcbiAgICAgIH1cbiAgICAgIC8vIF4oPyArIHJ4ICsgKSBpcyBuZWVkZWQsIGluIGNvbWJpbmF0aW9uIHdpdGggc29tZSBzdHIgc2xpY2luZywgdG9cbiAgICAgIC8vIHNpbXVsYXRlIHRoZSAneScgZmxhZy5cbiAgICAgIHJlQ29weSA9IG5ldyBSZWdFeHAoJ14oPzonICsgc291cmNlICsgJyknLCBmbGFncyk7XG4gICAgfVxuXG4gICAgaWYgKE5QQ0dfSU5DTFVERUQpIHtcbiAgICAgIHJlQ29weSA9IG5ldyBSZWdFeHAoJ14nICsgc291cmNlICsgJyQoPyFcXFxccyknLCBmbGFncyk7XG4gICAgfVxuICAgIGlmIChVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkcpIGxhc3RJbmRleCA9IHJlLmxhc3RJbmRleDtcblxuICAgIG1hdGNoID0gY2FsbChuYXRpdmVFeGVjLCBzdGlja3kgPyByZUNvcHkgOiByZSwgc3RyQ29weSk7XG5cbiAgICBpZiAoc3RpY2t5KSB7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgbWF0Y2guaW5wdXQgPSBzdHJpbmdTbGljZShtYXRjaC5pbnB1dCwgY2hhcnNBZGRlZCk7XG4gICAgICAgIG1hdGNoWzBdID0gc3RyaW5nU2xpY2UobWF0Y2hbMF0sIGNoYXJzQWRkZWQpO1xuICAgICAgICBtYXRjaC5pbmRleCA9IHJlLmxhc3RJbmRleDtcbiAgICAgICAgcmUubGFzdEluZGV4ICs9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgIH0gZWxzZSByZS5sYXN0SW5kZXggPSAwO1xuICAgIH0gZWxzZSBpZiAoVVBEQVRFU19MQVNUX0lOREVYX1dST05HICYmIG1hdGNoKSB7XG4gICAgICByZS5sYXN0SW5kZXggPSByZS5nbG9iYWwgPyBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCA6IGxhc3RJbmRleDtcbiAgICB9XG4gICAgaWYgKE5QQ0dfSU5DTFVERUQgJiYgbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgLy8gRml4IGJyb3dzZXJzIHdob3NlIGBleGVjYCBtZXRob2RzIGRvbid0IGNvbnNpc3RlbnRseSByZXR1cm4gYHVuZGVmaW5lZGBcbiAgICAgIC8vIGZvciBOUENHLCBsaWtlIElFOC4gTk9URTogVGhpcyBkb2Vzbicgd29yayBmb3IgLyguPyk/L1xuICAgICAgY2FsbChuYXRpdmVSZXBsYWNlLCBtYXRjaFswXSwgcmVDb3B5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGFyZ3VtZW50c1tpXSA9PT0gdW5kZWZpbmVkKSBtYXRjaFtpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoICYmIGdyb3Vwcykge1xuICAgICAgbWF0Y2guZ3JvdXBzID0gb2JqZWN0ID0gY3JlYXRlKG51bGwpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgb2JqZWN0W2dyb3VwWzBdXSA9IG1hdGNoW2dyb3VwWzFdXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0Y2hlZEV4ZWM7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG5cbi8vIGBSZWdFeHAucHJvdG90eXBlLmZsYWdzYCBnZXR0ZXIgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0LXJlZ2V4cC5wcm90b3R5cGUuZmxhZ3Ncbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGhhdCA9IGFuT2JqZWN0KHRoaXMpO1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmICh0aGF0Lmhhc0luZGljZXMpIHJlc3VsdCArPSAnZCc7XG4gIGlmICh0aGF0Lmdsb2JhbCkgcmVzdWx0ICs9ICdnJztcbiAgaWYgKHRoYXQuaWdub3JlQ2FzZSkgcmVzdWx0ICs9ICdpJztcbiAgaWYgKHRoYXQubXVsdGlsaW5lKSByZXN1bHQgKz0gJ20nO1xuICBpZiAodGhhdC5kb3RBbGwpIHJlc3VsdCArPSAncyc7XG4gIGlmICh0aGF0LnVuaWNvZGUpIHJlc3VsdCArPSAndSc7XG4gIGlmICh0aGF0LnVuaWNvZGVTZXRzKSByZXN1bHQgKz0gJ3YnO1xuICBpZiAodGhhdC5zdGlja3kpIHJlc3VsdCArPSAneSc7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xuXG4vLyBiYWJlbC1taW5pZnkgYW5kIENsb3N1cmUgQ29tcGlsZXIgdHJhbnNwaWxlcyBSZWdFeHAoJ2EnLCAneScpIC0+IC9hL3kgYW5kIGl0IGNhdXNlcyBTeW50YXhFcnJvclxudmFyICRSZWdFeHAgPSBnbG9iYWwuUmVnRXhwO1xuXG52YXIgVU5TVVBQT1JURURfWSA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlID0gJFJlZ0V4cCgnYScsICd5Jyk7XG4gIHJlLmxhc3RJbmRleCA9IDI7XG4gIHJldHVybiByZS5leGVjKCdhYmNkJykgIT0gbnVsbDtcbn0pO1xuXG4vLyBVQyBCcm93c2VyIGJ1Z1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzEwMDhcbnZhciBNSVNTRURfU1RJQ0tZID0gVU5TVVBQT1JURURfWSB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhJFJlZ0V4cCgnYScsICd5Jykuc3RpY2t5O1xufSk7XG5cbnZhciBCUk9LRU5fQ0FSRVQgPSBVTlNVUFBPUlRFRF9ZIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzczNjg3XG4gIHZhciByZSA9ICRSZWdFeHAoJ15yJywgJ2d5Jyk7XG4gIHJlLmxhc3RJbmRleCA9IDI7XG4gIHJldHVybiByZS5leGVjKCdzdHInKSAhPSBudWxsO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBCUk9LRU5fQ0FSRVQ6IEJST0tFTl9DQVJFVCxcbiAgTUlTU0VEX1NUSUNLWTogTUlTU0VEX1NUSUNLWSxcbiAgVU5TVVBQT1JURURfWTogVU5TVVBQT1JURURfWVxufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxuLy8gYmFiZWwtbWluaWZ5IGFuZCBDbG9zdXJlIENvbXBpbGVyIHRyYW5zcGlsZXMgUmVnRXhwKCcuJywgJ3MnKSAtPiAvLi9zIGFuZCBpdCBjYXVzZXMgU3ludGF4RXJyb3JcbnZhciAkUmVnRXhwID0gZ2xvYmFsLlJlZ0V4cDtcblxubW9kdWxlLmV4cG9ydHMgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciByZSA9ICRSZWdFeHAoJy4nLCAncycpO1xuICByZXR1cm4gIShyZS5kb3RBbGwgJiYgcmUuZXhlYygnXFxuJykgJiYgcmUuZmxhZ3MgPT09ICdzJyk7XG59KTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxuLy8gYmFiZWwtbWluaWZ5IGFuZCBDbG9zdXJlIENvbXBpbGVyIHRyYW5zcGlsZXMgUmVnRXhwKCcoPzxhPmIpJywgJ2cnKSAtPiAvKD88YT5iKS9nIGFuZCBpdCBjYXVzZXMgU3ludGF4RXJyb3JcbnZhciAkUmVnRXhwID0gZ2xvYmFsLlJlZ0V4cDtcblxubW9kdWxlLmV4cG9ydHMgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciByZSA9ICRSZWdFeHAoJyg/PGE+YiknLCAnZycpO1xuICByZXR1cm4gcmUuZXhlYygnYicpLmdyb3Vwcy5hICE9PSAnYicgfHxcbiAgICAnYicucmVwbGFjZShyZSwgJyQ8YT5jJykgIT09ICdiYyc7XG59KTtcbiIsInZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlcXVpcmVvYmplY3Rjb2VyY2libGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93ICRUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsInZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBUQUcsIFNUQVRJQykge1xuICBpZiAodGFyZ2V0ICYmICFTVEFUSUMpIHRhcmdldCA9IHRhcmdldC5wcm90b3R5cGU7XG4gIGlmICh0YXJnZXQgJiYgIWhhc093bih0YXJnZXQsIFRPX1NUUklOR19UQUcpKSB7XG4gICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBUT19TVFJJTkdfVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IFRBRyB9KTtcbiAgfVxufTtcbiIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VpZCcpO1xuXG52YXIga2V5cyA9IHNoYXJlZCgna2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGtleXNba2V5XSB8fCAoa2V5c1trZXldID0gdWlkKGtleSkpO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgZGVmaW5lR2xvYmFsUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWdsb2JhbC1wcm9wZXJ0eScpO1xuXG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCBkZWZpbmVHbG9iYWxQcm9wZXJ0eShTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcbiIsInZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBzdG9yZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQtc3RvcmUnKTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246ICczLjIzLjInLFxuICBtb2RlOiBJU19QVVJFID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTQtMjAyMiBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KScsXG4gIGxpY2Vuc2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9ibG9iL3YzLjIzLjIvTElDRU5TRScsXG4gIHNvdXJjZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzJ1xufSk7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbnRlZ2VyLW9yLWluZmluaXR5Jyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcblxudmFyIGNoYXJBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJBdCk7XG52YXIgY2hhckNvZGVBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJDb2RlQXQpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKENPTlZFUlRfVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIHBvcykge1xuICAgIHZhciBTID0gdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgIHZhciBwb3NpdGlvbiA9IHRvSW50ZWdlck9ySW5maW5pdHkocG9zKTtcbiAgICB2YXIgc2l6ZSA9IFMubGVuZ3RoO1xuICAgIHZhciBmaXJzdCwgc2Vjb25kO1xuICAgIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gc2l6ZSkgcmV0dXJuIENPTlZFUlRfVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgZmlyc3QgPSBjaGFyQ29kZUF0KFMsIHBvc2l0aW9uKTtcbiAgICByZXR1cm4gZmlyc3QgPCAweEQ4MDAgfHwgZmlyc3QgPiAweERCRkYgfHwgcG9zaXRpb24gKyAxID09PSBzaXplXG4gICAgICB8fCAoc2Vjb25kID0gY2hhckNvZGVBdChTLCBwb3NpdGlvbiArIDEpKSA8IDB4REMwMCB8fCBzZWNvbmQgPiAweERGRkZcbiAgICAgICAgPyBDT05WRVJUX1RPX1NUUklOR1xuICAgICAgICAgID8gY2hhckF0KFMsIHBvc2l0aW9uKVxuICAgICAgICAgIDogZmlyc3RcbiAgICAgICAgOiBDT05WRVJUX1RPX1NUUklOR1xuICAgICAgICAgID8gc3RyaW5nU2xpY2UoUywgcG9zaXRpb24sIHBvc2l0aW9uICsgMilcbiAgICAgICAgICA6IChmaXJzdCAtIDB4RDgwMCA8PCAxMCkgKyAoc2Vjb25kIC0gMHhEQzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUuY29kZXBvaW50YXRcbiAgY29kZUF0OiBjcmVhdGVNZXRob2QoZmFsc2UpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS5hdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRoaWFzYnluZW5zL1N0cmluZy5wcm90b3R5cGUuYXRcbiAgY2hhckF0OiBjcmVhdGVNZXRob2QodHJ1ZSlcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciB3aGl0ZXNwYWNlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93aGl0ZXNwYWNlcycpO1xuXG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIHdoaXRlc3BhY2UgPSAnWycgKyB3aGl0ZXNwYWNlcyArICddJztcbnZhciBsdHJpbSA9IFJlZ0V4cCgnXicgKyB3aGl0ZXNwYWNlICsgd2hpdGVzcGFjZSArICcqJyk7XG52YXIgcnRyaW0gPSBSZWdFeHAod2hpdGVzcGFjZSArIHdoaXRlc3BhY2UgKyAnKiQnKTtcblxuLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltLCB0cmltU3RhcnQsIHRyaW1FbmQsIHRyaW1MZWZ0LCB0cmltUmlnaHQgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMpIHtcbiAgICB2YXIgc3RyaW5nID0gdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgIGlmIChUWVBFICYgMSkgc3RyaW5nID0gcmVwbGFjZShzdHJpbmcsIGx0cmltLCAnJyk7XG4gICAgaWYgKFRZUEUgJiAyKSBzdHJpbmcgPSByZXBsYWNlKHN0cmluZywgcnRyaW0sICcnKTtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbUxlZnQsIHRyaW1TdGFydCB9YCBtZXRob2RzXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltc3RhcnRcbiAgc3RhcnQ6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltUmlnaHQsIHRyaW1FbmQgfWAgbWV0aG9kc1xuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbWVuZFxuICBlbmQ6IGNyZWF0ZU1ldGhvZCgyKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUudHJpbWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltXG4gIHRyaW06IGNyZWF0ZU1ldGhvZCgzKVxufTtcbiIsInZhciB0b0ludGVnZXJPckluZmluaXR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHknKTtcblxudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBIZWxwZXIgZm9yIGEgcG9wdWxhciByZXBlYXRpbmcgY2FzZSBvZiB0aGUgc3BlYzpcbi8vIExldCBpbnRlZ2VyIGJlID8gVG9JbnRlZ2VyKGluZGV4KS5cbi8vIElmIGludGVnZXIgPCAwLCBsZXQgcmVzdWx0IGJlIG1heCgobGVuZ3RoICsgaW50ZWdlciksIDApOyBlbHNlIGxldCByZXN1bHQgYmUgbWluKGludGVnZXIsIGxlbmd0aCkuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIHZhciBpbnRlZ2VyID0gdG9JbnRlZ2VyT3JJbmZpbml0eShpbmRleCk7XG4gIHJldHVybiBpbnRlZ2VyIDwgMCA/IG1heChpbnRlZ2VyICsgbGVuZ3RoLCAwKSA6IG1pbihpbnRlZ2VyLCBsZW5ndGgpO1xufTtcbiIsIi8vIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCcpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJbmRleGVkT2JqZWN0KHJlcXVpcmVPYmplY3RDb2VyY2libGUoaXQpKTtcbn07XG4iLCJ2YXIgdHJ1bmMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbWF0aC10cnVuYycpO1xuXG4vLyBgVG9JbnRlZ2VyT3JJbmZpbml0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvaW50ZWdlcm9yaW5maW5pdHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHZhciBudW1iZXIgPSArYXJndW1lbnQ7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gIHJldHVybiBudW1iZXIgIT09IG51bWJlciB8fCBudW1iZXIgPT09IDAgPyAwIDogdHJ1bmMobnVtYmVyKTtcbn07XG4iLCJ2YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbnRlZ2VyLW9yLWluZmluaXR5Jyk7XG5cbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gYFRvTGVuZ3RoYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9sZW5ndGhcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBhcmd1bWVudCA+IDAgPyBtaW4odG9JbnRlZ2VyT3JJbmZpbml0eShhcmd1bWVudCksIDB4MUZGRkZGRkZGRkZGRkYpIDogMDsgLy8gMiAqKiA1MyAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiIsInZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xuXG52YXIgJE9iamVjdCA9IE9iamVjdDtcblxuLy8gYFRvT2JqZWN0YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9vYmplY3Rcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiAkT2JqZWN0KHJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpKTtcbn07XG4iLCJ2YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtc3ltYm9sJyk7XG52YXIgZ2V0TWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1tZXRob2QnKTtcbnZhciBvcmRpbmFyeVRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29yZGluYXJ5LXRvLXByaW1pdGl2ZScpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbnZhciBUT19QUklNSVRJVkUgPSB3ZWxsS25vd25TeW1ib2woJ3RvUHJpbWl0aXZlJyk7XG5cbi8vIGBUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICBpZiAoIWlzT2JqZWN0KGlucHV0KSB8fCBpc1N5bWJvbChpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGV4b3RpY1RvUHJpbSA9IGdldE1ldGhvZChpbnB1dCwgVE9fUFJJTUlUSVZFKTtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKGV4b3RpY1RvUHJpbSkge1xuICAgIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnZGVmYXVsdCc7XG4gICAgcmVzdWx0ID0gY2FsbChleG90aWNUb1ByaW0sIGlucHV0LCBwcmVmKTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlc3VsdCkgfHwgaXNTeW1ib2wocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICB0aHJvdyAkVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuICB9XG4gIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnbnVtYmVyJztcbiAgcmV0dXJuIG9yZGluYXJ5VG9QcmltaXRpdmUoaW5wdXQsIHByZWYpO1xufTtcbiIsInZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcmltaXRpdmUnKTtcbnZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1zeW1ib2wnKTtcblxuLy8gYFRvUHJvcGVydHlLZXlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b3Byb3BlcnR5a2V5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICB2YXIga2V5ID0gdG9QcmltaXRpdmUoYXJndW1lbnQsICdzdHJpbmcnKTtcbiAgcmV0dXJuIGlzU3ltYm9sKGtleSkgPyBrZXkgOiBrZXkgKyAnJztcbn07XG4iLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyIHRlc3QgPSB7fTtcblxudGVzdFtUT19TVFJJTkdfVEFHXSA9ICd6JztcblxubW9kdWxlLmV4cG9ydHMgPSBTdHJpbmcodGVzdCkgPT09ICdbb2JqZWN0IHpdJztcbiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcblxudmFyICRTdHJpbmcgPSBTdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChjbGFzc29mKGFyZ3VtZW50KSA9PT0gJ1N5bWJvbCcpIHRocm93IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmcnKTtcbiAgcmV0dXJuICRTdHJpbmcoYXJndW1lbnQpO1xufTtcbiIsInZhciAkU3RyaW5nID0gU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICB0cnkge1xuICAgIHJldHVybiAkU3RyaW5nKGFyZ3VtZW50KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gJ09iamVjdCc7XG4gIH1cbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG5cbnZhciBpZCA9IDA7XG52YXIgcG9zdGZpeCA9IE1hdGgucmFuZG9tKCk7XG52YXIgdG9TdHJpbmcgPSB1bmN1cnJ5VGhpcygxLjAudG9TdHJpbmcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuICdTeW1ib2woJyArIChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5KSArICcpXycgKyB0b1N0cmluZygrK2lkICsgcG9zdGZpeCwgMzYpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIGVzLXgvbm8tc3ltYm9sIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nICovXG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtc3ltYm9sJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX1NZTUJPTFxuICAmJiAhU3ltYm9sLnNoYW1cbiAgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJztcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbi8vIFY4IH4gQ2hyb21lIDM2LVxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzMzNFxubW9kdWxlLmV4cG9ydHMgPSBERVNDUklQVE9SUyAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgJ3Byb3RvdHlwZScsIHtcbiAgICB2YWx1ZTogNDIsXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pLnByb3RvdHlwZSAhPSA0Mjtcbn0pO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdWlkJyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtc3ltYm9sJyk7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdXNlLXN5bWJvbC1hcy11aWQnKTtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBzeW1ib2xGb3IgPSBTeW1ib2wgJiYgU3ltYm9sWydmb3InXTtcbnZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXNPd24oV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSB8fCAhKE5BVElWRV9TWU1CT0wgfHwgdHlwZW9mIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9PSAnc3RyaW5nJykpIHtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSAnU3ltYm9sLicgKyBuYW1lO1xuICAgIGlmIChOQVRJVkVfU1lNQk9MICYmIGhhc093bihTeW1ib2wsIG5hbWUpKSB7XG4gICAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBTeW1ib2xbbmFtZV07XG4gICAgfSBlbHNlIGlmIChVU0VfU1lNQk9MX0FTX1VJRCAmJiBzeW1ib2xGb3IpIHtcbiAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IHN5bWJvbEZvcihkZXNjcmlwdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IGNyZWF0ZVdlbGxLbm93blN5bWJvbChkZXNjcmlwdGlvbik7XG4gICAgfVxuICB9IHJldHVybiBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV07XG59O1xuIiwiLy8gYSBzdHJpbmcgb2YgYWxsIHZhbGlkIHVuaWNvZGUgd2hpdGVzcGFjZXNcbm1vZHVsZS5leHBvcnRzID0gJ1xcdTAwMDlcXHUwMDBBXFx1MDAwQlxcdTAwMENcXHUwMDBEXFx1MDAyMFxcdTAwQTBcXHUxNjgwXFx1MjAwMFxcdTIwMDFcXHUyMDAyJyArXG4gICdcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRic7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciAkZmlsdGVyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbicpLmZpbHRlcjtcbnZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0Jyk7XG5cbnZhciBIQVNfU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnZmlsdGVyJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbHRlclxuLy8gd2l0aCBhZGRpbmcgc3VwcG9ydCBvZiBAQHNwZWNpZXNcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFIQVNfU1BFQ0lFU19TVVBQT1JUIH0sIHtcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICByZXR1cm4gJGZpbHRlcih0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcbnZhciBkZWZpbmVJdGVyYXRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3InKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xuXG52YXIgQVJSQVlfSVRFUkFUT1IgPSAnQXJyYXkgSXRlcmF0b3InO1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoQVJSQVlfSVRFUkFUT1IpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmVudHJpZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZW50cmllc1xuLy8gYEFycmF5LnByb3RvdHlwZS5rZXlzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmtleXNcbi8vIGBBcnJheS5wcm90b3R5cGUudmFsdWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnZhbHVlc1xuLy8gYEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQGl0ZXJhdG9yXG4vLyBgQ3JlYXRlQXJyYXlJdGVyYXRvcmAgaW50ZXJuYWwgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZWFycmF5aXRlcmF0b3Jcbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lSXRlcmF0b3IoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICB0eXBlOiBBUlJBWV9JVEVSQVRPUixcbiAgICB0YXJnZXQ6IHRvSW5kZXhlZE9iamVjdChpdGVyYXRlZCksIC8vIHRhcmdldFxuICAgIGluZGV4OiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICAgIGtpbmQ6IGtpbmQgICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2luZFxuICB9KTtcbi8vIGAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVhcnJheWl0ZXJhdG9ycHJvdG90eXBlJS5uZXh0XG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gIHZhciB0YXJnZXQgPSBzdGF0ZS50YXJnZXQ7XG4gIHZhciBraW5kID0gc3RhdGUua2luZDtcbiAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXgrKztcbiAgaWYgKCF0YXJnZXQgfHwgaW5kZXggPj0gdGFyZ2V0Lmxlbmd0aCkge1xuICAgIHN0YXRlLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4geyB2YWx1ZTogaW5kZXgsIGRvbmU6IGZhbHNlIH07XG4gIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4geyB2YWx1ZTogdGFyZ2V0W2luZGV4XSwgZG9uZTogZmFsc2UgfTtcbiAgcmV0dXJuIHsgdmFsdWU6IFtpbmRleCwgdGFyZ2V0W2luZGV4XV0sIGRvbmU6IGZhbHNlIH07XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJVxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGV1bm1hcHBlZGFyZ3VtZW50c29iamVjdFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVtYXBwZWRhcmd1bWVudHNvYmplY3RcbnZhciB2YWx1ZXMgPSBJdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuLy8gVjggfiBDaHJvbWUgNDUtIGJ1Z1xuaWYgKCFJU19QVVJFICYmIERFU0NSSVBUT1JTICYmIHZhbHVlcy5uYW1lICE9PSAndmFsdWVzJykgdHJ5IHtcbiAgZGVmaW5lUHJvcGVydHkodmFsdWVzLCAnbmFtZScsIHsgdmFsdWU6ICd2YWx1ZXMnIH0pO1xufSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJHJlZHVjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1yZWR1Y2UnKS5sZWZ0O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xudmFyIENIUk9NRV9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3JlZHVjZScpO1xuLy8gQ2hyb21lIDgwLTgyIGhhcyBhIGNyaXRpY2FsIGJ1Z1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTA0OTk4MlxudmFyIENIUk9NRV9CVUcgPSAhSVNfTk9ERSAmJiBDSFJPTUVfVkVSU0lPTiA+IDc5ICYmIENIUk9NRV9WRVJTSU9OIDwgODM7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfHwgQ0hST01FX0JVRyB9LCB7XG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIEZVTkNUSU9OX05BTUVfRVhJU1RTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLW5hbWUnKS5FWElTVFM7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpLmY7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBmdW5jdGlvblRvU3RyaW5nID0gdW5jdXJyeVRoaXMoRnVuY3Rpb25Qcm90b3R5cGUudG9TdHJpbmcpO1xudmFyIG5hbWVSRSA9IC9mdW5jdGlvblxcYig/Olxcc3xcXC9cXCpbXFxTXFxzXSo/XFwqXFwvfFxcL1xcL1teXFxuXFxyXSpbXFxuXFxyXSspKihbXlxccygvXSopLztcbnZhciByZWdFeHBFeGVjID0gdW5jdXJyeVRoaXMobmFtZVJFLmV4ZWMpO1xudmFyIE5BTUUgPSAnbmFtZSc7XG5cbi8vIEZ1bmN0aW9uIGluc3RhbmNlcyBgLm5hbWVgIHByb3BlcnR5XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWZ1bmN0aW9uLWluc3RhbmNlcy1uYW1lXG5pZiAoREVTQ1JJUFRPUlMgJiYgIUZVTkNUSU9OX05BTUVfRVhJU1RTKSB7XG4gIGRlZmluZVByb3BlcnR5KEZ1bmN0aW9uUHJvdG90eXBlLCBOQU1FLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEV4ZWMobmFtZVJFLCBmdW5jdGlvblRvU3RyaW5nKHRoaXMpKVsxXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuIiwidmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1hc3NpZ24nKTtcblxuLy8gYE9iamVjdC5hc3NpZ25gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtYXNzaWduIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgYXJpdHk6IDIsIGZvcmNlZDogT2JqZWN0LmFzc2lnbiAhPT0gYXNzaWduIH0sIHtcbiAgYXNzaWduOiBhc3NpZ25cbn0pO1xuIiwidmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC10by1zdHJpbmcnKTtcblxuLy8gYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nXG5pZiAoIVRPX1NUUklOR19UQUdfU1VQUE9SVCkge1xuICBkZWZpbmVCdWlsdEluKE9iamVjdC5wcm90b3R5cGUsICd0b1N0cmluZycsIHRvU3RyaW5nLCB7IHVuc2FmZTogdHJ1ZSB9KTtcbn1cbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyICRwYXJzZUludCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9udW1iZXItcGFyc2UtaW50Jyk7XG5cbi8vIGBwYXJzZUludGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXBhcnNlaW50LXN0cmluZy1yYWRpeFxuJCh7IGdsb2JhbDogdHJ1ZSwgZm9yY2VkOiBwYXJzZUludCAhPSAkcGFyc2VJbnQgfSwge1xuICBwYXJzZUludDogJHBhcnNlSW50XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGV4ZWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWV4ZWMnKTtcblxuLy8gYFJlZ0V4cC5wcm90b3R5cGUuZXhlY2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cC5wcm90b3R5cGUuZXhlY1xuJCh7IHRhcmdldDogJ1JlZ0V4cCcsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IC8uLy5leGVjICE9PSBleGVjIH0sIHtcbiAgZXhlYzogZXhlY1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY2hhckF0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy1tdWx0aWJ5dGUnKS5jaGFyQXQ7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xudmFyIGRlZmluZUl0ZXJhdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1pdGVyYXRvcicpO1xuXG52YXIgU1RSSU5HX0lURVJBVE9SID0gJ1N0cmluZyBJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihTVFJJTkdfSVRFUkFUT1IpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUtQEBpdGVyYXRvclxuZGVmaW5lSXRlcmF0b3IoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgIHR5cGU6IFNUUklOR19JVEVSQVRPUixcbiAgICBzdHJpbmc6IHRvU3RyaW5nKGl0ZXJhdGVkKSxcbiAgICBpbmRleDogMFxuICB9KTtcbi8vIGAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lc3RyaW5naXRlcmF0b3Jwcm90b3R5cGUlLm5leHRcbn0sIGZ1bmN0aW9uIG5leHQoKSB7XG4gIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gIHZhciBzdHJpbmcgPSBzdGF0ZS5zdHJpbmc7XG4gIHZhciBpbmRleCA9IHN0YXRlLmluZGV4O1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBzdHJpbmcubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gY2hhckF0KHN0cmluZywgaW5kZXgpO1xuICBzdGF0ZS5pbmRleCArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGZpeFJlZ0V4cFdlbGxLbm93blN5bWJvbExvZ2ljID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZpeC1yZWdleHAtd2VsbC1rbm93bi1zeW1ib2wtbG9naWMnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1sZW5ndGgnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgYWR2YW5jZVN0cmluZ0luZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FkdmFuY2Utc3RyaW5nLWluZGV4Jyk7XG52YXIgcmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xuXG4vLyBAQG1hdGNoIGxvZ2ljXG5maXhSZWdFeHBXZWxsS25vd25TeW1ib2xMb2dpYygnbWF0Y2gnLCBmdW5jdGlvbiAoTUFUQ0gsIG5hdGl2ZU1hdGNoLCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5tYXRjaGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLm1hdGNoXG4gICAgZnVuY3Rpb24gbWF0Y2gocmVnZXhwKSB7XG4gICAgICB2YXIgTyA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyk7XG4gICAgICB2YXIgbWF0Y2hlciA9IHJlZ2V4cCA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBnZXRNZXRob2QocmVnZXhwLCBNQVRDSCk7XG4gICAgICByZXR1cm4gbWF0Y2hlciA/IGNhbGwobWF0Y2hlciwgcmVnZXhwLCBPKSA6IG5ldyBSZWdFeHAocmVnZXhwKVtNQVRDSF0odG9TdHJpbmcoTykpO1xuICAgIH0sXG4gICAgLy8gYFJlZ0V4cC5wcm90b3R5cGVbQEBtYXRjaF1gIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQG1hdGNoXG4gICAgZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgdmFyIHJ4ID0gYW5PYmplY3QodGhpcyk7XG4gICAgICB2YXIgUyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKG5hdGl2ZU1hdGNoLCByeCwgUyk7XG5cbiAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcblxuICAgICAgaWYgKCFyeC5nbG9iYWwpIHJldHVybiByZWdFeHBFeGVjKHJ4LCBTKTtcblxuICAgICAgdmFyIGZ1bGxVbmljb2RlID0gcngudW5pY29kZTtcbiAgICAgIHJ4Lmxhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgQSA9IFtdO1xuICAgICAgdmFyIG4gPSAwO1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHdoaWxlICgocmVzdWx0ID0gcmVnRXhwRXhlYyhyeCwgUykpICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBtYXRjaFN0ciA9IHRvU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIEFbbl0gPSBtYXRjaFN0cjtcbiAgICAgICAgaWYgKG1hdGNoU3RyID09PSAnJykgcngubGFzdEluZGV4ID0gYWR2YW5jZVN0cmluZ0luZGV4KFMsIHRvTGVuZ3RoKHJ4Lmxhc3RJbmRleCksIGZ1bGxVbmljb2RlKTtcbiAgICAgICAgbisrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG4gPT09IDAgPyBudWxsIDogQTtcbiAgICB9XG4gIF07XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBhcHBseSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1hcHBseScpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGZpeFJlZ0V4cFdlbGxLbm93blN5bWJvbExvZ2ljID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZpeC1yZWdleHAtd2VsbC1rbm93bi1zeW1ib2wtbG9naWMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciB0b0ludGVnZXJPckluZmluaXR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHknKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1sZW5ndGgnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hZHZhbmNlLXN0cmluZy1pbmRleCcpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgZ2V0U3Vic3RpdHV0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1zdWJzdGl0dXRpb24nKTtcbnZhciByZWdFeHBFeGVjID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBSRVBMQUNFID0gd2VsbEtub3duU3ltYm9sKCdyZXBsYWNlJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG52YXIgY29uY2F0ID0gdW5jdXJyeVRoaXMoW10uY29uY2F0KTtcbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG52YXIgc3RyaW5nSW5kZXhPZiA9IHVuY3VycnlUaGlzKCcnLmluZGV4T2YpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG52YXIgbWF5YmVUb1N0cmluZyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/IGl0IDogU3RyaW5nKGl0KTtcbn07XG5cbi8vIElFIDw9IDExIHJlcGxhY2VzICQwIHdpdGggdGhlIHdob2xlIG1hdGNoLCBhcyBpZiBpdCB3YXMgJCZcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYwMjQ2NjYvZ2V0dGluZy1pZS10by1yZXBsYWNlLWEtcmVnZXgtd2l0aC10aGUtbGl0ZXJhbC1zdHJpbmctMFxudmFyIFJFUExBQ0VfS0VFUFNfJDAgPSAoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVnZXhwL3ByZWZlci1lc2NhcGUtcmVwbGFjZW1lbnQtZG9sbGFyLWNoYXIgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuICdhJy5yZXBsYWNlKC8uLywgJyQwJykgPT09ICckMCc7XG59KSgpO1xuXG4vLyBTYWZhcmkgPD0gMTMuMC4zKD8pIHN1YnN0aXR1dGVzIG50aCBjYXB0dXJlIHdoZXJlIG4+bSB3aXRoIGFuIGVtcHR5IHN0cmluZ1xudmFyIFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFID0gKGZ1bmN0aW9uICgpIHtcbiAgaWYgKC8uL1tSRVBMQUNFXSkge1xuICAgIHJldHVybiAvLi9bUkVQTEFDRV0oJ2EnLCAnJDAnKSA9PT0gJyc7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSkoKTtcblxudmFyIFJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlID0gLy4vO1xuICByZS5leGVjID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICByZXN1bHQuZ3JvdXBzID0geyBhOiAnNycgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVnZXhwL25vLXVzZWxlc3MtZG9sbGFyLXJlcGxhY2VtZW50cyAtLSBmYWxzZSBwb3NpdGl2ZVxuICByZXR1cm4gJycucmVwbGFjZShyZSwgJyQ8YT4nKSAhPT0gJzcnO1xufSk7XG5cbi8vIEBAcmVwbGFjZSBsb2dpY1xuZml4UmVnRXhwV2VsbEtub3duU3ltYm9sTG9naWMoJ3JlcGxhY2UnLCBmdW5jdGlvbiAoXywgbmF0aXZlUmVwbGFjZSwgbWF5YmVDYWxsTmF0aXZlKSB7XG4gIHZhciBVTlNBRkVfU1VCU1RJVFVURSA9IFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFID8gJyQnIDogJyQwJztcblxuICByZXR1cm4gW1xuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlXG4gICAgZnVuY3Rpb24gcmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKSB7XG4gICAgICB2YXIgTyA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyk7XG4gICAgICB2YXIgcmVwbGFjZXIgPSBzZWFyY2hWYWx1ZSA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBnZXRNZXRob2Qoc2VhcmNoVmFsdWUsIFJFUExBQ0UpO1xuICAgICAgcmV0dXJuIHJlcGxhY2VyXG4gICAgICAgID8gY2FsbChyZXBsYWNlciwgc2VhcmNoVmFsdWUsIE8sIHJlcGxhY2VWYWx1ZSlcbiAgICAgICAgOiBjYWxsKG5hdGl2ZVJlcGxhY2UsIHRvU3RyaW5nKE8pLCBzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKTtcbiAgICB9LFxuICAgIC8vIGBSZWdFeHAucHJvdG90eXBlW0BAcmVwbGFjZV1gIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQHJlcGxhY2VcbiAgICBmdW5jdGlvbiAoc3RyaW5nLCByZXBsYWNlVmFsdWUpIHtcbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHRoaXMpO1xuICAgICAgdmFyIFMgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiByZXBsYWNlVmFsdWUgPT0gJ3N0cmluZycgJiZcbiAgICAgICAgc3RyaW5nSW5kZXhPZihyZXBsYWNlVmFsdWUsIFVOU0FGRV9TVUJTVElUVVRFKSA9PT0gLTEgJiZcbiAgICAgICAgc3RyaW5nSW5kZXhPZihyZXBsYWNlVmFsdWUsICckPCcpID09PSAtMVxuICAgICAgKSB7XG4gICAgICAgIHZhciByZXMgPSBtYXliZUNhbGxOYXRpdmUobmF0aXZlUmVwbGFjZSwgcngsIFMsIHJlcGxhY2VWYWx1ZSk7XG4gICAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bmN0aW9uYWxSZXBsYWNlID0gaXNDYWxsYWJsZShyZXBsYWNlVmFsdWUpO1xuICAgICAgaWYgKCFmdW5jdGlvbmFsUmVwbGFjZSkgcmVwbGFjZVZhbHVlID0gdG9TdHJpbmcocmVwbGFjZVZhbHVlKTtcblxuICAgICAgdmFyIGdsb2JhbCA9IHJ4Lmdsb2JhbDtcbiAgICAgIGlmIChnbG9iYWwpIHtcbiAgICAgICAgdmFyIGZ1bGxVbmljb2RlID0gcngudW5pY29kZTtcbiAgICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVnRXhwRXhlYyhyeCwgUyk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwpIGJyZWFrO1xuXG4gICAgICAgIHB1c2gocmVzdWx0cywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFnbG9iYWwpIGJyZWFrO1xuXG4gICAgICAgIHZhciBtYXRjaFN0ciA9IHRvU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIGlmIChtYXRjaFN0ciA9PT0gJycpIHJ4Lmxhc3RJbmRleCA9IGFkdmFuY2VTdHJpbmdJbmRleChTLCB0b0xlbmd0aChyeC5sYXN0SW5kZXgpLCBmdWxsVW5pY29kZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhY2N1bXVsYXRlZFJlc3VsdCA9ICcnO1xuICAgICAgdmFyIG5leHRTb3VyY2VQb3NpdGlvbiA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0c1tpXTtcblxuICAgICAgICB2YXIgbWF0Y2hlZCA9IHRvU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IG1heChtaW4odG9JbnRlZ2VyT3JJbmZpbml0eShyZXN1bHQuaW5kZXgpLCBTLmxlbmd0aCksIDApO1xuICAgICAgICB2YXIgY2FwdHVyZXMgPSBbXTtcbiAgICAgICAgLy8gTk9URTogVGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gICAgICAgIC8vICAgY2FwdHVyZXMgPSByZXN1bHQuc2xpY2UoMSkubWFwKG1heWJlVG9TdHJpbmcpXG4gICAgICAgIC8vIGJ1dCBmb3Igc29tZSByZWFzb24gYG5hdGl2ZVNsaWNlLmNhbGwocmVzdWx0LCAxLCByZXN1bHQubGVuZ3RoKWAgKGNhbGxlZCBpblxuICAgICAgICAvLyB0aGUgc2xpY2UgcG9seWZpbGwgd2hlbiBzbGljaW5nIG5hdGl2ZSBhcnJheXMpIFwiZG9lc24ndCB3b3JrXCIgaW4gc2FmYXJpIDkgYW5kXG4gICAgICAgIC8vIGNhdXNlcyBhIGNyYXNoIChodHRwczovL3Bhc3RlYmluLmNvbS9OMjFRemVRQSkgd2hlbiB0cnlpbmcgdG8gZGVidWcgaXQuXG4gICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcmVzdWx0Lmxlbmd0aDsgaisrKSBwdXNoKGNhcHR1cmVzLCBtYXliZVRvU3RyaW5nKHJlc3VsdFtqXSkpO1xuICAgICAgICB2YXIgbmFtZWRDYXB0dXJlcyA9IHJlc3VsdC5ncm91cHM7XG4gICAgICAgIGlmIChmdW5jdGlvbmFsUmVwbGFjZSkge1xuICAgICAgICAgIHZhciByZXBsYWNlckFyZ3MgPSBjb25jYXQoW21hdGNoZWRdLCBjYXB0dXJlcywgcG9zaXRpb24sIFMpO1xuICAgICAgICAgIGlmIChuYW1lZENhcHR1cmVzICE9PSB1bmRlZmluZWQpIHB1c2gocmVwbGFjZXJBcmdzLCBuYW1lZENhcHR1cmVzKTtcbiAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSB0b1N0cmluZyhhcHBseShyZXBsYWNlVmFsdWUsIHVuZGVmaW5lZCwgcmVwbGFjZXJBcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwbGFjZW1lbnQgPSBnZXRTdWJzdGl0dXRpb24obWF0Y2hlZCwgUywgcG9zaXRpb24sIGNhcHR1cmVzLCBuYW1lZENhcHR1cmVzLCByZXBsYWNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA+PSBuZXh0U291cmNlUG9zaXRpb24pIHtcbiAgICAgICAgICBhY2N1bXVsYXRlZFJlc3VsdCArPSBzdHJpbmdTbGljZShTLCBuZXh0U291cmNlUG9zaXRpb24sIHBvc2l0aW9uKSArIHJlcGxhY2VtZW50O1xuICAgICAgICAgIG5leHRTb3VyY2VQb3NpdGlvbiA9IHBvc2l0aW9uICsgbWF0Y2hlZC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2N1bXVsYXRlZFJlc3VsdCArIHN0cmluZ1NsaWNlKFMsIG5leHRTb3VyY2VQb3NpdGlvbik7XG4gICAgfVxuICBdO1xufSwgIVJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTIHx8ICFSRVBMQUNFX0tFRVBTXyQwIHx8IFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZGVmaW5lQnVpbHRJbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWlucycpO1xudmFyIEludGVybmFsTWV0YWRhdGFNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtbWV0YWRhdGEnKTtcbnZhciBjb2xsZWN0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NvbGxlY3Rpb24nKTtcbnZhciBjb2xsZWN0aW9uV2VhayA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jb2xsZWN0aW9uLXdlYWsnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBpc0V4dGVuc2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLWV4dGVuc2libGUnKTtcbnZhciBlbmZvcmNlSW50ZXJuYWxTdGF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpLmVuZm9yY2U7XG52YXIgTkFUSVZFX1dFQUtfTUFQID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25hdGl2ZS13ZWFrLW1hcCcpO1xuXG52YXIgSVNfSUUxMSA9ICFnbG9iYWwuQWN0aXZlWE9iamVjdCAmJiAnQWN0aXZlWE9iamVjdCcgaW4gZ2xvYmFsO1xudmFyIEludGVybmFsV2Vha01hcDtcblxudmFyIHdyYXBwZXIgPSBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gV2Vha01hcCgpIHtcbiAgICByZXR1cm4gaW5pdCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgfTtcbn07XG5cbi8vIGBXZWFrTWFwYCBjb25zdHJ1Y3RvclxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy13ZWFrbWFwLWNvbnN0cnVjdG9yXG52YXIgJFdlYWtNYXAgPSBjb2xsZWN0aW9uKCdXZWFrTWFwJywgd3JhcHBlciwgY29sbGVjdGlvbldlYWspO1xuXG4vLyBJRTExIFdlYWtNYXAgZnJvemVuIGtleXMgZml4XG4vLyBXZSBjYW4ndCB1c2UgZmVhdHVyZSBkZXRlY3Rpb24gYmVjYXVzZSBpdCBjcmFzaCBzb21lIG9sZCBJRSBidWlsZHNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy80ODVcbmlmIChOQVRJVkVfV0VBS19NQVAgJiYgSVNfSUUxMSkge1xuICBJbnRlcm5hbFdlYWtNYXAgPSBjb2xsZWN0aW9uV2Vhay5nZXRDb25zdHJ1Y3Rvcih3cmFwcGVyLCAnV2Vha01hcCcsIHRydWUpO1xuICBJbnRlcm5hbE1ldGFkYXRhTW9kdWxlLmVuYWJsZSgpO1xuICB2YXIgV2Vha01hcFByb3RvdHlwZSA9ICRXZWFrTWFwLnByb3RvdHlwZTtcbiAgdmFyIG5hdGl2ZURlbGV0ZSA9IHVuY3VycnlUaGlzKFdlYWtNYXBQcm90b3R5cGVbJ2RlbGV0ZSddKTtcbiAgdmFyIG5hdGl2ZUhhcyA9IHVuY3VycnlUaGlzKFdlYWtNYXBQcm90b3R5cGUuaGFzKTtcbiAgdmFyIG5hdGl2ZUdldCA9IHVuY3VycnlUaGlzKFdlYWtNYXBQcm90b3R5cGUuZ2V0KTtcbiAgdmFyIG5hdGl2ZVNldCA9IHVuY3VycnlUaGlzKFdlYWtNYXBQcm90b3R5cGUuc2V0KTtcbiAgZGVmaW5lQnVpbHRJbnMoV2Vha01hcFByb3RvdHlwZSwge1xuICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoaXNPYmplY3Qoa2V5KSAmJiAhaXNFeHRlbnNpYmxlKGtleSkpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZW5mb3JjZUludGVybmFsU3RhdGUodGhpcyk7XG4gICAgICAgIGlmICghc3RhdGUuZnJvemVuKSBzdGF0ZS5mcm96ZW4gPSBuZXcgSW50ZXJuYWxXZWFrTWFwKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVEZWxldGUodGhpcywga2V5KSB8fCBzdGF0ZS5mcm96ZW5bJ2RlbGV0ZSddKGtleSk7XG4gICAgICB9IHJldHVybiBuYXRpdmVEZWxldGUodGhpcywga2V5KTtcbiAgICB9LFxuICAgIGhhczogZnVuY3Rpb24gaGFzKGtleSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGtleSkgJiYgIWlzRXh0ZW5zaWJsZShrZXkpKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGVuZm9yY2VJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICAgICAgICBpZiAoIXN0YXRlLmZyb3plbikgc3RhdGUuZnJvemVuID0gbmV3IEludGVybmFsV2Vha01hcCgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlSGFzKHRoaXMsIGtleSkgfHwgc3RhdGUuZnJvemVuLmhhcyhrZXkpO1xuICAgICAgfSByZXR1cm4gbmF0aXZlSGFzKHRoaXMsIGtleSk7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgIGlmIChpc09iamVjdChrZXkpICYmICFpc0V4dGVuc2libGUoa2V5KSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBlbmZvcmNlSW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFzdGF0ZS5mcm96ZW4pIHN0YXRlLmZyb3plbiA9IG5ldyBJbnRlcm5hbFdlYWtNYXAoKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUhhcyh0aGlzLCBrZXkpID8gbmF0aXZlR2V0KHRoaXMsIGtleSkgOiBzdGF0ZS5mcm96ZW4uZ2V0KGtleSk7XG4gICAgICB9IHJldHVybiBuYXRpdmVHZXQodGhpcywga2V5KTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdChrZXkpICYmICFpc0V4dGVuc2libGUoa2V5KSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBlbmZvcmNlSW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFzdGF0ZS5mcm96ZW4pIHN0YXRlLmZyb3plbiA9IG5ldyBJbnRlcm5hbFdlYWtNYXAoKTtcbiAgICAgICAgbmF0aXZlSGFzKHRoaXMsIGtleSkgPyBuYXRpdmVTZXQodGhpcywga2V5LCB2YWx1ZSkgOiBzdGF0ZS5mcm96ZW4uc2V0KGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIG5hdGl2ZVNldCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSk7XG59XG4iLCIvLyBUT0RPOiBSZW1vdmUgdGhpcyBtb2R1bGUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIHJlcGxhY2VkIHRvIG1vZHVsZSBiZWxvd1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy53ZWFrLW1hcC5jb25zdHJ1Y3RvcicpO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBET01JdGVyYWJsZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9tLWl0ZXJhYmxlcycpO1xudmFyIERPTVRva2VuTGlzdFByb3RvdHlwZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb20tdG9rZW4tbGlzdC1wcm90b3R5cGUnKTtcbnZhciBmb3JFYWNoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWZvci1lYWNoJyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xuXG52YXIgaGFuZGxlUHJvdG90eXBlID0gZnVuY3Rpb24gKENvbGxlY3Rpb25Qcm90b3R5cGUpIHtcbiAgLy8gc29tZSBDaHJvbWUgdmVyc2lvbnMgaGF2ZSBub24tY29uZmlndXJhYmxlIG1ldGhvZHMgb24gRE9NVG9rZW5MaXN0XG4gIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlICYmIENvbGxlY3Rpb25Qcm90b3R5cGUuZm9yRWFjaCAhPT0gZm9yRWFjaCkgdHJ5IHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoQ29sbGVjdGlvblByb3RvdHlwZSwgJ2ZvckVhY2gnLCBmb3JFYWNoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBDb2xsZWN0aW9uUHJvdG90eXBlLmZvckVhY2ggPSBmb3JFYWNoO1xuICB9XG59O1xuXG5mb3IgKHZhciBDT0xMRUNUSU9OX05BTUUgaW4gRE9NSXRlcmFibGVzKSB7XG4gIGlmIChET01JdGVyYWJsZXNbQ09MTEVDVElPTl9OQU1FXSkge1xuICAgIGhhbmRsZVByb3RvdHlwZShnbG9iYWxbQ09MTEVDVElPTl9OQU1FXSAmJiBnbG9iYWxbQ09MTEVDVElPTl9OQU1FXS5wcm90b3R5cGUpO1xuICB9XG59XG5cbmhhbmRsZVByb3RvdHlwZShET01Ub2tlbkxpc3RQcm90b3R5cGUpO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBET01JdGVyYWJsZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9tLWl0ZXJhYmxlcycpO1xudmFyIERPTVRva2VuTGlzdFByb3RvdHlwZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb20tdG9rZW4tbGlzdC1wcm90b3R5cGUnKTtcbnZhciBBcnJheUl0ZXJhdG9yTWV0aG9kcyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyIEFycmF5VmFsdWVzID0gQXJyYXlJdGVyYXRvck1ldGhvZHMudmFsdWVzO1xuXG52YXIgaGFuZGxlUHJvdG90eXBlID0gZnVuY3Rpb24gKENvbGxlY3Rpb25Qcm90b3R5cGUsIENPTExFQ1RJT05fTkFNRSkge1xuICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZSkge1xuICAgIC8vIHNvbWUgQ2hyb21lIHZlcnNpb25zIGhhdmUgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2RzIG9uIERPTVRva2VuTGlzdFxuICAgIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlW0lURVJBVE9SXSAhPT0gQXJyYXlWYWx1ZXMpIHRyeSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoQ29sbGVjdGlvblByb3RvdHlwZSwgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgQ29sbGVjdGlvblByb3RvdHlwZVtJVEVSQVRPUl0gPSBBcnJheVZhbHVlcztcbiAgICB9XG4gICAgaWYgKCFDb2xsZWN0aW9uUHJvdG90eXBlW1RPX1NUUklOR19UQUddKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoQ29sbGVjdGlvblByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRywgQ09MTEVDVElPTl9OQU1FKTtcbiAgICB9XG4gICAgaWYgKERPTUl0ZXJhYmxlc1tDT0xMRUNUSU9OX05BTUVdKSBmb3IgKHZhciBNRVRIT0RfTkFNRSBpbiBBcnJheUl0ZXJhdG9yTWV0aG9kcykge1xuICAgICAgLy8gc29tZSBDaHJvbWUgdmVyc2lvbnMgaGF2ZSBub24tY29uZmlndXJhYmxlIG1ldGhvZHMgb24gRE9NVG9rZW5MaXN0XG4gICAgICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZVtNRVRIT0RfTkFNRV0gIT09IEFycmF5SXRlcmF0b3JNZXRob2RzW01FVEhPRF9OQU1FXSkgdHJ5IHtcbiAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsIE1FVEhPRF9OQU1FLCBBcnJheUl0ZXJhdG9yTWV0aG9kc1tNRVRIT0RfTkFNRV0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgQ29sbGVjdGlvblByb3RvdHlwZVtNRVRIT0RfTkFNRV0gPSBBcnJheUl0ZXJhdG9yTWV0aG9kc1tNRVRIT0RfTkFNRV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mb3IgKHZhciBDT0xMRUNUSU9OX05BTUUgaW4gRE9NSXRlcmFibGVzKSB7XG4gIGhhbmRsZVByb3RvdHlwZShnbG9iYWxbQ09MTEVDVElPTl9OQU1FXSAmJiBnbG9iYWxbQ09MTEVDVElPTl9OQU1FXS5wcm90b3R5cGUsIENPTExFQ1RJT05fTkFNRSk7XG59XG5cbmhhbmRsZVByb3RvdHlwZShET01Ub2tlbkxpc3RQcm90b3R5cGUsICdET01Ub2tlbkxpc3QnKTtcbiIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmltcG9ydCBwb255ZmlsbCBmcm9tICcuL3BvbnlmaWxsLmpzJztcblxudmFyIHJvb3Q7XG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9IHBvbnlmaWxsKHJvb3QpO1xuZXhwb3J0IGRlZmF1bHQgcmVzdWx0O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsIihmdW5jdGlvbihnbG9iYWwsZmFjdG9yeSl7aWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKXtkZWZpbmUoWydleHBvcnRzJywnbW9kdWxlJ10sZmFjdG9yeSk7fWVsc2UgaWYodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKXtmYWN0b3J5KGV4cG9ydHMsbW9kdWxlKTt9ZWxzZSB7dmFyIG1vZD17ZXhwb3J0czp7fX07ZmFjdG9yeShtb2QuZXhwb3J0cyxtb2QpO2dsb2JhbC50YWdzSW5wdXQgPSBtb2QuZXhwb3J0czt9fSkodGhpcyxmdW5jdGlvbihleHBvcnRzLG1vZHVsZSl7J3VzZSBzdHJpY3QnO21vZHVsZS5leHBvcnRzID0gdGFnc0lucHV0O3ZhciBCQUNLU1BBQ0U9OCxUQUI9OSxFTlRFUj0xMyxMRUZUPTM3LFJJR0hUPTM5LERFTEVURT00NixDT01NQT0xODg7dmFyIFNFUEVSQVRPUj0nLCc7dmFyIENPUFlfUFJPUFM9J3BsYWNlaG9sZGVyIHBhdHRlcm4gc3BlbGxjaGVjayBhdXRvY29tcGxldGUgYXV0b2NhcGl0YWxpemUgYXV0b2ZvY3VzIGFjY2Vzc0tleSBhY2NlcHQgbGFuZyBtaW5MZW5ndGggbWF4TGVuZ3RoIHJlcXVpcmVkJy5zcGxpdCgnICcpO2Z1bmN0aW9uIHRhZ3NJbnB1dChpbnB1dCl7ZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLG5hbWUsdGV4dCxhdHRyaWJ1dGVzKXt2YXIgZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtpZihuYW1lKWVsLmNsYXNzTmFtZSA9IG5hbWU7aWYodGV4dCllbC50ZXh0Q29udGVudCA9IHRleHQ7Zm9yKHZhciBrZXkgaW4gYXR0cmlidXRlcykge2VsLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LGF0dHJpYnV0ZXNba2V5XSk7fXJldHVybiBlbDt9ZnVuY3Rpb24gJChzZWxlY3RvcixhbGwpe3JldHVybiBhbGwgPT09IHRydWU/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYmFzZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk6YmFzZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTt9ZnVuY3Rpb24gZ2V0VmFsdWUoKXtyZXR1cm4gJCgnLnRhZycsdHJ1ZSkubWFwKGZ1bmN0aW9uKHRhZyl7cmV0dXJuIHRhZy50ZXh0Q29udGVudDt9KS5jb25jYXQoYmFzZS5pbnB1dC52YWx1ZSB8fCBbXSkuam9pbihTRVBFUkFUT1IpO31mdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSl7JCgnLnRhZycsdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gYmFzZS5yZW1vdmVDaGlsZCh0KTt9KTtzYXZlUGFydGlhbElucHV0KHZhbHVlKTt9ZnVuY3Rpb24gc2F2ZSgpe2lucHV0LnZhbHVlID0gZ2V0VmFsdWUoKTtpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO31mdW5jdGlvbiBhZGRUYWcodGV4dCl7aWYofnRleHQuaW5kZXhPZihTRVBFUkFUT1IpKXRleHQgPSB0ZXh0LnNwbGl0KFNFUEVSQVRPUik7aWYoQXJyYXkuaXNBcnJheSh0ZXh0KSlyZXR1cm4gdGV4dC5mb3JFYWNoKGFkZFRhZyk7dmFyIHRhZz10ZXh0ICYmIHRleHQudHJpbSgpO2lmKCF0YWcpcmV0dXJuIGZhbHNlO2lmKCFpbnB1dC5nZXRBdHRyaWJ1dGUoJ2R1cGxpY2F0ZXMnKSl7dmFyIF9yZXQ9KGZ1bmN0aW9uKCl7dmFyIGV4aXNpbmdUYWc9JCgnW2RhdGEtdGFnPVwiJyArIHRhZyArICdcIl0nKTtpZihleGlzaW5nVGFnKXtleGlzaW5nVGFnLmNsYXNzTGlzdC5hZGQoJ2R1cGUnKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGV4aXNpbmdUYWcuY2xhc3NMaXN0LnJlbW92ZSgnZHVwZScpO30sMTAwKTtyZXR1cm4ge3Y6ZmFsc2V9O319KSgpO2lmKHR5cGVvZiBfcmV0ID09PSAnb2JqZWN0JylyZXR1cm4gX3JldC52O31iYXNlLmluc2VydEJlZm9yZShjcmVhdGVFbGVtZW50KCdzcGFuJywndGFnJyx0YWcse3RhZzp0YWd9KSxiYXNlLmlucHV0KTt9ZnVuY3Rpb24gc2VsZWN0KGVsKXt2YXIgc2VsPSQoJy5zZWxlY3RlZCcpO2lmKHNlbClzZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtpZihlbCllbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO31mdW5jdGlvbiBzZXRJbnB1dFdpZHRoKCl7dmFyIGxhc3Q9JCgnLnRhZycsdHJ1ZSkucG9wKCksdz1iYXNlLm9mZnNldFdpZHRoO2lmKCF3KXJldHVybjtiYXNlLmlucHV0LnN0eWxlLndpZHRoID0gTWF0aC5tYXgodyAtIChsYXN0P2xhc3Qub2Zmc2V0TGVmdCArIGxhc3Qub2Zmc2V0V2lkdGg6NSkgLSA1LHcgLyA0KSArICdweCc7fWZ1bmN0aW9uIHNhdmVQYXJ0aWFsSW5wdXQodmFsdWUpe2lmKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKXt2YWx1ZSA9IGJhc2UuaW5wdXQudmFsdWU7fWlmKGFkZFRhZyh2YWx1ZSkgIT09IGZhbHNlKXtiYXNlLmlucHV0LnZhbHVlID0gJyc7c2F2ZSgpO3NldElucHV0V2lkdGgoKTt9fWZ1bmN0aW9uIHJlZm9jdXMoZSl7aWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWcnKSlzZWxlY3QoZS50YXJnZXQpO2lmKGUudGFyZ2V0ID09PSBiYXNlLmlucHV0KXJldHVybiBzZWxlY3QoKTtiYXNlLmlucHV0LmZvY3VzKCk7ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBmYWxzZTt9dmFyIGJhc2U9Y3JlYXRlRWxlbWVudCgnZGl2JywndGFncy1pbnB1dCcpLHNpYj1pbnB1dC5uZXh0U2libGluZztpbnB1dC5wYXJlbnROb2RlW3NpYj8naW5zZXJ0QmVmb3JlJzonYXBwZW5kQ2hpbGQnXShiYXNlLHNpYik7aW5wdXQuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi05OXB4O3dpZHRoOjFweDtoZWlnaHQ6MXB4O29wYWNpdHk6MC4wMTsnO2lucHV0LnRhYkluZGV4ID0gLTE7YmFzZS5pbnB1dCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7YmFzZS5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCd0ZXh0Jyk7Q09QWV9QUk9QUy5mb3JFYWNoKGZ1bmN0aW9uKHByb3Ape2lmKGlucHV0W3Byb3BdICE9PSBiYXNlLmlucHV0W3Byb3BdKXtiYXNlLmlucHV0W3Byb3BdID0gaW5wdXRbcHJvcF07dHJ5e2RlbGV0ZSBpbnB1dFtwcm9wXTt9Y2F0Y2goZSkge319fSk7YmFzZS5hcHBlbmRDaGlsZChiYXNlLmlucHV0KTtpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsZnVuY3Rpb24oKXtiYXNlLmlucHV0LmZvY3VzKCk7fSk7YmFzZS5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsZnVuY3Rpb24oKXtiYXNlLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzJyk7c2VsZWN0KCk7fSk7YmFzZS5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJyxmdW5jdGlvbigpe2Jhc2UuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXMnKTtzZWxlY3QoKTtzYXZlUGFydGlhbElucHV0KCk7fSk7YmFzZS5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyxmdW5jdGlvbihlKXt2YXIgZWw9YmFzZS5pbnB1dCxrZXk9ZS5rZXlDb2RlIHx8IGUud2hpY2gsc2VsZWN0ZWRUYWc9JCgnLnRhZy5zZWxlY3RlZCcpLHBvcz1lbC5zZWxlY3Rpb25TdGFydCA9PT0gZWwuc2VsZWN0aW9uRW5kICYmIGVsLnNlbGVjdGlvblN0YXJ0LGxhc3Q9JCgnLnRhZycsdHJ1ZSkucG9wKCk7c2V0SW5wdXRXaWR0aCgpO2lmKGtleSA9PT0gRU5URVIgfHwga2V5ID09PSBDT01NQSB8fCBrZXkgPT09IFRBQil7aWYoIWVsLnZhbHVlICYmIGtleSAhPT0gQ09NTUEpcmV0dXJuO3NhdmVQYXJ0aWFsSW5wdXQoKTt9ZWxzZSBpZihrZXkgPT09IERFTEVURSAmJiBzZWxlY3RlZFRhZyl7aWYoc2VsZWN0ZWRUYWcubmV4dFNpYmxpbmcgIT09IGJhc2UuaW5wdXQpc2VsZWN0KHNlbGVjdGVkVGFnLm5leHRTaWJsaW5nKTtiYXNlLnJlbW92ZUNoaWxkKHNlbGVjdGVkVGFnKTtzZXRJbnB1dFdpZHRoKCk7c2F2ZSgpO31lbHNlIGlmKGtleSA9PT0gQkFDS1NQQUNFKXtpZihzZWxlY3RlZFRhZyl7c2VsZWN0KHNlbGVjdGVkVGFnLnByZXZpb3VzU2libGluZyk7YmFzZS5yZW1vdmVDaGlsZChzZWxlY3RlZFRhZyk7c2V0SW5wdXRXaWR0aCgpO3NhdmUoKTt9ZWxzZSBpZihsYXN0ICYmIHBvcyA9PT0gMCl7c2VsZWN0KGxhc3QpO31lbHNlIHtyZXR1cm47fX1lbHNlIGlmKGtleSA9PT0gTEVGVCl7aWYoc2VsZWN0ZWRUYWcpe2lmKHNlbGVjdGVkVGFnLnByZXZpb3VzU2libGluZyl7c2VsZWN0KHNlbGVjdGVkVGFnLnByZXZpb3VzU2libGluZyk7fX1lbHNlIGlmKHBvcyAhPT0gMCl7cmV0dXJuO31lbHNlIHtzZWxlY3QobGFzdCk7fX1lbHNlIGlmKGtleSA9PT0gUklHSFQpe2lmKCFzZWxlY3RlZFRhZylyZXR1cm47c2VsZWN0KHNlbGVjdGVkVGFnLm5leHRTaWJsaW5nKTt9ZWxzZSB7cmV0dXJuIHNlbGVjdCgpO31lLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGZhbHNlO30pO2Jhc2UuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLGZ1bmN0aW9uKCl7aW5wdXQudmFsdWUgPSBnZXRWYWx1ZSgpO2lucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTt9KTtiYXNlLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJyxmdW5jdGlvbigpe3JldHVybiBzZXRUaW1lb3V0KHNhdmVQYXJ0aWFsSW5wdXQsMCk7fSk7YmFzZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLHJlZm9jdXMpO2Jhc2UuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcscmVmb2N1cyk7YmFzZS5zZXRWYWx1ZSA9IHNldFZhbHVlO2Jhc2UuZ2V0VmFsdWUgPSBnZXRWYWx1ZTtzYXZlUGFydGlhbElucHV0KGlucHV0LnZhbHVlKTt9dGFnc0lucHV0LmVuaGFuY2UgPSB0YWdzSW5wdXQudGFnc0lucHV0ID0gdGFnc0lucHV0O30pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFncy1pbnB1dC5qcy5tYXAiLCJ2YXIgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zO1xuKGZ1bmN0aW9uIChSZXNpemVPYnNlcnZlckJveE9wdGlvbnMpIHtcbiAgICBSZXNpemVPYnNlcnZlckJveE9wdGlvbnNbXCJCT1JERVJfQk9YXCJdID0gXCJib3JkZXItYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQ09OVEVOVF9CT1hcIl0gPSBcImNvbnRlbnQtYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiREVWSUNFX1BJWEVMX0NPTlRFTlRfQk9YXCJdID0gXCJkZXZpY2UtcGl4ZWwtY29udGVudC1ib3hcIjtcbn0pKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB8fCAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zID0ge30pKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9O1xuIiwidmFyIHJlc2l6ZU9ic2VydmVycyA9IFtdO1xuZXhwb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH07XG4iLCJ2YXIgbXNnID0gJ1Jlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4nO1xudmFyIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXJyb3InLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuZXhwb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9O1xuIiwiZXhwb3J0IHZhciBmcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7IH07XG4iLCJ2YXIgdHJpZ2dlcjtcbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFja3Muc3BsaWNlKDApLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTsgfTtcbnZhciBxdWV1ZU1pY3JvVGFzayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghdHJpZ2dlcikge1xuICAgICAgICB2YXIgdG9nZ2xlXzEgPSAwO1xuICAgICAgICB2YXIgZWxfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9O1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBub3RpZnkoKTsgfSkub2JzZXJ2ZShlbF8xLCBjb25maWcpO1xuICAgICAgICB0cmlnZ2VyID0gZnVuY3Rpb24gKCkgeyBlbF8xLnRleHRDb250ZW50ID0gXCJcIiArICh0b2dnbGVfMSA/IHRvZ2dsZV8xLS0gOiB0b2dnbGVfMSsrKTsgfTtcbiAgICB9XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRyaWdnZXIoKTtcbn07XG5leHBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9O1xuIiwiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIFJlc2l6ZU9ic2VydmVyU2l6ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJTaXplKGlubGluZVNpemUsIGJsb2NrU2l6ZSkge1xuICAgICAgICB0aGlzLmlubGluZVNpemUgPSBpbmxpbmVTaXplO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IGJsb2NrU2l6ZTtcbiAgICAgICAgZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJTaXplO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyU2l6ZSB9O1xuIiwiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIERPTVJlY3RSZWFkT25seSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRE9NUmVjdFJlYWRPbmx5KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMueDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDtcbiAgICAgICAgcmV0dXJuIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgRE9NUmVjdFJlYWRPbmx5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHggPSBfYS54LCB5ID0gX2EueSwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBib3R0b20gPSBfYS5ib3R0b20sIGxlZnQgPSBfYS5sZWZ0LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHRvcDogdG9wLCByaWdodDogcmlnaHQsIGJvdHRvbTogYm90dG9tLCBsZWZ0OiBsZWZ0LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfTtcbiAgICBET01SZWN0UmVhZE9ubHkuZnJvbVJlY3QgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRE9NUmVjdFJlYWRPbmx5KHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBET01SZWN0UmVhZE9ubHk7XG59KCkpO1xuZXhwb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH07XG4iLCJ2YXIgaXNTVkcgPSBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmICdnZXRCQm94JyBpbiB0YXJnZXQ7IH07XG52YXIgaXNIaWRkZW4gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKGlzU1ZHKHRhcmdldCkpIHtcbiAgICAgICAgdmFyIF9hID0gdGFyZ2V0LmdldEJCb3goKSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gIXdpZHRoICYmICFoZWlnaHQ7XG4gICAgfVxuICAgIHZhciBfYiA9IHRhcmdldCwgb2Zmc2V0V2lkdGggPSBfYi5vZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0ID0gX2Iub2Zmc2V0SGVpZ2h0O1xuICAgIHJldHVybiAhKG9mZnNldFdpZHRoIHx8IG9mZnNldEhlaWdodCB8fCB0YXJnZXQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpO1xufTtcbnZhciBpc0VsZW1lbnQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHNjb3BlID0gKF9iID0gKF9hID0gb2JqKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3duZXJEb2N1bWVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlZmF1bHRWaWV3O1xuICAgIHJldHVybiAhIShzY29wZSAmJiBvYmogaW5zdGFuY2VvZiBzY29wZS5FbGVtZW50KTtcbn07XG52YXIgaXNSZXBsYWNlZEVsZW1lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgc3dpdGNoICh0YXJnZXQudGFnTmFtZSkge1xuICAgICAgICBjYXNlICdJTlBVVCc6XG4gICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUgIT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnVklERU8nOlxuICAgICAgICBjYXNlICdBVURJTyc6XG4gICAgICAgIGNhc2UgJ0VNQkVEJzpcbiAgICAgICAgY2FzZSAnT0JKRUNUJzpcbiAgICAgICAgY2FzZSAnQ0FOVkFTJzpcbiAgICAgICAgY2FzZSAnSUZSQU1FJzpcbiAgICAgICAgY2FzZSAnSU1HJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IHsgaXNTVkcsIGlzSGlkZGVuLCBpc0VsZW1lbnQsIGlzUmVwbGFjZWRFbGVtZW50IH07XG4iLCJleHBvcnQgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4iLCJpbXBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJTaXplJztcbmltcG9ydCB7IERPTVJlY3RSZWFkT25seSB9IGZyb20gJy4uL0RPTVJlY3RSZWFkT25seSc7XG5pbXBvcnQgeyBpc1NWRywgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4uL3V0aWxzL2ZyZWV6ZSc7XG5pbXBvcnQgeyBnbG9iYWwgfSBmcm9tICcuLi91dGlscy9nbG9iYWwnO1xudmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbnZhciBzY3JvbGxSZWdleHAgPSAvYXV0b3xzY3JvbGwvO1xudmFyIHZlcnRpY2FsUmVnZXhwID0gL150Ynx2ZXJ0aWNhbC87XG52YXIgSUUgPSAoL21zaWV8dHJpZGVudC9pKS50ZXN0KGdsb2JhbC5uYXZpZ2F0b3IgJiYgZ2xvYmFsLm5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIHBhcnNlRGltZW5zaW9uID0gZnVuY3Rpb24gKHBpeGVsKSB7IHJldHVybiBwYXJzZUZsb2F0KHBpeGVsIHx8ICcwJyk7IH07XG52YXIgc2l6ZSA9IGZ1bmN0aW9uIChpbmxpbmVTaXplLCBibG9ja1NpemUsIHN3aXRjaFNpemVzKSB7XG4gICAgaWYgKGlubGluZVNpemUgPT09IHZvaWQgMCkgeyBpbmxpbmVTaXplID0gMDsgfVxuICAgIGlmIChibG9ja1NpemUgPT09IHZvaWQgMCkgeyBibG9ja1NpemUgPSAwOyB9XG4gICAgaWYgKHN3aXRjaFNpemVzID09PSB2b2lkIDApIHsgc3dpdGNoU2l6ZXMgPSBmYWxzZTsgfVxuICAgIHJldHVybiBuZXcgUmVzaXplT2JzZXJ2ZXJTaXplKChzd2l0Y2hTaXplcyA/IGJsb2NrU2l6ZSA6IGlubGluZVNpemUpIHx8IDAsIChzd2l0Y2hTaXplcyA/IGlubGluZVNpemUgOiBibG9ja1NpemUpIHx8IDApO1xufTtcbnZhciB6ZXJvQm94ZXMgPSBmcmVlemUoe1xuICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoKSxcbiAgICBib3JkZXJCb3hTaXplOiBzaXplKCksXG4gICAgY29udGVudEJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seSgwLCAwLCAwLCAwKVxufSk7XG52YXIgY2FsY3VsYXRlQm94U2l6ZXMgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICBpZiAoZm9yY2VSZWNhbGN1bGF0aW9uID09PSB2b2lkIDApIHsgZm9yY2VSZWNhbGN1bGF0aW9uID0gZmFsc2U7IH1cbiAgICBpZiAoY2FjaGUuaGFzKHRhcmdldCkgJiYgIWZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KHRhcmdldCk7XG4gICAgfVxuICAgIGlmIChpc0hpZGRlbih0YXJnZXQpKSB7XG4gICAgICAgIGNhY2hlLnNldCh0YXJnZXQsIHplcm9Cb3hlcyk7XG4gICAgICAgIHJldHVybiB6ZXJvQm94ZXM7XG4gICAgfVxuICAgIHZhciBjcyA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KTtcbiAgICB2YXIgc3ZnID0gaXNTVkcodGFyZ2V0KSAmJiB0YXJnZXQub3duZXJTVkdFbGVtZW50ICYmIHRhcmdldC5nZXRCQm94KCk7XG4gICAgdmFyIHJlbW92ZVBhZGRpbmcgPSAhSUUgJiYgY3MuYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCc7XG4gICAgdmFyIHN3aXRjaFNpemVzID0gdmVydGljYWxSZWdleHAudGVzdChjcy53cml0aW5nTW9kZSB8fCAnJyk7XG4gICAgdmFyIGNhblNjcm9sbFZlcnRpY2FsbHkgPSAhc3ZnICYmIHNjcm9sbFJlZ2V4cC50ZXN0KGNzLm92ZXJmbG93WSB8fCAnJyk7XG4gICAgdmFyIGNhblNjcm9sbEhvcml6b250YWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dYIHx8ICcnKTtcbiAgICB2YXIgcGFkZGluZ1RvcCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nVG9wKTtcbiAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdSaWdodCk7XG4gICAgdmFyIHBhZGRpbmdCb3R0b20gPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0JvdHRvbSk7XG4gICAgdmFyIHBhZGRpbmdMZWZ0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdMZWZ0KTtcbiAgICB2YXIgYm9yZGVyVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlclRvcFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyUmlnaHRXaWR0aCk7XG4gICAgdmFyIGJvcmRlckJvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgdmFyIGJvcmRlckxlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyTGVmdFdpZHRoKTtcbiAgICB2YXIgaG9yaXpvbnRhbFBhZGRpbmcgPSBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodDtcbiAgICB2YXIgdmVydGljYWxQYWRkaW5nID0gcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b207XG4gICAgdmFyIGhvcml6b250YWxCb3JkZXJBcmVhID0gYm9yZGVyTGVmdCArIGJvcmRlclJpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbEJvcmRlckFyZWEgPSBib3JkZXJUb3AgKyBib3JkZXJCb3R0b207XG4gICAgdmFyIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MgPSAhY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID8gMCA6IHRhcmdldC5vZmZzZXRIZWlnaHQgLSB2ZXJ0aWNhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50SGVpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxWZXJ0aWNhbGx5ID8gMCA6IHRhcmdldC5vZmZzZXRXaWR0aCAtIGhvcml6b250YWxCb3JkZXJBcmVhIC0gdGFyZ2V0LmNsaWVudFdpZHRoO1xuICAgIHZhciB3aWR0aFJlZHVjdGlvbiA9IHJlbW92ZVBhZGRpbmcgPyBob3Jpem9udGFsUGFkZGluZyArIGhvcml6b250YWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgaGVpZ2h0UmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IHZlcnRpY2FsUGFkZGluZyArIHZlcnRpY2FsQm9yZGVyQXJlYSA6IDA7XG4gICAgdmFyIGNvbnRlbnRXaWR0aCA9IHN2ZyA/IHN2Zy53aWR0aCA6IHBhcnNlRGltZW5zaW9uKGNzLndpZHRoKSAtIHdpZHRoUmVkdWN0aW9uIC0gdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3M7XG4gICAgdmFyIGNvbnRlbnRIZWlnaHQgPSBzdmcgPyBzdmcuaGVpZ2h0IDogcGFyc2VEaW1lbnNpb24oY3MuaGVpZ2h0KSAtIGhlaWdodFJlZHVjdGlvbiAtIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3M7XG4gICAgdmFyIGJvcmRlckJveFdpZHRoID0gY29udGVudFdpZHRoICsgaG9yaXpvbnRhbFBhZGRpbmcgKyB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcyArIGhvcml6b250YWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3JkZXJCb3hIZWlnaHQgPSBjb250ZW50SGVpZ2h0ICsgdmVydGljYWxQYWRkaW5nICsgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyArIHZlcnRpY2FsQm9yZGVyQXJlYTtcbiAgICB2YXIgYm94ZXMgPSBmcmVlemUoe1xuICAgICAgICBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplOiBzaXplKE1hdGgucm91bmQoY29udGVudFdpZHRoICogZGV2aWNlUGl4ZWxSYXRpbyksIE1hdGgucm91bmQoY29udGVudEhlaWdodCAqIGRldmljZVBpeGVsUmF0aW8pLCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGJvcmRlckJveFNpemU6IHNpemUoYm9yZGVyQm94V2lkdGgsIGJvcmRlckJveEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50Qm94U2l6ZTogc2l6ZShjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIHN3aXRjaFNpemVzKSxcbiAgICAgICAgY29udGVudFJlY3Q6IG5ldyBET01SZWN0UmVhZE9ubHkocGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClcbiAgICB9KTtcbiAgICBjYWNoZS5zZXQodGFyZ2V0LCBib3hlcyk7XG4gICAgcmV0dXJuIGJveGVzO1xufTtcbnZhciBjYWxjdWxhdGVCb3hTaXplID0gZnVuY3Rpb24gKHRhcmdldCwgb2JzZXJ2ZWRCb3gsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIHZhciBfYSA9IGNhbGN1bGF0ZUJveFNpemVzKHRhcmdldCwgZm9yY2VSZWNhbGN1bGF0aW9uKSwgYm9yZGVyQm94U2l6ZSA9IF9hLmJvcmRlckJveFNpemUsIGNvbnRlbnRCb3hTaXplID0gX2EuY29udGVudEJveFNpemUsIGRldmljZVBpeGVsQ29udGVudEJveFNpemUgPSBfYS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xuICAgIHN3aXRjaCAob2JzZXJ2ZWRCb3gpIHtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuREVWSUNFX1BJWEVMX0NPTlRFTlRfQk9YOlxuICAgICAgICAgICAgcmV0dXJuIGRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgICAgIGNhc2UgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkJPUkRFUl9CT1g6XG4gICAgICAgICAgICByZXR1cm4gYm9yZGVyQm94U2l6ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50Qm94U2l6ZTtcbiAgICB9XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSwgY2FsY3VsYXRlQm94U2l6ZXMgfTtcbiIsImltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemVzIH0gZnJvbSAnLi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIFJlc2l6ZU9ic2VydmVyRW50cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRW50cnkodGFyZ2V0KSB7XG4gICAgICAgIHZhciBib3hlcyA9IGNhbGN1bGF0ZUJveFNpemVzKHRhcmdldCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmNvbnRlbnRSZWN0ID0gYm94ZXMuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuYm9yZGVyQm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuYm9yZGVyQm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmNvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5jb250ZW50Qm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmRldmljZVBpeGVsQ29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmRldmljZVBpeGVsQ29udGVudEJveFNpemVdKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRW50cnk7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9O1xuIiwiaW1wb3J0IHsgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbnZhciBjYWxjdWxhdGVEZXB0aEZvck5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChpc0hpZGRlbihub2RlKSkge1xuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGg7XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyRW50cnknO1xuaW1wb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH0gZnJvbSAnLi9jYWxjdWxhdGVEZXB0aEZvck5vZGUnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vY2FsY3VsYXRlQm94U2l6ZSc7XG52YXIgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzaGFsbG93ZXN0RGVwdGggPSBJbmZpbml0eTtcbiAgICB2YXIgY2FsbGJhY2tzID0gW107XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIGlmIChyby5hY3RpdmVUYXJnZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzVGFyZ2V0KG90KSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBuZXcgUmVzaXplT2JzZXJ2ZXJFbnRyeShvdC50YXJnZXQpO1xuICAgICAgICAgICAgdmFyIHRhcmdldERlcHRoID0gY2FsY3VsYXRlRGVwdGhGb3JOb2RlKG90LnRhcmdldCk7XG4gICAgICAgICAgICBlbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgb3QubGFzdFJlcG9ydGVkU2l6ZSA9IGNhbGN1bGF0ZUJveFNpemUob3QudGFyZ2V0LCBvdC5vYnNlcnZlZEJveCk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0RGVwdGggPCBzaGFsbG93ZXN0RGVwdGgpIHtcbiAgICAgICAgICAgICAgICBzaGFsbG93ZXN0RGVwdGggPSB0YXJnZXREZXB0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uIHJlc2l6ZU9ic2VydmVyQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICByby5jYWxsYmFjay5jYWxsKHJvLm9ic2VydmVyLCBlbnRyaWVzLCByby5vYnNlcnZlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgfSk7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBjYWxsYmFja3NfMSA9IGNhbGxiYWNrczsgX2kgPCBjYWxsYmFja3NfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzXzFbX2ldO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhbGxvd2VzdERlcHRoO1xufTtcbmV4cG9ydCB7IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbnZhciBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoID0gZnVuY3Rpb24gKGRlcHRoKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMuc3BsaWNlKDAsIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLm9ic2VydmF0aW9uVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIGlmIChvdC5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpID4gZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9O1xuIiwiaW1wb3J0IHsgcHJvY2VzcyB9IGZyb20gJy4vcHJvY2Vzcyc7XG5pbXBvcnQgeyBnbG9iYWwgfSBmcm9tICcuL2dsb2JhbCc7XG5pbXBvcnQgeyBxdWV1ZVJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi9xdWV1ZVJlc2l6ZU9ic2VydmVyJztcbnZhciB3YXRjaGluZyA9IDA7XG52YXIgaXNXYXRjaGluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEhd2F0Y2hpbmc7IH07XG52YXIgQ0FUQ0hfUEVSSU9EID0gMjUwO1xudmFyIG9ic2VydmVyQ29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGFyYWN0ZXJEYXRhOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcbnZhciBldmVudHMgPSBbXG4gICAgJ3Jlc2l6ZScsXG4gICAgJ2xvYWQnLFxuICAgICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnYW5pbWF0aW9uZW5kJyxcbiAgICAnYW5pbWF0aW9uc3RhcnQnLFxuICAgICdhbmltYXRpb25pdGVyYXRpb24nLFxuICAgICdrZXl1cCcsXG4gICAgJ2tleWRvd24nLFxuICAgICdtb3VzZXVwJyxcbiAgICAnbW91c2Vkb3duJyxcbiAgICAnbW91c2VvdmVyJyxcbiAgICAnbW91c2VvdXQnLFxuICAgICdibHVyJyxcbiAgICAnZm9jdXMnXG5dO1xudmFyIHRpbWUgPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IDA7IH1cbiAgICByZXR1cm4gRGF0ZS5ub3coKSArIHRpbWVvdXQ7XG59O1xudmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2NoZWR1bGUoKTsgfTtcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7IHRpbWVvdXQgPSBDQVRDSF9QRVJJT0Q7IH1cbiAgICAgICAgaWYgKHNjaGVkdWxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIHZhciB1bnRpbCA9IHRpbWUodGltZW91dCk7XG4gICAgICAgIHF1ZXVlUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNIYXZlUmVzaXplZCA9IHByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSB1bnRpbCAtIHRpbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzV2F0Y2hpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c0hhdmVSZXNpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bigxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMucnVuKCk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjYiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9ic2VydmVyICYmIF90aGlzLm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgb2JzZXJ2ZXJDb25maWcpOyB9O1xuICAgICAgICBkb2N1bWVudC5ib2R5ID8gY2IoKSA6IGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY2IpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5saXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmUoKTtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBfdGhpcy5saXN0ZW5lciwgdHJ1ZSk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyICYmIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbnZhciBzY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKCk7XG52YXIgdXBkYXRlQ291bnQgPSBmdW5jdGlvbiAobikge1xuICAgICF3YXRjaGluZyAmJiBuID4gMCAmJiBzY2hlZHVsZXIuc3RhcnQoKTtcbiAgICB3YXRjaGluZyArPSBuO1xuICAgICF3YXRjaGluZyAmJiBzY2hlZHVsZXIuc3RvcCgpO1xufTtcbmV4cG9ydCB7IHNjaGVkdWxlciwgdXBkYXRlQ291bnQgfTtcbiIsImltcG9ydCB7IHF1ZXVlTWljcm9UYXNrIH0gZnJvbSAnLi9xdWV1ZU1pY3JvVGFzayc7XG52YXIgcXVldWVSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uIChjYikge1xuICAgIHF1ZXVlTWljcm9UYXNrKGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfTtcbiIsImltcG9ydCB7IGhhc0FjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9IGZyb20gJy4uL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvcic7XG5pbXBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2Jyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoJztcbnZhciBwcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgd2hpbGUgKGhhc0FjdGl2ZU9ic2VydmF0aW9ucygpKSB7XG4gICAgICAgIGRlcHRoID0gYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zKCk7XG4gICAgICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIH1cbiAgICBpZiAoaGFzU2tpcHBlZE9ic2VydmF0aW9ucygpKSB7XG4gICAgICAgIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoID4gMDtcbn07XG5leHBvcnQgeyBwcm9jZXNzIH07XG4iLCJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc0FjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc0FjdGl2ZU9ic2VydmF0aW9ucyB9O1xuIiwiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXNpemVPYnNlcnZlcnMuc29tZShmdW5jdGlvbiAocm8pIHsgcmV0dXJuIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgfTtcbiIsImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZSc7XG5pbXBvcnQgeyBpc1NWRywgaXNSZXBsYWNlZEVsZW1lbnQgfSBmcm9tICcuL3V0aWxzL2VsZW1lbnQnO1xudmFyIHNraXBOb3RpZnlPbkVsZW1lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgcmV0dXJuICFpc1NWRyh0YXJnZXQpXG4gICAgICAgICYmICFpc1JlcGxhY2VkRWxlbWVudCh0YXJnZXQpXG4gICAgICAgICYmIGdldENvbXB1dGVkU3R5bGUodGFyZ2V0KS5kaXNwbGF5ID09PSAnaW5saW5lJztcbn07XG52YXIgUmVzaXplT2JzZXJ2YXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCwgb2JzZXJ2ZWRCb3gpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMub2JzZXJ2ZWRCb3ggPSBvYnNlcnZlZEJveCB8fCBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQ09OVEVOVF9CT1g7XG4gICAgICAgIHRoaXMubGFzdFJlcG9ydGVkU2l6ZSA9IHtcbiAgICAgICAgICAgIGlubGluZVNpemU6IDAsXG4gICAgICAgICAgICBibG9ja1NpemU6IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2YXRpb24ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2l6ZSA9IGNhbGN1bGF0ZUJveFNpemUodGhpcy50YXJnZXQsIHRoaXMub2JzZXJ2ZWRCb3gsIHRydWUpO1xuICAgICAgICBpZiAoc2tpcE5vdGlmeU9uRWxlbWVudCh0aGlzLnRhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlcG9ydGVkU2l6ZSA9IHNpemU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdFJlcG9ydGVkU2l6ZS5pbmxpbmVTaXplICE9PSBzaXplLmlubGluZVNpemVcbiAgICAgICAgICAgIHx8IHRoaXMubGFzdFJlcG9ydGVkU2l6ZS5ibG9ja1NpemUgIT09IHNpemUuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2YXRpb247XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2YXRpb24gfTtcbiIsInZhciBSZXNpemVPYnNlcnZlckRldGFpbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLnNraXBwZWRUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb25UYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSByZXNpemVPYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJEZXRhaWw7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgfTtcbiIsImltcG9ydCB7IHNjaGVkdWxlciwgdXBkYXRlQ291bnQgfSBmcm9tICcuL3V0aWxzL3NjaGVkdWxlcic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9IGZyb20gJy4vUmVzaXplT2JzZXJ2YXRpb24nO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyRGV0YWlsJztcbmltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBvYnNlcnZlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgZ2V0T2JzZXJ2YXRpb25JbmRleCA9IGZ1bmN0aW9uIChvYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChvYnNlcnZhdGlvblRhcmdldHNbaV0udGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn07XG52YXIgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIoKSB7XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5jb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZGV0YWlsID0gbmV3IFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjayk7XG4gICAgICAgIG9ic2VydmVyTWFwLnNldChyZXNpemVPYnNlcnZlciwgZGV0YWlsKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBmaXJzdE9ic2VydmF0aW9uID0gZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGggPT09IDA7XG4gICAgICAgIGlmIChnZXRPYnNlcnZhdGlvbkluZGV4KGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCkgPCAwKSB7XG4gICAgICAgICAgICBmaXJzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5wdXNoKGRldGFpbCk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnB1c2gobmV3IFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCwgb3B0aW9ucyAmJiBvcHRpb25zLmJveCkpO1xuICAgICAgICAgICAgdXBkYXRlQ291bnQoMSk7XG4gICAgICAgICAgICBzY2hlZHVsZXIuc2NoZWR1bGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgaW5kZXggPSBnZXRPYnNlcnZhdGlvbkluZGV4KGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCk7XG4gICAgICAgIHZhciBsYXN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGxhc3RPYnNlcnZhdGlvbiAmJiByZXNpemVPYnNlcnZlcnMuc3BsaWNlKHJlc2l6ZU9ic2VydmVycy5pbmRleE9mKGRldGFpbCksIDEpO1xuICAgICAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdXBkYXRlQ291bnQoLTEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKG90KSB7IHJldHVybiBfdGhpcy51bm9ic2VydmUocmVzaXplT2JzZXJ2ZXIsIG90LnRhcmdldCk7IH0pO1xuICAgICAgICBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgZGV0YWlsLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIH07XG4iLCJpbXBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcic7XG5pbXBvcnQgeyBpc0VsZW1lbnQgfSBmcm9tICcuL3V0aWxzL2VsZW1lbnQnO1xudmFyIFJlc2l6ZU9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlcihjYWxsYmFjaykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiBUaGUgY2FsbGJhY2sgcHJvdmlkZWQgYXMgcGFyYW1ldGVyIDEgaXMgbm90IGEgZnVuY3Rpb24uXCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5jb25uZWN0KHRoaXMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdvYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiBwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSAnRWxlbWVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIub2JzZXJ2ZSh0aGlzLCB0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAndW5vYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAndW5vYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiBwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSAnRWxlbWVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlKHRoaXMsIHRhcmdldCk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmRpc2Nvbm5lY3QodGhpcyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdmdW5jdGlvbiBSZXNpemVPYnNlcnZlciAoKSB7IFtwb2x5ZmlsbCBjb2RlXSB9JztcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlciB9O1xuIiwiLyoqXG4gKiBTaW1wbGVCYXIuanMgLSB2NS4zLjhcbiAqIFNjcm9sbGJhcnMsIHNpbXBsZXIuXG4gKiBodHRwczovL2dyc210by5naXRodWIuaW8vc2ltcGxlYmFyL1xuICpcbiAqIE1hZGUgYnkgQWRyaWVuIERlbmF0IGZyb20gYSBmb3JrIGJ5IEpvbmF0aGFuIE5pY29sXG4gKiBVbmRlciBNSVQgTGljZW5zZVxuICovXG5cbmltcG9ydCAnY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMnO1xuaW1wb3J0ICdjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyc7XG5pbXBvcnQgY2FuVXNlRE9NIGZyb20gJ2Nhbi11c2UtZG9tJztcbmltcG9ydCAnY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyc7XG5pbXBvcnQgJ2NvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduLmpzJztcbmltcG9ydCAnY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyc7XG5pbXBvcnQgJ2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyc7XG5pbXBvcnQgJ2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMnO1xuaW1wb3J0ICdjb3JlLWpzL21vZHVsZXMvZXMud2Vhay1tYXAuanMnO1xuaW1wb3J0ICdjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoLnRocm90dGxlJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2guZGVib3VuY2UnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbG9kYXNoLm1lbW9pemUnO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICdAanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlcic7XG5pbXBvcnQgJ2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMnO1xuaW1wb3J0ICdjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMnO1xuaW1wb3J0ICdjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzJztcbmltcG9ydCAnY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMnO1xuaW1wb3J0ICdjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMnO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgb3B0aW9ucyBmcm9tIGVsZW1lbnQgYXR0cmlidXRlc1xudmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKG9iaikge1xuICB2YXIgb3B0aW9ucyA9IEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChvYmosIGZ1bmN0aW9uIChhY2MsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBvcHRpb24gPSBhdHRyaWJ1dGUubmFtZS5tYXRjaCgvZGF0YS1zaW1wbGViYXItKC4rKS8pO1xuXG4gICAgaWYgKG9wdGlvbikge1xuICAgICAgdmFyIGtleSA9IG9wdGlvblsxXS5yZXBsYWNlKC9cXFcrKC4pL2csIGZ1bmN0aW9uICh4LCBjaHIpIHtcbiAgICAgICAgcmV0dXJuIGNoci50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHN3aXRjaCAoYXR0cmlidXRlLnZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ3RydWUnOlxuICAgICAgICAgIGFjY1trZXldID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgYWNjW2tleV0gPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICBhY2Nba2V5XSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBhY2Nba2V5XSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHJldHVybiBvcHRpb25zO1xufTtcbmZ1bmN0aW9uIGdldEVsZW1lbnRXaW5kb3coZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQub3duZXJEb2N1bWVudCB8fCAhZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG59XG5mdW5jdGlvbiBnZXRFbGVtZW50RG9jdW1lbnQoZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG5cbnZhciBjYWNoZWRTY3JvbGxiYXJXaWR0aCA9IG51bGw7XG52YXIgY2FjaGVkRGV2aWNlUGl4ZWxSYXRpbyA9IG51bGw7XG5cbmlmIChjYW5Vc2VET00pIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FjaGVkRGV2aWNlUGl4ZWxSYXRpbyAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pIHtcbiAgICAgIGNhY2hlZERldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIGNhY2hlZFNjcm9sbGJhcldpZHRoID0gbnVsbDtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzY3JvbGxiYXJXaWR0aChlbCkge1xuICBpZiAoY2FjaGVkU2Nyb2xsYmFyV2lkdGggPT09IG51bGwpIHtcbiAgICB2YXIgZG9jdW1lbnQgPSBnZXRFbGVtZW50RG9jdW1lbnQoZWwpO1xuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNhY2hlZFNjcm9sbGJhcldpZHRoID0gMDtcbiAgICAgIHJldHVybiBjYWNoZWRTY3JvbGxiYXJXaWR0aDtcbiAgICB9XG5cbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgdmFyIGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdzaW1wbGViYXItaGlkZS1zY3JvbGxiYXInKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKGJveCk7XG4gICAgdmFyIHdpZHRoID0gYm94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O1xuICAgIGJvZHkucmVtb3ZlQ2hpbGQoYm94KTtcbiAgICBjYWNoZWRTY3JvbGxiYXJXaWR0aCA9IHdpZHRoO1xuICB9XG5cbiAgcmV0dXJuIGNhY2hlZFNjcm9sbGJhcldpZHRoO1xufVxuXG52YXIgU2ltcGxlQmFyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2ltcGxlQmFyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5vblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3coX3RoaXMuZWwpO1xuXG4gICAgICBpZiAoIV90aGlzLnNjcm9sbFhUaWNraW5nKSB7XG4gICAgICAgIGVsV2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5zY3JvbGxYKTtcbiAgICAgICAgX3RoaXMuc2Nyb2xsWFRpY2tpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLnNjcm9sbFlUaWNraW5nKSB7XG4gICAgICAgIGVsV2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5zY3JvbGxZKTtcbiAgICAgICAgX3RoaXMuc2Nyb2xsWVRpY2tpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNjcm9sbFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgX3RoaXMuc2hvd1Njcm9sbGJhcigneCcpO1xuXG4gICAgICAgIF90aGlzLnBvc2l0aW9uU2Nyb2xsYmFyKCd4Jyk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjcm9sbFhUaWNraW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHRoaXMuc2Nyb2xsWSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZykge1xuICAgICAgICBfdGhpcy5zaG93U2Nyb2xsYmFyKCd5Jyk7XG5cbiAgICAgICAgX3RoaXMucG9zaXRpb25TY3JvbGxiYXIoJ3knKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2Nyb2xsWVRpY2tpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zaG93U2Nyb2xsYmFyKCd4Jyk7XG5cbiAgICAgIF90aGlzLnNob3dTY3JvbGxiYXIoJ3knKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5tb3VzZVggPSBlLmNsaWVudFg7XG4gICAgICBfdGhpcy5tb3VzZVkgPSBlLmNsaWVudFk7XG5cbiAgICAgIGlmIChfdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyB8fCBfdGhpcy5heGlzLnguZm9yY2VWaXNpYmxlKSB7XG4gICAgICAgIF90aGlzLm9uTW91c2VNb3ZlRm9yQXhpcygneCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcgfHwgX3RoaXMuYXhpcy55LmZvcmNlVmlzaWJsZSkge1xuICAgICAgICBfdGhpcy5vbk1vdXNlTW92ZUZvckF4aXMoJ3knKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5vbk1vdXNlTW92ZS5jYW5jZWwoKTtcblxuICAgICAgaWYgKF90aGlzLmF4aXMueC5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueC5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgX3RoaXMub25Nb3VzZUxlYXZlRm9yQXhpcygneCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcgfHwgX3RoaXMuYXhpcy55LmZvcmNlVmlzaWJsZSkge1xuICAgICAgICBfdGhpcy5vbk1vdXNlTGVhdmVGb3JBeGlzKCd5Jyk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLm1vdXNlWCA9IC0xO1xuICAgICAgX3RoaXMubW91c2VZID0gLTE7XG4gICAgfTtcblxuICAgIHRoaXMub25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBSZWNhbGN1bGF0ZSBzY3JvbGxiYXJXaWR0aCBpbiBjYXNlIGl0J3MgYSB6b29tXG4gICAgICBfdGhpcy5zY3JvbGxiYXJXaWR0aCA9IF90aGlzLmdldFNjcm9sbGJhcldpZHRoKCk7XG5cbiAgICAgIF90aGlzLmhpZGVOYXRpdmVTY3JvbGxiYXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5oaWRlU2Nyb2xsYmFycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmF4aXMueC50cmFjay5yZWN0ID0gX3RoaXMuYXhpcy54LnRyYWNrLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgX3RoaXMuYXhpcy55LnRyYWNrLnJlY3QgPSBfdGhpcy5heGlzLnkudHJhY2suZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGlmICghX3RoaXMuaXNXaXRoaW5Cb3VuZHMoX3RoaXMuYXhpcy55LnRyYWNrLnJlY3QpKSB7XG4gICAgICAgIF90aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwuY2xhc3NMaXN0LnJlbW92ZShfdGhpcy5jbGFzc05hbWVzLnZpc2libGUpO1xuXG4gICAgICAgIF90aGlzLmF4aXMueS5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5pc1dpdGhpbkJvdW5kcyhfdGhpcy5heGlzLngudHJhY2sucmVjdCkpIHtcbiAgICAgICAgX3RoaXMuYXhpcy54LnNjcm9sbGJhci5lbC5jbGFzc0xpc3QucmVtb3ZlKF90aGlzLmNsYXNzTmFtZXMudmlzaWJsZSk7XG5cbiAgICAgICAgX3RoaXMuYXhpcy54LmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uUG9pbnRlckV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBpc1dpdGhpblRyYWNrWEJvdW5kcywgaXNXaXRoaW5UcmFja1lCb3VuZHM7XG4gICAgICBfdGhpcy5heGlzLngudHJhY2sucmVjdCA9IF90aGlzLmF4aXMueC50cmFjay5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIF90aGlzLmF4aXMueS50cmFjay5yZWN0ID0gX3RoaXMuYXhpcy55LnRyYWNrLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBpZiAoX3RoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgfHwgX3RoaXMuYXhpcy54LmZvcmNlVmlzaWJsZSkge1xuICAgICAgICBpc1dpdGhpblRyYWNrWEJvdW5kcyA9IF90aGlzLmlzV2l0aGluQm91bmRzKF90aGlzLmF4aXMueC50cmFjay5yZWN0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLmF4aXMueS5pc092ZXJmbG93aW5nIHx8IF90aGlzLmF4aXMueS5mb3JjZVZpc2libGUpIHtcbiAgICAgICAgaXNXaXRoaW5UcmFja1lCb3VuZHMgPSBfdGhpcy5pc1dpdGhpbkJvdW5kcyhfdGhpcy5heGlzLnkudHJhY2sucmVjdCk7XG4gICAgICB9IC8vIElmIGFueSBwb2ludGVyIGV2ZW50IGlzIGNhbGxlZCBvbiB0aGUgc2Nyb2xsYmFyXG5cblxuICAgICAgaWYgKGlzV2l0aGluVHJhY2tYQm91bmRzIHx8IGlzV2l0aGluVHJhY2tZQm91bmRzKSB7XG4gICAgICAgIC8vIFByZXZlbnRpbmcgdGhlIGV2ZW50J3MgZGVmYXVsdCBhY3Rpb24gc3RvcHMgdGV4dCBiZWluZ1xuICAgICAgICAvLyBzZWxlY3RhYmxlIGR1cmluZyB0aGUgZHJhZy5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IGV2ZW50IGxlYWtpbmdcblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZWRvd24nKSB7XG4gICAgICAgICAgaWYgKGlzV2l0aGluVHJhY2tYQm91bmRzKSB7XG4gICAgICAgICAgICBfdGhpcy5heGlzLnguc2Nyb2xsYmFyLnJlY3QgPSBfdGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNXaXRoaW5Cb3VuZHMoX3RoaXMuYXhpcy54LnNjcm9sbGJhci5yZWN0KSkge1xuICAgICAgICAgICAgICBfdGhpcy5vbkRyYWdTdGFydChlLCAneCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMub25UcmFja0NsaWNrKGUsICd4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzV2l0aGluVHJhY2tZQm91bmRzKSB7XG4gICAgICAgICAgICBfdGhpcy5heGlzLnkuc2Nyb2xsYmFyLnJlY3QgPSBfdGhpcy5heGlzLnkuc2Nyb2xsYmFyLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNXaXRoaW5Cb3VuZHMoX3RoaXMuYXhpcy55LnNjcm9sbGJhci5yZWN0KSkge1xuICAgICAgICAgICAgICBfdGhpcy5vbkRyYWdTdGFydChlLCAneScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMub25UcmFja0NsaWNrKGUsICd5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZHJhZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZXZlbnRPZmZzZXQ7XG4gICAgICB2YXIgdHJhY2sgPSBfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS50cmFjaztcbiAgICAgIHZhciB0cmFja1NpemUgPSB0cmFjay5yZWN0W190aGlzLmF4aXNbX3RoaXMuZHJhZ2dlZEF4aXNdLnNpemVBdHRyXTtcbiAgICAgIHZhciBzY3JvbGxiYXIgPSBfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5zY3JvbGxiYXI7XG4gICAgICB2YXIgY29udGVudFNpemUgPSBfdGhpcy5jb250ZW50V3JhcHBlckVsW190aGlzLmF4aXNbX3RoaXMuZHJhZ2dlZEF4aXNdLnNjcm9sbFNpemVBdHRyXTtcbiAgICAgIHZhciBob3N0U2l6ZSA9IHBhcnNlSW50KF90aGlzLmVsU3R5bGVzW190aGlzLmF4aXNbX3RoaXMuZHJhZ2dlZEF4aXNdLnNpemVBdHRyXSwgMTApO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgaWYgKF90aGlzLmRyYWdnZWRBeGlzID09PSAneScpIHtcbiAgICAgICAgZXZlbnRPZmZzZXQgPSBlLnBhZ2VZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnRPZmZzZXQgPSBlLnBhZ2VYO1xuICAgICAgfSAvLyBDYWxjdWxhdGUgaG93IGZhciB0aGUgdXNlcidzIG1vdXNlIGlzIGZyb20gdGhlIHRvcC9sZWZ0IG9mIHRoZSBzY3JvbGxiYXIgKG1pbnVzIHRoZSBkcmFnT2Zmc2V0KS5cblxuXG4gICAgICB2YXIgZHJhZ1BvcyA9IGV2ZW50T2Zmc2V0IC0gdHJhY2sucmVjdFtfdGhpcy5heGlzW190aGlzLmRyYWdnZWRBeGlzXS5vZmZzZXRBdHRyXSAtIF90aGlzLmF4aXNbX3RoaXMuZHJhZ2dlZEF4aXNdLmRyYWdPZmZzZXQ7IC8vIENvbnZlcnQgdGhlIG1vdXNlIHBvc2l0aW9uIGludG8gYSBwZXJjZW50YWdlIG9mIHRoZSBzY3JvbGxiYXIgaGVpZ2h0L3dpZHRoLlxuXG4gICAgICB2YXIgZHJhZ1BlcmMgPSBkcmFnUG9zIC8gKHRyYWNrU2l6ZSAtIHNjcm9sbGJhci5zaXplKTsgLy8gU2Nyb2xsIHRoZSBjb250ZW50IGJ5IHRoZSBzYW1lIHBlcmNlbnRhZ2UuXG5cbiAgICAgIHZhciBzY3JvbGxQb3MgPSBkcmFnUGVyYyAqIChjb250ZW50U2l6ZSAtIGhvc3RTaXplKTsgLy8gRml4IGJyb3dzZXJzIGluY29uc2lzdGVuY3kgb24gUlRMXG5cbiAgICAgIGlmIChfdGhpcy5kcmFnZ2VkQXhpcyA9PT0gJ3gnKSB7XG4gICAgICAgIHNjcm9sbFBvcyA9IF90aGlzLmlzUnRsICYmIFNpbXBsZUJhci5nZXRSdGxIZWxwZXJzKCkuaXNSdGxTY3JvbGxiYXJJbnZlcnRlZCA/IHNjcm9sbFBvcyAtICh0cmFja1NpemUgKyBzY3JvbGxiYXIuc2l6ZSkgOiBzY3JvbGxQb3M7XG4gICAgICAgIHNjcm9sbFBvcyA9IF90aGlzLmlzUnRsICYmIFNpbXBsZUJhci5nZXRSdGxIZWxwZXJzKCkuaXNSdGxTY3JvbGxpbmdJbnZlcnRlZCA/IC1zY3JvbGxQb3MgOiBzY3JvbGxQb3M7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNvbnRlbnRXcmFwcGVyRWxbX3RoaXMuYXhpc1tfdGhpcy5kcmFnZ2VkQXhpc10uc2Nyb2xsT2Zmc2V0QXR0cl0gPSBzY3JvbGxQb3M7XG4gICAgfTtcblxuICAgIHRoaXMub25FbmREcmFnID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBlbERvY3VtZW50ID0gZ2V0RWxlbWVudERvY3VtZW50KF90aGlzLmVsKTtcbiAgICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3coX3RoaXMuZWwpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgX3RoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZShfdGhpcy5jbGFzc05hbWVzLmRyYWdnaW5nKTtcblxuICAgICAgZWxEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5kcmFnLCB0cnVlKTtcbiAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLm9uRW5kRHJhZywgdHJ1ZSk7XG4gICAgICBfdGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCA9IGVsV2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlc2UgYXN5bmNocm9ub3VzbHkgc28gd2Ugc3RpbGwgc3VwcHJlc3MgY2xpY2sgZXZlbnRzXG4gICAgICAgIC8vIGdlbmVyYXRlZCBzaW11bHRhbmVvdXNseSB3aXRoIG1vdXNldXAuXG4gICAgICAgIGVsRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5wcmV2ZW50Q2xpY2ssIHRydWUpO1xuICAgICAgICBlbERvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgX3RoaXMucHJldmVudENsaWNrLCB0cnVlKTtcbiAgICAgICAgX3RoaXMucmVtb3ZlUHJldmVudENsaWNrSWQgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMucHJldmVudENsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZWwgPSBlbGVtZW50O1xuICAgIHRoaXMubWluU2Nyb2xsYmFyV2lkdGggPSAyMDtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBTaW1wbGVCYXIuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHRoaXMuY2xhc3NOYW1lcyA9IE9iamVjdC5hc3NpZ24oe30sIFNpbXBsZUJhci5kZWZhdWx0T3B0aW9ucy5jbGFzc05hbWVzLCB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lcyk7XG4gICAgdGhpcy5heGlzID0ge1xuICAgICAgeDoge1xuICAgICAgICBzY3JvbGxPZmZzZXRBdHRyOiAnc2Nyb2xsTGVmdCcsXG4gICAgICAgIHNpemVBdHRyOiAnd2lkdGgnLFxuICAgICAgICBzY3JvbGxTaXplQXR0cjogJ3Njcm9sbFdpZHRoJyxcbiAgICAgICAgb2Zmc2V0U2l6ZUF0dHI6ICdvZmZzZXRXaWR0aCcsXG4gICAgICAgIG9mZnNldEF0dHI6ICdsZWZ0JyxcbiAgICAgICAgb3ZlcmZsb3dBdHRyOiAnb3ZlcmZsb3dYJyxcbiAgICAgICAgZHJhZ09mZnNldDogMCxcbiAgICAgICAgaXNPdmVyZmxvd2luZzogdHJ1ZSxcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgZm9yY2VWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgdHJhY2s6IHt9LFxuICAgICAgICBzY3JvbGxiYXI6IHt9XG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBzY3JvbGxPZmZzZXRBdHRyOiAnc2Nyb2xsVG9wJyxcbiAgICAgICAgc2l6ZUF0dHI6ICdoZWlnaHQnLFxuICAgICAgICBzY3JvbGxTaXplQXR0cjogJ3Njcm9sbEhlaWdodCcsXG4gICAgICAgIG9mZnNldFNpemVBdHRyOiAnb2Zmc2V0SGVpZ2h0JyxcbiAgICAgICAgb2Zmc2V0QXR0cjogJ3RvcCcsXG4gICAgICAgIG92ZXJmbG93QXR0cjogJ292ZXJmbG93WScsXG4gICAgICAgIGRyYWdPZmZzZXQ6IDAsXG4gICAgICAgIGlzT3ZlcmZsb3dpbmc6IHRydWUsXG4gICAgICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgICAgIGZvcmNlVmlzaWJsZTogZmFsc2UsXG4gICAgICAgIHRyYWNrOiB7fSxcbiAgICAgICAgc2Nyb2xsYmFyOiB7fVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCA9IG51bGw7IC8vIERvbid0IHJlLWluc3RhbnRpYXRlIG92ZXIgYW4gZXhpc3Rpbmcgb25lXG5cbiAgICBpZiAoU2ltcGxlQmFyLmluc3RhbmNlcy5oYXModGhpcy5lbCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlY2FsY3VsYXRlID0gdGhyb3R0bGUodGhpcy5yZWNhbGN1bGF0ZS5iaW5kKHRoaXMpLCA2NCk7XG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IHRocm90dGxlKHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKSwgNjQpO1xuICAgIHRoaXMuaGlkZVNjcm9sbGJhcnMgPSBkZWJvdW5jZSh0aGlzLmhpZGVTY3JvbGxiYXJzLmJpbmQodGhpcyksIHRoaXMub3B0aW9ucy50aW1lb3V0KTtcbiAgICB0aGlzLm9uV2luZG93UmVzaXplID0gZGVib3VuY2UodGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpLCA2NCwge1xuICAgICAgbGVhZGluZzogdHJ1ZVxuICAgIH0pO1xuICAgIFNpbXBsZUJhci5nZXRSdGxIZWxwZXJzID0gbWVtb2l6ZShTaW1wbGVCYXIuZ2V0UnRsSGVscGVycyk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXRpYyBwcm9wZXJ0aWVzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gZml4IGJyb3dzZXJzIGluY29uc2lzdGVuY3kgb24gUlRMOlxuICAgKiAgLSBGaXJlZm94IGludmVydHMgdGhlIHNjcm9sbGJhciBpbml0aWFsIHBvc2l0aW9uXG4gICAqICAtIElFMTEgaW52ZXJ0cyBib3RoIHNjcm9sbGJhciBwb3NpdGlvbiBhbmQgc2Nyb2xsaW5nIG9mZnNldFxuICAgKiBEaXJlY3RseSBpbnNwaXJlZCBieSBAS2luZ1NvcmEncyBPdmVybGF5U2Nyb2xsYmFycyBodHRwczovL2dpdGh1Yi5jb20vS2luZ1NvcmEvT3ZlcmxheVNjcm9sbGJhcnMvYmxvYi9tYXN0ZXIvanMvT3ZlcmxheVNjcm9sbGJhcnMuanMjTDE2MzRcbiAgICovXG5cblxuICBTaW1wbGVCYXIuZ2V0UnRsSGVscGVycyA9IGZ1bmN0aW9uIGdldFJ0bEhlbHBlcnMoKSB7XG4gICAgdmFyIGR1bW15RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZHVtbXlEaXYuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJocy1kdW1teS1zY3JvbGxiYXItc2l6ZVwiPjxkaXYgc3R5bGU9XCJoZWlnaHQ6IDIwMCU7IHdpZHRoOiAyMDAlOyBtYXJnaW46IDEwcHggMDtcIj48L2Rpdj48L2Rpdj4nO1xuICAgIHZhciBzY3JvbGxiYXJEdW1teUVsID0gZHVtbXlEaXYuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxiYXJEdW1teUVsKTtcbiAgICB2YXIgZHVtbXlDb250YWluZXJDaGlsZCA9IHNjcm9sbGJhckR1bW15RWwuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgc2Nyb2xsYmFyRHVtbXlFbC5zY3JvbGxMZWZ0ID0gMDtcbiAgICB2YXIgZHVtbXlDb250YWluZXJPZmZzZXQgPSBTaW1wbGVCYXIuZ2V0T2Zmc2V0KHNjcm9sbGJhckR1bW15RWwpO1xuICAgIHZhciBkdW1teUNvbnRhaW5lckNoaWxkT2Zmc2V0ID0gU2ltcGxlQmFyLmdldE9mZnNldChkdW1teUNvbnRhaW5lckNoaWxkKTtcbiAgICBzY3JvbGxiYXJEdW1teUVsLnNjcm9sbExlZnQgPSA5OTk7XG4gICAgdmFyIGR1bW15Q29udGFpbmVyU2Nyb2xsT2Zmc2V0QWZ0ZXJTY3JvbGwgPSBTaW1wbGVCYXIuZ2V0T2Zmc2V0KGR1bW15Q29udGFpbmVyQ2hpbGQpO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBkZXRlcm1pbmVzIGlmIHRoZSBzY3JvbGxpbmcgaXMgcmVzcG9uZGluZyB3aXRoIG5lZ2F0aXZlIHZhbHVlc1xuICAgICAgaXNSdGxTY3JvbGxpbmdJbnZlcnRlZDogZHVtbXlDb250YWluZXJPZmZzZXQubGVmdCAhPT0gZHVtbXlDb250YWluZXJDaGlsZE9mZnNldC5sZWZ0ICYmIGR1bW15Q29udGFpbmVyQ2hpbGRPZmZzZXQubGVmdCAtIGR1bW15Q29udGFpbmVyU2Nyb2xsT2Zmc2V0QWZ0ZXJTY3JvbGwubGVmdCAhPT0gMCxcbiAgICAgIC8vIGRldGVybWluZXMgaWYgdGhlIG9yaWdpbiBzY3JvbGxiYXIgcG9zaXRpb24gaXMgaW52ZXJ0ZWQgb3Igbm90IChwb3NpdGlvbmVkIG9uIGxlZnQgb3IgcmlnaHQpXG4gICAgICBpc1J0bFNjcm9sbGJhckludmVydGVkOiBkdW1teUNvbnRhaW5lck9mZnNldC5sZWZ0ICE9PSBkdW1teUNvbnRhaW5lckNoaWxkT2Zmc2V0LmxlZnRcbiAgICB9O1xuICB9O1xuXG4gIFNpbXBsZUJhci5nZXRPZmZzZXQgPSBmdW5jdGlvbiBnZXRPZmZzZXQoZWwpIHtcbiAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBlbERvY3VtZW50ID0gZ2V0RWxlbWVudERvY3VtZW50KGVsKTtcbiAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KGVsKTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiByZWN0LnRvcCArIChlbFdpbmRvdy5wYWdlWU9mZnNldCB8fCBlbERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgKGVsV2luZG93LnBhZ2VYT2Zmc2V0IHx8IGVsRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpXG4gICAgfTtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gU2ltcGxlQmFyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgLy8gU2F2ZSBhIHJlZmVyZW5jZSB0byB0aGUgaW5zdGFuY2UsIHNvIHdlIGtub3cgdGhpcyBET00gbm9kZSBoYXMgYWxyZWFkeSBiZWVuIGluc3RhbmNpZWRcbiAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLnNldCh0aGlzLmVsLCB0aGlzKTsgLy8gV2Ugc3RvcCBoZXJlIG9uIHNlcnZlci1zaWRlXG5cbiAgICBpZiAoY2FuVXNlRE9NKSB7XG4gICAgICB0aGlzLmluaXRET00oKTtcbiAgICAgIHRoaXMuc2V0QWNjZXNzaWJpbGl0eUF0dHJpYnV0ZXMoKTtcbiAgICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLmdldFNjcm9sbGJhcldpZHRoKCk7XG4gICAgICB0aGlzLnJlY2FsY3VsYXRlKCk7XG4gICAgICB0aGlzLmluaXRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmluaXRET00gPSBmdW5jdGlvbiBpbml0RE9NKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgLy8gbWFrZSBzdXJlIHRoaXMgZWxlbWVudCBkb2Vzbid0IGhhdmUgdGhlIGVsZW1lbnRzIHlldFxuICAgIGlmIChBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGhpcy5lbC5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICByZXR1cm4gY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKF90aGlzMi5jbGFzc05hbWVzLndyYXBwZXIpO1xuICAgIH0pLmxlbmd0aCkge1xuICAgICAgLy8gYXNzdW1lIHRoYXQgZWxlbWVudCBoYXMgaGlzIERPTSBhbHJlYWR5IGluaXRpYXRlZFxuICAgICAgdGhpcy53cmFwcGVyRWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyB0aGlzLmNsYXNzTmFtZXMud3JhcHBlcik7XG4gICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwgPSB0aGlzLm9wdGlvbnMuc2Nyb2xsYWJsZU5vZGUgfHwgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKFwiLlwiICsgdGhpcy5jbGFzc05hbWVzLmNvbnRlbnRXcmFwcGVyKTtcbiAgICAgIHRoaXMuY29udGVudEVsID0gdGhpcy5vcHRpb25zLmNvbnRlbnROb2RlIHx8IHRoaXMuZWwucXVlcnlTZWxlY3RvcihcIi5cIiArIHRoaXMuY2xhc3NOYW1lcy5jb250ZW50RWwpO1xuICAgICAgdGhpcy5vZmZzZXRFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihcIi5cIiArIHRoaXMuY2xhc3NOYW1lcy5vZmZzZXQpO1xuICAgICAgdGhpcy5tYXNrRWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyB0aGlzLmNsYXNzTmFtZXMubWFzayk7XG4gICAgICB0aGlzLnBsYWNlaG9sZGVyRWwgPSB0aGlzLmZpbmRDaGlsZCh0aGlzLndyYXBwZXJFbCwgXCIuXCIgKyB0aGlzLmNsYXNzTmFtZXMucGxhY2Vob2xkZXIpO1xuICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyB0aGlzLmNsYXNzTmFtZXMuaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsKTtcbiAgICAgIHRoaXMuaGVpZ2h0QXV0b09ic2VydmVyRWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyB0aGlzLmNsYXNzTmFtZXMuaGVpZ2h0QXV0b09ic2VydmVyRWwpO1xuICAgICAgdGhpcy5heGlzLngudHJhY2suZWwgPSB0aGlzLmZpbmRDaGlsZCh0aGlzLmVsLCBcIi5cIiArIHRoaXMuY2xhc3NOYW1lcy50cmFjayArIFwiLlwiICsgdGhpcy5jbGFzc05hbWVzLmhvcml6b250YWwpO1xuICAgICAgdGhpcy5heGlzLnkudHJhY2suZWwgPSB0aGlzLmZpbmRDaGlsZCh0aGlzLmVsLCBcIi5cIiArIHRoaXMuY2xhc3NOYW1lcy50cmFjayArIFwiLlwiICsgdGhpcy5jbGFzc05hbWVzLnZlcnRpY2FsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUHJlcGFyZSBET01cbiAgICAgIHRoaXMud3JhcHBlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMub2Zmc2V0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMubWFza0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5wbGFjZWhvbGRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy53cmFwcGVyRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTmFtZXMud3JhcHBlcik7XG4gICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTmFtZXMuY29udGVudFdyYXBwZXIpO1xuICAgICAgdGhpcy5vZmZzZXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lcy5vZmZzZXQpO1xuICAgICAgdGhpcy5tYXNrRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTmFtZXMubWFzayk7XG4gICAgICB0aGlzLmNvbnRlbnRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lcy5jb250ZW50RWwpO1xuICAgICAgdGhpcy5wbGFjZWhvbGRlckVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLnBsYWNlaG9sZGVyKTtcbiAgICAgIHRoaXMuaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLmhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbCk7XG4gICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLmhlaWdodEF1dG9PYnNlcnZlckVsKTtcblxuICAgICAgd2hpbGUgKHRoaXMuZWwuZmlyc3RDaGlsZCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRFbC5hcHBlbmRDaGlsZCh0aGlzLmVsLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWwpO1xuICAgICAgdGhpcy5vZmZzZXRFbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRXcmFwcGVyRWwpO1xuICAgICAgdGhpcy5tYXNrRWwuYXBwZW5kQ2hpbGQodGhpcy5vZmZzZXRFbCk7XG4gICAgICB0aGlzLmhlaWdodEF1dG9PYnNlcnZlcldyYXBwZXJFbC5hcHBlbmRDaGlsZCh0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsKTtcbiAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMuaGVpZ2h0QXV0b09ic2VydmVyV3JhcHBlckVsKTtcbiAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMubWFza0VsKTtcbiAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJFbCk7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMud3JhcHBlckVsKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYXhpcy54LnRyYWNrLmVsIHx8ICF0aGlzLmF4aXMueS50cmFjay5lbCkge1xuICAgICAgdmFyIHRyYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgc2Nyb2xsYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0cmFjay5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lcy50cmFjayk7XG4gICAgICBzY3JvbGxiYXIuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYmFyKTtcbiAgICAgIHRyYWNrLmFwcGVuZENoaWxkKHNjcm9sbGJhcik7XG4gICAgICB0aGlzLmF4aXMueC50cmFjay5lbCA9IHRyYWNrLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIHRoaXMuYXhpcy54LnRyYWNrLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLmhvcml6b250YWwpO1xuICAgICAgdGhpcy5heGlzLnkudHJhY2suZWwgPSB0cmFjay5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB0aGlzLmF4aXMueS50cmFjay5lbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lcy52ZXJ0aWNhbCk7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuYXhpcy54LnRyYWNrLmVsKTtcbiAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5heGlzLnkudHJhY2suZWwpO1xuICAgIH1cblxuICAgIHRoaXMuYXhpcy54LnNjcm9sbGJhci5lbCA9IHRoaXMuYXhpcy54LnRyYWNrLmVsLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyB0aGlzLmNsYXNzTmFtZXMuc2Nyb2xsYmFyKTtcbiAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwgPSB0aGlzLmF4aXMueS50cmFjay5lbC5xdWVyeVNlbGVjdG9yKFwiLlwiICsgdGhpcy5jbGFzc05hbWVzLnNjcm9sbGJhcik7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hdXRvSGlkZSkge1xuICAgICAgdGhpcy5heGlzLnguc2Nyb2xsYmFyLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLnZpc2libGUpO1xuICAgICAgdGhpcy5heGlzLnkuc2Nyb2xsYmFyLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLnZpc2libGUpO1xuICAgIH1cblxuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdkYXRhLXNpbXBsZWJhcicsICdpbml0Jyk7XG4gIH07XG5cbiAgX3Byb3RvLnNldEFjY2Vzc2liaWxpdHlBdHRyaWJ1dGVzID0gZnVuY3Rpb24gc2V0QWNjZXNzaWJpbGl0eUF0dHJpYnV0ZXMoKSB7XG4gICAgdmFyIGFyaWFMYWJlbCA9IHRoaXMub3B0aW9ucy5hcmlhTGFiZWwgfHwgJ3Njcm9sbGFibGUgY29udGVudCc7XG4gICAgdGhpcy5jb250ZW50V3JhcHBlckVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIHRoaXMuY29udGVudFdyYXBwZXJFbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncmVnaW9uJyk7XG4gICAgdGhpcy5jb250ZW50V3JhcHBlckVsLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGFyaWFMYWJlbCk7XG4gIH07XG5cbiAgX3Byb3RvLmluaXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBpbml0TGlzdGVuZXJzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIGVsV2luZG93ID0gZ2V0RWxlbWVudFdpbmRvdyh0aGlzLmVsKTsgLy8gRXZlbnQgbGlzdGVuZXJzXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9IaWRlKSB7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlcik7XG4gICAgfVxuXG4gICAgWydtb3VzZWRvd24nLCAnY2xpY2snLCAnZGJsY2xpY2snXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpczMuZWwuYWRkRXZlbnRMaXN0ZW5lcihlLCBfdGhpczMub25Qb2ludGVyRXZlbnQsIHRydWUpO1xuICAgIH0pO1xuICAgIFsndG91Y2hzdGFydCcsICd0b3VjaGVuZCcsICd0b3VjaG1vdmUnXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpczMuZWwuYWRkRXZlbnRMaXN0ZW5lcihlLCBfdGhpczMub25Qb2ludGVyRXZlbnQsIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG4gICAgdGhpcy5jb250ZW50V3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpOyAvLyBCcm93c2VyIHpvb20gdHJpZ2dlcnMgYSB3aW5kb3cgcmVzaXplXG5cbiAgICBlbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKTsgLy8gSGFjayBmb3IgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvUmVzaXplT2JzZXJ2ZXIvaXNzdWVzLzM4XG5cbiAgICB2YXIgcmVzaXplT2JzZXJ2ZXJTdGFydGVkID0gZmFsc2U7XG4gICAgdmFyIHJlc2l6ZU9ic2VydmVyID0gZWxXaW5kb3cuUmVzaXplT2JzZXJ2ZXIgfHwgUmVzaXplT2JzZXJ2ZXI7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyByZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXJlc2l6ZU9ic2VydmVyU3RhcnRlZCkgcmV0dXJuO1xuXG4gICAgICBfdGhpczMucmVjYWxjdWxhdGUoKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5lbCk7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGVudEVsKTtcbiAgICBlbFdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgcmVzaXplT2JzZXJ2ZXJTdGFydGVkID0gdHJ1ZTtcbiAgICB9KTsgLy8gVGhpcyBpcyByZXF1aXJlZCB0byBkZXRlY3QgaG9yaXpvbnRhbCBzY3JvbGwuIFZlcnRpY2FsIHNjcm9sbCBvbmx5IG5lZWRzIHRoZSByZXNpemVPYnNlcnZlci5cblxuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IG5ldyBlbFdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKHRoaXMucmVjYWxjdWxhdGUpO1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGVudEVsLCB7XG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5yZWNhbGN1bGF0ZSA9IGZ1bmN0aW9uIHJlY2FsY3VsYXRlKCkge1xuICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3codGhpcy5lbCk7XG4gICAgdGhpcy5lbFN0eWxlcyA9IGVsV2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5lbCk7XG4gICAgdGhpcy5pc1J0bCA9IHRoaXMuZWxTdHlsZXMuZGlyZWN0aW9uID09PSAncnRsJztcbiAgICB2YXIgaXNIZWlnaHRBdXRvID0gdGhpcy5oZWlnaHRBdXRvT2JzZXJ2ZXJFbC5vZmZzZXRIZWlnaHQgPD0gMTtcbiAgICB2YXIgaXNXaWR0aEF1dG8gPSB0aGlzLmhlaWdodEF1dG9PYnNlcnZlckVsLm9mZnNldFdpZHRoIDw9IDE7XG4gICAgdmFyIGNvbnRlbnRFbE9mZnNldFdpZHRoID0gdGhpcy5jb250ZW50RWwub2Zmc2V0V2lkdGg7XG4gICAgdmFyIGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRXaWR0aCA9IHRoaXMuY29udGVudFdyYXBwZXJFbC5vZmZzZXRXaWR0aDtcbiAgICB2YXIgZWxPdmVyZmxvd1ggPSB0aGlzLmVsU3R5bGVzLm92ZXJmbG93WDtcbiAgICB2YXIgZWxPdmVyZmxvd1kgPSB0aGlzLmVsU3R5bGVzLm92ZXJmbG93WTtcbiAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS5wYWRkaW5nID0gdGhpcy5lbFN0eWxlcy5wYWRkaW5nVG9wICsgXCIgXCIgKyB0aGlzLmVsU3R5bGVzLnBhZGRpbmdSaWdodCArIFwiIFwiICsgdGhpcy5lbFN0eWxlcy5wYWRkaW5nQm90dG9tICsgXCIgXCIgKyB0aGlzLmVsU3R5bGVzLnBhZGRpbmdMZWZ0O1xuICAgIHRoaXMud3JhcHBlckVsLnN0eWxlLm1hcmdpbiA9IFwiLVwiICsgdGhpcy5lbFN0eWxlcy5wYWRkaW5nVG9wICsgXCIgLVwiICsgdGhpcy5lbFN0eWxlcy5wYWRkaW5nUmlnaHQgKyBcIiAtXCIgKyB0aGlzLmVsU3R5bGVzLnBhZGRpbmdCb3R0b20gKyBcIiAtXCIgKyB0aGlzLmVsU3R5bGVzLnBhZGRpbmdMZWZ0O1xuICAgIHZhciBjb250ZW50RWxTY3JvbGxIZWlnaHQgPSB0aGlzLmNvbnRlbnRFbC5zY3JvbGxIZWlnaHQ7XG4gICAgdmFyIGNvbnRlbnRFbFNjcm9sbFdpZHRoID0gdGhpcy5jb250ZW50RWwuc2Nyb2xsV2lkdGg7XG4gICAgdGhpcy5jb250ZW50V3JhcHBlckVsLnN0eWxlLmhlaWdodCA9IGlzSGVpZ2h0QXV0byA/ICdhdXRvJyA6ICcxMDAlJzsgLy8gRGV0ZXJtaW5lIHBsYWNlaG9sZGVyIHNpemVcblxuICAgIHRoaXMucGxhY2Vob2xkZXJFbC5zdHlsZS53aWR0aCA9IGlzV2lkdGhBdXRvID8gY29udGVudEVsT2Zmc2V0V2lkdGggKyBcInB4XCIgOiAnYXV0byc7XG4gICAgdGhpcy5wbGFjZWhvbGRlckVsLnN0eWxlLmhlaWdodCA9IGNvbnRlbnRFbFNjcm9sbEhlaWdodCArIFwicHhcIjtcbiAgICB2YXIgY29udGVudFdyYXBwZXJFbE9mZnNldEhlaWdodCA9IHRoaXMuY29udGVudFdyYXBwZXJFbC5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyA9IGNvbnRlbnRFbFNjcm9sbFdpZHRoID4gY29udGVudEVsT2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5heGlzLnkuaXNPdmVyZmxvd2luZyA9IGNvbnRlbnRFbFNjcm9sbEhlaWdodCA+IGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRIZWlnaHQ7IC8vIFNldCBpc092ZXJmbG93aW5nIHRvIGZhbHNlIGlmIHVzZXIgZXhwbGljaXRlbHkgc2V0IGhpZGRlbiBvdmVyZmxvd1xuXG4gICAgdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyA9IGVsT3ZlcmZsb3dYID09PSAnaGlkZGVuJyA/IGZhbHNlIDogdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZztcbiAgICB0aGlzLmF4aXMueS5pc092ZXJmbG93aW5nID0gZWxPdmVyZmxvd1kgPT09ICdoaWRkZW4nID8gZmFsc2UgOiB0aGlzLmF4aXMueS5pc092ZXJmbG93aW5nO1xuICAgIHRoaXMuYXhpcy54LmZvcmNlVmlzaWJsZSA9IHRoaXMub3B0aW9ucy5mb3JjZVZpc2libGUgPT09ICd4JyB8fCB0aGlzLm9wdGlvbnMuZm9yY2VWaXNpYmxlID09PSB0cnVlO1xuICAgIHRoaXMuYXhpcy55LmZvcmNlVmlzaWJsZSA9IHRoaXMub3B0aW9ucy5mb3JjZVZpc2libGUgPT09ICd5JyB8fCB0aGlzLm9wdGlvbnMuZm9yY2VWaXNpYmxlID09PSB0cnVlO1xuICAgIHRoaXMuaGlkZU5hdGl2ZVNjcm9sbGJhcigpOyAvLyBTZXQgaXNPdmVyZmxvd2luZyB0byBmYWxzZSBpZiBzY3JvbGxiYXIgaXMgbm90IG5lY2Vzc2FyeSAoY29udGVudCBpcyBzaG9ydGVyIHRoYW4gb2Zmc2V0KVxuXG4gICAgdmFyIG9mZnNldEZvclhTY3JvbGxiYXIgPSB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6IDA7XG4gICAgdmFyIG9mZnNldEZvcllTY3JvbGxiYXIgPSB0aGlzLmF4aXMueS5pc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6IDA7XG4gICAgdGhpcy5heGlzLnguaXNPdmVyZmxvd2luZyA9IHRoaXMuYXhpcy54LmlzT3ZlcmZsb3dpbmcgJiYgY29udGVudEVsU2Nyb2xsV2lkdGggPiBjb250ZW50V3JhcHBlckVsT2Zmc2V0V2lkdGggLSBvZmZzZXRGb3JZU2Nyb2xsYmFyO1xuICAgIHRoaXMuYXhpcy55LmlzT3ZlcmZsb3dpbmcgPSB0aGlzLmF4aXMueS5pc092ZXJmbG93aW5nICYmIGNvbnRlbnRFbFNjcm9sbEhlaWdodCA+IGNvbnRlbnRXcmFwcGVyRWxPZmZzZXRIZWlnaHQgLSBvZmZzZXRGb3JYU2Nyb2xsYmFyO1xuICAgIHRoaXMuYXhpcy54LnNjcm9sbGJhci5zaXplID0gdGhpcy5nZXRTY3JvbGxiYXJTaXplKCd4Jyk7XG4gICAgdGhpcy5heGlzLnkuc2Nyb2xsYmFyLnNpemUgPSB0aGlzLmdldFNjcm9sbGJhclNpemUoJ3knKTtcbiAgICB0aGlzLmF4aXMueC5zY3JvbGxiYXIuZWwuc3R5bGUud2lkdGggPSB0aGlzLmF4aXMueC5zY3JvbGxiYXIuc2l6ZSArIFwicHhcIjtcbiAgICB0aGlzLmF4aXMueS5zY3JvbGxiYXIuZWwuc3R5bGUuaGVpZ2h0ID0gdGhpcy5heGlzLnkuc2Nyb2xsYmFyLnNpemUgKyBcInB4XCI7XG4gICAgdGhpcy5wb3NpdGlvblNjcm9sbGJhcigneCcpO1xuICAgIHRoaXMucG9zaXRpb25TY3JvbGxiYXIoJ3knKTtcbiAgICB0aGlzLnRvZ2dsZVRyYWNrVmlzaWJpbGl0eSgneCcpO1xuICAgIHRoaXMudG9nZ2xlVHJhY2tWaXNpYmlsaXR5KCd5Jyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBzY3JvbGxiYXIgc2l6ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRTY3JvbGxiYXJTaXplID0gZnVuY3Rpb24gZ2V0U2Nyb2xsYmFyU2l6ZShheGlzKSB7XG4gICAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgICAgYXhpcyA9ICd5JztcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB2YXIgY29udGVudFNpemUgPSB0aGlzLmNvbnRlbnRFbFt0aGlzLmF4aXNbYXhpc10uc2Nyb2xsU2l6ZUF0dHJdO1xuICAgIHZhciB0cmFja1NpemUgPSB0aGlzLmF4aXNbYXhpc10udHJhY2suZWxbdGhpcy5heGlzW2F4aXNdLm9mZnNldFNpemVBdHRyXTtcbiAgICB2YXIgc2Nyb2xsYmFyU2l6ZTtcbiAgICB2YXIgc2Nyb2xsYmFyUmF0aW8gPSB0cmFja1NpemUgLyBjb250ZW50U2l6ZTsgLy8gQ2FsY3VsYXRlIG5ldyBoZWlnaHQvcG9zaXRpb24gb2YgZHJhZyBoYW5kbGUuXG5cbiAgICBzY3JvbGxiYXJTaXplID0gTWF0aC5tYXgofn4oc2Nyb2xsYmFyUmF0aW8gKiB0cmFja1NpemUpLCB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyTWluU2l6ZSk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNjcm9sbGJhck1heFNpemUpIHtcbiAgICAgIHNjcm9sbGJhclNpemUgPSBNYXRoLm1pbihzY3JvbGxiYXJTaXplLCB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyTWF4U2l6ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcm9sbGJhclNpemU7XG4gIH07XG5cbiAgX3Byb3RvLnBvc2l0aW9uU2Nyb2xsYmFyID0gZnVuY3Rpb24gcG9zaXRpb25TY3JvbGxiYXIoYXhpcykge1xuICAgIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICAgIGF4aXMgPSAneSc7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmF4aXNbYXhpc10uaXNPdmVyZmxvd2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb250ZW50U2l6ZSA9IHRoaXMuY29udGVudFdyYXBwZXJFbFt0aGlzLmF4aXNbYXhpc10uc2Nyb2xsU2l6ZUF0dHJdO1xuICAgIHZhciB0cmFja1NpemUgPSB0aGlzLmF4aXNbYXhpc10udHJhY2suZWxbdGhpcy5heGlzW2F4aXNdLm9mZnNldFNpemVBdHRyXTtcbiAgICB2YXIgaG9zdFNpemUgPSBwYXJzZUludCh0aGlzLmVsU3R5bGVzW3RoaXMuYXhpc1theGlzXS5zaXplQXR0cl0sIDEwKTtcbiAgICB2YXIgc2Nyb2xsYmFyID0gdGhpcy5heGlzW2F4aXNdLnNjcm9sbGJhcjtcbiAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5jb250ZW50V3JhcHBlckVsW3RoaXMuYXhpc1theGlzXS5zY3JvbGxPZmZzZXRBdHRyXTtcbiAgICBzY3JvbGxPZmZzZXQgPSBheGlzID09PSAneCcgJiYgdGhpcy5pc1J0bCAmJiBTaW1wbGVCYXIuZ2V0UnRsSGVscGVycygpLmlzUnRsU2Nyb2xsaW5nSW52ZXJ0ZWQgPyAtc2Nyb2xsT2Zmc2V0IDogc2Nyb2xsT2Zmc2V0O1xuICAgIHZhciBzY3JvbGxQb3VyY2VudCA9IHNjcm9sbE9mZnNldCAvIChjb250ZW50U2l6ZSAtIGhvc3RTaXplKTtcbiAgICB2YXIgaGFuZGxlT2Zmc2V0ID0gfn4oKHRyYWNrU2l6ZSAtIHNjcm9sbGJhci5zaXplKSAqIHNjcm9sbFBvdXJjZW50KTtcbiAgICBoYW5kbGVPZmZzZXQgPSBheGlzID09PSAneCcgJiYgdGhpcy5pc1J0bCAmJiBTaW1wbGVCYXIuZ2V0UnRsSGVscGVycygpLmlzUnRsU2Nyb2xsYmFySW52ZXJ0ZWQgPyBoYW5kbGVPZmZzZXQgKyAodHJhY2tTaXplIC0gc2Nyb2xsYmFyLnNpemUpIDogaGFuZGxlT2Zmc2V0O1xuICAgIHNjcm9sbGJhci5lbC5zdHlsZS50cmFuc2Zvcm0gPSBheGlzID09PSAneCcgPyBcInRyYW5zbGF0ZTNkKFwiICsgaGFuZGxlT2Zmc2V0ICsgXCJweCwgMCwgMClcIiA6IFwidHJhbnNsYXRlM2QoMCwgXCIgKyBoYW5kbGVPZmZzZXQgKyBcInB4LCAwKVwiO1xuICB9O1xuXG4gIF9wcm90by50b2dnbGVUcmFja1Zpc2liaWxpdHkgPSBmdW5jdGlvbiB0b2dnbGVUcmFja1Zpc2liaWxpdHkoYXhpcykge1xuICAgIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICAgIGF4aXMgPSAneSc7XG4gICAgfVxuXG4gICAgdmFyIHRyYWNrID0gdGhpcy5heGlzW2F4aXNdLnRyYWNrLmVsO1xuICAgIHZhciBzY3JvbGxiYXIgPSB0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLmVsO1xuXG4gICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nIHx8IHRoaXMuYXhpc1theGlzXS5mb3JjZVZpc2libGUpIHtcbiAgICAgIHRyYWNrLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICB0aGlzLmNvbnRlbnRXcmFwcGVyRWwuc3R5bGVbdGhpcy5heGlzW2F4aXNdLm92ZXJmbG93QXR0cl0gPSAnc2Nyb2xsJztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhY2suc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgdGhpcy5jb250ZW50V3JhcHBlckVsLnN0eWxlW3RoaXMuYXhpc1theGlzXS5vdmVyZmxvd0F0dHJdID0gJ2hpZGRlbic7XG4gICAgfSAvLyBFdmVuIGlmIGZvcmNlVmlzaWJsZSBpcyBlbmFibGVkLCBzY3JvbGxiYXIgaXRzZWxmIHNob3VsZCBiZSBoaWRkZW5cblxuXG4gICAgaWYgKHRoaXMuYXhpc1theGlzXS5pc092ZXJmbG93aW5nKSB7XG4gICAgICBzY3JvbGxiYXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbGJhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uaGlkZU5hdGl2ZVNjcm9sbGJhciA9IGZ1bmN0aW9uIGhpZGVOYXRpdmVTY3JvbGxiYXIoKSB7XG4gICAgdGhpcy5vZmZzZXRFbC5zdHlsZVt0aGlzLmlzUnRsID8gJ2xlZnQnIDogJ3JpZ2h0J10gPSB0aGlzLmF4aXMueS5pc092ZXJmbG93aW5nIHx8IHRoaXMuYXhpcy55LmZvcmNlVmlzaWJsZSA/IFwiLVwiICsgdGhpcy5zY3JvbGxiYXJXaWR0aCArIFwicHhcIiA6IDA7XG4gICAgdGhpcy5vZmZzZXRFbC5zdHlsZS5ib3R0b20gPSB0aGlzLmF4aXMueC5pc092ZXJmbG93aW5nIHx8IHRoaXMuYXhpcy54LmZvcmNlVmlzaWJsZSA/IFwiLVwiICsgdGhpcy5zY3JvbGxiYXJXaWR0aCArIFwicHhcIiA6IDA7XG4gIH1cbiAgLyoqXG4gICAqIE9uIHNjcm9sbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vbk1vdXNlTW92ZUZvckF4aXMgPSBmdW5jdGlvbiBvbk1vdXNlTW92ZUZvckF4aXMoYXhpcykge1xuICAgIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICAgIGF4aXMgPSAneSc7XG4gICAgfVxuXG4gICAgdGhpcy5heGlzW2F4aXNdLnRyYWNrLnJlY3QgPSB0aGlzLmF4aXNbYXhpc10udHJhY2suZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5heGlzW2F4aXNdLnNjcm9sbGJhci5yZWN0ID0gdGhpcy5heGlzW2F4aXNdLnNjcm9sbGJhci5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgaXNXaXRoaW5TY3JvbGxiYXJCb3VuZHNYID0gdGhpcy5pc1dpdGhpbkJvdW5kcyh0aGlzLmF4aXNbYXhpc10uc2Nyb2xsYmFyLnJlY3QpO1xuXG4gICAgaWYgKGlzV2l0aGluU2Nyb2xsYmFyQm91bmRzWCkge1xuICAgICAgdGhpcy5heGlzW2F4aXNdLnNjcm9sbGJhci5lbC5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNsYXNzTmFtZXMuaG92ZXIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzV2l0aGluQm91bmRzKHRoaXMuYXhpc1theGlzXS50cmFjay5yZWN0KSkge1xuICAgICAgdGhpcy5zaG93U2Nyb2xsYmFyKGF4aXMpO1xuICAgICAgdGhpcy5heGlzW2F4aXNdLnRyYWNrLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLmhvdmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5heGlzW2F4aXNdLnRyYWNrLmVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jbGFzc05hbWVzLmhvdmVyKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLm9uTW91c2VMZWF2ZUZvckF4aXMgPSBmdW5jdGlvbiBvbk1vdXNlTGVhdmVGb3JBeGlzKGF4aXMpIHtcbiAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgICBheGlzID0gJ3knO1xuICAgIH1cblxuICAgIHRoaXMuYXhpc1theGlzXS50cmFjay5lbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gICAgdGhpcy5heGlzW2F4aXNdLnNjcm9sbGJhci5lbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY2xhc3NOYW1lcy5ob3Zlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNob3cgc2Nyb2xsYmFyXG4gICAqL1xuICBfcHJvdG8uc2hvd1Njcm9sbGJhciA9IGZ1bmN0aW9uIHNob3dTY3JvbGxiYXIoYXhpcykge1xuICAgIGlmIChheGlzID09PSB2b2lkIDApIHtcbiAgICAgIGF4aXMgPSAneSc7XG4gICAgfVxuXG4gICAgdmFyIHNjcm9sbGJhciA9IHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuZWw7XG5cbiAgICBpZiAoIXRoaXMuYXhpc1theGlzXS5pc1Zpc2libGUpIHtcbiAgICAgIHNjcm9sbGJhci5jbGFzc0xpc3QuYWRkKHRoaXMuY2xhc3NOYW1lcy52aXNpYmxlKTtcbiAgICAgIHRoaXMuYXhpc1theGlzXS5pc1Zpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0hpZGUpIHtcbiAgICAgIHRoaXMuaGlkZVNjcm9sbGJhcnMoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhpZGUgU2Nyb2xsYmFyXG4gICAqL1xuICA7XG5cbiAgLyoqXG4gICAqIG9uIHNjcm9sbGJhciBoYW5kbGUgZHJhZyBtb3ZlbWVudCBzdGFydHNcbiAgICovXG4gIF9wcm90by5vbkRyYWdTdGFydCA9IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGUsIGF4aXMpIHtcbiAgICBpZiAoYXhpcyA9PT0gdm9pZCAwKSB7XG4gICAgICBheGlzID0gJ3knO1xuICAgIH1cblxuICAgIHZhciBlbERvY3VtZW50ID0gZ2V0RWxlbWVudERvY3VtZW50KHRoaXMuZWwpO1xuICAgIHZhciBlbFdpbmRvdyA9IGdldEVsZW1lbnRXaW5kb3codGhpcy5lbCk7XG4gICAgdmFyIHNjcm9sbGJhciA9IHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXI7IC8vIE1lYXN1cmUgaG93IGZhciB0aGUgdXNlcidzIG1vdXNlIGlzIGZyb20gdGhlIHRvcCBvZiB0aGUgc2Nyb2xsYmFyIGRyYWcgaGFuZGxlLlxuXG4gICAgdmFyIGV2ZW50T2Zmc2V0ID0gYXhpcyA9PT0gJ3knID8gZS5wYWdlWSA6IGUucGFnZVg7XG4gICAgdGhpcy5heGlzW2F4aXNdLmRyYWdPZmZzZXQgPSBldmVudE9mZnNldCAtIHNjcm9sbGJhci5yZWN0W3RoaXMuYXhpc1theGlzXS5vZmZzZXRBdHRyXTtcbiAgICB0aGlzLmRyYWdnZWRBeGlzID0gYXhpcztcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWVzLmRyYWdnaW5nKTtcbiAgICBlbERvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuZHJhZywgdHJ1ZSk7XG4gICAgZWxEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbkVuZERyYWcsIHRydWUpO1xuXG4gICAgaWYgKHRoaXMucmVtb3ZlUHJldmVudENsaWNrSWQgPT09IG51bGwpIHtcbiAgICAgIGVsRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnByZXZlbnRDbGljaywgdHJ1ZSk7XG4gICAgICBlbERvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5wcmV2ZW50Q2xpY2ssIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbFdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZW1vdmVQcmV2ZW50Q2xpY2tJZCk7XG4gICAgICB0aGlzLnJlbW92ZVByZXZlbnRDbGlja0lkID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERyYWcgc2Nyb2xsYmFyIGhhbmRsZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vblRyYWNrQ2xpY2sgPSBmdW5jdGlvbiBvblRyYWNrQ2xpY2soZSwgYXhpcykge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgaWYgKGF4aXMgPT09IHZvaWQgMCkge1xuICAgICAgYXhpcyA9ICd5JztcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jbGlja09uVHJhY2spIHJldHVybjtcbiAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpO1xuICAgIHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIucmVjdCA9IHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXIuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHNjcm9sbGJhciA9IHRoaXMuYXhpc1theGlzXS5zY3JvbGxiYXI7XG4gICAgdmFyIHNjcm9sbGJhck9mZnNldCA9IHNjcm9sbGJhci5yZWN0W3RoaXMuYXhpc1theGlzXS5vZmZzZXRBdHRyXTtcbiAgICB2YXIgaG9zdFNpemUgPSBwYXJzZUludCh0aGlzLmVsU3R5bGVzW3RoaXMuYXhpc1theGlzXS5zaXplQXR0cl0sIDEwKTtcbiAgICB2YXIgc2Nyb2xsZWQgPSB0aGlzLmNvbnRlbnRXcmFwcGVyRWxbdGhpcy5heGlzW2F4aXNdLnNjcm9sbE9mZnNldEF0dHJdO1xuICAgIHZhciB0ID0gYXhpcyA9PT0gJ3knID8gdGhpcy5tb3VzZVkgLSBzY3JvbGxiYXJPZmZzZXQgOiB0aGlzLm1vdXNlWCAtIHNjcm9sbGJhck9mZnNldDtcbiAgICB2YXIgZGlyID0gdCA8IDAgPyAtMSA6IDE7XG4gICAgdmFyIHNjcm9sbFNpemUgPSBkaXIgPT09IC0xID8gc2Nyb2xsZWQgLSBob3N0U2l6ZSA6IHNjcm9sbGVkICsgaG9zdFNpemU7XG5cbiAgICB2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbygpIHtcbiAgICAgIGlmIChkaXIgPT09IC0xKSB7XG4gICAgICAgIGlmIChzY3JvbGxlZCA+IHNjcm9sbFNpemUpIHtcbiAgICAgICAgICB2YXIgX3RoaXM0JGNvbnRlbnRXcmFwcGVyO1xuXG4gICAgICAgICAgc2Nyb2xsZWQgLT0gX3RoaXM0Lm9wdGlvbnMuY2xpY2tPblRyYWNrU3BlZWQ7XG5cbiAgICAgICAgICBfdGhpczQuY29udGVudFdyYXBwZXJFbC5zY3JvbGxUbygoX3RoaXM0JGNvbnRlbnRXcmFwcGVyID0ge30sIF90aGlzNCRjb250ZW50V3JhcHBlcltfdGhpczQuYXhpc1theGlzXS5vZmZzZXRBdHRyXSA9IHNjcm9sbGVkLCBfdGhpczQkY29udGVudFdyYXBwZXIpKTtcblxuICAgICAgICAgIGVsV2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzY3JvbGxUbyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzY3JvbGxlZCA8IHNjcm9sbFNpemUpIHtcbiAgICAgICAgICB2YXIgX3RoaXM0JGNvbnRlbnRXcmFwcGVyMjtcblxuICAgICAgICAgIHNjcm9sbGVkICs9IF90aGlzNC5vcHRpb25zLmNsaWNrT25UcmFja1NwZWVkO1xuXG4gICAgICAgICAgX3RoaXM0LmNvbnRlbnRXcmFwcGVyRWwuc2Nyb2xsVG8oKF90aGlzNCRjb250ZW50V3JhcHBlcjIgPSB7fSwgX3RoaXM0JGNvbnRlbnRXcmFwcGVyMltfdGhpczQuYXhpc1theGlzXS5vZmZzZXRBdHRyXSA9IHNjcm9sbGVkLCBfdGhpczQkY29udGVudFdyYXBwZXIyKSk7XG5cbiAgICAgICAgICBlbFdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsVG8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNjcm9sbFRvKCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHRlciBmb3IgY29udGVudCBlbGVtZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldENvbnRlbnRFbGVtZW50ID0gZnVuY3Rpb24gZ2V0Q29udGVudEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudEVsO1xuICB9XG4gIC8qKlxuICAgKiBHZXR0ZXIgZm9yIG9yaWdpbmFsIHNjcm9sbGluZyBlbGVtZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFNjcm9sbEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRTY3JvbGxFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRXcmFwcGVyRWw7XG4gIH07XG5cbiAgX3Byb3RvLmdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gZ2V0U2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgLy8gVHJ5L2NhdGNoIGZvciBGRiA1NiB0aHJvd2luZyBvbiB1bmRlZmluZWQgY29tcHV0ZWRTdHlsZXNcbiAgICB0cnkge1xuICAgICAgLy8gRGV0ZWN0IGJyb3dzZXJzIHN1cHBvcnRpbmcgQ1NTIHNjcm9sbGJhciBzdHlsaW5nIGFuZCBkbyBub3QgY2FsY3VsYXRlXG4gICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRlbnRXcmFwcGVyRWwsICc6Oi13ZWJraXQtc2Nyb2xsYmFyJykuZGlzcGxheSA9PT0gJ25vbmUnIHx8ICdzY3JvbGxiYXJXaWR0aCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlIHx8ICctbXMtb3ZlcmZsb3ctc3R5bGUnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aCh0aGlzLmVsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGgodGhpcy5lbCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICB2YXIgZWxXaW5kb3cgPSBnZXRFbGVtZW50V2luZG93KHRoaXMuZWwpOyAvLyBFdmVudCBsaXN0ZW5lcnNcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0hpZGUpIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUVudGVyKTtcbiAgICB9XG5cbiAgICBbJ21vdXNlZG93bicsICdjbGljaycsICdkYmxjbGljayddLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzNS5lbC5yZW1vdmVFdmVudExpc3RlbmVyKGUsIF90aGlzNS5vblBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgfSk7XG4gICAgWyd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ3RvdWNobW92ZSddLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzNS5lbC5yZW1vdmVFdmVudExpc3RlbmVyKGUsIF90aGlzNS5vblBvaW50ZXJFdmVudCwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKTtcblxuICAgIGlmICh0aGlzLmNvbnRlbnRXcmFwcGVyRWwpIHtcbiAgICAgIHRoaXMuY29udGVudFdyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICB9XG5cbiAgICBlbFdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKTtcblxuICAgIGlmICh0aGlzLm11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH0gLy8gQ2FuY2VsIGFsbCBkZWJvdW5jZWQgZnVuY3Rpb25zXG5cblxuICAgIHRoaXMucmVjYWxjdWxhdGUuY2FuY2VsKCk7XG4gICAgdGhpcy5vbk1vdXNlTW92ZS5jYW5jZWwoKTtcbiAgICB0aGlzLmhpZGVTY3JvbGxiYXJzLmNhbmNlbCgpO1xuICAgIHRoaXMub25XaW5kb3dSZXNpemUuY2FuY2VsKCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuTW91bnQgbXV0YXRpb24gb2JzZXJ2ZXIgYW5kIGRlbGV0ZSBTaW1wbGVCYXIgaW5zdGFuY2UgZnJvbSBET00gZWxlbWVudFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51bk1vdW50ID0gZnVuY3Rpb24gdW5Nb3VudCgpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgIFNpbXBsZUJhci5pbnN0YW5jZXMuZGVsZXRlKHRoaXMuZWwpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBtb3VzZSBpcyB3aXRoaW4gYm91bmRzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmlzV2l0aGluQm91bmRzID0gZnVuY3Rpb24gaXNXaXRoaW5Cb3VuZHMoYmJveCkge1xuICAgIHJldHVybiB0aGlzLm1vdXNlWCA+PSBiYm94LmxlZnQgJiYgdGhpcy5tb3VzZVggPD0gYmJveC5sZWZ0ICsgYmJveC53aWR0aCAmJiB0aGlzLm1vdXNlWSA+PSBiYm94LnRvcCAmJiB0aGlzLm1vdXNlWSA8PSBiYm94LnRvcCArIGJib3guaGVpZ2h0O1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIGVsZW1lbnQgY2hpbGRyZW4gbWF0Y2hlcyBxdWVyeVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5maW5kQ2hpbGQgPSBmdW5jdGlvbiBmaW5kQ2hpbGQoZWwsIHF1ZXJ5KSB7XG4gICAgdmFyIG1hdGNoZXMgPSBlbC5tYXRjaGVzIHx8IGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBlbC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZWwubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbC5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGNoaWxkLCBxdWVyeSk7XG4gICAgfSlbMF07XG4gIH07XG5cbiAgcmV0dXJuIFNpbXBsZUJhcjtcbn0oKTtcblxuU2ltcGxlQmFyLmRlZmF1bHRPcHRpb25zID0ge1xuICBhdXRvSGlkZTogdHJ1ZSxcbiAgZm9yY2VWaXNpYmxlOiBmYWxzZSxcbiAgY2xpY2tPblRyYWNrOiB0cnVlLFxuICBjbGlja09uVHJhY2tTcGVlZDogNDAsXG4gIGNsYXNzTmFtZXM6IHtcbiAgICBjb250ZW50RWw6ICdzaW1wbGViYXItY29udGVudCcsXG4gICAgY29udGVudFdyYXBwZXI6ICdzaW1wbGViYXItY29udGVudC13cmFwcGVyJyxcbiAgICBvZmZzZXQ6ICdzaW1wbGViYXItb2Zmc2V0JyxcbiAgICBtYXNrOiAnc2ltcGxlYmFyLW1hc2snLFxuICAgIHdyYXBwZXI6ICdzaW1wbGViYXItd3JhcHBlcicsXG4gICAgcGxhY2Vob2xkZXI6ICdzaW1wbGViYXItcGxhY2Vob2xkZXInLFxuICAgIHNjcm9sbGJhcjogJ3NpbXBsZWJhci1zY3JvbGxiYXInLFxuICAgIHRyYWNrOiAnc2ltcGxlYmFyLXRyYWNrJyxcbiAgICBoZWlnaHRBdXRvT2JzZXJ2ZXJXcmFwcGVyRWw6ICdzaW1wbGViYXItaGVpZ2h0LWF1dG8tb2JzZXJ2ZXItd3JhcHBlcicsXG4gICAgaGVpZ2h0QXV0b09ic2VydmVyRWw6ICdzaW1wbGViYXItaGVpZ2h0LWF1dG8tb2JzZXJ2ZXInLFxuICAgIHZpc2libGU6ICdzaW1wbGViYXItdmlzaWJsZScsXG4gICAgaG9yaXpvbnRhbDogJ3NpbXBsZWJhci1ob3Jpem9udGFsJyxcbiAgICB2ZXJ0aWNhbDogJ3NpbXBsZWJhci12ZXJ0aWNhbCcsXG4gICAgaG92ZXI6ICdzaW1wbGViYXItaG92ZXInLFxuICAgIGRyYWdnaW5nOiAnc2ltcGxlYmFyLWRyYWdnaW5nJ1xuICB9LFxuICBzY3JvbGxiYXJNaW5TaXplOiAyNSxcbiAgc2Nyb2xsYmFyTWF4U2l6ZTogMCxcbiAgdGltZW91dDogMTAwMFxufTtcblNpbXBsZUJhci5pbnN0YW5jZXMgPSBuZXcgV2Vha01hcCgpO1xuXG5TaW1wbGVCYXIuaW5pdERPTUxvYWRlZEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgdGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMpO1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzKTtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zaW1wbGViYXJdJyksIGZ1bmN0aW9uIChlbCkge1xuICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2ltcGxlYmFyJykgIT09ICdpbml0JyAmJiAhU2ltcGxlQmFyLmluc3RhbmNlcy5oYXMoZWwpKSBuZXcgU2ltcGxlQmFyKGVsLCBnZXRPcHRpb25zKGVsLmF0dHJpYnV0ZXMpKTtcbiAgfSk7XG59O1xuXG5TaW1wbGVCYXIucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZ2xvYmFsT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xufTtcblxuU2ltcGxlQmFyLmluaXRIdG1sQXBpID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmluaXRET01Mb2FkZWRFbGVtZW50cyA9IHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzLmJpbmQodGhpcyk7IC8vIE11dGF0aW9uT2JzZXJ2ZXIgaXMgSUUxMStcblxuICBpZiAodHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gTXV0YXRpb24gb2JzZXJ2ZXIgdG8gb2JzZXJ2ZSBkeW5hbWljYWxseSBhZGRlZCBlbGVtZW50c1xuICAgIHRoaXMuZ2xvYmFsT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihTaW1wbGVCYXIuaGFuZGxlTXV0YXRpb25zKTtcbiAgICB0aGlzLmdsb2JhbE9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIHN1YnRyZWU6IHRydWVcbiAgICB9KTtcbiAgfSAvLyBUYWtlbiBmcm9tIGpRdWVyeSBgcmVhZHlgIGZ1bmN0aW9uXG4gIC8vIEluc3RhbnRpYXRlIGVsZW1lbnRzIGFscmVhZHkgcHJlc2VudCBvbiB0aGUgcGFnZVxuXG5cbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpIHtcbiAgICAvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgaW5pdFxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuaW5pdERPTUxvYWRlZEVsZW1lbnRzKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgdGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5pbml0RE9NTG9hZGVkRWxlbWVudHMpO1xuICB9XG59O1xuXG5TaW1wbGVCYXIuaGFuZGxlTXV0YXRpb25zID0gZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG11dGF0aW9uLmFkZGVkTm9kZXMsIGZ1bmN0aW9uIChhZGRlZE5vZGUpIHtcbiAgICAgIGlmIChhZGRlZE5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgaWYgKGFkZGVkTm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc2ltcGxlYmFyJykpIHtcbiAgICAgICAgICAhU2ltcGxlQmFyLmluc3RhbmNlcy5oYXMoYWRkZWROb2RlKSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYWRkZWROb2RlKSAmJiBuZXcgU2ltcGxlQmFyKGFkZGVkTm9kZSwgZ2V0T3B0aW9ucyhhZGRlZE5vZGUuYXR0cmlidXRlcykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYWRkZWROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpbXBsZWJhcl0nKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNpbXBsZWJhcicpICE9PSAnaW5pdCcgJiYgIVNpbXBsZUJhci5pbnN0YW5jZXMuaGFzKGVsKSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoZWwpKSBuZXcgU2ltcGxlQmFyKGVsLCBnZXRPcHRpb25zKGVsLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobXV0YXRpb24ucmVtb3ZlZE5vZGVzLCBmdW5jdGlvbiAocmVtb3ZlZE5vZGUpIHtcbiAgICAgIGlmIChyZW1vdmVkTm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBpZiAocmVtb3ZlZE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXNpbXBsZWJhcicpID09PSAnaW5pdCcpIHtcbiAgICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLmhhcyhyZW1vdmVkTm9kZSkgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhyZW1vdmVkTm9kZSkgJiYgU2ltcGxlQmFyLmluc3RhbmNlcy5nZXQocmVtb3ZlZE5vZGUpLnVuTW91bnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHJlbW92ZWROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNpbXBsZWJhcj1cImluaXRcIl0nKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBTaW1wbGVCYXIuaW5zdGFuY2VzLmhhcyhlbCkgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhlbCkgJiYgU2ltcGxlQmFyLmluc3RhbmNlcy5nZXQoZWwpLnVuTW91bnQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cblNpbXBsZUJhci5nZXRPcHRpb25zID0gZ2V0T3B0aW9ucztcbi8qKlxuICogSFRNTCBBUElcbiAqIENhbGxlZCBvbmx5IGluIGEgYnJvd3NlciBlbnYuXG4gKi9cblxuaWYgKGNhblVzZURPTSkge1xuICBTaW1wbGVCYXIuaW5pdEh0bWxBcGkoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2ltcGxlQmFyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2ltcGxlYmFyLmVzbS5qcy5tYXBcbiIsInZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgICAgcltrXSA9IGFbal07XG4gICAgcmV0dXJuIHI7XG59O1xudmFyIEJyb3dzZXJJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJJbmZvKG5hbWUsIHZlcnNpb24sIG9zKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMub3MgPSBvcztcbiAgICAgICAgdGhpcy50eXBlID0gJ2Jyb3dzZXInO1xuICAgIH1cbiAgICByZXR1cm4gQnJvd3NlckluZm87XG59KCkpO1xuZXhwb3J0IHsgQnJvd3NlckluZm8gfTtcbnZhciBOb2RlSW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb2RlSW5mbyh2ZXJzaW9uKSB7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMudHlwZSA9ICdub2RlJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ25vZGUnO1xuICAgICAgICB0aGlzLm9zID0gcHJvY2Vzcy5wbGF0Zm9ybTtcbiAgICB9XG4gICAgcmV0dXJuIE5vZGVJbmZvO1xufSgpKTtcbmV4cG9ydCB7IE5vZGVJbmZvIH07XG52YXIgU2VhcmNoQm90RGV2aWNlSW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZWFyY2hCb3REZXZpY2VJbmZvKG5hbWUsIHZlcnNpb24sIG9zLCBib3QpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5vcyA9IG9zO1xuICAgICAgICB0aGlzLmJvdCA9IGJvdDtcbiAgICAgICAgdGhpcy50eXBlID0gJ2JvdC1kZXZpY2UnO1xuICAgIH1cbiAgICByZXR1cm4gU2VhcmNoQm90RGV2aWNlSW5mbztcbn0oKSk7XG5leHBvcnQgeyBTZWFyY2hCb3REZXZpY2VJbmZvIH07XG52YXIgQm90SW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3RJbmZvKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAnYm90JztcbiAgICAgICAgdGhpcy5ib3QgPSB0cnVlOyAvLyBOT1RFOiBkZXByZWNhdGVkIHRlc3QgbmFtZSBpbnN0ZWFkXG4gICAgICAgIHRoaXMubmFtZSA9ICdib3QnO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9zID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEJvdEluZm87XG59KCkpO1xuZXhwb3J0IHsgQm90SW5mbyB9O1xudmFyIFJlYWN0TmF0aXZlSW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWFjdE5hdGl2ZUluZm8oKSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdyZWFjdC1uYXRpdmUnO1xuICAgICAgICB0aGlzLm5hbWUgPSAncmVhY3QtbmF0aXZlJztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdE5hdGl2ZUluZm87XG59KCkpO1xuZXhwb3J0IHsgUmVhY3ROYXRpdmVJbmZvIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG52YXIgU0VBUkNIQk9YX1VBX1JFR0VYID0gL2FsZXhhfGJvdHxjcmF3bChlcnxpbmcpfGZhY2Vib29rZXh0ZXJuYWxoaXR8ZmVlZGJ1cm5lcnxnb29nbGUgd2ViIHByZXZpZXd8bmFnaW9zfHBvc3RyYW5rfHBpbmdkb218c2x1cnB8c3BpZGVyfHlhaG9vIXx5YW5kZXgvO1xudmFyIFNFQVJDSEJPVF9PU19SRUdFWCA9IC8obnVoa3xHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrXFwgSmVldmVzXFwvVGVvbWF8aWFfYXJjaGl2ZXIpLztcbnZhciBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTID0gMztcbnZhciB1c2VyQWdlbnRSdWxlcyA9IFtcbiAgICBbJ2FvbCcsIC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2VkZ2UnLCAvRWRnZVxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsnZWRnZS1pb3MnLCAvRWRnaU9TXFwvKFswLTlcXC5fXSspL10sXG4gICAgWyd5YW5kZXhicm93c2VyJywgL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsna2FrYW90YWxrJywgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sXG4gICAgWydzYW1zdW5nJywgL1NhbXN1bmdCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ3NpbGsnLCAvXFxiU2lsa1xcLyhbMC05Ll8tXSspXFxiL10sXG4gICAgWydtaXVpJywgL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sXG4gICAgWydiZWFrZXInLCAvQmVha2VyQnJvd3NlclxcLyhbMC05XFwuXSspL10sXG4gICAgWydlZGdlLWNocm9taXVtJywgL0VkZ0E/XFwvKFswLTlcXC5dKykvXSxcbiAgICBbXG4gICAgICAgICdjaHJvbWl1bS13ZWJ2aWV3JyxcbiAgICAgICAgLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvLFxuICAgIF0sXG4gICAgWydjaHJvbWUnLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydwaGFudG9tanMnLCAvUGhhbnRvbUpTXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2NyaW9zJywgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2ZpcmVmb3gnLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXG4gICAgWydmeGlvcycsIC9GeGlPU1xcLyhbMC05XFwuXSspL10sXG4gICAgWydvcGVyYS1taW5pJywgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnb3BlcmEnLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxuICAgIFsnb3BlcmEnLCAvT1BSXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2llJywgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcbiAgICBbJ2llJywgL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sXG4gICAgWydpZScsIC9NU0lFXFxzKDdcXC4wKS9dLFxuICAgIFsnYmIxMCcsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ2FuZHJvaWQnLCAvQW5kcm9pZFxccyhbMC05XFwuXSspL10sXG4gICAgWydpb3MnLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFxuICAgIFsnc2FmYXJpJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKlNhZmFyaS9dLFxuICAgIFsnZmFjZWJvb2snLCAvRkJBVlxcLyhbMC05XFwuXSspL10sXG4gICAgWydpbnN0YWdyYW0nLCAvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxcbiAgICBbJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dLFxuICAgIFsnaW9zLXdlYnZpZXcnLCAvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sXG4gICAgWydzZWFyY2hib3QnLCBTRUFSQ0hCT1hfVUFfUkVHRVhdLFxuXTtcbnZhciBvcGVyYXRpbmdTeXN0ZW1SdWxlcyA9IFtcbiAgICBbJ2lPUycsIC9pUChob25lfG9kfGFkKS9dLFxuICAgIFsnQW5kcm9pZCBPUycsIC9BbmRyb2lkL10sXG4gICAgWydCbGFja0JlcnJ5IE9TJywgL0JsYWNrQmVycnl8QkIxMC9dLFxuICAgIFsnV2luZG93cyBNb2JpbGUnLCAvSUVNb2JpbGUvXSxcbiAgICBbJ0FtYXpvbiBPUycsIC9LaW5kbGUvXSxcbiAgICBbJ1dpbmRvd3MgMy4xMScsIC9XaW4xNi9dLFxuICAgIFsnV2luZG93cyA5NScsIC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvXSxcbiAgICBbJ1dpbmRvd3MgOTgnLCAvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxcbiAgICBbJ1dpbmRvd3MgMjAwMCcsIC8oV2luZG93cyBOVCA1LjApfChXaW5kb3dzIDIwMDApL10sXG4gICAgWydXaW5kb3dzIFhQJywgLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApL10sXG4gICAgWydXaW5kb3dzIFNlcnZlciAyMDAzJywgLyhXaW5kb3dzIE5UIDUuMikvXSxcbiAgICBbJ1dpbmRvd3MgVmlzdGEnLCAvKFdpbmRvd3MgTlQgNi4wKS9dLFxuICAgIFsnV2luZG93cyA3JywgLyhXaW5kb3dzIE5UIDYuMSkvXSxcbiAgICBbJ1dpbmRvd3MgOCcsIC8oV2luZG93cyBOVCA2LjIpL10sXG4gICAgWydXaW5kb3dzIDguMScsIC8oV2luZG93cyBOVCA2LjMpL10sXG4gICAgWydXaW5kb3dzIDEwJywgLyhXaW5kb3dzIE5UIDEwLjApL10sXG4gICAgWydXaW5kb3dzIE1FJywgL1dpbmRvd3MgTUUvXSxcbiAgICBbJ09wZW4gQlNEJywgL09wZW5CU0QvXSxcbiAgICBbJ1N1biBPUycsIC9TdW5PUy9dLFxuICAgIFsnQ2hyb21lIE9TJywgL0NyT1MvXSxcbiAgICBbJ0xpbnV4JywgLyhMaW51eCl8KFgxMSkvXSxcbiAgICBbJ01hYyBPUycsIC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpL10sXG4gICAgWydRTlgnLCAvUU5YL10sXG4gICAgWydCZU9TJywgL0JlT1MvXSxcbiAgICBbJ09TLzInLCAvT1NcXC8yL10sXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdCh1c2VyQWdlbnQpIHtcbiAgICBpZiAoISF1c2VyQWdlbnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXNlckFnZW50KHVzZXJBZ2VudCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVhY3ROYXRpdmVJbmZvKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gcGFyc2VVc2VyQWdlbnQobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgfVxuICAgIHJldHVybiBnZXROb2RlVmVyc2lvbigpO1xufVxuZnVuY3Rpb24gbWF0Y2hVc2VyQWdlbnQodWEpIHtcbiAgICAvLyBvcHRlZCBmb3IgdXNpbmcgcmVkdWNlIGhlcmUgcmF0aGVyIHRoYW4gQXJyYXkjZmlyc3Qgd2l0aCBhIHJlZ2V4LnRlc3QgY2FsbFxuICAgIC8vIHRoaXMgaXMgcHJpbWFyaWx5IGJlY2F1c2UgdXNpbmcgdGhlIHJlZHVjZSB3ZSBvbmx5IHBlcmZvcm0gdGhlIHJlZ2V4XG4gICAgLy8gZXhlY3V0aW9uIG9uY2UgcmF0aGVyIHRoYW4gb25jZSBmb3IgdGhlIHRlc3QgYW5kIGZvciB0aGUgZXhlYyBhZ2FpbiBiZWxvd1xuICAgIC8vIHByb2JhYmx5IHNvbWV0aGluZyB0aGF0IG5lZWRzIHRvIGJlIGJlbmNobWFya2VkIHRob3VnaFxuICAgIHJldHVybiAodWEgIT09ICcnICYmXG4gICAgICAgIHVzZXJBZ2VudFJ1bGVzLnJlZHVjZShmdW5jdGlvbiAobWF0Y2hlZCwgX2EpIHtcbiAgICAgICAgICAgIHZhciBicm93c2VyID0gX2FbMF0sIHJlZ2V4ID0gX2FbMV07XG4gICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHVhTWF0Y2ggPSByZWdleC5leGVjKHVhKTtcbiAgICAgICAgICAgIHJldHVybiAhIXVhTWF0Y2ggJiYgW2Jyb3dzZXIsIHVhTWF0Y2hdO1xuICAgICAgICB9LCBmYWxzZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJyb3dzZXJOYW1lKHVhKSB7XG4gICAgdmFyIGRhdGEgPSBtYXRjaFVzZXJBZ2VudCh1YSk7XG4gICAgcmV0dXJuIGRhdGEgPyBkYXRhWzBdIDogbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVzZXJBZ2VudCh1YSkge1xuICAgIHZhciBtYXRjaGVkUnVsZSA9IG1hdGNoVXNlckFnZW50KHVhKTtcbiAgICBpZiAoIW1hdGNoZWRSdWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbmFtZSA9IG1hdGNoZWRSdWxlWzBdLCBtYXRjaCA9IG1hdGNoZWRSdWxlWzFdO1xuICAgIGlmIChuYW1lID09PSAnc2VhcmNoYm90Jykge1xuICAgICAgICByZXR1cm4gbmV3IEJvdEluZm8oKTtcbiAgICB9XG4gICAgdmFyIHZlcnNpb25QYXJ0cyA9IG1hdGNoWzFdICYmIG1hdGNoWzFdLnNwbGl0KC9bLl9dLykuc2xpY2UoMCwgMyk7XG4gICAgaWYgKHZlcnNpb25QYXJ0cykge1xuICAgICAgICBpZiAodmVyc2lvblBhcnRzLmxlbmd0aCA8IFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMpIHtcbiAgICAgICAgICAgIHZlcnNpb25QYXJ0cyA9IF9fc3ByZWFkQXJyYXlzKHZlcnNpb25QYXJ0cywgY3JlYXRlVmVyc2lvblBhcnRzKFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMgLSB2ZXJzaW9uUGFydHMubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZlcnNpb25QYXJ0cyA9IFtdO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvbiA9IHZlcnNpb25QYXJ0cy5qb2luKCcuJyk7XG4gICAgdmFyIG9zID0gZGV0ZWN0T1ModWEpO1xuICAgIHZhciBzZWFyY2hCb3RNYXRjaCA9IFNFQVJDSEJPVF9PU19SRUdFWC5leGVjKHVhKTtcbiAgICBpZiAoc2VhcmNoQm90TWF0Y2ggJiYgc2VhcmNoQm90TWF0Y2hbMV0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWFyY2hCb3REZXZpY2VJbmZvKG5hbWUsIHZlcnNpb24sIG9zLCBzZWFyY2hCb3RNYXRjaFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQnJvd3NlckluZm8obmFtZSwgdmVyc2lvbiwgb3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdE9TKHVhKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBjb3VudCA9IG9wZXJhdGluZ1N5c3RlbVJ1bGVzLmxlbmd0aDsgaWkgPCBjb3VudDsgaWkrKykge1xuICAgICAgICB2YXIgX2EgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlc1tpaV0sIG9zID0gX2FbMF0sIHJlZ2V4ID0gX2FbMV07XG4gICAgICAgIHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWModWEpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBvcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVmVyc2lvbigpIHtcbiAgICB2YXIgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MudmVyc2lvbjtcbiAgICByZXR1cm4gaXNOb2RlID8gbmV3IE5vZGVJbmZvKHByb2Nlc3MudmVyc2lvbi5zbGljZSgxKSkgOiBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlVmVyc2lvblBhcnRzKGNvdW50KSB7XG4gICAgdmFyIG91dHB1dCA9IFtdO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBjb3VudDsgaWkrKykge1xuICAgICAgICBvdXRwdXQucHVzaCgnMCcpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNpbGV4IGNvbmZpZyBhdmFpbGFibGUgdG8gaW5kZXgucHVnIGFzIHNpbGV4LmNvbmZpZ1xuICovXG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG5cbiAgLyoqXG4gICAqIGRlYnVnIG1vZGVcbiAgICovXG4gIGRlYnVnOiBmYWxzZSxcblxuICAvKipcbiAgICogTGluayBvZiB0aGUgbWVudVxuICAgKi9cbiAgV0lLSV9TSUxFWDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9zaWxleGxhYnMvU2lsZXgvd2lraScsXG5cbiAgLyoqXG4gICAqIExpbmsgaW4gcHJvcGVydHkgdG9vbCBkaWFsb2dcbiAgICogdGhpcyBpcyBhbHNvIGhhcmQgY29kZWQgaW4gcHJvcGVydHktdG9vbC5wdWdcbiAgICovXG4gIFdJS0lfU0lMRVhfQ1VTVE9NX0NTU19DTEFTUzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9zaWxleGxhYnMvU2lsZXgvd2lraS9TaWxleC1DU1MtZWRpdG9yI2N1c3RvbS1jc3MtY2xhc3NlcycsXG5cbiAgLyoqXG4gICAqIExpbmsgb2YgdGhlIG1lbnVcbiAgICovXG4gIENST1dEX0ZVTkRJTkc6ICdodHRwOi8vY3Jvd2RmdW5kaW5nLnNpbGV4Lm1lLycsXG5cbiAgLyoqXG4gICAqIExpbmsgb2YgdGhlIG1lbnVcbiAgICovXG4gIElTU1VFU19TSUxFWDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9zaWxleGxhYnMvU2lsZXgvaXNzdWVzP3N0YXRlPW9wZW4nLFxuXG4gIC8qKlxuICAgKiBMaW5rIG9mIHRoZSBtZW51XG4gICAqL1xuICBET1dOTE9BRFNfVEVNUExBVEVfU0lMRVg6ICdodHRwczovL2dpdGh1Yi5jb20vc2lsZXhsYWJzL1NpbGV4L2lzc3Vlcz9sYWJlbHM9dGVtcGxhdGUmc3RhdGU9b3BlbicsXG5cbiAgLyoqXG4gICAqIExpbmsgb2YgdGhlIG1lbnVcbiAgICovXG4gIERPV05MT0FEU19XSURHRVRfU0lMRVg6ICdodHRwczovL2dpdGh1Yi5jb20vc2lsZXhsYWJzL1NpbGV4L2lzc3Vlcz9sYWJlbHM9d2lkZ2V0JnN0YXRlPW9wZW4nLFxuXG4gIC8qKlxuICAgKiBMaW5rIG9mIHRoZSBtZW51XG4gICAqL1xuICBBQk9VVF9TSUxFWF9MQUJTOiAnaHR0cDovL3d3dy5zaWxleGxhYnMub3JnLycsXG5cbiAgLyoqXG4gICAqIExpbmsgb2YgdGhlIG1lbnVcbiAgICovXG4gIFNVQlNDUklCRV9TSUxFWF9MQUJTOiAnaHR0cDovL2VlcHVybC5jb20vRjQ4cTUnLFxuXG4gIC8qKlxuICAgKiBMaW5rIG9mIHRoZSBtZW51XG4gICAqL1xuICBTT0NJQUxfRElBU1BPUkE6ICdodHRwczovL2RpYXNwLm9yZy9wZW9wbGUvZjM3NDM4MTAzYTliMDEzMjUwYWEyYTAwMDAwNTM2MjUnLFxuXG4gIC8qKlxuICAgKiBMaW5rIG9mIHRoZSBtZW51XG4gICAqL1xuICBTT0NJQUxfVFdJVFRFUjogJ2h0dHA6Ly90d2l0dGVyLmNvbS9zaWxleGxhYnMnLFxuXG4gIC8qKlxuICAgKiBMaW5rIG9mIHRoZSBtZW51XG4gICAqL1xuICBTT0NJQUxfRkI6ICdodHRwOi8vd3d3LmZhY2Vib29rLmNvbS9zaWxleGxhYnMnLFxuXG4gIC8qKlxuICAgKiBMaW5rIG9mIHRoZSBtZW51XG4gICAqL1xuICBGT1JLX0NPREU6ICdodHRwczovL2dpdGh1Yi5jb20vc2lsZXhsYWJzL1NpbGV4JyxcblxuICAvKipcbiAgICogTGluayBvZiB0aGUgbWVudVxuICAgKi9cbiAgQ09OVFJJQlVURTogJ2h0dHBzOi8vZ2l0aHViLmNvbS9zaWxleGxhYnMvU2lsZXgvd2lraS9Db250cmlidXRlJyxcblxuICAvKipcbiAgICogU2luZ2xlIHNpdGUgbW9kZSwgc2tpcCB0aGUgZGFzaGJvYXJkIGFuZCBnZXQgdGhlIHNpdGUgZnJvbSB0aGUgVVJMXG4gICAqIE9wdGlvbiB0byBiZSBwcm92aWRlZCBieSB0aGUgY2xpZW50IHNpZGVcbiAgICovXG4gIHNpbmdsZVNpdGVNb2RlOiBmYWxzZSxcbiAgY29tcG9uZW50Rm9sZGVyczogWycuL3Byb2RvdHlwZS9jb21wb25lbnRzJ10sXG5cbiAgLyoqXG4gICAqIFRoZSBtYWluIGFwcGxpY2F0aW9uIG1lbnVcbiAgICovXG4gIHNob3J0Y3V0czogW1xuICAgIHtcbiAgICAgIGxhYmVsOiAnTmV3IEZpbGUnLFxuICAgICAgaWQ6ICdmaWxlLm5ldycsXG4gICAgICBrZXk6ICduJyxcbiAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnT3BlbiBGaWxlLi4uJyxcbiAgICAgIGlkOiAnZmlsZS5vcGVuJyxcbiAgICAgIGtleTogJ28nLFxuICAgICAgY3RybEtleTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnU2F2ZSBGaWxlJyxcbiAgICAgIGlkOiAnZmlsZS5zYXZlJyxcbiAgICAgIGtleTogJ3MnLFxuICAgICAgY3RybEtleTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnU2F2ZSBBcy4uLicsXG4gICAgICBpZDogJ2ZpbGUuc2F2ZWFzJyxcbiAgICAgIGtleTogJ3MnLFxuICAgICAgY3RybEtleTogdHJ1ZSxcbiAgICAgIHNoaWZ0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIHtcbiAgICAgIGxhYmVsOiAnUHVibGlzaCcsXG4gICAgICBpZDogJ2ZpbGUucHVibGlzaCcsXG4gICAgICBrZXk6ICdwJyxcbiAgICAgIGN0cmxLZXk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ1NldHRpbmdzLi4uJyxcbiAgICAgIGlkOiAnZmlsZS5wdWJsaXNoLnNldHRpbmdzJyxcbiAgICAgIGtleTogJ28nLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdNb3ZlIFVwJyxcbiAgICAgIGlkOiAnZWRpdC5wb3NpdGlvbi51cCcsXG4gICAgICBrZXk6ICdBcnJvd1VwJyxcbiAgICAgIG1vZGlmaWVyczogZmFsc2UsXG4gICAgICBpbnB1dDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ01vdmUgRG93bicsXG4gICAgICBpZDogJ2VkaXQucG9zaXRpb24uZG93bicsXG4gICAgICBrZXk6ICdBcnJvd0Rvd24nLFxuICAgICAgbW9kaWZpZXJzOiBmYWxzZSxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnTW92ZSBMZWZ0JyxcbiAgICAgIGlkOiAnZWRpdC5wb3NpdGlvbi5sZWZ0JyxcbiAgICAgIGtleTogJ0Fycm93TGVmdCcsXG4gICAgICBtb2RpZmllcnM6IGZhbHNlLFxuICAgICAgaW5wdXQ6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdNb3ZlIFJpZ2h0JyxcbiAgICAgIGlkOiAnZWRpdC5wb3NpdGlvbi5yaWdodCcsXG4gICAgICBrZXk6ICdBcnJvd1JpZ2h0JyxcbiAgICAgIG1vZGlmaWVyczogZmFsc2UsXG4gICAgICBpbnB1dDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ01vdmUgVXAgaW4gdGhlIERPTScsXG4gICAgICBpZDogJ2VkaXQubW92ZS51cCcsXG4gICAgICBrZXk6ICdBcnJvd1VwJyxcbiAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnTW92ZSBEb3duIGluIHRoZSBET00nLFxuICAgICAgaWQ6ICdlZGl0Lm1vdmUuZG93bicsXG4gICAgICBrZXk6ICdBcnJvd0Rvd24nLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgICAgaW5wdXQ6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdNb3ZlIFRvcCcsXG4gICAgICBpZDogJ2VkaXQubW92ZS50by50b3AnLFxuICAgICAga2V5OiAnQXJyb3dVcCcsXG4gICAgICBzaGlmdEtleTogdHJ1ZSxcbiAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnTW92ZSBCb3R0b20nLFxuICAgICAgaWQ6ICdlZGl0Lm1vdmUudG8uYm90dG9tJyxcbiAgICAgIGtleTogJ0Fycm93RG93bicsXG4gICAgICBzaGlmdEtleTogdHJ1ZSxcbiAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnQ29weScsXG4gICAgICBpZDogJ2VkaXQuY29weS5zZWxlY3Rpb24nLFxuICAgICAga2V5OiAnYycsXG4gICAgICBjdHJsS2V5OiB0cnVlLFxuICAgICAgaW5wdXQ6IGZhbHNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdQYXN0ZScsXG4gICAgICBpZDogJ2VkaXQucGFzdGUuc2VsZWN0aW9uJyxcbiAgICAgIGtleTogJ3YnLFxuICAgICAgY3RybEtleTogdHJ1ZSxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnRHVwbGljYXRlJyxcbiAgICAgIGlkOiAnZWRpdC5kdXBsaWNhdGUuc2VsZWN0aW9uJyxcbiAgICAgIGtleTogJ0QnLFxuICAgICAgY3RybEtleTogdHJ1ZSxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnVW5kbycsXG4gICAgICBpZDogJ2VkaXQudW5kbycsXG4gICAgICBrZXk6ICd6JyxcbiAgICAgIGN0cmxLZXk6IHRydWUsXG4gICAgICBpbnB1dDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ1JlZG8nLFxuICAgICAgaWQ6ICdlZGl0LnJlZG8nLFxuICAgICAga2V5OiAneicsXG4gICAgICBjdHJsS2V5OiB0cnVlLFxuICAgICAgc2hpZnRLZXk6IHRydWUsXG4gICAgICBpbnB1dDogZmFsc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ0RlbGV0ZSBzZWxlY3Rpb24nLFxuICAgICAgaWQ6ICdlZGl0LmRlbGV0ZS5zZWxlY3Rpb24nLFxuICAgICAga2V5OiAnRGVsZXRlJyxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnRW1wdHkgc2VsZWN0aW9uJyxcbiAgICAgIGlkOiAnZWRpdC5lbXB0eS5zZWxlY3Rpb24nLFxuICAgICAga2V5OiAnRXNjYXBlJyxcbiAgICAgIGlucHV0OiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnUmVuYW1lIHBhZ2UnLFxuICAgICAgaWQ6ICdlZGl0LnJlbmFtZS5wYWdlJyxcbiAgICAgIGtleTogJ3InLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgLy8ge1xuICAgIC8vICAgbGFiZWw6ICdEZWxldGUgcGFnZScsXG4gICAgLy8gICBpZDogJ2VkaXQuZGVsZXRlLnBhZ2UnLFxuICAgIC8vICAga2V5OiAncCcsXG4gICAgLy8gICBhbHRLZXk6IHRydWUsXG4gICAgLy8gICBzaGlmdEtleTogdHJ1ZSxcbiAgICAvLyB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnUHJldmlldycsXG4gICAgICBpZDogJ3ZpZXcuZmlsZScsXG4gICAgICBrZXk6ICd2JyxcbiAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnUHJldmlldyBpbiBSZXNwb25zaXplJyxcbiAgICAgIGlkOiAndmlldy5maWxlLnJlc3BvbnNpemUnLFxuICAgICAga2V5OiAndicsXG4gICAgICBzaGlmdEtleTogdHJ1ZSxcbiAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICB9LFxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICB7XG4gICAgICBsYWJlbDogJ01vYmlsZSBlZGl0b3InLFxuICAgICAgaWQ6ICd0b29scy5tb2JpbGUubW9kZScsXG4gICAgICBrZXk6ICdtJyxcbiAgICAgIGFsdEtleTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnTmV4dCB0YWIgaW4gdGhlIHByb3BlcnR5IHRvb2wnLFxuICAgICAgaWQ6ICd0b29scy5uZXh0LnByb3BlcnR5JyxcbiAgICAgIGtleTogJ2wnLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdQcmV2aW91cyB0YWIgaW4gdGhlIHByb3BlcnR5IHRvb2wnLFxuICAgICAgaWQ6ICd0b29scy5wcmV2LnByb3BlcnR5JyxcbiAgICAgIGtleTogJ2wnLFxuICAgICAgc2hpZnRLZXk6IHRydWUsXG4gICAgICBhbHRLZXk6IHRydWUsXG4gICAgfSxcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAge1xuICAgICAgbGFiZWw6ICdIVE1MIDxoZWFkPiBlZGl0b3InLFxuICAgICAgaWQ6ICd2aWV3Lm9wZW4uaHRtbEhlYWRFZGl0b3InLFxuICAgICAga2V5OiAnZScsXG4gICAgICBhbHRLZXk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ0pTIHNjcmlwdHMgZWRpdG9yJyxcbiAgICAgIGlkOiAndmlldy5vcGVuLmpzRWRpdG9yJyxcbiAgICAgIGtleTogJ2onLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdDU1Mgc3R5bGVzIGVkaXRvcicsXG4gICAgICBpZDogJ3ZpZXcub3Blbi5jc3NFZGl0b3InLFxuICAgICAga2V5OiAnZCcsXG4gICAgICBhbHRLZXk6IHRydWUsXG4gICAgfSxcbiAgICAvLyB7XG4gICAgLy8gICBsYWJlbDogJ09wZW4gZmlsZSBicm93c2VyJyxcbiAgICAvLyAgIGlkOiAndmlldy5vcGVuLmZpbGVFeHBsb3JlcicsXG4gICAgLy8gfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ1RleHQgYm94JyxcbiAgICAgIGlkOiAnaW5zZXJ0LnRleHQnLFxuICAgICAga2V5OiAndCcsXG4gICAgICBhbHRLZXk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ0ltYWdlLi4uJyxcbiAgICAgIGlkOiAnaW5zZXJ0LmltYWdlJyxcbiAgICAgIGtleTogJ2knLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdDb250YWluZXInLFxuICAgICAgaWQ6ICdpbnNlcnQuY29udGFpbmVyJyxcbiAgICAgIGtleTogJ2MnLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdIVE1MIGJveCcsXG4gICAgICBpZDogJ2luc2VydC5odG1sJyxcbiAgICAgIGtleTogJ2gnLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdTZWN0aW9uJyxcbiAgICAgIGlkOiAnaW5zZXJ0LnNlY3Rpb24nLFxuICAgICAga2V5OiAncycsXG4gICAgICBhbHRLZXk6IHRydWUsXG4gICAgfSxcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAge1xuICAgICAgbGFiZWw6ICdOZXcgcGFnZScsXG4gICAgICBpZDogJ2luc2VydC5wYWdlJyxcbiAgICAgIGtleTogJ3AnLFxuICAgICAgYWx0S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgLy8ge1xuICAgIC8vICAgbGFiZWw6ICdBYm91dCBTaWxleCcsXG4gICAgLy8gICBpZDogJ2hlbHAuYWJvdXQnLFxuICAgIC8vIH0sXG4gICAgLy8ge1xuICAgIC8vICAgbGFiZWw6ICdSZXBvcnQgYSBidWcgb3IgYXNrIGEgcXVlc3Rpb24nLFxuICAgIC8vICAgaWQ6ICdoZWxwLmlzc3VlcycsXG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICBsYWJlbDogJ0Rvd25sb2FkIHRlbXBsYXRlcycsXG4gICAgLy8gICBpZDogJ2hlbHAuZG93bmxvYWRzLnRlbXBsYXRlJyxcbiAgICAvLyB9LFxuICAgIC8vIHtcbiAgICAvLyAgIGxhYmVsOiAnRG93bmxvYWQgd2lkZ2V0cycsXG4gICAgLy8gICBpZDogJ2hlbHAuZG93bmxvYWRzLndpZGdldCcsXG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICBsYWJlbDogJ1NpbGV4IExhYnMgZm91bmRhdGlvbicsXG4gICAgLy8gICBpZDogJ2hlbHAuYWJvdXRTaWxleExhYnMnLFxuICAgIC8vIH0sXG4gICAgLy8ge1xuICAgIC8vICAgbGFiZWw6ICdOZXdzIGxldHRlciBzdWJzY3JpcHRpb24nLFxuICAgIC8vICAgaWQ6ICdoZWxwLm5ld3NMZXR0ZXInLFxuICAgIC8vIH0sXG4gICAgLy8ge1xuICAgIC8vICAgbGFiZWw6ICdUd2l0dGVyJyxcbiAgICAvLyAgIGlkOiAnaGVscC50d2l0dGVyJyxcbiAgICAvLyB9LFxuICAgIC8vIHtcbiAgICAvLyAgIGxhYmVsOiAnR29vZ2xlKycsXG4gICAgLy8gICBpZDogJ2hlbHAuZ29vZ2xQbHVzJyxcbiAgICAvLyB9LFxuICAgIC8vIHtcbiAgICAvLyAgIGxhYmVsOiAnRmFjZWJvb2snLFxuICAgIC8vICAgaWQ6ICdoZWxwLmZhY2Vib29rJyxcbiAgICAvLyB9LFxuICAgIC8vIHtcbiAgICAvLyAgIGxhYmVsOiAnR2l2ZSA1IG1pbnV0ZXMgb2YgeW91ciB0aW1lIScsXG4gICAgLy8gICBpZDogJ2hlbHAuY29udHJpYnV0ZScsXG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICBsYWJlbDogJ1NvdXJjZSBjb2RlIGFuZCBkb3dubG9hZCBTaWxleCcsXG4gICAgLy8gICBpZDogJ2hlbHAuZm9ya01lJyxcbiAgICAvLyB9XG4gIF0sXG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVHlwZSBkZWZpbml0aW9ucy4gQ3Jvc3MgcGxhdGZvcm0sIGl0IG5lZWRzIHRvIHJ1biBjbGllbnQgYW5kIHNlcnZlciBzaWRlXG4gKlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudHNEZWZpbml0aW9uIH0gZnJvbSAnLi4vZXh0ZXJucydcbmltcG9ydCB7IEVsZW1lbnRTdGF0ZSB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5cbmV4cG9ydCBlbnVtIExPQURJTkcge1xuICBOT05FLFxuICBXRUJTSVRFLFxuICBTSUxFWCxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVaVN0YXRlIHtcbiAgbW9iaWxlRWRpdG9yOiBib29sZWFuLFxuICBsb2FkaW5nOiBMT0FESU5HLFxuICBkaXJ0eTogYm9vbGVhbixcbiAgY3VycmVudFBhZ2VJZDogc3RyaW5nLFxuICBjbGlwYm9hcmQ6IG51bGx8W0VsZW1lbnRTdGF0ZVtdLCBFbGVtZW50U3RhdGVbXV0gLy8gYXJyYXkgb2YgMiBlbGVtZW50czogW2FsbEVsZW1lbnRzLCByb290RWxlbWVudHNdXG4gIGRpYWxvZ3M6IERpYWxvZ1tdLFxuICBjb21wb25lbnRzOiBDb21wb25lbnRzRGVmaW5pdGlvbixcbn1cblxuLyoqXG4gKiBUaGlzIGlzIGEgbWVjaGFuaXNtIGZvciBhbGwgdGFiYmVkIFVJXG4gKiBGb3IgZXhhbXBsZSB0aGUgcHJvcGVydGllcyBwYW5lIGhhcyB0YWJzIChzdHlsZSwgY29tcG9uZW50cy4uLilcbiAqIEVhY2ggdGFiIGlzIGFuIGVsZW1lbnQgaW4gZ2V0VWkoKS5kaWFsb2dzIGxpc3Qgd2hpY2ggaGFzIHR5cGUgPT09ICdwcm9wZXJ0aWVzJ1xuICogQHNlZSBjb21wb25lbnRzL1RhYmJlZC50c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIERpYWxvZyB7XG4gIGlkOiBzdHJpbmcsIC8vIGUuZy4gJ3N0eWxlc1xuICB0eXBlOiBzdHJpbmcsIC8vIGUuZy4gJ3Byb3BlcnRpZXMnXG4gIHZpc2libGU6IGJvb2xlYW4sXG4gIGRhdGE/OiBhbnksIC8vIGUuZy4geyBkaXNwbGF5TmFtZTogJ3Rlc3QnLCBjbGFzc05hbWU6ICdmYS1saXN0JywgdGFnOiAnbGknfVxufVxuIiwiXG5leHBvcnQgaW50ZXJmYWNlIEhvb2tzIHtcbiAgZ2V0SWQ/OiAoZWw6IEhUTUxFbGVtZW50KSA9PiBzdHJpbmc7XG4gIGlzU2VsZWN0YWJsZT86IChlbDogSFRNTEVsZW1lbnQpID0+IGJvb2xlYW47XG4gIGlzRHJhZ2dhYmxlPzogKGVsOiBIVE1MRWxlbWVudCkgPT4gYm9vbGVhbjtcbiAgaXNEcm9wWm9uZT86IChlbDogSFRNTEVsZW1lbnQpID0+IGJvb2xlYW47XG4gIGlzUmVzaXplYWJsZT86IChlbDogSFRNTEVsZW1lbnQpID0+IChEaXJlY3Rpb24gfCBib29sZWFuKTtcbiAgdXNlTWluSGVpZ2h0PzogKGVsOiBIVE1MRWxlbWVudCkgPT4gYm9vbGVhbjtcbiAgY2FuRHJvcD86IChlbDogSFRNTEVsZW1lbnQsIGRyb3Bab25lOiBIVE1MRWxlbWVudCkgPT4gYm9vbGVhbjtcbiAgb25TZWxlY3Q/OiAoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4pID0+IHZvaWQ7XG4gIG9uU3RhcnREcmFnPzogKHNlbGVjdGFibGVzOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+KSA9PiB2b2lkO1xuICBvbkRyYWc/OiAoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4sIGJvdW5kaW5nQm94OiBDbGllbnRSZWN0KSA9PiB2b2lkO1xuICBvbkRyb3A/OiAoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4pID0+IHZvaWQ7XG4gIG9uU3RhcnRSZXNpemU/OiAoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4pID0+IHZvaWQ7XG4gIG9uUmVzaXplPzogKHNlbGVjdGFibGVzOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+LCBib3VuZGluZ0JveDogQ2xpZW50UmVjdCkgPT4gdm9pZDtcbiAgb25SZXNpemVFbmQ/OiAoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4pID0+IHZvaWQ7XG4gIG9uU3RhcnREcmF3PzogKCkgPT4gdm9pZDtcbiAgb25EcmF3PzogKHNlbGVjdGFibGVzOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+LCBib3VuZGluZ0JveDogQ2xpZW50UmVjdCkgPT4gdm9pZDtcbiAgb25EcmF3RW5kPzogKCkgPT4gdm9pZDtcbiAgb25FZGl0PzogKCkgPT4gdm9pZDsgLy8gdGhpcyBvY2N1cmVzIHdoZW4gdGhlIHVzZXIgZG91YmxlIGNsaWNrcyBvciBwcmVzcyBlbnRlciB3aXRoIG9uZSBvciBtb3JlIGVsZW1lbnRzIHNlbGVjdGVkXG4gIG9uQ2hhbmdlPzogKHNlbGVjdGFibGVzOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+KSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHNlbGVjdGFibGVzOiB7QXJyYXk8U2VsZWN0YWJsZVN0YXRlPn0sXG4gKiAgIG1vdXNlOiB7TW91c2VTdGF0ZX0sXG4gKiAgIHVpOiB7e1xuICogICAgIG1vZGU6IFVpTW9kZSxcbiAqICAgfX1cbiAqIH19IFN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGUge1xuICBzZWxlY3RhYmxlczogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPlxuICBtb3VzZTogTW91c2VTdGF0ZVxuICB1aTogVWlTdGF0ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bab25lIHtcbiAgbmV4dEVsZW1lbnRTaWJsaW5nPzogSFRNTEVsZW1lbnRcbiAgcGFyZW50OiBIVE1MRWxlbWVudFxuICBkaXN0YW5jZT86IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBEaXJlY3Rpb24gPSB7XG4gIHRvcDogYm9vbGVhblxuICBsZWZ0OiBib29sZWFuXG4gIGJvdHRvbTogYm9vbGVhblxuICByaWdodDogYm9vbGVhblxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGVsOiBIVE1MRWxlbWVudCxcbiAqICAgc2VsZWN0ZWQ6IGJvb2xlYW4sXG4gKiAgIGRyYWdnYWJsZTogYm9vbGVhbixcbiAqICAgcmVzaXplYWJsZTogYm9vbGVhbixcbiAqICAgaXNEcm9wWm9uZTogYm9vbGVhbixcbiAqICAgbWV0cmljczogRWxlbWVudE1ldHJpY3MsXG4gKiB9fSBTZWxlY3RhYmxlU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZWxlY3RhYmxlU3RhdGUge1xuICBpZDogc3RyaW5nXG4gIGVsOiBIVE1MRWxlbWVudFxuICBkcm9wWm9uZT86IERyb3Bab25lIC8vIGZvciB1c2UgYnkgdGhlIG1vdmUgaGFuZGxlciBvbmx5XG4gIHNlbGVjdGVkOiBib29sZWFuXG4gIGhvdmVyZWQ6IGJvb2xlYW5cbiAgc2VsZWN0YWJsZTogYm9vbGVhblxuICBkcmFnZ2FibGU6IGJvb2xlYW5cbiAgcmVzaXplYWJsZTogRGlyZWN0aW9uXG4gIGlzRHJvcFpvbmU6IGJvb2xlYW5cbiAgdXNlTWluSGVpZ2h0OiBib29sZWFuXG4gIG1ldHJpY3M6IEVsZW1lbnRNZXRyaWNzXG4gIHByZXZlbnRNZXRyaWNzPzogYm9vbGVhbiAvLyB3aGlsZSBiZWluZyBkcmFnZ2VkLCBlbGVtZW50cyBhcmUgb3V0IG9mIHRoZSBmbG93LCBkbyBub3QgYXBwbHkgc3R5bGVzXG4gIHRyYW5zbGF0aW9uPzoge3g6IG51bWJlciwgeTogbnVtYmVyfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJveDxUPW51bWJlcj4ge3RvcDogVCwgbGVmdDogVCwgYm90dG9tOiBULCByaWdodDogVCB9XG5leHBvcnQgaW50ZXJmYWNlIEZ1bGxCb3gge3RvcDogbnVtYmVyLCBsZWZ0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCByaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciB9XG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHBvc2l0aW9uOiB7c3RyaW5nfVxuICogICBtYXJnaW46IEJveFxuICogICBwYWRkaW5nOiBCb3hcbiAqICAgYm9yZGVyOiBCb3hcbiAqICAgY29tcHV0ZWRTdHlsZVJlY3Q6IEZ1bGxCb3hcbiAqICAgY2xpZW50UmVjdDogRnVsbEJveFxuICogfX0gRWxlbWVudE1ldHJpY3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50TWV0cmljcyB7XG4gIHBvc2l0aW9uOiBzdHJpbmdcbiAgbWFyZ2luOiBCb3hcbiAgcGFkZGluZzogQm94XG4gIGJvcmRlcjogQm94XG4gIGNvbXB1dGVkU3R5bGVSZWN0OiBGdWxsQm94XG4gIGNsaWVudFJlY3Q6IEZ1bGxCb3hcbiAgcHJvcG9ydGlvbnM6IG51bWJlclxufVxuXG5leHBvcnQgZW51bSBTaWRlIHsgTEVGVCwgUklHSFQsIFRPUCwgQk9UVE9NIH1cbmV4cG9ydCB0eXBlIFN0aWNreSA9IEJveDxib29sZWFuPjtcbmV4cG9ydCBjb25zdCBFTVBUWV9TVElDS1lfQk9YOiAoKSA9PiBTdGlja3kgPSAoKSA9PiAoe3RvcDogbnVsbCwgbGVmdDogbnVsbCwgYm90dG9tOiBudWxsLCByaWdodDogbnVsbH0pO1xuZXhwb3J0IGNvbnN0IEVNUFRZX0JPWDogKCkgPT4gQm94ID0gKCkgPT4gKHt0b3A6IG51bGwsIGxlZnQ6IG51bGwsIGJvdHRvbTogbnVsbCwgcmlnaHQ6IG51bGx9KTtcblxuZXhwb3J0IGludGVyZmFjZSBVaVN0YXRlIHtcbiAgbW9kZTogVWlNb2RlXG4gIHJlZnJlc2hpbmc6IGJvb2xlYW5cbiAgY2F0Y2hpbmdFdmVudHM6IGJvb2xlYW5cbiAgc3RpY2t5OiBTdGlja3lcbiAgZW5hYmxlU3RpY2t5OiBib29sZWFuXG59XG5cbi8qKlxuICogQGVudW0gPSB7XG4gKiBOT05FXG4gKiBEUkFHXG4gKiBSRVNJWkVcbiAqIERSQVdcbiAqIH0gVWlNb2RlXG4gKi9cbmV4cG9ydCBlbnVtIFVpTW9kZSB7XG4gIE5PTkUsXG4gIERSQUcsXG4gIFJFU0laRSxcbiAgRFJBVyxcbiAgSElERSxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb3VzZVN0YXRlIHtcbiAgc2Nyb2xsRGF0YTogU2Nyb2xsRGF0YVxuICBjdXJzb3JEYXRhOiBDdXJzb3JEYXRhXG4gIG1vdXNlRGF0YTogTW91c2VEYXRhXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsRGF0YSB7XG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXJzb3JEYXRhIHtcbiAgeDogc3RyaW5nXG4gIHk6IHN0cmluZ1xuICBjdXJzb3JUeXBlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb3VzZURhdGEge1xuICBtb3ZlbWVudFg6IG51bWJlclxuICBtb3ZlbWVudFk6IG51bWJlclxuICBtb3VzZVg6IG51bWJlclxuICBtb3VzZVk6IG51bWJlclxuICBzaGlmdEtleTogYm9vbGVhblxuICB0YXJnZXQ6IEhUTUxFbGVtZW50XG4gIGhvdmVyZWQ6IEhUTUxFbGVtZW50W11cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBIZWxwZXIgY2xhc3MgZm9yIGNvbW1vbiB0YXNrc1xuICpcbiAqL1xuXG5pbnRlcmZhY2UgT3B0aW9ucyB7XG4gIGxhYmVsT2s/OiBzdHJpbmdcbiAgbGFiZWxDYW5jZWw/OiBzdHJpbmdcbiAgZGVmYXVsdFZhbHVlPzogc3RyaW5nXG4gIGNhbmNlbD86ICgpID0+IHt9XG4gIHRpdGxlOiBzdHJpbmdcbiAgY29udGVudDogc3RyaW5nXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb24ge1xuXG4gIHN0YXRpYyBnZXQgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhTm90aWZpY2F0aW9uLmN1cnJlbnREaWFsb2cgJiYgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydHMnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpXG4gIH1cblxuICAvKipcbiAgICogZmxhZyB0byBpbmRpY2F0ZSB3ZXRoZXIgYSBtb2RhbCBkaWFsb2cgaXMgb3BlbmVkXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBnZXQgY3VycmVudERpYWxvZygpOiBIVE1MRWxlbWVudCB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke05vdGlmaWNhdGlvbi5OT1RJRklDQVRJT05fQ1NTX0NMQVNTfWApXG4gIH1cblxuICAvKipcbiAgICogY2xvc2UgKGNhbmNlbCkgdGhlIGN1cnJlbnQgbm90aWZpY2F0aW9uXG4gICAqL1xuICBzdGF0aWMgY2xvc2UoaXNPayA9IGZhbHNlLCBlOiBFdmVudCA9IG51bGwpOiBib29sZWFuIHtcbiAgICBpZiAoTm90aWZpY2F0aW9uLmN1cnJlbnREaWFsb2cpIHtcbiAgICAgIC8vIGhpZGUgZGlhbG9nc1xuICAgICAgY29uc3QgY29udGFpbmVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbGVydHMnKVxuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpXG5cbiAgICAgIC8vIGNsZWFudXBcbiAgICAgIGNvbnN0IGNiayA9IGlzT2sgPyBOb3RpZmljYXRpb24uY2JrT2sgOiBOb3RpZmljYXRpb24uY2JrQ2FuY2VsXG4gICAgICBOb3RpZmljYXRpb24uY3VycmVudERpYWxvZy5yZW1vdmUoKVxuICAgICAgTm90aWZpY2F0aW9uLmNia0NhbmNlbCA9IG51bGxcbiAgICAgIE5vdGlmaWNhdGlvbi5jYmtPayA9IG51bGxcblxuICAgICAgLy8gYWxsIGRvbmUsIHdlIGNhbiBvcGVuIGFub3RoZXIgb25lIG9yIGRvIHNvbWV0aGluZ1xuICAgICAgY2JrKClcblxuICAgICAgLy8gcHJldmVudCBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnRcbiAgICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGlmIChlKSBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZGlzcGxheSBhIG1lc3NhZ2VcbiAgICovXG4gIHN0YXRpYyBhbGVydCh0aXRsZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIG9rOiAoKSA9PiBhbnksIGxhYmVsT2s6IHN0cmluZyA9ICdvaycpIHtcbiAgICBOb3RpZmljYXRpb24uY2xvc2UoKVxuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGUoTm90aWZpY2F0aW9uLmdldE1hcmt1cCh7XG4gICAgICBsYWJlbE9rLFxuICAgICAgdGl0bGUsXG4gICAgICBjb250ZW50LFxuICAgIH0pKVxuICAgIE5vdGlmaWNhdGlvbi5jYmtDYW5jZWwgPSBOb3RpZmljYXRpb24uY2JrT2sgPSAoKSA9PiBvaygpO1xuICAgIChOb3RpZmljYXRpb24uY3VycmVudERpYWxvZy5xdWVyeVNlbGVjdG9yKGAjJHtOb3RpZmljYXRpb24uTk9USUZJQ0FUSU9OX0NTU19DTEFTU31fb2tgKSBhcyBIVE1MRWxlbWVudCkub25jbGljayA9IChlKSA9PiBOb3RpZmljYXRpb24uY2xvc2UoZmFsc2UsIGUpXG4gIH1cblxuICAvKipcbiAgICogYXNrIGZvciBhIHRleHRcbiAgICovXG4gIHN0YXRpYyBwcm9tcHQodGl0bGU6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZywgcGxhY2Vob2xkZXI6IHN0cmluZywgY2JrOiAoaXNPazogYm9vbGVhbiwgdmFsdWU6IHN0cmluZykgPT4gYW55LCBsYWJlbE9rOiBzdHJpbmcgPSAnb2snLCBsYWJlbENhbmNlbDogc3RyaW5nID0gJ2NhbmNlbCcpIHtcbiAgICBOb3RpZmljYXRpb24uY2xvc2UoKVxuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGUoTm90aWZpY2F0aW9uLmdldE1hcmt1cCh7XG4gICAgICBsYWJlbE9rLFxuICAgICAgbGFiZWxDYW5jZWwsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICB0aXRsZSxcbiAgICAgIGNvbnRlbnQsXG4gICAgICBwbGFjZWhvbGRlcixcbiAgICB9KSlcbiAgICBjb25zdCBpbnB1dDogSFRNTElucHV0RWxlbWVudCA9IE5vdGlmaWNhdGlvbi5jdXJyZW50RGlhbG9nLnF1ZXJ5U2VsZWN0b3IoYCMke05vdGlmaWNhdGlvbi5OT1RJRklDQVRJT05fQ1NTX0NMQVNTfV92YWx1ZWApXG4gICAgTm90aWZpY2F0aW9uLmNia09rID0gKCkgPT4ge1xuICAgICAgY2JrKHRydWUsIGlucHV0LnZhbHVlKVxuICAgIH1cbiAgICBOb3RpZmljYXRpb24uY2JrQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgY2JrKGZhbHNlLCBudWxsKVxuICAgIH1cbiAgICAoTm90aWZpY2F0aW9uLmN1cnJlbnREaWFsb2cucXVlcnlTZWxlY3RvcihgIyR7Tm90aWZpY2F0aW9uLk5PVElGSUNBVElPTl9DU1NfQ0xBU1N9X29rYCkgYXMgSFRNTEVsZW1lbnQpLm9uY2xpY2sgPSAoZSkgPT4gTm90aWZpY2F0aW9uLmNsb3NlKHRydWUsIGUpO1xuICAgIChOb3RpZmljYXRpb24uY3VycmVudERpYWxvZy5xdWVyeVNlbGVjdG9yKGAjJHtOb3RpZmljYXRpb24uTk9USUZJQ0FUSU9OX0NTU19DTEFTU31fY2FuY2VsYCkgYXMgSFRNTEVsZW1lbnQpLm9uY2xpY2sgPSAoZSkgPT4gTm90aWZpY2F0aW9uLmNsb3NlKGZhbHNlLCBlKVxuICB9XG5cbiAgLyoqXG4gICAqIGFzayBmb3IgY29uZmlybWF0aW9uXG4gICAqL1xuICBzdGF0aWMgY29uZmlybSh0aXRsZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIGNiazogKGlzT2s6IGJvb2xlYW4pID0+IGFueSwgbGFiZWxPazogc3RyaW5nID0gJ29rJywgbGFiZWxDYW5jZWw6IHN0cmluZyA9ICdjYW5jZWwnKSB7XG4gICAgTm90aWZpY2F0aW9uLmNsb3NlKClcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlKE5vdGlmaWNhdGlvbi5nZXRNYXJrdXAoe1xuICAgICAgbGFiZWxPayxcbiAgICAgIGxhYmVsQ2FuY2VsLFxuICAgICAgdGl0bGUsXG4gICAgICBjb250ZW50LFxuICAgIH0pKVxuICAgIE5vdGlmaWNhdGlvbi5jYmtPayA9ICgpID0+IGNiayh0cnVlKVxuICAgIE5vdGlmaWNhdGlvbi5jYmtDYW5jZWwgPSAoKSA9PiBjYmsoZmFsc2UpO1xuXG4gICAgKE5vdGlmaWNhdGlvbi5jdXJyZW50RGlhbG9nLnF1ZXJ5U2VsZWN0b3IoYCMke05vdGlmaWNhdGlvbi5OT1RJRklDQVRJT05fQ1NTX0NMQVNTfV9va2ApIGFzIEhUTUxFbGVtZW50KS5vbmNsaWNrID0gKGUpID0+IE5vdGlmaWNhdGlvbi5jbG9zZSh0cnVlLCBlKTtcbiAgICAoTm90aWZpY2F0aW9uLmN1cnJlbnREaWFsb2cucXVlcnlTZWxlY3RvcihgIyR7Tm90aWZpY2F0aW9uLk5PVElGSUNBVElPTl9DU1NfQ0xBU1N9X2NhbmNlbGApIGFzIEhUTUxFbGVtZW50KS5vbmNsaWNrID0gKGUpID0+IE5vdGlmaWNhdGlvbi5jbG9zZShmYWxzZSwgZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBub3RpZnkgdGhlIHVzZXIgd2l0aCBzdWNjZXNzIGZvcm1hdHRpbmdcbiAgICogdGhpcyBpcyBub24tbW9kYWxcbiAgICogQHBhcmFtIG9wdF9jbG9zZSBjYWxsYmFjayBmb3IgY2xvc2UgYnV0dG9uLCBkZWZhdWx0cyB0byBcIm5vIGNsb3NlIGJ1dHRvblwiXG4gICAqIEByZXR1cm4gdGhlIGNyZWF0ZWQgZWxlbWVudFxuICAgKi9cbiAgc3RhdGljIGxpZ2h0RGlhbG9nKGNvbnRlbnQ6IHN0cmluZywgb3B0X2Nsb3NlPzogKCkgPT4gYW55KSB7XG4gICAgY29uc3QgY29udGFpbmVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saWdodC1kaWFsb2cnKVxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnbGlnaHQtZGlhbG9nX19jb250ZW50JylcbiAgICBlbC5pbm5lckhUTUwgPSBgXG4gICAgICAke29wdF9jbG9zZSA/IGA8ZGl2IGNsYXNzPVwibGlnaHQtZGlhbG9nX19jbG9zZVwiPlg8L2Rpdj5gIDogJyd9XG4gICAgICAke2NvbnRlbnR9XG4gICAgYFxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbClcbiAgICBzZXRUaW1lb3V0KCgpID0+IGVsLmNsYXNzTGlzdC5hZGQoJ2xpZ2h0LWRpYWxvZ19fY29udGVudC0tb3BlbicpLCAxMDApXG4gICAgaWYob3B0X2Nsb3NlKSB7XG4gICAgICBjb25zdCBjbG9zZUJ0bjogSFRNTEVsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCcubGlnaHQtZGlhbG9nX19jbG9zZScpXG4gICAgICBjbG9zZUJ0bi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgb3B0X2Nsb3NlKClcbiAgICAgICAgZWwucmVtb3ZlKClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsXG4gIH1cblxuICAvKipcbiAgICogbm90aWZ5IHRoZSB1c2VyIHdpdGggc3VjY2VzcyBmb3JtYXR0aW5nXG4gICAqIHRoaXMgaXMgbm9uLW1vZGFsXG4gICAqL1xuICBzdGF0aWMgbm90aWZ5U3VjY2VzcyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb250YWluZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0cy1ub3RpZnknKVxuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgZWwuaW5uZXJIVE1MID0gbWVzc2FnZVxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbClcbiAgICBjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZWwucmVtb3ZlKClcbiAgICB9LCBOb3RpZmljYXRpb24uTk9USUZJQ0FUSU9OX0RVUkFUSU9OX01TKVxuICAgIGVsLm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGlkKVxuICAgICAgZWwucmVtb3ZlKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogbm90aWZ5IHRoZSB1c2VyIHdpdGggc3VjY2VzcyBmb3JtYXR0aW5nXG4gICAqIHRoaXMgaXMgbm9uLW1vZGFsXG4gICAqL1xuICBzdGF0aWMgbm90aWZ5RXJyb3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKVxuICAgIE5vdGlmaWNhdGlvbi5ub3RpZnlTdWNjZXNzKG1lc3NhZ2UpXG4gIH1cblxuICAvKipcbiAgICogY2hhbmdlIHRoZSB0ZXh0IG9mIHRoZSBjdXJyZW50IG5vdGlmaWNhdGlvblxuICAgKi9cbiAgc3RhdGljIHNldENvbnRlbnQoZWw6IEhUTUxFbGVtZW50fERvY3VtZW50RnJhZ21lbnQsIGtlZXBFeGlzaXRpbmc9IGZhbHNlKSB7XG4gICAgaWYgKE5vdGlmaWNhdGlvbi5jdXJyZW50RGlhbG9nKSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBOb3RpZmljYXRpb24uY3VycmVudERpYWxvZy5xdWVyeVNlbGVjdG9yKGAuJHtOb3RpZmljYXRpb24uTk9USUZJQ0FUSU9OX0NTU19DTEFTU31fY29udGVudGApXG4gICAgICBpZiAoIWtlZXBFeGlzaXRpbmcpIHsgY29udGFpbmVyLmlubmVySFRNTCA9ICcnIH1cbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbClcbiAgICAgIE5vdGlmaWNhdGlvbi51cGRhdGVGb2N1cygpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGNoYW5nZSB0aGUgdGV4dCBvZiB0aGUgY3VycmVudCBub3RpZmljYXRpb25cbiAgICovXG4gIHN0YXRpYyBzZXRUZXh0KHRleHQ6IHN0cmluZykge1xuICAgIGlmIChOb3RpZmljYXRpb24uY3VycmVudERpYWxvZykge1xuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYDxwPiR7dGV4dH08L3A+YClcbiAgICAgIE5vdGlmaWNhdGlvbi5zZXRDb250ZW50KGVsKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBhZGQgYSBidXR0b24gdG8gdGhlIGJ1dHRvbiBiYXJcbiAgICovXG4gIHN0YXRpYyBhZGRCdXR0b24oZWw6IEhUTUxFbGVtZW50fERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICBpZiAoTm90aWZpY2F0aW9uLmN1cnJlbnREaWFsb2cpIHtcbiAgICAgIGNvbnN0IGJ1dHRvbkJhciA9IE5vdGlmaWNhdGlvbi5jdXJyZW50RGlhbG9nLnF1ZXJ5U2VsZWN0b3IoYC4ke05vdGlmaWNhdGlvbi5OT1RJRklDQVRJT05fQ1NTX0NMQVNTfV9idXR0b25zYClcbiAgICAgIGJ1dHRvbkJhci5hcHBlbmRDaGlsZChlbClcbiAgICAgIE5vdGlmaWNhdGlvbi51cGRhdGVGb2N1cygpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGFkZCBhbiBIVE1MIHBhbmVsIHdpdGggaW5mbyBvZiB0eXBlIFwid2hpbGUgeW91IHdhaXQsIGhlcmUgaXMgYW4gaW5mb1wiXG4gICAqL1xuICBzdGF0aWMgc2V0SW5mb1BhbmVsKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKE5vdGlmaWNhdGlvbi5jdXJyZW50RGlhbG9nKSB7XG4gICAgICBsZXQgaW5mb1BhbmVsID0gTm90aWZpY2F0aW9uLmN1cnJlbnREaWFsb2cucXVlcnlTZWxlY3RvcihgIyR7Tm90aWZpY2F0aW9uLk5PVElGSUNBVElPTl9DU1NfQ0xBU1N9X2luZm9gKSBhcyBIVE1MRWxlbWVudFxuICAgICAgaWYgKCFpbmZvUGFuZWwpIHtcbiAgICAgICAgaW5mb1BhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgaW5mb1BhbmVsLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGA8cCBjbGFzcz1cIiR7Tm90aWZpY2F0aW9uLk5PVElGSUNBVElPTl9DU1NfQ0xBU1N9X2luZm9cIj48L3A+YClcbiAgICAgICAgTm90aWZpY2F0aW9uLnNldENvbnRlbnQoaW5mb1BhbmVsLCB0cnVlKVxuICAgICAgfVxuXG4gICAgICAvLyBsaW1pdCBoZWlnaHQgc28gdGhhdCBzbWFsbCBzY3JlZW5zIHN0aWxsIHNlZSB0aGUgY2xvc2UgYnV0dG9uXG4gICAgICBpbmZvUGFuZWwuc3R5bGUubWF4SGVpZ2h0ID0gTWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJIZWlnaHQgKiAyIC8gMykgKyAncHgnXG4gICAgICBOb3RpZmljYXRpb24uY3VycmVudERpYWxvZy5pbnNlcnRCZWZvcmUoaW5mb1BhbmVsLCBOb3RpZmljYXRpb24uY3VycmVudERpYWxvZy5jaGlsZE5vZGVzW05vdGlmaWNhdGlvbi5jdXJyZW50RGlhbG9nLmNoaWxkTm9kZXMubGVuZ3RoIC0gMV0pXG4gICAgICBpbmZvUGFuZWwuaW5uZXJIVE1MID0gJydcbiAgICAgIGluZm9QYW5lbC5hcHBlbmRDaGlsZChlbGVtZW50KVxuICAgIH1cbiAgfVxuICBwcml2YXRlIHN0YXRpYyBOT1RJRklDQVRJT05fRFVSQVRJT05fTVMgPSAzMDAwMFxuICBwcml2YXRlIHN0YXRpYyBOT1RJRklDQVRJT05fQ1NTX0NMQVNTID0gJ25vdGlmaWNhdGlvbi1kaWFsb2cnXG5cbiAgcHJpdmF0ZSBzdGF0aWMgY2JrT2s6ICgpID0+IHZvaWRcbiAgcHJpdmF0ZSBzdGF0aWMgY2JrQ2FuY2VsOiAoKSA9PiB2b2lkXG4gIHByaXZhdGUgc3RhdGljIGdldE1hcmt1cChvcHRpb25zOiBPcHRpb25zKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDxzZWN0aW9uIGNsYXNzPVwiJHtOb3RpZmljYXRpb24uTk9USUZJQ0FUSU9OX0NTU19DTEFTU31cIj5cbiAgICAgICAgPGgyPiR7b3B0aW9ucy50aXRsZX08L2gyPlxuICAgICAgICA8cCBjbGFzcz1cIiR7Tm90aWZpY2F0aW9uLk5PVElGSUNBVElPTl9DU1NfQ0xBU1N9X2NvbnRlbnRcIj5cbiAgICAgICAgICAke29wdGlvbnMuY29udGVudH1cbiAgICAgICAgICAke1xuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMuZGVmYXVsdFZhbHVlICE9PSAndW5kZWZpbmVkJyA/IGBcbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgYXV0b2ZvY3VzXG4gICAgICAgICAgICAgICAgaWQ9XCIke05vdGlmaWNhdGlvbi5OT1RJRklDQVRJT05fQ1NTX0NMQVNTfV92YWx1ZVwiXG4gICAgICAgICAgICAgICAgJHtvcHRpb25zLnBsYWNlaG9sZGVyID8gYHBsYWNlaG9sZGVyPVwiJHtvcHRpb25zLnBsYWNlaG9sZGVyfVwiYCA6ICcnfVxuICAgICAgICAgICAgICAgIGNsYXNzPVwiYmxvY2stZGlhbG9nXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7b3B0aW9ucy5kZWZhdWx0VmFsdWV9XCJcbiAgICAgICAgICAgICAgPmBcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiJHtOb3RpZmljYXRpb24uTk9USUZJQ0FUSU9OX0NTU19DTEFTU31fYnV0dG9uc1wiPlxuICAgICAgICAgICR7b3B0aW9ucy5sYWJlbENhbmNlbCA/IGA8aW5wdXQgaWQ9XCIke05vdGlmaWNhdGlvbi5OT1RJRklDQVRJT05fQ1NTX0NMQVNTfV9jYW5jZWxcIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCIke29wdGlvbnMubGFiZWxDYW5jZWx9XCI+YCA6ICcnfVxuICAgICAgICAgICR7b3B0aW9ucy5sYWJlbE9rID8gYDxpbnB1dCBpZD1cIiR7Tm90aWZpY2F0aW9uLk5PVElGSUNBVElPTl9DU1NfQ0xBU1N9X29rXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiJHtvcHRpb25zLmxhYmVsT2t9XCI+YCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICBgXG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjcmVhdGUobWFya3VwOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb250YWluZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFsZXJ0cycpXG4gICAgY29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIG1hcmt1cClcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJylcbiAgICBOb3RpZmljYXRpb24udXBkYXRlRm9jdXMoKVxuICB9XG4gIHByaXZhdGUgc3RhdGljIHVwZGF0ZUZvY3VzKCkge1xuICAgIGNvbnN0IGlucHV0ID0gKE5vdGlmaWNhdGlvbi5jdXJyZW50RGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJ1thdXRvZm9jdXNdJykgYXMgSFRNTEVsZW1lbnQpXG4gICAgaWYgKGlucHV0KSB7XG4gICAgICBpbnB1dC5mb2N1cygpXG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0aGlzIGlzIGEgc3RhdGljIGNsYXNzIGFuZCBpdCBjYW5vdCBiZSBpbnN0YW5jaWF0ZWQnKVxuICB9XG59XG5cbi8vIGVsc2Uge1xuLy8gTm90aWZpY2F0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCBvciBkZW5pZWRcbi8vIH1cblxuLy8gRGVza3RvcCBub3RpZmljYXRpb25zIGRpc2FibGVkIGJlY2F1c2UgaXQgZGlzdHVyYnMgbW9yZSB0aGFuIGl0IHNlcnZlc1xuLy8gRklYTUU6IHJlbW92ZSBhbGwgY2FsbHMgdG8gbmF0aXZlTm90aWZpY2F0aW9uIHNpbmNlIGl0IGlzIG5vdCB1c2VmdWwgYW55bW9yZVxuLy8gTm90aWZpY2F0aW9uLmFjdGl2YXRlTmF0aXZlKCk7XG5cbi8vIDpmYWNlcGFsbTpcbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBIZWxwZXIgY2xhc3MgZm9yIGNvbW1vbiB0YXNrc1xuICpcbiAqL1xuXG5pbXBvcnQgeyBGaWxlSW5mbyB9IGZyb20gJy4uL2lvL0Nsb3VkU3RvcmFnZSdcblxuZXhwb3J0IGNsYXNzIFVybCB7XG4gIC8qKlxuICAgKiBuYW1lIG9mIHRoZSBnZXQgcGFyYW0gdXNlZCB0byBzdG9yZSB0aGUgdGltZXN0YW1wIChjYWNoZSBjb250cm9sKVxuICAgKi9cbiAgc3RhdGljIENBQ0hFX0NPTlRST0xfUEFSQU1fTkFNRSA9ICdzaWxleC1jYWNoZS1jb250cm9sJ1xuXG4gIC8qKlxuICAgKiBnZXQgdGhlIEdFVCBwYXJhbXMgZnJvbSB0aGUgVVJMXG4gICAqL1xuICBzdGF0aWMgZ2V0VXJsUGFyYW1zKCk6IGFueSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2hcbiAgICAuc3Vic3RyKDEpXG4gICAgLnNwbGl0KCcmJylcbiAgICAucmVkdWNlKChhZ2dyLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBzcGxpdCA9IG5leHQuc3BsaXQoJz0nKVxuICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICBhZ2dyW3NwbGl0WzBdXSA9IHNwbGl0WzFdXG4gICAgICB9XG4gICAgICByZXR1cm4gYWdnclxuICAgIH0sIHt9KVxuICB9XG4gIC8qKlxuICAgKiBzZXQgYSBmaWVsZCBpbiBhIEZpbGVJbmZvIG9iamVjdCwgYW5kIHVwZGF0ZSB0aGUgYHVybGAgYXR0cmlidXRlIGFjY29yZGluZ2x5XG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVzIGEgcGFydGlhbCBGaWxlSW5mbyBvYmplY3RcbiAgICovXG4gIHN0YXRpYyB1cGRhdGVGaWxlSW5mbyhcbiAgICAgIGZpbGVJbmZvOiBGaWxlSW5mbywgYXR0cmlidXRlczogYW55KTogRmlsZUluZm8ge1xuICAgIGlmICghZmlsZUluZm8pIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGNvbnN0IGZpbGVJbmZvTmV3ID0gT2JqZWN0LmFzc2lnbih7fSwgZmlsZUluZm8sIGF0dHJpYnV0ZXMpXG4gICAgcmV0dXJuIChPYmplY3QuYXNzaWduKHt9LCBmaWxlSW5mb05ldywge1xuICAgICAgdXJsOiBVcmwuZ2V0QmFzZVVybCgpICsgZmlsZUluZm9OZXcuc2VydmljZSArICcvZ2V0LycgKyBmaWxlSW5mb05ldy5wYXRoLFxuICAgIH0pIGFzIEZpbGVJbmZvKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBiYXNlIFVSTCBvZiBTaWxleCBzZXJ2ZXJcbiAgICovXG4gIHN0YXRpYyBnZXRCYXNlVXJsKCkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZlxuICB9XG5cbiAgLyoqXG4gICAqIEdldCByb290IG9mIGEgVVJMIG9yIFNpbGV4IGFwcFxuICAgKiBAcGFyYW0gb3B0X3VybCBVUkwgb3IgbnVsbFxuICAgKiBAcmV0dXJuIHRoZSBiYXNlIHVybFxuICAgKiBleGFtcGxlOiBcIlwiIHJldHVybnMgaHR0cHM6Ly9lZGl0b3Iuc2lsZXgubWVcbiAgICogZXhhbXBsZTogaHR0cHM6Ly9kdWNrZHVja2dvLmNvbSByZXR1cm5zIGh0dHBzOi8vZHVja2R1Y2tnby5jb21cbiAgICogZXhhbXBsZTogaHR0cHM6Ly9kdWNrZHVja2dvLmNvbS8gcmV0dXJucyBodHRwczovL2R1Y2tkdWNrZ28uY29tXG4gICAqIGV4YW1wbGU6IGh0dHBzOi8vZHVja2R1Y2tnby5jb20vP3E9amF2YXNjcmlwdCByZXR1cm5zIGh0dHBzOi8vZHVja2R1Y2tnby5jb21cbiAgICogZXhhbXBsZTogaHR0cHM6Ly9kdWNrZHVja2dvLmNvbS9hYmMvIHJldHVybnMgaHR0cHM6Ly9kdWNrZHVja2dvLmNvbVxuICAgKi9cbiAgc3RhdGljIGdldFJvb3RVcmwob3B0X3VybD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgdXJsID0gb3B0X3VybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZlxuXG4gICAgLy8gY29uc3Qgcm9vdFVybCA9IC9odHRwLj86XFwvXFwvKC4qKVxcLy8ubWF0Y2goKVswXTtcbiAgICBjb25zdCBzdGFydCA9IHVybC5pbmRleE9mKCcvLycpXG4gICAgY29uc3QgZW5kID0gdXJsLmluZGV4T2YoJy8nLCBzdGFydCArIDIpXG4gICAgcmV0dXJuIHVybC5zdWJzdHIoMCwgZW5kKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBob3N0IG9mIFNpbGV4IGFwcFxuICAgKiBAcGFyYW0gb3B0X3VybCBVUkwgb3IgbnVsbFxuICAgKiBAcmV0dXJuIHRoZSBiYXNlIHVybFxuICAgKiBleGFtcGxlOiBodHRwczovL2R1Y2tkdWNrZ28uY29tIHJldHVybnMgZHVja2R1Y2tnby5jb21cbiAgICogZXhhbXBsZTogaHR0cHM6Ly9kdWNrZHVja2dvLmNvbS8gcmV0dXJucyBkdWNrZHVja2dvLmNvbVxuICAgKiBleGFtcGxlOiBodHRwczovL2R1Y2tkdWNrZ28uY29tLz9xPWphdmFzY3JpcHQgcmV0dXJucyBkdWNrZHVja2dvLmNvbVxuICAgKiBleGFtcGxlOiBodHRwczovL2R1Y2tkdWNrZ28uY29tL2FiYy8gcmV0dXJucyBkdWNrZHVja2dvLmNvbVxuICAgKi9cbiAgc3RhdGljIGdldEhvc3Qob3B0X3VybD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3Qgcm9vdCA9IFVybC5nZXRSb290VXJsKG9wdF91cmwpXG4gICAgY29uc3QgaG9zdCA9IHJvb3Quc3Vic3RyKHJvb3QuaW5kZXhPZignLy8nKSArIDIpXG4gICAgcmV0dXJuIGhvc3RcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBVUkwgaXMgcmVsYXRpdmUgb3IgYWJzb2x1dGVcbiAgICogQHJldHVybiB0cnVlIGlmIHRoZSB1cmwgaXMgYWJzb2x1dGVcbiAgICovXG4gIHN0YXRpYyBpc0Fic29sdXRlVXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHVybC5pbmRleE9mKCdodHRwJykgPT09IDAgfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDBcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmUgdGhlIHVybCgpIGNzcyBrZXl3b3JkXG4gICAqIGFsc28gcmVtb3ZlIHRoZSAnJyBvciBcIlwiIGlmIGFueVxuICAgKiBleGFtcGxlOiB1cmwoaHR0cDovL3NpbGV4Lm1lKSB3b3VsZCByZXR1cm4gaHR0cDovL3NpbGV4Lm1lXG4gICAqIEBwYXJhbSB1cmwgKyBrZXl3b3JkIGFzIGZvciBiYWNrZ3JvdW5kLWltYWdlXG4gICAqIEByZXR1cm4gVVJMIHdpdGhvdXQga2V5d29yZFxuICAgKi9cbiAgc3RhdGljIHJlbW92ZVVybEtleXdvcmQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIHJlbW92ZXMgdGhlIHVybCgpIGtleXdvcmRcbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoJ3VybCgnKSkge1xuICAgICAgdXJsID0gdXJsLnN1YnN0cig0KVxuICAgIH1cbiAgICBpZiAodXJsLmVuZHNXaXRoKCcpJykpIHtcbiAgICAgIHVybCA9IHVybC5zdWJzdHIoMCwgdXJsLmxlbmd0aCAtIDEpXG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHRoZSAnJ1xuICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnXFwnJykgfHwgdXJsLnN0YXJ0c1dpdGgoJ1wiJykpIHtcbiAgICAgIHVybCA9IHVybC5zdWJzdHIoMSlcbiAgICB9XG4gICAgaWYgKHVybC5lbmRzV2l0aCgnXFwnJykgfHwgdXJsLmVuZHNXaXRoKCdcIicpKSB7XG4gICAgICB1cmwgPSB1cmwuc3Vic3RyKDAsIHVybC5sZW5ndGggLSAxKVxuICAgIH1cblxuICAgIC8vIHdvcmthcm91bmQgZmlyZWZveCBnb2luZyBjcmF6eVxuICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnJnF1b3Q7JykpIHtcbiAgICAgIHVybCA9IHVybC5zdWJzdHIoNilcbiAgICB9XG4gICAgaWYgKHVybC5lbmRzV2l0aCgnJnF1b3Q7JykpIHtcbiAgICAgIHVybCA9IHVybC5zdWJzdHIoMCwgdXJsLmxlbmd0aCAtIDYpXG4gICAgfVxuICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnJTVDJykpIHtcbiAgICAgIHVybCA9IHVybC5zdWJzdHIoMylcbiAgICB9XG4gICAgaWYgKHVybC5zdGFydHNXaXRoKCclMjInKSkge1xuICAgICAgdXJsID0gdXJsLnN1YnN0cigzKVxuICAgIH1cbiAgICBpZiAodXJsLmVuZHNXaXRoKCclMjInKSkge1xuICAgICAgdXJsID0gdXJsLnN1YnN0cigwLCB1cmwubGVuZ3RoIC0gMylcbiAgICB9XG4gICAgaWYgKHVybC5lbmRzV2l0aCgnJTVDJykpIHtcbiAgICAgIHVybCA9IHVybC5zdWJzdHIoMCwgdXJsLmxlbmd0aCAtIDMpXG4gICAgfVxuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGQgdGhlIHVybCgpIGNzcyBrZXl3b3JkXG4gICAqIHNpbXBsZSBxdW90ZXMgYXJlIGFkZGVkIHNvIHRoYXQgdGhlIFVSTCBtYXkgY29udGFpbiBwYXJlbnRoZXNpc1xuICAgKiBhbmQgaXQgZG9lcyBub3QgZGlzdHVyYiB0aGUgaW5saW5lIHN0eWxlIGRvdWJsZSBxdW90ZXNcbiAgICogZXhhbXBsZTogaHR0cDovL3NpbGV4Lm1lIHJldHVybnMgdXJsKFwiaHR0cDovL3NpbGV4Lm1lXCIpXG4gICAqIEByZXR1cm4gdXJsICsga2V5d29yZCBhcyBmb3IgYmFja2dyb3VuZC1pbWFnZVxuICAgKi9cbiAgc3RhdGljIGFkZFVybEtleXdvcmQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBgdXJsKCcke3VybH0nKWBcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGQgY2FjaGUgY29udHJvbCB0byBhbiBVUkxcbiAgICogaGFuZGxlIHRoZSBjYXNlcyB3aGVyZSB0aGVyZSBpcyBhID8gb3IgJiBvciBhbiBleGlzdGluZyBjYWNoZSBjb250cm9sXG4gICAqIGV4YW1wbGU6IFVybC5hZGRDYWNoZUNvbnRyb2woJ2FhYWFhYWFhLmNvbScpIHJldHVybnNcbiAgICogJ2FhYWFhYWFhLmNvbT9zaWxleC1jYWNoZS1jb250cm9sPTA5MjM4NzM0MDk5ODkwJ1xuICAgKi9cbiAgc3RhdGljIGFkZENhY2hlQ29udHJvbCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gcmVtb3ZlIGV4aXN0aW5nIGNhY2hlIGNvbnRyb2wgaWYgYW55XG4gICAgdXJsID0gVXJsLnJlbW92ZUNhY2hlQ29udHJvbCh1cmwpXG5cbiAgICAvLyBhZGQgYW4gdXJsIHNlcGFyYXRvclxuICAgIGlmICh1cmwuaW5kZXhPZignPycpID4gMCkge1xuICAgICAgdXJsICs9ICcmJ1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgKz0gJz8nXG4gICAgfVxuXG4gICAgLy8gYWRkIHRoZSB0aW1lc3RhbXBcbiAgICB1cmwgKz0gVXJsLkNBQ0hFX0NPTlRST0xfUEFSQU1fTkFNRSArICc9JyArIERhdGUubm93KClcblxuICAgIC8vIHJldHVybiB0aGUgbmV3IHVybFxuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmUgY2FjaGUgY29udHJvbCBmcm9tIGFuIFVSTFxuICAgKiBoYW5kbGUgdGhlIGNhc2VzIHdoZXJlIHRoZXJlIGFyZSBvdGhlciBwYXJhbXMgaW4gZ2V0XG4gICAqIHdvcmtzIGZpbmUgd2hlbiB1cmwgY29udGFpbnMgc2V2ZXJhbCBVUkxzIHdpdGggY2FjaGUgY29udHJvbCBvciBvdGhlciB0ZXh0XG4gICAqIChsaWtlIGEgZnVsbCBpbWFnZSB0YWcgd2l0aCBzcmM9JycpIGV4YW1wbGU6XG4gICAqIFVybC5hZGRDYWNoZUNvbnRyb2woJ2FhYWFhYWFhLmNvbT9zaWxleC1jYWNoZS1jb250cm9sPTA5MjM4NzM0MDk5ODkwJylcbiAgICogcmV0dXJucyAnYWFhYWFhYWEuY29tJ1xuICAgKi9cbiAgc3RhdGljIHJlbW92ZUNhY2hlQ29udHJvbCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gb25seSB3aGVuIHRoZXJlIGlzIGFuIGV4aXN0aW5nIGNhY2hlIGNvbnRyb2xcbiAgICBpZiAodXJsLmluZGV4T2YoVXJsLkNBQ0hFX0NPTlRST0xfUEFSQU1fTkFNRSkgPiAwKSB7XG4gICAgICBjb25zdCByZSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgJyhbP3wmfCZhbXA7XScgKyBVcmwuQ0FDSEVfQ09OVFJPTF9QQVJBTV9OQU1FICsgJz1bMC05XSpbJipdPyknLFxuICAgICAgICAgICdnaScpXG4gICAgICB1cmwgPSB1cmwucmVwbGFjZShyZSwgKG1hdGNoLCBncm91cDEsIGdyb3VwMikgPT4ge1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhID8gb3IgJiB0aGVuIHJldHVybiA/XG4gICAgICAgIC8vIGFhYWFhYWFhLmNvbT9zaWxleC1jYWNoZS1jb250cm9sPTA5MjM4NzM0JmNjc3FjcXNjJlxuICAgICAgICAvLyBhYWFhYWFhYS5jb20/c2lsZXgtY2FjaGUtY29udHJvbD0wOTIzODczNDA5OTg5MFxuICAgICAgICAvLyBhYWFhYWFhYS5jb20/c2lsZXgtY2FjaGUtY29udHJvbD0wOTIzODczNCZjY3NxY3FzYyZcbiAgICAgICAgLy8gYWFhYWFhYWEuY29tP3h4eCZzaWxleC1jYWNoZS1jb250cm9sPTA5MjM4NzM0JmNjc3FjcXNjJlxuICAgICAgICBpZiAoZ3JvdXAxLmNoYXJBdCgwKSA9PT0gJz8nICYmXG4gICAgICAgICAgICBncm91cDEuY2hhckF0KGdyb3VwMS5sZW5ndGggLSAxKSA9PT0gJyYnKSB7XG4gICAgICAgICAgcmV0dXJuICc/J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChncm91cDEuY2hhckF0KGdyb3VwMS5sZW5ndGggLSAxKSA9PT0gJyYnIHx8XG4gICAgICAgICAgICAgIGdyb3VwMS5jaGFyQXQoMCkgPT09ICcmJykge1xuICAgICAgICAgICAgcmV0dXJuICcmJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIHRoZSBuZXcgdXJsXG4gICAgcmV0dXJuIHVybFxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBTdGFnZVN0b3JlIH0gZnJvbSAnLi4vZmx1eC9TdGFnZVN0b3JlJztcblxuLyoqXG4gKiBnZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudCwgbm90IHRoZSB2aWV3cG9ydCAodW5saWtlIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm91bmRpbmdCb3hEb2N1bWVudChlbDogSFRNTEVsZW1lbnQpOiBDbGllbnRSZWN0IHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZWwpO1xuICBjb25zdCBzY3JvbGwgPSBnZXRTY3JvbGwoZG9jKTtcbiAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7XG4gICAgdG9wOiBib3gudG9wICsgc2Nyb2xsLnksXG4gICAgbGVmdDogYm94LmxlZnQgKyBzY3JvbGwueCxcbiAgICBib3R0b206IGJveC5ib3R0b20gKyBzY3JvbGwueSxcbiAgICByaWdodDogYm94LnJpZ2h0ICsgc2Nyb2xsLngsXG4gICAgd2lkdGg6IGJveC53aWR0aCxcbiAgICBoZWlnaHQ6IGJveC5oZWlnaHQsXG4gIH1cbn1cblxuLyoqXG4gKiBnZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBzZXZlcmFsIGVsZW1lbnRzXG4gKiByZWxhdGl2ZSB0byB0aGUgdGhlIGRvY3VtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3VuZGluZ0JveChzZWxlY3RhYmxlczogQXJyYXk8dHlwZXMuU2VsZWN0YWJsZVN0YXRlPik6IENsaWVudFJlY3Qge1xuICBjb25zdCBib3g6IENsaWVudFJlY3QgPSB7XG4gICAgdG9wOiBJbmZpbml0eSxcbiAgICBsZWZ0OiBJbmZpbml0eSxcbiAgICBib3R0b206IC1JbmZpbml0eSxcbiAgICByaWdodDogLUluZmluaXR5LFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgfVxuICBzZWxlY3RhYmxlcy5mb3JFYWNoKHMgPT4ge1xuICAgIGNvbnN0IHJlY3Q6IHR5cGVzLkZ1bGxCb3ggPSBmcm9tQ2xpZW50VG9Db21wdXRlZChzLm1ldHJpY3MpO1xuICAgIGJveC50b3AgPSBNYXRoLm1pbihib3gudG9wLCByZWN0LnRvcCk7XG4gICAgYm94LmxlZnQgPSBNYXRoLm1pbihib3gubGVmdCwgcmVjdC5sZWZ0KTtcbiAgICBib3guYm90dG9tID0gTWF0aC5tYXgoYm94LmJvdHRvbSwgcmVjdC50b3AgKyByZWN0LmhlaWdodCk7XG4gICAgYm94LnJpZ2h0ID0gTWF0aC5tYXgoYm94LnJpZ2h0LCByZWN0LmxlZnQgKyByZWN0LndpZHRoKTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgLi4uYm94LFxuICAgIHdpZHRoOiBib3gucmlnaHQgLSBib3gubGVmdCxcbiAgICBoZWlnaHQ6IGJveC5ib3R0b20gLSBib3gudG9wLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgU0NST0xMX1pPTkVfU0laRSA9IDA7XG5cbi8qKlxuICogZ2V0IHRoZSBpZGVhbCBzY3JvbGwgaW4gb3JkZXIgdG8gaGF2ZSBib3VuZGluZ0JveCB2aXNpYmxlXG4gKiBib3VuZGluZ0JveCBpcyBleHBlY3RlZCB0byBiZSByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQsIG5vdCB0aGUgdmlld3BvcnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFRvU2hvdyhkb2M6IEhUTUxEb2N1bWVudCwgYm91bmRpbmdCb3g6IENsaWVudFJlY3QpOiB0eXBlcy5TY3JvbGxEYXRhIHtcbiAgY29uc3Qgc2Nyb2xsID0gZ2V0U2Nyb2xsKGRvYyk7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhkb2MpO1xuICAvLyB2ZXJ0aWNhbFxuICBpZih3aW4uaW5uZXJIZWlnaHQgPCBib3VuZGluZ0JveC5oZWlnaHQpIHtcbiAgICAvLyBlbGVtZW50IGJpZ2dlciB0aGFuIHZpZXdwb3J0XG4gICAgaWYoc2Nyb2xsLnkgKyB3aW4uaW5uZXJIZWlnaHQgPCBib3VuZGluZ0JveC50b3AgfHwgc2Nyb2xsLnkgPiBib3VuZGluZ0JveC5ib3R0b20pIHtcbiAgICAgIC8vIG5vdCB2aXNpYmxlID0+IHNjcm9sbCB0byB0b3BcbiAgICAgIHNjcm9sbC55ID0gYm91bmRpbmdCb3gudG9wIC0gU0NST0xMX1pPTkVfU0laRTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBwYXJ0bHkgdmlzaWJsZSA9PiBkbyBub3Qgc2Nyb2xsIGF0IGFsbFxuICAgIH1cbiAgfVxuICAvLyBpZihzY3JvbGwueSA+IGJvdW5kaW5nQm94LnRvcCAtIFNDUk9MTF9aT05FX1NJWkUpIHtcbiAgZWxzZSBpZihzY3JvbGwueSA+IGJvdW5kaW5nQm94LnRvcCkge1xuICAgIC8vIGVsZW1lbnQgaXMgdXAgdGhlIHZpZXdwb3J0XG4gICAgc2Nyb2xsLnkgPSBib3VuZGluZ0JveC50b3AgLSBTQ1JPTExfWk9ORV9TSVpFO1xuICB9XG4gIC8vIGVsc2UgaWYoc2Nyb2xsLnkgPCBib3VuZGluZ0JveC5ib3R0b20gKyBTQ1JPTExfWk9ORV9TSVpFIC0gd2luLmlubmVySGVpZ2h0KSB7XG4gIGVsc2UgaWYoc2Nyb2xsLnkgPCBib3VuZGluZ0JveC5ib3R0b20gLSB3aW4uaW5uZXJIZWlnaHQpIHtcbiAgICAvLyBlbGVtZW50IGlzIGxvd2VyIHRoYW4gdGhlIHZpZXdwb3J0XG4gICAgc2Nyb2xsLnkgPSBib3VuZGluZ0JveC5ib3R0b20gKyBTQ1JPTExfWk9ORV9TSVpFIC0gd2luLmlubmVySGVpZ2h0O1xuICB9XG5cbiAgLy8gaG9yaXpvbnRhbFxuICBpZih3aW4uaW5uZXJXaWR0aCA8IGJvdW5kaW5nQm94LndpZHRoKSB7XG4gICAgLy8gZWxlbWVudCBiaWdnZXIgdGhhbiB2aWV3cG9ydFxuICAgIGlmKHNjcm9sbC54ICsgd2luLmlubmVyV2lkdGggPCBib3VuZGluZ0JveC5sZWZ0IHx8IHNjcm9sbC54ID4gYm91bmRpbmdCb3gucmlnaHQpIHtcbiAgICAgIC8vIG5vdCB2aXNpYmxlID0+IHNjcm9sbCB0byBsZWZ0IFxuICAgICAgc2Nyb2xsLnggPSBib3VuZGluZ0JveC5sZWZ0IC0gU0NST0xMX1pPTkVfU0laRTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBwYXJ0bHkgdmlzaWJsZSA9PiBkbyBub3Qgc2Nyb2xsIGF0IGFsbFxuICAgIH1cbiAgfVxuICAvLyBpZihzY3JvbGwueCA+IGJvdW5kaW5nQm94LmxlZnQgLSBTQ1JPTExfWk9ORV9TSVpFKSB7XG4gIGVsc2UgaWYoc2Nyb2xsLnggPiBib3VuZGluZ0JveC5sZWZ0KSB7XG4gICAgc2Nyb2xsLnggPSBib3VuZGluZ0JveC5sZWZ0IC0gU0NST0xMX1pPTkVfU0laRTtcbiAgfVxuICAvLyBlbHNlIGlmKHNjcm9sbC54IDwgYm91bmRpbmdCb3gucmlnaHQgKyBTQ1JPTExfWk9ORV9TSVpFIC0gd2luLmlubmVyV2lkdGgpIHtcbiAgZWxzZSBpZihzY3JvbGwueCA8IGJvdW5kaW5nQm94LnJpZ2h0IC0gd2luLmlubmVyV2lkdGgpIHtcbiAgICBzY3JvbGwueCA9IGJvdW5kaW5nQm94LnJpZ2h0ICsgU0NST0xMX1pPTkVfU0laRSAtIHdpbi5pbm5lcldpZHRoO1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5tYXgoMCwgc2Nyb2xsLngpLFxuICAgIHk6IE1hdGgubWF4KDAsIHNjcm9sbC55KSxcbiAgfTtcbn1cblxuXG4vKipcbiAqIHJldHJpZXZlIHRoZSBkb2N1bWVudCdzIHdpbmRvd1xuICogQHBhcmFtIHtIVE1MRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7V2luZG93fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZG93KGRvYyk6IFdpbmRvdyB7XG4gIHJldHVybiBkb2NbJ3BhcmVudFdpbmRvdyddIHx8IGRvYy5kZWZhdWx0Vmlldztcbn1cblxuLyoqXG4gKiByZXRyaWV2ZSB0aGUgZG9jdW1lbnQgd2hpY2ggaG9sZHMgdGhpcyBlbGVtZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbFxuICogQHJldHVybiB7SFRNTERvY3VtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoZWwpOiBIVE1MRG9jdW1lbnQge1xuICByZXR1cm4gZWwub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0TWV0cmljcyhlbDogSFRNTEVsZW1lbnQsIG1ldHJpY3M6IHR5cGVzLkVsZW1lbnRNZXRyaWNzLCB1c2VNaW5IZWlnaHQ6IGJvb2xlYW4sIHVzZUNsaWVudFJlY3Q6IGJvb2xlYW4gPSBmYWxzZSkge1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChlbCk7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhkb2MpO1xuICBjb25zdCBzdHlsZSA9IHdpbi5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgcG9zaXRpb24gPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdwb3NpdGlvbicpO1xuXG4gIC8vIGhhbmRsZSBwb3NpdGlvblxuICBpZihwb3NpdGlvbiAhPT0gbWV0cmljcy5wb3NpdGlvbikge1xuICAgIGVsLnN0eWxlLnBvc2l0aW9uID0gbWV0cmljcy5wb3NpdGlvbjtcbiAgfVxuXG4gIC8vIGhhbmRsZSBET00gbWV0cmljc1xuICBmdW5jdGlvbiB1cGRhdGVTdHlsZShvYmpOYW1lLCBwcm9wTmFtZSwgc3R5bGVOYW1lKSB7XG4gICAgY29uc3Qgc3R5bGVWYWx1ZSA9IG1ldHJpY3Nbb2JqTmFtZV1bcHJvcE5hbWVdO1xuICAgIGlmKChwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKG9iak5hbWUgKyAnLScgKyBwcm9wTmFtZSkpIHx8IDApICE9PSBzdHlsZVZhbHVlKSB7XG4gICAgICBlbC5zdHlsZVtzdHlsZU5hbWVdID0gc3R5bGVWYWx1ZSArICdweCc7XG4gICAgfVxuICB9XG5cbiAgaWYodXNlQ2xpZW50UmVjdCkge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGVSZWN0OiB0eXBlcy5GdWxsQm94ID0gZnJvbUNsaWVudFRvQ29tcHV0ZWQobWV0cmljcyk7XG4gICAgaWYobWV0cmljcy5wb3NpdGlvbiAhPT0gJ3N0YXRpYycpIHtcbiAgICAgIGVsLnN0eWxlLnRvcCA9IGNvbXB1dGVkU3R5bGVSZWN0LnRvcCArICdweCc7XG4gICAgICBlbC5zdHlsZS5sZWZ0ID0gY29tcHV0ZWRTdHlsZVJlY3QubGVmdCArICdweCc7XG4gICAgfVxuICAgIGVsLnN0eWxlLndpZHRoID0gY29tcHV0ZWRTdHlsZVJlY3Qud2lkdGggKyAncHgnO1xuICAgIGVsLnN0eWxlW3VzZU1pbkhlaWdodCA/ICdtaW5IZWlnaHQnIDogJ2hlaWdodCddID0gY29tcHV0ZWRTdHlsZVJlY3QuaGVpZ2h0ICsgJ3B4JztcbiAgfVxuICBlbHNlIHtcbiAgICBpZihtZXRyaWNzLnBvc2l0aW9uICE9PSAnc3RhdGljJykge1xuICAgICAgdXBkYXRlU3R5bGUoJ2NvbXB1dGVkU3R5bGVSZWN0JywgJ3RvcCcsICd0b3AnKTtcbiAgICAgIHVwZGF0ZVN0eWxlKCdjb21wdXRlZFN0eWxlUmVjdCcsICdsZWZ0JywgJ2xlZnQnKTtcbiAgICB9XG4gICAgdXBkYXRlU3R5bGUoJ2NvbXB1dGVkU3R5bGVSZWN0JywgJ3dpZHRoJywgJ3dpZHRoJyk7XG4gICAgdXBkYXRlU3R5bGUoJ2NvbXB1dGVkU3R5bGVSZWN0JywgJ2hlaWdodCcsIHVzZU1pbkhlaWdodCA/ICdtaW5IZWlnaHQnIDogJ2hlaWdodCcpO1xuICB9XG5cbiAgdXBkYXRlU3R5bGUoJ21hcmdpbicsICd0b3AnLCAnbWFyZ2luVG9wJyk7XG4gIHVwZGF0ZVN0eWxlKCdtYXJnaW4nLCAnbGVmdCcsICdtYXJnaW5MZWZ0Jyk7XG4gIHVwZGF0ZVN0eWxlKCdtYXJnaW4nLCAnYm90dG9tJywgJ21hcmdpbkJvdHRvbScpO1xuICB1cGRhdGVTdHlsZSgnbWFyZ2luJywgJ3JpZ2h0JywgJ21hcmdpblJpZ2h0Jyk7XG5cbiAgdXBkYXRlU3R5bGUoJ3BhZGRpbmcnLCAndG9wJywgJ3BhZGRpbmdUb3AnKTtcbiAgdXBkYXRlU3R5bGUoJ3BhZGRpbmcnLCAnbGVmdCcsICdwYWRkaW5nTGVmdCcpO1xuICB1cGRhdGVTdHlsZSgncGFkZGluZycsICdib3R0b20nLCAncGFkZGluZ0JvdHRvbScpO1xuICB1cGRhdGVTdHlsZSgncGFkZGluZycsICdyaWdodCcsICdwYWRkaW5nUmlnaHQnKTtcblxuICB1cGRhdGVTdHlsZSgnYm9yZGVyJywgJ3RvcCcsICdib3JkZXJUb3BXaWR0aCcpO1xuICB1cGRhdGVTdHlsZSgnYm9yZGVyJywgJ2xlZnQnLCAnYm9yZGVyTGVmdFdpZHRoJyk7XG4gIHVwZGF0ZVN0eWxlKCdib3JkZXInLCAnYm90dG9tJywgJ2JvcmRlckJvdHRvbVdpZHRoJyk7XG4gIHVwZGF0ZVN0eWxlKCdib3JkZXInLCAncmlnaHQnLCAnYm9yZGVyUmlnaHRXaWR0aCcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtFbGVtZW50TWV0cmljc30gdGhlIGVsZW1lbnQgbWV0cmljc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0cmljcyhlbCk6IHR5cGVzLkVsZW1lbnRNZXRyaWNzIHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZWwpO1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZG9jKTtcbiAgY29uc3Qgc3R5bGUgPSB3aW4uZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBnZXRCb3VuZGluZ0JveERvY3VtZW50KGVsKTtcbiAgcmV0dXJuIHtcbiAgICBwb3NpdGlvbjogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncG9zaXRpb24nKSxcbiAgICBwcm9wb3J0aW9uczogY2xpZW50UmVjdC5oZWlnaHQgLyAoY2xpZW50UmVjdC53aWR0aCB8fCAuMDAwMDAwMDAwMDAxKSxcbiAgICBjb21wdXRlZFN0eWxlUmVjdDoge1xuICAgICAgd2lkdGg6IHBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJykpIHx8IDAsXG4gICAgICBoZWlnaHQ6IHBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKSB8fCAwLFxuICAgICAgbGVmdDogcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbGVmdCcpKSB8fCAwLFxuICAgICAgdG9wOiBwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0b3AnKSkgfHwgMCxcbiAgICAgIGJvdHRvbTogcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm90dG9tJykpIHx8IDAsXG4gICAgICByaWdodDogcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncmlnaHQnKSkgfHwgMCxcbiAgICB9LFxuICAgIGJvcmRlcjoge1xuICAgICAgbGVmdDogcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLWxlZnQtd2lkdGgnKSkgfHwgMCxcbiAgICAgIHRvcDogcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLXRvcC13aWR0aCcpKSB8fCAwLFxuICAgICAgcmlnaHQ6IHBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci1yaWdodC13aWR0aCcpKSB8fCAwLFxuICAgICAgYm90dG9tOiBwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItYm90dG9tLXdpZHRoJykpIHx8IDAsXG4gICAgfSxcbiAgICBwYWRkaW5nOiB7XG4gICAgICBsZWZ0OiBwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLWxlZnQnKSkgfHwgMCxcbiAgICAgIHRvcDogcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy10b3AnKSkgfHwgMCxcbiAgICAgIHJpZ2h0OiBwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLXJpZ2h0JykpIHx8IDAsXG4gICAgICBib3R0b206IHBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctYm90dG9tJykpIHx8IDAsXG4gICAgfSxcbiAgICBtYXJnaW46IHtcbiAgICAgIGxlZnQ6IHBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0JykpIHx8IDAsXG4gICAgICB0b3A6IHBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi10b3AnKSkgfHwgMCxcbiAgICAgIHJpZ2h0OiBwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tcmlnaHQnKSkgfHwgMCxcbiAgICAgIGJvdHRvbTogcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWJvdHRvbScpKSB8fCAwLFxuICAgIH0sXG4gICAgY2xpZW50UmVjdDoge1xuICAgICAgdG9wOiBjbGllbnRSZWN0LnRvcCxcbiAgICAgIGxlZnQ6IGNsaWVudFJlY3QubGVmdCxcbiAgICAgIGJvdHRvbTogY2xpZW50UmVjdC5ib3R0b20sXG4gICAgICByaWdodDogY2xpZW50UmVjdC5yaWdodCxcbiAgICAgIHdpZHRoOiBjbGllbnRSZWN0LndpZHRoLFxuICAgICAgaGVpZ2h0OiBjbGllbnRSZWN0LmhlaWdodCxcbiAgICB9LFxuICB9XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHtTY3JvbGxEYXRhfSB0aGUgc2Nyb2xsIHN0YXRlIGZvciB0aGUgZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbChkb2MpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGRvYyk7XG4gIHJldHVybiB7XG4gICAgeDogd2luLnNjcm9sbFgsXG4gICAgeTogd2luLnNjcm9sbFksXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbEJhclNpemUoKTogbnVtYmVyIHtcbiAgLy8gQ3JlYXRlIHRoZSBtZWFzdXJlbWVudCBub2RlXG4gIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICBzY3JvbGxEaXYuc3R5bGUud2lkdGggPSAnMTAwcHgnO1xuICBzY3JvbGxEaXYuc3R5bGUuaGVpZ2h0ID0gJzEwMHB4JztcbiAgc2Nyb2xsRGl2LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XG4gIHNjcm9sbERpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIHNjcm9sbERpdi5zdHlsZS50b3AgPSAnLTk5OTlweCc7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcblxuICAvLyBHZXQgdGhlIHNjcm9sbGJhciB3aWR0aFxuICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG5cbiAgLy8gRGVsZXRlIHRoZSBESVZcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxEb2N1bWVudH0gZG9jXG4gKiBAcGFyYW0ge1Njcm9sbERhdGF9IHNjcm9sbCwgdGhlIHNjcm9sbCBzdGF0ZSBmb3IgdGhlIGRvY3VtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTY3JvbGwoZG9jOiBIVE1MRG9jdW1lbnQsIHNjcm9sbDogdHlwZXMuU2Nyb2xsRGF0YSkge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZG9jKTtcbiAgd2luLnNjcm9sbChzY3JvbGwueCwgc2Nyb2xsLnkpO1xufVxuXG5jb25zdCBCT1JERVJfU0laRSA9IDEwO1xuXG5cbmV4cG9ydCBjb25zdCBDVVJTT1JfREVGQVVMVCA9ICdkZWZhdWx0JztcbmV4cG9ydCBjb25zdCBDVVJTT1JfU0VMRUNUID0gJ3BvaW50ZXInO1xuZXhwb3J0IGNvbnN0IENVUlNPUl9NT1ZFID0gJ21vdmUnO1xuZXhwb3J0IGNvbnN0IENVUlNPUl9OVyA9ICdudy1yZXNpemUnO1xuZXhwb3J0IGNvbnN0IENVUlNPUl9ORSA9ICduZS1yZXNpemUnO1xuZXhwb3J0IGNvbnN0IENVUlNPUl9TVyA9ICdzdy1yZXNpemUnO1xuZXhwb3J0IGNvbnN0IENVUlNPUl9TRSA9ICdzZS1yZXNpemUnO1xuZXhwb3J0IGNvbnN0IENVUlNPUl9XID0gJ3ctcmVzaXplJztcbmV4cG9ydCBjb25zdCBDVVJTT1JfRSA9ICdlLXJlc2l6ZSc7XG5leHBvcnQgY29uc3QgQ1VSU09SX04gPSAnbi1yZXNpemUnO1xuZXhwb3J0IGNvbnN0IENVUlNPUl9TID0gJ3MtcmVzaXplJztcblxuLy8gY2hlY2sgaWYgdGhlIG1vdXNlIGlzIG9uIHRoZSBzaWRlIG9mIHRoZSBzZWxlY3RhYmxlXG4vLyB0aGlzIGhhcHBlbnMgb25seSB3aGVuIHRoZSBtb3VzZSBpcyBvdmVyIHRoZSBzZWxlY3RhYmxlXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKGNsaWVudFgsIGNsaWVudFksIHNjcm9sbERhdGE6IHR5cGVzLlNjcm9sbERhdGEsIHNlbGVjdGFibGU6IHR5cGVzLlNlbGVjdGFibGVTdGF0ZSk6IHt4OiBzdHJpbmcsIHk6IHN0cmluZ30ge1xuICBjb25zdCBiYiA9IHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0O1xuICBjb25zdCBkaXN0RnJvbUJvcmRlciA9IHtcbiAgICBsZWZ0OiBjbGllbnRYICsgc2Nyb2xsRGF0YS54IC0gYmIubGVmdCxcbiAgICByaWdodDogYmIud2lkdGggKyBiYi5sZWZ0IC0gKGNsaWVudFggKyBzY3JvbGxEYXRhLngpLFxuICAgIHRvcDogY2xpZW50WSArIHNjcm9sbERhdGEueSAtIGJiLnRvcCxcbiAgICBib3R0b206IGJiLmhlaWdodCArIGJiLnRvcCAtIChjbGllbnRZICsgc2Nyb2xsRGF0YS55KSxcbiAgfVxuICAvLyBnZXQgcmVzaXplIGRpcmVjdGlvblxuICBjb25zdCBkaXJlY3Rpb24gPSB7IHg6ICcnLCB5OiAnJyB9O1xuICBpZihkaXN0RnJvbUJvcmRlci5sZWZ0IDwgQk9SREVSX1NJWkUpIGRpcmVjdGlvbi54ID0gJ2xlZnQnO1xuICBlbHNlIGlmKGRpc3RGcm9tQm9yZGVyLnJpZ2h0IDwgQk9SREVSX1NJWkUpIGRpcmVjdGlvbi54ID0gJ3JpZ2h0JztcbiAgaWYoZGlzdEZyb21Cb3JkZXIudG9wIDwgQk9SREVSX1NJWkUpIGRpcmVjdGlvbi55ID0gJ3RvcCc7XG4gIGVsc2UgaWYoZGlzdEZyb21Cb3JkZXIuYm90dG9tIDwgQk9SREVSX1NJWkUpIGRpcmVjdGlvbi55ID0gJ2JvdHRvbSc7XG4gIHJldHVybiBkaXJlY3Rpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNpemVDdXJzb3JDbGFzcyhkaXJlY3Rpb24pIHtcbiAgaWYoZGlyZWN0aW9uLnggPT09ICdsZWZ0JyAmJiBkaXJlY3Rpb24ueSA9PT0gJ3RvcCcpIHJldHVybiBDVVJTT1JfTlc7XG4gIGVsc2UgaWYoZGlyZWN0aW9uLnggPT09ICdyaWdodCcgJiYgZGlyZWN0aW9uLnkgPT09ICd0b3AnKSByZXR1cm4gQ1VSU09SX05FO1xuICBlbHNlIGlmKGRpcmVjdGlvbi54ID09PSAnbGVmdCcgJiYgZGlyZWN0aW9uLnkgPT09ICdib3R0b20nKSByZXR1cm4gQ1VSU09SX1NXO1xuICBlbHNlIGlmKGRpcmVjdGlvbi54ID09PSAncmlnaHQnICYmIGRpcmVjdGlvbi55ID09PSAnYm90dG9tJykgcmV0dXJuIENVUlNPUl9TRTtcbiAgZWxzZSBpZihkaXJlY3Rpb24ueCA9PT0gJ2xlZnQnICYmIGRpcmVjdGlvbi55ID09PSAnJykgcmV0dXJuIENVUlNPUl9XO1xuICBlbHNlIGlmKGRpcmVjdGlvbi54ID09PSAncmlnaHQnICYmIGRpcmVjdGlvbi55ID09PSAnJykgcmV0dXJuIENVUlNPUl9FO1xuICBlbHNlIGlmKGRpcmVjdGlvbi54ID09PSAnJyAmJiBkaXJlY3Rpb24ueSA9PT0gJ3RvcCcpIHJldHVybiBDVVJTT1JfTjtcbiAgZWxzZSBpZihkaXJlY3Rpb24ueCA9PT0gJycgJiYgZGlyZWN0aW9uLnkgPT09ICdib3R0b20nKSByZXR1cm4gQ1VSU09SX1M7XG4gIHRocm93IG5ldyBFcnJvcignZGlyZWN0aW9uIG5vdCBmb3VuZCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZXNpemVhYmxlKHJlc2l6ZWFibGU6IHR5cGVzLkRpcmVjdGlvbiB8IGJvb2xlYW4sIGRpcmVjdGlvbjoge3g6IHN0cmluZywgeTogc3RyaW5nfSk6IGJvb2xlYW4ge1xuICBpZih0eXBlb2YgcmVzaXplYWJsZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gKGRpcmVjdGlvbi54ICE9PSAnJyB8fCBkaXJlY3Rpb24ueSAhPT0gJycpICYmIFtcbiAgICAgIHt4OiAnbGVmdCcsIHk6ICd0b3AnfSxcbiAgICAgIHt4OiAncmlnaHQnLCB5OiAndG9wJ30sXG4gICAgICB7eDogJ2xlZnQnLCB5OiAnYm90dG9tJ30sXG4gICAgICB7eDogJ3JpZ2h0JywgeTogJ2JvdHRvbSd9LFxuICAgIF0ucmVkdWNlKChwcmV2LCBkaXIpOiBib29sZWFuID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IHByZXYgfHwgKFxuICAgICAgICAoKHJlc2l6ZWFibGVbZGlyLnhdICYmIGRpcmVjdGlvbi54ID09PSBkaXIueCkgfHwgZGlyZWN0aW9uLnggPT09ICcnKSAmJlxuICAgICAgICAoKHJlc2l6ZWFibGVbZGlyLnldICYmIGRpcmVjdGlvbi55ID09PSBkaXIueSkgfHwgZGlyZWN0aW9uLnkgPT09ICcnKVxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSwgZmFsc2UpO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBkaXJlY3Rpb24ueCAhPT0gJycgfHwgZGlyZWN0aW9uLnkgIT09ICcnO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJzb3JEYXRhKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyLCBzY3JvbGxEYXRhOiB0eXBlcy5TY3JvbGxEYXRhLCBzZWxlY3RhYmxlOiB0eXBlcy5TZWxlY3RhYmxlU3RhdGUpOiB0eXBlcy5DdXJzb3JEYXRhIHtcbiAgaWYoc2VsZWN0YWJsZSkge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihjbGllbnRYLCBjbGllbnRZLCBzY3JvbGxEYXRhLCBzZWxlY3RhYmxlKTtcbiAgICBpZihpc1Jlc2l6ZWFibGUoc2VsZWN0YWJsZS5yZXNpemVhYmxlLCBkaXJlY3Rpb24pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBkaXJlY3Rpb24ueCxcbiAgICAgICAgeTogZGlyZWN0aW9uLnksXG4gICAgICAgIGN1cnNvclR5cGU6IGdldFJlc2l6ZUN1cnNvckNsYXNzKGRpcmVjdGlvbiksXG4gICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmKHNlbGVjdGFibGUuZHJhZ2dhYmxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiAnJyxcbiAgICAgICAgeTogJycsXG4gICAgICAgIGN1cnNvclR5cGU6IENVUlNPUl9NT1ZFLFxuICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RhYmxlLnNlbGVjdGVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiAnJyxcbiAgICAgICAgeTogJycsXG4gICAgICAgIGN1cnNvclR5cGU6IENVUlNPUl9TRUxFQ1QsXG4gICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6ICcnLFxuICAgICAgICB5OiAnJyxcbiAgICAgICAgY3Vyc29yVHlwZTogQ1VSU09SX0RFRkFVTFQsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogJycsXG4gICAgICB5OiAnJyxcbiAgICAgIGN1cnNvclR5cGU6IENVUlNPUl9ERUZBVUxULFxuICAgIH07XG4gIH1cbn1cblxuXG4vKipcbiAqIHJldHJpdmUgdGhlIHN0YXRlIGZvciB0aGlzIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGFibGVTdGF0ZShzdG9yZTogU3RhZ2VTdG9yZSwgZWwpOiB0eXBlcy5TZWxlY3RhYmxlU3RhdGUge1xuICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlcy5maW5kKHNlbGVjdGFibGUgPT4gc2VsZWN0YWJsZS5lbCA9PT0gZWwpO1xufVxuXG5cbi8qKlxuICogaGVscGVyIHRvIGdldCB0aGUgc3RhdGVzIG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKHN0b3JlOiBTdGFnZVN0b3JlKTogQXJyYXk8dHlwZXMuU2VsZWN0YWJsZVN0YXRlPiB7XG4gIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGFibGVzLmZpbHRlcihzZWxlY3RhYmxlID0+IHNlbGVjdGFibGUuc2VsZWN0ZWQpO1xufVxuXG5cbi8qKlxuICogcmV0dXJucyB0aGUgc3RhdGUgb2YgdGhlIGZpcnN0IGNvbnRhaW5lciB3aGljaCBpcyBzZWxlY3RhYmxlXG4gKiBvciBudWxsIGlmIHRoZSBlbGVtZW50IGFuZCBub25lIG9mIGl0cyBwYXJlbnRzIGFyZSBzZWxlY3RhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3RhYmxlKHN0b3JlOiBTdGFnZVN0b3JlLCBlbGVtZW50OiBIVE1MRWxlbWVudCk6IHR5cGVzLlNlbGVjdGFibGVTdGF0ZSB7XG4gIGxldCBlbCA9IGVsZW1lbnQ7XG4gIGxldCBkYXRhO1xuICB3aGlsZSghIWVsICYmICEoZGF0YSA9IGdldFNlbGVjdGFibGVTdGF0ZShzdG9yZSwgZWwpKSkge1xuICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuXG4vKipcbiAqIGNoZWNrIGlmIGFuIGVsZW1lbnQgaGFzIGEgcGFyZW50IHdoaWNoIGlzIHNlbGVjdGVkIGFuZCBkcmFnZ2FibGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHNlbGVjdGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FTZWxlY3RlZERyYWdnYWJsZVBhcmVudChzdG9yZTogU3RhZ2VTdG9yZSwgZWw6IEhUTUxFbGVtZW50KSB7XG4gIGNvbnN0IHNlbGVjdGFibGVQYXJlbnQgPSBnZXRTZWxlY3RhYmxlKHN0b3JlLCBlbC5wYXJlbnRFbGVtZW50KTtcbiAgaWYoc2VsZWN0YWJsZVBhcmVudCkge1xuICAgIGlmKHNlbGVjdGFibGVQYXJlbnQuc2VsZWN0ZWQgJiYgc2VsZWN0YWJsZVBhcmVudC5kcmFnZ2FibGUpIHJldHVybiB0cnVlO1xuICAgIGVsc2UgcmV0dXJuIGhhc0FTZWxlY3RlZERyYWdnYWJsZVBhcmVudChzdG9yZSwgc2VsZWN0YWJsZVBhcmVudC5lbCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudE1ldHJpY3N9IG1ldHJpY3NcbiAqIEByZXR1cm4ge3N0cmluZ30gZ2V0IHRoZSBjb21wdXRlZFN0eWxlUmVjdCB0aGF0IG1hdGNoZXMgbWV0cmljcy5jbGllbnRSZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ2xpZW50VG9Db21wdXRlZChtZXRyaWNzOiB0eXBlcy5FbGVtZW50TWV0cmljcyk6IHR5cGVzLkZ1bGxCb3gge1xuICByZXR1cm4ge1xuICAgIHRvcDogTWF0aC5yb3VuZChtZXRyaWNzLmNsaWVudFJlY3QudG9wICsgbWV0cmljcy5tYXJnaW4udG9wKSxcbiAgICBsZWZ0OiBNYXRoLnJvdW5kKG1ldHJpY3MuY2xpZW50UmVjdC5sZWZ0ICsgbWV0cmljcy5tYXJnaW4ubGVmdCksXG4gICAgcmlnaHQ6IE1hdGgucm91bmQobWV0cmljcy5jbGllbnRSZWN0LnJpZ2h0ICsgbWV0cmljcy5tYXJnaW4ubGVmdCArIG1ldHJpY3MucGFkZGluZy5sZWZ0ICsgbWV0cmljcy5wYWRkaW5nLnJpZ2h0ICsgbWV0cmljcy5ib3JkZXIubGVmdCArIG1ldHJpY3MuYm9yZGVyLnJpZ2h0IC0gKG1ldHJpY3MuYm9yZGVyLmxlZnQgKyBtZXRyaWNzLmJvcmRlci5yaWdodCkpLFxuICAgIGJvdHRvbTogTWF0aC5yb3VuZChtZXRyaWNzLmNsaWVudFJlY3QuYm90dG9tICsgbWV0cmljcy5tYXJnaW4udG9wICsgbWV0cmljcy5wYWRkaW5nLnRvcCArIG1ldHJpY3MucGFkZGluZy5ib3R0b20gKyBtZXRyaWNzLmJvcmRlci50b3AgKyBtZXRyaWNzLmJvcmRlci5ib3R0b20gLSAobWV0cmljcy5ib3JkZXIudG9wICsgbWV0cmljcy5ib3JkZXIuYm90dG9tKSksXG4gICAgd2lkdGg6IE1hdGgucm91bmQobWV0cmljcy5jbGllbnRSZWN0LndpZHRoICsgbWV0cmljcy5wYWRkaW5nLmxlZnQgKyBtZXRyaWNzLnBhZGRpbmcucmlnaHQgKyBtZXRyaWNzLmJvcmRlci5sZWZ0ICsgbWV0cmljcy5ib3JkZXIucmlnaHQgLSAyKihtZXRyaWNzLmJvcmRlci5sZWZ0ICsgbWV0cmljcy5ib3JkZXIucmlnaHQpKSxcbiAgICBoZWlnaHQ6IE1hdGgucm91bmQobWV0cmljcy5jbGllbnRSZWN0LmhlaWdodCArIG1ldHJpY3MuYm9yZGVyLnRvcCArIG1ldHJpY3MuYm9yZGVyLmJvdHRvbSArIG1ldHJpY3MucGFkZGluZy50b3AgKyBtZXRyaWNzLnBhZGRpbmcuYm90dG9tIC0gMioobWV0cmljcy5ib3JkZXIudG9wICsgbWV0cmljcy5ib3JkZXIuYm90dG9tKSksXG4gIH07XG59XG5cblxuLyoqXG4gKiBmaW5kIHRoZSBkcm9wWm9uZSBlbGVtZW50cyB3aGljaCBhcmUgdW5kZXIgdGhlIG1vdXNlXG4gKiB0aGUgZmlyc3Qgb25lIGluIHRoZSBsaXN0IGlzIHRoZSB0b3AgbW9zdCBvbmVcbiAqIHggYW5kIHkgYXJlIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCwgbm90IHRoZSBkb2N1bWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZERyb3Bab25lc1VuZGVyTW91c2UoZG9jOiBIVE1MRG9jdW1lbnQsIHN0b3JlOiBTdGFnZVN0b3JlLCBob29rczogdHlwZXMuSG9va3MsIHg6IG51bWJlciwgeTogbnVtYmVyKTogQXJyYXk8SFRNTEVsZW1lbnQ+IHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGRvYyk7XG5cbiAgLy8gY29uc3RyYWluIHRoZSBjb29yZCBpbnNpZGUgdGhlIHZpZXdwb3J0IChvdGhlcndpc2UgZWxlbWVudHNGcm9tUG9pbnQgd2lsbCByZXR1cm4gbnVsbClcbiAgY29uc3QgY29uc3RyYWluID0gKG51bSwgbWluLCBtYXgpID0+IE1hdGgubWluKE1hdGgubWF4KG51bSwgbWluKSwgbWF4KTtcbiAgY29uc3Qgc2FmZVggPSBjb25zdHJhaW4oeCwgMCwgd2luLmlubmVyV2lkdGggLSAxKTtcbiAgY29uc3Qgc2FmZVkgPSBjb25zdHJhaW4oeSwgMCwgd2luLmlubmVySGVpZ2h0IC0gMSk7XG5cbiAgY29uc3Qgc2VsZWN0YWJsZXMgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGFibGVzO1xuICBjb25zdCBzZWxlY3Rpb24gPSBzZWxlY3RhYmxlcy5maWx0ZXIocyA9PiBzLnNlbGVjdGVkKTtcblxuICAvLyBnZXQgYSBsaXN0IG9mIGFsbCBkcm9wWm9uZSB6b25lIHVuZGVyIHRoZSBwb2ludCAoeCwgeSlcbiAgcmV0dXJuIGRvYy5lbGVtZW50c0Zyb21Qb2ludChzYWZlWCwgc2FmZVkpXG4gIC5maWx0ZXIoKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGFibGUgPSBzZWxlY3RhYmxlcy5maW5kKHMgPT4gcy5lbCA9PT0gZWwpO1xuICAgIHJldHVybiBzZWxlY3RhYmxlXG4gICAgICAmJiBzZWxlY3RhYmxlLmlzRHJvcFpvbmVcbiAgICAgICYmICFzZWxlY3Rpb24uZmluZChzID0+IHMuZWwgPT09IGVsKTtcbiAgfSkgYXMgQXJyYXk8SFRNTEVsZW1lbnQ+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZFNlbGVjdGFibGVVbmRlck1vdXNlKGRvYzogSFRNTERvY3VtZW50LCBzdG9yZTogU3RhZ2VTdG9yZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiBBcnJheTxIVE1MRWxlbWVudD4ge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZG9jKTtcblxuICAvLyBjb25zdHJhaW4gdGhlIGNvb3JkIGluc2lkZSB0aGUgdmlld3BvcnQgKG90aGVyd2lzZSBlbGVtZW50c0Zyb21Qb2ludCB3aWxsIHJldHVybiBudWxsKVxuICBjb25zdCBjb25zdHJhaW4gPSAobnVtLCBtaW4sIG1heCkgPT4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xuICBjb25zdCBzYWZlWCA9IGNvbnN0cmFpbih4LCAwLCB3aW4uaW5uZXJXaWR0aCAtIDEpO1xuICBjb25zdCBzYWZlWSA9IGNvbnN0cmFpbih5LCAwLCB3aW4uaW5uZXJIZWlnaHQgLSAxKTtcblxuICBjb25zdCBzZWxlY3RhYmxlcyA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0YWJsZXM7XG5cbiAgcmV0dXJuIGRvYy5lbGVtZW50c0Zyb21Qb2ludChzYWZlWCwgc2FmZVkpXG4gIC5maWx0ZXIoKGVsOiBIVE1MRWxlbWVudCkgPT4gISFzZWxlY3RhYmxlcy5maW5kKHMgPT4gcy5lbCA9PT0gZWwpKSBhcyBBcnJheTxIVE1MRWxlbWVudD47XG59XG5cbi8qKlxuICogbW92ZSBhbiBlbGVtZW50IGFuZCB1cGRhdGUgaXRzIGRhdGEgaW4gc2VsZWN0aW9uXG4gKiB3aGVuIGVsZW1lbnRzIGFyZSBpbiBhIGNvbnRhaW5lciB3aGljaCBpcyBtb3ZlZCwgdGhlIGNsaWVudFJlY3QgY2hhbmdlcyBidXQgbm90IHRoZSBjb21wdXRlZFN0eWxlUmVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZShzZWxlY3RhYmxlOiB0eXBlcy5TZWxlY3RhYmxlU3RhdGUsIG9ubHlDbGllbnRSZWN0OiBib29sZWFuLCBtb3ZlbWVudFg6IG51bWJlciwgbW92ZW1lbnRZOiBudW1iZXIpOiB0eXBlcy5TZWxlY3RhYmxlU3RhdGUge1xuICByZXR1cm4ge1xuICAgIC4uLnNlbGVjdGFibGUsXG4gICAgdHJhbnNsYXRpb246IHNlbGVjdGFibGUudHJhbnNsYXRpb24gPyB7XG4gICAgICB4OiBzZWxlY3RhYmxlLnRyYW5zbGF0aW9uLnggKyBtb3ZlbWVudFgsXG4gICAgICB5OiBzZWxlY3RhYmxlLnRyYW5zbGF0aW9uLnkgKyBtb3ZlbWVudFksXG4gICAgfSA6IG51bGwsXG4gICAgbWV0cmljczoge1xuICAgICAgLi4uc2VsZWN0YWJsZS5tZXRyaWNzLFxuICAgICAgY2xpZW50UmVjdCA6IHtcbiAgICAgICAgLi4uc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QsXG4gICAgICAgIHRvcDogc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QudG9wICsgbW92ZW1lbnRZLFxuICAgICAgICBsZWZ0OiBzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC5sZWZ0ICsgbW92ZW1lbnRYLFxuICAgICAgICBib3R0b206IHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LmJvdHRvbSArIG1vdmVtZW50WSxcbiAgICAgICAgcmlnaHQ6IHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LnJpZ2h0ICsgbW92ZW1lbnRYLFxuICAgICAgfSxcbiAgICAgIGNvbXB1dGVkU3R5bGVSZWN0OiBvbmx5Q2xpZW50UmVjdCA/IHNlbGVjdGFibGUubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdCA6IHtcbiAgICAgICAgLi4uc2VsZWN0YWJsZS5tZXRyaWNzLmNvbXB1dGVkU3R5bGVSZWN0LFxuICAgICAgICB0b3A6IHNlbGVjdGFibGUubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC50b3AgKyBtb3ZlbWVudFksXG4gICAgICAgIGxlZnQ6IHNlbGVjdGFibGUubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC5sZWZ0ICsgbW92ZW1lbnRYLFxuICAgICAgICBib3R0b206IHNlbGVjdGFibGUubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC5ib3R0b20gKyBtb3ZlbWVudFksXG4gICAgICAgIHJpZ2h0OiBzZWxlY3RhYmxlLm1ldHJpY3MuY29tcHV0ZWRTdHlsZVJlY3QucmlnaHQgKyBtb3ZlbWVudFgsXG4gICAgICB9LFxuICAgIH1cbiAgfTtcbn1cbiIsIlxuLyoqXG4gKiBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgYW5kIHJldHVybnMgYW4gYSBtZXRob2QgdG8gY2FsbCB0byByZW1vdmUgdGhlIGxpc3RlbmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudChvYmo6IEV2ZW50VGFyZ2V0LCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyLCBvcHRpb25zOiBhbnkgPSB7fSk6ICgpID0+IHZvaWQge1xuICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gIHJldHVybiAoKSA9PiBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi9UeXBlcydcblxuZXhwb3J0IGNvbnN0IFVJX1NFVF9NT0RFID0gJ1VJX1NFVF9NT0RFJztcbmV4cG9ydCBjb25zdCBzZXRNb2RlID0gKG1vZGU6IHR5cGVzLlVpTW9kZSkgPT4gKHtcbiAgdHlwZTogVUlfU0VUX01PREUsXG4gIG1vZGUsXG59KTtcblxuZXhwb3J0IGNvbnN0IFVJX1NFVF9SRUZSRVNISU5HID0gJ1VJX1NFVF9SRUZSRVNISU5HJztcbmV4cG9ydCBjb25zdCBzZXRSZWZyZXNoaW5nID0gKHJlZnJlc2hpbmc6IGJvb2xlYW4pID0+ICh7XG4gIHR5cGU6IFVJX1NFVF9SRUZSRVNISU5HLFxuICByZWZyZXNoaW5nLFxufSk7XG5cbmV4cG9ydCBjb25zdCBVSV9TRVRfQ0FUQ0hJTkdfRVZFTlRTID0gJ1VJX1NFVF9DQVRDSElOR19FVkVOVFMnO1xuZXhwb3J0IGNvbnN0IHNldENhdGNoaW5nRXZlbnRzID0gKGNhdGNoaW5nRXZlbnRzOiBib29sZWFuKSA9PiAoe1xuICB0eXBlOiBVSV9TRVRfQ0FUQ0hJTkdfRVZFTlRTLFxuICBjYXRjaGluZ0V2ZW50cyxcbn0pO1xuXG5leHBvcnQgY29uc3QgVUlfU0VUX1NUSUNLWSA9ICdVSV9TRVRfU1RJQ0tZJztcbmV4cG9ydCBjb25zdCBzZXRTdGlja3kgPSAoc3RpY2t5OiB0eXBlcy5TdGlja3kpID0+ICh7XG4gIHR5cGU6IFVJX1NFVF9TVElDS1ksXG4gIHN0aWNreSxcbn0pO1xuXG5leHBvcnQgY29uc3QgVUlfU0VUX0VOQUJMRV9TVElDS1kgPSAnVUlfU0VUX0VOQUJMRV9TVElDS1knO1xuZXhwb3J0IGNvbnN0IHNldEVuYWJsZVN0aWNreSA9IChlbmFibGVTdGlja3k6IGJvb2xlYW4pID0+ICh7XG4gIHR5cGU6IFVJX1NFVF9FTkFCTEVfU1RJQ0tZLFxuICBlbmFibGVTdGlja3ksXG59KTtcblxuLyoqXG4gKiByZWR1Y2VyXG4gKi9cbmV4cG9ydCBjb25zdCB1aSA9IChzdGF0ZT1nZXREZWZhdWx0U3RhdGUoKSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgVUlfU0VUX01PREU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgbW9kZTogYWN0aW9uLm1vZGUsXG4gICAgICB9XG4gICAgY2FzZSBVSV9TRVRfUkVGUkVTSElORzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZWZyZXNoaW5nOiBhY3Rpb24ucmVmcmVzaGluZyxcbiAgICAgIH1cbiAgICBjYXNlIFVJX1NFVF9DQVRDSElOR19FVkVOVFM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgY2F0Y2hpbmdFdmVudHM6IGFjdGlvbi5jYXRjaGluZ0V2ZW50cyxcbiAgICAgIH1cbiAgICBjYXNlIFVJX1NFVF9TVElDS1k6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc3RpY2t5OiBhY3Rpb24uc3RpY2t5LFxuICAgICAgfVxuICAgIGNhc2UgVUlfU0VUX0VOQUJMRV9TVElDS1k6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZW5hYmxlU3RpY2t5OiBhY3Rpb24uZW5hYmxlU3RpY2t5LFxuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0U3RhdGUgPSAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgbW9kZTogdHlwZXMuVWlNb2RlLk5PTkUsXG4gICAgcmVmcmVzaGluZzogZmFsc2UsXG4gICAgY2F0Y2hpbmdFdmVudHM6IHRydWUsXG4gICAgc3RpY2t5OiB0eXBlcy5FTVBUWV9TVElDS1lfQk9YKCksXG4gICAgZW5hYmxlU3RpY2t5OiB0cnVlLFxuICB9O1xufVxuIiwiaW1wb3J0IHsgU2VsZWN0YWJsZVN0YXRlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG5jb25zdCBTRVQgPSAnU0VMRUNUSU9OX1NFVCc7XG5jb25zdCBSRVNFVCA9ICdTRUxFQ1RJT05fUkVTRVQnO1xuY29uc3QgVE9HR0xFID0gJ1NFTEVDVElPTl9UT0dHTEUnO1xuY29uc3QgQUREID0gJ1NFTEVDVElPTl9BREQnO1xuY29uc3QgUkVNT1ZFID0gJ1NFTEVDVElPTl9SRU1PVkUnO1xuXG5leHBvcnQgY29uc3Qgc2V0ID0gKHNlbGVjdGFibGVzOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+KSA9PiAoe1xuICB0eXBlOiBTRVQsXG4gIHNlbGVjdGFibGVzLFxufSlcbmV4cG9ydCBjb25zdCByZXNldCA9ICgpID0+ICh7XG4gIHR5cGU6IFJFU0VULFxufSlcbmV4cG9ydCBjb25zdCB0b2dnbGUgPSAoc2VsZWN0YWJsZTogU2VsZWN0YWJsZVN0YXRlKSA9PiAoe1xuICB0eXBlOiBUT0dHTEUsXG4gIHNlbGVjdGFibGUsXG59KVxuZXhwb3J0IGNvbnN0IGFkZCA9IChzZWxlY3RhYmxlOiBTZWxlY3RhYmxlU3RhdGUpID0+ICh7XG4gIHR5cGU6IEFERCxcbiAgc2VsZWN0YWJsZSxcbn0pXG5leHBvcnQgY29uc3QgcmVtb3ZlID0gKHNlbGVjdGFibGU6IFNlbGVjdGFibGVTdGF0ZSkgPT4gKHtcbiAgdHlwZTogUkVNT1ZFLFxuICBzZWxlY3RhYmxlLFxufSlcblxuLyoqXG4gKiByZWR1Y2VyXG4gKi9cbmV4cG9ydCBjb25zdCBzZWxlY3Rpb24gPSAoc3RhdGU6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT49W10sIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBUT0dHTEU6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKHNlbGVjdGFibGUgPT4gc2VsZWN0YWJsZSA9PT0gYWN0aW9uLnNlbGVjdGFibGUgPyB7XG4gICAgICAgIC4uLnNlbGVjdGFibGUsXG4gICAgICAgIHNlbGVjdGVkOiAhc2VsZWN0YWJsZS5zZWxlY3RlZCxcbiAgICAgIH0gOiBzZWxlY3RhYmxlKTtcbiAgICBjYXNlIFJFTU9WRTpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoc2VsZWN0YWJsZSA9PiBzZWxlY3RhYmxlID09PSBhY3Rpb24uc2VsZWN0YWJsZSA/IHtcbiAgICAgICAgLi4uc2VsZWN0YWJsZSxcbiAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgfSA6IHNlbGVjdGFibGUpO1xuICAgIGNhc2UgUkVTRVQ6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKHNlbGVjdGFibGUgPT4gKHtcbiAgICAgICAgLi4uc2VsZWN0YWJsZSxcbiAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgfSkpO1xuICAgIGNhc2UgQUREOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChzZWxlY3RhYmxlID0+IHNlbGVjdGFibGUgPT09IGFjdGlvbi5zZWxlY3RhYmxlID8ge1xuICAgICAgICAuLi5zZWxlY3RhYmxlLFxuICAgICAgICBzZWxlY3RlZDogdHJ1ZSxcbiAgICAgIH0gOiBzZWxlY3RhYmxlKTtcbiAgICBjYXNlIFNFVDpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoc2VsZWN0YWJsZSA9PiBhY3Rpb24uc2VsZWN0YWJsZXMuaW5jbHVkZXMoc2VsZWN0YWJsZSkgPyB7XG4gICAgICAgIC4uLnNlbGVjdGFibGUsXG4gICAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICAgICAgfSA6IHtcbiAgICAgICAgLi4uc2VsZWN0YWJsZSxcbiAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3RhZ2VTdG9yZSB9IGZyb20gJy4vZmx1eC9TdGFnZVN0b3JlJztcbmltcG9ydCB7IGFkZEV2ZW50IH0gZnJvbSAnLi91dGlscy9FdmVudHMnO1xuaW1wb3J0IHsgc2V0TW9kZSB9IGZyb20gJy4vZmx1eC9VaVN0YXRlJztcbmltcG9ydCB7IHJlc2V0IH0gZnJvbSAnLi9mbHV4L1NlbGVjdGlvblN0YXRlJztcbmltcG9ydCB7IFVpTW9kZSwgSG9va3MgfSBmcm9tICcuL1R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEtleWJvYXJkIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB3aW46IFdpbmRvdywgcHJpdmF0ZSBzdG9yZTogU3RhZ2VTdG9yZSwgcHJpdmF0ZSBob29rczogSG9va3MpIHtcbiAgICAvLyBldmVudHMgZnJvbSBpbnNpZGUgdGhlIGlmcmFtZVxuICAgIHRoaXMudW5zdWJzY3JpYmVBbGwucHVzaChcbiAgICAgIGFkZEV2ZW50KHdpbmRvdywgJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdGhpcy5vbktleURvd24oZSkpLFxuICAgICAgYWRkRXZlbnQod2luLCAna2V5ZG93bicsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB0aGlzLm9uS2V5RG93bihlKSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgdW5zdWJzY3JpYmVBbGw6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIGNsZWFudXAoKSB7XG4gICAgdGhpcy51bnN1YnNjcmliZUFsbC5mb3JFYWNoKHUgPT4gdSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBoYW5kbGUgc2hvcnRjdXRzXG4gICAqL1xuICBwcml2YXRlIG9uS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3Qga2V5ID0gZS5rZXk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICBpZihzdGF0ZS51aS5jYXRjaGluZ0V2ZW50cyAmJlxuICAgICAgdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2lucHV0JyAmJlxuICAgICAgdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHRhcmVhJyAmJlxuICAgICAgIXRhcmdldC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XG4gICAgICBzd2l0Y2goa2V5KSB7XG4gICAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgICAgaWYoc3RhdGUudWkubW9kZSAhPT0gVWlNb2RlLk5PTkUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2V0TW9kZShVaU1vZGUuTk9ORSkpO1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZXNldCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICBpZih0aGlzLmhvb2tzLm9uRWRpdCkgdGhpcy5ob29rcy5vbkVkaXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBvbmx5IGlmIHdlIGNhdGNoZWQgYSBzaG9ydGN1dFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIERvbU1ldHJpY3MgZnJvbSAnLi4vdXRpbHMvRG9tTWV0cmljcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi9UeXBlcyc7XG5cbmNvbnN0IE1PVVNFX1NDUk9MTCA9ICdNT1VTRV9TQ1JPTEwnO1xuZXhwb3J0IGNvbnN0IHNldFNjcm9sbCA9IChzY3JvbGxEYXRhOiB0eXBlcy5TY3JvbGxEYXRhKSA9PiAoe1xuICB0eXBlOiBNT1VTRV9TQ1JPTEwsXG4gIHNjcm9sbERhdGEsXG59KTtcblxuY29uc3QgTU9VU0VfQ1VSU09SID0gJ01PVVNFX0NVUlNPUic7XG5leHBvcnQgY29uc3Qgc2V0Q3Vyc29yRGF0YSA9IChjdXJzb3JEYXRhOiB0eXBlcy5DdXJzb3JEYXRhKSA9PiAoe1xuICB0eXBlOiBNT1VTRV9DVVJTT1IsXG4gIGN1cnNvckRhdGEsXG59KTtcblxuY29uc3QgTU9VU0VfREFUQSA9ICdNT1VTRV9EQVRBJztcbmV4cG9ydCBjb25zdCBzZXRNb3VzZURhdGEgPSAobW91c2VEYXRhOiB0eXBlcy5Nb3VzZURhdGEpID0+ICh7XG4gIHR5cGU6IE1PVVNFX0RBVEEsXG4gIG1vdXNlRGF0YSxcbn0pO1xuXG5leHBvcnQgY29uc3QgbW91c2UgPSAoc3RhdGU6IHR5cGVzLk1vdXNlU3RhdGU9Z2V0RGVmYXVsdFN0YXRlKCksIGFjdGlvbjogYW55KSA9PiB7XG4gIHN3aXRjaChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgTU9VU0VfU0NST0xMOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHNjcm9sbERhdGE6IGFjdGlvbi5zY3JvbGxEYXRhLFxuICAgICAgfTtcbiAgICBjYXNlIE1PVVNFX0NVUlNPUjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBjdXJzb3JEYXRhOiBhY3Rpb24uY3Vyc29yRGF0YSxcbiAgICAgIH1cbiAgICBjYXNlIE1PVVNFX0RBVEE6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgbW91c2VEYXRhOiBhY3Rpb24ubW91c2VEYXRhLFxuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0U3RhdGUgPSAoKTogdHlwZXMuTW91c2VTdGF0ZSA9PiB7XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsRGF0YToge3g6IDAsIHk6IDB9LFxuICAgIGN1cnNvckRhdGE6IHt4OiAnJywgeTogJycsIGN1cnNvclR5cGU6ICcnfSxcbiAgICBtb3VzZURhdGE6IHtcbiAgICAgIG1vdmVtZW50WDogMCxcbiAgICAgIG1vdmVtZW50WTogMCxcbiAgICAgIG1vdXNlWDogMCxcbiAgICAgIG1vdXNlWTogMCxcbiAgICAgIHNoaWZ0S2V5OiBmYWxzZSxcbiAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgIGhvdmVyZWQ6IFtdLFxuICAgIH0sXG4gIH07XG59XG4iLCJpbXBvcnQgeyBTZWxlY3RhYmxlU3RhdGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbmNvbnN0IFVQREFURSA9ICdTRUxFQ1RBQkxFX1VQREFURSc7XG5jb25zdCBSRVNFVCA9ICdTRUxFQ1RBQkxFX1JFU0VUJztcbmNvbnN0IENSRUFURSA9ICdTRUxFQ1RBQkxFX0NSRUFURSc7XG5jb25zdCBERUxFVEUgPSAnU0VMRUNUQUJMRV9ERUxFVEUnO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlU2VsZWN0YWJsZXMgPSAoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4sIHByZXZlbnREaXNwYXRjaDogYm9vbGVhbiA9IGZhbHNlKSA9PiAoe1xuICB0eXBlOiBVUERBVEUsXG4gIHNlbGVjdGFibGVzLFxuICBwcmV2ZW50RGlzcGF0Y2gsXG59KTtcbmV4cG9ydCBjb25zdCByZXNldFNlbGVjdGFibGVzID0gKCkgPT4gKHtcbiAgdHlwZTogUkVTRVQsXG59KTtcbmV4cG9ydCBjb25zdCBjcmVhdGVTZWxlY3RhYmxlID0gKHNlbGVjdGFibGU6IFNlbGVjdGFibGVTdGF0ZSkgPT4gKHtcbiAgdHlwZTogQ1JFQVRFLFxuICBzZWxlY3RhYmxlLFxufSk7XG5leHBvcnQgY29uc3QgZGVsZXRlU2VsZWN0YWJsZSA9IChzZWxlY3RhYmxlOiBTZWxlY3RhYmxlU3RhdGUpID0+ICh7XG4gIHR5cGU6IERFTEVURSxcbiAgc2VsZWN0YWJsZSxcbn0pO1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0YWJsZXMgPSAoc3RhdGU6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT49W10sIGFjdGlvbikgPT4ge1xuICBzd2l0Y2goYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIENSRUFURTpcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhY3Rpb24uc2VsZWN0YWJsZSxcbiAgICAgIF07XG4gICAgY2FzZSBSRVNFVDpcbiAgICAgIHJldHVybiBbXTtcbiAgICBjYXNlIERFTEVURTpcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoKHNlbGVjdGFibGU6IFNlbGVjdGFibGVTdGF0ZSkgPT4gc2VsZWN0YWJsZS5pZCAhPT0gYWN0aW9uLnNlbGVjdGFibGUuaWQpO1xuICAgIGNhc2UgVVBEQVRFOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcCgoc2VsZWN0YWJsZTogU2VsZWN0YWJsZVN0YXRlKSA9PiBhY3Rpb24uc2VsZWN0YWJsZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGFibGUuaWQpIHx8IHNlbGVjdGFibGUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL1R5cGVzJztcbmltcG9ydCAqIGFzIERvbU1ldHJpY3MgZnJvbSAnLi91dGlscy9Eb21NZXRyaWNzJztcbmltcG9ydCAqIGFzIE1vdXNlU3RhdGUgZnJvbSAnLi9mbHV4L01vdXNlU3RhdGUnO1xuaW1wb3J0IHsgU3RhZ2VTdG9yZSB9IGZyb20gJy4vZmx1eC9TdGFnZVN0b3JlJztcbmltcG9ydCAqIGFzIFNlbGVjdGlvbkFjdGlvbiBmcm9tICcuL2ZsdXgvU2VsZWN0aW9uU3RhdGUnO1xuaW1wb3J0ICogYXMgVWlTdGF0ZSBmcm9tICcuL2ZsdXgvVWlTdGF0ZSc7XG5pbXBvcnQgeyBhZGRFdmVudCB9IGZyb20gJy4vdXRpbHMvRXZlbnRzJztcbmltcG9ydCB7IHVwZGF0ZVNlbGVjdGFibGVzIH0gZnJvbSAnLi9mbHV4L1NlbGVjdGFibGVTdGF0ZSc7XG5cbmV4cG9ydCBlbnVtIE1vdXNlTW9kZSB7XG4gIFVQLFxuICBET1dOLFxuICBEUkFHR0lORyxcbiAgV0FJVElOR19EQkxfQ0xJQ0tfRE9XTixcbiAgV0FJVElOR19EQkxfQ0xJQ0tfRE9XTjIsXG4gIFdBSVRJTkdfREJMX0NMSUNLX1VQLFxufVxuXG5leHBvcnQgY2xhc3MgTW91c2Uge1xuICBtb3VzZU1vZGUgPSBNb3VzZU1vZGUuVVA7IC8vIHB1YmxpYyBmb3IgdW5pdCB0ZXN0c1xuICBwcml2YXRlIHdhc011bHRpU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB3aW5TdGFnZTogV2luZG93LCBwcml2YXRlIHdpbk92ZXJsYXk6IFdpbmRvdywgcHJpdmF0ZSBzdG9yZTogU3RhZ2VTdG9yZSwgcHJpdmF0ZSBob29rczogdHlwZXMuSG9va3MpIHtcbiAgICAvLyBldmVudHMgZnJvbSBpbnNpZGUgdGhlIGlmcmFtZVxuICAgIHRoaXMudW5zdWJzY3JpYmVBbGwucHVzaChcbiAgICAgIGFkZEV2ZW50KHRoaXMud2luT3ZlcmxheSwgJ3Njcm9sbCcsIChlOk1vdXNlRXZlbnQpID0+IHRoaXMuc2Nyb2xsKGUpLCB0cnVlKSxcbiAgICAgIGFkZEV2ZW50KHRoaXMud2luT3ZlcmxheS5kb2N1bWVudCwgJ21vdXNlZG93bicsIChlOk1vdXNlRXZlbnQpID0+IHRoaXMuZG93bihlKSwgdHJ1ZSksXG4gICAgICBhZGRFdmVudCh0aGlzLndpbk92ZXJsYXkuZG9jdW1lbnQsICdtb3VzZXVwJywgKGU6TW91c2VFdmVudCkgPT4gdGhpcy51cChlKSwgdHJ1ZSksXG4gICAgICBhZGRFdmVudCh0aGlzLndpbk92ZXJsYXkuZG9jdW1lbnQsICdtb3VzZW1vdmUnLCAoZTpNb3VzZUV2ZW50KSA9PiB0aGlzLm1vdmUoZSksIHRydWUpLFxuXG4gICAgICAvLyBldmVudHMgZnJvbSBvdXRzaWRlIG9mIHRoZSBpZnJhbWVcbiAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAnbW91c2V1cCcsIChlOk1vdXNlRXZlbnQpID0+IHRoaXMudXBPdXQoZSksIHRydWUpLFxuICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCAoZTpNb3VzZUV2ZW50KSA9PiB0aGlzLm1vdmVPdXQoZSksIHRydWUpLFxuICAgICk7XG4gIH1cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZUFsbDogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgY2xlYW51cCgpIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlQWxsLmZvckVhY2godSA9PiB1KCkpO1xuICB9XG4gIC8qKlxuICAgKiBzYWZlIHN1YnNjcmliZSB0byBtb3VzZSBldmVudFxuICAgKiBoYW5kbGUgdGhlIG11bHRpcGxlIGlmcmFtZXMgYW5kIHRoZSBjdXJyZW50IHdpbmRvd1xuICAgKiBAcmV0dXJuIGZ1bmN0aW9uIHRvIGNhbGwgdG8gdW5zdWJzY3JpYmVcbiAgICovXG4gIHN1YnNjcmliZU1vdXNlRXZlbnQodHlwZSwgY2JrKTogKCkgPT4gdm9pZCB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmVBcnJheSA9IFtcbiAgICAgIGFkZEV2ZW50KHRoaXMud2luT3ZlcmxheSwgdHlwZSwgKGU6TW91c2VFdmVudCkgPT4gY2JrKGUpLCB0cnVlKSxcbiAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCB0eXBlLCAoZTpNb3VzZUV2ZW50KSA9PiBjYmsoZSksIHRydWUpLFxuICAgIF07XG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlQXJyYXkuZm9yRWFjaCh1ID0+IHUoKSk7XG4gIH1cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHNjcm9sbChlOiBNb3VzZUV2ZW50KSB7XG4gICAgY29uc3Qgc2Nyb2xsID0gRG9tTWV0cmljcy5nZXRTY3JvbGwodGhpcy53aW5PdmVybGF5LmRvY3VtZW50KTtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKE1vdXNlU3RhdGUuc2V0U2Nyb2xsKHNjcm9sbCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclRpbWVvdXQ6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgZmlyc3RPbkRvd25Nb3VzZURhdGE6IHR5cGVzLk1vdXNlRGF0YTtcbiAgZG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgaWYoIXRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51aS5jYXRjaGluZ0V2ZW50cykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAvLyBpbiBmaXJlZm94LCB0aGlzIGlzIG5lZWRlZCB0byBrZWVwIHJlY2lldmluZyBldmVudHMgd2hpbGUgZHJhZ2dpbmcgb3V0c2lkZSB0aGUgaWZyYW1lXG4gICAgICAvLyBpbiBjaHJvbWUgdGhpcyB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICBlLnRhcmdldFsnc2V0Q2FwdHVyZSddKCk7XG4gICAgfVxuICAgIGNhdGNoKGUpIHt9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IGRlZmF1bHQgdGV4dCBzZWxlY3Rpb25cbiAgICBjb25zdCBtb3VzZURhdGEgPSB0aGlzLmV2ZW50VG9Nb3VzZURhdGEoZSk7XG4gICAgaWYodGhpcy5tb3VzZU1vZGUgPT09IE1vdXNlTW9kZS5XQUlUSU5HX0RCTF9DTElDS19VUCkge1xuICAgICAgdGhpcy5tb3VzZU1vZGUgPSBNb3VzZU1vZGUuV0FJVElOR19EQkxfQ0xJQ0tfRE9XTjI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMubW91c2VNb2RlID09PSBNb3VzZU1vZGUuRFJBR0dJTkcpIHtcbiAgICAgIC8vIHRoaXMgaGFwcGVucyB3aGVuIGZvcmNpbmcgZHJhZy9kcm9wIHdpdGggU3RhZ2U6OnN0YXJ0RHJhZ1xuICAgICAgdGhpcy5tb3VzZU1vZGUgPSBNb3VzZU1vZGUuVVA7XG4gICAgICB0aGlzLm9uRHJvcChtb3VzZURhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubW91c2VNb2RlID0gTW91c2VNb2RlLldBSVRJTkdfREJMX0NMSUNLX0RPV047XG4gICAgICB0aGlzLmZpcnN0T25Eb3duTW91c2VEYXRhID0gbW91c2VEYXRhO1xuICAgICAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYodGhpcy5tb3VzZU1vZGUgPT09IE1vdXNlTW9kZS5XQUlUSU5HX0RCTF9DTElDS19ET1dOKSB7XG4gICAgICAgICAgdGhpcy5tb3VzZU1vZGUgPSBNb3VzZU1vZGUuRE9XTjtcbiAgICAgICAgICB0aGlzLmZpcnN0T25Eb3duTW91c2VEYXRhID0gbnVsbDtcbiAgICAgICAgICB0aGlzLm9uRG93bihtb3VzZURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYodGhpcy5tb3VzZU1vZGUgPT09IE1vdXNlTW9kZS5XQUlUSU5HX0RCTF9DTElDS19VUCkge1xuICAgICAgICAgIHRoaXMubW91c2VNb2RlID0gTW91c2VNb2RlLkRPV047XG4gICAgICAgICAgdGhpcy5maXJzdE9uRG93bk1vdXNlRGF0YSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5vbkRvd24obW91c2VEYXRhKTtcbiAgICAgICAgICB0aGlzLm1vdXNlTW9kZSA9IE1vdXNlTW9kZS5VUDtcbiAgICAgICAgICB0aGlzLm9uVXAobW91c2VEYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICAgIHRoaXMuY2xlYXJUaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICB0aGlzLmNsZWFyVGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHVwKGU6IE1vdXNlRXZlbnQsIG9mZnNldDogQ2xpZW50UmVjdCA9IG51bGwpIHtcbiAgICBpZighdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnVpLmNhdGNoaW5nRXZlbnRzKSByZXR1cm47XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbW91c2VEYXRhID0gdGhpcy5ldmVudFRvTW91c2VEYXRhKGUsIG9mZnNldCk7XG4gICAgaWYodGhpcy5tb3VzZU1vZGUgPT09IE1vdXNlTW9kZS5XQUlUSU5HX0RCTF9DTElDS19ET1dOKSB7XG4gICAgICB0aGlzLm1vdXNlTW9kZSA9IE1vdXNlTW9kZS5XQUlUSU5HX0RCTF9DTElDS19VUDtcbiAgICB9XG4gICAgZWxzZSBpZih0aGlzLm1vdXNlTW9kZSA9PT0gTW91c2VNb2RlLldBSVRJTkdfREJMX0NMSUNLX0RPV04yKSB7XG4gICAgICB0aGlzLmNsZWFyVGltZW91dCgpO1xuICAgICAgdGhpcy5tb3VzZU1vZGUgPSBNb3VzZU1vZGUuVVA7XG4gICAgICB0aGlzLm9uRGJsQ2xpY2sobW91c2VEYXRhKTtcbiAgICB9XG4gICAgZWxzZSBpZih0aGlzLm1vdXNlTW9kZSA9PT0gTW91c2VNb2RlLkRPV04pIHtcbiAgICAgIHRoaXMubW91c2VNb2RlID0gTW91c2VNb2RlLlVQO1xuICAgICAgdGhpcy5vblVwKG1vdXNlRGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMubW91c2VNb2RlID09PSBNb3VzZU1vZGUuRFJBR0dJTkcpIHtcbiAgICAgIHRoaXMubW91c2VNb2RlID0gTW91c2VNb2RlLlVQO1xuICAgICAgdGhpcy5vbkRyb3AobW91c2VEYXRhKTtcbiAgICB9XG4gIH1cbiAgbW92ZShlOiBNb3VzZUV2ZW50LCBvZmZzZXQ6IENsaWVudFJlY3QgPSBudWxsKSB7XG4gICAgaWYoIXRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51aS5jYXRjaGluZ0V2ZW50cykgcmV0dXJuO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG1vdXNlRGF0YSA9IHRoaXMuZXZlbnRUb01vdXNlRGF0YShlLCBvZmZzZXQpO1xuXG4gICAgLy8gdXBkYXRlIG1vdXNlIGRhdGFcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKE1vdXNlU3RhdGUuc2V0TW91c2VEYXRhKG1vdXNlRGF0YSkpO1xuXG4gICAgLy8gdXBkYXRlIGhvdmVyZWQgc3RhdGVcbiAgICAvLyBvbmUgY291bGQgdXNlIHRoZSBzdG9yZS5nZXRTdGF0ZSgpLm1vdXNlU3RhdGUubW91c2VEYXRhLmhvdmVyZWRcbiAgICAvLyBidXQgdGhlIGNoYW5nZSBldmVudCBpcyB1c2VkIGJ5IHRoZSBVaS50cyB0byBkZXRlY3QgdGhhdCBhIGJveCBzaG91bGQgY2hhbmdlXG4gICAgY29uc3QgdXBkYXRlZCA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlc1xuICAgICAgLmZpbHRlcigoc3RhdGUpID0+IHN0YXRlLmhvdmVyZWQgIT09IG1vdXNlRGF0YS5ob3ZlcmVkLmluY2x1ZGVzKHN0YXRlLmVsKSk7XG4gICAgaWYgKHVwZGF0ZWQubGVuZ3RoID4gMCkgeyBcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXBkYXRlU2VsZWN0YWJsZXModXBkYXRlZFxuICAgICAgICAubWFwKChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBob3ZlcmVkOiBtb3VzZURhdGEuaG92ZXJlZC5pbmNsdWRlcyhzdGF0ZS5lbCksXG4gICAgICAgIH0pKSkpXG4gICAgfVxuXG4gICAgLy8gY2hvc2UgYWN0aW9uIGRlcGVuZGluZyBvbiBwb3NpdGlvbiBhbmQgc3RhdGVcbiAgICBzd2l0Y2godGhpcy5tb3VzZU1vZGUpIHtcbiAgICAgIGNhc2UgTW91c2VNb2RlLldBSVRJTkdfREJMX0NMSUNLX1VQOlxuICAgICAgICB0aGlzLm1vdXNlTW9kZSA9IE1vdXNlTW9kZS5ET1dOO1xuICAgICAgICB0aGlzLm9uRG93bih0aGlzLmZpcnN0T25Eb3duTW91c2VEYXRhKTtcbiAgICAgICAgdGhpcy5tb3VzZU1vZGUgPSBNb3VzZU1vZGUuVVA7XG4gICAgICAgIHRoaXMub25VcCh0aGlzLmZpcnN0T25Eb3duTW91c2VEYXRhKTtcbiAgICAgICAgdGhpcy5vbk1vdmUobW91c2VEYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1vdXNlTW9kZS5XQUlUSU5HX0RCTF9DTElDS19ET1dOOlxuICAgICAgY2FzZSBNb3VzZU1vZGUuV0FJVElOR19EQkxfQ0xJQ0tfRE9XTjI6XG4gICAgICAgIHRoaXMubW91c2VNb2RlID0gTW91c2VNb2RlLkRPV047XG4gICAgICAgIHRoaXMub25Eb3duKHRoaXMuZmlyc3RPbkRvd25Nb3VzZURhdGEpO1xuICAgICAgICAvLyBubyBicmVhazsgaGVyZVxuICAgICAgY2FzZSBNb3VzZU1vZGUuRE9XTjpcbiAgICAgICAgdGhpcy5tb3VzZU1vZGUgPSBNb3VzZU1vZGUuRFJBR0dJTkc7XG4gICAgICAgIHRoaXMub25TdGFydERyYWcobW91c2VEYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE1vdXNlTW9kZS5EUkFHR0lORzpcbiAgICAgICAgdGhpcy5vbkRyYWcobW91c2VEYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgIHRoaXMub25Nb3ZlKG1vdXNlRGF0YSk7XG4gICAgfVxuICAgIHRoaXMuZmlyc3RPbkRvd25Nb3VzZURhdGEgPSBudWxsO1xuICB9XG5cbiAgdXBPdXQoZTogTW91c2VFdmVudCkge1xuICAgIGlmKHRoaXMubW91c2VNb2RlICE9PSBNb3VzZU1vZGUuVVApIHtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMud2luT3ZlcmxheS5mcmFtZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLnVwKGUsIGlmcmFtZSk7XG4gICAgfVxuICB9XG4gIG1vdmVPdXQoZTogTW91c2VFdmVudCkge1xuICAgIGlmKHRoaXMubW91c2VNb2RlICE9PSBNb3VzZU1vZGUuVVApIHtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMud2luT3ZlcmxheS5mcmFtZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLm1vdmUoZSwgaWZyYW1lKTtcbiAgICB9XG4gIH1cblxuICBldmVudFRvTW91c2VEYXRhKGU6IE1vdXNlRXZlbnQsIG9mZnNldDogQ2xpZW50UmVjdCA9IG51bGwpOiB0eXBlcy5Nb3VzZURhdGEge1xuICAgIGNvbnN0IHggPSBlLmNsaWVudFggLSAob2Zmc2V0ID8gb2Zmc2V0LmxlZnQgOiAwKTtcbiAgICBjb25zdCB5ID0gZS5jbGllbnRZIC0gKG9mZnNldCA/IG9mZnNldC50b3AgOiAwKTtcbiAgICBjb25zdCBob3ZlcmVkID0gRG9tTWV0cmljcy5maW5kU2VsZWN0YWJsZVVuZGVyTW91c2UodGhpcy53aW5TdGFnZS5kb2N1bWVudCwgdGhpcy5zdG9yZSwgeCwgeSkgYXMgSFRNTEVsZW1lbnRbXTtcbiAgICBjb25zdCB0YXJnZXQgPSAhIWhvdmVyZWQgPyBob3ZlcmVkWzBdIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgbW92ZW1lbnRYOiBlLm1vdmVtZW50WCxcbiAgICAgIG1vdmVtZW50WTogZS5tb3ZlbWVudFksXG4gICAgICBtb3VzZVg6IHgsXG4gICAgICBtb3VzZVk6IHksXG4gICAgICBzaGlmdEtleTogZS5zaGlmdEtleSxcbiAgICAgIHRhcmdldCxcbiAgICAgIGhvdmVyZWQsXG4gICAgfTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBvbkRibENsaWNrKG1vdXNlRGF0YTogdHlwZXMuTW91c2VEYXRhKSB7XG4gICAgY29uc3Qge3RhcmdldCwgc2hpZnRLZXl9ID0gbW91c2VEYXRhO1xuICAgIGNvbnN0IHNlbGVjdGFibGUgPSBEb21NZXRyaWNzLmdldFNlbGVjdGFibGUodGhpcy5zdG9yZSwgdGFyZ2V0IGFzIEhUTUxFbGVtZW50KTtcbiAgICBpZihzaGlmdEtleSkge1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChTZWxlY3Rpb25BY3Rpb24uYWRkKHNlbGVjdGFibGUpKTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RhYmxlKSB7XG4gICAgICBpZighc2VsZWN0YWJsZS5zZWxlY3RlZCkge1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFNlbGVjdGlvbkFjdGlvbi5zZXQoW3NlbGVjdGFibGVdKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmKHRoaXMuaG9va3Mub25FZGl0KSB0aGlzLmhvb2tzLm9uRWRpdCgpO1xuICB9XG5cbiAgb25Eb3duKG1vdXNlRGF0YTogdHlwZXMuTW91c2VEYXRhKSB7XG4gICAgY29uc3Qge3RhcmdldCwgc2hpZnRLZXl9ID0gbW91c2VEYXRhO1xuICAgIGNvbnN0IHNlbGVjdGFibGUgPSBEb21NZXRyaWNzLmdldFNlbGVjdGFibGUodGhpcy5zdG9yZSwgdGFyZ2V0IGFzIEhUTUxFbGVtZW50KTtcbiAgICBpZihzZWxlY3RhYmxlICYmIHNlbGVjdGFibGUuc2VsZWN0YWJsZSkge1xuICAgICAgdGhpcy53YXNNdWx0aVNlbGVjdGVkID0gRG9tTWV0cmljcy5nZXRTZWxlY3Rpb24odGhpcy5zdG9yZSkubGVuZ3RoID4gMSAmJiBzZWxlY3RhYmxlLnNlbGVjdGVkO1xuICAgICAgaWYodGhpcy53YXNNdWx0aVNlbGVjdGVkIHx8IHNoaWZ0S2V5KSB7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goU2VsZWN0aW9uQWN0aW9uLmFkZChzZWxlY3RhYmxlKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChTZWxlY3Rpb25BY3Rpb24uc2V0KFtzZWxlY3RhYmxlXSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMud2FzTXVsdGlTZWxlY3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgb25VcChtb3VzZURhdGE6IHR5cGVzLk1vdXNlRGF0YSkge1xuICAgIGNvbnN0IHt0YXJnZXQsIHNoaWZ0S2V5fSA9IG1vdXNlRGF0YTtcbiAgICBjb25zdCBzZWxlY3RhYmxlID0gRG9tTWV0cmljcy5nZXRTZWxlY3RhYmxlKHRoaXMuc3RvcmUsIHRhcmdldCBhcyBIVE1MRWxlbWVudCk7XG4gICAgaWYoc2VsZWN0YWJsZSAmJiBzZWxlY3RhYmxlLnNlbGVjdGFibGUpIHtcbiAgICAgIGlmKHNoaWZ0S2V5KSB7XG4gICAgICAgIGlmKHRoaXMud2FzTXVsdGlTZWxlY3RlZCAmJiBzZWxlY3RhYmxlLnNlbGVjdGVkKSB7XG4gICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChTZWxlY3Rpb25BY3Rpb24ucmVtb3ZlKHNlbGVjdGFibGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goU2VsZWN0aW9uQWN0aW9uLnNldChbc2VsZWN0YWJsZV0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZighc2hpZnRLZXkpIHtcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goU2VsZWN0aW9uQWN0aW9uLnJlc2V0KCkpO1xuICAgIH1cbiAgICB0aGlzLndhc011bHRpU2VsZWN0ZWQgPSBmYWxzZTtcbiAgfVxuXG5cbiAgb25Nb3ZlKG1vdXNlRGF0YTogdHlwZXMuTW91c2VEYXRhKSB7XG4gICAgY29uc3Qge21vdXNlWCwgbW91c2VZLCB0YXJnZXR9ID0gbW91c2VEYXRhO1xuICAgIGNvbnN0IHNlbGVjdGFibGUgPSBEb21NZXRyaWNzLmdldFNlbGVjdGFibGUodGhpcy5zdG9yZSwgdGFyZ2V0IGFzIEhUTUxFbGVtZW50KTtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKE1vdXNlU3RhdGUuc2V0Q3Vyc29yRGF0YShEb21NZXRyaWNzLmdldEN1cnNvckRhdGEobW91c2VYLCBtb3VzZVksIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5tb3VzZS5zY3JvbGxEYXRhLCBzZWxlY3RhYmxlKSkpO1xuICB9XG5cblxuICBvbkRyYWcobW91c2VEYXRhOiB0eXBlcy5Nb3VzZURhdGEpIHtcbiAgfVxuXG4gIG9uU3RhcnREcmFnKG1vdXNlRGF0YTogdHlwZXMuTW91c2VEYXRhKSB7XG4gICAgLy8gZHJhdyBvciByZXNpemUgb3IgbW92ZVxuICAgIGNvbnN0IHNlbGVjdGFibGUgPSBEb21NZXRyaWNzLmdldFNlbGVjdGFibGUodGhpcy5zdG9yZSwgbW91c2VEYXRhLnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XG4gICAgaWYoc2VsZWN0YWJsZSkge1xuICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLm1vdXNlLmN1cnNvckRhdGE7XG4gICAgICAvLyBzdGFydCByZXNpemVcbiAgICAgIGlmKERvbU1ldHJpY3MuaXNSZXNpemVhYmxlKHNlbGVjdGFibGUucmVzaXplYWJsZSwgZGlyZWN0aW9uKSkge1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFVpU3RhdGUuc2V0TW9kZSh0eXBlcy5VaU1vZGUuUkVTSVpFKSk7XG4gICAgICB9XG4gICAgICAvLyBzdGFydCBkcmFnXG4gICAgICBlbHNlIGlmKHNlbGVjdGFibGUuZHJhZ2dhYmxlKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goVWlTdGF0ZS5zZXRNb2RlKHR5cGVzLlVpTW9kZS5EUkFHKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChVaVN0YXRlLnNldE1vZGUodHlwZXMuVWlNb2RlLkRSQVcpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFVpU3RhdGUuc2V0TW9kZSh0eXBlcy5VaU1vZGUuRFJBVykpO1xuICAgIH1cbiAgfVxuXG4gIG9uRHJvcChtb3VzZURhdGE6IHR5cGVzLk1vdXNlRGF0YSkge1xuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goVWlTdGF0ZS5zZXRNb2RlKHR5cGVzLlVpTW9kZS5OT05FKSk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIERvbU1ldHJpY3MgZnJvbSAnLi4vdXRpbHMvRG9tTWV0cmljcyc7XG5pbXBvcnQge1N0YWdlU3RvcmV9IGZyb20gJy4uL2ZsdXgvU3RhZ2VTdG9yZSc7XG5pbXBvcnQgeyBTZWxlY3RhYmxlU3RhdGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQGNsYXNzIFRoaXMgY2xhc3MgbGlzdGVucyB0byB0aGUgc3RvcmVcbiAqICAgYW5kIGFwcGx5IHRoZSBzdGF0ZSBjaGFuZ2VzIHRvIHRoZSBET00gZWxlbWVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFNlbGVjdGFibGVzT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YWdlRG9jdW1lbnQ6IEhUTUxEb2N1bWVudCwgcHJpdmF0ZSBvdmVybGF5RG9jdW1lbnQ6IEhUTUxEb2N1bWVudCwgcHJpdmF0ZSBzdG9yZTogU3RhZ2VTdG9yZSwgcHJpdmF0ZSBob29rczogdHlwZXMuSG9va3MpIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlQWxsLnB1c2goXG4gICAgICBzdG9yZS5zdWJzY3JpYmUoXG4gICAgICAgIChzdGF0ZTogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPiwgcHJldlN0YXRlOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+KSA9PiB0aGlzLm9uU3RhdGVDaGFuZ2VkKHN0YXRlLCBwcmV2U3RhdGUpLFxuICAgICAgICAoc3RhdGU6dHlwZXMuU3RhdGUpID0+IHN0YXRlLnNlbGVjdGFibGVzXG4gICAgICApLFxuICAgICAgc3RvcmUuc3Vic2NyaWJlKFxuICAgICAgICAoc3RhdGU6IHR5cGVzLlVpU3RhdGUsIHByZXZTdGF0ZTogdHlwZXMuVWlTdGF0ZSkgPT4gdGhpcy5vblVpQ2hhbmdlZChzdGF0ZSwgcHJldlN0YXRlKSxcbiAgICAgICAgKHN0YXRlOnR5cGVzLlN0YXRlKSA9PiBzdGF0ZS51aVxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1JlZnJlc2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBzdGF0ZTogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPiA9IFtdXG4gIHByaXZhdGUgcHJldlN0YXRlOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+ID0gW11cbiAgb25VaUNoYW5nZWQoc3RhdGU6IHR5cGVzLlVpU3RhdGUsIHByZXZTdGF0ZTogdHlwZXMuVWlTdGF0ZSkge1xuICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gc3RhdGUucmVmcmVzaGluZztcbiAgICAvLyAvLyB1cGRhdGUgYWZ0ZXIgcmVmcmVzaCAoYnVnIGJlY2F1c2UgaXNSZWZyZXNoaW5nIGlzIHR1cm5lZCBvbiBhbmQgb2ZmIG1hbnkgdGltZXMpXG4gICAgLy8gaWYgKHN0YXRlLnJlZnJlc2hpbmcgIT09IHByZXZTdGF0ZS5yZWZyZXNoaW5nICYmIHN0YXRlLnJlZnJlc2hpbmcgPT09IGZhbHNlKSB7XG4gICAgLy8gICB0aGlzLm9uU3RhdGVDaGFuZ2VkKHRoaXMuc3RhdGUsIHRoaXMucHJldlN0YXRlKVxuICAgIC8vIH1cbiAgfVxuXG4gIHByaXZhdGUgdW5zdWJzY3JpYmVBbGw6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIGNsZWFudXAoKSB7XG4gICAgdGhpcy51bnN1YnNjcmliZUFsbC5mb3JFYWNoKHUgPT4gdSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBoYW5kbGUgc3RhdGUgY2hhbmdlcywgZGV0ZWN0IGNoYW5nZXMgb2Ygc2Nyb2xsIG9yIG1ldHJpY3Mgb3Igc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7U3RhdGV9IHN0YXRlXG4gICAqIEBwYXJhbSB7U3RhdGV9IHByZXZTdGF0ZSB0aGUgb2xkIHN0YXRlIG9ialxuICAgKi9cbiAgb25TdGF0ZUNoYW5nZWQoc3RhdGU6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4gPSB0aGlzLnN0YXRlLCBwcmV2U3RhdGU6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4gPSB0aGlzLnByZXZTdGF0ZSkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZVxuICAgIGlmKCF0aGlzLmlzUmVmcmVzaGluZykge1xuICAgICAgdGhpcy5wcmV2U3RhdGUgPSBwcmV2U3RhdGVcbiAgICAgIC8vIHNlbGVjdCBzZWxlY3RhYmxlcyB3aGljaCBoYXZlIGNoYW5nZWRcbiAgICAgIGNvbnN0IGZpbHRlckJ5ID0gKHByb3BOYW1lLCBzZWxlY3RhYmxlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFNlbGVjdGFibGUgPSBwcmV2U3RhdGUuZmluZChvbGQgPT4gc2VsZWN0YWJsZS5lbCA9PT0gb2xkLmVsKTtcbiAgICAgICAgLy8gRklYTUU6IHVzZSBKU09OLnN0cmluZ2lmeSB0byBjb21wYXJlP1xuICAgICAgICByZXR1cm4gIW9sZFNlbGVjdGFibGUgfHwgSlNPTi5zdHJpbmdpZnkob2xkU2VsZWN0YWJsZVtwcm9wTmFtZV0pICE9PSBKU09OLnN0cmluZ2lmeShzZWxlY3RhYmxlW3Byb3BOYW1lXSk7XG4gICAgICAgIC8vIHJldHVybiAhb2xkU2VsZWN0YWJsZSB8fCBvbGRTZWxlY3RhYmxlW3Byb3BOYW1lXSAhPT0gc2VsZWN0YWJsZVtwcm9wTmFtZV07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlbW92ZWQgPSBwcmV2U3RhdGUuZmlsdGVyKHMgPT4gIXN0YXRlLmZpbmQoczIgPT4gczIuZWwgPT09IHMuZWwpKTtcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBzdGF0ZS5maWx0ZXIoc2VsZWN0YWJsZSA9PiBmaWx0ZXJCeSgnbWV0cmljcycsIHNlbGVjdGFibGUpKTtcbiAgICAgIGlmKHJlbW92ZWQubGVuZ3RoICsgbWV0cmljcy5sZW5ndGggPiAwKSB0aGlzLm9uTWV0cmljcyhtZXRyaWNzLCByZW1vdmVkKTtcblxuICAgICAgY29uc3Qgc2VsZWN0aW9uID0gc3RhdGUuZmlsdGVyKHNlbGVjdGFibGUgPT4gZmlsdGVyQnkoJ3NlbGVjdGVkJywgc2VsZWN0YWJsZSkpO1xuICAgICAgaWYoc2VsZWN0aW9uLmxlbmd0aCA+IDApIHRoaXMub25TZWxlY3Rpb24oc2VsZWN0aW9uKTtcblxuICAgICAgLy8gY29uc3QgZHJhZ2dhYmxlID0gc3RhdGUuZmlsdGVyKHNlbGVjdGFibGUgPT4gZmlsdGVyQnkoJ2RyYWdnYWJsZScsIHNlbGVjdGFibGUpKTtcbiAgICAgIC8vIGlmKGRyYWdnYWJsZS5sZW5ndGggPiAwKSB0aGlzLm9uRHJhZ2dhYmxlKGRyYWdnYWJsZSk7XG5cbiAgICAgIC8vIGNvbnN0IHJlc2l6ZWFibGUgPSBzdGF0ZS5maWx0ZXIoc2VsZWN0YWJsZSA9PiBmaWx0ZXJCeSgncmVzaXplYWJsZScsIHNlbGVjdGFibGUpKTtcbiAgICAgIC8vIGlmKHJlc2l6ZWFibGUubGVuZ3RoID4gMCkgdGhpcy5vblJlc2l6ZWFibGUocmVzaXplYWJsZSk7XG5cbiAgICAgIC8vIGNvbnN0IGlzRHJvcFpvbmUgPSBzdGF0ZS5maWx0ZXIoc2VsZWN0YWJsZSA9PiBmaWx0ZXJCeSgnaXNEcm9wWm9uZScsIHNlbGVjdGFibGUpKTtcbiAgICAgIC8vIGlmKGlzRHJvcFpvbmUubGVuZ3RoID4gMCkgdGhpcy5vbkRyb3Bab25lKGlzRHJvcFpvbmUpO1xuXG4gICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHN0YXRlLmZpbHRlcihzZWxlY3RhYmxlID0+IGZpbHRlckJ5KCd0cmFuc2xhdGlvbicsIHNlbGVjdGFibGUpKTtcbiAgICAgIGlmKHRyYW5zbGF0aW9uLmxlbmd0aCA+IDApIHRoaXMub25UcmFuc2xhdGlvbih0cmFuc2xhdGlvbik7XG4gICAgfVxuICB9XG4gIC8vIHVwZGF0ZSBlbGVtZW50cyBwb3NpdGlvbiBhbmQgc2l6ZVxuICBvbk1ldHJpY3Moc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4sIHJlbW92ZWQ6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4pIHtcbiAgICAgIHNlbGVjdGFibGVzLmZvckVhY2goc2VsZWN0YWJsZSA9PiB7XG4gICAgICAgIC8vIHdoaWxlIGJlaW5nIGRyYWdnZWQsIGVsZW1lbnRzIGFyZSBvdXQgb2YgdGhlIGZsb3csIGRvIG5vdCBhcHBseSBzdHlsZXNcbiAgICAgICAgaWYoIXNlbGVjdGFibGUucHJldmVudE1ldHJpY3MpIHtcbiAgICAgICAgICBEb21NZXRyaWNzLnNldE1ldHJpY3Moc2VsZWN0YWJsZS5lbCwgc2VsZWN0YWJsZS5tZXRyaWNzLCBzZWxlY3RhYmxlLnVzZU1pbkhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gbm90aWZ5IHRoZSBhcHBcbiAgICAgIGlmKHRoaXMuaG9va3Mub25DaGFuZ2UpIHRoaXMuaG9va3Mub25DaGFuZ2Uoc2VsZWN0YWJsZXMuY29uY2F0KHJlbW92ZWQpKTtcbiAgfVxuICBvblNlbGVjdGlvbihzZWxlY3RhYmxlczogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPikge1xuICAgIC8vIG5vdGlmeSB0aGUgYXBwXG4gICAgaWYodGhpcy5ob29rcy5vblNlbGVjdCkgdGhpcy5ob29rcy5vblNlbGVjdChzZWxlY3RhYmxlcyk7XG4gIH1cbiAgLy8gb25EcmFnZ2FibGUoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4pIHt9XG4gIC8vIG9uUmVzaXplYWJsZShzZWxlY3RhYmxlczogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPikge31cbiAgLy8gb25Ecm9wWm9uZShzZWxlY3RhYmxlczogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPikge31cbiAgb25UcmFuc2xhdGlvbihzZWxlY3RhYmxlczogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPikge1xuICAgIHNlbGVjdGFibGVzLmZvckVhY2goc2VsZWN0YWJsZSA9PiB7XG4gICAgICBpZighIXNlbGVjdGFibGUudHJhbnNsYXRpb24pIHtcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7c2VsZWN0YWJsZS50cmFuc2xhdGlvbi54fXB4LCAke3NlbGVjdGFibGUudHJhbnNsYXRpb24ueX1weClgO1xuICAgICAgICBzZWxlY3RhYmxlLmVsLnN0eWxlLnpJbmRleCA9ICc5OTk5OTk5OSc7XG4gICAgICAgIGlmKHNlbGVjdGFibGUubWV0cmljcy5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgICBzZWxlY3RhYmxlLmVsLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgICBzZWxlY3RhYmxlLmVsLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWxlY3RhYmxlLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBzZWxlY3RhYmxlLmVsLnN0eWxlLnpJbmRleCA9ICcnO1xuICAgICAgICBzZWxlY3RhYmxlLmVsLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7U3RhZ2VTdG9yZX0gZnJvbSAnLi4vZmx1eC9TdGFnZVN0b3JlJztcbmltcG9ydCB7IFNlbGVjdGFibGVTdGF0ZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uL1R5cGVzJztcblxuZGVjbGFyZSBjbGFzcyBSZXNpemVPYnNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKG9uQ2hhbmdlZDogYW55KTtcbiAgb2JzZXJ2ZTogYW55O1xuICBkaXNjb25uZWN0OiBhbnk7XG4gIHRha2VSZWNvcmRzOiBhbnk7XG59O1xuXG4vLyBkb20gb2JzZXJ2ZXJzIGluc3RhbmNlcywgZXhwb3NlZCBmb3IgdW5pdCB0ZXN0c1xuZXhwb3J0IGNvbnN0IGRvbU9ic2VydmVycyA9IG5ldyBNYXA8SFRNTEVsZW1lbnQsIHttdXRhdGlvbk9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyLCByZXNpemVPYnNlcnZlcjogUmVzaXplT2JzZXJ2ZXJ9PigpO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREb21PYnNlcnZlcnMoZWxlbWVudHMsIG9uQ2hhbmdlZCkge1xuICByZXNldERvbU9ic2VydmVycygpO1xuICBlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gYWRkRG9tT2JzZXJ2ZXIoZWwsIG9uQ2hhbmdlZCkpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RG9tT2JzZXJ2ZXJzKCkge1xuICBBcnJheS5mcm9tKGRvbU9ic2VydmVycy5rZXlzKCkpXG4gIC5mb3JFYWNoKChlbCkgPT4gcmVtb3ZlRG9tT2JzZXJ2ZXIoZWwpKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGREb21PYnNlcnZlcihlbDogSFRNTEVsZW1lbnQsIG9uQ2hhbmdlZDogKGVudHJpZXM6IEFycmF5PGFueT4pID0+IHZvaWQpIHtcbiAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc2l6ZU9ic2VydmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLiBUaGUgZHJhZyBhbmQgZHJvcCBmZWF0dXJlcyB3aWxsIG5vdCB3b3JrIHByb3Blcmx5Jyk7XG4gIH1cbiAgaWYgKGRvbU9ic2VydmVycy5oYXMoZWwpKSB7XG4gICAgcmVtb3ZlRG9tT2JzZXJ2ZXIoZWwpO1xuICB9XG4gIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKG9uQ2hhbmdlZCk7XG4gIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWwsIHt9KTtcblxuICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIob25DaGFuZ2VkKTtcbiAgLy8gRklYTUU6IG11dGF0aW9uIG9ic2VydmVyIGlzIGRpc2FibGVkID0+IHJlbW92ZSB1c2VsZXNzIG11dGF0aW9uT2JzZXJ2ZXJcbiAgLy8gbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGVsLCB7XG4gIC8vICAgc3VidHJlZTogdHJ1ZSxcbiAgLy8gICBjaGlsZExpc3Q6IHRydWUsXG4gIC8vICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgLy8gICBhdHRyaWJ1dGVPbGRWYWx1ZTogZmFsc2UsXG4gIC8vICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgLy8gICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IGZhbHNlLFxuICAvLyB9KTtcblxuICBkb21PYnNlcnZlcnMuc2V0KGVsLCB7bXV0YXRpb25PYnNlcnZlciwgcmVzaXplT2JzZXJ2ZXJ9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEb21PYnNlcnZlcihlbDogSFRNTEVsZW1lbnQpIHtcbiAgaWYgKGRvbU9ic2VydmVycy5oYXMoZWwpKSB7XG4gICAgY29uc3Qge211dGF0aW9uT2JzZXJ2ZXIsIHJlc2l6ZU9ic2VydmVyfSA9IGRvbU9ic2VydmVycy5nZXQoZWwpO1xuICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICBtdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICBtdXRhdGlvbk9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gICAgZG9tT2JzZXJ2ZXJzLmRlbGV0ZShlbCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdET00gb2JzZXJ2ZXIgbm90IGZvdW5kIGZvciB0aGlzIERPTSBlbGVtZW50Jyk7XG4gIH1cbn07XG5cbi8qKlxuICogQGNsYXNzIFRoaXMgY2xhc3MgbGlzdGVucyB0byB0aGUgc3RvcmVcbiAqICAgYW5kIG9ic2VydmUgdGhlIGRvbSBlbGVtZW50cyBpbiBvcmRlciB0byBrZWVwIHRoZSBtZXRyaWNzIGluIHN5bmNcbiAqICAgdXNpbmcgTXV0YXRpb25PYnNlcnZlciBhbmQgUmVzaXplT2JzZXJ2ZXIgQVBJcyBvZiB0aGUgYnJvd3NlclxuICovXG5leHBvcnQgY2xhc3MgRG9tT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcihzdG9yZTogU3RhZ2VTdG9yZSwgcHJpdmF0ZSBjYms6IChzdGF0ZTogU2VsZWN0YWJsZVN0YXRlLCBlbnRyaWVzOiBBcnJheTxhbnk+KSA9PiB2b2lkKSB7XG4gICAgdGhpcy51bnN1YnNjcmliZUFsbC5wdXNoKFxuICAgICAgc3RvcmUuc3Vic2NyaWJlKFxuICAgICAgICAoc3RhdGU6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4sIHByZXZTdGF0ZTogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPikgPT4gdGhpcy5vblN0YXRlQ2hhbmdlZChzdGF0ZSwgcHJldlN0YXRlKSxcbiAgICAgICAgKHN0YXRlOnR5cGVzLlN0YXRlKSA9PiBzdGF0ZS5zZWxlY3RhYmxlc1xuICAgICAgKSxcbiAgICAgIHN0b3JlLnN1YnNjcmliZShcbiAgICAgICAgKHN0YXRlOiB0eXBlcy5VaVN0YXRlLCBwcmV2U3RhdGU6IHR5cGVzLlVpU3RhdGUpID0+IHRoaXMub25VaUNoYW5nZWQoc3RhdGUsIHByZXZTdGF0ZSksXG4gICAgICAgIChzdGF0ZTp0eXBlcy5TdGF0ZSkgPT4gc3RhdGUudWlcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNSZWZyZXNoaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgc3RhdGU6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4gPSBbXVxuICBwcml2YXRlIHByZXZTdGF0ZTogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPiA9IFtdXG4gIG9uVWlDaGFuZ2VkKHN0YXRlOiB0eXBlcy5VaVN0YXRlLCBwcmV2U3RhdGU6IHR5cGVzLlVpU3RhdGUpIHtcbiAgICB0aGlzLmlzUmVmcmVzaGluZyA9IHN0YXRlLnJlZnJlc2hpbmc7XG4gICAgLy8gLy8gdXBkYXRlIGFmdGVyIHJlZnJlc2ggKGJ1ZyBiZWNhdXNlIGlzUmVmcmVzaGluZyBpcyB0dXJuZWQgb24gYW5kIG9mZiBtYW55IHRpbWVzKVxuICAgIC8vIGlmIChzdGF0ZS5yZWZyZXNoaW5nICE9PSBwcmV2U3RhdGUucmVmcmVzaGluZyAmJiBzdGF0ZS5yZWZyZXNoaW5nID09PSBmYWxzZSkge1xuICAgIC8vICAgdGhpcy5vblN0YXRlQ2hhbmdlZCgpXG4gICAgLy8gfVxuICB9XG5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZUFsbDogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgY2xlYW51cCgpIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlQWxsLmZvckVhY2godSA9PiB1KCkpO1xuICAgIHJlc2V0RG9tT2JzZXJ2ZXJzKCk7XG4gIH1cblxuICBvblJlbW92ZWQoc3RhdGU6IFNlbGVjdGFibGVTdGF0ZSkge1xuICAgIHJlbW92ZURvbU9ic2VydmVyKHN0YXRlLmVsKTtcbiAgfVxuXG4gIG9uQWRkZWQoc3RhdGU6IFNlbGVjdGFibGVTdGF0ZSkge1xuICAgIGFkZERvbU9ic2VydmVyKHN0YXRlLmVsLCAoZW50cmllcykgPT4gdGhpcy5vbkNoYW5nZWQoc3RhdGUsIGVudHJpZXMpKTtcbiAgfVxuXG4gIG9uQ2hhbmdlZChzdGF0ZTogU2VsZWN0YWJsZVN0YXRlLCBlbnRyaWVzKSB7XG4gICAgdGhpcy5jYmsoc3RhdGUsIGVudHJpZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIGhhbmRsZSBzdGF0ZSBjaGFuZ2VzLCBkZXRlY3QgY2hhbmdlcyBvZiBzY3JvbGwgb3IgbWV0cmljcyBvciBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtTdGF0ZX0gc3RhdGVcbiAgICogQHBhcmFtIHtTdGF0ZX0gcHJldlN0YXRlIHRoZSBvbGQgc3RhdGUgb2JqXG4gICAqL1xuICBvblN0YXRlQ2hhbmdlZChzdGF0ZTogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPiA9IHRoaXMuc3RhdGUsIHByZXZTdGF0ZTogQXJyYXk8U2VsZWN0YWJsZVN0YXRlPiA9IHRoaXMucHJldlN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlXG4gICAgaWYoIXRoaXMuaXNSZWZyZXNoaW5nKSB7XG4gICAgICB0aGlzLnByZXZTdGF0ZSA9IHByZXZTdGF0ZVxuICAgICAgY29uc3QgYWRkZWQgPSBzdGF0ZS5maWx0ZXIocyA9PiAhcHJldlN0YXRlLmZpbmQoczIgPT4gczIuZWwgPT09IHMuZWwpKTtcbiAgICAgIGFkZGVkLmZvckVhY2goKHN0YXRlKSA9PiB0aGlzLm9uQWRkZWQoc3RhdGUpKVxuXG4gICAgICBjb25zdCByZW1vdmVkID0gcHJldlN0YXRlLmZpbHRlcihzID0+ICFzdGF0ZS5maW5kKHMyID0+IHMyLmVsID09PSBzLmVsKSk7XG4gICAgICByZW1vdmVkLmZvckVhY2goKHN0YXRlKSA9PiB0aGlzLm9uUmVtb3ZlZChzdGF0ZSkpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBEb21NZXRyaWNzIGZyb20gJy4uL3V0aWxzL0RvbU1ldHJpY3MnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHtTdGFnZVN0b3JlfSBmcm9tICcuLi9mbHV4L1N0YWdlU3RvcmUnO1xuXG4vKipcbiAqIEBjbGFzcyBUaGlzIGNsYXNzIGxpc3RlbnMgdG8gdGhlIHN0b3JlXG4gKiAgIGFuZCBhcHBseSB0aGUgc3RhdGUgY2hhbmdlcyB0byB0aGUgdmlld1xuICovXG5leHBvcnQgY2xhc3MgTW91c2VPYnNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RhZ2VEb2N1bWVudDogSFRNTERvY3VtZW50LCBwcml2YXRlIG92ZXJsYXlEb2N1bWVudDogSFRNTERvY3VtZW50LCBzdG9yZTogU3RhZ2VTdG9yZSwgcHJpdmF0ZSBob29rczogdHlwZXMuSG9va3MpIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlQWxsLnB1c2goc3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHN0YXRlOiB0eXBlcy5Nb3VzZVN0YXRlLCBwcmV2U3RhdGU6IHR5cGVzLk1vdXNlU3RhdGUpID0+IHRoaXMub25TdGF0ZUNoYW5nZWQoc3RhdGUsIHByZXZTdGF0ZSksXG4gICAgICAoc3RhdGU6dHlwZXMuU3RhdGUpID0+IHN0YXRlLm1vdXNlXG4gICAgKSk7XG4gIH1cblxuICBwcml2YXRlIHVuc3Vic2NyaWJlQWxsOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBjbGVhbnVwKCkge1xuICAgIHRoaXMudW5zdWJzY3JpYmVBbGwuZm9yRWFjaCh1ID0+IHUoKSk7XG4gIH1cblxuICAvKipcbiAgICogaGFuZGxlIHN0YXRlIGNoYW5nZXMsIGRldGVjdCBjaGFuZ2VzIG9mIHNjcm9sbCBvciBtZXRyaWNzIG9yIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge1N0YXRlfSBzdGF0ZVxuICAgKiBAcGFyYW0ge1N0YXRlfSBwcmV2U3RhdGUgdGhlIG9sZCBzdGF0ZSBvYmpcbiAgICovXG4gIG9uU3RhdGVDaGFuZ2VkKHN0YXRlOiB0eXBlcy5Nb3VzZVN0YXRlLCBwcmV2U3RhdGU6IHR5cGVzLk1vdXNlU3RhdGUpIHtcbiAgICBpZihzdGF0ZS5zY3JvbGxEYXRhLnggIT09IHByZXZTdGF0ZS5zY3JvbGxEYXRhLnggfHwgc3RhdGUuc2Nyb2xsRGF0YS55ICE9PSBwcmV2U3RhdGUuc2Nyb2xsRGF0YS55KSB7XG4gICAgICBEb21NZXRyaWNzLnNldFNjcm9sbCh0aGlzLnN0YWdlRG9jdW1lbnQsIHN0YXRlLnNjcm9sbERhdGEpO1xuICAgIH1cbiAgICAvLyB0aGlzIGlzIG5vdyBpbiBVaS50c1xuICAgIC8vIGlmKHN0YXRlLmN1cnNvckRhdGEuY3Vyc29yVHlwZSAhPT0gcHJldlN0YXRlLmN1cnNvckRhdGEuY3Vyc29yVHlwZSkge1xuICAgIC8vICAgdGhpcy5kb2MuYm9keS5zdHlsZS5jdXJzb3IgPSBzdGF0ZS5jdXJzb3JEYXRhLmN1cnNvclR5cGU7XG4gICAgLy8gfVxuICB9XG59IiwiaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgU3RhZ2VTdG9yZSB9IGZyb20gJy4uL2ZsdXgvU3RhZ2VTdG9yZSc7XG5pbXBvcnQgeyBIb29rcywgTW91c2VEYXRhLCBTZWxlY3RhYmxlU3RhdGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBtb3VzZVN0YXRlIGZyb20gJy4uL2ZsdXgvTW91c2VTdGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBNb3VzZUhhbmRsZXJCYXNlIHtcbiAgc2VsZWN0aW9uOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+O1xuICB1bnN1YnNyaWJlOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHVuc3Vic3JpYmVTY3JvbGw6ICgpID0+IHZvaWQ7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBzdGFnZURvY3VtZW50OiBIVE1MRG9jdW1lbnQsIHByaXZhdGUgb3ZlcmxheURvY3VtZW50OiBIVE1MRG9jdW1lbnQsIHByb3RlY3RlZCBzdG9yZTogU3RhZ2VTdG9yZSwgcHJvdGVjdGVkIGhvb2tzOiBIb29rcykge1xuICAgIC8vIHN0b3JlIHRoZSBzZWxlY3Rpb25cbiAgICB0aGlzLnNlbGVjdGlvbiA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0YWJsZXNcbiAgICB0aGlzLnNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcihzZWxlY3RhYmxlID0+IHNlbGVjdGFibGUuc2VsZWN0ZWQpO1xuXG4gICAgLy8ga2VwcCBpbiBzeW5jIHdpdGggbW91c2VcbiAgICB0aGlzLnVuc3Vic3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoXG4gICAgICAoc3RhdGU6IHR5cGVzLk1vdXNlU3RhdGUsIHByZXZTdGF0ZTogdHlwZXMuTW91c2VTdGF0ZSkgPT4gdGhpcy51cGRhdGUoc3RhdGUubW91c2VEYXRhKSxcbiAgICAgIChzdGF0ZTp0eXBlcy5TdGF0ZSkgPT4gc3RhdGUubW91c2VcbiAgICApO1xuXG4gICAgLy8gbGlzdGVuIGZvciBzY3JvbGxcbiAgICB0aGlzLnVuc3Vic3JpYmVTY3JvbGwgPSB0aGlzLnN0b3JlLnN1YnNjcmliZShcbiAgICAgIChjdXI6IHR5cGVzLlNjcm9sbERhdGEsIHByZXY6IHR5cGVzLlNjcm9sbERhdGEpID0+IHRoaXMub25TY3JvbGwoY3VyLCBwcmV2KSxcbiAgICAgIChzdGF0ZTogdHlwZXMuU3RhdGUpOiB0eXBlcy5TY3JvbGxEYXRhID0+IHN0YXRlLm1vdXNlLnNjcm9sbERhdGFcbiAgICApO1xuICB9XG4gIHVwZGF0ZShtb3VzZURhdGE6IE1vdXNlRGF0YSkge307XG4gIHJlbGVhc2UoKSB7XG4gICAgdGhpcy51bnN1YnNyaWJlU2Nyb2xsKCk7XG4gICAgdGhpcy51bnN1YnNyaWJlKCk7XG4gIH07XG5cblxuICAvKipcbiAgICogRGVib3VuY2UgbWVjaGFuaXNtIHRvIGhhbmRsZSBhdXRvIHNjcm9sbFxuICAgKi9cbiAgcHJpdmF0ZSBkZWJvdW5jZVNjcm9sbFBlbmRpbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSBkZWJvdW5jZVNjcm9sbERhdGE6IHR5cGVzLlNjcm9sbERhdGE7XG4gIHByb3RlY3RlZCBkZWJvdW5jZVNjcm9sbChzY3JvbGxEYXRhOiB0eXBlcy5TY3JvbGxEYXRhKSB7XG4gICAgaWYoIXRoaXMuZGVib3VuY2VTY3JvbGxQZW5kaW5nKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZVNjcm9sbFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChtb3VzZVN0YXRlLnNldFNjcm9sbCh0aGlzLmRlYm91bmNlU2Nyb2xsRGF0YSkpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gICAgdGhpcy5kZWJvdW5jZVNjcm9sbFBlbmRpbmcgPSB0cnVlO1xuICAgIHRoaXMuZGVib3VuY2VTY3JvbGxEYXRhID0gc2Nyb2xsRGF0YTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqICBtb3ZlIHRoZSBkcmFnZ2VkIGVsZW1lbnRzIGJhY2sgdW5kZXIgdGhlIG1vdXNlXG4gICAqL1xuICBvblNjcm9sbChzdGF0ZTogdHlwZXMuU2Nyb2xsRGF0YSwgcHJldjogdHlwZXMuU2Nyb2xsRGF0YSkge1xuICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgeDogc3RhdGUueCAtIHByZXYueCxcbiAgICAgIHk6IHN0YXRlLnkgLSBwcmV2LnksXG4gICAgfVxuICAgIGNvbnN0IG1vdXNlRGF0YSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5tb3VzZS5tb3VzZURhdGE7XG4gICAgLy8gbW91c2UgZGlkIG5vdCBtb3ZlIGluIHRoZSB2aWV3cG9ydCwganVzdCBpbiB0aGUgZG9jdW1lbnQgY29vcmRpbmF0ZVxuICAgIC8vIHRoZSBzZWxlY3Rpb24gbmVlZCB0byBmb2xsb3cgdGhlIG1vdXNlXG4gICAgdGhpcy51cGRhdGUoe1xuICAgICAgLi4ubW91c2VEYXRhLFxuICAgICAgbW92ZW1lbnRYOiBkZWx0YS54LFxuICAgICAgbW92ZW1lbnRZOiBkZWx0YS55LFxuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7TW91c2VIYW5kbGVyQmFzZX0gZnJvbSAnLi9Nb3VzZUhhbmRsZXJCYXNlJztcbmltcG9ydCB7IFN0YWdlU3RvcmUgfSBmcm9tICcuLi9mbHV4L1N0YWdlU3RvcmUnO1xuaW1wb3J0IHsgSG9va3MsIFNlbGVjdGFibGVTdGF0ZSwgTW91c2VEYXRhLCBDdXJzb3JEYXRhIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0ICogYXMgc2VsZWN0YWJsZVN0YXRlIGZyb20gJy4uL2ZsdXgvU2VsZWN0YWJsZVN0YXRlJ1xuaW1wb3J0ICogYXMgbW91c2VTdGF0ZSBmcm9tICcuLi9mbHV4L01vdXNlU3RhdGUnO1xuaW1wb3J0ICogYXMgZG9tTWV0cmljcyBmcm9tICcuLi91dGlscy9Eb21NZXRyaWNzJztcbmltcG9ydCB7IHNldFJlZnJlc2hpbmcgfSBmcm9tICcuLi9mbHV4L1VpU3RhdGUnO1xuaW1wb3J0IHsgTUlOX1NJWkUgfSBmcm9tICcuLi9Db25zdGFudHMnO1xuXG5leHBvcnQgY2xhc3MgUmVzaXplSGFuZGxlciBleHRlbmRzIE1vdXNlSGFuZGxlckJhc2Uge1xuICBwcml2YXRlIGN1cnNvckRhdGE6IEN1cnNvckRhdGE7XG4gIGNvbnN0cnVjdG9yKHN0YWdlRG9jdW1lbnQ6IEhUTUxEb2N1bWVudCwgb3ZlcmxheURvY3VtZW50OiBIVE1MRG9jdW1lbnQsIHN0b3JlOiBTdGFnZVN0b3JlLCBob29rczogSG9va3MpIHtcbiAgICBzdXBlcihzdGFnZURvY3VtZW50LCBvdmVybGF5RG9jdW1lbnQsIHN0b3JlLCBob29rcyk7XG5cbiAgICAvLyBkaXJlY3Rpb25cbiAgICB0aGlzLmN1cnNvckRhdGEgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkubW91c2UuY3Vyc29yRGF0YTtcblxuICAgIC8vIGtlZXAgb25seSByaXNpemVhYmxlIGVsZW1lbnRzXG4gICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIocyA9PiBkb21NZXRyaWNzLmlzUmVzaXplYWJsZShzLnJlc2l6ZWFibGUsIHRoaXMuY3Vyc29yRGF0YSkpO1xuXG4gICAgLy8gbm90aWZ5IHRoZSBhcHBcbiAgICBpZighIXRoaXMuaG9va3Mub25TdGFydFJlc2l6ZSkgdGhpcy5ob29rcy5vblN0YXJ0UmVzaXplKHRoaXMuc2VsZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgdGhlIFN0YWdlIGNsYXNzIHdoZW4gbW91c2UgbW92ZXNcbiAgICovXG4gIHVwZGF0ZShtb3VzZURhdGE6IE1vdXNlRGF0YSkge1xuICAgIHN1cGVyLnVwZGF0ZShtb3VzZURhdGEpO1xuXG4gICAgLy8gc2V0IGEgbmV3IHNpemVcbiAgICB0aGlzLnNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLm1hcCgoc2VsZWN0YWJsZTogU2VsZWN0YWJsZVN0YXRlKSA9PiB7XG4gICAgICAvLyBoYW5kbGUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgY29tcHV0YXRpb25cbiAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB7XG4gICAgICAgIC4uLnNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGVSZWN0ID0ge1xuICAgICAgICAuLi5zZWxlY3RhYmxlLm1ldHJpY3MuY29tcHV0ZWRTdHlsZVJlY3QsXG4gICAgICB9O1xuICAgICAgc3dpdGNoKHRoaXMuY3Vyc29yRGF0YS54KSB7XG4gICAgICAgIGNhc2UgJyc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIGNvbXB1dGVkU3R5bGVSZWN0LndpZHRoIC09IG1vdXNlRGF0YS5tb3ZlbWVudFg7XG4gICAgICAgICAgY2xpZW50UmVjdC53aWR0aCAtPSBtb3VzZURhdGEubW92ZW1lbnRYO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgY29tcHV0ZWRTdHlsZVJlY3Qud2lkdGggKz0gbW91c2VEYXRhLm1vdmVtZW50WDtcbiAgICAgICAgICBjbGllbnRSZWN0LndpZHRoICs9IG1vdXNlRGF0YS5tb3ZlbWVudFg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5rbm93biBkaXJlY3Rpb24gJyArIHRoaXMuY3Vyc29yRGF0YS54KTtcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuY3Vyc29yRGF0YS55ICE9ICcnKSB7XG4gICAgICAgIGlmKG1vdXNlRGF0YS5zaGlmdEtleSAmJiB0aGlzLmN1cnNvckRhdGEueCAhPSAnJykge1xuICAgICAgICAgIGNvbXB1dGVkU3R5bGVSZWN0LmhlaWdodCA9IGNvbXB1dGVkU3R5bGVSZWN0LndpZHRoICogc2VsZWN0YWJsZS5tZXRyaWNzLnByb3BvcnRpb25zO1xuICAgICAgICAgIGNsaWVudFJlY3QuaGVpZ2h0ID0gY2xpZW50UmVjdC53aWR0aCAqIHNlbGVjdGFibGUubWV0cmljcy5wcm9wb3J0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZih0aGlzLmN1cnNvckRhdGEueSA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVSZWN0LmhlaWdodCAtPSBtb3VzZURhdGEubW92ZW1lbnRZO1xuICAgICAgICAgICAgY2xpZW50UmVjdC5oZWlnaHQgLT0gbW91c2VEYXRhLm1vdmVtZW50WTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlUmVjdC5oZWlnaHQgKz0gbW91c2VEYXRhLm1vdmVtZW50WTtcbiAgICAgICAgICAgIGNsaWVudFJlY3QuaGVpZ2h0ICs9IG1vdXNlRGF0YS5tb3ZlbWVudFk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGhhbmRsZSB0aGUgcG9zaXRpb24gY2hhbmdlXG4gICAgICBpZih0aGlzLmN1cnNvckRhdGEueCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIGNoYW5nZVxuICAgICAgICBjb21wdXRlZFN0eWxlUmVjdC5sZWZ0ICs9IG1vdXNlRGF0YS5tb3ZlbWVudFg7XG4gICAgICAgIGNsaWVudFJlY3QubGVmdCArPSBtb3VzZURhdGEubW92ZW1lbnRYO1xuICAgICAgfVxuICAgICAgaWYodGhpcy5jdXJzb3JEYXRhLnkgPT09ICd0b3AnKSB7XG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIGNoYW5nZVxuICAgICAgICBjb21wdXRlZFN0eWxlUmVjdC50b3AgKz0gbW91c2VEYXRhLm1vdmVtZW50WTtcbiAgICAgICAgY2xpZW50UmVjdC50b3AgKz0gbW91c2VEYXRhLm1vdmVtZW50WTtcbiAgICAgIH1cbiAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgcmVzaXplIGhhcyBub3QgYmVlbiBwb3NzaWJsZVxuICAgICAgLy8gZWl0aGVyIGJlY2F1c2UgdGhlIGNvbnRlbnQgaXMgdG9vIGJpZywgb3IgYSBtaW4td2hpZHRoL2hlaWdodCBoYXMgb3ZlcnJpZGVuIG91ciBjaGFuZ2VzXG4gICAgICBpZih0aGlzLmN1cnNvckRhdGEueCAhPT0gJycpIHtcbiAgICAgICAgLy8gIHN0b3JlIGluaXRpYWwgZGF0YVxuICAgICAgICBjb25zdCBpbml0aWFsV2lkdGggPSBzZWxlY3RhYmxlLmVsLnN0eWxlLndpZHRoO1xuXG4gICAgICAgIC8vIG1vdmUgdG8gdGhlIGZpbmFsIHBvc2l0aW9uIHdpbGwgdGFrZSB0aGUgbmV3IHBhcmVudCBvZmZzZXRcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZS53aWR0aCA9IE1hdGgubWF4KE1JTl9TSVpFLCBjb21wdXRlZFN0eWxlUmVjdC53aWR0aCkgKyAncHgnO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciB0aGUgb2Zmc2V0IGFuZCB1cGRhdGUgdGhlIG1ldHJpY3NcbiAgICAgICAgY29uc3QgYmIgPSBkb21NZXRyaWNzLmdldEJvdW5kaW5nQm94RG9jdW1lbnQoc2VsZWN0YWJsZS5lbCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gY2xpZW50UmVjdC53aWR0aCAtIGJiLndpZHRoO1xuICAgICAgICBjb21wdXRlZFN0eWxlUmVjdC53aWR0aCAtPSBkZWx0YTtcbiAgICAgICAgY2xpZW50UmVjdC53aWR0aCAtPSBkZWx0YTtcbiAgICAgICAgaWYodGhpcy5jdXJzb3JEYXRhLnggPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGNvbXB1dGVkU3R5bGVSZWN0LmxlZnQgKz0gZGVsdGE7XG4gICAgICAgICAgY2xpZW50UmVjdC5sZWZ0ICs9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc3RvcmUgdGhlIGluaXRpYWwgZGF0YVxuICAgICAgICBzZWxlY3RhYmxlLmVsLnN0eWxlLndpZHRoID0gaW5pdGlhbFdpZHRoO1xuICAgICAgfVxuICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSByZXNpemUgaGFzIG5vdCBiZWVuIHBvc3NpYmxlXG4gICAgICAvLyBlaXRoZXIgYmVjYXVzZSB0aGUgY29udGVudCBpcyB0b28gYmlnLCBvciBhIG1pbi13aGlkdGgvaGVpZ2h0IGhhcyBvdmVycmlkZW4gb3VyIGNoYW5nZXNcbiAgICAgIGlmKHRoaXMuY3Vyc29yRGF0YS55ICE9PSAnJykge1xuICAgICAgICAvLyAgc3RvcmUgaW5pdGlhbCBkYXRhXG4gICAgICAgIGNvbnN0IGhlaWdodEF0dHIgPSBzZWxlY3RhYmxlLnVzZU1pbkhlaWdodCA/ICdtaW5IZWlnaHQnIDogJ2hlaWdodCc7XG4gICAgICAgIGNvbnN0IGluaXRpYWxIZWlnaHQgPSBzZWxlY3RhYmxlLmVsLnN0eWxlW2hlaWdodEF0dHJdO1xuXG4gICAgICAgIC8vIG1vdmUgdG8gdGhlIGZpbmFsIHBvc2l0aW9uIHdpbGwgdGFrZSB0aGUgbmV3IHBhcmVudCBvZmZzZXRcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZVtoZWlnaHRBdHRyXSA9IE1hdGgubWF4KE1JTl9TSVpFLCBjb21wdXRlZFN0eWxlUmVjdC5oZWlnaHQpICsgJ3B4JztcblxuICAgICAgICAvLyBjaGVjayBmb3IgdGhlIG9mZnNldCBhbmQgdXBkYXRlIHRoZSBtZXRyaWNzXG4gICAgICAgIGNvbnN0IGJiID0gZG9tTWV0cmljcy5nZXRCb3VuZGluZ0JveERvY3VtZW50KHNlbGVjdGFibGUuZWwpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IGNsaWVudFJlY3QuaGVpZ2h0IC0gYmIuaGVpZ2h0O1xuICAgICAgICBjb21wdXRlZFN0eWxlUmVjdC5oZWlnaHQgLT0gZGVsdGE7XG4gICAgICAgIGNsaWVudFJlY3QuaGVpZ2h0IC09IGRlbHRhO1xuICAgICAgICBpZih0aGlzLmN1cnNvckRhdGEueSA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICBjb21wdXRlZFN0eWxlUmVjdC50b3AgKz0gZGVsdGE7XG4gICAgICAgICAgY2xpZW50UmVjdC50b3AgKz0gZGVsdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXN0b3JlIHRoZSBpbml0aWFsIGRhdGFcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZVtoZWlnaHRBdHRyXSA9IGluaXRpYWxIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSBib3R0b20gYW5kIHJpZ2h0XG4gICAgICBjb21wdXRlZFN0eWxlUmVjdC5yaWdodCA9IGNvbXB1dGVkU3R5bGVSZWN0LmxlZnQgKyBjb21wdXRlZFN0eWxlUmVjdC53aWR0aDtcbiAgICAgIGNsaWVudFJlY3QucmlnaHQgPSBjbGllbnRSZWN0LmxlZnQgKyBjbGllbnRSZWN0LndpZHRoO1xuICAgICAgY29tcHV0ZWRTdHlsZVJlY3QuYm90dG9tID0gY29tcHV0ZWRTdHlsZVJlY3QudG9wICsgY29tcHV0ZWRTdHlsZVJlY3QuaGVpZ2h0O1xuICAgICAgY2xpZW50UmVjdC5ib3R0b20gPSBjbGllbnRSZWN0LnRvcCArIGNsaWVudFJlY3QuaGVpZ2h0O1xuXG4gICAgICAvLyB1cGRhdGUgdGhlIG1ldHJpY3NcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNlbGVjdGFibGUsXG4gICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICAuLi5zZWxlY3RhYmxlLm1ldHJpY3MsXG4gICAgICAgICAgY2xpZW50UmVjdCxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlUmVjdCxcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICAvLyBkaXNwYXRjaCBhbGwgdGhlIGNoYW5nZXMgYXQgb25jZVxuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2VsZWN0YWJsZVN0YXRlLnVwZGF0ZVNlbGVjdGFibGVzKHRoaXMuc2VsZWN0aW9uKSk7XG5cbiAgICAvLyB1cGRhdGUgc2Nyb2xsXG4gICAgY29uc3QgaW5pdGlhbFNjcm9sbCA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5tb3VzZS5zY3JvbGxEYXRhO1xuICAgIGNvbnN0IGJiOiBDbGllbnRSZWN0ID0ge1xuICAgICAgdG9wOiBtb3VzZURhdGEubW91c2VZICsgaW5pdGlhbFNjcm9sbC55LFxuICAgICAgbGVmdDogbW91c2VEYXRhLm1vdXNlWCArIGluaXRpYWxTY3JvbGwueCxcbiAgICAgIGJvdHRvbTogbW91c2VEYXRhLm1vdXNlWSArIGluaXRpYWxTY3JvbGwueSxcbiAgICAgIHJpZ2h0OiBtb3VzZURhdGEubW91c2VYICsgaW5pdGlhbFNjcm9sbC54LFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgfTtcbiAgICBjb25zdCBzY3JvbGwgPSBkb21NZXRyaWNzLmdldFNjcm9sbFRvU2hvdyh0aGlzLnN0YWdlRG9jdW1lbnQsIGJiKTtcbiAgICBpZihzY3JvbGwueCAhPT0gaW5pdGlhbFNjcm9sbC54IHx8IHNjcm9sbC55ICE9PSBpbml0aWFsU2Nyb2xsLnkpIHtcbiAgICAgIHRoaXMuZGVib3VuY2VTY3JvbGwoc2Nyb2xsKTtcbiAgICB9XG5cbiAgICAvLyBub3RpZnkgdGhlIGFwcFxuICAgIGlmKHRoaXMuaG9va3Mub25SZXNpemUpIHRoaXMuaG9va3Mub25SZXNpemUodGhpcy5zZWxlY3Rpb24sIGJiKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENhbGxlZCBieSB0aGUgU3RhZ2UgY2xhc3Mgd2hlbiBtb3VzZSBidXR0b24gaXMgcmVsZWFzZWRcbiAgICovXG4gIHJlbGVhc2UoKSB7XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuICAgIC8vIHJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgbW91c2VcbiAgICAvLyB0aGlzIGlzIHVzZWZ1bCB3aGVuIHRoZSByZXNpemUgaGFzIG5vdCBiZWVuIHRha2VuIGludG8gYWNjb3VudCAoZS5nLiBjb250ZW50IHRvbyBiaWcpXG4gICAgLy8gYW5kIHRoZSBtb3VzZSBpcyBub3Qgb24gdGhlIGVkZ2Ugb2YgdGhlIGVsZW1lbnQgYW55bW9yZVxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHNlbGVjdGFibGUgPSBkb21NZXRyaWNzLmdldFNlbGVjdGFibGUodGhpcy5zdG9yZSwgc3RhdGUubW91c2UubW91c2VEYXRhLnRhcmdldCk7XG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChtb3VzZVN0YXRlLnNldEN1cnNvckRhdGEoZG9tTWV0cmljcy5nZXRDdXJzb3JEYXRhKHN0YXRlLm1vdXNlLm1vdXNlRGF0YS5tb3VzZVgsIHN0YXRlLm1vdXNlLm1vdXNlRGF0YS5tb3VzZVksIHN0YXRlLm1vdXNlLnNjcm9sbERhdGEsIHNlbGVjdGFibGUpKSk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIHJlYWwgbWV0cmljcyBhZnRlciBkcm9wXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBjaGFuZ2UgVUkgc3RhdGUgd2hpbGUgc2VsZWN0YWJsZXMgbWV0cmljcyBhcmUgc2ltcGx5IHVwZGF0ZWRcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2V0UmVmcmVzaGluZyh0cnVlKSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlc1xuICAgICAgLm1hcChzZWxlY3RhYmxlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zZWxlY3RhYmxlLFxuICAgICAgICAgIG1ldHJpY3M6IGRvbU1ldHJpY3MuZ2V0TWV0cmljcyhzZWxlY3RhYmxlLmVsKSxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNlbGVjdGFibGVTdGF0ZS51cGRhdGVTZWxlY3RhYmxlcyh1cGRhdGVkU3RhdGUpKTtcblxuICAgICAgLy8gY2hhbmdlIFVJIHN0YXRlIHdoaWxlIHNlbGVjdGFibGVzIG1ldHJpY3MgYXJlIHNpbXBseSB1cGRhdGVkXG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNldFJlZnJlc2hpbmcoZmFsc2UpKTtcblxuICAgICAgLy8gbm90aWZ5IHRoZSBhcHBcbiAgICAgIGlmKHRoaXMuaG9va3Mub25SZXNpemVFbmQpIHRoaXMuaG9va3Mub25SZXNpemVFbmQodGhpcy5zZWxlY3Rpb24pO1xuICAgIH0sIDApXG4gIH1cbn1cbiIsIlxuZXhwb3J0IGNvbnN0IE1JTl9TSVpFID0gMjA7XG5leHBvcnQgY29uc3QgU1RJQ0tfRElTVEFOQ0UgPSA1O1xuIiwiaW1wb3J0IHsgU3RhZ2VTdG9yZSB9IGZyb20gJy4uL2ZsdXgvU3RhZ2VTdG9yZSc7XG5pbXBvcnQgeyBIb29rcywgTW91c2VEYXRhLCBTZWxlY3RhYmxlU3RhdGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBNb3VzZUhhbmRsZXJCYXNlIH0gZnJvbSAnLi9Nb3VzZUhhbmRsZXJCYXNlJztcbmltcG9ydCAqIGFzIHNlbGVjdGlvblN0YXRlIGZyb20gJy4uL2ZsdXgvU2VsZWN0aW9uU3RhdGUnO1xuaW1wb3J0ICogYXMgbW91c2VTdGF0ZSBmcm9tICcuLi9mbHV4L01vdXNlU3RhdGUnO1xuaW1wb3J0ICogYXMgZG9tTWV0cmljcyBmcm9tICcuLi91dGlscy9Eb21NZXRyaWNzJztcblxuZXhwb3J0IGNsYXNzIERyYXdIYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyQmFzZSB7XG4gIGluaXRpYWxYOiBudW1iZXI7XG4gIGluaXRpYWxZOiBudW1iZXI7XG4gIHJlZ2lvbk1hcmtlcjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3Ioc3RhZ2VEb2N1bWVudDogSFRNTERvY3VtZW50LCBvdmVybGF5RG9jdW1lbnQ6IEhUTUxEb2N1bWVudCwgc3RvcmU6IFN0YWdlU3RvcmUsIGhvb2tzOiBIb29rcykge1xuICAgIHN1cGVyKHN0YWdlRG9jdW1lbnQsIG92ZXJsYXlEb2N1bWVudCwgc3RvcmUsIGhvb2tzKTtcblxuICAgIC8vIG5vdGlmeSB0aGUgYXBwXG4gICAgaWYoISF0aGlzLmhvb2tzLm9uU3RhcnREcmF3KSB0aGlzLmhvb2tzLm9uU3RhcnREcmF3KCk7XG5cbiAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICBjb25zdCBzY3JvbGxEYXRhID0gZG9tTWV0cmljcy5nZXRTY3JvbGwodGhpcy5zdGFnZURvY3VtZW50KTtcbiAgICB0aGlzLmluaXRpYWxYID0gc3RhdGUubW91c2UubW91c2VEYXRhLm1vdXNlWCArIHNjcm9sbERhdGEueDtcbiAgICB0aGlzLmluaXRpYWxZID0gc3RhdGUubW91c2UubW91c2VEYXRhLm1vdXNlWSArIHNjcm9sbERhdGEueTtcblxuICAgIC8vIGNyZWF0ZSBhbmQgYXR0YWNoIGEgZGl2IHRvIGRyYXcgdGhlIHJlZ2lvblxuICAgIC8vIEZJWE1FOiB0aGUgcmVnaW9uIG1hcmtlciBzaG91bGQgYmUgb3V0c2lkZSB0aGUgaWZyYW1lXG4gICAgdGhpcy5yZWdpb25NYXJrZXIgPSBvdmVybGF5RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5yZWdpb25NYXJrZXIuY2xhc3NMaXN0LmFkZCgncmVnaW9uLW1hcmtlcicpO1xuICAgIHRoaXMubW92ZVJlZ2lvbih7bGVmdDogLTk5OSwgdG9wOiAtOTk5LCByaWdodDogLTk5OSwgYm90dG9tOiAtOTk5LCB3aWR0aDogMCwgaGVpZ2h0OiAwfSk7XG4gICAgb3ZlcmxheURvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZWdpb25NYXJrZXIpO1xuICB9XG5cbiAgdXBkYXRlKG1vdXNlRGF0YTogTW91c2VEYXRhKSB7XG4gICAgc3VwZXIudXBkYXRlKG1vdXNlRGF0YSk7XG5cbiAgICBjb25zdCBzY3JvbGxEYXRhID0gZG9tTWV0cmljcy5nZXRTY3JvbGwodGhpcy5zdGFnZURvY3VtZW50KTtcbiAgICBjb25zdCBiYiA9IHtcbiAgICAgIGxlZnQ6IE1hdGgubWluKHRoaXMuaW5pdGlhbFgsIChtb3VzZURhdGEubW91c2VYICsgc2Nyb2xsRGF0YS54KSksXG4gICAgICB0b3A6IE1hdGgubWluKHRoaXMuaW5pdGlhbFksIChtb3VzZURhdGEubW91c2VZICsgc2Nyb2xsRGF0YS55KSksXG4gICAgICByaWdodDogTWF0aC5tYXgodGhpcy5pbml0aWFsWCwgKG1vdXNlRGF0YS5tb3VzZVggKyBzY3JvbGxEYXRhLngpKSxcbiAgICAgIGJvdHRvbTogTWF0aC5tYXgodGhpcy5pbml0aWFsWSwgKG1vdXNlRGF0YS5tb3VzZVkgKyBzY3JvbGxEYXRhLnkpKSxcbiAgICAgIGhlaWdodDogTWF0aC5hYnModGhpcy5pbml0aWFsWSAtIChtb3VzZURhdGEubW91c2VZICsgc2Nyb2xsRGF0YS55KSksXG4gICAgICB3aWR0aDogTWF0aC5hYnModGhpcy5pbml0aWFsWCAtIChtb3VzZURhdGEubW91c2VYICsgc2Nyb2xsRGF0YS54KSksXG4gICAgfTtcblxuICAgIC8vIHVwZGF0ZSB0aGUgZHJhd2luZ1xuICAgIHRoaXMubW92ZVJlZ2lvbihiYik7XG5cbiAgICAvLyBzZWxlY3QgYWxsIGVsZW1lbnRzIHdoaWNoIGludGVyc2VjdCB3aXRoIHRoZSByZWdpb25cbiAgICBsZXQgbmV3U2VsZWN0aW9uID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGFibGVzXG4gICAgLmZpbHRlcihzZWxlY3RhYmxlID0+IHtcbiAgICAgIHJldHVybiBzZWxlY3RhYmxlLnNlbGVjdGFibGUgJiZcbiAgICAgICAgc2VsZWN0YWJsZS5kcmFnZ2FibGUgJiYgLy8gZG8gbm90IHNlbGVjdCB0aGUgYmFja2dyb3VuZFxuICAgICAgICBzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC5sZWZ0IDwgYmIucmlnaHQgJiZcbiAgICAgICAgc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QucmlnaHQgPiBiYi5sZWZ0ICYmXG4gICAgICAgIHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LnRvcCA8IGJiLmJvdHRvbSAmJlxuICAgICAgICBzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC5ib3R0b20gPiBiYi50b3A7XG4gICAgfSk7XG5cbiAgICAvLyBoYW5kbGUgcmVtb3ZlZCBlbGVtZW50c1xuICAgIHRoaXMuc2VsZWN0aW9uXG4gICAgLmZpbHRlcihzZWxlY3RhYmxlID0+ICFuZXdTZWxlY3Rpb24uZmluZChzID0+IHNlbGVjdGFibGUuZWwgPT09IHMuZWwpKVxuICAgIC5mb3JFYWNoKHNlbGVjdGFibGUgPT4ge1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzZWxlY3Rpb25TdGF0ZS5yZW1vdmUoc2VsZWN0YWJsZSkpO1xuICAgIH0pO1xuXG4gICAgLy8gaGFuZGxlIGFkZGVkIGVsZW1lbnRzXG4gICAgbmV3U2VsZWN0aW9uXG4gICAgLmZpbHRlcihzZWxlY3RhYmxlID0+ICF0aGlzLnNlbGVjdGlvbi5maW5kKHMgPT4gc2VsZWN0YWJsZS5lbCA9PT0gcy5lbCkpXG4gICAgLmZvckVhY2goc2VsZWN0YWJsZSA9PiB7XG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNlbGVjdGlvblN0YXRlLmFkZChzZWxlY3RhYmxlKSk7XG4gICAgfSk7XG5cbiAgICAvLyBzdG9yZSB0aGUgbmV3IHNlbGVjdGlvblxuICAgIHRoaXMuc2VsZWN0aW9uID0gbmV3U2VsZWN0aW9uO1xuXG4gICAgLy8gdXBkYXRlIHNjcm9sbFxuICAgIGNvbnN0IGluaXRpYWxTY3JvbGwgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkubW91c2Uuc2Nyb2xsRGF0YTtcbiAgICBjb25zdCBzY3JvbGwgPSBkb21NZXRyaWNzLmdldFNjcm9sbFRvU2hvdyh0aGlzLnN0YWdlRG9jdW1lbnQsIGJiKTtcbiAgICBpZihzY3JvbGwueCAhPT0gaW5pdGlhbFNjcm9sbC54IHx8IHNjcm9sbC55ICE9PSBpbml0aWFsU2Nyb2xsLnkpIHtcbiAgICAgIHRoaXMuZGVib3VuY2VTY3JvbGwoc2Nyb2xsKTtcbiAgICB9XG5cbiAgICAvLyBub3RpZnkgdGhlIGFwcFxuICAgIGlmKHRoaXMuaG9va3Mub25EcmF3KSB0aGlzLmhvb2tzLm9uRHJhdyh0aGlzLnNlbGVjdGlvbiwgYmIpO1xuICB9XG5cblxuICByZWxlYXNlKCkge1xuICAgIHN1cGVyLnJlbGVhc2UoKTtcbiAgICB0aGlzLnJlZ2lvbk1hcmtlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucmVnaW9uTWFya2VyKTtcblxuICAgIC8vIG5vdGlmeSB0aGUgYXBwXG4gICAgaWYodGhpcy5ob29rcy5vbkRyYXdFbmQpIHRoaXMuaG9va3Mub25EcmF3RW5kKCk7XG5cbiAgICB0aGlzLnNlbGVjdGlvbiA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIGRpc3BsYXkgdGhlIHBvc2l0aW9uIG1hcmtlciBhdHRoZSBnaXZlbiBwb3NpdGlvbmluIHRoZSBkb21cbiAgICovXG4gIG1vdmVSZWdpb24oe2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodH06IENsaWVudFJlY3QpIHtcbiAgICB0aGlzLnJlZ2lvbk1hcmtlci5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICB0aGlzLnJlZ2lvbk1hcmtlci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgIHRoaXMucmVnaW9uTWFya2VyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtsZWZ0fXB4LCAke3RvcH1weClgOyAvLyBzY2FsZSgke3dpZHRofSwgJHtoZWlnaHR9KVxuICB9XG59XG4iLCJpbXBvcnQge01vdXNlSGFuZGxlckJhc2V9IGZyb20gJy4vTW91c2VIYW5kbGVyQmFzZSc7XG5pbXBvcnQgKiBhcyBtb3VzZVN0YXRlIGZyb20gJy4uL2ZsdXgvTW91c2VTdGF0ZSc7XG5pbXBvcnQgeyBTdGFnZVN0b3JlIH0gZnJvbSAnLi4vZmx1eC9TdGFnZVN0b3JlJztcbmltcG9ydCB7IEhvb2tzLCBTZWxlY3RhYmxlU3RhdGUsIE1vdXNlRGF0YSwgRHJvcFpvbmUsIEVNUFRZX0JPWCB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIHNlbGVjdGFibGVTdGF0ZSBmcm9tICcuLi9mbHV4L1NlbGVjdGFibGVTdGF0ZSdcbmltcG9ydCAqIGFzIGRvbU1ldHJpY3MgZnJvbSAnLi4vdXRpbHMvRG9tTWV0cmljcyc7XG5pbXBvcnQgeyBzZXRSZWZyZXNoaW5nLCBzZXRTdGlja3kgfSBmcm9tICcuLi9mbHV4L1VpU3RhdGUnO1xuaW1wb3J0IHsgU1RJQ0tfRElTVEFOQ0UgfSBmcm9tICcuLi9Db25zdGFudHMnO1xuXG5leHBvcnQgY29uc3QgQVVUT1NDUk9MTF9NQVJHSU4gPSAzMDtcblxuZXhwb3J0IGNsYXNzIE1vdmVIYW5kbGVyIGV4dGVuZHMgTW91c2VIYW5kbGVyQmFzZSB7XG4gIHByaXZhdGUgcG9zaXRpb25NYXJrZXI6IEhUTUxFbGVtZW50O1xuICBwdWJsaWMgaW5pdGlhbE1vdXNlOiB7eDpudW1iZXIsIHk6bnVtYmVyfTtcbiAgcHJpdmF0ZSBpbml0aWFsU2Nyb2xsOiB7eDpudW1iZXIsIHk6bnVtYmVyfTtcblxuICBjb25zdHJ1Y3RvcihzdGFnZURvY3VtZW50OiBIVE1MRG9jdW1lbnQsIG92ZXJsYXlEb2N1bWVudDogSFRNTERvY3VtZW50LCBzdG9yZTogU3RhZ2VTdG9yZSwgaG9va3M6IEhvb2tzKSB7XG4gICAgc3VwZXIoc3RhZ2VEb2N1bWVudCwgb3ZlcmxheURvY3VtZW50LCBzdG9yZSwgaG9va3MpO1xuXG4gICAgLy8ga2VlcCBvbmx5IGRyYWdnYWJsZSBlbGVtZW50c1xuICAgIC8vIHdoaWNoIGFyZSBub3QgaW4gYSBzZWxlY3RlZCBlbGVtZW50IGFsc28gYmVpbmcgZHJhZ2dlZFxuICAgIHRoaXMuc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25cbiAgICAuZmlsdGVyKHMgPT4gcy5kcmFnZ2FibGUpXG4gICAgLmZpbHRlcihzID0+ICFkb21NZXRyaWNzLmhhc0FTZWxlY3RlZERyYWdnYWJsZVBhcmVudChzdG9yZSwgcy5lbCkpO1xuXG4gICAgLy8gbm90aWZ5IHRoZSBhcHBcbiAgICBpZighIXRoaXMuaG9va3Mub25TdGFydERyYWcpIHRoaXMuaG9va3Mub25TdGFydERyYWcodGhpcy5zZWxlY3Rpb24pO1xuXG4gICAgLy8gRklYTUU6IHRoZSByZWdpb24gbWFya2VyIHNob3VsZCBiZSBvdXRzaWRlIHRoZSBpZnJhbWVcbiAgICB0aGlzLnBvc2l0aW9uTWFya2VyID0gdGhpcy5zdGFnZURvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMucG9zaXRpb25NYXJrZXIuY2xhc3NMaXN0LmFkZCgncG9zaXRpb24tbWFya2VyJyk7XG4gICAgdGhpcy5wb3NpdGlvbk1hcmtlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLCAwLCAwLCAuNSknO1xuICAgIHRoaXMucG9zaXRpb25NYXJrZXIuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIHRoaXMucG9zaXRpb25NYXJrZXIuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC41KSc7XG4gICAgdGhpcy5wb3NpdGlvbk1hcmtlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5wb3NpdGlvbk1hcmtlci5zdHlsZS5taW5XaWR0aCA9ICcxcHgnO1xuICAgIHRoaXMucG9zaXRpb25NYXJrZXIuc3R5bGUubWluSGVpZ2h0ID0gJzFweCc7XG5cbiAgICAvLyB1cGRhdGUgc3RhdGVcbiAgICB0aGlzLnNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLm1hcChzZWxlY3RhYmxlID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNlbGVjdGFibGUsXG4gICAgICAgIHByZXZlbnRNZXRyaWNzOiB0cnVlLFxuICAgICAgICB0cmFuc2xhdGlvbjoge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgc3RvcmVcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNlbGVjdGFibGVTdGF0ZS51cGRhdGVTZWxlY3RhYmxlcyh0aGlzLnNlbGVjdGlvbikpO1xuICB9XG5cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IHRoZSBTdGFnZSBjbGFzcyB3aGVuIG1vdXNlIG1vdmVzXG4gICAqL1xuICB1cGRhdGUobW91c2VEYXRhOiBNb3VzZURhdGEpIHtcbiAgICBzdXBlci51cGRhdGUobW91c2VEYXRhKTtcblxuICAgIGlmICh0aGlzLnNlbGVjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFRoaXMgc2VlbXMgdG8gaGFwcGVuIHdoZW4gdGhlIHVzZXIgbW92ZXMgdGhlIG1vdXNlIGZhc3RcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgdGhlIG1hcmtlclxuICAgIGlmKHRoaXMucG9zaXRpb25NYXJrZXIucGFyZW50Tm9kZSkgdGhpcy5wb3NpdGlvbk1hcmtlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9zaXRpb25NYXJrZXIpO1xuXG4gICAgaWYoIXRoaXMuaW5pdGlhbE1vdXNlKSB7XG4gICAgICB0aGlzLmluaXRpYWxNb3VzZSA9IHtcbiAgICAgICAgeDogbW91c2VEYXRhLm1vdXNlWCAtIG1vdXNlRGF0YS5tb3ZlbWVudFgsXG4gICAgICAgIHk6IG1vdXNlRGF0YS5tb3VzZVkgLSBtb3VzZURhdGEubW92ZW1lbnRZLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYoIXRoaXMuaW5pdGlhbFNjcm9sbCkge1xuICAgICAgdGhpcy5pbml0aWFsU2Nyb2xsID0ge1xuICAgICAgICAuLi50aGlzLnN0b3JlLmdldFN0YXRlKCkubW91c2Uuc2Nyb2xsRGF0YSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGwgPSB7XG4gICAgICAuLi50aGlzLnN0b3JlLmdldFN0YXRlKCkubW91c2Uuc2Nyb2xsRGF0YSxcbiAgICB9XG4gICAgY29uc3QgZGVsdGFTY3JvbGwgPSB7XG4gICAgICB4OiBjdXJyZW50U2Nyb2xsLnggLSB0aGlzLmluaXRpYWxTY3JvbGwueCxcbiAgICAgIHk6IGN1cnJlbnRTY3JvbGwueSAtIHRoaXMuaW5pdGlhbFNjcm9sbC55LFxuICAgIH1cblxuICAgIC8vIGFwcGx5IGNvbnN0cmFpbnRzIChzaGlmdCkgYW5kXG4gICAgLy8gY29tcHV0ZSB0aGUgcmVhbCBtb3ZlbWVudFggYW5kIG1vdmVtZW50WSBiYXNlZCBvbiB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIGluc3RlYWQgb2YgdGhlIHBvc2l0aW9uIG9mIHRoZSBzZWxlY3Rpb25cbiAgICBjb25zdCB7IG1vdmVtZW50WCwgbW92ZW1lbnRZIH0gPSAoKCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSB0aGlzLnNlbGVjdGlvblswXS50cmFuc2xhdGlvbjtcbiAgICAgIGNvbnN0IHJlYWxNb3ZlbWVudFggPSAtdHJhbnNsYXRpb24ueCArIChtb3VzZURhdGEubW91c2VYIC0gdGhpcy5pbml0aWFsTW91c2UueCk7XG4gICAgICBjb25zdCByZWFsTW92ZW1lbnRZID0gLXRyYW5zbGF0aW9uLnkgKyAobW91c2VEYXRhLm1vdXNlWSAtIHRoaXMuaW5pdGlhbE1vdXNlLnkpO1xuICAgICAgaWYobW91c2VEYXRhLnNoaWZ0S2V5ICYmIHRoaXMuc2VsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qge3gsIHl9ID0ge1xuICAgICAgICAgIHg6IG1vdXNlRGF0YS5tb3VzZVggLSB0aGlzLmluaXRpYWxNb3VzZS54LFxuICAgICAgICAgIHk6IG1vdXNlRGF0YS5tb3VzZVkgLSB0aGlzLmluaXRpYWxNb3VzZS55LFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMih5LCB4KTtcbiAgICAgICAgaWYoTWF0aC5hYnMoTWF0aC5zaW4oYW5nbGUpKSA8IE1hdGguYWJzKE1hdGguY29zKGFuZ2xlKSkpIHtcbiAgICAgICAgICAvLyBzdGljayB0byB4IGF4aXNcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW92ZW1lbnRYOiByZWFsTW92ZW1lbnRYLFxuICAgICAgICAgICAgbW92ZW1lbnRZOiAtdHJhbnNsYXRpb24ueSxcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc3RpY2sgdG8geSBheGlzXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vdmVtZW50WDogLXRyYW5zbGF0aW9uLngsXG4gICAgICAgICAgICBtb3ZlbWVudFk6IHJlYWxNb3ZlbWVudFksXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtb3ZlbWVudFg6IHJlYWxNb3ZlbWVudFggKyBkZWx0YVNjcm9sbC54LFxuICAgICAgICBtb3ZlbWVudFk6IHJlYWxNb3ZlbWVudFkgKyBkZWx0YVNjcm9sbC55LFxuICAgICAgfTtcbiAgICB9KSgpXG5cbiAgICAvLyBhcHBseSBjb25zdHJhaW50cyAoc3RpY2t5KVxuICAgIGNvbnN0IGJiID0gZG9tTWV0cmljcy5nZXRCb3VuZGluZ0JveCh0aGlzLnNlbGVjdGlvbik7XG4gICAgY29uc3QgaGFzUG9zaXRpb25lZEVsZW1lbnRzID0gdGhpcy5zZWxlY3Rpb24uc29tZShzID0+IHMubWV0cmljcy5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpO1xuICAgIGNvbnN0IHN0aWNreSA9ICF0aGlzLnN0b3JlLmdldFN0YXRlKCkudWkuZW5hYmxlU3RpY2t5IHx8IGhhc1Bvc2l0aW9uZWRFbGVtZW50cyA/IEVNUFRZX0JPWCgpXG4gICAgICA6IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlc1xuICAgICAgICAuZmlsdGVyKHMgPT4gIXMuc2VsZWN0ZWQgJiYgcy5zZWxlY3RhYmxlICYmIHMubWV0cmljcy5wb3NpdGlvbiAhPT0gJ3N0YXRpYycpXG4gICAgICAgIC5yZWR1Y2UoKHByZXYsIHNlbGVjdGFibGUpID0+IHtcbiAgICAgICAgICBpZihNYXRoLmFicyhzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC50b3AgLSAoYmIudG9wICsgbW92ZW1lbnRZKSkgPCBTVElDS19ESVNUQU5DRSkgcHJldi50b3AgPSBzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC50b3AgLSBiYi50b3A7XG4gICAgICAgICAgaWYoTWF0aC5hYnMoc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QubGVmdCAtIChiYi5sZWZ0ICsgbW92ZW1lbnRYKSkgPCBTVElDS19ESVNUQU5DRSkgcHJldi5sZWZ0ID0gc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QubGVmdCAtIGJiLmxlZnQ7XG4gICAgICAgICAgaWYoTWF0aC5hYnMoc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QuYm90dG9tIC0gKGJiLmJvdHRvbSArIG1vdmVtZW50WSkpIDwgU1RJQ0tfRElTVEFOQ0UpIHByZXYuYm90dG9tID0gc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QuYm90dG9tIC0gYmIuYm90dG9tO1xuICAgICAgICAgIGlmKE1hdGguYWJzKHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LnJpZ2h0IC0gKGJiLnJpZ2h0ICsgbW92ZW1lbnRYKSkgPCBTVElDS19ESVNUQU5DRSkgcHJldi5yaWdodCA9IHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LnJpZ2h0IC0gYmIucmlnaHQ7XG5cbiAgICAgICAgICBpZihNYXRoLmFicyhzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC5ib3R0b20gLSAoYmIudG9wICsgbW92ZW1lbnRZKSkgPCBTVElDS19ESVNUQU5DRSkgcHJldi50b3AgPSBzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC5ib3R0b20gLSBiYi50b3A7XG4gICAgICAgICAgaWYoTWF0aC5hYnMoc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QucmlnaHQgLSAoYmIubGVmdCArIG1vdmVtZW50WCkpIDwgU1RJQ0tfRElTVEFOQ0UpIHByZXYubGVmdCA9IHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LnJpZ2h0IC0gYmIubGVmdDtcbiAgICAgICAgICBpZihNYXRoLmFicyhzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC50b3AgLSAoYmIuYm90dG9tICsgbW92ZW1lbnRZKSkgPCBTVElDS19ESVNUQU5DRSkgcHJldi5ib3R0b20gPSBzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC50b3AgLSBiYi5ib3R0b207XG4gICAgICAgICAgaWYoTWF0aC5hYnMoc2VsZWN0YWJsZS5tZXRyaWNzLmNsaWVudFJlY3QubGVmdCAtIChiYi5yaWdodCArIG1vdmVtZW50WCkpIDwgU1RJQ0tfRElTVEFOQ0UpIHByZXYucmlnaHQgPSBzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC5sZWZ0IC0gYmIucmlnaHQ7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0sIEVNUFRZX0JPWCgpKTtcblxuICAgIGNvbnN0IHN0aWNreU1vdmVtZW50WCA9IChzdGlja3kubGVmdCA9PT0gbnVsbCA/IChzdGlja3kucmlnaHQgPT0gbnVsbCA/IG1vdmVtZW50WCA6IHN0aWNreS5yaWdodCkgOiBzdGlja3kubGVmdCk7XG4gICAgY29uc3Qgc3RpY2t5TW92ZW1lbnRZID0gKHN0aWNreS50b3AgPT09IG51bGwgPyAoc3RpY2t5LmJvdHRvbSA9PSBudWxsID8gbW92ZW1lbnRZIDogc3RpY2t5LmJvdHRvbSkgOiBzdGlja3kudG9wKTtcblxuICAgIC8vIHVwZGF0ZSBlbGVtZW50cyBwb3N0aXRpb25cbiAgICB0aGlzLnNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uXG4gICAgLm1hcChzZWxlY3RhYmxlID0+IGRvbU1ldHJpY3MubW92ZShzZWxlY3RhYmxlLCBmYWxzZSwgc3RpY2t5TW92ZW1lbnRYLCBzdGlja3lNb3ZlbWVudFkpKTtcblxuICAgIC8vIHVwZGF0ZSB0aGUgZGVzdGluYXRpb24gb2YgZWFjaCBlbGVtZW50XG4gICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvblxuICAgIC5tYXAoc2VsZWN0YWJsZSA9PiB7XG4gICAgICBsZXQgZHJvcFpvbmVzID0gZG9tTWV0cmljcy5maW5kRHJvcFpvbmVzVW5kZXJNb3VzZSh0aGlzLnN0YWdlRG9jdW1lbnQsIHRoaXMuc3RvcmUsIHRoaXMuaG9va3MsIG1vdXNlRGF0YS5tb3VzZVgsIG1vdXNlRGF0YS5tb3VzZVkpXG4gICAgICAuZmlsdGVyKGRyb3Bab25lID0+IHRoaXMuaG9va3MuY2FuRHJvcChzZWxlY3RhYmxlLmVsLCBkcm9wWm9uZSkpO1xuICAgICAgbGV0IGRyb3Bab25lVW5kZXJNb3VzZSA9IGRyb3Bab25lc1swXTsgLy8gdGhlIGZpcnN0IG9uZSBpcyBzdXBwb3NlZCB0byBiZSB0aGUgdG9wIG1vc3Qgb25lXG4gICAgICBpZihkcm9wWm9uZVVuZGVyTW91c2UpIHtcbiAgICAgICAgc3dpdGNoKHNlbGVjdGFibGUubWV0cmljcy5wb3NpdGlvbikge1xuICAgICAgICAgIGNhc2UgJ3N0YXRpYyc6XG4gICAgICAgICAgICBsZXQgbmVhcmVzdFBvc2l0aW9uID0gdGhpcy5maW5kTmVhcmVzdFBvc2l0aW9uKGRyb3Bab25lVW5kZXJNb3VzZSwgbW91c2VEYXRhLm1vdXNlWCwgbW91c2VEYXRhLm1vdXNlWSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVEZXN0aW5hdGlvbk5vbkFic29sdXRlKHNlbGVjdGFibGUsIG5lYXJlc3RQb3NpdGlvbik7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZURlc3RpbmF0aW9uQWJzb2x1dGUoc2VsZWN0YWJsZSwgZHJvcFpvbmVVbmRlck1vdXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSByZXR1cm4gc2VsZWN0YWJsZTtcbiAgICB9KTtcblxuICAgIC8vIGhhbmRsZSB0aGUgY2hpbGRyZW4gd2hpY2ggbW92ZSB3aXRoIHRoZSBzZWxlY3Rpb25cbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlc1xuICAgIC5maWx0ZXIocyA9PiBkb21NZXRyaWNzLmhhc0FTZWxlY3RlZERyYWdnYWJsZVBhcmVudCh0aGlzLnN0b3JlLCBzLmVsKSlcbiAgICAubWFwKHNlbGVjdGFibGUgPT4gZG9tTWV0cmljcy5tb3ZlKHNlbGVjdGFibGUsIHRydWUsIG1vdmVtZW50WCwgbW92ZW1lbnRZKSk7XG5cbiAgICAvLyB1cGRhdGUgc3RvcmVcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNlbGVjdGFibGVTdGF0ZS51cGRhdGVTZWxlY3RhYmxlcyh0aGlzLnNlbGVjdGlvbi5jb25jYXQoY2hpbGRyZW4pKSk7XG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzZXRTdGlja3koe1xuICAgICAgdG9wOiBzdGlja3kudG9wICE9PSBudWxsLFxuICAgICAgbGVmdDogc3RpY2t5LmxlZnQgIT09IG51bGwsXG4gICAgICBib3R0b206IHN0aWNreS5ib3R0b20gIT09IG51bGwsXG4gICAgICByaWdodDogc3RpY2t5LnJpZ2h0ICE9PSBudWxsLFxuICAgIH0pKTtcblxuICAgIC8vIHVwZGF0ZSBzY3JvbGxcbiAgICBjb25zdCBpbml0aWFsU2Nyb2xsID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLm1vdXNlLnNjcm9sbERhdGE7XG4gICAgY29uc3Qgc2Nyb2xsID0gZG9tTWV0cmljcy5nZXRTY3JvbGxUb1Nob3codGhpcy5zdGFnZURvY3VtZW50LCB7XG4gICAgICB0b3A6IG1vdXNlRGF0YS5tb3VzZVkgKyBpbml0aWFsU2Nyb2xsLnkgLSBBVVRPU0NST0xMX01BUkdJTixcbiAgICAgIGJvdHRvbTogbW91c2VEYXRhLm1vdXNlWSArIGluaXRpYWxTY3JvbGwueSArIEFVVE9TQ1JPTExfTUFSR0lOLFxuICAgICAgbGVmdDogbW91c2VEYXRhLm1vdXNlWCArIGluaXRpYWxTY3JvbGwueCAtIEFVVE9TQ1JPTExfTUFSR0lOICxcbiAgICAgIHJpZ2h0OiBtb3VzZURhdGEubW91c2VYICsgaW5pdGlhbFNjcm9sbC54ICsgQVVUT1NDUk9MTF9NQVJHSU4sXG4gICAgICBoZWlnaHQ6IDIgKiBBVVRPU0NST0xMX01BUkdJTixcbiAgICAgIHdpZHRoOiAyICogQVVUT1NDUk9MTF9NQVJHSU4sXG4gICAgfSk7XG4gICAgaWYoc2Nyb2xsLnggIT09IGluaXRpYWxTY3JvbGwueCB8fCBzY3JvbGwueSAhPT0gaW5pdGlhbFNjcm9sbC55KSB7XG4gICAgICB0aGlzLmRlYm91bmNlU2Nyb2xsKHNjcm9sbCk7XG4gICAgfVxuXG4gICAgLy8gbm90aWZ5IHRoZSBhcHBcbiAgICBpZih0aGlzLmhvb2tzLm9uRHJhZykgdGhpcy5ob29rcy5vbkRyYWcodGhpcy5zZWxlY3Rpb24sIGJiKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENhbGxlZCBieSB0aGUgU3RhZ2UgY2xhc3Mgd2hlbiBtb3VzZSBidXR0b24gaXMgcmVsZWFzZWRcbiAgICovXG4gIHJlbGVhc2UoKSB7XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuXG4gICAgdGhpcy5pbml0aWFsTW91c2UgPSBudWxsO1xuXG4gICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5tYXAoKHNlbGVjdGFibGUpID0+IHtcbiAgICAgIC8vIG1vdmUgdG8gYSBkaWZmZXJlbnQgY29udGFpbmVyXG4gICAgICBpZihzZWxlY3RhYmxlLmRyb3Bab25lICYmIHNlbGVjdGFibGUuZHJvcFpvbmUucGFyZW50KSB7XG4gICAgICAgIGlmKHNlbGVjdGFibGUuZHJvcFpvbmUubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgLy8gaWYgdGhlIHRhcmdldCBpcyBub3QgYWxscmVhZHkgdGhlIHNpYmxpbmcgb2YgdGhlIGRlc3RpbmF0aW9uJ3Mgc2libGluZ1xuICAgICAgICAgIC8vIGFuZCBpZiB0aGUgZGVzdGluYXRpb24ncyBzaWJsaW5nIGlzIG5vdCB0aGUgdGFyZ2V0IGl0c2VsZlxuICAgICAgICAgIC8vIHRoZW4gbW92ZSB0byB0aGUgZGVzaXJlZCBwb3NpdGlvbiBpbiB0aGUgcGFyZW50XG4gICAgICAgICAgaWYoc2VsZWN0YWJsZS5kcm9wWm9uZS5uZXh0RWxlbWVudFNpYmxpbmcgIT09IHNlbGVjdGFibGUuZWwubmV4dEVsZW1lbnRTaWJsaW5nICYmIHNlbGVjdGFibGUuZHJvcFpvbmUubmV4dEVsZW1lbnRTaWJsaW5nICE9PSBzZWxlY3RhYmxlLmVsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzZWxlY3RhYmxlLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsZWN0YWJsZS5lbCk7XG4gICAgICAgICAgICAgIHNlbGVjdGFibGUuZHJvcFpvbmUucGFyZW50Lmluc2VydEJlZm9yZShzZWxlY3RhYmxlLmVsLCBzZWxlY3RhYmxlLmRyb3Bab25lLm5leHRFbGVtZW50U2libGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGRlc3RpbmF0aW9uIHBhcmVudCBpcyBub3QgYWxyZWFkeSB0aGUgdGFyZ2V0J3MgcGFyZW50XG4gICAgICAgICAgLy8gb3IgaWYgdGhlIHRhcmdldCBpcyBub3QgdGhlIGxhc3QgY2hpbGRcbiAgICAgICAgICAvLyB0aGVuIGFwcGVuZCB0aGUgdGFyZ2V0IHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICBpZihzZWxlY3RhYmxlLmRyb3Bab25lLnBhcmVudCAhPT0gc2VsZWN0YWJsZS5lbC5wYXJlbnRFbGVtZW50IHx8IHNlbGVjdGFibGUuZWwubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgICBzZWxlY3RhYmxlLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2VsZWN0YWJsZS5lbCk7XG4gICAgICAgICAgICBzZWxlY3RhYmxlLmRyb3Bab25lLnBhcmVudC5hcHBlbmRDaGlsZChzZWxlY3RhYmxlLmVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IG1ldHJpY3MgPSBzZWxlY3RhYmxlLm1ldHJpY3M7XG4gICAgICBpZihzZWxlY3RhYmxlLm1ldHJpY3MucG9zaXRpb24gIT09ICdzdGF0aWMnKSB7XG4gICAgICAgIC8vIGNoZWNrIHRoZSBhY3R1YWwgcG9zaXRpb24gb2YgdGhlIHRhcmdldFxuICAgICAgICAvLyBhbmQgbW92ZSBpdCB0byBtYXRjaCB0aGUgcHJvdmlkZWQgYWJzb2x1dGUgcG9zaXRpb25cbiAgICAgICAgLy8gc3RvcmUgaW5pdGlhbCBkYXRhXG4gICAgICAgIGNvbnN0IGluaXRpYWxUb3AgPSBzZWxlY3RhYmxlLmVsLnN0eWxlLnRvcDtcbiAgICAgICAgY29uc3QgaW5pdGlhbExlZnQgPSBzZWxlY3RhYmxlLmVsLnN0eWxlLmxlZnQ7XG4gICAgICAgIGNvbnN0IGluaXRpYWxUcmFuc2Zvcm0gPSBzZWxlY3RhYmxlLmVsLnN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFBvc2l0aW9uID0gc2VsZWN0YWJsZS5lbC5zdHlsZS5wb3NpdGlvbjtcblxuICAgICAgICAvLyBtb3ZlIHRvIHRoZSBmaW5hbCBwb3NpdGlvbiB3aWxsIHRha2UgdGhlIG5ldyBwYXJlbnQgb2Zmc2V0XG4gICAgICAgIHNlbGVjdGFibGUuZWwuc3R5bGUudG9wID0gc2VsZWN0YWJsZS5tZXRyaWNzLmNvbXB1dGVkU3R5bGVSZWN0LnRvcCArICdweCc7XG4gICAgICAgIHNlbGVjdGFibGUuZWwuc3R5bGUubGVmdCA9IHNlbGVjdGFibGUubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC5sZWZ0ICsgJ3B4JztcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciB0aGUgb2Zmc2V0IGFuZCB1cGRhdGUgdGhlIG1ldHJpY3NcbiAgICAgICAgY29uc3QgYmIgPSBkb21NZXRyaWNzLmdldEJvdW5kaW5nQm94RG9jdW1lbnQoc2VsZWN0YWJsZS5lbCk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGVSZWN0ID0ge1xuICAgICAgICAgIHRvcDogc2VsZWN0YWJsZS5tZXRyaWNzLmNvbXB1dGVkU3R5bGVSZWN0LnRvcCArIChzZWxlY3RhYmxlLm1ldHJpY3MuY2xpZW50UmVjdC50b3AgLSBiYi50b3ApLFxuICAgICAgICAgIGxlZnQ6IHNlbGVjdGFibGUubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC5sZWZ0ICsgKHNlbGVjdGFibGUubWV0cmljcy5jbGllbnRSZWN0LmxlZnQgLSBiYi5sZWZ0KSxcbiAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcmVzdG9yZSB0aGUgaW5pdGlhbCBkYXRhXG4gICAgICAgIHNlbGVjdGFibGUuZWwuc3R5bGUudG9wID0gaW5pdGlhbFRvcDtcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZS5sZWZ0ID0gaW5pdGlhbExlZnQ7XG4gICAgICAgIHNlbGVjdGFibGUuZWwuc3R5bGUudHJhbnNmb3JtID0gaW5pdGlhbFRyYW5zZm9ybTtcbiAgICAgICAgc2VsZWN0YWJsZS5lbC5zdHlsZS5wb3NpdGlvbiA9IGluaXRpYWxQb3NpdGlvbjtcblxuICAgICAgICAvLyB1cGRhdGUgYm90dG9tIGFuZCByaWdodFxuICAgICAgICBjb21wdXRlZFN0eWxlUmVjdC5yaWdodCA9IGNvbXB1dGVkU3R5bGVSZWN0LmxlZnQgKyBzZWxlY3RhYmxlLm1ldHJpY3MuY29tcHV0ZWRTdHlsZVJlY3Qud2lkdGg7XG4gICAgICAgIGNvbXB1dGVkU3R5bGVSZWN0LmJvdHRvbSA9IGNvbXB1dGVkU3R5bGVSZWN0LnRvcCArIHNlbGVjdGFibGUubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdG9yZVxuICAgICAgICBtZXRyaWNzID0ge1xuICAgICAgICAgIC4uLnNlbGVjdGFibGUubWV0cmljcyxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlUmVjdDoge1xuICAgICAgICAgICAgLi4uc2VsZWN0YWJsZS5tZXRyaWNzLmNvbXB1dGVkU3R5bGVSZWN0LFxuICAgICAgICAgICAgLi4uY29tcHV0ZWRTdHlsZVJlY3QsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgdGhlIHN0b3JlIHdpdGggdGhlIGNvcnJlY3RlZCBzdHlsZXNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNlbGVjdGFibGUsXG4gICAgICAgIHByZXZlbnRNZXRyaWNzOiBmYWxzZSxcbiAgICAgICAgdHJhbnNsYXRpb246IG51bGwsXG4gICAgICAgIG1ldHJpY3MsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBwb3NpdGlvbiBtYXJrZXJcbiAgICBpZih0aGlzLnBvc2l0aW9uTWFya2VyLnBhcmVudE5vZGUpIHRoaXMucG9zaXRpb25NYXJrZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBvc2l0aW9uTWFya2VyKTtcblxuICAgIC8vIHVwZGF0ZSBzdG9yZVxuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2VsZWN0YWJsZVN0YXRlLnVwZGF0ZVNlbGVjdGFibGVzKHRoaXMuc2VsZWN0aW9uKSwgKCkgPT4ge1xuICAgICAgLy8gY2hhbmdlIFVJIHN0YXRlIHdoaWxlIHNlbGVjdGFibGVzIG1ldHJpY3MgYXJlIHNpbXBseSB1cGRhdGVkXG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNldFJlZnJlc2hpbmcodHJ1ZSkpO1xuXG4gICAgICAvLyB1cGRhdGUgdG8gcmVhbCBtZXRyaWNzIGFmdGVyIGRyb3BcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGFibGVzLm1hcChzZWxlY3RhYmxlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zZWxlY3RhYmxlLFxuICAgICAgICAgIG1ldHJpY3M6IGRvbU1ldHJpY3MuZ2V0TWV0cmljcyhzZWxlY3RhYmxlLmVsKSxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNlbGVjdGFibGVTdGF0ZS51cGRhdGVTZWxlY3RhYmxlcyhzdGF0ZSkpO1xuXG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNldFJlZnJlc2hpbmcoZmFsc2UpKTtcblxuICAgICAgLy8gdXBkYXRlIHNjcm9sbFxuICAgICAgY29uc3QgYmIgPSBkb21NZXRyaWNzLmdldEJvdW5kaW5nQm94KHRoaXMuc2VsZWN0aW9uKTtcbiAgICAgIGNvbnN0IGluaXRpYWxTY3JvbGwgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkubW91c2Uuc2Nyb2xsRGF0YTtcbiAgICAgIGNvbnN0IHNjcm9sbCA9IGRvbU1ldHJpY3MuZ2V0U2Nyb2xsVG9TaG93KHRoaXMuc3RhZ2VEb2N1bWVudCwgYmIpO1xuICAgICAgaWYoc2Nyb2xsLnggIT09IGluaXRpYWxTY3JvbGwueCB8fCBzY3JvbGwueSAhPT0gaW5pdGlhbFNjcm9sbC55KSB7XG4gICAgICAgIHRoaXMuZGVib3VuY2VTY3JvbGwoc2Nyb2xsKTtcbiAgICAgIH1cbiAgICAgIC8vIG5vdGlmeSB0aGUgYXBwXG4gICAgICBpZih0aGlzLmhvb2tzLm9uRHJvcCkgdGhpcy5ob29rcy5vbkRyb3AodGhpcy5zZWxlY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogdXBkYXRlIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgYWJzb2x1dGVseSBwb3NpdGlvbmVkIGVsZW1lbnRzXG4gICAqL1xuICB1cGRhdGVEZXN0aW5hdGlvbkFic29sdXRlKHNlbGVjdGFibGU6IFNlbGVjdGFibGVTdGF0ZSwgZHJvcFpvbmVVbmRlck1vdXNlOiBIVE1MRWxlbWVudCk6IFNlbGVjdGFibGVTdGF0ZSB7XG4gICAgaWYoZHJvcFpvbmVVbmRlck1vdXNlID09PSBudWxsKSB7XG4gICAgICAvLyBGSVhNRTogc2hvdWxkIGZhbGxiYWNrIG9uIHRoZSBib2R5P1xuICAgICAgY29uc29sZS5pbmZvKCdubyBkcm9wWm9uZSB1bmRlciB0aGUgbW91c2UgZm91bmQsIGhvdyBpcyBpdCBwb3Vzc2libGUhJyk7XG4gICAgICByZXR1cm4gc2VsZWN0YWJsZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZWxlY3RhYmxlLFxuICAgICAgICBkcm9wWm9uZToge1xuICAgICAgICAgIC4uLnNlbGVjdGFibGUuZHJvcFpvbmUsXG4gICAgICAgICAgcGFyZW50OiBkcm9wWm9uZVVuZGVyTW91c2UsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIHVwZGF0ZSB0aGUgZGVzdGluYXRpb24gb2YgdGhlIE5PVCBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQgZWxlbWVudHNcbiAgICogYW5kIGRpc3BsYXkgYSBtYXJrZXIgaW4gdGhlIGZsb3dcbiAgICovXG4gIHVwZGF0ZURlc3RpbmF0aW9uTm9uQWJzb2x1dGUoc2VsZWN0YWJsZTogU2VsZWN0YWJsZVN0YXRlLCBuZWFyZXN0UG9zaXRpb24pOiBTZWxlY3RhYmxlU3RhdGUge1xuICAgIGlmKG5lYXJlc3RQb3NpdGlvbi5kaXN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgLy8gRklYTUU6IHNob3VsZCBmYWxsYmFjayBvbiB0aGUgYm9keT9cbiAgICAgIGNvbnNvbGUuaW5mbygnbm8gbmVhcmVzdCBwb3NpdGlvbiBmb3VuZCwgaG93IGlzIGl0IHBvdXNzaWJsZT8nKTtcbiAgICAgIHJldHVybiBzZWxlY3RhYmxlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubWFya1Bvc2l0aW9uKG5lYXJlc3RQb3NpdGlvbik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZWxlY3RhYmxlLFxuICAgICAgICBkcm9wWm9uZTogbmVhcmVzdFBvc2l0aW9uLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBkaXNwbGF5IHRoZSBwb3NpdGlvbiBtYXJrZXIgYXR0aGUgZ2l2ZW4gcG9zaXRpb25pbiB0aGUgZG9tXG4gICAqL1xuICBtYXJrUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICBpZihwb3NpdGlvbi5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHBvc2l0aW9uLm5leHRFbGVtZW50U2libGluZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLnBvc2l0aW9uTWFya2VyLCBwb3NpdGlvbi5uZXh0RWxlbWVudFNpYmxpbmcpO1xuICAgIH1cbiAgICBlbHNlIGlmKHBvc2l0aW9uLnBhcmVudCkge1xuICAgICAgcG9zaXRpb24ucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucG9zaXRpb25NYXJrZXIpO1xuICAgIH1cbiAgICBsZXQgYmJNYXJrZXI6IENsaWVudFJlY3QgPSBkb21NZXRyaWNzLmdldEJvdW5kaW5nQm94RG9jdW1lbnQodGhpcy5wb3NpdGlvbk1hcmtlcik7XG4gICAgbGV0IGJiVGFyZ2V0UHJldjogQ2xpZW50UmVjdCA9IHRoaXMucG9zaXRpb25NYXJrZXIucHJldmlvdXNFbGVtZW50U2libGluZyA/IGRvbU1ldHJpY3MuZ2V0Qm91bmRpbmdCb3hEb2N1bWVudCh0aGlzLnBvc2l0aW9uTWFya2VyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgYXMgSFRNTEVsZW1lbnQpIDogbnVsbDtcbiAgICBsZXQgYmJUYXJnZXROZXh0OiBDbGllbnRSZWN0ID0gdGhpcy5wb3NpdGlvbk1hcmtlci5uZXh0RWxlbWVudFNpYmxpbmcgPyBkb21NZXRyaWNzLmdldEJvdW5kaW5nQm94RG9jdW1lbnQodGhpcy5wb3NpdGlvbk1hcmtlci5uZXh0RWxlbWVudFNpYmxpbmcgYXMgSFRNTEVsZW1lbnQpIDogbnVsbDtcbiAgICBpZigoIWJiVGFyZ2V0UHJldiB8fCBiYk1hcmtlci50b3AgPj0gYmJUYXJnZXRQcmV2LmJvdHRvbSlcbiAgICAgICYmICghYmJUYXJnZXROZXh0IHx8IGJiTWFya2VyLmJvdHRvbSA8PSBiYlRhcmdldE5leHQudG9wKSkge1xuICAgICAgLy8gaG9yaXpvbnRhbFxuICAgICAgdGhpcy5wb3NpdGlvbk1hcmtlci5zdHlsZS53aWR0aCA9IGJiVGFyZ2V0UHJldiA/IGJiVGFyZ2V0UHJldi53aWR0aCArICdweCcgOiBiYlRhcmdldE5leHQgPyBiYlRhcmdldE5leHQud2lkdGggKyAncHgnIDogJzEwMCUnO1xuICAgICAgdGhpcy5wb3NpdGlvbk1hcmtlci5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gdmVydGljYWxcbiAgICAgIHRoaXMucG9zaXRpb25NYXJrZXIuc3R5bGUuaGVpZ2h0ID0gYmJUYXJnZXRQcmV2ID8gYmJUYXJnZXRQcmV2LmhlaWdodCArICdweCcgOiBiYlRhcmdldE5leHQgPyBiYlRhcmdldE5leHQuaGVpZ2h0ICsgJ3B4JyA6ICcxMDAlJztcbiAgICAgIHRoaXMucG9zaXRpb25NYXJrZXIuc3R5bGUud2lkdGggPSAnMCc7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogcGxhY2UgYW4gZW1wdHkgZGl2IChwaGFudG9tKSBhdCBlYWNoIHBvc3NpYmxlIHBsYWNlIGluIHRoZSBkb21cbiAgICogZmluZCB0aGUgcGxhY2Ugd2hlcmUgaXQgaXMgdGhlIG5lYXJlc3QgZnJvbSB0aGUgbW91c2VcbiAgICogeCBhbmQgeSBhcmUgY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0XG4gICAqL1xuICBmaW5kTmVhcmVzdFBvc2l0aW9uKGRyb3Bab25lOiBIVE1MRWxlbWVudCwgeCwgeSkge1xuICAgIC8vIGNyZWF0ZSBhbiBlbXB0eSBkaXYgdG8gbWVhc3VyZSBkaXN0YW5jZSB0byB0aGUgbW91c2VcbiAgICBsZXQgcGhhbnRvbSA9IHRoaXMuc3RhZ2VEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwaGFudG9tLmNsYXNzTGlzdC5hZGQoJ3BoYW50b20nKTtcbiAgICAvLyBpbml0IHRoZSByZXN1bHQgdG8gJ25vdCBmb3VuZCdcbiAgICBsZXQgbmVhcmVzdFBvc2l0aW9uOiBEcm9wWm9uZSA9IHtcbiAgICAgIG5leHRFbGVtZW50U2libGluZzogbnVsbCxcbiAgICAgIGRpc3RhbmNlOiBudWxsLFxuICAgICAgcGFyZW50OiBudWxsLFxuICAgIH07XG4gICAgZm9yKGxldCBpZHg9MDsgaWR4IDwgZHJvcFpvbmUuY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgbGV0IHNpYmxpbmcgPSBkcm9wWm9uZS5jaGlsZHJlbltpZHhdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgZHJvcFpvbmUuaW5zZXJ0QmVmb3JlKHBoYW50b20sIHNpYmxpbmcpO1xuICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZShwaGFudG9tLCB4LCB5KTtcbiAgICAgIGlmKG5lYXJlc3RQb3NpdGlvbi5kaXN0YW5jZSA9PT0gbnVsbCB8fCBuZWFyZXN0UG9zaXRpb24uZGlzdGFuY2UgPiBkaXN0YW5jZSkge1xuICAgICAgICBuZWFyZXN0UG9zaXRpb24ubmV4dEVsZW1lbnRTaWJsaW5nID0gc2libGluZztcbiAgICAgICAgbmVhcmVzdFBvc2l0aW9uLnBhcmVudCA9IGRyb3Bab25lO1xuICAgICAgICBuZWFyZXN0UG9zaXRpb24uZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIH1cbiAgICAgIGRyb3Bab25lLnJlbW92ZUNoaWxkKHBoYW50b20pO1xuICAgIH1cbiAgICAvLyB0ZXN0IHRoZSBsYXN0IHBvc2l0aW9uXG4gICAgZHJvcFpvbmUuYXBwZW5kQ2hpbGQocGhhbnRvbSk7XG4gICAgbGV0IGRpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZShwaGFudG9tLCB4LCB5KTtcbiAgICBpZihuZWFyZXN0UG9zaXRpb24uZGlzdGFuY2UgPT09IG51bGwgfHwgbmVhcmVzdFBvc2l0aW9uLmRpc3RhbmNlID4gZGlzdGFuY2UpIHtcbiAgICAgIG5lYXJlc3RQb3NpdGlvbi5uZXh0RWxlbWVudFNpYmxpbmcgPSBudWxsO1xuICAgICAgbmVhcmVzdFBvc2l0aW9uLnBhcmVudCA9IGRyb3Bab25lO1xuICAgICAgbmVhcmVzdFBvc2l0aW9uLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgfVxuICAgIGRyb3Bab25lLnJlbW92ZUNoaWxkKHBoYW50b20pO1xuXG4gICAgLy8gdGhlIG5leHQgZWxlbWVudCBjYW4gbm90IGJlIG91ciBwb3NpdGlvbiBtYXJrZXIgKGl0IGhhcHBlbnMpXG4gICAgaWYobmVhcmVzdFBvc2l0aW9uLm5leHRFbGVtZW50U2libGluZyA9PT0gdGhpcy5wb3NpdGlvbk1hcmtlcilcbiAgICAgIG5lYXJlc3RQb3NpdGlvbi5uZXh0RWxlbWVudFNpYmxpbmcgPSB0aGlzLnBvc2l0aW9uTWFya2VyLm5leHRFbGVtZW50U2libGluZyBhcyBIVE1MRWxlbWVudDtcbiAgICByZXR1cm4gbmVhcmVzdFBvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCB0aGUgZGlzdGFuY2UgZnJvbSBlbCdzIGNlbnRlciB0byAoeCwgeSlcbiAgICogeCBhbmQgeSBhcmUgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0XG4gICAqL1xuICBnZXREaXN0YW5jZShlbDogSFRNTEVsZW1lbnQsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgY29uc3QgYmIgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBjZW50ZXIgPSB7XG4gICAgICB4OiBiYi5sZWZ0ICsgKGJiLndpZHRoLzIpLFxuICAgICAgeTogYmIudG9wICsgKGJiLmhlaWdodC8yKSxcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguc3FydCgoKGNlbnRlci54IC0geCkgKiAoY2VudGVyLnggLSB4KSkgKyAoKGNlbnRlci55IC0geSkgKiAoY2VudGVyLnkgLSB5KSkpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQge1Jlc2l6ZUhhbmRsZXJ9IGZyb20gJy4uL2hhbmRsZXJzL1Jlc2l6ZUhhbmRsZXInO1xuaW1wb3J0IHtEcmF3SGFuZGxlcn0gZnJvbSAnLi4vaGFuZGxlcnMvRHJhd0hhbmRsZXInO1xuaW1wb3J0IHtNb3ZlSGFuZGxlcn0gZnJvbSAnLi4vaGFuZGxlcnMvTW92ZUhhbmRsZXInO1xuaW1wb3J0IHtTdGFnZVN0b3JlfSBmcm9tICcuLi9mbHV4L1N0YWdlU3RvcmUnO1xuaW1wb3J0IHsgTW91c2VIYW5kbGVyQmFzZSB9IGZyb20gJy4uL2hhbmRsZXJzL01vdXNlSGFuZGxlckJhc2UnO1xuXG4vKipcbiAqIEBjbGFzcyBUaGlzIGNsYXNzIGxpc3RlbnMgdG8gdGhlIHN0b3JlXG4gKiAgIGFuZCBhcHBseSB0aGUgc3RhdGUgY2hhbmdlcyB0byB0aGUgRE9NIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBVaU9ic2VydmVyIHtcbiAgcHVibGljIGhhbmRsZXI6IE1vdXNlSGFuZGxlckJhc2U7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RhZ2VEb2N1bWVudDogSFRNTERvY3VtZW50LCBwcml2YXRlIG92ZXJsYXlEb2N1bWVudDogSFRNTERvY3VtZW50LCBwcml2YXRlIHN0b3JlOiBTdGFnZVN0b3JlLCBwcml2YXRlIGhvb2tzOiB0eXBlcy5Ib29rcykge1xuICAgIHRoaXMuaGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy51bnN1YnNjcmliZUFsbC5wdXNoKHN0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZTogdHlwZXMuVWlTdGF0ZSwgcHJldlN0YXRlOiB0eXBlcy5VaVN0YXRlKSA9PiB0aGlzLm9uVWlTdGF0ZUNoYW5nZWQoc3RhdGUsIHByZXZTdGF0ZSksXG4gICAgICAoc3RhdGU6dHlwZXMuU3RhdGUpID0+IHN0YXRlLnVpXG4gICAgKSk7XG4gIH1cblxuICBwcml2YXRlIHVuc3Vic2NyaWJlQWxsOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBjbGVhbnVwKCkge1xuICAgIHRoaXMudW5zdWJzY3JpYmVBbGwuZm9yRWFjaCh1ID0+IHUoKSk7XG4gIH1cblxuICAvKipcbiAgICogaGFuZGxlIHN0YXRlIGNoYW5nZXMsIGRldGVjdCBjaGFuZ2VzIG9mIHNjcm9sbCBvciBtZXRyaWNzIG9yIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge1N0YXRlfSBzdGF0ZVxuICAgKiBAcGFyYW0ge1N0YXRlfSBwcmV2U3RhdGUgdGhlIG9sZCBzdGF0ZSBvYmpcbiAgICovXG4gIG9uVWlTdGF0ZUNoYW5nZWQoc3RhdGU6IHR5cGVzLlVpU3RhdGUsIHByZXZTdGF0ZTogdHlwZXMuVWlTdGF0ZSkge1xuICAgIGlmKHByZXZTdGF0ZS5tb2RlICE9PSBzdGF0ZS5tb2RlKSB7XG4gICAgICBpZih0aGlzLmhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbGVhc2UoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCBjc3MgY2xhc3MgYW5kIHN0eWxlXG4gICAgICB0aGlzLm92ZXJsYXlEb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoLi4uW1xuICAgICAgICBzdGF0ZS5tb2RlICE9PSB0eXBlcy5VaU1vZGUuRFJBRyA/ICdkcmFnZ2luZy1tb2RlJyA6ICdub3QtZHJhZ2dpbmctbW9kZScsXG4gICAgICAgIHN0YXRlLm1vZGUgIT09IHR5cGVzLlVpTW9kZS5SRVNJWkUgPyAncmVzaXppbmctbW9kZScgOiAnbm90LXJlc2l6aW5nLW1vZGUnLFxuICAgICAgICBzdGF0ZS5tb2RlICE9PSB0eXBlcy5VaU1vZGUuRFJBVyA/ICdkcmF3aW5nLW1vZGUnIDogJ25vdC1kcmF3aW5nLW1vZGUnLFxuICAgICAgXSk7XG4gICAgICB0aGlzLm92ZXJsYXlEb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoLi4uW1xuICAgICAgICBzdGF0ZS5tb2RlID09PSB0eXBlcy5VaU1vZGUuRFJBRyA/ICdkcmFnZ2luZy1tb2RlJyA6ICdub3QtZHJhZ2dpbmctbW9kZScsXG4gICAgICAgIHN0YXRlLm1vZGUgPT09IHR5cGVzLlVpTW9kZS5SRVNJWkUgPyAncmVzaXppbmctbW9kZScgOiAnbm90LXJlc2l6aW5nLW1vZGUnLFxuICAgICAgICBzdGF0ZS5tb2RlID09PSB0eXBlcy5VaU1vZGUuRFJBVyA/ICdkcmF3aW5nLW1vZGUnIDogJ25vdC1kcmF3aW5nLW1vZGUnLFxuICAgICAgXSk7XG4gICAgICAvLyBtYW5hZ2UgaGFuZGxlcnNcbiAgICAgIHN3aXRjaChzdGF0ZS5tb2RlKXtcbiAgICAgICAgY2FzZSB0eXBlcy5VaU1vZGUuTk9ORTpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0eXBlcy5VaU1vZGUuRFJBRzpcbiAgICAgICAgICB0aGlzLmhhbmRsZXIgPSBuZXcgTW92ZUhhbmRsZXIodGhpcy5zdGFnZURvY3VtZW50LCB0aGlzLm92ZXJsYXlEb2N1bWVudCwgdGhpcy5zdG9yZSwgdGhpcy5ob29rcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdHlwZXMuVWlNb2RlLlJFU0laRTpcbiAgICAgICAgICB0aGlzLmhhbmRsZXIgPSBuZXcgUmVzaXplSGFuZGxlcih0aGlzLnN0YWdlRG9jdW1lbnQsIHRoaXMub3ZlcmxheURvY3VtZW50LCB0aGlzLnN0b3JlLCB0aGlzLmhvb2tzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0eXBlcy5VaU1vZGUuRFJBVzpcbiAgICAgICAgICB0aGlzLmhhbmRsZXIgPSBuZXcgRHJhd0hhbmRsZXIodGhpcy5zdGFnZURvY3VtZW50LCB0aGlzLm92ZXJsYXlEb2N1bWVudCwgdGhpcy5zdG9yZSwgdGhpcy5ob29rcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVHlwZSBkZWZpbml0aW9ucy4gQ3Jvc3MgcGxhdGZvcm0sIGl0IG5lZWRzIHRvIHJ1biBjbGllbnQgYW5kIHNlcnZlciBzaWRlXG4gKlxuICovXG5cbmltcG9ydCB7IENydWRTdGF0ZSB9IGZyb20gJy4uL3N0b3JlL2NydWQtc3RvcmUnXG5pbXBvcnQgeyBDc3NSdWxlIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS90eXBlcydcblxuLyoqXG4gKiBFbGVtZW50c1xuICogQHNlZSBjb21wb25lbnRzLmVsZW1lbnRcbiAqL1xuZXhwb3J0IHR5cGUgRWxlbWVudElkID0gc3RyaW5nXG5cbmV4cG9ydCBlbnVtIEVsZW1lbnRUeXBlIHtcbiAgQ09OVEFJTkVSID0gJ2NvbnRhaW5lci1lbGVtZW50JyxcbiAgU0VDVElPTiA9ICdzZWN0aW9uLWVsZW1lbnQnLFxuICBJTUFHRSA9ICdpbWFnZS1lbGVtZW50JyxcbiAgVEVYVCA9ICd0ZXh0LWVsZW1lbnQnLFxuICBIVE1MID0gJ2h0bWwtZWxlbWVudCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2l6ZSB7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9XG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyfVxuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50UmVjdCB7XG4gIHdpZHRoOiBzdHJpbmcsIGhlaWdodDogc3RyaW5nLCBsZWZ0OiBzdHJpbmcsIHRvcDogc3RyaW5nLFxufVxuZXhwb3J0IGludGVyZmFjZSBSZWN0PFQ+IHtcbiAgdG9wOiBULFxuICBsZWZ0OiBULFxuICByaWdodDogVCxcbiAgYm90dG9tOiBULFxufVxuZXhwb3J0IGludGVyZmFjZSBGdWxsQm94PFQ9bnVtYmVyPiBleHRlbmRzIFJlY3Q8VD4ge1xuICB3aWR0aDogVCxcbiAgaGVpZ2h0OiBULFxufVxuLy8gbW92ZSBlbGVtZW50cyBwb3NpdGlvblxuZXhwb3J0IGVudW0gRGlyZWN0aW9uIHtcbiAgVVAgPSAnVVAnLFxuICBET1dOID0gJ0RPV04nLFxuICBMRUZUID0gJ0xFRlQnLFxuICBSSUdIVCA9ICdSSUdIVCcsXG59XG4vLyBtb3ZlIGVsZW1lbnRzIGluIHRoZSBkb21cbmV4cG9ydCBlbnVtIERvbURpcmVjdGlvbiB7XG4gIFVQID0gJ1VQJyxcbiAgRE9XTiA9ICdET1dOJyxcbiAgVE9QID0gJ1RPUCcsXG4gIEJPVFRPTSA9ICdCT1RUT00nLFxufVxuZXhwb3J0IHR5cGUgU3R5bGVPYmplY3QgPSB7XG4gIG1vYmlsZTogQ3NzUnVsZSxcbiAgZGVza3RvcDogQ3NzUnVsZSxcbn1cblxuLyoqXG4gKiBMaW5rc1xuICogQHNlZSBMaW5rRGlhbG9nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGluayB7XG4gIGhyZWY/OiBzdHJpbmdcbiAgbGlua1R5cGU6IExpbmtUeXBlXG4gIHRhcmdldD86IHN0cmluZyAvLyBvbmx5IHZhbGlkIGZvciBleHRlcm5hbCBsaW5rc1xuICB0aXRsZT86IHN0cmluZyAvLyBvbmx5IHZhbGlkIGZvciBleHRlcm5hbCBsaW5rc1xuICByZWw/OiBzdHJpbmcgLy8gb25seSB2YWxpZCBmb3IgZXh0ZXJuYWwgbGlua3NcbiAgdHlwZT86IHN0cmluZyAvLyBvbmx5IHZhbGlkIGZvciBleHRlcm5hbCBsaW5rc1xuICBkb3dubG9hZD86IHN0cmluZyAvLyBvbmx5IHZhbGlkIGZvciBleHRlcm5hbCBsaW5rc1xufVxuXG5leHBvcnQgZW51bSBMaW5rVHlwZSB7XG4gIFBBR0UgPSAnTGlua1R5cGVQYWdlJyxcbiAgVVJMPSAnTGlua1R5cGVFeHRlcm5hbCcsXG4gIC8vIFRPRE86IEFOQ0hPUiwgRU1BSUwuLi5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdHRyIHtcbiAgW25hbWU6IHN0cmluZ106IHN0cmluZyxcbn1cblxuLy8gVHlwZSB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBidXQgdGhlIHN5bWJvbCB1c2VkIHRvIGNvbXBhcmUgdGhlbSBpbiB0aGUgc3RvcmVcbi8vIFVzZSBmcm9tRWxlbWVudERhdGEgdG8gbWFrZSBpdCBhbiBFbGVtZW50U3RhdGVcbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudERhdGEge1xuICBwYWdlTmFtZXM6IHN0cmluZ1tdLFxuICBjbGFzc0xpc3Q6IHN0cmluZ1tdLFxuICBhdHRyOiBBdHRyLFxuICB0YWdOYW1lOiBzdHJpbmcsXG4gIHR5cGU6IEVsZW1lbnRUeXBlLFxuICBsaW5rPzogTGluayxcbiAgaWQ6IEVsZW1lbnRJZCxcbiAgY2hpbGRyZW46IEVsZW1lbnRJZFtdLFxuICBzZWxlY3RlZDogYm9vbGVhbixcbiAgZW5hYmxlRWRpdDogYm9vbGVhbixcbiAgZW5hYmxlRHJhZzogYm9vbGVhbixcbiAgZW5hYmxlRHJvcDogYm9vbGVhbixcbiAgZW5hYmxlUmVzaXplOiBSZWN0PGJvb2xlYW4+LFxuICB1c2VNaW5IZWlnaHQ6IGJvb2xlYW4sXG4gIGlzU2VjdGlvbkNvbnRlbnQ6IGJvb2xlYW4sXG4gIHRpdGxlOiBzdHJpbmcsXG4gIGFsdDogc3RyaW5nLFxuICB2aXNpYmlsaXR5OiB7XG4gICAgbW9iaWxlOiBib29sZWFuLFxuICAgIGRlc2t0b3A6IGJvb2xlYW4sXG4gIH0sXG4gIHN0eWxlOiBTdHlsZU9iamVjdCxcbiAgZGF0YToge1xuICAgIGNvbXBvbmVudDogQ29tcG9uZW50RGF0YSxcbiAgfSxcbiAgaW5uZXJIdG1sOiBzdHJpbmcsXG59XG5cbi8vIFR5cGUgYXMgc3RvcmVkIGluIHRoZSBzdG9yZVxuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50U3RhdGUgZXh0ZW5kcyBDcnVkU3RhdGUge1xuICBwYWdlTmFtZXM6IHN0cmluZ1tdLFxuICBjbGFzc0xpc3Q6IHN0cmluZ1tdLFxuICBhdHRyOiBBdHRyLFxuICB0YWdOYW1lOiBzdHJpbmcsXG4gIHR5cGU6IEVsZW1lbnRUeXBlLFxuICBsaW5rPzogTGluayxcbiAgaWQ6IEVsZW1lbnRJZCxcbiAgY2hpbGRyZW46IEVsZW1lbnRJZFtdLFxuICBzZWxlY3RlZDogYm9vbGVhbixcbiAgZW5hYmxlRWRpdDogYm9vbGVhbixcbiAgZW5hYmxlRHJhZzogYm9vbGVhbixcbiAgZW5hYmxlRHJvcDogYm9vbGVhbixcbiAgZW5hYmxlUmVzaXplOiBSZWN0PGJvb2xlYW4+LFxuICB1c2VNaW5IZWlnaHQ6IGJvb2xlYW4sXG4gIGlzU2VjdGlvbkNvbnRlbnQ6IGJvb2xlYW4sXG4gIHRpdGxlOiBzdHJpbmcsXG4gIGFsdDogc3RyaW5nLFxuICB2aXNpYmlsaXR5OiB7XG4gICAgbW9iaWxlOiBib29sZWFuLFxuICAgIGRlc2t0b3A6IGJvb2xlYW4sXG4gIH0sXG4gIHN0eWxlOiBTdHlsZU9iamVjdCxcbiAgZGF0YToge1xuICAgIGNvbXBvbmVudDogQ29tcG9uZW50RGF0YSxcbiAgfSxcbiAgaW5uZXJIdG1sOiBzdHJpbmcsXG59XG5cbi8qKlxuICogQ29tcG9uZW50c1xuICogQHNlZSBjbGllbnQuZWxlbWVudC5jb21wb25lbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnREYXRhIHtcbiAgbmFtZTogc3RyaW5nXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nXG4gIHRlbXBsYXRlTmFtZTogc3RyaW5nXG4gIGRhdGE6IGFueVxufVxuZXhwb3J0IGludGVyZmFjZSBQcm9kb3R5cGVEZXBlbmRlbmN5IHtcbiAgW3RhZ05hbWU6IHN0cmluZ106IFByb2RvdHlwZURlcGVuZGVuY3lUYWdbXSxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9kb3R5cGVEZXBlbmRlbmN5VGFnIHtcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nLFxufVxuIiwiaW1wb3J0ICQkb2JzZXJ2YWJsZSBmcm9tICdzeW1ib2wtb2JzZXJ2YWJsZSc7XG5cbi8qKlxuICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuICogRm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuICovXG52YXIgcmFuZG9tU3RyaW5nID0gZnVuY3Rpb24gcmFuZG9tU3RyaW5nKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG59O1xuXG52YXIgQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6IFwiQEByZWR1eC9JTklUXCIgKyByYW5kb21TdHJpbmcoKSxcbiAgUkVQTEFDRTogXCJAQHJlZHV4L1JFUExBQ0VcIiArIHJhbmRvbVN0cmluZygpLFxuICBQUk9CRV9VTktOT1dOX0FDVElPTjogZnVuY3Rpb24gUFJPQkVfVU5LTk9XTl9BQ1RJT04oKSB7XG4gICAgcmV0dXJuIFwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTlwiICsgcmFuZG9tU3RyaW5nKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IG9iaiBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYXJndW1lbnQgYXBwZWFycyB0byBiZSBhIHBsYWluIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJvdG8gPSBvYmo7XG5cbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGVuaGFuY2VyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBhcmd1bWVudHNbM10gPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0IGxvb2tzIGxpa2UgeW91IGFyZSBwYXNzaW5nIHNldmVyYWwgc3RvcmUgZW5oYW5jZXJzIHRvICcgKyAnY3JlYXRlU3RvcmUoKS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkLCBjb21wb3NlIHRoZW0gJyArICd0b2dldGhlciB0byBhIHNpbmdsZSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgLyoqXG4gICAqIFRoaXMgbWFrZXMgYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudExpc3RlbmVycyBzbyB3ZSBjYW4gdXNlXG4gICAqIG5leHRMaXN0ZW5lcnMgYXMgYSB0ZW1wb3JhcnkgbGlzdCB3aGlsZSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogVGhpcyBwcmV2ZW50cyBhbnkgYnVncyBhcm91bmQgY29uc3VtZXJzIGNhbGxpbmdcbiAgICogc3Vic2NyaWJlL3Vuc3Vic2NyaWJlIGluIHRoZSBtaWRkbGUgb2YgYSBkaXNwYXRjaC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgY2FsbCBzdG9yZS5nZXRTdGF0ZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdUaGUgcmVkdWNlciBoYXMgYWxyZWFkeSByZWNlaXZlZCB0aGUgc3RhdGUgYXMgYW4gYXJndW1lbnQuICcgKyAnUGFzcyBpdCBkb3duIGZyb20gdGhlIHRvcCByZWR1Y2VyIGluc3RlYWQgb2YgcmVhZGluZyBpdCBmcm9tIHRoZSBzdG9yZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY2hhbmdlIGxpc3RlbmVyLiBJdCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSBhbiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCxcbiAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cbiAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG4gICAqIGNhdmVhdHM6XG4gICAqXG4gICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cbiAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG4gICAqIHdpbGwgbm90IGhhdmUgYW55IGVmZmVjdCBvbiB0aGUgYGRpc3BhdGNoKClgIHRoYXQgaXMgY3VycmVudGx5IGluIHByb2dyZXNzLlxuICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcbiAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cbiAgICpcbiAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG4gICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG4gICAqIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQuIEl0IGlzLCBob3dldmVyLCBndWFyYW50ZWVkIHRoYXQgYWxsIHN1YnNjcmliZXJzXG4gICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3RcbiAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG5cblxuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuc3Vic2NyaWJlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ0lmIHlvdSB3b3VsZCBsaWtlIHRvIGJlIG5vdGlmaWVkIGFmdGVyIHRoZSBzdG9yZSBoYXMgYmVlbiB1cGRhdGVkLCBzdWJzY3JpYmUgZnJvbSBhICcgKyAnY29tcG9uZW50IGFuZCBpbnZva2Ugc3RvcmUuZ2V0U3RhdGUoKSBpbiB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIHRoZSBsYXRlc3Qgc3RhdGUuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS1yZWZlcmVuY2Uvc3RvcmUjc3Vic2NyaWJlbGlzdGVuZXIgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgdW5zdWJzY3JpYmUgZnJvbSBhIHN0b3JlIGxpc3RlbmVyIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpLXJlZmVyZW5jZS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBjdXJyZW50TGlzdGVuZXJzID0gbnVsbDtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGFjdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuICcgKyAnVXNlIGN1c3RvbSBtaWRkbGV3YXJlIGZvciBhc3luYyBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcihuZXh0UmVkdWNlcikge1xuICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjsgLy8gVGhpcyBhY3Rpb24gaGFzIGEgc2ltaWxpYXIgZWZmZWN0IHRvIEFjdGlvblR5cGVzLklOSVQuXG4gICAgLy8gQW55IHJlZHVjZXJzIHRoYXQgZXhpc3RlZCBpbiBib3RoIHRoZSBuZXcgYW5kIG9sZCByb290UmVkdWNlclxuICAgIC8vIHdpbGwgcmVjZWl2ZSB0aGUgcHJldmlvdXMgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gICAgLy8gdGhlIG5ldyBzdGF0ZSB0cmVlIHdpdGggYW55IHJlbGV2YW50IGRhdGEgZnJvbSB0aGUgb2xkIG9uZS5cblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJFUExBQ0VcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBvYnNlcnZhYmxlIHByb3Bvc2FsOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0JyB8fCBvYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX3JlZlskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX3JlZjtcbiAgfSAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTklUXG4gIH0pO1xuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbJCRvYnNlcnZhYmxlXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufVxuXG4vKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cblxuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG5cbn1cblxuZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gIHZhciBhY3Rpb25EZXNjcmlwdGlvbiA9IGFjdGlvblR5cGUgJiYgXCJhY3Rpb24gXFxcIlwiICsgU3RyaW5nKGFjdGlvblR5cGUpICsgXCJcXFwiXCIgfHwgJ2FuIGFjdGlvbic7XG4gIHJldHVybiBcIkdpdmVuIFwiICsgYWN0aW9uRGVzY3JpcHRpb24gKyBcIiwgcmVkdWNlciBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBcIiArIFwiVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiBcIiArIFwiSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCI7XG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiBcIlRoZSBcIiArIGFyZ3VtZW50TmFtZSArIFwiIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXFxcIlwiICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyBcIlxcXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgXCIgKyAoXCJrZXlzOiBcXFwiXCIgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XTtcbiAgfSk7XG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldID0gdHJ1ZTtcbiAgfSk7XG4gIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLlJFUExBQ0UpIHJldHVybjtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBcIlVuZXhwZWN0ZWQgXCIgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArIFwiIFwiICsgKFwiXFxcIlwiICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIgZm91bmQgaW4gXCIgKyBhcmd1bWVudE5hbWUgKyBcIi4gXCIpICsgXCJFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6IFwiICsgKFwiXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTaGFwZShyZWR1Y2Vycykge1xuICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgIHZhciBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWR1Y2VyIFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBcIiArIFwiSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IFwiICsgXCJleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IFwiICsgXCJub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZXQgYSB2YWx1ZSBmb3IgdGhpcyByZWR1Y2VyLCBcIiArIFwieW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJPQkVfVU5LTk9XTl9BQ1RJT04oKVxuICAgIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVkdWNlciBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gXCIgKyAoXCJEb24ndCB0cnkgdG8gaGFuZGxlIFwiICsgQWN0aW9uVHlwZXMuSU5JVCArIFwiIG9yIG90aGVyIGFjdGlvbnMgaW4gXFxcInJlZHV4LypcXFwiIFwiKSArIFwibmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgXCIgKyBcImN1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsIFwiICsgXCJpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgXCIgKyBcImFjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZCwgYnV0IGNhbiBiZSBudWxsLlwiKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5cblxuZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZyhcIk5vIHJlZHVjZXIgcHJvdmlkZWQgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7IC8vIFRoaXMgaXMgdXNlZCB0byBtYWtlIHN1cmUgd2UgZG9uJ3Qgd2FybiBhYm91dCB0aGUgc2FtZVxuICAvLyBrZXlzIG11bHRpcGxlIHRpbWVzLlxuXG4gIHZhciB1bmV4cGVjdGVkS2V5Q2FjaGU7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGUgPSB7fTtcbiAgfVxuXG4gIHZhciBzaGFwZUFzc2VydGlvbkVycm9yO1xuXG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIGlmIChzaGFwZUFzc2VydGlvbkVycm9yKSB7XG4gICAgICB0aHJvdyBzaGFwZUFzc2VydGlvbkVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSk7XG5cbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9rZXkgPSBmaW5hbFJlZHVjZXJLZXlzW19pXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1tfa2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVbX2tleV07XG4gICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuXG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKF9rZXksIGFjdGlvbik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGg7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYW4gYWN0aW9uIGNyZWF0b3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGRpc3BhdGNoIHdyYXBwZWQgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkIFwiICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArIFwiLiBcIiArIFwiRGlkIHlvdSB3cml0ZSBcXFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiIGluc3RlYWQgb2YgXFxcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiP1wiKTtcbiAgfVxuXG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KSk7XG4gIH1cblxuICBpZiAoZW51bWVyYWJsZU9ubHkpIGtleXMgPSBrZXlzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gIH0pO1xuICByZXR1cm4ga2V5cztcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmNzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmNzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYShiLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5cbmZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG5cbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXNwYXRjaGluZyB3aGlsZSBjb25zdHJ1Y3RpbmcgeW91ciBtaWRkbGV3YXJlIGlzIG5vdCBhbGxvd2VkLiAnICsgJ090aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC4nKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gY29tcG9zZS5hcHBseSh2b2lkIDAsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZDIoe30sIHN0b3JlLCB7XG4gICAgICAgIGRpc3BhdGNoOiBfZGlzcGF0Y2hcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59XG5cbi8qXG4gKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4gKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4gKi9cblxuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgd2FybmluZygnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIi4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIHNldHRpbmcgbW9kZSB0byBwcm9kdWN0aW9uIGluIHdlYnBhY2sgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uY2VwdHMvbW9kZS8pICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0IHsgQWN0aW9uVHlwZXMgYXMgX19ET19OT1RfVVNFX19BY3Rpb25UeXBlcywgYXBwbHlNaWRkbGV3YXJlLCBiaW5kQWN0aW9uQ3JlYXRvcnMsIGNvbWJpbmVSZWR1Y2VycywgY29tcG9zZSwgY3JlYXRlU3RvcmUgfTtcbiIsImltcG9ydCB7IGFwcGx5TWlkZGxld2FyZSwgY29tYmluZVJlZHVjZXJzLCBPYnNlcnZhYmxlLCBjcmVhdGVTdG9yZSwgU3RvcmUgfSBmcm9tICdyZWR1eCc7XG5cbmltcG9ydCB7IE1vdXNlU3RhdGUsIFNlbGVjdGFibGVTdGF0ZSwgU3RhdGUsIFVpU3RhdGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBzZWxlY3Rpb24gfSBmcm9tICcuL1NlbGVjdGlvblN0YXRlJztcbmltcG9ydCB7IHVpIH0gZnJvbSAnLi9VaVN0YXRlJztcbmltcG9ydCAqIGFzIG1vdXNlU3RhdGUgZnJvbSAnLi9Nb3VzZVN0YXRlJztcbmltcG9ydCAqIGFzIHNlbGVjdGFibGVTdGF0ZSBmcm9tICcuL1NlbGVjdGFibGVTdGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBTdGFnZVN0b3JlIGltcGxlbWVudHMgU3RvcmU8U3RhdGU+IHtcbiAgW1N5bWJvbC5vYnNlcnZhYmxlXSgpOiBPYnNlcnZhYmxlPFN0YXRlPiB7XG4gICAgcmV0dXJuIHRoaXMgYXMgYW55IGFzIE9ic2VydmFibGU8U3RhdGU+O1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgcmVkdXggc3RvcmUgd2l0aCBjb21wb3NlZCByZWR1Y2Vyc1xuICAgKiBAcmV0dXJuIFN0b3JlXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGNyZWF0ZVN0b3JlKCk6IFN0b3JlPFN0YXRlPiB7XG5cbiAgICBjb25zdCByZWR1Y2VyID0gY29tYmluZVJlZHVjZXJzKHtcbiAgICAgIHNlbGVjdGFibGVzOiAoc3RhdGU6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4sIGFjdGlvbikgPT4gc2VsZWN0YWJsZVN0YXRlLnNlbGVjdGFibGVzKHNlbGVjdGlvbihzdGF0ZSwgYWN0aW9uKSwgYWN0aW9uKSxcbiAgICAgIHVpOiAoc3RhdGU6IFVpU3RhdGUsIGFjdGlvbikgPT4gdWkoc3RhdGUsIGFjdGlvbiksXG4gICAgICBtb3VzZTogKHN0YXRlOiBNb3VzZVN0YXRlLCBhY3Rpb24pID0+IG1vdXNlU3RhdGUubW91c2Uoc3RhdGUsIGFjdGlvbiksXG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGFwcGx5TWlkZGxld2FyZShTdGFnZVN0b3JlLnByZXZlbnREaXNwYXRjaER1cmluZ1JlZHJhdykpIGFzIFN0b3JlPFN0YXRlPjtcbiAgfTtcblxuICAvLyB0aGlzIGlzIHVudXNlZCBmb3Igbm93LCBJIHVzZWQgdGhlIFwicmVmcmVzaGluZ1wiIHByb3AgaW5zdGVhZCwgb24gc3RhdGUudWlcbiAgcHJpdmF0ZSBzdGF0aWMgcHJldmVudERpc3BhdGNoRHVyaW5nUmVkcmF3KHsgZ2V0U3RhdGUgfSkge1xuICAgIHJldHVybiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gICAgICBpZiAoYWN0aW9uLnByZXZlbnREaXNwYXRjaCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3ByZXZlbnQgZGlzcGF0Y2gnLCBhY3Rpb24pXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBuZXh0KGFjdGlvbilcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlXG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogdGhlIG1haW4gcmVkdXggc3RvcmVcbiAgICogQHR5cGUge1N0b3JlfVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0b3JlOiBTdG9yZTxTdGF0ZT4gPSBTdGFnZVN0b3JlLmNyZWF0ZVN0b3JlKCk7XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBzdGF0ZSBjaGFuZ2VzIHdpdGggdGhlIGFiaWxpdHkgdG8gZmlsdGVyIGJ5IHN1YnN0YXRlXG4gICAqIEBwYXJhbSBvbkNoYW5nZSBjYWxsYmFjayB0byBnZXQgdGhlIHN0YXRlIGFuZCB0aGUgcHJldmlvdXMgc3RhdGVcbiAgICogQHBhcmFtIHNlbGVjdCBtZXRob2QgdG8gc2VsZWN0IHRoZSBzdWIgc3RhdGVcbiAgICogQHJldHVybiB7ZnVuY3Rpb24oKX0gZnVuY3Rpb24gdG8gY2FsbCB0byB1bnN1YnNjcmliZVxuICAgKi9cbiAgc3Vic2NyaWJlPFN1YlN0YXRlPihvbkNoYW5nZTogKHN0YXRlOlN1YlN0YXRlLCBwcmV2U3RhdGU6U3ViU3RhdGUpID0+IHZvaWQsIHNlbGVjdD0oc3RhdGU6U3RhdGUpOlN1YlN0YXRlID0+IChzdGF0ZSBhcyBhbnkpKSB7XG4gICAgbGV0IGN1cnJlbnRTdGF0ZSA9IHNlbGVjdCh0aGlzLnN0b3JlLmdldFN0YXRlKCkpO1xuXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgbGV0IG5leHRTdGF0ZSA9IHNlbGVjdCh0aGlzLnN0b3JlLmdldFN0YXRlKCkpO1xuICAgICAgaWYgKG5leHRTdGF0ZSAhPT0gY3VycmVudFN0YXRlKSB7XG4gICAgICAgIGxldCBwcmV2U3RhdGUgPSBjdXJyZW50U3RhdGU7XG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgb25DaGFuZ2UoY3VycmVudFN0YXRlLCBwcmV2U3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdG9yZS5zdWJzY3JpYmUoaGFuZGxlQ2hhbmdlKTtcbiAgfVxuICAvLyBjbG9uZSB0aGUgb2JqZWN0LCBub3QgZGVlcFxuICBjbG9uZTxTdWJTdGF0ZT4ob2JqOiBTdWJTdGF0ZSk6IFN1YlN0YXRlIHtcbiAgICBsZXQgcmVzOiBhbnk7XG4gICAgaWYob2JqIGluc3RhbmNlb2YgQXJyYXkpIHJlcyA9IChvYmogYXMgQXJyYXk8YW55Pikuc2xpY2UoKSBhcyBhbnkgYXMgU3ViU3RhdGU7XG4gICAgZWxzZSBpZihvYmogaW5zdGFuY2VvZiBPYmplY3QpIHJlcyA9IHtcbiAgICAgICAgLi4uKG9iaiBhcyBhbnkgYXMgT2JqZWN0KSxcbiAgICAgIH0gYXMgU3ViU3RhdGU7XG4gICAgZWxzZSByZXMgPSBvYmo7XG4gICAgaWYob2JqID09PSByZXMpIHRocm93ICdub3QgY2xvbmVkJztcbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGRpc3BhdGNoKGFjdGlvbjogYW55LCBjYms6ICgpID0+IHZvaWQgPSBudWxsKTogYW55IHtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgaWYoY2JrKSBjYmsoKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBnZXRTdGF0ZSgpOiBTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgfVxuICByZXBsYWNlUmVkdWNlcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG4iLCJpbXBvcnQge1N0YWdlU3RvcmV9IGZyb20gJy4vZmx1eC9TdGFnZVN0b3JlJztcbmltcG9ydCB7IFNlbGVjdGFibGVTdGF0ZSwgU3RhdGUsIE1vdXNlU3RhdGUsIFVpU3RhdGUsIFVpTW9kZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgYWRkRXZlbnQgfSBmcm9tICcuL3V0aWxzL0V2ZW50cyc7XG5pbXBvcnQgKiBhcyBEb21NZXRyaWNzIGZyb20gJy4vdXRpbHMvRG9tTWV0cmljcyc7XG5cbmludGVyZmFjZSBCb3gge1xuICBzZWxlY3RhYmxlOiBTZWxlY3RhYmxlU3RhdGU7XG4gIHVpOiBIVE1MRWxlbWVudDtcbn1cblxuZXhwb3J0IGNsYXNzIFVpIHtcbiAgcHJvdGVjdGVkIGJveGVzOiBBcnJheTxCb3g+ID0gW107XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVVpKGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQsIHN0b3JlOiBTdGFnZVN0b3JlKTogUHJvbWlzZTxVaT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxVaT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZG9jID0gRG9tTWV0cmljcy5nZXREb2N1bWVudChpZnJhbWUpO1xuXG4gICAgICBjb25zdCBvdmVybGF5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG5cbiAgICAgIGlmKG92ZXJsYXkuY29udGVudERvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgLy8gY2hyb21lXG4gICAgICAgIHJlc29sdmUobmV3IFVpKGlmcmFtZSwgb3ZlcmxheSwgc3RvcmUpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBmaXJlZm94XG4gICAgICAgIG92ZXJsYXkuY29udGVudFdpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShuZXcgVWkoaWZyYW1lLCBvdmVybGF5LCBzdG9yZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHByaXZhdGUgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCwgcHVibGljIG92ZXJsYXk6IEhUTUxJRnJhbWVFbGVtZW50LCBwcml2YXRlIHN0b3JlOiBTdGFnZVN0b3JlKSB7XG4gICAgLy8gbGlzdGVuIHRvIGV2ZW50c1xuICAgIHRoaXMudW5zdWJzY3JpYmVBbGwucHVzaChcbiAgICAgIC8vIGFkZEV2ZW50KHdpbiwgJ3Jlc2l6ZScsICgpID0+IHRoaXMucmVzaXplT3ZlcmxheSgpKSxcbiAgICAgIGFkZEV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsICgpID0+IHRoaXMucmVzaXplT3ZlcmxheSgpKSxcbiAgICAgIHN0b3JlLnN1YnNjcmliZShcbiAgICAgICAgKHNlbGVjdGFibGVzOiBBcnJheTxTZWxlY3RhYmxlU3RhdGU+KSA9PiB0aGlzLnVwZGF0ZShzZWxlY3RhYmxlcyksXG4gICAgICAgIChzdGF0ZTogU3RhdGUpID0+IHN0YXRlLnNlbGVjdGFibGVzLFxuICAgICAgKSxcbiAgICAgIHN0b3JlLnN1YnNjcmliZShcbiAgICAgICAgKHN0YXRlOiBNb3VzZVN0YXRlLCBwcmV2U3RhdGU6IE1vdXNlU3RhdGUpID0+IHRoaXMub25Nb3VzZUNoYW5nZWQoc3RhdGUsIHByZXZTdGF0ZSksXG4gICAgICAgIChzdGF0ZTpTdGF0ZSkgPT4gc3RhdGUubW91c2VcbiAgICAgICksXG4gICAgICBzdG9yZS5zdWJzY3JpYmUoXG4gICAgICAgIChzdGF0ZTogVWlTdGF0ZSwgcHJldlN0YXRlOiBVaVN0YXRlKSA9PiB0aGlzLm9uVWlDaGFuZ2VkKHN0YXRlLCBwcmV2U3RhdGUpLFxuICAgICAgICAoc3RhdGU6U3RhdGUpID0+IHN0YXRlLnVpXG4gICAgICApLFxuICAgICk7XG5cbiAgICAvLyBpbml0IGlmcmFtZXNcbiAgICB0aGlzLnJlc2l6ZU92ZXJsYXkoKTtcbiAgICB0aGlzLm92ZXJsYXkuY29udGVudERvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgaWZyYW1lLmNvbnRlbnREb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7IC8vIEZJWE1FOiB0aGlzIGNvdWxkIGJlIGEgcHJvYmxlbSBpZiBzYXZlZCB3aXRoIHRoZSBzaXRlLCB3aGF0IG90aGVyIHNvbHV0aW9uP1xuXG4gICAgLy8gYWRkIFVJIHN0eWxlc1xuICAgIHRoaXMub3ZlcmxheS5jb250ZW50RG9jdW1lbnQuaGVhZC5pbm5lckhUTUwgPSBgXG4gICAgICA8c3R5bGU+XG4gICAgICAgIGJvZHkge1xuICAgICAgICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgICAgICAgbWFyZ2luOiAtNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keS5kcmFnZ2luZy1tb2RlIC5ib3gubm90LXNlbGVjdGVkLm5vdC1hYm91dFRvRHJvcCxcbiAgICAgICAgYm9keS5yZXNpemluZy1tb2RlIC5ib3gubm90LXNlbGVjdGVkIHsgZGlzcGxheTogbm9uZTsgfVxuXG4gICAgICAgIC5hYm91dFRvRHJvcCwgLnNlbGVjdGVkLmJveCwgLmJveC50YXJnZXQge1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgLjUpO1xuICAgICAgICB9XG4gICAgICAgIC5ib3guYWJvdXRUb0Ryb3A6YmVmb3JlLFxuICAgICAgICAuYm94LnNlbGVjdGVkOmJlZm9yZSxcbiAgICAgICAgLmJveC50YXJnZXQ6YmVmb3JlIHtcbiAgICAgICAgICBjb250ZW50OiAnICc7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHotaW5kZXg6IC0xO1xuICAgICAgICAgIHRvcDogMXB4O1xuICAgICAgICAgIGxlZnQ6IDFweDtcbiAgICAgICAgICByaWdodDogMXB4O1xuICAgICAgICAgIGJvdHRvbTogMXB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjMpO1xuICAgICAgICB9XG4gICAgICAgIC5ub3Qtc2VsZWN0YWJsZSxcbiAgICAgICAgLm5vdC1zZWxlY3RlZCAuaGFuZGxlIHsgZGlzcGxheTogbm9uZTsgfVxuXG4gICAgICAgIC5oYW5kbGUge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB6LWluZGV4OiA5OTk7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAuNSk7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTtcbiAgICAgICAgICB3aWR0aDogNXB4O1xuICAgICAgICAgIGhlaWdodDogNXB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIuNXB4O1xuICAgICAgICB9XG4gICAgICAgIC5oYW5kbGUtbncgeyB0b3A6IC00cHg7IGxlZnQ6IC00cHg7IH1cbiAgICAgICAgLm5vdC1yZXNpemVhYmxlLW53IC5oYW5kbGUtbncgeyBkaXNwbGF5OiBub25lOyB9XG5cbiAgICAgICAgLmhhbmRsZS1uZSB7IHRvcDogLTRweDsgcmlnaHQ6IC00cHg7IH1cbiAgICAgICAgLm5vdC1yZXNpemVhYmxlLW5lIC5oYW5kbGUtbmUgeyBkaXNwbGF5OiBub25lOyB9XG5cbiAgICAgICAgLmhhbmRsZS1zdyB7IGJvdHRvbTogLTRweDsgbGVmdDogLTRweDsgfVxuICAgICAgICAubm90LXJlc2l6ZWFibGUtc3cgLmhhbmRsZS1zdyB7IGRpc3BsYXk6IG5vbmU7IH1cblxuICAgICAgICAuaGFuZGxlLXNlIHsgYm90dG9tOiAtNHB4OyByaWdodDogLTRweDsgfVxuICAgICAgICAubm90LXJlc2l6ZWFibGUtc2UgLmhhbmRsZS1zZSB7IGRpc3BsYXk6IG5vbmU7IH1cblxuICAgICAgICAucmVnaW9uLW1hcmtlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAuMSk7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAuNSk7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbWluLXdpZHRoOiAxcHg7XG4gICAgICAgICAgbWluLWhlaWdodDogMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0eWNreS1sZWZ0IHsgYm9yZGVyLWxlZnQtY29sb3I6IHJlZCAhaW1wb3J0YW50OyB9XG4gICAgICAgIC5zdHlja3ktdG9wIHsgYm9yZGVyLXRvcC1jb2xvcjogcmVkICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgLnN0eWNreS1yaWdodCB7IGJvcmRlci1yaWdodC1jb2xvcjogcmVkICFpbXBvcnRhbnQ7IH1cbiAgICAgICAgLnN0eWNreS1ib3R0b20geyBib3JkZXItYm90dG9tLWNvbG9yOiByZWQgIWltcG9ydGFudDsgfVxuICAgIGA7XG4gIH1cblxuICByZXNpemVPdmVybGF5KCkge1xuICAgIHRoaXMucmVzaXplKClcbiAgfVxuXG4gIHByaXZhdGUgdW5zdWJzY3JpYmVBbGw6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIGNsZWFudXAoKSB7XG4gICAgdGhpcy51bnN1YnNjcmliZUFsbC5mb3JFYWNoKHUgPT4gdSgpKTtcbiAgICB0aGlzLm92ZXJsYXkucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm92ZXJsYXkpO1xuICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XG4gIH1cblxuICAvLyBwcml2YXRlIGdldFNjcm9sbERhdGEoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCk6IFNjcm9sbERhdGEge1xuICAvLyAgIHJldHVybiB7XG4gIC8vICAgICB4OiBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbFdpZHRoLFxuICAvLyAgICAgeTogaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gIC8vICAgfTtcbiAgLy8gfVxuICBwcml2YXRlIHJlc2l6ZSgpIHtcbiAgICBjb25zdCBtZXRyaWNzID0gRG9tTWV0cmljcy5nZXRNZXRyaWNzKHRoaXMuaWZyYW1lKTtcbiAgICBjb25zdCB6SW5kZXggPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5pZnJhbWUpLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKTtcbiAgICBtZXRyaWNzLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBEb21NZXRyaWNzLnNldE1ldHJpY3ModGhpcy5vdmVybGF5LCBtZXRyaWNzLCBmYWxzZSwgdHJ1ZSk7XG4gICAgdGhpcy5vdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gICAgdGhpcy5vdmVybGF5LnN0eWxlLnpJbmRleCA9ICgocGFyc2VJbnQoekluZGV4KSB8fCAwKSArIDEpLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5vdmVybGF5LnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgfVxuICBwcml2YXRlIGlzUmVmcmVzaGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIG9uVWlDaGFuZ2VkKHN0YXRlOiBVaVN0YXRlLCBwcmV2U3RhdGU6IFVpU3RhdGUpIHtcbiAgICB0aGlzLmlzUmVmcmVzaGluZyA9IHN0YXRlLnJlZnJlc2hpbmc7XG4gICAgLy8gLy8gdXBkYXRlIGFmdGVyIHJlZnJlc2ggKGZhaWwgYmVjYXVzZSBpc1JlZnJlc2hpbmcgaXMgdHVybmVkIG9uIGFuZCBvZmYgbWFueSB0aW1lcylcbiAgICAvLyBpZiAoc3RhdGUucmVmcmVzaGluZyAhPT0gcHJldlN0YXRlLnJlZnJlc2hpbmcgJiYgc3RhdGUucmVmcmVzaGluZyA9PT0gZmFsc2UpIHtcbiAgICAvLyAgIHRoaXMudXBkYXRlKHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlcylcbiAgICAvLyB9XG4gICAgaWYoc3RhdGUuY2F0Y2hpbmdFdmVudHMgIT09IHByZXZTdGF0ZS5jYXRjaGluZ0V2ZW50cyB8fCBzdGF0ZS5tb2RlICE9PSBwcmV2U3RhdGUubW9kZSkge1xuICAgICAgLy8gdGhpcyBpcyB0byBnaXZlIHRoZSBmb2N1cyBvbiB0aGUgVUksIGFuZCBub3QgcHJldmVudCB0aGUgdXNlciBmcm9tIHByZXNzaW5nIHRhYiBhZ2FpblxuICAgICAgdGhpcy5vdmVybGF5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBzdGF0ZS5jYXRjaGluZ0V2ZW50cyA/ICcnIDogJ25vbmUnO1xuXG4gICAgICBpZihzdGF0ZS5tb2RlID09PSBVaU1vZGUuSElERSkge1xuICAgICAgICB0aGlzLm92ZXJsYXkuc3R5bGUudG9wID0gXCItOTk5OTk5cHhcIjtcbiAgICAgICAgdGhpcy5vdmVybGF5LnN0eWxlLmxlZnQgPSBcIi05OTk5OTlweFwiO1xuICAgICAgICB0aGlzLm92ZXJsYXkuc3R5bGUud2lkdGggPSBcIjBcIjtcbiAgICAgICAgdGhpcy5vdmVybGF5LnN0eWxlLmhlaWdodCA9IFwiMFwiO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMucmVzaXplT3ZlcmxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcml2YXRlIG9uTW91c2VDaGFuZ2VkKHN0YXRlOiBNb3VzZVN0YXRlLCBwcmV2U3RhdGU6IE1vdXNlU3RhdGUpIHtcbiAgICBpZihzdGF0ZS5zY3JvbGxEYXRhLnggIT09IHByZXZTdGF0ZS5zY3JvbGxEYXRhLnggfHwgc3RhdGUuc2Nyb2xsRGF0YS55ICE9PSBwcmV2U3RhdGUuc2Nyb2xsRGF0YS55KSB7XG4gICAgICBEb21NZXRyaWNzLnNldFNjcm9sbCh0aGlzLm92ZXJsYXkuY29udGVudERvY3VtZW50LCBzdGF0ZS5zY3JvbGxEYXRhKTtcblxuICAgICAgLy8gYWRqdXN0IHNjcm9sbCAtIHNvbWV0aW1lcyB0aGVyZSBpcyBhIDFweCBkaWZmZXJlbmNlIGJlY2F1c2Ugb2YgdGhlIGJvcmRlciBvZiB0aGUgVUlcbiAgICAgIGlmKHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51aS5tb2RlICE9PSBVaU1vZGUuSElERSkge1xuICAgICAgICBEb21NZXRyaWNzLnNldFNjcm9sbCh0aGlzLmlmcmFtZS5jb250ZW50RG9jdW1lbnQsIHN0YXRlLnNjcm9sbERhdGEpO1xuICAgICAgICBjb25zdCBuZXdTY3JvbGxEYXRhID0gRG9tTWV0cmljcy5nZXRTY3JvbGwodGhpcy5pZnJhbWUuY29udGVudERvY3VtZW50KTtcbiAgICAgICAgaWYoc3RhdGUuc2Nyb2xsRGF0YS54ICE9PSBuZXdTY3JvbGxEYXRhLnggfHwgc3RhdGUuc2Nyb2xsRGF0YS55ICE9PSBuZXdTY3JvbGxEYXRhLnkpIHtcbiAgICAgICAgICAvLyB0aGVyZSBpcyBhIGRlbHRhIGluIHNjcm9sbFxuICAgICAgICAgIERvbU1ldHJpY3Muc2V0U2Nyb2xsKHRoaXMub3ZlcmxheS5jb250ZW50RG9jdW1lbnQsIG5ld1Njcm9sbERhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmKHN0YXRlLmN1cnNvckRhdGEuY3Vyc29yVHlwZSAhPT0gcHJldlN0YXRlLmN1cnNvckRhdGEuY3Vyc29yVHlwZSkge1xuICAgICAgdGhpcy5vdmVybGF5LmNvbnRlbnREb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IHN0YXRlLmN1cnNvckRhdGEuY3Vyc29yVHlwZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoc2VsZWN0YWJsZXM6IEFycmF5PFNlbGVjdGFibGVTdGF0ZT4pIHtcbiAgICBpZighdGhpcy5pc1JlZnJlc2hpbmcpIHtcbiAgICAgIC8vICB1cGRhdGUgc2Nyb2xsXG4gICAgICBjb25zdCB7IHNjcm9sbFdpZHRoLCBzY3JvbGxIZWlnaHR9ID0gdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50O1xuICAgICAgdGhpcy5vdmVybGF5LmNvbnRlbnREb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gc2Nyb2xsV2lkdGggKyAncHgnO1xuICAgICAgdGhpcy5vdmVybGF5LmNvbnRlbnREb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IHNjcm9sbEhlaWdodCArICdweCc7XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgVUlzIHRoYXQgaGF2ZSBubyBjb3JyZXNwb25kaW5nIGVsZW1lbnQgaW4gdGhlIHN0YWdlXG4gICAgICB0aGlzLmJveGVzXG4gICAgICAuZmlsdGVyKHIgPT4gIXNlbGVjdGFibGVzLmZpbmQocyA9PiByLnNlbGVjdGFibGUuZWwgPT09IHMuZWwpKVxuICAgICAgLmZvckVhY2gociA9PiByLnVpLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoci51aSkpO1xuXG4gICAgICAvLyByZW1vdmUgdGhlIGJveGVzXG4gICAgICB0aGlzLmJveGVzID0gdGhpcy5ib3hlc1xuICAgICAgLmZpbHRlcihyID0+IHNlbGVjdGFibGVzLmZpbmQocyA9PiByLnNlbGVjdGFibGUuZWwgPT09IHMuZWwpKVxuXG4gICAgICAvLyBhZGQgdGhlIG1pc3NpbmcgYm94ZXNcbiAgICAgIHRoaXMuYm94ZXMgPSB0aGlzLmJveGVzLmNvbmNhdChcbiAgICAgICAgc2VsZWN0YWJsZXNcbiAgICAgICAgLy8gb25seSB0aGUgbWlzc2luZyBvbmVzXG4gICAgICAgIC5maWx0ZXIocyA9PiAhdGhpcy5ib3hlcy5maW5kKHIgPT4gci5zZWxlY3RhYmxlLmVsID09PSBzLmVsKSlcbiAgICAgICAgLy8gY3JlYXRlIGEgYm94IG9iamVjdFxuICAgICAgICAubWFwKHMgPT4gKHtcbiAgICAgICAgICBzZWxlY3RhYmxlOiBzLFxuICAgICAgICAgIC8vIGFwcGVuZCBhIG5ldyBkaXYgdG8gdGhlIG92ZXJsYXlcbiAgICAgICAgICB1aTogdGhpcy5vdmVybGF5LmNvbnRlbnREb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQm94VWkoKSksXG4gICAgICAgIH0pKVxuICAgICAgKTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSB2aWV3XG4gICAgICBjb25zdCBtb2RlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnVpLm1vZGU7XG4gICAgICBjb25zdCBkcm9wWm9uZXMgPSBtb2RlID09PSBVaU1vZGUuRFJBRyA/IHNlbGVjdGFibGVzLmZpbHRlcihzID0+IHMuZHJvcFpvbmUgJiYgcy5kcm9wWm9uZS5wYXJlbnQpLm1hcChzID0+IHMuZHJvcFpvbmUucGFyZW50KVxuICAgICAgICA6IFtdO1xuICAgICAgICB0aGlzLmJveGVzXG4gICAgICAgIC5tYXAociA9PiB0aGlzLnVwZGF0ZUJveChyLCBzZWxlY3RhYmxlcy5maW5kKHMgPT4gcy5lbCA9PT0gci5zZWxlY3RhYmxlLmVsKSwgZHJvcFpvbmVzKSk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgY3JlYXRlQm94VWkoKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGJveCA9IHRoaXMub3ZlcmxheS5jb250ZW50RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYm94LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9J2hhbmRsZSBoYW5kbGUtbncnPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0naGFuZGxlIGhhbmRsZS1uZSc+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSdoYW5kbGUgaGFuZGxlLXN3Jz48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9J2hhbmRsZSBoYW5kbGUtc2UnPjwvZGl2PlxuICAgIGA7XG4gICAgcmV0dXJuIGJveDtcbiAgfVxuICBwcml2YXRlIHVwZGF0ZUJveChib3g6IEJveCwgc2VsZWN0YWJsZTogU2VsZWN0YWJsZVN0YXRlLCBkcm9wWm9uZXM6IEhUTUxFbGVtZW50W10pOiBCb3gge1xuICAgIGNvbnN0IHN0aWNreSA9IHNlbGVjdGFibGUuc2VsZWN0ZWQgPyB0aGlzLnN0b3JlLmdldFN0YXRlKCkudWkuc3RpY2t5IDoge3RvcDogbnVsbCwgbGVmdDogbnVsbCwgYm90dG9tOiBudWxsLCByaWdodDogbnVsbH07XG4gICAgY29uc3QgYWJvdXRUb0Ryb3AgPSAhIWRyb3Bab25lcy5maW5kKGVsID0+IGVsID09PSBzZWxlY3RhYmxlLmVsKTtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkubW91c2UubW91c2VEYXRhLnRhcmdldCA9PT0gYm94LnNlbGVjdGFibGUuZWw7XG5cbiAgICBib3guc2VsZWN0YWJsZSA9IHNlbGVjdGFibGU7XG4gICAgRG9tTWV0cmljcy5zZXRNZXRyaWNzKGJveC51aSwge1xuICAgICAgLi4uYm94LnNlbGVjdGFibGUubWV0cmljcyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgcGFkZGluZzoge3RvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH0sXG4gICAgICBtYXJnaW46IHt0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDB9LFxuICAgICAgYm9yZGVyOiB7dG9wOiAxLCBsZWZ0OiAxLCBib3R0b206IDEsIHJpZ2h0OiAxfSxcbiAgICB9LCBmYWxzZSwgdHJ1ZSk7XG4gICAgYm94LnVpLmNsYXNzTGlzdC5yZW1vdmUoLi4uW1xuICAgICAgIWJveC5zZWxlY3RhYmxlLnNlbGVjdGVkID8gJ3NlbGVjdGVkJyA6ICdub3Qtc2VsZWN0ZWQnLFxuICAgICAgIWJveC5zZWxlY3RhYmxlLnNlbGVjdGFibGUgPyAnc2VsZWN0YWJsZScgOiAnbm90LXNlbGVjdGFibGUnLFxuICAgICAgIWJveC5zZWxlY3RhYmxlLmRyYWdnYWJsZSA/ICdkcmFnZ2FibGUnIDogJ25vdC1kcmFnZ2FibGUnLFxuICAgICAgIWJveC5zZWxlY3RhYmxlLmhvdmVyZWQgPyAnaG92ZXInIDogJ25vdC1ob3ZlcicsXG4gICAgICAhdGFyZ2V0ID8gJ3RhcmdldCcgOiAnbm90LXRhcmdldCcsXG4gICAgICAoIWJveC5zZWxlY3RhYmxlLnJlc2l6ZWFibGUudG9wICYmICFib3guc2VsZWN0YWJsZS5yZXNpemVhYmxlLmxlZnQpID8gJ3Jlc2l6ZWFibGUtbncnIDogJ25vdC1yZXNpemVhYmxlLW53JyxcbiAgICAgICghYm94LnNlbGVjdGFibGUucmVzaXplYWJsZS50b3AgJiYgIWJveC5zZWxlY3RhYmxlLnJlc2l6ZWFibGUucmlnaHQpID8gJ3Jlc2l6ZWFibGUtbmUnIDogJ25vdC1yZXNpemVhYmxlLW5lJyxcbiAgICAgICghYm94LnNlbGVjdGFibGUucmVzaXplYWJsZS5ib3R0b20gJiYgIWJveC5zZWxlY3RhYmxlLnJlc2l6ZWFibGUubGVmdCkgPyAncmVzaXplYWJsZS1zdycgOiAnbm90LXJlc2l6ZWFibGUtc3cnLFxuICAgICAgKCFib3guc2VsZWN0YWJsZS5yZXNpemVhYmxlLmJvdHRvbSAmJiAhYm94LnNlbGVjdGFibGUucmVzaXplYWJsZS5yaWdodCkgPyAncmVzaXplYWJsZS1zZScgOiAnbm90LXJlc2l6ZWFibGUtc2UnLFxuICAgICAgIWJveC5zZWxlY3RhYmxlLmlzRHJvcFpvbmUgPyAnaXNEcm9wWm9uZScgOiAnbm90LWlzRHJvcFpvbmUnLFxuICAgICAgIXN0aWNreS5sZWZ0ID8gJ3N0eWNreS1sZWZ0JyA6ICdub3Qtc3R5Y2t5LWxlZnQnLFxuICAgICAgIXN0aWNreS50b3AgPyAnc3R5Y2t5LXRvcCcgOiAnbm90LXN0eWNreS10b3AnLFxuICAgICAgIXN0aWNreS5yaWdodCA/ICdzdHlja3ktcmlnaHQnIDogJ25vdC1zdHlja3ktcmlnaHQnLFxuICAgICAgIXN0aWNreS5ib3R0b20gPyAnc3R5Y2t5LWJvdHRvbScgOiAnbm90LXN0eWNreS1ib3R0b20nLFxuICAgICAgIWFib3V0VG9Ecm9wID8gJ2Fib3V0VG9Ecm9wJyA6ICdub3QtYWJvdXRUb0Ryb3AnLFxuICAgIF0pO1xuICAgIGJveC51aS5jbGFzc0xpc3QuYWRkKC4uLltcbiAgICAgICdib3gnLFxuICAgICAgYm94LnNlbGVjdGFibGUuc2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJ25vdC1zZWxlY3RlZCcsXG4gICAgICBib3guc2VsZWN0YWJsZS5zZWxlY3RhYmxlID8gJ3NlbGVjdGFibGUnIDogJ25vdC1zZWxlY3RhYmxlJyxcbiAgICAgIGJveC5zZWxlY3RhYmxlLmRyYWdnYWJsZSA/ICdkcmFnZ2FibGUnIDogJ25vdC1kcmFnZ2FibGUnLFxuICAgICAgYm94LnNlbGVjdGFibGUuaG92ZXJlZCA/ICdob3ZlcicgOiAnbm90LWhvdmVyJyxcbiAgICAgIHRhcmdldCA/ICd0YXJnZXQnIDogJ25vdC10YXJnZXQnLFxuICAgICAgKGJveC5zZWxlY3RhYmxlLnJlc2l6ZWFibGUudG9wICYmIGJveC5zZWxlY3RhYmxlLnJlc2l6ZWFibGUubGVmdCkgPyAncmVzaXplYWJsZS1udycgOiAnbm90LXJlc2l6ZWFibGUtbncnLFxuICAgICAgKGJveC5zZWxlY3RhYmxlLnJlc2l6ZWFibGUudG9wICYmIGJveC5zZWxlY3RhYmxlLnJlc2l6ZWFibGUucmlnaHQpID8gJ3Jlc2l6ZWFibGUtbmUnIDogJ25vdC1yZXNpemVhYmxlLW5lJyxcbiAgICAgIChib3guc2VsZWN0YWJsZS5yZXNpemVhYmxlLmJvdHRvbSAmJiBib3guc2VsZWN0YWJsZS5yZXNpemVhYmxlLmxlZnQpID8gJ3Jlc2l6ZWFibGUtc3cnIDogJ25vdC1yZXNpemVhYmxlLXN3JyxcbiAgICAgIChib3guc2VsZWN0YWJsZS5yZXNpemVhYmxlLmJvdHRvbSAmJiBib3guc2VsZWN0YWJsZS5yZXNpemVhYmxlLnJpZ2h0KSA/ICdyZXNpemVhYmxlLXNlJyA6ICdub3QtcmVzaXplYWJsZS1zZScsXG4gICAgICBib3guc2VsZWN0YWJsZS5pc0Ryb3Bab25lID8gJ2lzRHJvcFpvbmUnIDogJ25vdC1pc0Ryb3Bab25lJyxcbiAgICAgIHN0aWNreS5sZWZ0ID8gJ3N0eWNreS1sZWZ0JyA6ICdub3Qtc3R5Y2t5LWxlZnQnLFxuICAgICAgc3RpY2t5LnRvcCA/ICdzdHlja3ktdG9wJyA6ICdub3Qtc3R5Y2t5LXRvcCcsXG4gICAgICBzdGlja3kucmlnaHQgPyAnc3R5Y2t5LXJpZ2h0JyA6ICdub3Qtc3R5Y2t5LXJpZ2h0JyxcbiAgICAgIHN0aWNreS5ib3R0b20gPyAnc3R5Y2t5LWJvdHRvbScgOiAnbm90LXN0eWNreS1ib3R0b20nLFxuICAgICAgYWJvdXRUb0Ryb3AgPyAnYWJvdXRUb0Ryb3AnIDogJ25vdC1hYm91dFRvRHJvcCcsXG4gICAgXSk7XG4gICAgcmV0dXJuIGJveDtcbiAgfVxuICAvKipcbiAgICogaGlkZSB0aGUgd2hvbGUgVUlcbiAgICovXG4gIGhpZGVVaShoaWRlOiBib29sZWFuKSB7XG4gICAgdGhpcy5vdmVybGF5LmNvbnRlbnREb2N1bWVudC5ib2R5LnN0eWxlLmRpc3BsYXkgPSBoaWRlID8gJ25vbmUnIDogJyc7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0ICogYXMgUG9seWZpbGwgZnJvbSAnLi91dGlscy9Qb2x5ZmlsbCc7XG5pbXBvcnQgKiBhcyBEb21NZXRyaWNzIGZyb20gJy4vdXRpbHMvRG9tTWV0cmljcyc7XG5pbXBvcnQge0tleWJvYXJkfSBmcm9tICcuL0tleWJvYXJkJztcbmltcG9ydCB7TW91c2UsIE1vdXNlTW9kZX0gZnJvbSAnLi9Nb3VzZSc7XG5pbXBvcnQgKiBhcyBzZWxlY3Rpb25TdGF0ZSBmcm9tICcuL2ZsdXgvU2VsZWN0aW9uU3RhdGUnO1xuaW1wb3J0ICogYXMgVWlBY3Rpb24gZnJvbSAnLi9mbHV4L1VpU3RhdGUnO1xuaW1wb3J0IHtTZWxlY3RhYmxlc09ic2VydmVyfSBmcm9tICcuL29ic2VydmVycy9TZWxlY3RhYmxlc09ic2VydmVyJztcbmltcG9ydCB7IERvbU9ic2VydmVyIH0gZnJvbSAnLi9vYnNlcnZlcnMvRG9tT2JzZXJ2ZXInO1xuaW1wb3J0IHtNb3VzZU9ic2VydmVyfSBmcm9tICcuL29ic2VydmVycy9Nb3VzZU9ic2VydmVyJztcbmltcG9ydCB7VWlPYnNlcnZlcn0gZnJvbSAnLi9vYnNlcnZlcnMvVWlPYnNlcnZlcic7XG5pbXBvcnQge1N0YWdlU3RvcmV9IGZyb20gJy4vZmx1eC9TdGFnZVN0b3JlJztcbmltcG9ydCB7IHJlc2V0U2VsZWN0YWJsZXMsIGNyZWF0ZVNlbGVjdGFibGUsIHVwZGF0ZVNlbGVjdGFibGVzLCBkZWxldGVTZWxlY3RhYmxlIH0gZnJvbSAnLi9mbHV4L1NlbGVjdGFibGVTdGF0ZSc7XG5pbXBvcnQgeyBzZXRTY3JvbGwgfSBmcm9tICcuL2ZsdXgvTW91c2VTdGF0ZSc7XG5pbXBvcnQgeyBVaSB9IGZyb20gJy4vVWknO1xuaW1wb3J0IHsgTW92ZUhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXJzL01vdmVIYW5kbGVyJztcbmltcG9ydCB7IFNlbGVjdGFibGVTdGF0ZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgYWRkRXZlbnQgfSBmcm9tICcuL3V0aWxzL0V2ZW50cyc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyB0aGUgZW50cnkgcG9pbnQgb2YgdGhlIGxpYnJhcnlcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3NpbGV4bGFicy9kcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50XG4gKiBAY2xhc3MgU3RhZ2VcbiAqL1xuZXhwb3J0IGNsYXNzIFN0YWdlIHtcbiAgcHJvdGVjdGVkIGNvbnRlbnRXaW5kb3c6IFdpbmRvdztcbiAgcHJvdGVjdGVkIGNvbnRlbnREb2N1bWVudDogSFRNTERvY3VtZW50O1xuICBwcm90ZWN0ZWQgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudDtcbiAgcHJvdGVjdGVkIGhvb2tzOiB0eXBlcy5Ib29rcztcbiAgcHJvdGVjdGVkIHVuc3Vic2NyaWJlQWxsOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBwcm90ZWN0ZWQgdWk6IFVpO1xuICBwcm90ZWN0ZWQgc3RvcmU6IFN0YWdlU3RvcmU7XG4gIHByb3RlY3RlZCBtb3VzZTogTW91c2U7XG5cbiAgcHJvdGVjdGVkIHNlbGVjdGFibGVzT2JzZXJ2ZXI6IFNlbGVjdGFibGVzT2JzZXJ2ZXI7XG4gIHByb3RlY3RlZCBkb21PYnNlcnZlcjogRG9tT2JzZXJ2ZXI7XG4gIHByb3RlY3RlZCB1aU9ic2VydmVyOiBVaU9ic2VydmVyO1xuICBwcm90ZWN0ZWQgbW91c2VPYnNlcnZlcjogTW91c2VPYnNlcnZlcjtcblxuICAvKipcbiAgICogSW5pdCB0aGUgdXNlZnVsIGNsYXNzZXMsXG4gICAqIGFkZCBzdHlsZXMgdG8gdGhlIGlmcmFtZSBmb3IgdGhlIFVJLFxuICAgKiBsaXN0ZW4gdG8gbW91c2UgZXZlbnRzIGluIHRoZSBpZnJhbWUgYW5kIG91dHNpZGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LCBlbGVtZW50czogQXJyYXlMaWtlPEhUTUxFbGVtZW50Piwgb3B0aW9uczogdHlwZXMuSG9va3M9e30pIHtcbiAgICAvLyBleHBvc2UgZm9yIGNsaWVudCBhcHBcbiAgICB3aW5kb3dbJ1N0YWdlJ10gPSBTdGFnZTtcblxuICAgIC8vIHN0b3JlIHRoZSBwYXJhbXNcbiAgICB0aGlzLmlmcmFtZSA9IGlmcmFtZTtcbiAgICB0aGlzLmNvbnRlbnRXaW5kb3cgPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93O1xuICAgIHRoaXMuY29udGVudERvY3VtZW50ID0gdGhpcy5pZnJhbWUuY29udGVudERvY3VtZW50O1xuICAgIHRoaXMuaG9va3MgPSB7XG4gICAgICAuLi5vcHRpb25zLCAvLyBvdGhlciBob29rcyB3aXRob3V0IGRlZmF1bHQgdmFsdWVzXG4gICAgICBnZXRJZDogb3B0aW9ucy5nZXRJZCB8fCAoZWwgPT4ge1xuICAgICAgICBpZihlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc3RhZ2UtaWQnKSkgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zdGFnZS1pZCcpO1xuICAgICAgICBjb25zdCBpZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDk5OTk5OSkudG9TdHJpbmcoKTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN0YWdlLWlkJywgaWQpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9KSxcbiAgICAgIGlzU2VsZWN0YWJsZTogb3B0aW9ucy5pc1NlbGVjdGFibGUgfHwgKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0YWJsZScpKSxcbiAgICAgIGlzRHJhZ2dhYmxlOiBvcHRpb25zLmlzRHJhZ2dhYmxlIHx8IChlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RyYWdnYWJsZScpKSxcbiAgICAgIGlzRHJvcFpvbmU6IG9wdGlvbnMuaXNEcm9wWm9uZSB8fCAoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3BwYWJsZScpKSxcbiAgICAgIGlzUmVzaXplYWJsZTogb3B0aW9ucy5pc1Jlc2l6ZWFibGUgfHwgKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVhYmxlJykpLFxuICAgICAgdXNlTWluSGVpZ2h0OiBvcHRpb25zLnVzZU1pbkhlaWdodCB8fCAoKGVsKSA9PiB0cnVlKSxcbiAgICAgIGNhbkRyb3A6IG9wdGlvbnMuY2FuRHJvcCB8fCAoKGVsLCBkcm9wWm9uZSkgPT4gdHJ1ZSksXG4gICAgfVxuXG4gICAgLy8gcG9seWZpbGwgdGhlIGlmcmFtZVxuICAgIFBvbHlmaWxsLnBhdGNoV2luZG93KHRoaXMuY29udGVudFdpbmRvdyk7XG5cbiAgICAvLyBjcmVhdGUgdGhlIHN0b3JlXG4gICAgdGhpcy5zdG9yZSA9IG5ldyBTdGFnZVN0b3JlKCk7XG5cbiAgICAvLyBhZGQgYSBVSSBvdmVyIHRoZSBpZnJhbWVcbiAgICBVaS5jcmVhdGVVaShpZnJhbWUsIHRoaXMuc3RvcmUpXG4gICAgLnRoZW4oKHVpOiBVaSkgPT4ge1xuICAgICAgdGhpcy51aSA9IHVpO1xuXG4gICAgICAvLyBzdGF0ZSBvYnNlcnZlcnNcbiAgICAgIHRoaXMuc2VsZWN0YWJsZXNPYnNlcnZlciA9IG5ldyBTZWxlY3RhYmxlc09ic2VydmVyKHRoaXMuY29udGVudERvY3VtZW50LCB0aGlzLnVpLm92ZXJsYXkuY29udGVudERvY3VtZW50LCB0aGlzLnN0b3JlLCB0aGlzLmhvb2tzKTtcbiAgICAgIHRoaXMuZG9tT2JzZXJ2ZXIgPSBuZXcgRG9tT2JzZXJ2ZXIodGhpcy5zdG9yZSwgKHN0YXRlLCBlbnRyaWVzKSA9PiB0aGlzLmRvbU9ic2VydmVyQ2FsbGJhY2soc3RhdGUsIGVudHJpZXMpKTtcbiAgICAgIHRoaXMudWlPYnNlcnZlciA9IG5ldyBVaU9ic2VydmVyKHRoaXMuY29udGVudERvY3VtZW50LCB0aGlzLnVpLm92ZXJsYXkuY29udGVudERvY3VtZW50LCB0aGlzLnN0b3JlLCB0aGlzLmhvb2tzKTtcbiAgICAgIHRoaXMubW91c2VPYnNlcnZlciA9IG5ldyBNb3VzZU9ic2VydmVyKHRoaXMuY29udGVudERvY3VtZW50LCB0aGlzLnVpLm92ZXJsYXkuY29udGVudERvY3VtZW50LCB0aGlzLnN0b3JlLCB0aGlzLmhvb2tzKTtcblxuICAgICAgLy8gY29udHJvbGxlcnNcbiAgICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2UodGhpcy5jb250ZW50V2luZG93LCB0aGlzLnVpLm92ZXJsYXkuY29udGVudFdpbmRvdywgdGhpcy5zdG9yZSwgdGhpcy5ob29rcyk7XG4gICAgICBjb25zdCBrZXlib2FyZCA9IG5ldyBLZXlib2FyZCh0aGlzLnVpLm92ZXJsYXkuY29udGVudFdpbmRvdywgdGhpcy5zdG9yZSwgdGhpcy5ob29rcyk7XG5cbiAgICAgIHRoaXMudW5zdWJzY3JpYmVBbGwucHVzaChcbiAgICAgICAgKCkgPT4gdGhpcy5zZWxlY3RhYmxlc09ic2VydmVyLmNsZWFudXAoKSxcbiAgICAgICAgKCkgPT4gdGhpcy5kb21PYnNlcnZlci5jbGVhbnVwKCksXG4gICAgICAgICgpID0+IHRoaXMudWlPYnNlcnZlci5jbGVhbnVwKCksXG4gICAgICAgICgpID0+IHRoaXMubW91c2VPYnNlcnZlci5jbGVhbnVwKCksXG4gICAgICAgICgpID0+IHRoaXMubW91c2UuY2xlYW51cCgpLFxuICAgICAgICAoKSA9PiBrZXlib2FyZC5jbGVhbnVwKCksXG4gICAgICAgIGFkZEV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsICgpID0+IHRoaXMudXBkYXRlTWV0cmljcygpKSxcbiAgICAgICk7XG5cbiAgICAgIC8vIHBvcHVsYXRlIHRoZSBzdG9yZVxuICAgICAgdGhpcy5yZXNldChlbGVtZW50cyk7XG5cbiAgICAgIC8vIGZpbmlzaCBpbml0XG4gICAgICB0aGlzLndhaXRpbmdMaXN0ZW5lcnMuZm9yRWFjaChsID0+IGwoKSk7XG4gICAgICB0aGlzLndhaXRpbmdMaXN0ZW5lcnMgPSBbXTtcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIERPTSBvYnNlcnZlcnMgc2F5IHNvbWUgZWxlbWVudHMgY2hhbmdlZFxuICAgKiBXZSBuZWVkIHRvIHVwZGF0ZSB0aGVpciBtZXRyaWNzXG4gICAqL1xuICBkb21PYnNlcnZlckNhbGxiYWNrKHN0YXRlOiBTZWxlY3RhYmxlU3RhdGUsIGVudHJpZXMpIHtcbiAgICAvLyBtdXRhdGlvbiBvYnNlcnZlcnMgYXJlIG5vdCB1c2VkIGFueW1vcmVcbiAgICAvLyB0aGV5IHVzZSB0byBkZXRlY3QgY2hhbmdlcyBtYW55IHRpbWVzXG4gICAgLy8gY29uc3QgdXBkYXRlZDogSFRNTEVsZW1lbnRbXSA9IFtdO1xuICAgIC8vIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAvLyAgIGlmIChlbnRyeS50eXBlID09PSAnY2hpbGRMaXN0Jykge1xuICAgIC8vICAgICAvLyB1cGRhdGUgY2hpbGRyZW4gVUkgd2hlbiB0aGVpciBvcmRlciBjaGFuZ2VkXG4gICAgLy8gICAgIGNvbnN0IGNoaWxkcmVuOiBIVE1MRWxlbWVudFtdID0gQXJyYXkuZnJvbShlbnRyeS50YXJnZXQuY2hpbGRyZW4pXG4gICAgLy8gICAgIC8vIFRPRE86IGFsc28gYWRkIHRoZSBlbGVtZW50cyBjaGlsZHJlbiByZWN1cnNpdmVseVxuICAgIC8vICAgICB1cGRhdGVkLnB1c2goLi4uY2hpbGRyZW4pO1xuICAgIC8vICAgfSBlbHNlIHtcbiAgICAvLyAgICAgLy8gdXBkYXRlIHRoZSB0YXJnZXQgaXRzZWxmXG4gICAgLy8gICAgIHVwZGF0ZWQucHVzaChlbnRyeS50YXJnZXQpO1xuICAgIC8vICAgfVxuICAgIC8vIH0pXG4gICAgLy8gdGhpcy51cGRhdGVNZXRyaWNzKHVwZGF0ZWQpO1xuICAgIHRoaXMudXBkYXRlTWV0cmljcyhcbiAgICAgIGVudHJpZXMubWFwKChlbnRyeTogYW55KSA9PiBlbnRyeS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAuY29uY2F0KHN0YXRlLmVsKVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiB1cGRhdGUgdGhlIHBvc2l0aW9uIGFuZCBzaXplIG9mIHRoZSBVSVxuICAgKi9cbiAgdXBkYXRlTWV0cmljcyh1cGRhdGVkOiBIVE1MRWxlbWVudFtdID0gbnVsbCkge1xuICAgIGNvbnN0IHVwZGF0ZVN0YXRlczogU2VsZWN0YWJsZVN0YXRlW10gPSB1cGRhdGVkID8gdXBkYXRlZFxuICAgICAgLm1hcCgoZWwpID0+IHRoaXMuZ2V0U3RhdGUoZWwpKVxuICAgICAgLmZpbHRlcigoc3RhdGUpID0+ICEhc3RhdGUpXG4gICAgICA6IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlcztcblxuICAgIC8vIGFkZCBjaGlsZHJlblxuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGFibGVzXG4gICAgICAuZmlsdGVyKChzdGF0ZSkgPT4gdGhpcy5nZXRQYXJlbnRzKHN0YXRlLmVsKVxuICAgICAgICAuc29tZSgocGFyZW50RWwpID0+IHVwZGF0ZVN0YXRlc1xuICAgICAgICAgIC5zb21lKCh1cGRhdGVTdGF0ZSkgPT4gdXBkYXRlU3RhdGUuZWwgPT09IHBhcmVudEVsKSkpXG5cbiAgICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICAgIGNvbnN0IHN0YXRlcyA9IFsuLi5uZXcgU2V0KHVwZGF0ZVN0YXRlcy5jb25jYXQoY2hpbGRyZW4pKV1cbiAgICBcbiAgICAvLyB1cGRhdGUgbWV0cmljcyBvZiB0aGUgdXBkYXRlZCBzdGF0ZXNcbiAgICBpZiAoc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGlzUmVmcmVzaGluZyA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51aS5yZWZyZXNoaW5nXG4gICAgICBpZiAoIWlzUmVmcmVzaGluZykgdGhpcy5zdG9yZS5kaXNwYXRjaChVaUFjdGlvbi5zZXRSZWZyZXNoaW5nKHRydWUpKTtcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXBkYXRlU2VsZWN0YWJsZXMoc3RhdGVzLm1hcChzZWxlY3RhYmxlID0+ICh7XG4gICAgICAgIC4uLnNlbGVjdGFibGUsXG4gICAgICAgIG1ldHJpY3M6IERvbU1ldHJpY3MuZ2V0TWV0cmljcyhzZWxlY3RhYmxlLmVsKSxcbiAgICAgIH0pKSkpO1xuICAgICAgaWYgKCFpc1JlZnJlc2hpbmcpIHRoaXMuc3RvcmUuZGlzcGF0Y2goVWlBY3Rpb24uc2V0UmVmcmVzaGluZyhmYWxzZSkpO1xuICAgICAgLy90aGlzLnVpLnVwZGF0ZShzdGF0ZXMsIHRoaXMuZ2V0U2Nyb2xsKCkpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGdldCBhbGwgcGFyZW50cyBvZiBhbiBlbGVtZW50IGluIHRoZSBkb21cbiAgICovXG4gIGdldFBhcmVudHMoZWw6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnRbXSB7XG4gICAgcmV0dXJuIGVsID8gdGhpcy5nZXRQYXJlbnRzKGVsLnBhcmVudEVsZW1lbnQpLmNvbmNhdChlbC5wYXJlbnRFbGVtZW50ID8gW2VsLnBhcmVudEVsZW1lbnRdIDogW10pXG4gICAgICA6IFtdXG4gIH1cblxuICAvKipcbiAgICogc3RhcnQgZHJhZ2luZyB0aGUgc2VsZWN0aW9uIHdpdGhvdXQgYSBtb3VzZSBjbGlja1xuICAgKi9cbiAgc3RhcnREcmFnKCkge1xuICAgIC8vIGNvbnN0IGJiID0gRG9tTWV0cmljcy5nZXRCb3VuZGluZ0JveERvY3VtZW50KHRhcmdldC5lbClcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpXG4gICAgY29uc3QgYmIgPSBEb21NZXRyaWNzLmdldEJvdW5kaW5nQm94KHNlbGVjdGlvbilcbiAgICB0aGlzLm1vdXNlLm1vdXNlTW9kZSA9IE1vdXNlTW9kZS5EUkFHR0lORztcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFVpQWN0aW9uLnNldE1vZGUodHlwZXMuVWlNb2RlLkRSQUcpKTtcbiAgICAvLyBhcyBpZiB0aGUgbW91c2Ugd2FzIGluaXRpYWxseSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBmaXJzdCBzZWxlY3RlZCBlbGVtZW50XG4gICAgKHRoaXMudWlPYnNlcnZlci5oYW5kbGVyIGFzIE1vdmVIYW5kbGVyKS5pbml0aWFsTW91c2UgPSB7XG4gICAgICB4OiBiYi5sZWZ0ICsgKGJiLndpZHRoIC8gMikgLSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93LnNjcm9sbFgsXG4gICAgICB5OiBiYi50b3AgKyAoYmIuaGVpZ2h0IC8gMikgLSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93LnNjcm9sbFksXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHRvIGJlIGNhbGxlZCBiZWZvcmUgZGVsZXRpbmcgdGhlIHN0YWdlXG4gICAqL1xuICBjbGVhbnVwKCkge1xuICAgIHRoaXMudW5zdWJzY3JpYmVBbGwuZm9yRWFjaCh1ID0+IHUoKSk7XG4gICAgdGhpcy51aS5jbGVhbnVwKCk7XG4gICAgdGhpcy51aSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogZW5hYmxlL2Rpc2FibGUgY2F0Y2hpbmcgZXZlbnRzXG4gICAqL1xuICBnZXQgY2F0Y2hpbmdFdmVudHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51aS5jYXRjaGluZ0V2ZW50cztcbiAgfVxuICBzZXQgY2F0Y2hpbmdFdmVudHModmFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChVaUFjdGlvbi5zZXRDYXRjaGluZ0V2ZW50cyh2YWwpKTtcbiAgfVxuICAvKipcbiAgICogZW5hYmxlL2Rpc2FibGUgY2F0Y2hpbmcgZXZlbnRzXG4gICAqL1xuICBnZXQgdmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnVpLm1vZGUgIT09IHR5cGVzLlVpTW9kZS5ISURFO1xuICB9XG4gIHNldCB2aXNpYmxlKHZhbDogYm9vbGVhbikge1xuICAgIC8vIGRpc3BhdGNoIFVJIG1vZGUgY2hhbmdlXG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChVaUFjdGlvbi5zZXRNb2RlKHZhbCA/IHR5cGVzLlVpTW9kZS5OT05FIDogdHlwZXMuVWlNb2RlLkhJREUpKTtcbiAgICAvLyBzY3JvbGwgbWF5IGhhdmUgY2hhbmdlZFxuICAgIHRoaXMuc2V0U2Nyb2xsKHtcbiAgICAgIHg6IHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cuc2Nyb2xsWCxcbiAgICAgIHk6IHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cuc2Nyb2xsWSxcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogZW5hYmxlL2Rpc2FibGUgc3RpY2t5XG4gICAqL1xuICBnZXQgZW5hYmxlU3RpY2t5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCkudWkuZW5hYmxlU3RpY2t5O1xuICB9XG4gIHNldCBlbmFibGVTdGlja3kodmFsOiBib29sZWFuKSB7XG4gICAgLy8gZGlzcGF0Y2ggVUkgbW9kZSBjaGFuZ2VcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFVpQWN0aW9uLnNldEVuYWJsZVN0aWNreSh2YWwpKTtcbiAgfVxuICAvKipcbiAgICogZm9yY2UgcmVzaXplIG9mIFVJXG4gICAqL1xuICByZXNpemVXaW5kb3coKSB7XG4gICAgdGhpcy51aS5yZXNpemVPdmVybGF5KCk7XG4gIH1cblxuICB3YWl0aW5nTGlzdGVuZXJzOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICAvKipcbiAgICogc2FmZSBzdWJzY3JpYmUgdG8gbW91c2UgZXZlbnRcbiAgICogaGFuZGxlIHRoZSBtdWx0aXBsZSBpZnJhbWVzIGFuZCB0aGUgY3VycmVudCB3aW5kb3dcbiAgICogQHJldHVybiBmdW5jdGlvbiB0byBjYWxsIHRvIHVuc3Vic2NyaWJlXG4gICAqL1xuICBzdWJzY3JpYmVNb3VzZUV2ZW50KHR5cGU6IHN0cmluZywgY2JrOiAoZSkgPT4gdm9pZCk6ICgpID0+IHZvaWQge1xuICAgIGxldCB1bnN1YjtcbiAgICBpZighdGhpcy5tb3VzZSkge1xuICAgICAgdGhpcy53YWl0aW5nTGlzdGVuZXJzLnB1c2goKCkgPT4ge1xuICAgICAgICB1bnN1YiA9IHRoaXMuc3Vic2NyaWJlTW91c2VFdmVudCh0eXBlLCBjYmspXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB1bnN1YigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tb3VzZS5zdWJzY3JpYmVNb3VzZUV2ZW50KHR5cGUsIGNiayk7XG4gIH1cblxuICAvKipcbiAgICogaGlkZSB0aGUgd2hvbGUgVUlcbiAgICovXG4gIGhpZGVVaShoaWRlOiBib29sZWFuKSB7XG4gICAgdGhpcy51aS5oaWRlVWkoaGlkZSk7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gRWxlbWVudHMgYW5kIG1ldHJpY3NcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgcmVzZXQoZWxlbWVudHM6IEFycmF5TGlrZTxIVE1MRWxlbWVudD4pIHtcbiAgICBjb25zdCBpc1JlZnJlc2hpbmcgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkudWkucmVmcmVzaGluZ1xuICAgIGlmICghaXNSZWZyZXNoaW5nKSB0aGlzLnN0b3JlLmRpc3BhdGNoKFVpQWN0aW9uLnNldFJlZnJlc2hpbmcodHJ1ZSkpO1xuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVzZXRTZWxlY3RhYmxlcygpKTtcbiAgICBBcnJheS5mcm9tKGVsZW1lbnRzKS5mb3JFYWNoKGVsID0+IHRoaXMuYWRkRWxlbWVudChlbCwgZmFsc2UpKTtcbiAgICBpZiAoIWlzUmVmcmVzaGluZykgdGhpcy5zdG9yZS5kaXNwYXRjaChVaUFjdGlvbi5zZXRSZWZyZXNoaW5nKGZhbHNlKSk7XG4gICAgLy8gdXBkYXRlIGFmdGVyIHJlc2V0IChGSVhNRTogc2hvdWxkIGJlIGNhbGxlZCBpbiB0aGUgb2JqZWN0cyBieSBsaXN0ZW5pbmcgdG8gdGhlIHN0b3JlIGNoYW5nZXMgYnV0IGl0IGZhaWxzIGJlY2F1c2UgaXNSZWZyZXNoaW5nIGlzIHR1cm5lZCBvbiBhbmQgb2ZmIG1hbnkgdGltZXMpXG4gICAgdGhpcy51aS51cGRhdGUodGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGFibGVzKVxuICAgIC8vIGJ1Zywgd2h5PzogdGhpcy5zZWxlY3RhYmxlc09ic2VydmVyLm9uU3RhdGVDaGFuZ2VkKClcbiAgICB0aGlzLmRvbU9ic2VydmVyLm9uU3RhdGVDaGFuZ2VkKClcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQvc2V0IHRoZSBzdGF0ZXMgb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAqL1xuICBnZXRTZWxlY3Rpb24oKTogQXJyYXk8dHlwZXMuU2VsZWN0YWJsZVN0YXRlPiB7XG4gICAgcmV0dXJuIERvbU1ldHJpY3MuZ2V0U2VsZWN0aW9uKHRoaXMuc3RvcmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldC9zZXQgdGhlIHN0YXRlcyBvZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICovXG4gIHNldFNlbGVjdGlvbihlbGVtZW50czogQXJyYXk8SFRNTEVsZW1lbnQ+KSB7XG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzZWxlY3Rpb25TdGF0ZS5zZXQoZWxlbWVudHMubWFwKGVsID0+IHRoaXMuZ2V0U3RhdGUoZWwpKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldC9zZXQgdGhlIHN0YXRlIGZvciBhbiBlbGVtZW50XG4gICAqL1xuICBnZXRTdGF0ZUJ5SWQoaWQ6IHN0cmluZyk6IHR5cGVzLlNlbGVjdGFibGVTdGF0ZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RhYmxlcy5maW5kKHMgPT4gcy5pZCA9PT0gaWQpXG4gIH1cblxuICAvKipcbiAgICogZ2V0L3NldCB0aGUgc3RhdGUgZm9yIGFuIGVsZW1lbnRcbiAgICovXG4gIHByaXZhdGUgZ2V0U3RhdGUoZWw6IEhUTUxFbGVtZW50KTogdHlwZXMuU2VsZWN0YWJsZVN0YXRlIHtcbiAgICByZXR1cm4gRG9tTWV0cmljcy5nZXRTZWxlY3RhYmxlU3RhdGUodGhpcy5zdG9yZSwgZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldC9zZXQgdGhlIHN0YXRlIGZvciBhbiBlbGVtZW50XG4gICAqL1xuICBzZXRTdGF0ZShlbDogSFRNTEVsZW1lbnQsIHN1YlN0YXRlOiB7XG4gICAgc2VsZWN0ZWQ/OiBib29sZWFuLFxuICAgIHNlbGVjdGFibGU/OiBib29sZWFuLFxuICAgIGRyYWdnYWJsZT86IGJvb2xlYW4sXG4gICAgcmVzaXplYWJsZT86IHR5cGVzLkRpcmVjdGlvbixcbiAgICBpc0Ryb3Bab25lPzogYm9vbGVhbixcbiAgICB1c2VNaW5IZWlnaHQ/OiBib29sZWFuLFxuICAgIG1ldHJpY3M/OiB0eXBlcy5FbGVtZW50TWV0cmljcyxcbiAgfSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5nZXRTdGF0ZShlbCk7XG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh1cGRhdGVTZWxlY3RhYmxlcyhbe1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAuLi5zdWJTdGF0ZSxcbiAgICB9XSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBlbGVtZW50IHRvIHRoZSBzdG9yZVxuICAgKi9cbiAgYWRkRWxlbWVudChlbDogSFRNTEVsZW1lbnQsIHByZXZlbnREaXNwYXRjaCA9IHRydWUpIHtcbiAgICBjb25zdCBzdGF0ZTogU2VsZWN0YWJsZVN0YXRlID0ge1xuICAgICAgaWQ6IHRoaXMuaG9va3MuZ2V0SWQoZWwpLFxuICAgICAgZWwsXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBob3ZlcmVkOiBmYWxzZSxcbiAgICAgIHNlbGVjdGFibGU6IHRoaXMuaG9va3MuaXNTZWxlY3RhYmxlKGVsKSxcbiAgICAgIGRyYWdnYWJsZTogdGhpcy5ob29rcy5pc0RyYWdnYWJsZShlbCksXG4gICAgICByZXNpemVhYmxlOiB0aGlzLmdldEVsZW1lbnRSZXNpemVhYmxlKGVsKSxcbiAgICAgIGlzRHJvcFpvbmU6IHRoaXMuaG9va3MuaXNEcm9wWm9uZShlbCksXG4gICAgICB1c2VNaW5IZWlnaHQ6IHRoaXMuaG9va3MudXNlTWluSGVpZ2h0KGVsKSxcbiAgICAgIG1ldHJpY3M6IERvbU1ldHJpY3MuZ2V0TWV0cmljcyhlbCksXG4gICAgfVxuXG4gICAgY29uc3QgaXNSZWZyZXNoaW5nID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnVpLnJlZnJlc2hpbmdcbiAgICBpZihwcmV2ZW50RGlzcGF0Y2gpIHtcbiAgICAgIC8vIGRvIG5vdCBhcHBseSBzdHlsZSBjaGFuZ2UgdG8gdGhpcyBlbGVtZW50XG4gICAgICBpZiAoIWlzUmVmcmVzaGluZykgdGhpcy5zdG9yZS5kaXNwYXRjaChVaUFjdGlvbi5zZXRSZWZyZXNoaW5nKHRydWUpKTtcbiAgICAgIC8vIHN0aWxsIGFkZCBpdCB0byB0aGUgZG9tIG9ic2VydmVyXG4gICAgICAvLyBGSVhNRTogcHJldmVudCB0aGUgcHJlbnZlbnQgZGlzcGF0Y2ggaXMgbm90IHNtYXJ0LCBldmVudCBwcmV2ZW50IGEgZGlzcGF0Y2ggaXMgbm90IHNtYXJ0XG4gICAgICAvLyBGSVhNRTogc3RhcnQgbGlzdGVuaW5nIGFmdGVyIGRpc3BhdGNoIHN0b3JlIHNpbmNlIG1ldHJpY3MgYXJlIGFscmVhZHkgY29tcHV0ZWRcbiAgICAgIHRoaXMuZG9tT2JzZXJ2ZXIub25BZGRlZChzdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGFuIGVsZW1lbnQgaW4gdGhlIHN0b3JlXG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChjcmVhdGVTZWxlY3RhYmxlKHN0YXRlKSk7XG5cbiAgICBpZihwcmV2ZW50RGlzcGF0Y2gpIHtcbiAgICAgIGlmICghaXNSZWZyZXNoaW5nKSB0aGlzLnN0b3JlLmRpc3BhdGNoKFVpQWN0aW9uLnNldFJlZnJlc2hpbmcoZmFsc2UpKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RWxlbWVudFJlc2l6ZWFibGUoZWw6IEhUTUxFbGVtZW50KTogdHlwZXMuRGlyZWN0aW9uIHtcbiAgICBjb25zdCBib29sT3JPYmo6IHR5cGVzLkRpcmVjdGlvbiB8IGJvb2xlYW4gPSB0aGlzLmhvb2tzLmlzUmVzaXplYWJsZShlbCk7XG4gICAgcmV0dXJuIHR5cGVvZiBib29sT3JPYmogPT09ICdvYmplY3QnID8gYm9vbE9yT2JqIDoge1xuICAgICAgdG9wOiBib29sT3JPYmogYXMgYm9vbGVhbixcbiAgICAgIGxlZnQ6IGJvb2xPck9iaiBhcyBib29sZWFuLFxuICAgICAgYm90dG9tOiBib29sT3JPYmogYXMgYm9vbGVhbixcbiAgICAgIHJpZ2h0OiBib29sT3JPYmogYXMgYm9vbGVhbixcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGVsZW1lbnQgZnJvbSB0aGUgc3RvcmVcbiAgICovXG4gIHJlbW92ZUVsZW1lbnQoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goZGVsZXRlU2VsZWN0YWJsZSh0aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0YWJsZXMuZmluZChzID0+IHMuaWQgPT09IGlkKSkpO1xuICB9XG5cblxuICAvKipcbiAgICogZ2V0IHRoZSBiZXN0IGRyb3Agem9uZSBhdCBhIGdpdmVuIHBvc2l0aW9uXG4gICAqIGlmIHRoZSBgZWxgIHBhcmFtIGlzIHByb3ZpZGVkLCBmaWx0ZXIgcG9zc2libGUgZHJvcCB6b25lcyB3aXRoIHRoZSBgY2FuRHJvcGAgaG9va1xuICAgKi9cbiAgZ2V0RHJvcFpvbmUoeDogbnVtYmVyLCB5OiBudW1iZXIsIGVsOkhUTUxFbGVtZW50ID0gbnVsbCk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBkcm9wWm9uZXMgPSBEb21NZXRyaWNzLmZpbmREcm9wWm9uZXNVbmRlck1vdXNlKHRoaXMuY29udGVudERvY3VtZW50LCB0aGlzLnN0b3JlLCB0aGlzLmhvb2tzLCB4LCB5KTtcbiAgICBpZighIWVsKSByZXR1cm4gZHJvcFpvbmVzLmZpbHRlcihkcm9wWm9uZSA9PiB0aGlzLmhvb2tzLmNhbkRyb3AoZWwsIGRyb3Bab25lKSlbMF07XG4gICAgZWxzZSByZXR1cm4gZHJvcFpvbmVzWzBdO1xuICB9XG5cbiAgZ2V0Qm91bmRpbmdCb3goZWxlbWVudHM6IEFycmF5PEhUTUxFbGVtZW50Pikge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBEb21NZXRyaWNzLmdldEJvdW5kaW5nQm94KGVsZW1lbnRzLm1hcChlbCA9PiBzdGF0ZS5zZWxlY3RhYmxlcy5maW5kKHMgPT4gcy5pZCA9PT0gdGhpcy5ob29rcy5nZXRJZChlbCkpKSk7XG4gIH1cblxuICBnZXRTZWxlY3Rpb25Cb3goKSB7XG4gICAgcmV0dXJuIERvbU1ldHJpY3MuZ2V0Qm91bmRpbmdCb3goRG9tTWV0cmljcy5nZXRTZWxlY3Rpb24odGhpcy5zdG9yZSkpO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFNjcm9sbFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKipcbiAgICogc2Nyb2xsIHNvIHRoYXQgdGhlIGVsZW1lbnRzIGFyZSB2aXNpYmxlXG4gICAqL1xuICBzaG93KGVsZW1lbnRzOiBBcnJheTxIVE1MRWxlbWVudD4pIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBiYiA9IERvbU1ldHJpY3MuZ2V0Qm91bmRpbmdCb3goZWxlbWVudHMubWFwKGVsID0+IHN0YXRlLnNlbGVjdGFibGVzLmZpbmQocyA9PiBzLmlkID09PSB0aGlzLmhvb2tzLmdldElkKGVsKSkpKTtcbiAgICBjb25zdCBpbml0aWFsU2Nyb2xsOiB0eXBlcy5TY3JvbGxEYXRhID0gc3RhdGUubW91c2Uuc2Nyb2xsRGF0YTtcbiAgICBjb25zdCBzY3JvbGw6IHR5cGVzLlNjcm9sbERhdGEgPSBEb21NZXRyaWNzLmdldFNjcm9sbFRvU2hvdyh0aGlzLmNvbnRlbnREb2N1bWVudCwgYmIpO1xuICAgIGlmKHNjcm9sbC54ICE9PSBpbml0aWFsU2Nyb2xsLnggfHwgc2Nyb2xsLnkgIT09IGluaXRpYWxTY3JvbGwueSkge1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzZXRTY3JvbGwoc2Nyb2xsKSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogc2Nyb2xsIHNvIHRoYXQgdGhlIGVsZW1lbnRzIGFyZSBjZW50ZXJlZFxuICAgKi9cbiAgY2VudGVyKGVsZW1lbnRzOiBBcnJheTxIVE1MRWxlbWVudD4pIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBiYiA9IERvbU1ldHJpY3MuZ2V0Qm91bmRpbmdCb3goXG4gICAgICBlbGVtZW50c1xuICAgICAgLm1hcChlbCA9PiBzdGF0ZS5zZWxlY3RhYmxlcy5maW5kKHMgPT4gcy5pZCA9PT0gdGhpcy5ob29rcy5nZXRJZChlbCkpKVxuICAgICAgLmZpbHRlcihzID0+ICEhcylcbiAgICApO1xuICAgIGNvbnN0IGluaXRpYWxTY3JvbGw6IHR5cGVzLlNjcm9sbERhdGEgPSBzdGF0ZS5tb3VzZS5zY3JvbGxEYXRhO1xuICAgIGNvbnN0IHNjcm9sbFNpemUgPSB7XG4gICAgICB4OiB0aGlzLmNvbnRlbnRXaW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgIHk6IHRoaXMuY29udGVudFdpbmRvdy5pbm5lckhlaWdodCxcbiAgICB9O1xuICAgIGNvbnN0IHNjcm9sbDogdHlwZXMuU2Nyb2xsRGF0YSA9IHtcbiAgICAgIHg6IE1hdGgubWF4KDAsIE1hdGgucm91bmQoYmIubGVmdCArIChiYi53aWR0aC8yKSAtIChzY3JvbGxTaXplLnggLyAyKSkpLFxuICAgICAgeTogTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChiYi50b3AgKyAoYmIuaGVpZ2h0LzIpIC0gKHNjcm9sbFNpemUueSAvIDIpKSksXG4gICAgfTtcbiAgICBpZihzY3JvbGwueCAhPT0gaW5pdGlhbFNjcm9sbC54IHx8IHNjcm9sbC55ICE9PSBpbml0aWFsU2Nyb2xsLnkpIHtcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2V0U2Nyb2xsKHNjcm9sbCkpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIGdldC9zZXQgdGhlIHN0YWdlIHNjcm9sbCBkYXRhXG4gICAqL1xuICBzZXRTY3JvbGwoc2Nyb2xsOiB0eXBlcy5TY3JvbGxEYXRhKSB7XG4gICAgY29uc3QgaW5pdGlhbFNjcm9sbDogdHlwZXMuU2Nyb2xsRGF0YSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5tb3VzZS5zY3JvbGxEYXRhO1xuICAgIGlmKHNjcm9sbC54ICE9PSBpbml0aWFsU2Nyb2xsLnggfHwgc2Nyb2xsLnkgIT09IGluaXRpYWxTY3JvbGwueSkge1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzZXRTY3JvbGwoc2Nyb2xsKSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogZ2V0L3NldCB0aGUgc3RhZ2Ugc2Nyb2xsIGRhdGFcbiAgICovXG4gIGdldFNjcm9sbCgpOiB0eXBlcy5TY3JvbGxEYXRhIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLm1vdXNlLnNjcm9sbERhdGE7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXRjaFdpbmRvdyh3aW46IFdpbmRvdykge1xuICBpZighd2luLmRvY3VtZW50LmVsZW1lbnRzRnJvbVBvaW50KSB7XG4gICAgLy8gY29uc29sZS53YXJuKCdQb2x5ZmlsbDogcG9seWZpbGwgZG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQnLCB3aW4pO1xuICAgIHdpbi5kb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgIC8vIEZJWE1FOiB0aGUgb3JkZXIgaXMgaW1wb3J0YW50IGFuZCB0aGUgMXN0IGVsZW1lbnQgc2hvdWxkIGJlIHRoZSBvbmUgb24gdG9wXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbSh3aW4uZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcqJykpLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICB2YXIgcG9zID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiBwb3MubGVmdCA8PSB4ICYmIHggPD0gcG9zLnJpZ2h0ICYmIHBvcy50b3AgPD0geSAmJiB5IDw9IHBvcy5ib3R0b207XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHMgYW5kIHR5cGVzIHNoYXJlZCBiZXR3ZWVuIGZyb250IGFuZCBiYWNrXG4gKlxuICovXG5cbmltcG9ydCB7IEVsZW1lbnRUeXBlIH0gZnJvbSAnLi9jbGllbnQvZWxlbWVudC1zdG9yZS90eXBlcydcblxuZXhwb3J0IGNsYXNzIENvbnN0YW50cyB7XG4gIC8qKlxuICAgKiB2YWx1ZSB3aGljaCBzdGFydHMgYSBcImRlZXAgbGlua1wiLCBpLmUuIHRoZSBwYWdlIG5hbWUgaW4gdGhlIFVSTCwgaW4gcHJldmlldyBtb2RlIG9ubHlcbiAgICovXG4gIHN0YXRpYyBQQUdFX05BTUVfUFJFRklYID0gJyMhJ1xuXG4gIC8qKlxuICAgKiBwcmVwZW5kZWQgdG8gcGFnZSBpZHMgaW4gb3JkZXIgdG8gbWluaW1pemUgcmlza3Mgb2YgY29sbGlzaW9uLCBpLmUuIGBwYWdlLXBhZ2UtMVwiIGZvciBwYWdlIFwiUGFnZSAxXCJcbiAgICovXG4gIHN0YXRpYyBQQUdFX0lEX1BSRUZJWCA9ICdwYWdlLSdcblxuICAvKipcbiAgICogY29uc3RhbnQgZm9yIHRoZSBJRCBvZiB0aGUgSFRNTCBub2RlIHVzZWRcbiAgICogdG8gc3RvcmUgU2lsZXggZGF0YSBhcyBhIEpTT04gb2JqZWN0XG4gICAqIHRoaXMgaXMgdXNlZCBhcyB0aGUgZnJvbnQgZW5kIEFQSSwgc2VlIGZyb250LWVuZC5qc1xuICAgKi9cbiAgc3RhdGljIEpTT05fU1RZTEVfVEFHX0NMQVNTX05BTUUgPSAnc2lsZXgtanNvbi1zdHlsZXMnXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciB0aGUgY2xhc3MgbmFtZSBzZXQgb24gdGhlIGJvZHkgZGVwZW5kaW5nIG9uIHRoZSBjb250ZXh0IGluIHdoaWNoIGlzIHRoZSB3ZWJzaXRlXG4gICAqL1xuICBzdGF0aWMgV0VCU0lURV9DT05URVhUX1JVTlRJTUVfQ0xBU1NfTkFNRSA9ICdzaWxleC1ydW50aW1lJ1xuXG4gIC8qKlxuICAgKiBjb25zdGFudCBmb3IgdGhlIGNsYXNzIG5hbWUgc2V0IG9uIHRoZSBib2R5IGRlcGVuZGluZyBvbiB0aGUgY29udGV4dCBpbiB3aGljaCBpcyB0aGUgd2Vic2l0ZVxuICAgKi9cbiAgc3RhdGljIFdFQlNJVEVfQ09OVEVYVF9FRElUT1JfQ0xBU1NfTkFNRSA9ICdzaWxleC1lZGl0b3InXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciB0aGUgY2xhc3MgbmFtZSBzZXQgb24gdGhlIGJvZHkgZGVwZW5kaW5nIG9uIHRoZSBjb250ZXh0IGluIHdoaWNoIGlzIHRoZSB3ZWJzaXRlXG4gICAqL1xuICBzdGF0aWMgV0VCU0lURV9DT05URVhUX1BVQkxJU0hFRF9DTEFTU19OQU1FID0gJ3NpbGV4LXB1Ymxpc2hlZCdcblxuICAvKipcbiAgICogY29uc3RhbnQgZm9yIHRoZSBjbGFzcyBuYW1lIG9mIGVsZW1lbnRzIHZpc2libGUgb25seSBvbiBzb21lIHBhZ2VzXG4gICAqL1xuICBzdGF0aWMgUEFHRURfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3BhZ2VkLWVsZW1lbnQnXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciB0aGUgY2xhc3MgbmFtZSBzZXQgb24gdGhlIGJvZHkgd2hlbiB0aGUgcGFnZWFibGUgcGx1Z2luIGlzXG4gICAqIGluaXRpYWxpemVkXG4gICAqL1xuICBzdGF0aWMgUEFHRUFCTEVfUExVR0lOX1JFQURZX0NMQVNTX05BTUU6IHN0cmluZyA9ICdwYWdlYWJsZS1wbHVnaW4tY3JlYXRlZCdcblxuICAvKipcbiAgICogY29uc3RhbnQgZm9yIHRoZSBjbGFzcyBuYW1lIG9mIGVsZW1lbnRzIHZpc2libGUgb25seSBvbiBzb21lIHBhZ2VzXG4gICAqL1xuICBzdGF0aWMgUEFHRURfSElEREVOX0NMQVNTX05BTUU6IHN0cmluZyA9ICdwYWdlZC1lbGVtZW50LWhpZGRlbidcblxuICAvKipcbiAgICogY29uc3RhbnQgZm9yIHRoZSBjbGFzcyBuYW1lIG9mIGVsZW1lbnQgY29udGFpbmluZyB0aGUgcGFnZXNcbiAgICovXG4gIHN0YXRpYyBQQUdFU19DT05UQUlORVJfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3NpbGV4LXBhZ2VzJ1xuXG4gIC8qKlxuICAgKiBhdHRyaWJ1dGVzIG9mIHRoZSBwYWdlIChvbiBvbmUgb2YgdGhlIGludmlzaWJsZSBsaW5rcyB3aGljaCBkZWZpbmUgcGFnZXMpXG4gICAqL1xuICBzdGF0aWMgUEFHRV9QUkVWRU5UX0RFTEVURSA9ICdkYXRhLXByZXZlbnQtZGVsZXRlJ1xuXG4gIC8qKlxuICAgKiBhdHRyaWJ1dGVzIG9mIHRoZSBwYWdlIChvbiBvbmUgb2YgdGhlIGludmlzaWJsZSBsaW5rcyB3aGljaCBkZWZpbmUgcGFnZXMpXG4gICAqL1xuICBzdGF0aWMgUEFHRV9QUkVWRU5UX01PVkUgPSAnZGF0YS1wcmV2ZW50LWRlbGV0ZSdcblxuICAvKipcbiAgICogYXR0cmlidXRlcyBvZiB0aGUgcGFnZSAob24gb25lIG9mIHRoZSBpbnZpc2libGUgbGlua3Mgd2hpY2ggZGVmaW5lIHBhZ2VzKVxuICAgKi9cbiAgc3RhdGljIFBBR0VfUFJFVkVOVF9SRU5BTUUgPSAnZGF0YS1wcmV2ZW50LXJlbmFtZSdcblxuICAgLyoqXG4gICAgKiBhdHRyaWJ1dGVzIG9mIHRoZSBwYWdlIChvbiBvbmUgb2YgdGhlIGludmlzaWJsZSBsaW5rcyB3aGljaCBkZWZpbmUgcGFnZXMpXG4gICAgKi9cbiAgc3RhdGljIFBBR0VfUFJFVkVOVF9QUk9QRVJUSUVTID0gJ2RhdGEtcHJldmVudC1wcm9wZXJ0aWVzJ1xuXG4gIC8qKlxuICAgKiBjb25zdGFudCBmb3IgdGhlIGNsYXNzIG5hbWUgb2YgZWxlbWVudHMgd2hlbiBpdCBpcyBpbiBhIHZpc2libGUgcGFnZVxuICAgKiB0aGlzIGNzcyBjbGFzcyBpcyBzZXQgaW4gcGFnZWFibGUuanNcbiAgICovXG4gIHN0YXRpYyBQQUdFRF9WSVNJQkxFX0NMQVNTX05BTUU6IHN0cmluZyA9ICdwYWdlZC1lbGVtZW50LXZpc2libGUnXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciB0aGUgY2xhc3MgbmFtZSBvZiBsaW5rcyB3aGVuIGl0IGxpbmtzIHRvIGEgdmlzaWJsZSBwYWdlXG4gICAqIHRoaXMgY3NzIGNsYXNzIGlzIHNldCBpbiBwYWdlYWJsZS5qc1xuICAgKi9cbiAgc3RhdGljIFBBR0VfTElOS19BQ1RJVkVfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3BhZ2UtbGluay1hY3RpdmUnXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciBzaWxleCBlbGVtZW50IHR5cGVcbiAgICovXG4gIHN0YXRpYyBUWVBFX1BBR0U6IHN0cmluZyA9ICdwYWdlLWVsZW1lbnQnXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciBzaWxleCBlbGVtZW50IHR5cGVcbiAgICovXG4gIHN0YXRpYyBUWVBFX0FUVFI6IHN0cmluZyA9ICdkYXRhLXNpbGV4LXR5cGUnXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciB0aGUgYXR0cmlidXRlIG5hbWUgaG9sZGluZyB0aGUgSURzIGdpdmVuIHRvIFNpbGV4IGVkaXRhYmxlXG4gICAqIGVsZW1lbnRzXG4gICAqL1xuICBzdGF0aWMgRUxFTUVOVF9JRF9BVFRSX05BTUUgPSAnZGF0YS1zaWxleC1pZCdcblxuICAvKipcbiAgICogY29uc3RhbnQgZm9yIHRoZSBhdHRyaWJ1dGUgbmFtZSBob2xkaW5nIHRoZSBJRHMgZ2l2ZW4gdG8gU2lsZXggZWRpdGFibGVcbiAgICogZWxlbWVudHNcbiAgICovXG4gIHN0YXRpYyBTVEFUSUNfQVNTRVRfQVRUUiA9ICdkYXRhLXNpbGV4LXN0YXRpYydcblxuICBzdGF0aWMgQVRUUl9SRU1PVkVfUFVCTElTSCA9ICdkYXRhLXNpbGV4LXJlbW92ZS1wdWJsaXNoJ1xuXG4gIC8qKlxuICAgKiBjb25zdGFudCBmb3IgdGhlIGNsYXNzIG5hbWUgb2YgdGhlIGVsZW1lbnQgY29udGVudFxuICAgKi9cbiAgc3RhdGljIEVMRU1FTlRfQ09OVEVOVF9DTEFTU19OQU1FOiBzdHJpbmcgPSAnc2lsZXgtZWxlbWVudC1jb250ZW50J1xuXG4gIC8qKlxuICAgKiBjb25zdGFudCBmb3IgdGhlIGNsYXNzIG5hbWUgb2YgdGhlIGRlZmF1bHQgc2l0ZSB3aWR0aCwgcnVsZSBpcyBzZXQgd2hlblxuICAgKiBzZXR0aW5nIGlzIGNoYW5nZWQgdXNlZCB0byBzZXQgYSBkZWZhdWx0IHdpZHRoIHRvIHNlY3Rpb24gY29udGVudCBjb250YWluZXJcbiAgICovXG4gIHN0YXRpYyBXRUJTSVRFX1dJRFRIX0NMQVNTX05BTUU6IHN0cmluZyA9ICd3ZWJzaXRlLXdpZHRoJ1xuXG4gIC8qKlxuICAgKiBjb25zdGFudCBmb3IgdGhlIGF0dHJpYnV0ZSBuYW1lIG9mIHRoZSBsaW5rc1xuICAgKi9cbiAgc3RhdGljIExJTktfQVRUUjogc3RyaW5nID0gJ2hyZWYnXG5cbiAgLyoqXG4gICAqIE5vdCBzdXJlIHdoeSB0aGlzIGlzIGFkZGVkLCBtdXN0IGJlIGlnbm9yZWRcbiAgICovXG4gIHN0YXRpYyBTVEFHRV9DT01QT05FTlRfU0VMRUNURURfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3NlbGVjdGVkJ1xuXG4gIC8qKlxuICAgKiBOb3Qgc3VyZSB3aHkgdGhpcyBpcyBhZGRlZCwgbXVzdCBiZSBpZ25vcmVkXG4gICAqL1xuICBzdGF0aWMgU1RBR0VfQ09NUE9ORU5UX05PVF9TRUxFQ1RFRF9DTEFTU19OQU1FOiBzdHJpbmcgPSAnbm90LXNlbGVjdGVkJ1xuXG4gIC8qKlxuICAgKiBjb25zdGFudCBmb3IgdGhlIGNsYXNzIG5hbWUgb2Ygc2VsZWN0ZWQgY29tcG9uZW50c1xuICAgKi9cbiAgc3RhdGljIFNFTEVDVEVEX0NMQVNTX05BTUU6IHN0cmluZyA9ICdzaWxleC1zZWxlY3RlZCdcblxuICAvKipcbiAgICogY3NzIGNsYXNzIG9uIHRoZSBib2R5IHdoaWxlIGRyYWdnaW4vcmVzaXplaW5nXG4gICAqL1xuICBzdGF0aWMgUkVTSVpJTkdfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3NpbGV4LXJlc2l6aW5nJ1xuXG4gIC8qKlxuICAgKiBjc3MgY2xhc3Mgb24gdGhlIGJvZHkgd2hpbGUgZHJhZ2dpbi9yZXNpemVpbmdcbiAgICovXG4gIHN0YXRpYyBEUkFHR0lOR19DTEFTU19OQU1FOiBzdHJpbmcgPSAnc2lsZXgtZHJhZ2dpbmcnXG5cbiAgLyoqXG4gICAqIGNsYXNzIGZvciBlbGVtZW50cyB3aGljaCBhcmUgaGlkZGVuIGluIG1vYmlsZSB2ZXJzaW9uXG4gICAqL1xuICBzdGF0aWMgSElERV9PTl9NT0JJTEU6IHN0cmluZyA9ICdoaWRlLW9uLW1vYmlsZSdcblxuICAvKipcbiAgICogY2xhc3MgZm9yIGVsZW1lbnRzIHdoaWNoIGFyZSBoaWRkZW4gaW4gZGVza3RvcCB2ZXJzaW9uXG4gICAqL1xuICBzdGF0aWMgSElERV9PTl9ERVNLVE9QOiBzdHJpbmcgPSAnaGlkZS1vbi1kZXNrdG9wJ1xuXG4gIC8qKlxuICAgKiBjbGFzcyBuYW1lIHVzZWQgYnkgdGhlIGVkaXRhYmxlIGpxdWVyeSBwbHVnaW5cbiAgICovXG4gIHN0YXRpYyBFRElUQUJMRV9DTEFTU19OQU1FOiBzdHJpbmcgPSAnZWRpdGFibGUtc3R5bGUnXG5cbiAgLyoqXG4gICAqIGNsYXNzIG5hbWUgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHBhcmFtcyBvZiB0aGUgc3RhZ2VcbiAgICovXG4gIHN0YXRpYyBQUkVWRU5UX1JFU0laQUJMRV9DTEFTU19OQU1FOiBzdHJpbmcgPSAncHJldmVudC1yZXNpemFibGUnXG5cbiAgLyoqXG4gICAqIGNsYXNzIG5hbWUgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHBhcmFtcyBvZiB0aGUgc3RhZ2VcbiAgICovXG4gIHN0YXRpYyBQUkVWRU5UX1JFU0laQUJMRV9UT1BfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3ByZXZlbnQtcmVzaXphYmxlLXRvcCdcblxuICAvKipcbiAgICogY2xhc3MgbmFtZSB3aGljaCBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgcGFyYW1zIG9mIHRoZSBzdGFnZVxuICAgKi9cbiAgc3RhdGljIFBSRVZFTlRfUkVTSVpBQkxFX0xFRlRfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3ByZXZlbnQtcmVzaXphYmxlLWxlZnQnXG5cbiAgLyoqXG4gICAqIGNsYXNzIG5hbWUgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHBhcmFtcyBvZiB0aGUgc3RhZ2VcbiAgICovXG4gIHN0YXRpYyBQUkVWRU5UX1JFU0laQUJMRV9CT1RUT01fQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3ByZXZlbnQtcmVzaXphYmxlLWJvdHRvbSdcblxuICAvKipcbiAgICogY2xhc3MgbmFtZSB3aGljaCBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgcGFyYW1zIG9mIHRoZSBzdGFnZVxuICAgKi9cbiAgc3RhdGljIFBSRVZFTlRfUkVTSVpBQkxFX1JJR0hUX0NMQVNTX05BTUU6IHN0cmluZyA9ICdwcmV2ZW50LXJlc2l6YWJsZS1yaWdodCdcblxuICAvKipcbiAgICogY2xhc3MgbmFtZSB3aGljaCBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgcGFyYW1zIG9mIHRoZSBzdGFnZVxuICAgKi9cbiAgc3RhdGljIFBSRVZFTlRfU0VMRUNUQUJMRV9DTEFTU19OQU1FOiBzdHJpbmcgPSAncHJldmVudC1zZWxlY3RhYmxlJ1xuXG4gIC8qKlxuICAgKiBjbGFzcyBuYW1lIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSBwYXJhbXMgb2YgdGhlIHN0YWdlXG4gICAqL1xuICBzdGF0aWMgUFJFVkVOVF9EUkFHR0FCTEVfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3ByZXZlbnQtZHJhZ2dhYmxlJ1xuXG4gIC8qKlxuICAgKiBjbGFzcyBuYW1lIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSBwYXJhbXMgb2YgdGhlIHN0YWdlXG4gICAqL1xuICBzdGF0aWMgUFJFVkVOVF9EUk9QUEFCTEVfQ0xBU1NfTkFNRTogc3RyaW5nID0gJ3ByZXZlbnQtZHJvcHBhYmxlJ1xuXG4gIC8qKlxuICAgKiBjbGFzcyBuYW1lIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGZvcmNlIFNpbGV4IHRvIHVzZSBoZWlnaHQgaW5zdGVhZCBvZlxuICAgKiBtaW5IZWlnaHQgdG8gc2V0IHRoZSBoZWlnaHQgb2YgYW4gZWxlbWVudCB0aGlzIGlzIHVzZWZ1bCBpZiB0aGUgZWxlbWVudCBoYXNcbiAgICogY29udGVudCB3aXRoIGhlaWdodCBzZXQgdG8gMTAwJVxuICAgKi9cbiAgc3RhdGljIFNJTEVYX1VTRV9IRUlHSFRfTk9UX01JTkhFSUdIVDogc3RyaW5nID0gJ3NpbGV4LXVzZS1oZWlnaHQtbm90LW1pbmhlaWdodCdcblxuICAvKipcbiAgICogaWQgb2YgdGhlIHN0eWxlIGVsZW1lbnQgd2hpY2ggaG9sZHMgc2lsZXggZWRpdGFibGUgY3NzIHN0eWxlc1xuICAgKi9cbiAgc3RhdGljIFNJTEVYX1NUWUxFX0VMRU1FTlRfQ1NTX0NMQVNTID0gJ3NpbGV4LXN0eWxlJ1xuXG4gIC8qKlxuICAgKiBpZCBvZiB0aGUgc3R5bGUgZWxlbWVudCB3aGljaCBob2xkcyBzaWxleCBlZGl0YWJsZSBjc3Mgc3R5bGVzXG4gICAqL1xuICBzdGF0aWMgU0lMRVhfU0NSSVBUX0VMRU1FTlRfQ1NTX0NMQVNTID0gJ3NpbGV4LXNjcmlwdCdcblxuICAvKipcbiAgICogYXR0cmlidXRlIG9uIHByb2RvdHlwZSBkZXBlbmRlbmNpZXNcbiAgICogdGhlc2Ugc2NyaXB0IGFuZCBzdHlsZSB0YWdzIGFyZSBub3QgcHJldmVudGVkIHdoZW4gcHJlcGFyaW5nIHRoZSBzaXRlIGZvciBlZGl0aW9uLCB1bmxpa2Ugbm9ybWFsIHNjcmlwdHNcbiAgICovXG4gIHN0YXRpYyBQUk9ET1RZUEVfREVQRU5ERU5DWV9BVFRSID0gJ2RhdGEtZGVwZW5kZW5jeSdcblxuICAvKipcbiAgICogY3NzIGNsYXNzIHdoaWNoIG1hcmtzIHRoZSB0YWdzIGFkZGVkIHRvIGxvYWQgYSBjdXN0b20gZm9udFxuICAgKi9cbiAgc3RhdGljIENVU1RPTV9GT05UU19DU1NfQ0xBU1MgPSAnc2lsZXgtY3VzdG9tLWZvbnQnXG5cbiAgLyoqXG4gICAqIGNzcyBjbGFzcyBzZXQgdG8gZW5hYmxlIG1vYmlsZSB2ZXJzaW9uXG4gICAqL1xuICBzdGF0aWMgRU5BQkxFX01PQklMRV9DU1NfQ0xBU1MgPSAnZW5hYmxlLW1vYmlsZSdcblxuICAvKipcbiAgICogQ1NTIGNsYXNzIGFwcGxpZWQgdG8gdGhlICoqZWRpdG9yKiogYm9keSAobm90IHRoZSBzaXRlKVxuICAgKi9cbiAgc3RhdGljIE1PQklMRV9NT0RFX0NTU19DTEFTUyA9ICdtb2JpbGUtbW9kZSdcblxuICAvKipcbiAgICogY29uc3RhbnQgZm9yIGxvYWRlciBvbiBlbGVtZW50c1xuICAgKiBhcHBsaWVkIHRvIFNpbGV4IGltYWdlIGVsZW1lbnRcbiAgICovXG4gIHN0YXRpYyBMT0FESU5HX0VMRU1FTlRfQ1NTX0NMQVNTOiBzdHJpbmcgPSAnbG9hZGluZy1pbWFnZSdcblxuICAvKipcbiAgICogY29uc3RhbnQgZm9yIGxvYWRlciBvbiBlbGVtZW50c1xuICAgKiBhcHBsaWVkIHRvIHNpdGUgaWZyYW1lXG4gICAqL1xuICBzdGF0aWMgTE9BRElOR19TSVRFX0NTU19DTEFTUyA9ICdsb2FkaW5nLXdlYnNpdGUnXG5cbiAgLyoqXG4gICAqIGNvbnN0YW50IGZvciBsb2FkZXIgb24gZWxlbWVudHNcbiAgICogYXBwbGllZCB0byBib2R5XG4gICAqL1xuICBzdGF0aWMgTE9BRElOR19TSUxFWF9DU1NfQ0xBU1MgPSAnbG9hZGluZy1wZW5kaW5nJ1xuXG4gIC8qKlxuICAgKiBjb25zdGFudCBmb3IgdGhlIHZhbHVlIG9mIG1lZGlhIHF1ZXJ5IGZvciBtb2JpbGUgdmVyc2lvblxuICAgKiBAc3RhdGljXG4gICAqL1xuICBzdGF0aWMgTU9CSUxFX0JSRUFLUE9JTlQgPSA0ODBcbiAgc3RhdGljIE1PQklMRV9NRURJQV9RVUVSWSA9IGBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogJHtDb25zdGFudHMuTU9CSUxFX0JSRUFLUE9JTlR9cHgpYFxuXG4gIC8vIGhlYWQgdGFnIGNvbnN0YW50c1xuICBzdGF0aWMgU0lMRVhfQ1VSUkVOVF9QQUdFX0lEID0gJ2N1cnJlbnQtcGFnZS1zdHlsZSdcbiAgc3RhdGljIFNJTEVYX1RFTVBfVEFHU19DU1NfQ0xBU1MgPSAnc2lsZXgtdGVtcC10YWcnXG4gIHN0YXRpYyBSSVNaRV9IQU5ETEVfQ1NTX0NMQVNTID0gJ3VpLXJlc2l6YWJsZS1oYW5kbGUnXG4gIHN0YXRpYyBJTkxJTkVfU1RZTEVfVEFHX0NMQVNTX05BTUUgPSAnc2lsZXgtaW5saW5lLXN0eWxlcydcbiAgc3RhdGljIEhFQURfVEFHX1NUQVJUID0gJzwhLS0gU2lsZXggSEVBRCB0YWcgZG8gbm90IHJlbW92ZSAtLT4nXG4gIHN0YXRpYyBIRUFEX1RBR19TVE9QID0gJzwhLS0gRW5kIG9mIFNpbGV4IEhFQUQgdGFnIGRvIG5vdCByZW1vdmUgLS0+J1xuXG4gIC8vIHByb2RvdHlwZSBjb21wb25lbnRzIGNvbnN0YW50c1xuICBzdGF0aWMgQ09NUE9ORU5UX0NMQVNTX05BTUUgPSAnc2lsZXgtY29tcG9uZW50J1xuICBzdGF0aWMgU1RZTEVfQ0xBU1NfTkFNRSA9ICdzaWxleC1wcm9kb3R5cGUtc3R5bGUnXG4gIHN0YXRpYyBCT0RZX1NUWUxFX05BTUUgPSAnQWxsIHN0eWxlJ1xuICBzdGF0aWMgQk9EWV9TVFlMRV9DU1NfQ0xBU1MgPSAnYWxsLXN0eWxlJ1xuICBzdGF0aWMgRU1QVFlfU1RZTEVfQ0xBU1NfTkFNRSA9ICdlbXB0eS1zdHlsZS1jbGFzcy1uYW1lJ1xuICBzdGF0aWMgRU1QVFlfU1RZTEVfRElTUExBWV9OQU1FID0gJydcbiAgc3RhdGljIENPTVBPTkVOVF9UWVBFID0gJ2NvbXBvbmVudCdcbiAgc3RhdGljIFNUWUxFX1RZUEUgPSAnc3R5bGUnXG4gIC8vIGF2YWlsYWJsZSB2aXNpYmlsaXR5IGZvciB0aGUgc3R5bGVzXG4gIHN0YXRpYyBTVFlMRV9WSVNJQklMSVRZID0gWydkZXNrdG9wJywgJ21vYmlsZSddXG5cbiAgLyoqXG4gICAqIENsYXNzIG5hbWVzIHdoaWNoIGFyZSBvZiBpbnRlcm5hbCB1c2UgaW4gU2lsZXhcbiAgICogUmVtb3ZlIHRoZW0gZnJvbSBicmVhZGNydW1iIGNvbXBvbmVudCBhbmQgXCJjc3MgY2xhc3Nlc1wiIHRleHQgZmllbGQgb2YgdGhlIHN0eWxlLXBhbmVcbiAgICogRklYTUU6IHRoaXMgc2hvdWxkIG5vdCBleGlzdCwgd2Ugc2hvdWxkIHVzZSBwcm9wZXJ0aWVzIG9uIHRoZSBlbGVtZW50IGRhdGEgb2JqZWN0LCBhbmQgYWRkIGNzcyBjbGFzc2VzIHRvIHRoZSBET00gZWxlbWVudCB3aXRob3V0IGFkZGluZyBpdCB0byB0aGUgZWxlbWVudCBkYXRhJ3MgY2xhc3NMaXN0XG4gICAqL1xuICBzdGF0aWMgU0lMRVhfQ0xBU1NfTkFNRVM6IHN0cmluZ1tdID0gW1xuICAgIENvbnN0YW50cy5XRUJTSVRFX1dJRFRIX0NMQVNTX05BTUUsXG4gIF1cbiAgLyoqXG4gICAqIENsYXNzZXMgdG8gcmVtb3ZlIHdoZW4gc2F2aW5nXG4gICAqIFRoaXMgc2VlbXMgdG8gYmUgdXNlbGVzc1xuICAgKi9cbiAgc3RhdGljIFNJTEVYX1RFTVBfQ0xBU1NfTkFNRVMgPSBbXG4gICAgQ29uc3RhbnRzLlBBR0VBQkxFX1BMVUdJTl9SRUFEWV9DTEFTU19OQU1FLFxuICAgIENvbnN0YW50cy5QQUdFRF9ISURERU5fQ0xBU1NfTkFNRSxcbiAgICBDb25zdGFudHMuUEFHRURfVklTSUJMRV9DTEFTU19OQU1FLFxuICAvLyAgIENvbnN0YW50cy5TVEFHRV9DT01QT05FTlRfU0VMRUNURURfQ0xBU1NfTkFNRSxcbiAgLy8gICBDb25zdGFudHMuU1RBR0VfQ09NUE9ORU5UX05PVF9TRUxFQ1RFRF9DTEFTU19OQU1FLFxuICAvLyAgIENvbnN0YW50cy5TRUxFQ1RFRF9DTEFTU19OQU1FLFxuICAvLyAgIENvbnN0YW50cy5SRVNJWklOR19DTEFTU19OQU1FLFxuICAvLyAgIENvbnN0YW50cy5EUkFHR0lOR19DTEFTU19OQU1FLFxuICBdXG4gIC8qKlxuICAgKiBDbGFzc2VzIHRvIHJlbW92ZSB3aGVuIHB1Ymxpc2hpbmdcbiAgICogVGhpcyBzZWVtcyB0byBiZSB1c2VsZXNzXG4gICAqL1xuICBzdGF0aWMgU0lMRVhfQ0xBU1NfTkFNRVNfVE9fUkVNT1ZFX0FUX1BVQkxJU0ggPSBbXG4gIC8vICAgQ29uc3RhbnRzLlBSRVZFTlRfRFJPUFBBQkxFX0NMQVNTX05BTUUsXG4gIC8vICAgQ29uc3RhbnRzLlNJTEVYX1VTRV9IRUlHSFRfTk9UX01JTkhFSUdIVCxcbiAgLy8gICBDb25zdGFudHMuUFJFVkVOVF9SRVNJWkFCTEVfQ0xBU1NfTkFNRSxcbiAgLy8gICBDb25zdGFudHMuUFJFVkVOVF9SRVNJWkFCTEVfVE9QX0NMQVNTX05BTUUsXG4gIC8vICAgQ29uc3RhbnRzLlBSRVZFTlRfUkVTSVpBQkxFX0xFRlRfQ0xBU1NfTkFNRSxcbiAgLy8gICBDb25zdGFudHMuUFJFVkVOVF9SRVNJWkFCTEVfQk9UVE9NX0NMQVNTX05BTUUsXG4gIC8vICAgQ29uc3RhbnRzLlBSRVZFTlRfUkVTSVpBQkxFX1JJR0hUX0NMQVNTX05BTUUsXG4gIC8vICAgQ29uc3RhbnRzLlBSRVZFTlRfU0VMRUNUQUJMRV9DTEFTU19OQU1FLFxuICAvLyAgIENvbnN0YW50cy5QUkVWRU5UX0RSQUdHQUJMRV9DTEFTU19OQU1FLFxuICAvLyAgIENvbnN0YW50cy5QQUdFQUJMRV9QTFVHSU5fUkVBRFlfQ0xBU1NfTkFNRSxcbiAgLy8gICBDb25zdGFudHMuU1RBR0VfQ09NUE9ORU5UX1NFTEVDVEVEX0NMQVNTX05BTUUsXG4gIC8vICAgQ29uc3RhbnRzLlNUQUdFX0NPTVBPTkVOVF9OT1RfU0VMRUNURURfQ0xBU1NfTkFNRSxcbiAgLy8gICBDb25zdGFudHMuU0VMRUNURURfQ0xBU1NfTkFNRSxcbiAgLy8gICBDb25zdGFudHMuUkVTSVpJTkdfQ0xBU1NfTkFNRSxcbiAgLy8gICBDb25zdGFudHMuRFJBR0dJTkdfQ0xBU1NfTkFNRSxcbiAgXVxuICAvKipcbiAgICogRWxlbWVudHMgdG8gcmVtb3ZlIGZyb20gdGhlIERPTSBhZnRlciBwdWJsaXNoaW5nXG4gICAqL1xuICBzdGF0aWMgRUxFTUVOVFNfVE9fUkVNT1ZFX0FUX1BVQkxJU0ggPSBbXG4gICAgJy5wcm9kb3R5cGUtcHJldmlldycsXG4gICAgJ1snICsgQ29uc3RhbnRzLkFUVFJfUkVNT1ZFX1BVQkxJU0ggKyAnXSdcbiAgXVxufVxuIiwiXG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICogICBUaGlzIGNsYXNzIGlzIGluIGNoYXJnZSBvZiB0aGUgXCJtb2RhbFwiIGJlaGF2aW9yIG9mIHRoZSBkaWFsb2dzIGluIFNpbGV4XG4gKi9cblxuLyoqXG4gKiBpbnB1dCBlbGVtZW50IHRvIGdldCB0aGUgZm9jdXNcbiAqIHVzZWQgdG8gYmx1ciB0aGUgVUkgaW5wdXRzXG4gKi9cbmxldCBmb2N1c0lucHV0OiBIVE1MRWxlbWVudFxuXG4vKipcbiAqIHJlbW92ZSB0aGUgZm9jdXMgZnJvbSBhbGwgdGV4dCBmaWVsZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Rm9jdXMoKSB7XG4gIGlmICghZm9jdXNJbnB1dCkge1xuICAgIGZvY3VzSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG5cbiAgICAvLyBoaWRlIHRoZSBmb2N1cyBpbnB1dCBhbmQgYXR0YWNoIGl0IHRvIHRoZSBET01cbiAgICBmb2N1c0lucHV0LnN0eWxlLmxlZnQgPSAnLTEwMDBweCdcbiAgICBmb2N1c0lucHV0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9jdXNJbnB1dClcbiAgfVxuICAvLyBzZXRUaW1lb3V0IGJlY2F1c2Ugd2UgbWlnaHQgbmVlZCB0byB3YWl0IGZvciBhIGNsaWNrIHRvIGZpbmlzaCBidWJibGluZ1xuICAvLyBlLmcuIHdoZW4gZWRpdCB0ZXh0LCB0aGUgVUkgbGF5ZXIgaXMgaGlkZGVuLCBjbGljayBvbiB0aGUgc3RhZ2UgPT4gZm9jdXMgb24gdGhlIHN0YWdlIGlmcmFtZVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBmb2N1c0lucHV0LmZvY3VzKClcbiAgICBmb2N1c0lucHV0LmJsdXIoKVxuICAgIGRvY3VtZW50LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpXG4gIH0sIDApXG59XG5cbi8qKlxuICogaW1wbGVtZW50IGEgXCJtb2RhbFwiIGJlaGF2aW9yIHRvIGhpZGUgYW5kIHNob3cgZGlhbG9nc1xuICogdGhlcmUgaXMgYSBzdGF0aWMgbWV0aG9kIHRvIG9wZW4gZGlhbG9ncyBieSBuYW1lXG4gKiBAY2xhc3Mge3NpbGV4LnZpZXcuTW9kYWxEaWFsb2d9XG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RhbERpYWxvZyB7XG5cbiAgc3RhdGljIGRpYWxvZ3M6IE1hcDxzdHJpbmcsIE1vZGFsRGlhbG9nPiA9IG5ldyBNYXAoKVxuICBzdGF0aWMgY3VycmVudERpYWxvZzogTW9kYWxEaWFsb2dcbiAgc3RhdGljIEhJREVfRElBTE9HX0NMQVNTX05BTUUgPSAnc2lsZXgtaGlkZS1kaWFsb2cnXG4gIHN0YXRpYyBNT0RBTF9ESUFMT0dfQ0xBU1NfTkFNRSA9ICdzaWxleC1tb2RhbC1kaWFsb2cnXG5cbiAgLyoqXG4gICAqIG9wZW4gYSBkaWFsb2cgYnkgbmFtZVxuICAgKi9cbiAgc3RhdGljIG9wZW4obmFtZTogc3RyaW5nLCBhcmdzOiBhbnkgPSBudWxsKSB7XG4gICAgaWYgKE1vZGFsRGlhbG9nLmRpYWxvZ3MuaGFzKG5hbWUpKSB7XG4gICAgICBNb2RhbERpYWxvZy5kaWFsb2dzLmdldChuYW1lKS5vcGVuKGFyZ3MpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBvcGVuIGRpYWxvZycsIG5hbWUsIE1vZGFsRGlhbG9nLmRpYWxvZ3MpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGNsb3NlIGEgZGlhbG9nIGJ5IG5hbWVcbiAgICovXG4gIHN0YXRpYyBjbG9zZSgpIHtcbiAgICBpZiAoTW9kYWxEaWFsb2cuY3VycmVudERpYWxvZykge1xuICAgICAgTW9kYWxEaWFsb2cuY3VycmVudERpYWxvZy5jbG9zZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBjbG9zZSBkaWFsb2csIHRoZXJlIGlzIG5vIGRpYWxvZyBvcGVuZWQnKVxuICAgIH1cbiAgfVxuICBuYW1lOiBzdHJpbmdcbiAgZWxlbWVudDogSFRNTEVsZW1lbnRcbiAgb25PcGVuOiAocDE/OiBhbnkpID0+IGFueVxuICBvbkNsb3NlOiAoKSA9PiBhbnlcblxuICAvLyBzZXQgdGhlIGZsYWdcbiAgaXNPcGVuID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG9uT3BlbjogKHAxPzogYW55KSA9PiBhbnksXG4gICAgb25DbG9zZTogKCkgPT4gYW55LFxuICB9KSB7XG4gICAgLy8gY2hlY2sgYW5kIHN0b3JlIG9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5uYW1lKSB7XG4gICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWVcbiAgICAgIE1vZGFsRGlhbG9nLmRpYWxvZ3Muc2V0KHRoaXMubmFtZSwgdGhpcylcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgdGhpcy5lbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTW9kYWwgZGlhbG9nIG9wdGlvbnMgbWlzc2luZyBhIFwiZWxlbWVudFwiIGZpZWxkJylcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMub25PcGVuKSB7XG4gICAgICB0aGlzLm9uT3BlbiA9IG9wdGlvbnMub25PcGVuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTW9kYWwgZGlhbG9nIG9wdGlvbnMgbWlzc2luZyBhIFwib25PcGVuXCIgZmllbGQnKVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vbkNsb3NlKSB7XG4gICAgICB0aGlzLm9uQ2xvc2UgPSBvcHRpb25zLm9uQ2xvc2VcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb2RhbCBkaWFsb2cgb3B0aW9ucyBtaXNzaW5nIGEgXCJvbkNsb3NlXCIgZmllbGQnKVxuICAgIH1cblxuICAgIC8vIHNldCB0aGUgY3NzIGNsYXNzZXNcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChNb2RhbERpYWxvZy5NT0RBTF9ESUFMT0dfQ0xBU1NfTkFNRSlcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChNb2RhbERpYWxvZy5ISURFX0RJQUxPR19DTEFTU19OQU1FKVxuXG4gICAgLy8gY2xvc2UgYnV0dG9uXG4gICAgY29uc3QgY2xvc2VCdG4gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpIGFzIEhUTUxFbGVtZW50XG4gICAgaWYgKGNsb3NlQnRuKSB7XG4gICAgICBjbG9zZUJ0bi5vbmNsaWNrID0gKGUpID0+IHRoaXMuY2xvc2UoKVxuICAgIH1cblxuICAgIC8vIGhhbmRsZSBlc2NhcGUga2V5XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc09wZW4gJiYgZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogb3BlbiB0aGUgZGlhbG9nXG4gICAqIEBwYXJhbSBhcmdzIG9wdGlvbmFsIGFyZ3MgdG8gcGFzcyB0byB0aGUgZGlhbG9nXG4gICAqL1xuICBvcGVuKGFyZ3M/OiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAvLyBzZXQgdGhlIGZsYWdcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZVxuXG4gICAgICAvLyBoYW5kbGUgdGhlIGN1cnJlbnQgZGlhbG9nXG4gICAgICBpZiAoTW9kYWxEaWFsb2cuY3VycmVudERpYWxvZykge1xuICAgICAgICBNb2RhbERpYWxvZy5jdXJyZW50RGlhbG9nLmNsb3NlKClcbiAgICAgIH1cbiAgICAgIE1vZGFsRGlhbG9nLmN1cnJlbnREaWFsb2cgPSB0aGlzXG5cbiAgICAgIC8vIGNzcyBjbGFzc2VzIHRvIHNob3cgdGhlIGRpYWxvZyBhbmQgdGhlIGJhY2tncm91bmRcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKE1vZGFsRGlhbG9nLkhJREVfRElBTE9HX0NMQVNTX05BTUUpXG5cbiAgICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrXG4gICAgICB0aGlzLm9uT3BlbihhcmdzKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ3RoaXMgZGlhbG9nIGlzIGFscmVhZHkgb3BlbmVkJywgdGhpcy5uYW1lID8gdGhpcy5uYW1lIDogJycpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGNsb3NlIHRoZSBkaWFsb2dcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgLy8gcmVzZXQgdGhlIGZsYWdzXG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlXG4gICAgICBNb2RhbERpYWxvZy5jdXJyZW50RGlhbG9nID0gbnVsbFxuXG4gICAgICAvLyBub3RpZnkgdGhlIGRpYWxvZyBpdHNlbGZcbiAgICAgIHRoaXMub25DbG9zZSgpXG5cbiAgICAgIC8vIGdpdmUgZm9jdXMgdG8gdGhlIHN0YWdlLCB0aGlzIHdpbGwgdHJpZ2dlciBhIGNoYW5nZSBldmVudCBvbiB0aGUgaW5wdXRcbiAgICAgIC8vIGVsZW1lbnRzIHdoaWNoIGhhdmUgZm9jdXNcbiAgICAgIHJlc2V0Rm9jdXMoKVxuXG4gICAgICAvLyBmaW5hbGx5IGhpZGUgdGhlIGRpYWxvZyAtIHRoaXMgaGFzIHRvIGJlIGxhc3QsIG90aGVyd2lzZSB0aGluZ3MgbGlrZVxuICAgICAgLy8gYmx1ciBpbnB1dHMgd2lsbCBmYWlsIHNpbmNlIHRoaXMgbWFrZXMgdGhlIGRpYWxvZyBkaXNwbGF5OiBub25lO1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoTW9kYWxEaWFsb2cuSElERV9ESUFMT0dfQ0xBU1NfTkFNRSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdkaWFsb2cgaXMgYWxyZWFkeSBjbG9zZWQnLCB0aGlzLm5hbWUgPyB0aGlzLm5hbWUgOiAnJylcbiAgICB9XG4gIH1cbn1cbiIsIlxuZXhwb3J0IGludGVyZmFjZSBVaUVsZW1lbnRzIHtcbiAgZmlsZUV4cGxvcmVyOiBIVE1MSUZyYW1lRWxlbWVudFxuICBjb250ZXh0TWVudTogSFRNTEVsZW1lbnRcbiAgbWVudTogSFRNTEVsZW1lbnRcbiAgYnJlYWRDcnVtYnM6IEhUTUxFbGVtZW50XG4gIHBhZ2VUb29sOiBIVE1MRWxlbWVudFxuICBodG1sRWRpdG9yOiBIVE1MRWxlbWVudFxuICBjc3NFZGl0b3I6IEhUTUxFbGVtZW50XG4gIGpzRWRpdG9yOiBIVE1MRWxlbWVudFxuICBzZXR0aW5nc0RpYWxvZzogSFRNTEVsZW1lbnRcbiAgZGFzaGJvYXJkOiBIVE1MRWxlbWVudFxuICBwcm9wZXJ0eVRvb2w6IEhUTUxFbGVtZW50XG4gIHRleHRGb3JtYXRCYXI6IEhUTUxFbGVtZW50XG4gIHdvcmtzcGFjZTogSFRNTEVsZW1lbnRcbiAgdmVydGljYWxTcGxpdHRlcjogSFRNTEVsZW1lbnRcbn1cblxuLy8ga2VlcCByZWZlcmVuY2VzIHRvIHVpIGVsZW1lbnRzXG5sZXQgdWlFbGVtZW50czogVWlFbGVtZW50c1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVpRWxlbWVudHMoKTogVWlFbGVtZW50cyB7XG4gIHVpRWxlbWVudHMgPSB1aUVsZW1lbnRzIHx8IHtcbiAgICBmaWxlRXhwbG9yZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaWxleC1maWxlLWV4cGxvcmVyJyksXG4gICAgY29udGV4dE1lbnU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWxleC1jb250ZXh0LW1lbnUnKSxcbiAgICBtZW51OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lsZXgtbWVudScpLFxuICAgIGJyZWFkQ3J1bWJzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lsZXgtYnJlYWQtY3J1bWJzJyksXG4gICAgcGFnZVRvb2w6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWxleC1wYWdlLXRvb2wnKSxcbiAgICBodG1sRWRpdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lsZXgtaHRtbC1lZGl0b3InKSxcbiAgICBjc3NFZGl0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWxleC1jc3MtZWRpdG9yJyksXG4gICAganNFZGl0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWxleC1qcy1lZGl0b3InKSxcbiAgICBzZXR0aW5nc0RpYWxvZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpbGV4LXNldHRpbmdzLWRpYWxvZycpLFxuICAgIGRhc2hib2FyZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpbGV4LWRhc2hib2FyZCcpLFxuICAgIHByb3BlcnR5VG9vbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpbGV4LXByb3BlcnR5LXRvb2wnKSxcbiAgICB0ZXh0Rm9ybWF0QmFyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lsZXgtdGV4dC1mb3JtYXQtYmFyJyksXG4gICAgd29ya3NwYWNlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lsZXgtd29ya3NwYWNlJyksXG4gICAgdmVydGljYWxTcGxpdHRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZlcnRpY2FsLXNwbGl0dGVyJyksXG4gIH0gYXMgVWlFbGVtZW50c1xuICByZXR1cm4gdWlFbGVtZW50c1xufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNlcnZpY2UgdXNlZCB0byBpbnRlcmFjdCB3aXRoIHRoZSB1bmlmaWxlIHNlcnZlci5cbiAqICAgICBUaGlzIGNsYXNzIGlzIGEgc2luZ2xldG9uLlxuICpcbiAqL1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBDbG91ZEV4cGxvcmVyIH0gZnJvbSAnLi4vZXh0ZXJucydcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgUGVyc2lzdGFudERhdGEgfSBmcm9tICcuLi9zdG9yZS90eXBlcydcblxuLy8gRklYTUU6IGNob29zZSBiZXR3ZWVuIHBhdGggYW5kIGZvbGRlciArIG5hbWUsIHJlbW92ZSBhYnNQYXRoXG4vLyBUaGlzIGNvbWVzIGZyb20gQ2xvdWQgRXhwbG9yZXJcbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUluZm8ge1xuICBwYXRoOiBzdHJpbmcsXG4gIHNlcnZpY2U6IHN0cmluZyxcbiAgbmFtZTogc3RyaW5nLFxuICBpc0RpcjogYm9vbGVhbixcbiAgbWltZTogc3RyaW5nLFxuICBhYnNQYXRoOiBzdHJpbmcsXG4gIGZvbGRlcj86IHN0cmluZyxcbiAgc2l6ZT86IG51bWJlcixcbiAgbW9kaWZpZWQ/OiBzdHJpbmcsXG59XG5cbi8qKlxuICogdGhlIFNpbGV4IENsb3VkU3RvcmFnZSBzZXJ2aWNlXG4gKiBsb2FkIGFuZCBzYXZlIGRhdGEgdG8gYW5kIGZyb20gdGhlIGNsb3VkIHN0b3JhZ2Ugc2VydmljZXNcbiAqIHRoaXMgaXMgYSBzaW5nbGV0b25cbiAqL1xuZXhwb3J0IGNsYXNzIENsb3VkU3RvcmFnZSB7XG5cbiAgc3RhdGljIGluc3RhbmNlOiBDbG91ZFN0b3JhZ2VcbiAgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgIENsb3VkU3RvcmFnZS5pbnN0YW5jZSA9IENsb3VkU3RvcmFnZS5pbnN0YW5jZSB8fCBuZXcgQ2xvdWRTdG9yYWdlKClcbiAgICByZXR1cm4gQ2xvdWRTdG9yYWdlLmluc3RhbmNlXG4gIH1cbiAgLyoqXG4gICAqIHJlZmVyZW5jZSB0byB0aGUgZmlsZXBpY2tlciBpbnN0YW5jZVxuICAgKi9cbiAgY2U6IENsb3VkRXhwbG9yZXIgPSBudWxsXG4gIGNia3M6IGFueVxuXG4gIHJlYWR5KGNiazogKCkgPT4gYW55KSB7XG4gICAgY29uc3QgdWlFbGVtZW50cyA9IGdldFVpRWxlbWVudHMoKVxuICAgIC8vIGNsb3VkIGV4cGxvcmVyIGluc3RhbmNlXG4gICAgLy8gdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWxcbiAgICBpZiAodWlFbGVtZW50cy5maWxlRXhwbG9yZXIuY29udGVudFdpbmRvd1snY2UnXSkge1xuICAgICAgdGhpcy5jZSA9ICh1aUVsZW1lbnRzLmZpbGVFeHBsb3Jlci5jb250ZW50V2luZG93WydjZSddIGFzIENsb3VkRXhwbG9yZXIpXG4gICAgICBjYmsoKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jYmtzID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jYmtzID0gW11cbiAgICAgICAgdWlFbGVtZW50cy5maWxlRXhwbG9yZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChlKSA9PiB7XG4gICAgICAgICAgdGhpcy5jZSA9ICh1aUVsZW1lbnRzLmZpbGVFeHBsb3Jlci5jb250ZW50V2luZG93WydjZSddIGFzIENsb3VkRXhwbG9yZXIpXG4gICAgICAgICAgdGhpcy5jYmtzLmZvckVhY2goKF8pID0+IF8oKSlcbiAgICAgICAgICB0aGlzLmNia3MgPSBbXVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgdGhpcy5jYmtzLnB1c2goY2JrKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBzYXZlIGEgZmlsZVxuICAgKi9cbiAgd3JpdGUoXG4gICAgICBmaWxlSW5mbzogRmlsZUluZm8sIGh0bWw6IHN0cmluZywgZGF0YTogUGVyc2lzdGFudERhdGEsIGNiazogKCkgPT4gYW55LFxuICAgICAgb3B0X2VyckNiaz86ICgocDE6IGFueSwgcDI6IHN0cmluZywgY29kZTogbnVtYmVyKSA9PiBhbnkpKSB7XG4gICAgLy8gLy8gc2F2ZSB0aGUgZGF0YVxuICAgIC8vIHRoaXMuY2Uud3JpdGUobmV3IEJsb2IoW2h0bWxdLCB7dHlwZTogJ3RleHQvcGxhaW4nfSksIGZpbGVJbmZvKVxuICAgIC8vIC50aGVuKCgpID0+IHtcbiAgICAvLyAgIGNiaygpO1xuICAgIC8vIH0pXG4gICAgLy8gLmNhdGNoKGUgPT4ge1xuICAgIC8vICAgY29uc29sZS5lcnJvcignRXJyb3I6IGNvdWxkIG5vdCB3cml0ZSBmaWxlJywgZmlsZUluZm8sIGUpO1xuICAgIC8vICAgaWYgKG9wdF9lcnJDYmspIG9wdF9lcnJDYmsoLyoqIEB0eXBlIHthbnl9ICovIChlKSk7XG4gICAgLy8gfSk7XG4gICAgY29uc3Qgb1JlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgb1JlcS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBpZiAob1JlcS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBjYmsoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEV2ZW50KCdlcnJvcicpXG4gICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuZ2V0RXJyb3JNZXNzYWdlKG9SZXEpXG4gICAgICAgIGlmIChvcHRfZXJyQ2JrKSB7XG4gICAgICAgICAgb3B0X2VyckNiayhlcnIsIG1zZywgb1JlcS5zdGF0dXMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdXJsID0gYC93ZWJzaXRlL2NlLyR7ZmlsZUluZm8uc2VydmljZX0vcHV0LyR7ZmlsZUluZm8ucGF0aH1gXG4gICAgb1JlcS5vcGVuKCdQVVQnLCB1cmwpXG4gICAgb1JlcS5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOCcpXG4gICAgb1JlcS5zZW5kKEpTT04uc3RyaW5naWZ5KHtodG1sLCBkYXRhfSkpXG4gIH1cblxuICAvKipcbiAgICogZ2V0IGFuIGVycm9yIG1lc3NhZ2Ugb3V0IG9mIGEgQ2xvdWRFeHBsb3JlcidzIHJvdXRlciBlcnJvciByZXNwb25zZVxuICAgKiBAcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXG4gICAqL1xuICBnZXRFcnJvck1lc3NhZ2Uob1JlcSk6IHN0cmluZyB7XG4gICAgbGV0IG1zZyA9ICcnXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gSlNPTi5wYXJzZShvUmVxLnJlc3BvbnNlVGV4dClcbiAgICAgIGlmIChyZXNwb25zZS5tZXNzYWdlKSB7XG4gICAgICAgIG1zZyA9IHJlc3BvbnNlLm1lc3NhZ2VcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICAgIGlmIChtc2cgPT09ICcnKSB7XG4gICAgICBpZiAob1JlcS5yZXNwb25zZVRleHQgIT09ICcnKSB7XG4gICAgICAgIG1zZyA9IG9SZXEucmVzcG9uc2VUZXh0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKG9SZXEuc3RhdHVzKSB7XG4gICAgICAgICAgY2FzZSA0MDQ6XG4gICAgICAgICAgICBtc2cgPSAnRmlsZSBub3QgZm91bmQuJ1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlIDQwMTpcbiAgICAgICAgICAgIG1zZyA9XG4gICAgICAgICAgICAgICAgJ1lvdSBhcmUgbm90IGNvbm5lY3RlZCB0byB0aGUgY2xvdWQgc2VydmljZSB5b3UgYXJlIHRyeWluZyB0byB1c2UuJ1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbXNnID0gJ1Vua25vd24gZXJyb3Igd2l0aCBIVFRQIHN0YXR1cyAnICsgb1JlcS5zdGF0dXNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbXNnID09PSAnJyA/IG51bGwgOiBtc2dcbiAgfVxuXG4gIC8qKlxuICAgKiBsb2FkIGEgd2Vic2l0ZSBmcm9tIHRoZSBhcGlcbiAgICovXG4gIGxvYWRXZWJzaXRlKFxuICAgICAgYWJzUGF0aDogc3RyaW5nLCBjYms6IChwMTogc3RyaW5nLCBkYXRhOiBQZXJzaXN0YW50RGF0YSkgPT4gYW55LFxuICAgICAgb3B0X2VyckNiaz86ICgocDE6IGFueSwgcDI6IHN0cmluZywgY29kZTogbnVtYmVyKSA9PiBhbnkpKSB7XG4gICAgY29uc3QgdXJsID0gJy93ZWJzaXRlJyArIGFic1BhdGhcbiAgICBjb25zdCBvUmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICBvUmVxLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZSkgPT4ge1xuICAgICAgLy8gc3VjY2VzcyBvZiB0aGUgcmVxdWVzdFxuICAgICAgaWYgKG9SZXEuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2Uob1JlcS5yZXNwb25zZVRleHQpXG5cbiAgICAgICAgLy8gd2FybiB0aGUgdXNlclxuICAgICAgICBpZiAoanNvbi5tZXNzYWdlKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdXZWJzaXRlIHVwZGF0ZWQnLCBqc29uLm1lc3NhZ2UsICgpID0+IHt9KVxuICAgICAgICB9XG4gICAgICAgIGNiayhqc29uLmh0bWwsIGpzb24uZGF0YSBhcyBQZXJzaXN0YW50RGF0YSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBFdmVudCgnZXJyb3InKVxuICAgICAgICBjb25zdCBtc2cgPSB0aGlzLmdldEVycm9yTWVzc2FnZShvUmVxKVxuICAgICAgICBvcHRfZXJyQ2JrKGVyciwgbXNnLCBvUmVxLnN0YXR1cylcbiAgICAgIH1cbiAgICB9KVxuICAgIG9SZXEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignY291bGQgbm90IGxvYWQgd2Vic2l0ZScsIGFic1BhdGgsICdmcm9tJywgdXJsLCBlKVxuICAgICAgaWYgKG9wdF9lcnJDYmspIHtcbiAgICAgICAgb3B0X2VyckNiayhcbiAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAnTmV0d29yayBlcnJvciwgcGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbiBvciB0cnkgYWdhaW4gbGF0ZXIuJywgb1JlcS5zdGF0dXMpXG4gICAgICB9XG4gICAgfSlcbiAgICBvUmVxLm9wZW4oJ0dFVCcsIHVybClcbiAgICBvUmVxLnNlbmQoKVxuICB9XG5cbiAgZ2V0U2VydmljZXMoXG4gICAgICBjYms6IChwMTogYW55W10pID0+IGFueSxcbiAgICAgIG9wdF9lcnJDYms/OiAoKHAxOiBhbnksIHAyOiBzdHJpbmcpID0+IGFueSkpIHtcbiAgICB0aGlzLmNlLmdldFNlcnZpY2VzKClcbiAgICAudGhlbigoc2VydmljZXMpID0+IHtcbiAgICAgIGNiayhzZXJ2aWNlcylcbiAgICB9KVxuICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6IGNvdWxkIG5vdCBnZXQgdGhlIGxpc3Qgb2Ygc2VydmljZXMnLCBlKVxuICAgICAgaWYgKG9wdF9lcnJDYmspIHtcbiAgICAgICAgb3B0X2VyckNiayhlLCAnRXJyb3I6IGNvdWxkIG5vdCBnZXQgdGhlIGxpc3Qgb2Ygc2VydmljZXMnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2JrKFtdKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBUaGlzIGlzIHRoZSBkaWFsb2cgYm94IGNvbnRhaW5pbmcgdGhlXG4gKiAgICAgQ2xvdWQgRXhwbG9yZXIgZmlsZSBwaWNrZXJcbiAqICAgICB0aGlzIGlzIG9ubHkgdGhlIFVJIHBhcnQsIHRvIGxldCB1c2VyIGNob29zZSBhIGZpbGUgaW4gdGhlIGNsb3VkXG4gKiAgICAgQHNlZSBzaWxleC5zZXJ2aWNlLkNsb3VkU3RvcmFnZSAgICAgZm9yIHRoZSBzZXJ2aWNlL25ldHdvcmsgcGFydFxuICpcbiAqL1xuXG5pbXBvcnQgeyBNb2RhbERpYWxvZyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTW9kYWxEaWFsb2cnXG5pbXBvcnQgeyBDbG91ZEV4cGxvcmVyIH0gZnJvbSAnLi4vLi4vZXh0ZXJucydcbmltcG9ydCB7IENsb3VkU3RvcmFnZSwgRmlsZUluZm8gfSBmcm9tICcuLi8uLi9pby9DbG91ZFN0b3JhZ2UnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBnZXRVaUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvVWlFbGVtZW50cydcblxuLyoqXG4gKiB0aGUgU2lsZXggRmlsZUV4cGxvcmVyIGNsYXNzXG4gKiBAY2xhc3Mge3NpbGV4LnZpZXcuZGlhbG9nLkZpbGVFeHBsb3Jlcn1cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVFeHBsb3JlciB7XG4gIHN0YXRpYyBnZXQgSU1BR0VfRVhURU5TSU9OUygpIHtcbiAgICByZXR1cm4gWycuanBnJywgJy5qcGVnJywgJy5wbmcnLCAnLmdpZicsICcuc3ZnJ11cbiAgfVxuICBzdGF0aWMgZ2V0IEhUTUxfRVhURU5TSU9OUygpIHtcbiAgICByZXR1cm4gWycuaHRtbCcsICcuemlwJ11cbiAgfVxuXG4gIC8vIHNpbmdsZXRvbiBwYXR0ZXJuXG4gIC8vIEZJWE1FOiByZWZhY3RvciBpdCBhcyBhIGZ1bmN0aW9uIGFuZCB1c2UgaW1wb3J0XG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBGaWxlRXhwbG9yZXIge1xuICAgIEZpbGVFeHBsb3Jlci5pbnN0YW5jZSA9IEZpbGVFeHBsb3Jlci5pbnN0YW5jZSB8fCBuZXcgRmlsZUV4cGxvcmVyKClcbiAgICByZXR1cm4gRmlsZUV4cGxvcmVyLmluc3RhbmNlXG4gIH1cbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEZpbGVFeHBsb3JlclxuXG4gIC8qKlxuICAgKiByZWZlcmVuY2UgdG8gdGhlIGZpbGVwaWNrZXIgaW5zdGFuY2VcbiAgICovXG4gIGNlOiBDbG91ZEV4cGxvcmVyID0gbnVsbFxuXG4gIC8vIG1ha2UgdGhpcyBhIGRpYWxvZ1xuICBtb2RhbERpYWxvZzogYW55XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZ2V0VWlFbGVtZW50cygpLmZpbGVFeHBsb3JlclxuXG4gICAgLy8gY2xvdWQgZXhwbG9yZXIgaW5zdGFuY2VcbiAgICBDbG91ZFN0b3JhZ2UuZ2V0SW5zdGFuY2UoKS5yZWFkeSgoKSA9PiB7XG4gICAgICB0aGlzLmNlID0gQ2xvdWRTdG9yYWdlLmdldEluc3RhbmNlKCkuY2VcbiAgICB9KVxuICAgIHRoaXMubW9kYWxEaWFsb2cgPSBuZXcgTW9kYWxEaWFsb2coe25hbWU6ICdGaWxlIGV4cGxvcmVyJywgZWxlbWVudCwgb25PcGVuOiAoYXJncykgPT4ge30sIG9uQ2xvc2U6ICgpID0+IHt9fSlcbiAgfVxuXG4gIC8qKlxuICAgKiBtZXRob2QgcGFzc2VkIHRvIHRoZW4gaW4gb3JkZXIgdG8gYWRkIHRoZSBkZXNpcmVkIHBhdGggZm9ybWF0IGV2ZXJ5d2hlcmUgaW5cbiAgICogc2lsZXhcbiAgICovXG4gIGFkZEFic1BhdGgoZmlsZUluZm86IEZpbGVJbmZvKTogRmlsZUluZm8ge1xuICAgIGlmIChmaWxlSW5mbykge1xuICAgICAgY29uc3QgYWJzUGF0aCA9IGZpbGVJbmZvLnNlcnZpY2UgPyBgL2NlLyR7ZmlsZUluZm8uc2VydmljZX0vZ2V0LyR7ZmlsZUluZm8ucGF0aH1gIDogZmlsZUluZm8uYWJzUGF0aFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZmlsZUluZm8sXG4gICAgICAgIGFic1BhdGgsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHBpY2sgZmlsZVxuICAgKiBAcGFyYW0gb3B0X2V4dGVuc2lvbnMgb3B0aW9uYWwgYXJyYXkgb2YgZmlsZSBleHRlbnNpb25zLCBlLmcuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgWycuanBnJ10gdG8gc2hvdyAqLmpwZyBhbmQgKi5KUEdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsIHRvIHNob3cgYWxsIHRoZSBmaWxlcyBhbmQgZm9sZGVyc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFtdIHRvIHNob3cgb25seSBmb2xkZXJzXG4gICAqL1xuICBhc3luYyBvcGVuRmlsZShvcHRfZXh0ZW5zaW9ucz86IHN0cmluZ1tdKTogUHJvbWlzZTxGaWxlSW5mbz4ge1xuICAgIHRoaXMub3BlbigpXG4gICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCB0aGlzLmNlLm9wZW5GaWxlKG9wdF9leHRlbnNpb25zKVxuICAgIGlmIChmaWxlSW5mbykge1xuICAgICAgaWYgKGZpbGVJbmZvLnVybHMgJiYgZmlsZUluZm8udXJscy5iaWcgJiYgZmlsZUluZm8udXJscy5zbWFsbCkge1xuICAgICAgICBjb25zdCBhYnNQYXRoID0gYXdhaXQgdGhpcy5wcm9tcHRBdHRyaWJ1dGlvbkFuZEdldFNpemUoZmlsZUluZm8uYXR0cmlidXRpb24sIGZpbGVJbmZvLnVybHMpXG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmZpbGVJbmZvLFxuICAgICAgICAgIGFic1BhdGgsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgcmV0dXJuIHRoaXMuYWRkQWJzUGF0aChmaWxlSW5mbylcbiAgICB9XG4gICAgdGhpcy5jbG9zZSgpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFzeW5jIHByb21wdEF0dHJpYnV0aW9uQW5kR2V0U2l6ZShhdHRyaWJ1dGlvbiwgdXJscyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0aW9uVGV4dCA9IGF0dHJpYnV0aW9uID8gYFxuICAgICAgICA8aDM+QWJvdXQgdGhpcyBpbWFnZSBhbmQgdGhlIGF1dGhvcjwvaDM+XG4gICAgICAgIDxwPlxuICAgICAgICAgICR7YXR0cmlidXRpb24ubWVzc2FnZX1cbiAgICAgICAgPC9wPjxici8+XG4gICAgICAgIDxjb2RlPlxuICAgICAgICAgICR7YXR0cmlidXRpb24uY29udGVudH1cbiAgICAgICAgPC9jb2RlPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY29weS1idG5cIj5Db3B5PC9idXR0b24+XG4gICAgICBgIDogJydcbiAgICAgIGNvbnN0IHNpemVUZXh0ID0gYFxuICAgICAgICA8aDM+SW1hZ2Ugc2l6ZTwvaDM+XG4gICAgICAgIDxwPllvdSBuZWVkIHRvIGNob29zZSBhbiBpbWFnZSBzaXplIHRvIGNvbnRpbnVlPC9wPlxuICAgICAgICA8dWw+XG4gICAgICAgICAgPGxpPk9wZW4gdGhlIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke3VybHMuYmlnfVwiPmJpZyB2ZXJzaW9uPC9hPiBpbiBhIG5ldyB0YWI8L2xpPlxuICAgICAgICAgIDxsaT5PciB0aGUgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7dXJscy5zbWFsbH1cIj5zbWFsbCB2ZXJzaW9uPC9hPjwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICBgXG4gICAgICBjb25zdCBmb3JtOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICBmb3JtLmlubmVySFRNTCA9IGF0dHJpYnV0aW9uVGV4dCArIHNpemVUZXh0XG4gICAgICBjb25zdCBjb3B5QnRuOiBIVE1MQnV0dG9uRWxlbWVudCA9IGZvcm0ucXVlcnlTZWxlY3RvcignLmNvcHktYnRuJylcbiAgICAgIGNvcHlCdG4ub25jbGljayA9ICgpID0+IHRoaXMuY29weShhdHRyaWJ1dGlvbi5jb250ZW50KVxuICAgICAgTm90aWZpY2F0aW9uLmNvbmZpcm0oJ0luc2VydCBpbWFnZScsICcnLCAob2spID0+IHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgcmVzb2x2ZSh1cmxzLmJpZylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHVybHMuc21hbGwpXG4gICAgICAgIH1cbiAgICAgIH0sICdCaWcgc2l6ZScsICdTbWFsbCBzaXplJylcbiAgICAgIE5vdGlmaWNhdGlvbi5zZXRDb250ZW50KGZvcm0sIGZhbHNlKVxuICAgIH0pXG4gIH1cblxuICBjb3B5KHRleHQ6IHN0cmluZykge1xuICAgIGNvbnN0IGNvcHlUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvcHlUZXh0KVxuICAgIHRyeSB7XG4gICAgICBjb3B5VGV4dC5pbm5lckhUTUwgPSB0ZXh0XG4gICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgICAgIHJhbmdlLnNlbGVjdE5vZGUoY29weVRleHQpXG4gICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuYWRkUmFuZ2UocmFuZ2UpXG4gICAgICBjb25zdCBzdWNjZXNzID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKVxuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLm5vdGlmeVN1Y2Nlc3MoJ0F0dHJpYnV0aW9uIGNvcGllZCB0byBjbGlwYm9hcmQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLm5vdGlmeUVycm9yKCdBdHRyaWJ1dGlvbiBoYXMgbm90IGJlZW4gY29waWVkIHRvIGNsaXBib2FyZCcpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBjb3B5IHRvIGNsaXBib2FyZCcsIHRleHQpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBOb3RpZmljYXRpb24ubm90aWZ5RXJyb3IoJ0F0dHJpYnV0aW9uIGhhcyBub3QgYmVlbiBjb3BpZWQgdG8gY2xpcGJvYXJkJylcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBjb3B5IHRvIGNsaXBib2FyZCcsIGVyciwgdGV4dClcbiAgICB9XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb3B5VGV4dClcbiAgfVxuXG4gIC8qKlxuICAgKiBwaWNrIG11bHRpcGxlIGZpbGVzXG4gICAqIEBwYXJhbSBvcHRfZXh0ZW5zaW9ucyBvcHRpb25hbCBhcnJheSBvZiBmaWxlIGV4dGVuc2lvbnMsIGUuZy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBbJy5qcGcnXSB0byBzaG93ICouanBnIGFuZCAqLkpQR1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgdG8gc2hvdyBhbGwgdGhlIGZpbGVzIGFuZCBmb2xkZXJzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgW10gdG8gc2hvdyBvbmx5IGZvbGRlcnNcbiAgICovXG4gIGFzeW5jIG9wZW5GaWxlcyhvcHRfZXh0ZW5zaW9ucz86IHN0cmluZ1tdKTogUHJvbWlzZTxGaWxlSW5mbz4ge1xuICAgIHRoaXMub3BlbigpXG4gICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCB0aGlzLmNlLm9wZW5GaWxlcyhvcHRfZXh0ZW5zaW9ucylcbiAgICBjb25zdCBmaWxlSW5mb18yID0gdGhpcy5hZGRBYnNQYXRoKGZpbGVJbmZvKVxuICAgIHRoaXMuY2xvc2UoKVxuICAgIHJldHVybiBmaWxlSW5mb18yXG4gIH1cblxuICAvKipcbiAgICogcGljayBhIGZvbGRlclxuICAgKi9cbiAgYXN5bmMgb3BlbkZvbGRlcigpOiBQcm9taXNlPEZpbGVJbmZvPiB7XG4gICAgdGhpcy5vcGVuKClcbiAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IHRoaXMuY2Uub3BlbkZvbGRlcigpXG4gICAgY29uc3QgZmlsZUluZm9fMiA9IHRoaXMuYWRkQWJzUGF0aChmaWxlSW5mbylcbiAgICB0aGlzLmNsb3NlKClcbiAgICByZXR1cm4gZmlsZUluZm9fMlxuICB9XG5cbiAgLyoqXG4gICAqIGNob29zZSBhIG5hbWUgZm9yIHRoZSBmaWxlXG4gICAqIEBwYXJhbSBvcHRfZXh0ZW5zaW9ucyBvcHRpb25hbCBhcnJheSBvZiBmaWxlIGV4dGVuc2lvbnMsIGUuZy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBbJy5qcGcnXSB0byBzaG93ICouanBnIGFuZCAqLkpQR1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgdG8gc2hvdyBhbGwgdGhlIGZpbGVzIGFuZCBmb2xkZXJzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgW10gdG8gc2hvdyBvbmx5IGZvbGRlcnNcbiAgICovXG4gIGFzeW5jIHNhdmVBcyhkZWZhdWx0TmFtZTogc3RyaW5nLCBvcHRfZXh0ZW5zaW9ucz86IHN0cmluZ1tdKTpcbiAgICAgIFByb21pc2U8RmlsZUluZm8+IHtcbiAgICB0aGlzLm9wZW4oKVxuICAgIGNvbnN0IGZpbGVJbmZvID0gYXdhaXQgdGhpcy5jZS5zYXZlQXMoZGVmYXVsdE5hbWUsIG9wdF9leHRlbnNpb25zKVxuICAgIGNvbnN0IGZpbGVJbmZvXzIgPSB0aGlzLmFkZEFic1BhdGgoZmlsZUluZm8pXG4gICAgdGhpcy5jbG9zZSgpXG4gICAgcmV0dXJuIGZpbGVJbmZvXzJcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIHRoZSBlZGl0b3JcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5tb2RhbERpYWxvZy5vcGVuKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgZWRpdG9yXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLm1vZGFsRGlhbG9nLmNsb3NlKClcbiAgfVxufVxuIiwiXG5cbmV4cG9ydCBlbnVtIEVsZW1lbnRBY3Rpb24ge1xuICBJTklUSUFMSVpFID0gJ0VMRU1FTlRfSU5JVElBTElTRScsXG4gIENSRUFURSA9ICdFTEVNRU5UX0NSRUFURScsXG4gIERFTEVURSA9ICdFTEVNRU5UX0RFTEVURScsXG4gIFVQREFURSA9ICdFTEVNRU5UX1VQREFURScsXG4gIC8vIE1PVkUgPSAnRUxFTUVOVF9NT1ZFJyxcbn1cblxuZXhwb3J0IGVudW0gUGFnZUFjdGlvbiB7XG4gIElOSVRJQUxJWkUgPSAnUEFHRV9JTklUSUFMSVpFJyxcbiAgQ1JFQVRFID0gJ1BBR0VfQ1JFQVRFJyxcbiAgREVMRVRFID0gJ1BBR0VfREVMRVRFJyxcbiAgVVBEQVRFID0gJ1BBR0VfVVBEQVRFJyxcbiAgTU9WRSA9ICdQQUdFX01PVkUnLFxufVxuXG5leHBvcnQgZW51bSBTaXRlQWN0aW9uIHtcbiAgSU5JVElBTElaRSA9ICdTSVRFX0lOSVRJQUxJWkUnLFxuICBVUERBVEUgPSAnU0lURV9VUERBVEUnLFxufVxuXG5leHBvcnQgZW51bSBVaUFjdGlvbiB7XG4gIElOSVRJQUxJWkUgPSAnVUlfSU5JVElBTElaRScsXG4gIFVQREFURSA9ICdVSV9VUERBVEUnLFxufVxuIiwiaW1wb3J0IHsgRWxlbWVudFN0YXRlIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IExPQURJTkcsIFVpU3RhdGUgfSBmcm9tICcuLi91aS1zdG9yZS90eXBlcydcbmltcG9ydCB7IFBhZ2VBY3Rpb24sIFNpdGVBY3Rpb24sIFVpQWN0aW9uIH0gZnJvbSAnLi9hY3Rpb25zJ1xuaW1wb3J0IHsgUGFnZVN0YXRlIH0gZnJvbSAnLi4vcGFnZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IFNpdGVTdGF0ZSB9IGZyb20gJy4uL3NpdGUtc3RvcmUvdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBlbGVtZW50UmVkdWNlciA9IChzdGF0ZTogRWxlbWVudFN0YXRlW10gPSBbXSwgYWN0aW9uOiBhbnkpOiBhbnkgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgZGVmYXVsdDogcmV0dXJuIHN0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBhZ2VSZWR1Y2VyID0gKHN0YXRlOiBQYWdlU3RhdGVbXSA9IFtdLCBhY3Rpb246IGFueSk6IFBhZ2VTdGF0ZVtdID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUGFnZUFjdGlvbi5NT1ZFOlxuICAgICAgLy8gcmVtb3ZlIHRoZSBpdGVtXG4gICAgICBjb25zdCBpZHggPSBzdGF0ZS5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0gPT09IGFjdGlvbi5pdGVtKVxuICAgICAgY29uc3Qgd2l0aG91dEl0ZW0gPSBbLi4uc3RhdGUuc2xpY2UoMCwgaWR4KSwgLi4uc3RhdGUuc2xpY2UoaWR4ICsgMSldXG4gICAgICAvLyBwdXQgaXQgYmFja1xuICAgICAgcmV0dXJuIFsuLi53aXRob3V0SXRlbS5zbGljZSgwLCBhY3Rpb24uaWR4KSwgYWN0aW9uLml0ZW0sIC4uLndpdGhvdXRJdGVtLnNsaWNlKGFjdGlvbi5pZHgpXVxuXG4gICAgZGVmYXVsdDogcmV0dXJuIHN0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNpdGVSZWR1Y2VyID0gKHN0YXRlOiBTaXRlU3RhdGUgPSB7XG4gIGRlc2NyaXB0aW9uOiAnJyxcbiAgZW5hYmxlTW9iaWxlOiB0cnVlLFxuICBpc1RlbXBsYXRlOiBmYWxzZSxcbiAgdGl0bGU6ICcnLFxuICBwdWJsaWNhdGlvblBhdGg6IG51bGwsXG4gIHdlYnNpdGVVcmw6ICcnLFxuICBmYXZpY29uUGF0aDogJycsXG4gIHRodW1ibmFpbFNvY2lhbFBhdGg6ICcnLFxuICBkZXNjcmlwdGlvblNvY2lhbDogJycsXG4gIHRpdGxlU29jaWFsOiAnJyxcbiAgbGFuZzogJycsXG4gIHdpZHRoOiAtMSxcbiAgaGVhZFN0eWxlOiAnJyxcbiAgaGVhZFNjcmlwdDogJycsXG4gIGhlYWRVc2VyOiAnJyxcbiAgaG9zdGluZ1Byb3ZpZGVyOiAnJyxcbiAgdHdpdHRlclNvY2lhbDogJycsXG4gIGRhdGFTb3VyY2VzOiB7fSxcbiAgZm9udHM6IFtdLFxuICBzdHlsZXM6IHt9LFxuICBmaWxlOiBudWxsLFxuICBwcm9kb3R5cGVEZXBlbmRlbmNpZXM6IHt9LFxuICBkYXRhOiB7fSxcbn0sIGFjdGlvbjogYW55KSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNpdGVBY3Rpb24uSU5JVElBTElaRTogcmV0dXJuIHtcbiAgICAgIC4uLmFjdGlvbi5kYXRhLFxuICAgIH1cbiAgICBjYXNlIFNpdGVBY3Rpb24uVVBEQVRFOiByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAuLi5hY3Rpb24uZGF0YSxcbiAgICB9XG4gICAgZGVmYXVsdDogcmV0dXJuIHN0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVpUmVkdWNlciA9IChzdGF0ZTogVWlTdGF0ZSA9IHtcbiAgbG9hZGluZzogTE9BRElORy5TSUxFWCxcbiAgZGlydHk6IGZhbHNlLFxuICBtb2JpbGVFZGl0b3I6IGZhbHNlLFxuICBjdXJyZW50UGFnZUlkOiBudWxsLFxuICBkaWFsb2dzOiBbe1xuICAgIGlkOiAnZGVzaWduJyxcbiAgICB0eXBlOiAncHJvcGVydGllcycsXG4gICAgdmlzaWJsZTogdHJ1ZSxcbiAgfSwge1xuICAgIGlkOiAnc3R5bGUnLFxuICAgIHR5cGU6ICdwcm9wZXJ0aWVzJyxcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgfSwge1xuICAgIGlkOiAncGFyYW1zJyxcbiAgICB0eXBlOiAncHJvcGVydGllcycsXG4gICAgdmlzaWJsZTogZmFsc2UsXG4gIH1dLFxuICBjbGlwYm9hcmQ6IG51bGwsXG4gIGNvbXBvbmVudHM6IHt9LFxufSwgYWN0aW9uOiBhbnkpID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgVWlBY3Rpb24uSU5JVElBTElaRTogcmV0dXJuIHtcbiAgICAgIC4uLmFjdGlvbi5kYXRhLFxuICAgIH1cbiAgICBjYXNlIFVpQWN0aW9uLlVQREFURTogcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgLi4uYWN0aW9uLmRhdGEsXG4gICAgfVxuICAgIGRlZmF1bHQ6IHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVXRpbCBtZXRob2RzIGZvciBDUlVEIHN0YXRlcy9zdG9yZXMgKENyZWF0ZSBVcGRhdGUgRGVsZXRlKS4gQ3Jvc3MgcGxhdGZvcm0sIGl0IG5lZWRzIHRvIHJ1biBjbGllbnQgYW5kIHNlcnZlciBzaWRlXG4gKlxuICovXG5cblxuZXhwb3J0IGNvbnN0IGNydWRJZEtleSA9IFN5bWJvbCgnY3J1ZElkIGtleScpXG5leHBvcnQgaW50ZXJmYWNlIENydWRTdGF0ZSB7XG4gIFtjcnVkSWRLZXldOiBzeW1ib2xcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3J1ZEFjdGlvbjxUPiB7XG4gIHR5cGU6IHN0cmluZyxcbiAgaXRlbXM6IFRbXSxcbn1cblxuZnVuY3Rpb24gdGVzdENydWQoaXRlbXM6IENydWRTdGF0ZVtdKSB7XG4gIGNvbnN0IHdpdGhvdXRLZXkgPSBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+ICFpdGVtW2NydWRJZEtleV0pXG4gIGlmICh3aXRob3V0S2V5Lmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdUaGUgaXRlbXMgbmVlZCB0byBoYXZlIGEga2V5LiBUaGUgaXRlbXMgeW91IHByb3ZpZGUgdG8gdXBkYXRlIG9yIGRlbGV0ZWQgbmVlZCB0byBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgc3RvcmUnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aENydWRSZWR1Y2VyPFN0YXRlIGV4dGVuZHMgQ3J1ZFN0YXRlPihvcHRpb25zOiB7IGFjdGlvbkVudW06IGFueSwgcmVkdWNlcjogKHN0YXRlOiBTdGF0ZVtdLCBhY3Rpb246IENydWRBY3Rpb248U3RhdGU+KSA9PiBhbnksIGxhYmVsOiBzdHJpbmcgfSkge1xuICBjb25zdCB7IGFjdGlvbkVudW0sIHJlZHVjZXIgfSA9IG9wdGlvbnNcbiAgcmV0dXJuIChzdGF0ZTogU3RhdGVbXSA9IFtdLCBhY3Rpb246IGFueSkgPT4ge1xuICAgIGlmIChhY3Rpb24udHlwZSBpbiBPYmplY3Qua2V5cyhhY3Rpb25FbnVtKSlcbiAgICAgIHRlc3RDcnVkKGFjdGlvbi5pdGVtcylcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIGFjdGlvbkVudW0uSU5JVElBTElaRTogcmV0dXJuIGFjdGlvbi5pdGVtc1xuICAgICAgY2FzZSBhY3Rpb25FbnVtLkNSRUFURTogcmV0dXJuIGFjdGlvbi5pdGVtcy5sZW5ndGggPyByZWR1Y2VyKHN0YXRlLmNvbmNhdChhY3Rpb24uaXRlbXMpIGFzIGFueSBhcyBTdGF0ZVtdLCBhY3Rpb24pIDogc3RhdGVcbiAgICAgIGNhc2UgYWN0aW9uRW51bS5ERUxFVEU6IHJldHVybiBhY3Rpb24uaXRlbXMubGVuZ3RoID8gcmVkdWNlcihzdGF0ZS5maWx0ZXIoKGl0ZW0pID0+ICFhY3Rpb24uaXRlbXMuZmluZCgoaSkgPT4gaVtjcnVkSWRLZXldID09PSBpdGVtW2NydWRJZEtleV0pKSBhcyBhbnkgYXMgU3RhdGVbXSwgYWN0aW9uKSA6IHN0YXRlXG4gICAgICBjYXNlIGFjdGlvbkVudW0uVVBEQVRFOlxuICAgICAgICBpZiAoYWN0aW9uLml0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHN0YXRlXG4gICAgICAgIHJldHVybiByZWR1Y2VyKHN0YXRlLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGZvdW5kID0gYWN0aW9uLml0ZW1zLmZpbmQoKGkpID0+IGlbY3J1ZElkS2V5XSA9PT0gaXRlbVtjcnVkSWRLZXldKVxuICAgICAgICAgIHJldHVybiBmb3VuZCB8fCBpdGVtIC8vIFRPRE86ID8/IG9wZXJhdG9yIHNob3VsZCB3b3JrXG4gICAgICAgIH0pIGFzIGFueSBhcyBTdGF0ZVtdLCBhY3Rpb24pXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKVxuICAgIH1cbiAgfVxufVxuXG4vLyBhZGRzIGEgY3J1ZElkS2V5IHN5bWJvbGUgdG8gYWxsIGVsZW1lbnRzIG9mIGFuIGFycmF5XG5leHBvcnQgZnVuY3Rpb24gZnJvbURhdGE8RGF0YSwgQ3J1ZCBleHRlbmRzIENydWRTdGF0ZT4oaXRlbXM6IERhdGFbXSk6IENydWRbXSB7XG4gIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgLi4uaXRlbSxcbiAgICBbY3J1ZElkS2V5XTogU3ltYm9sKCksXG4gIH0pKSBhcyBhbnkgYXMgQ3J1ZFtdXG59XG5cbi8vIHJlbW92ZXMgYSBjcnVkSWRLZXkgc3ltYm9sZSB0byBhbGwgZWxlbWVudHMgb2YgYW4gYXJyYXlcbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGE8Q3J1ZCBleHRlbmRzIENydWRTdGF0ZSwgRGF0YT4oaXRlbXM6IENydWRbXSk6IERhdGFbXSB7XG4gIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICBjb25zdCB7W2NydWRJZEtleV06IGNydWRJZCwgLi4uZGF0YX0gPSBpdGVtXG4gICAgcmV0dXJuIGRhdGFcbiAgfSkgYXMgYW55IGFzIERhdGFbXVxufVxuXG4vLyBkZXRlcm1pbmUgd2hhdCBoYXMgYmVlbiBjaGFuZ2VkL3VwZGF0ZWQvZGVsZXRlZFxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZUNoYW5nZTxUPiB7XG4gIGZyb206IFQsXG4gIHRvOiBULFxufVxuZXhwb3J0IGZ1bmN0aW9uIG9uQ3J1ZENoYW5nZTxUPih7IG9uQWRkLCBvbkRlbGV0ZSwgb25VcGRhdGUgfTogeyBvbkFkZDogKGl0ZW06IFRbXSkgPT4gdm9pZCwgb25EZWxldGU6IChpdGVtOiBUW10pID0+IHZvaWQsIG9uVXBkYXRlOiAoY2hhbmdlOiBTdGF0ZUNoYW5nZTxUPltdKSA9PiB2b2lkIH0pIHtcbiAgcmV0dXJuIChwcmV2U3RhdGU6IFRbXSwgY3VycmVudFN0YXRlOiBUW10pID0+IHtcbiAgICAvLyBhZGRlZCBpdGVtc1xuICAgIGNvbnN0IGFkZGVkID0gY3VycmVudFN0YXRlLmZpbHRlcigoaXRlbSkgPT4gIXByZXZTdGF0ZSB8fCAhcHJldlN0YXRlLmZpbmQoKHApID0+IHBbY3J1ZElkS2V5XSA9PT0gaXRlbVtjcnVkSWRLZXldKSlcbiAgICBpZiAoYWRkZWQubGVuZ3RoKSBvbkFkZChhZGRlZClcblxuICAgIGlmIChwcmV2U3RhdGUpIHtcbiAgICAgIC8vIHJlbW92ZWRcbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBwcmV2U3RhdGUuZmlsdGVyKChpdGVtKSA9PiAhY3VycmVudFN0YXRlLmZpbmQoKHApID0+IHBbY3J1ZElkS2V5XSA9PT0gaXRlbVtjcnVkSWRLZXldKSlcbiAgICAgIGlmIChkZWxldGVkLmxlbmd0aCkgb25EZWxldGUoZGVsZXRlZClcblxuICAgICAgLy8gdXBkYXRlZFxuICAgICAgY29uc3QgdXBkYXRlZCA9IGN1cnJlbnRTdGF0ZVxuICAgICAgICAubWFwKCh0bykgPT4ge1xuICAgICAgICAgIGNvbnN0IGZyb20gPSBwcmV2U3RhdGUuZmluZCgocCkgPT4gcFtjcnVkSWRLZXldID09PSB0b1tjcnVkSWRLZXldKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKCh7ZnJvbSwgdG99KSA9PiAhIWZyb20gJiYgZnJvbSAhPT0gdG8pXG4gICAgICBpZiAodXBkYXRlZC5sZW5ndGgpIG9uVXBkYXRlKHVwZGF0ZWQpXG4gICAgfVxuICB9XG59XG5cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyB0aGlzIGlzIHRoZSBBUEkgdXNlZCB0byBpbnRlcmFjdCB3aXRoIHRoZSBzdG9yZVxuICovXG5cbmltcG9ydCB7IFVpU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgVWlBY3Rpb24gfSBmcm9tICcuLi9zdG9yZS9hY3Rpb25zJ1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8sIHN0b3JlIH0gZnJvbSAnLi4vc3RvcmUvaW5kZXgnXG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplVWkgPSAoZGF0YTogVWlTdGF0ZSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4gZGlzcGF0Y2goe1xuICB0eXBlOiBVaUFjdGlvbi5JTklUSUFMSVpFLFxuICBkYXRhLFxufSlcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVpID0gKGRhdGE6IFVpU3RhdGUsIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IGRpc3BhdGNoKHtcbiAgdHlwZTogVWlBY3Rpb24uVVBEQVRFLFxuICBkYXRhLFxufSlcblxuZXhwb3J0IGNvbnN0IGdldFVpID0gKCkgPT4gc3RvcmUuZ2V0U3RhdGUoKS5wcmVzZW50LnVpXG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVVaSA9IChjYms6IChwcmV2U3RhdGU6IFVpU3RhdGUsIG5leHRTdGF0ZTogVWlTdGF0ZSkgPT4gdm9pZCwgc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKTogKCkgPT4gdm9pZCA9PiB7XG4gIHJldHVybiBzdWJzY3JpYmVUbzxVaVN0YXRlPigndWknLCBjYmssIHN1YnNjcmliZSlcbn1cbiIsImltcG9ydCB7IFN0YXRlV2l0aEhpc3RvcnkgfSBmcm9tICdyZWR1eC11bmRvJ1xuXG5pbXBvcnQgeyBQZXJzaXN0YW50RGF0YSwgU3RhdGUgfSBmcm9tICcuL3N0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0U3RhdGUgfSBmcm9tICcuL3N0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWksIHVwZGF0ZVVpIH0gZnJvbSAnLi91aS1zdG9yZS9pbmRleCdcblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhEaXJ0eURpc3BhdGNoZXIocmVkdWNlciwgb3B0aW9uczoge2NoYW5nZUFjdGlvbnM6IHN0cmluZ1tdLCByZXNldEFjdGlvbnM6IHN0cmluZ1tdfSkge1xuICBjb25zdCB7IGNoYW5nZUFjdGlvbnMsIHJlc2V0QWN0aW9ucyB9ID0gb3B0aW9uc1xuICByZXR1cm4gKHN0YXRlOiBTdGF0ZSwgYWN0aW9uOiBhbnkpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pXG4gICAgaWYgKHJlc2V0QWN0aW9ucy5pbmNsdWRlcyhhY3Rpb24udHlwZSkpIHtcbiAgICAgIHJlc2V0RGlydHlfKHJlc3VsdC5wcmVzZW50KVxuICAgICAgcmV0dXJuIHVwZGF0ZURpcnR5KHJlc3VsdClcbiAgICB9XG4gICAgaWYgKGNoYW5nZUFjdGlvbnMuaW5jbHVkZXMoYWN0aW9uLnR5cGUpICYmIHJlc3VsdCAhPT0gc3RhdGUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVEaXJ0eShyZXN1bHQpXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVEaXJ0eShzdGF0ZTogU3RhdGVXaXRoSGlzdG9yeTxTdGF0ZT4pOiBTdGF0ZVdpdGhIaXN0b3J5PFN0YXRlPiB7XG4gIGNvbnN0IGRpcnR5ID0gaXNEaXJ0eShzdGF0ZS5wcmVzZW50KVxuICBpZiAoZGlydHkgPT09IHN0YXRlLnByZXNlbnQudWkuZGlydHkpIHtcbiAgICByZXR1cm4gc3RhdGVcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIHByZXNlbnQ6IHtcbiAgICAgIC4uLnN0YXRlLnByZXNlbnQsXG4gICAgICB1aToge1xuICAgICAgICAuLi5zdGF0ZS5wcmVzZW50LnVpLFxuICAgICAgICBkaXJ0eSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfVxufVxuXG5cbi8vIGxhc3Qgc2F2ZWQgc3RhdGVcbmxldCBub25EaXJ0eVN0YXRlczogUGVyc2lzdGFudERhdGEgPSB7XG4gIGVsZW1lbnRzOiBudWxsLFxuICBwYWdlczogbnVsbCxcbiAgc2l0ZTogbnVsbCxcbn1cblxuZnVuY3Rpb24gcmVzZXREaXJ0eV8oc3RhdGU6IFN0YXRlID0gZ2V0U3RhdGUoKSkge1xuICAvLyBzdG9yZSByZWZlcmVuY2VzIHRvIHNvbWUgcGFydHMgb2YgdGhlIHN0YXRlXG4gIGNvbnN0IHsgZWxlbWVudHMsIHBhZ2VzLCBzaXRlIH0gPSBzdGF0ZVxuICBub25EaXJ0eVN0YXRlcyA9IHsgZWxlbWVudHMsIHBhZ2VzLCBzaXRlIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RGlydHkoc3RhdGU6IFN0YXRlID0gZ2V0U3RhdGUoKSkge1xuICByZXNldERpcnR5XyhzdGF0ZSlcbiAgdXBkYXRlVWkoe1xuICAgIC4uLmdldFVpKCksXG4gICAgZGlydHk6IGZhbHNlLFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEaXJ0eShzdGF0ZTogU3RhdGUgPSBnZXRTdGF0ZSgpKSB7XG4gIHJldHVybiBzdGF0ZS5lbGVtZW50cyAhPT0gbm9uRGlydHlTdGF0ZXMuZWxlbWVudHNcbiAgICB8fCBzdGF0ZS5wYWdlcyAhPT0gbm9uRGlydHlTdGF0ZXMucGFnZXNcbiAgICB8fCBzdGF0ZS5zaXRlICE9PSBub25EaXJ0eVN0YXRlcy5zaXRlXG59XG5cbiIsImltcG9ydCB7IEFjdGlvbkNyZWF0b3JzLCBTdGF0ZVdpdGhIaXN0b3J5IH0gZnJvbSAncmVkdXgtdW5kbydcblxuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlL2luZGV4J1xuXG5mdW5jdGlvbiBnZXRSZXNldFVuZG8oc3RhdGU6IFN0YXRlV2l0aEhpc3Rvcnk8U3RhdGU+KTogU3RhdGVXaXRoSGlzdG9yeTxTdGF0ZT4ge1xuICAvLyBzdG9yZS5kaXNwYXRjaChBY3Rpb25DcmVhdG9ycy5jbGVhckhpc3RvcnkoKSlcbiAgcmV0dXJuIHtcbiAgICAuLi5zdGF0ZSxcbiAgICBwYXN0OiBbXSxcbiAgICBmdXR1cmU6IFtdLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFVuZG8oKSB7XG4gIHN0b3JlLmRpc3BhdGNoKEFjdGlvbkNyZWF0b3JzLmNsZWFySGlzdG9yeSgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5kbygpIHtcbiAgc3RvcmUuZGlzcGF0Y2goQWN0aW9uQ3JlYXRvcnMudW5kbygpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVkbygpIHtcbiAgc3RvcmUuZGlzcGF0Y2goQWN0aW9uQ3JlYXRvcnMucmVkbygpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzVW5kbygpIHtcbiAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkucGFzdC5sZW5ndGggPiAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNSZWRvKCkge1xuICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS5mdXR1cmUubGVuZ3RoID4gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aFVuZG9EaXNwYXRjaGVyKHJlZHVjZXIsIG9wdGlvbnM6IHtyZXNldEFjdGlvbnM6IHN0cmluZ1tdfSkge1xuICBjb25zdCB7IHJlc2V0QWN0aW9ucyB9ID0gb3B0aW9uc1xuICByZXR1cm4gKHN0YXRlOiBTdGF0ZSwgYWN0aW9uOiBhbnkpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pXG4gICAgaWYgKHJlc2V0QWN0aW9ucy5pbmNsdWRlcyhhY3Rpb24udHlwZSkpIHtcbiAgICAgIHJldHVybiBnZXRSZXNldFVuZG8ocmVzdWx0KVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzLCBjcmVhdGVTdG9yZSB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHVuZG9hYmxlLCB7IGluY2x1ZGVBY3Rpb24gfSBmcm9tICdyZWR1eC11bmRvJ1xuXG5pbXBvcnQgeyBFbGVtZW50QWN0aW9uLCBQYWdlQWN0aW9uLCBTaXRlQWN0aW9uIH0gZnJvbSAnLi9hY3Rpb25zJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IFBhZ2VTdGF0ZSB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBTaWxleFN0b3JlLCBTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBlbGVtZW50UmVkdWNlciwgcGFnZVJlZHVjZXIsIHNpdGVSZWR1Y2VyLCB1aVJlZHVjZXIgfSBmcm9tICcuL3JlZHVjZXJzJ1xuaW1wb3J0IHsgd2l0aENydWRSZWR1Y2VyLCBDcnVkU3RhdGUgfSBmcm9tICcuLi9zdG9yZS9jcnVkLXN0b3JlJ1xuaW1wb3J0IHsgd2l0aERpcnR5RGlzcGF0Y2hlciB9IGZyb20gJy4uL2RpcnR5J1xuaW1wb3J0IHsgd2l0aFVuZG9EaXNwYXRjaGVyIH0gZnJvbSAnLi4vdW5kbydcblxuY29uc3QgUkVTRVRfQUNUSU9OUyA9IFtcbiAgRWxlbWVudEFjdGlvbi5JTklUSUFMSVpFLFxuICBQYWdlQWN0aW9uLklOSVRJQUxJWkUsXG4gIFNpdGVBY3Rpb24uSU5JVElBTElaRSxcbl1cblxuY29uc3QgQ0hBTkdFX0FDVElPTlMgPSBbXG4gIC4uLk9iamVjdC52YWx1ZXMoRWxlbWVudEFjdGlvbikuZmlsdGVyKChhKSA9PiBhICE9PSBFbGVtZW50QWN0aW9uLklOSVRJQUxJWkUpLFxuICAuLi5PYmplY3QudmFsdWVzKFBhZ2VBY3Rpb24pLmZpbHRlcigoYSkgPT4gYSAhPT0gUGFnZUFjdGlvbi5JTklUSUFMSVpFKSxcbiAgLi4uT2JqZWN0LnZhbHVlcyhTaXRlQWN0aW9uKS5maWx0ZXIoKGEpID0+IGEgIT09IFNpdGVBY3Rpb24uSU5JVElBTElaRSksXG5dXG5cbi8vIGNyZWF0ZSB0aGUgbWFpbiBzdG9yZVxuY29uc3QgcmVkdWNlcnMgPSBjb21iaW5lUmVkdWNlcnMoe1xuICBwYWdlczogd2l0aENydWRSZWR1Y2VyPFBhZ2VTdGF0ZT4oe1xuICAgIGFjdGlvbkVudW06IFBhZ2VBY3Rpb24sXG4gICAgcmVkdWNlcjogcGFnZVJlZHVjZXIsXG4gICAgbGFiZWw6ICdQYWdlcycsXG4gIH0pLFxuICBlbGVtZW50czogd2l0aENydWRSZWR1Y2VyPEVsZW1lbnRTdGF0ZT4oe1xuICAgIGFjdGlvbkVudW06IEVsZW1lbnRBY3Rpb24sXG4gICAgcmVkdWNlcjogZWxlbWVudFJlZHVjZXIsXG4gICAgbGFiZWw6ICdFbGVtZW50cycsXG4gIH0pLFxuICBzaXRlOiBzaXRlUmVkdWNlcixcbiAgdWk6IHVpUmVkdWNlcixcbn0pXG5sZXQgbGFzdEFjdGlvblRpbWUgPSAwXG5leHBvcnQgY29uc3Qgc3RvcmU6IFNpbGV4U3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgd2l0aERpcnR5RGlzcGF0Y2hlcihcbiAgICB3aXRoVW5kb0Rpc3BhdGNoZXIoXG4gICAgICB1bmRvYWJsZShcbiAgICAgICAgcmVkdWNlcnMsIHtcbiAgICAgICAgICBmaWx0ZXI6IGluY2x1ZGVBY3Rpb24oQ0hBTkdFX0FDVElPTlMpLFxuICAgICAgICAgIGdyb3VwQnk6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKVxuICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRpbWUgLSBsYXN0QWN0aW9uVGltZVxuICAgICAgICAgICAgbGFzdEFjdGlvblRpbWUgPSB0aW1lXG4gICAgICAgICAgICByZXR1cm4gZWxhcHNlZFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICksIHtcbiAgICAgICAgcmVzZXRBY3Rpb25zOiBSRVNFVF9BQ1RJT05TLFxuICAgICAgfVxuICAgICksIHtcbiAgICAgIGNoYW5nZUFjdGlvbnM6IENIQU5HRV9BQ1RJT05TLFxuICAgICAgcmVzZXRBY3Rpb25zOiBSRVNFVF9BQ1RJT05TLFxuICAgIH1cbiAgKVxuKVxuXG4vLyB1cGRhdGUgcHJldmlvdXMgYW5kIGN1cnJlbnQgc3RhdGVzIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgZmlyZVxubGV0IGN1clN0YXRlOiBTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCkucHJlc2VudFxubGV0IHByZXZTdGF0ZTogU3RhdGUgPSBudWxsXG5zdG9yZS5zdWJzY3JpYmUoKCkgPT4ge1xuICBwcmV2U3RhdGUgPSBjdXJTdGF0ZVxuICBjdXJTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCkucHJlc2VudFxufSlcblxuLyoqXG4gKiBzcGVjaWFsIHN1YnNjcmliZSBmb3IgQ1JVRCBzdGF0ZXMsIGkuZS4gZWxlbWVudHMgYW5kIHBhZ2VzXG4gKiBwcm92aWRlcyB0aGUgbGlzdGVuZXIgd2l0aCBwcmV2IGFuZCBuZXh0IHN0YXRlXG4gKiBvbmx5IHRoZSBzdGF0ZXMgcGllY2UgcmVsZXZhbnQgdG8gdGhlIENSVUQgc3RhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvQ3J1ZDxUIGV4dGVuZHMgQ3J1ZFN0YXRlPihuYW1lOiBzdHJpbmcsIGNiazogKHByZXZTdGF0ZTogVFtdLCBuZXh0U3RhdGU6IFRbXSkgPT4gdm9pZCwgc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKTogKCkgPT4gdm9pZCB7XG4gIHJldHVybiBzdWJzY3JpYmUoKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuICAgIGlmICghcHJldlN0YXRlIHx8IHN0YXRlLnByZXNlbnRbbmFtZV0gIT09IHByZXZTdGF0ZVtuYW1lXSkge1xuICAgICAgY2JrKHByZXZTdGF0ZSA/IHByZXZTdGF0ZVtuYW1lXSA6IG51bGwsIHN0YXRlLnByZXNlbnRbbmFtZV0pXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIHNwZWNpYWwgc3Vic2NyaWJlIGZvciBzdGF0ZXMsIGkuZS4gc2l0ZSBhbmQgdWlcbiAqIHByb3ZpZGVzIHRoZSBsaXN0ZW5lciB3aXRoIHByZXYgYW5kIG5leHQgc3RhdGVcbiAqIG9ubHkgdGhlIHN0YXRlcyBwaWVjZSByZWxldmFudCB0byB0aGUgQ1JVRCBzdGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlVG88VD4obmFtZTogc3RyaW5nLCBjYms6IChwcmV2U3RhdGU6IFQsIG5leHRTdGF0ZTogVCkgPT4gdm9pZCwgc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKTogKCkgPT4gdm9pZCB7XG4gIHJldHVybiBzdWJzY3JpYmUoKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuICAgIGlmICghcHJldlN0YXRlIHx8IHN0YXRlLnByZXNlbnRbbmFtZV0gIT09IHByZXZTdGF0ZVtuYW1lXSkge1xuICAgICAgY2JrKHByZXZTdGF0ZSA/IHByZXZTdGF0ZVtuYW1lXSA6IG51bGwsIHN0YXRlLnByZXNlbnRbbmFtZV0pXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIGdldCB0aGUgd2hvbGUgc3RhdGUgb2JqZWN0XG4gKiB1c2VkIHRvIHNhdmUgdGhlIHN0YXRlIGZvciBleGFtcGxlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdGF0ZSA9ICgpOiBTdGF0ZSA9PiBzdG9yZS5nZXRTdGF0ZSgpLnByZXNlbnRcblxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IHRoaXMgaXMgdGhlIEFQSSB1c2VkIHRvIGludGVyYWN0IHdpdGggdGhlIHN0b3JlXG4gKi9cblxuaW1wb3J0IHsgRWxlbWVudEFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL2FjdGlvbnMnXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL3N0b3JlL2luZGV4J1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9DcnVkIH0gZnJvbSAnLi4vc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBFbGVtZW50RGF0YSwgRWxlbWVudFN0YXRlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGZyb21EYXRhLCB0b0RhdGEgfSBmcm9tICcuLi9zdG9yZS9jcnVkLXN0b3JlJ1xuXG5leHBvcnQgY29uc3QgZnJvbUVsZW1lbnREYXRhID0gKGVsZW1lbnRzOiBFbGVtZW50RGF0YVtdKTogRWxlbWVudFN0YXRlW10gPT4gZnJvbURhdGE8RWxlbWVudERhdGEsIEVsZW1lbnRTdGF0ZT4oZWxlbWVudHMpXG5leHBvcnQgY29uc3QgdG9FbGVtZW50RGF0YSA9IChlbGVtZW50czogRWxlbWVudFN0YXRlW10pOiBFbGVtZW50RGF0YVtdID0+IHRvRGF0YTxFbGVtZW50U3RhdGUsIEVsZW1lbnREYXRhPihlbGVtZW50cylcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVFbGVtZW50cyA9IChpdGVtczogRWxlbWVudFN0YXRlW10sIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IGRpc3BhdGNoKHtcbiAgdHlwZTogRWxlbWVudEFjdGlvbi5JTklUSUFMSVpFLFxuICBpdGVtcyxcbn0pXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFbGVtZW50cyA9IChpdGVtczogRWxlbWVudFN0YXRlW10sIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IGRpc3BhdGNoKHtcbiAgdHlwZTogRWxlbWVudEFjdGlvbi5DUkVBVEUsXG4gIGl0ZW1zLFxufSlcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUVsZW1lbnRzID0gKGl0ZW1zOiBFbGVtZW50U3RhdGVbXSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4gZGlzcGF0Y2goe1xuICB0eXBlOiBFbGVtZW50QWN0aW9uLkRFTEVURSxcbiAgaXRlbXMsXG59KVxuXG5leHBvcnQgY29uc3QgdXBkYXRlRWxlbWVudHMgPSAoaXRlbXM6IEVsZW1lbnRTdGF0ZVtdLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSA9PiBkaXNwYXRjaCh7XG4gIHR5cGU6IEVsZW1lbnRBY3Rpb24uVVBEQVRFLFxuICBpdGVtcyxcbn0pXG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50cyA9ICgpID0+IHN0b3JlLmdldFN0YXRlKCkucHJlc2VudC5lbGVtZW50c1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlRWxlbWVudHMgPSAoY2JrOiAocHJldlN0YXRlOiBFbGVtZW50U3RhdGVbXSwgbmV4dFN0YXRlOiBFbGVtZW50U3RhdGVbXSkgPT4gdm9pZCwgc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKTogKCkgPT4gdm9pZCA9PiB7XG4gIHJldHVybiBzdWJzY3JpYmVUb0NydWQ8RWxlbWVudFN0YXRlPignZWxlbWVudHMnLCBjYmssIHN1YnNjcmliZSlcbn1cbiIsIlxuLyoqXG4gKiBpbnNlcnQgYSB2YWx1ZSBpbiBhIGNvcHkgb2YgYW4gYXJyYXkgYW5kIHJldHVybnMgdGhlIGNvcHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEF0PFQ+KGFycmF5OiBUW10sIGluZGV4OiBudW1iZXIsIC4uLnZhbHVlczogVFtdKSB7XG4gIHJldHVybiBbXG4gICAgLi4uYXJyYXkuc2xpY2UoMCwgaW5kZXgpLFxuICAgIC4uLnZhbHVlcyxcbiAgICAuLi5hcnJheS5zbGljZShpbmRleCksXG4gIF1cbn1cblxuLyoqXG4gKiBmbGF0IGlzIG1pc3Npbmcgb24gYXJyYXkgaW4gVVQgYmVjYXVzZSBzaWxleCBpcyBjb21wYXRpYmxlIHdpdGggbm9kZSAxMFxuICogVE9ETzogYXNrIGZvciBhIGRpZmZlcmVudCB2ZXJzaW9uIG9mIG5vZGUgZm9yIHRoZSBydW50aW1lIGFuZCB0aGUgYnVpbGRcbiAqL1xuZXhwb3J0IGNvbnN0IGZsYXQgPSAoYXJyKSA9PiBhcnIucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjLmNvbmNhdCh2YWwpLCBbXSlcbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBIZWxwZXIgY2xhc3MgZm9yIGNvbW1vbiB0YXNrc1xuICovXG5cbmltcG9ydCB7IENzc1J1bGUgfSBmcm9tICcuLi9zaXRlLXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgRWxlbWVudFR5cGUsIEVsZW1lbnRTdGF0ZSB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5cbi8qKlxuICogaGFuZGxlIHRoZSBzcGVjaWZpY2l0aWVzIG9mIGVhY2ggZWxlbWVudCB0eXBlLCBlLmcuIHNlY3Rpb24gaGF2ZSBubyB3aWR0aFxuICogVE9ETzogYWxzbyB1c2UgZWxlbWVudCdzIHBvc2l0aW9uIChzdGF0aWMgb3Igbm90KVxuICovXG5leHBvcnQgZnVuY3Rpb24gZml4U3R5bGVGb3JFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSwgaXNTZWN0aW9uQ29udGVudDogYm9vbGVhbiwgc3R5bGU6IENzc1J1bGUpIHtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIC4uLnN0eWxlLFxuICB9XG4gIGlmIChzdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICBkZWxldGUgcmVzdWx0LmxlZnRcbiAgICBkZWxldGUgcmVzdWx0LnRvcFxuICB9XG4gIGlmIChlbGVtZW50LnR5cGUgPT09IEVsZW1lbnRUeXBlLlNFQ1RJT04gfHwgaXNTZWN0aW9uQ29udGVudCkge1xuICAgIGRlbGV0ZSByZXN1bHQud2lkdGggLy8gYWx3YXlzIDEwMCUgZm9yIHNlY3Rpb25zIGFuZCBcInNpdGUgd2lkdGhcIiBmb3Igc2VjdGlvbiBjb250ZW50XG4gICAgZGVsZXRlIHJlc3VsdC5sZWZ0IC8vIHNlY3Rpb24gY29udGVudCBhcmUgcmVsYXRpdmUgYmVjYXVzZSBvZiBhdXRvIHotaW5kZXhcbiAgICBkZWxldGUgcmVzdWx0LnRvcCAvLyBzZWN0aW9uIGNvbnRlbnQgYXJlIHJlbGF0aXZlIGJlY2F1c2Ugb2YgYXV0byB6LWluZGV4XG4gIH1cbiAgaWYgKGVsZW1lbnQudHlwZSA9PT0gRWxlbWVudFR5cGUuU0VDVElPTikgZGVsZXRlIHJlc3VsdC5oZWlnaHRcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBUT0RPOiB1c2UgYSBkeW5hbWljIGtleSBpbnN0ZWFkIG9mIHRoaXMgbWV0aG9kOiBbbW9iaWxlRWRpdG9yID8gJ21vYmlsZScgOiAnZGVza3RvcCddXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9Nb2JpbGVPckRlc2t0b3BTdHlsZShtb2JpbGVFZGl0b3I6IGJvb2xlYW4sIG9yaWdpbmFsU3R5bGU6IHsgbW9iaWxlOiBDc3NSdWxlLCBkZXNrdG9wOiBDc3NSdWxlIH0sIHN0eWxlOiBDc3NSdWxlKToge2Rlc2t0b3A6IENzc1J1bGUsIG1vYmlsZTogQ3NzUnVsZX0ge1xuICByZXR1cm4ge1xuICAgIC4uLm9yaWdpbmFsU3R5bGUsXG4gICAgbW9iaWxlOiBtb2JpbGVFZGl0b3IgPyB7XG4gICAgICAuLi5vcmlnaW5hbFN0eWxlLm1vYmlsZSxcbiAgICAgIC4uLnN0eWxlLFxuICAgIH0gOiBvcmlnaW5hbFN0eWxlLm1vYmlsZSxcbiAgICBkZXNrdG9wOiBtb2JpbGVFZGl0b3IgPyBvcmlnaW5hbFN0eWxlLmRlc2t0b3AgOiB7XG4gICAgICAuLi5vcmlnaW5hbFN0eWxlLmRlc2t0b3AsXG4gICAgICAuLi5zdHlsZSxcbiAgICB9LFxuICB9XG59XG4vKipcbiAqIGNvbnZlcnQgc3R5bGUgb2JqZWN0IHRvIG9iamVjdFxuICogd2l0aCBvbmx5IHRoZSBrZXlzIHdoaWNoIGFyZSBzZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlVG9PYmplY3Qoc3R5bGVPYmo6IENTU1N0eWxlRGVjbGFyYXRpb24pOiBvYmplY3Qge1xuICBjb25zdCByZXMgPSB7fVxuICBmb3IgKGNvbnN0IHN0eWxlTmFtZSBvZiBzdHlsZU9iaikge1xuICAgIHJlc1tzdHlsZU5hbWVdID0gc3R5bGVPYmpbc3R5bGVOYW1lXVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyoqXG4gKiBjb252ZXJ0IHN0eWxlIG9iamVjdCB0byBzdHJpbmdcbiAqIHRoaXMgZG9lcyBoYW5kbGUgaGVpZ2h0IC8gbWluLWhlaWdodFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVUb1N0cmluZyhzdHlsZToge1trZXk6IHN0cmluZ106IHN0cmluZ30sIHVzZU1pbkhlaWdodDogYm9vbGVhbiwgb3B0X3RhYiA9ICcnKTogc3RyaW5nIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlKVxuICAgIC8vIHJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgIC8vIHRoaXMgcmVtb3ZlcyBwcm9wZXJ0aWVzIHdpdGggZW1wdHkgc3RyaW5nIHZhbHVlLCBvbiBwdXJwb3NlXG4gICAgLmZpbHRlcigoa2V5KSA9PiAhIXN0eWxlW2tleV0pXG4gICAgLm1hcCgoa2V5KSA9PiAoe1xuICAgICAga2V5LFxuICAgICAgdmFsOiBzdHlsZVtrZXldLFxuICAgIH0pKVxuICAgIC5yZWR1Y2UoKHJlc3VsdDogc3RyaW5nLCB7a2V5LCB2YWx9KSA9PiB7XG4gICAgICBpZiAodXNlTWluSGVpZ2h0ICYmIGtleSA9PT0gJ2hlaWdodCcpIHtcbiAgICAgICAgcmVzdWx0ICs9IG9wdF90YWIgKyAnbWluLWhlaWdodDogJyArIHZhbCArICc7ICdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCArPSBgJHtvcHRfdGFifSR7a2V5fTogJHt2YWx9OyBgXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSwgJycpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYihoZXhDb2xvcjogc3RyaW5nKTogYW55IHtcbiAgY29uc29sZS53YXJuKCd3aHkgY29udmVydCcsIGhleENvbG9yLCAndG8gUkdCPycpXG4gIGNvbnN0IHJnYiA9IHBhcnNlSW50KGhleENvbG9yLnN1YnN0cigxKSwgMTYpXG4gIGNvbnN0IHIgPSByZ2IgPj4gMTZcbiAgY29uc3QgZyA9IChyZ2IgPj4gOCkgJiAyNTVcbiAgY29uc3QgYiA9IHJnYiAmIDI1NVxuICByZXR1cm4gW3IsIGcsIGJdXG59XG5cbi8qKlxuICogY29udmVydCBoZXggY29sb3IgdG8gcmdiYSB2YWx1ZXNcbiAqIGV4YW1wbGU6ICMwMDAwMDBGRiB3aWxsIHJldHVybiByZ2JhKDAsIDAsIDAsIDEpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYmEoaGV4OiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoaGV4LmluZGV4T2YoJyMnKSAhPT0gMCkge1xuICAgIHJldHVybiBoZXhcbiAgfVxuICBpZiAoaGV4Lmxlbmd0aCAhPT0gOSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGxlbmd0aCAnICsgaGV4ICsgJyAtICcgKyBoZXgubGVuZ3RoKVxuICAgIHJldHVybiBoZXhcbiAgfVxuICBjb25zdCBoZXhBcnIgPSBoZXhUb0FycmF5KGhleClcbiAgY29uc3QgciA9IGhleEFyclswXVxuICBjb25zdCBnID0gaGV4QXJyWzFdXG4gIGNvbnN0IGIgPSBoZXhBcnJbMl1cbiAgY29uc3QgYSA9IGhleEFyclszXVxuICBjb25zdCByZXN1bHQgPSAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICcpJ1xuICByZXR1cm4gcmVzdWx0XG59XG5cbi8qKlxuICogY29udmVydCByZ2JhIHRvIGFycmF5IG9mIHZhbHVlc1xuICogZXhhbXBsZTogICAgIzAwMDAwMEZGIHdpbGwgcmV0dXJuIFswLCAwLCAwLCAxXVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9BcnJheShoZXg6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgaWYgKGhleC5pbmRleE9mKCcjJykgIT09IDApIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIGhleCA9IGhleC5yZXBsYWNlKCcjJywgJycpXG4gIGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNilcbiAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMiwgNCksIDE2KVxuICBjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg0LCA2KSwgMTYpXG4gIGNvbnN0IGEgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDYsIDgpLCAxNikgLyAyNTVcbiAgY29uc3QgcmVzdWx0ID0gW3IsIGcsIGIsIGFdXG4gIHJldHVybiByZXN1bHRcbn1cblxuLyoqXG4gKiBjb252ZXJ0IHJnYiB0byBoZXhcbiAqIGV4YW1wbGU6ICAgIHJnYigwLCAwLCAwKSB3aWxsIHJldHVybiAjMDAwMDAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hleChyZ2I6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGhleFdpdGhBID0gcmdiYVRvSGV4KHJnYilcbiAgcmV0dXJuIGhleFdpdGhBLnN1YnN0cigwLCA3KVxufVxuXG4vKipcbiAqIGNvbnZlcnQgcmdiYSB0byBoZXhcbiAqIGV4YW1wbGU6ICAgIHJnYmEoMCwgMCwgMCwgMSkgd2lsbCByZXR1cm4gIzAwMDAwMEZGXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JhVG9IZXgocmdiYTogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gaGFzIHRvIGJlIHJnYiBvciByZ2JhXG4gIGlmIChyZ2JhLmluZGV4T2YoJ3JnYicpICE9PSAwKSB7XG4gICAgcmV0dXJuIHJnYmFcbiAgfVxuXG4gIC8vIGdldCB0aGUgYXJyYXkgdmVyc2lvblxuICBjb25zdCByZ2JhQXJyID0gcmdiYVRvQXJyYXkocmdiYSlcbiAgbGV0IHIgPSByZ2JhQXJyWzBdLnRvU3RyaW5nKDE2KVxuICBpZiAoci5sZW5ndGggPCAyKSB7XG4gICAgciA9ICcwJyArIHJcbiAgfVxuICBsZXQgZyA9IHJnYmFBcnJbMV0udG9TdHJpbmcoMTYpXG4gIGlmIChnLmxlbmd0aCA8IDIpIHtcbiAgICBnID0gJzAnICsgZ1xuICB9XG4gIGxldCBiID0gcmdiYUFyclsyXS50b1N0cmluZygxNilcbiAgaWYgKGIubGVuZ3RoIDwgMikge1xuICAgIGIgPSAnMCcgKyBiXG4gIH1cbiAgbGV0IGEgPSByZ2JhQXJyWzNdLnRvU3RyaW5nKDE2KVxuICBpZiAoYS5sZW5ndGggPCAyKSB7XG4gICAgYSA9ICcwJyArIGFcbiAgfVxuICBjb25zdCByZXN1bHQgPSAnIycgKyAociArIGcgKyBiICsgYSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vKipcbiAqIGNvbnZlcnQgcmdiYSB0byBhcnJheSBvZiB2YWx1ZXNcbiAqIGV4YW1wbGU6ICAgIHJnYmEoMCwgMCwgMCwgMSkgd2lsbCByZXR1cm4gWzAsIDAsIDAsIDFdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JhVG9BcnJheShyZ2JhOiBzdHJpbmcpOiBudW1iZXJbXSB7XG4gIC8vIG5vdCByZ2Igbm9yIHJnYmFcbiAgaWYgKHJnYmEuaW5kZXhPZigncmdiJykgIT09IDApIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIGlmIChyZ2JhLmluZGV4T2YoJ3JnYmEnKSAhPT0gMCkge1xuICAgIC8vIHJnYlxuICAgIHJnYmEgPSByZ2JhLnJlcGxhY2UoJ3JnYicsICcnKVxuICB9IGVsc2Uge1xuICAgIC8vIHJnYmFcbiAgICByZ2JhID0gcmdiYS5yZXBsYWNlKCdyZ2JhJywgJycpXG4gIH1cbiAgcmdiYSA9IHJnYmEucmVwbGFjZSgnICcsICcnKVxuICBjb25zdCByZ2JhQXJyID0gcmdiYS5zdWJzdHJpbmcoMSwgcmdiYS5sZW5ndGggLSAxKS5zcGxpdCgnLCcpXG5cbiAgLy8gYWRkIGFscGhhIGlmIG5lZWRlZFxuICBpZiAocmdiYUFyci5sZW5ndGggPCA0KSB7XG4gICAgcmdiYUFyci5wdXNoKCcxJylcbiAgfVxuICBjb25zdCByID0gcGFyc2VJbnQocmdiYUFyclswXSwgMTApXG4gIGNvbnN0IGcgPSBwYXJzZUludChyZ2JhQXJyWzFdLCAxMClcbiAgY29uc3QgYiA9IHBhcnNlSW50KHJnYmFBcnJbMl0sIDEwKVxuICBjb25zdCBhID0gcGFyc2VGbG9hdChyZ2JhQXJyWzNdKSAqIDI1NVxuICBjb25zdCByZXN1bHQgPSBbciwgZywgYiwgYV1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IERvbSBtYW5pcHVsYXRpb24gbWV0aG9kcywgbW9zdGx5IHVzZWQgYnkgb2JzZXJ2ZXJzLiBDcm9zcyBwbGF0Zm9ybSwgaXQgbmVlZHMgdG8gcnVuIGNsaWVudCBhbmQgc2VydmVyIHNpZGVcbiAqXG4gKi9cblxuaW1wb3J0IHsgQ1NTUnVsZUluZm8sIERhdGFTb3VyY2VzIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cydcbmltcG9ydCB7IEVsZW1lbnRTdGF0ZSwgRWxlbWVudElkLCBFbGVtZW50VHlwZSwgTGluaywgRWxlbWVudERhdGEgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgUHJvZG90eXBlIH0gZnJvbSAnLi4vZXh0ZXJucydcbmltcG9ydCB7IHN0eWxlVG9TdHJpbmcgfSBmcm9tICcuLi91dGlscy9zdHlsZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21FbGVtZW50KGRvYzogSFRNTERvY3VtZW50LCBlbGVtZW50OiBFbGVtZW50U3RhdGUpOiBIVE1MRWxlbWVudCB7XG4gIHJldHVybiBnZXREb21FbGVtZW50QnlJZChkb2MsIGVsZW1lbnQuaWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21FbGVtZW50QnlJZChkb2M6IEhUTUxEb2N1bWVudCwgZWxlbWVudElkOiBFbGVtZW50SWQpOiBIVE1MRWxlbWVudCB7XG4gIHJldHVybiBkb2MucXVlcnlTZWxlY3RvcihgWyR7Q29uc3RhbnRzLkVMRU1FTlRfSURfQVRUUl9OQU1FfT1cIiR7ZWxlbWVudElkfVwiXWApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZChlbGVtZW50OiBIVE1MRWxlbWVudCk6IEVsZW1lbnRJZCB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShDb25zdGFudHMuRUxFTUVOVF9JRF9BVFRSX05BTUUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW9yZGVyRWxlbWVudHMocGFyZW50OiBIVE1MRWxlbWVudCwgZWxlbWVudHM6IEhUTUxFbGVtZW50W10pIHtcbiAgLy8gYXR0YWNoIHRvIHRoZSBuZXcgcGFyZW50XG4gIGVsZW1lbnRzXG4gICAgLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWwpXG4gICAgICAvLyByZXR1cm4gZWwucGFyZW50RWxlbWVudCAhPT0gcGFyZW50XG4gICAgfSlcbiAgLy8gVE9ETzogY2hlY2sgdGhhdCB0aGV5IGRvIG5vdCBiZWxvbmcgdG8gYW4gb3RoZXIgZWxlbWVudCdzIGNoaWxkcmVuIGxpc3RcbiAgLy8gY2hhbmdlZC5maWx0ZXIoKGVsKSA9PiB7XG4gIC8vICAgaWYgKGdldEVsZW1lbnRzKCkuZmlsdGVyKChlbDIpID0+ICEhZWwyLmNoaWxkcmVuLmZpbmQoKGlkKSA9PiBpZCA9PT0gZWwuaWQpKSlcblxuICAvLyB9KVxufVxuXG4vKipcbiAqIHNldC9nZXQgYSBcInNpbGV4IHN0eWxlIGxpbmtcIiBvbiBhbiBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMaW5rKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBsaW5rOiBMaW5rKSB7XG4gIGlmIChsaW5rKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoQ29uc3RhbnRzLkxJTktfQVRUUiwgbGluay5ocmVmKVxuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKENvbnN0YW50cy5MSU5LX0FUVFIpXG4gIH1cbn1cblxuLyoqXG4gKiByZW1vdmUgYSBET00gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICBlbGVtZW50LnJlbW92ZSgpXG59XG5cbi8qKlxuICogZWxlbWVudCBjcmVhdGlvblxuICogY3JlYXRlIGEgRE9NIGVsZW1lbnQsIGF0dGFjaCBpdCB0byBpdHMgY29udGFpbmVyXG4gKiBhbmQgcmV0dXJucyBuZXcgY29tcG9uZW50IGRhdGEgZm9yIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0gdHlwZSAgdGhlIHR5cGUgb2YgdGhlIGVsZW1lbnQgdG8gY3JlYXRlLFxuICogICAgc2VlIFRZUEVfKiBjb25zdGFudHMgb2YgdGhlIGNsYXNzIEBzZWUgc2lsZXgubW9kZWwuRWxlbWVudFxuICogQHJldHVybiAgIHRoZSBuZXdseSBjcmVhdGVkIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURvbUVsZW1lbnQoXG4gIHtkb2MsIGlkLCB0eXBlLCBwYXJlbnQsIGlzU2VjdGlvbkNvbnRlbnR9OiB7XG4gICAgZG9jOiBIVE1MRG9jdW1lbnQsIGlkOiBFbGVtZW50SWQsIHR5cGU6IEVsZW1lbnRUeXBlLCBwYXJlbnQ6IEhUTUxFbGVtZW50LCBpc1NlY3Rpb25Db250ZW50OiBib29sZWFuXG4gIH0pIHtcbiAgLy8gY3JlYXRlIHRoZSBlbGVtZW50XG4gIGxldCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IG51bGxcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgLy8gY29udGFpbmVyXG4gICAgY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVI6XG4gICAgICBlbGVtZW50ID0gY3JlYXRlQ29udGFpbmVyRWxlbWVudChkb2MpXG4gICAgICBicmVha1xuXG4gICAgLy8gc2VjdGlvblxuICAgIGNhc2UgRWxlbWVudFR5cGUuU0VDVElPTjpcbiAgICAgIGVsZW1lbnQgPSBjcmVhdGVTZWN0aW9uRWxlbWVudChkb2MpXG4gICAgICBicmVha1xuXG4gICAgLy8gdGV4dFxuICAgIGNhc2UgRWxlbWVudFR5cGUuVEVYVDpcbiAgICAgIGVsZW1lbnQgPSBjcmVhdGVUZXh0RWxlbWVudChkb2MpXG4gICAgICBicmVha1xuXG4gICAgLy8gSFRNTCBib3hcbiAgICBjYXNlIEVsZW1lbnRUeXBlLkhUTUw6XG4gICAgICBlbGVtZW50ID0gY3JlYXRlSHRtbEVsZW1lbnQoZG9jKVxuICAgICAgYnJlYWtcblxuICAgIC8vIEltYWdlXG4gICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRTpcbiAgICAgIGVsZW1lbnQgPSBjcmVhdGVJbWFnZUVsZW1lbnQoZG9jKVxuICAgICAgYnJlYWtcblxuICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5rbm93biB0eXBlOiAnICsgdHlwZSlcbiAgfVxuXG4gIC8vIGluaXQgdGhlIGVsZW1lbnRcbiAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENvbnN0YW50cy5FRElUQUJMRV9DTEFTU19OQU1FKVxuXG4gIC8vIGFkZCBjc3MgY2xhc3MgZm9yIFNpbGV4IHN0eWxlc1xuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodHlwZS50b1N0cmluZygpKVxuXG4gIC8vIGVsZW1lbnQgaWRcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoQ29uc3RhbnRzLkVMRU1FTlRfSURfQVRUUl9OQU1FLCBpZClcbiAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGlkKVxuXG4gIGlmIChwYXJlbnQpIHtcbiAgICAvLyBhZGQgdG8gdGhlIGJvZHlcbiAgICBpZiAodHlwZSA9PT0gRWxlbWVudFR5cGUuU0VDVElPTiAmJiBwYXJlbnQgIT09IGRvYy5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlY3Rpb24gY2FuIG9ubHkgYmUgYWRkZWQgdG8gdGhlIGJvZHknKVxuICAgIH1cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmluZm8oJ2VsZW1lbnQgbm90IHlldCBjcmVhdGVkIGluIHRoZSBkb20nKVxuICB9XG59XG5cbi8qKlxuICogZWxlbWVudCBjcmVhdGlvbiBtZXRob2QgZm9yIGEgZ2l2ZW4gdHlwZVxuICogY2FsbGVkIGZyb20gY3JlYXRlRWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXJFbGVtZW50KGRvYzogSFRNTERvY3VtZW50KTogSFRNTEVsZW1lbnQge1xuICAvLyBjcmVhdGUgdGhlIGNvbmF0aW5lclxuICBjb25zdCBlbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKENvbnN0YW50cy5UWVBFX0FUVFIsIEVsZW1lbnRUeXBlLkNPTlRBSU5FUilcbiAgcmV0dXJuIGVsZW1lbnRcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoQ29udGVudChkb2M6IEhUTUxEb2N1bWVudCwgY2xhc3NOYW1lOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gIC8vIGNyZWF0ZSB0aGUgZWxlbWVudFxuICBjb25zdCBlbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKENvbnN0YW50cy5UWVBFX0FUVFIsIGNsYXNzTmFtZSlcblxuICAvLyBjcmVhdGUgdGhlIGNvbnRhaW5lciBmb3IgdGV4dCBjb250ZW50XG4gIGNvbnN0IGNvbnRlbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAvLyBhZGQgZW1wdHkgY29udGVudFxuICBlbGVtZW50LmFwcGVuZENoaWxkKGNvbnRlbnQpXG5cbiAgLy8gYWRkIGEgbWFya2VyIHRvIGZpbmQgdGhlIGlubmVyIGNvbnRlbnQgYWZ0ZXJ3YXJkcywgd2l0aCBnZXRDb250ZW50XG4gIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDb25zdGFudHMuRUxFTUVOVF9DT05URU5UX0NMQVNTX05BTUUpXG5cbiAgLy8gZG9uZVxuICByZXR1cm4gZWxlbWVudFxufVxuXG4vKipcbiAqIGVsZW1lbnQgY3JlYXRpb24gbWV0aG9kIGZvciBhIGdpdmVuIHR5cGVcbiAqIGNhbGxlZCBmcm9tIGNyZWF0ZUVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2VjdGlvbkVsZW1lbnQoZG9jOiBIVE1MRG9jdW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoQ29uc3RhbnRzLlRZUEVfQVRUUiwgRWxlbWVudFR5cGUuQ09OVEFJTkVSKVxuICByZXR1cm4gZWxlbWVudFxufVxuXG4vKipcbiAqIGVsZW1lbnQgY3JlYXRpb24gbWV0aG9kIGZvciBhIGdpdmVuIHR5cGVcbiAqIGNhbGxlZCBmcm9tIGNyZWF0ZUVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGV4dEVsZW1lbnQoZG9jOiBIVE1MRG9jdW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gIC8vIGNyZWF0ZSB0aGUgZWxlbWVudFxuICBjb25zdCBlbGVtZW50ID0gY3JlYXRlRWxlbWVudFdpdGhDb250ZW50KGRvYywgRWxlbWVudFR5cGUuVEVYVClcblxuICAvLyBhZGQgZGVmYXVsdCBjb250ZW50XG4gIGNvbnN0IGNvbnRlbnQgPSBnZXRDb250ZW50Tm9kZShlbGVtZW50KVxuICBjb250ZW50LmlubmVySFRNTCA9ICc8cD5OZXcgdGV4dCBib3g8L3A+J1xuXG4gIC8vIGFkZCBub3JtYWwgY2xhc3MgZm9yIGRlZmF1bHQgdGV4dCBmb3JtYXR0aW5nXG4gIC8vIHNvbWV0aW1lcyB0aGVyZSBpcyBvbmx5IGluIHRleHQgbm9kZSBpbiBjb250ZW50XG4gIC8vIGUuZy4gd2hlIHNlbGVjdCBhbGwgKyByZW1vdmUgZm9ybWF0dGluZ1xuICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ25vcm1hbCcpXG5cbiAgLy8gZG9uZVxuICByZXR1cm4gZWxlbWVudFxufVxuXG4vKipcbiAqIGVsZW1lbnQgY3JlYXRpb24gbWV0aG9kIGZvciBhIGdpdmVuIHR5cGVcbiAqIGNhbGxlZCBmcm9tIGNyZWF0ZUVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSHRtbEVsZW1lbnQoZG9jOiBIVE1MRG9jdW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gIC8vIGNyZWF0ZSB0aGUgZWxlbWVudFxuICBjb25zdCBlbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKENvbnN0YW50cy5UWVBFX0FUVFIsIEVsZW1lbnRUeXBlLkhUTUwpXG5cbiAgLy8gY3JlYXRlIHRoZSBjb250YWluZXIgZm9yIGh0bWwgY29udGVudFxuICBjb25zdCBodG1sQ29udGVudCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBodG1sQ29udGVudC5pbm5lckhUTUwgPSAnPHA+TmV3IEhUTUwgYm94PC9wPidcbiAgZWxlbWVudC5hcHBlbmRDaGlsZChodG1sQ29udGVudClcblxuICAvLyBhZGQgYSBtYXJrZXIgdG8gZmluZCB0aGUgaW5uZXIgY29udGVudCBhZnRlcndhcmRzLCB3aXRoIGdldENvbnRlbnRcbiAgaHRtbENvbnRlbnQuY2xhc3NMaXN0LmFkZChDb25zdGFudHMuRUxFTUVOVF9DT05URU5UX0NMQVNTX05BTUUpXG4gIHJldHVybiBlbGVtZW50XG59XG5cbi8qKlxuICogZWxlbWVudCBjcmVhdGlvbiBtZXRob2QgZm9yIGEgZ2l2ZW4gdHlwZVxuICogY2FsbGVkIGZyb20gY3JlYXRlRWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVJbWFnZUVsZW1lbnQoZG9jOiBIVE1MRG9jdW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gIC8vIGNyZWF0ZSB0aGUgZWxlbWVudFxuICBjb25zdCBlbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKENvbnN0YW50cy5UWVBFX0FUVFIsIEVsZW1lbnRUeXBlLklNQUdFKVxuICByZXR1cm4gZWxlbWVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlU3R5bGVGcm9tRG9tKGRvYywgZWxlbWVudElkLCBpc01vYmlsZSkge1xuICBjb25zdCBzdHlsZVNoZWV0ID0gZ2V0SW5saW5lU3R5bGVTaGVldChkb2MpXG4gIGNvbnN0IGNzc1J1bGVPYmplY3QgPSBmaW5kQ3NzUnVsZShzdHlsZVNoZWV0LCBlbGVtZW50SWQsIGlzTW9iaWxlKVxuXG4gIC8vIHVwZGF0ZSBvciBjcmVhdGUgdGhlIHJ1bGVcbiAgaWYgKGNzc1J1bGVPYmplY3QpIHtcbiAgICBzdHlsZVNoZWV0LmRlbGV0ZVJ1bGUoY3NzUnVsZU9iamVjdC5pbmRleClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVTdHlsZVRvRG9tKGRvYzogSFRNTERvY3VtZW50LCBlbGVtZW50OiBFbGVtZW50RGF0YSwgaXNNb2JpbGU6IGJvb2xlYW4pIHtcbiAgLy8gZmluZCB0aGUgaW5kZXggb2YgdGhlIHJ1bGUgZm9yIHRoZSBnaXZlbiBlbGVtZW50XG4gIGNvbnN0IGVsZW1lbnRJZCA9IGVsZW1lbnQuaWRcbiAgY29uc3Qgc3R5bGUgPSBpc01vYmlsZSA/IGVsZW1lbnQuc3R5bGUubW9iaWxlIDogZWxlbWVudC5zdHlsZS5kZXNrdG9wXG4gIGNvbnN0IHN0eWxlU2hlZXQgPSBnZXRJbmxpbmVTdHlsZVNoZWV0KGRvYylcblxuICBkZWxldGVTdHlsZUZyb21Eb20oZG9jLCBlbGVtZW50LmlkLCBpc01vYmlsZSlcblxuICBjb25zdCBzdHlsZVN0ciA9ICBzdHlsZVRvU3RyaW5nKHN0eWxlLCBlbGVtZW50LnVzZU1pbkhlaWdodClcblxuICAvLyBwcmV2ZW50IGVtcHR5IHJ1bGVzXG4gIGlmIChzdHlsZVN0ci5sZW5ndGgpIHtcbiAgICAvLyBjb252ZXJ0IHN0eWxlIHRvIHN0cmluZ1xuICAgIC8vIHdlIHVzZSB0aGUgY2xhc3MgbmFtZSBiZWNhdXNlIGVsZW1lbnRzIGhhdmUgdGhlaXIgSUQgYXMgYSBjc3MgY2xhc3MgdG9vXG4gICAgY29uc3QgcnVsZVN0ciA9IGAuJHtlbGVtZW50SWR9IHske3N0eWxlU3RyfX1gXG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAvLyBhZGQgdGhlIHJ1bGUgdG8gdGhlIGRvbSB0byBzZWUgdGhlIGNoYW5nZXMsIG1vYmlsZSBydWxlcyBhZnRlclxuICAgICAgLy8gZGVza3RvcCBvbmVzXG4gICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoYWRkTWVkaWFRdWVyeShydWxlU3RyKSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShydWxlU3RyLCAwKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbmxpbmVTdHlsZVNoZWV0KGRvYzogRG9jdW1lbnQpOiBDU1NTdHlsZVNoZWV0IHtcbiAgLy8gbWFrZSBzdXJlIG9mIHRoZSBleGlzdGFuY2Ugb2YgdGhlIHN0eWxlIHRhZyB3aXRoIFNpbGV4IGRlZmluaXRpb25zXG4gIGxldCBzdHlsZVRhZzogSFRNTFN0eWxlRWxlbWVudCA9IGRvYy5xdWVyeVNlbGVjdG9yKCcuJyArIENvbnN0YW50cy5JTkxJTkVfU1RZTEVfVEFHX0NMQVNTX05BTUUpXG4gIGlmICghc3R5bGVUYWcpIHtcbiAgICBzdHlsZVRhZyA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgc3R5bGVUYWcuY2xhc3NMaXN0LmFkZChDb25zdGFudHMuSU5MSU5FX1NUWUxFX1RBR19DTEFTU19OQU1FKVxuICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKHN0eWxlVGFnKVxuICB9XG4gIGZvciAoY29uc3QgcyBvZiBkb2Muc3R5bGVTaGVldHMpIHtcbiAgICBjb25zdCBjc3NTdHlsZVNoZWV0ID0gcyBhcyBDU1NTdHlsZVNoZWV0XG4gICAgaWYgKFxuICAgICAgKGNzc1N0eWxlU2hlZXQub3duZXJOb2RlICYmIGNzc1N0eWxlU2hlZXQub3duZXJOb2RlID09PSBzdHlsZVRhZykgLy8gY2FzZSBvZiBicm93c2VyXG4gICAgICB8fCBjc3NTdHlsZVNoZWV0ID09PSBzdHlsZVRhZy5zaGVldCkge1xuICAgICAgcmV0dXJuIGNzc1N0eWxlU2hlZXRcbiAgICB9XG4gIH1cbiAgY29uc29sZS5lcnJvcignbm8gc3R5bGVzaGVldCBmb3VuZCcpXG4gIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIGZpbmRDc3NSdWxlKHN0eWxlU2hlZXQ6IENTU1N0eWxlU2hlZXQsIGVsZW1lbnRJZDogc3RyaW5nLCBpc01vYmlsZTogYm9vbGVhbik6IENTU1J1bGVJbmZvIHtcbiAgLy8gZmluZCB0aGUgcnVsZSBmb3IgdGhlIGdpdmVuIGVsZW1lbnRcbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgY29uc3QgY3NzUnVsZSA9IHN0eWxlU2hlZXQuY3NzUnVsZXNbaWR4XSBhcyBhbnkgLy8gc2hvdWxkIGl0IGJlIENTU1J1bGUgP1xuICAgIC8vIHdlIHVzZSB0aGUgY2xhc3MgbmFtZSBiZWNhdXNlIGVsZW1lbnRzIGhhdmUgdGhlaXIgSUQgYXMgYSBjc3MgY2xhc3MgdG9vXG4gICAgaWYgKChpc01vYmlsZSA9PT0gZmFsc2UgJiYgY3NzUnVsZS5zZWxlY3RvclRleHQgPT09ICcuJyArIGVsZW1lbnRJZCkgfHxcbiAgICAgICAgKGNzc1J1bGUubWVkaWEgJiYgY3NzUnVsZS5jc3NSdWxlcyAmJiBjc3NSdWxlLmNzc1J1bGVzWzBdICYmXG4gICAgICAgICAgICBjc3NSdWxlLmNzc1J1bGVzWzBdLnNlbGVjdG9yVGV4dCA9PT0gJy4nICsgZWxlbWVudElkKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcnVsZTogY3NzUnVsZSxcbiAgICAgICAgcGFyZW50OiBzdHlsZVNoZWV0LFxuICAgICAgICBpbmRleDogaWR4LFxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZU9uRGVza3RvcChkb21FbCkge1xuICBkb21FbC5jbGFzc0xpc3QuYWRkKENvbnN0YW50cy5ISURFX09OX0RFU0tUT1ApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93T25EZXNrdG9wKGRvbUVsKSB7XG4gIGRvbUVsLmNsYXNzTGlzdC5yZW1vdmUoQ29uc3RhbnRzLkhJREVfT05fREVTS1RPUClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVPbk1vYmlsZShkb21FbCkge1xuICBkb21FbC5jbGFzc0xpc3QuYWRkKENvbnN0YW50cy5ISURFX09OX01PQklMRSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dPbk1vYmlsZShkb21FbCkge1xuICBkb21FbC5jbGFzc0xpc3QucmVtb3ZlKENvbnN0YW50cy5ISURFX09OX01PQklMRSlcbn1cbi8qKlxuICogZ2V0L3NldCBlbGVtZW50IGZyb20gYSBjb250YWluZXIgY3JlYXRlZCBieSBzaWxleFxuICogQHBhcmFtIGVsZW1lbnQgIGNyZWF0ZWQgYnkgc2lsZXgsIGVpdGhlciBhIHRleHQgYm94LCBpbWFnZSwgLi4uXG4gKiBAcmV0dXJuICB0aGUgZWxlbWVudCB3aGljaCBob2xkcyB0aGUgY29udGVudCwgaS5lLiBhIGRpdiwgYW4gaW1hZ2UsIC4uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudE5vZGUoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IGNvbnRlbnQ6IEhUTUxFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuJyArIENvbnN0YW50cy5FTEVNRU5UX0NPTlRFTlRfQ0xBU1NfTkFNRSlcbiAgcmV0dXJuIGNvbnRlbnQgfHwgZWxlbWVudFxufVxuXG4vKipcbiAqIGdldC9zZXQgZWxlbWVudCBmcm9tIGEgY29udGFpbmVyIGNyZWF0ZWQgYnkgc2lsZXhcbiAqIEBwYXJhbSBlbGVtZW50ICBjcmVhdGVkIGJ5IHNpbGV4LCBlaXRoZXIgYSB0ZXh0IGJveCwgaW1hZ2UsIC4uLlxuICogQHBhcmFtIGlubmVySFRNTCB0aGUgaHRtbCBjb250ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRJbm5lckh0bWwoZWxlbWVudDogSFRNTEVsZW1lbnQsIGlubmVySFRNTDogc3RyaW5nKSB7XG4gIC8vIGdldCB0aGUgY29udGFpbmVyIG9mIHRoZSBodG1sIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnRcbiAgY29uc3QgY29udGVudE5vZGUgPSBnZXRDb250ZW50Tm9kZShlbGVtZW50KVxuXG4gIC8vIGRlYWN0aXZhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIGFuZCBzZXQgaHRtbFxuICBjb250ZW50Tm9kZS5pbm5lckhUTUwgPSBkZWFjdGl2YXRlU2NyaXB0cyhpbm5lckhUTUwpXG59XG5cbi8qKlxuICogZ2V0L3NldCBodG1sIGZyb20gYSBjb250YWluZXIgY3JlYXRlZCBieSBzaWxleFxuICogQHBhcmFtIGVsZW1lbnQgIGNyZWF0ZWQgYnkgc2lsZXgsIGVpdGhlciBhIHRleHQgYm94LCBpbWFnZSwgLi4uXG4gKiBAcmV0dXJuICB0aGUgaHRtbCBjb250ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbm5lckh0bWwoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBzdHJpbmcge1xuICBsZXQgaW5uZXJIVE1MID0gZ2V0Q29udGVudE5vZGUoZWxlbWVudCkuaW5uZXJIVE1MXG5cbiAgLy8gcHV0IGJhY2sgZXhlY3V0YWJsZSBzY3JpcHRzXG4gIGlubmVySFRNTCA9IHJlYWN0aXZhdGVTY3JpcHRzKGlubmVySFRNTClcbiAgcmV0dXJuIGlubmVySFRNTFxufVxuXG4vKipcbiAqIHByZXZlbnQgc2NyaXB0cyBmcm9tIGV4ZWN1dGluZyBpbiBjb21wb25lbnRzLCBodG1sIGJveGVzLi4uXG4gKiBGSVhNRTogc2NyaXB0IHRhZ3Mgd2l0aG91dCB0eXBlIHNob3VsZCBhbHNvIGJlIFwiZGVhY3RpdmF0ZWRcIiwgQHNlZSBXZWJzaXRlUm91dGVyOjpkZWFjdGl2YXRlU2NyaXB0c1xuICogQHJldHVybiBhIHNhZmUgaHRtbCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZGVhY3RpdmF0ZVNjcmlwdHMoaHRtbDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGh0bWwucmVwbGFjZShcbiAgICAgIC88c2NyaXB0LipjbGFzcz1cInNpbGV4LXNjcmlwdFwiLio/Pi9naSxcbiAgICAgICc8c2NyaXB0IHR5cGU9XCJ0ZXh0L25vdGphdmFzY3JpcHRcIiBjbGFzcz1cInNpbGV4LXNjcmlwdFwiPicpXG59XG5cbi8qKlxuICogdW5kbyB0aGUgZGVhY3RpdmF0ZVNjcmlwdFxuICogQHJldHVybiB0aGUgb3JpZ2luYWwgaHRtbCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gcmVhY3RpdmF0ZVNjcmlwdHMoaHRtbDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGh0bWwucmVwbGFjZShcbiAgICAgIC90eXBlPVwidGV4dFxcL25vdGphdmFzY3JpcHRcIi9naSwgJ3R5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIicpXG59XG5cbi8qKlxuICogYWRkIGEgbWVkaWEgcXVlcnkgYXJvdW5kIHRoZSBzdHlsZSBzdHJpbmdcbiAqIHdpbGwgbWFrZSB0aGUgc3R5bGUgbW9iaWxlLW9ubHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZE1lZGlhUXVlcnkoc3R5bGVTdHI6IHN0cmluZykge1xuICByZXR1cm4gJ0BtZWRpYSAnICsgQ29uc3RhbnRzLk1PQklMRV9NRURJQV9RVUVSWSArICd7JyArIHN0eWxlU3RyICsgJ30nXG59XG5cbi8qKlxuICogZXZhbCB0aGUgc2NyaXB0cyBmb3VuZCBpbiBhbiBlbGVtZW50XG4gKiB0aGlzIGlzIHVzZWZ1bCB3aGVuIHdlIHJlbmRlciBhIHRlbXBsYXRlLCBzaW5jZSB0aGUgc2NyaXB0cyBhcmUgZXhlY3V0ZWRcbiAqIG9ubHkgd2hlbiB0aGUgcGFnZSBsb2Fkc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjcmlwdHMod2luOiBXaW5kb3csIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIC8vIGV4ZWN1dGUgdGhlIHNjcmlwdHNcbiAgY29uc3Qgc2NyaXB0cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0JylcbiAgZm9yIChjb25zdCBlbCBvZiBzY3JpcHRzKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWxcbiAgICB3aW5bJ2V2YWwnXShlbC5pbm5lclRleHQpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVd5c2lodG1sTWFya3VwKHJvb3Q6IEhUTUxFbGVtZW50fERvY3VtZW50KSB7XG4gIEFycmF5LmZyb20ocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcud3lzaWh0bWwtZWRpdG9yJykpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnd3lzaWh0bWwtc2FuZGJveCcpXG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKVxuICB9KVxufVxuXG4vKipcbiAqIHByb2RvdHlwZSByZW5kZXIgaW4gZG9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJXaXRoUHJvZG90eXBlKHByb2RvdHlwZUluc3RhbmNlOiBQcm9kb3R5cGUsIG9wdGlvbnM6IHt0ZW1wbGF0ZU5hbWU6IHN0cmluZywgZGF0YTogYW55LCBkYXRhU291cmNlcz86IERhdGFTb3VyY2VzfSkge1xuICByZXR1cm4gcHJvZG90eXBlSW5zdGFuY2UuZGVjb3JhdGUob3B0aW9ucy50ZW1wbGF0ZU5hbWUsIG9wdGlvbnMuZGF0YSwgb3B0aW9ucy5kYXRhU291cmNlcylcbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBVc2VmdWwgZmlsdGVycyB1c2VkIHRvIHJldHJpZXZlIGl0ZW1zIGluIHRoZSBzdG9yZS4gQ3Jvc3MgcGxhdGZvcm0sIGl0IG5lZWRzIHRvIHJ1biBjbGllbnQgYW5kIHNlcnZlciBzaWRlXG4gKlxuICovXG5cbmltcG9ydCB7IEVsZW1lbnRJZCwgRWxlbWVudFN0YXRlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGdldEVsZW1lbnRzIH0gZnJvbSAnLi9pbmRleCdcbmltcG9ydCB7IGdldERvbUVsZW1lbnQgfSBmcm9tICcuL2RvbSdcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRCeUlkID0gKGlkOiBFbGVtZW50SWQsIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSk6IEVsZW1lbnRTdGF0ZSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50cy5maW5kKChlbCkgPT4gZWwuaWQgPT09IGlkKVxuICBpZiAoZWxlbWVudCkgcmV0dXJuIGVsZW1lbnRcbiAgLy8gRWxlbWVudCBub3QgZm91bmQsIHRoaXMgaGFwcGVucyB3aGVuIHdlIGdlbmVyYXRlIGEgbmV3IElEIGFuZCB3YW50IHRvIGNoZWNrIHRoYXQgaXQgZG9lcyBub3QgZXhpc3RcbiAgcmV0dXJuIG51bGxcbn1cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50QnlEb21FbGVtZW50ID0gKGRvYzogSFRNTERvY3VtZW50LCBlbGVtZW50OiBIVE1MRWxlbWVudCwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpKSA9PiBlbGVtZW50cy5maW5kKChlbCkgPT4gZWxlbWVudCA9PT0gZ2V0RG9tRWxlbWVudChkb2MsIGVsKSlcblxuZXhwb3J0IGNvbnN0IGdldENoaWxkcmVuID0gKGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpKTogRWxlbWVudFN0YXRlW10gPT4gZWxlbWVudC5jaGlsZHJlbi5tYXAoKGlkKSA9PiBnZXRFbGVtZW50QnlJZChpZCwgZWxlbWVudHMpKVxuXG5leHBvcnQgY29uc3QgZ2V0Q2hpbGRyZW5SZWN1cnNpdmUgPSAoZWxlbWVudDogRWxlbWVudFN0YXRlLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpOiBFbGVtZW50U3RhdGVbXSA9PiB7XG4gIHJldHVybiBlbGVtZW50LmNoaWxkcmVuXG4gIC5tYXAoKGlkKSA9PiBnZXRFbGVtZW50QnlJZChpZCwgZWxlbWVudHMpKVxuICAuZmlsdGVyKChlbCkgPT4gISFlbClcbiAgLmNvbmNhdChlbGVtZW50LmNoaWxkcmVuLnJlZHVjZSgocHJldiwgaWQpID0+IHtcbiAgICBjb25zdCBlbCA9IGdldEVsZW1lbnRCeUlkKGlkLCBlbGVtZW50cylcbiAgICBpZiAoZWwpIHJldHVybiBwcmV2LmNvbmNhdChnZXRDaGlsZHJlblJlY3Vyc2l2ZShlbCwgZWxlbWVudHMpKVxuICAgIHJldHVybiBwcmV2XG4gIH0sIFtdKSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldFBhcmVudCA9IChlbGVtZW50OiBFbGVtZW50U3RhdGUsIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSk6IEVsZW1lbnRTdGF0ZSA9PiBlbGVtZW50cy5maW5kKChwYXJlbnQpID0+IHBhcmVudC5jaGlsZHJlbi5pbmNsdWRlcyhlbGVtZW50LmlkKSlcblxuZXhwb3J0IGNvbnN0IGdldEFsbFBhcmVudHMgPSAoZWxlbWVudDogRWxlbWVudFN0YXRlLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpOiBFbGVtZW50U3RhdGVbXSA9PiB7XG4gIGNvbnN0IHBhcmVudCA9IGdldFBhcmVudChlbGVtZW50LCBlbGVtZW50cylcbiAgcmV0dXJuICEhcGFyZW50ID8gW3BhcmVudCwgLi4uZ2V0QWxsUGFyZW50cyhwYXJlbnQsIGVsZW1lbnRzKV0gOiBbXVxufVxuXG4vLyBGSVhNRTogZmluZCBhIG1vcmUgcmVseWFibGUgd2F5IHRvIGZpbmQgdGhlIGJvZHksIGkuZS4gaXNCb2R5IG9yIGEgdHlwZSBvZiBlbGVtZW50XG5leHBvcnQgY29uc3QgaXNCb2R5ID0gKGVsOiBFbGVtZW50U3RhdGUsIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSk6IGJvb2xlYW4gPT4gIWdldFBhcmVudChlbCwgZWxlbWVudHMpXG5cbmV4cG9ydCBjb25zdCBnZXRCb2R5ID0gKGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSk6IEVsZW1lbnRTdGF0ZSA9PiBlbGVtZW50cy5maW5kKChlbCkgPT4gaXNCb2R5KGVsLCBlbGVtZW50cykpXG5cbmV4cG9ydCBjb25zdCBub1NlY3Rpb25Db250ZW50ID0gKGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpKTogRWxlbWVudFN0YXRlID0+IGVsZW1lbnQuaXNTZWN0aW9uQ29udGVudCA/IGdldFBhcmVudChlbGVtZW50LCBlbGVtZW50cykgOiBlbGVtZW50XG5cbi8vIGNvbnN0IGRlZmF1bHRTZWxlY3Rpb24gPSAoc2VsZWN0ZWQpID0+IHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkIDogW2dldEJvZHkoKV1cblxuZXhwb3J0IGNvbnN0IGdldFNlbGVjdGVkRWxlbWVudHMgPSAoZWxlbWVudHMgPSBnZXRFbGVtZW50cygpKSA9PiBlbGVtZW50c1xuICAuZmlsdGVyKChlbCkgPT4gZWwuc2VsZWN0ZWQpXG5cbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZEVsZW1lbnRzTm9TZWN0aW9uQ29udGVudCA9IChlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpID0+IGVsZW1lbnRzXG4gIC5maWx0ZXIoKGVsKSA9PiBlbC5zZWxlY3RlZCkgLy8gZmlyc3QgZ2V0IHNlbGVjdGlvblxuICAubWFwKChlbCkgPT4gbm9TZWN0aW9uQ29udGVudChlbCwgZWxlbWVudHMpKSAvLyB0aGVuIHJlcGxhY2Ugc2VjdGlvbiBjb250ZW50cyB3aXRoIHNlY3Rpb25zXG5cbi8qKlxuICogZ2V0IHRoZSBmaXN0IHBhcmVudCBlbGVtZW50IHdoaWNoIGlzIFwicGFnZWRcIiwgaS5lLiBub3QgdmlzaWJsZSBvbiBhbGwgcGFnZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0UGFnZWRQYXJlbnQoZWxlbWVudDogRWxlbWVudFN0YXRlLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpOiBFbGVtZW50U3RhdGUge1xuICBjb25zdCBwYXJlbnQgPSBnZXRQYXJlbnQoZWxlbWVudCwgZWxlbWVudHMpXG4gIGlmICghIXBhcmVudCkge1xuICAgIGlmIChwYXJlbnQucGFnZU5hbWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBhcmVudFxuICAgIH1cbiAgICByZXR1cm4gZ2V0Rmlyc3RQYWdlZFBhcmVudChwYXJlbnQsIGVsZW1lbnRzKVxuICB9XG4gIC8vIGJvZHlcbiAgcmV0dXJuIG51bGxcbn1cblxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IHRoaXMgaXMgdGhlIEFQSSB1c2VkIHRvIGludGVyYWN0IHdpdGggdGhlIHN0b3JlXG4gKi9cblxuaW1wb3J0IHsgc3Vic2NyaWJlVG8sIHN0b3JlIH0gZnJvbSAnLi4vc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBTaXRlU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgU2l0ZUFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL2FjdGlvbnMnXG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplU2l0ZSA9IChkYXRhOiBTaXRlU3RhdGUsIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IGRpc3BhdGNoKHtcbiAgdHlwZTogU2l0ZUFjdGlvbi5JTklUSUFMSVpFLFxuICBkYXRhLFxufSlcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVNpdGUgPSAoZGF0YTogU2l0ZVN0YXRlLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSA9PiBkaXNwYXRjaCh7XG4gIHR5cGU6IFNpdGVBY3Rpb24uVVBEQVRFLFxuICBkYXRhLFxufSlcblxuZXhwb3J0IGNvbnN0IGdldFNpdGUgPSAoKSA9PiBzdG9yZS5nZXRTdGF0ZSgpLnByZXNlbnQuc2l0ZVxuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlU2l0ZSA9IChjYms6IChwcmV2U3RhdGU6IFNpdGVTdGF0ZSwgbmV4dFN0YXRlOiBTaXRlU3RhdGUpID0+IHZvaWQsIHN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZSk6ICgpID0+IHZvaWQgPT4ge1xuICByZXR1cm4gc3Vic2NyaWJlVG88U2l0ZVN0YXRlPignc2l0ZScsIGNiaywgc3Vic2NyaWJlKVxufVxuXG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVXRpbGl0aWVzIHRvIG1hbnVwdWxhdGUgc2l0ZSBkYXRhXG4gKlxuICovXG5cbmltcG9ydCB7IFN0eWxlRGF0YSwgVmlzaWJpbGl0eSwgUHNldWRvQ2xhc3MsIFBzZXVkb0NsYXNzRGF0YSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5cbi8qKlxuICogYnVpbGQgYW4gYXJyYXkgb2YgYWxsIHRoZSBkYXRhIHdlIHByb3ZpZGUgdG8gUHJvZG90eXBlIGZvciB0aGUgXCJ0ZXh0XCJcbiAqIHRlbXBsYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQc2V1ZG9DbGFzc0RhdGEoc3R5bGVEYXRhOiBTdHlsZURhdGEpOiB7dmlzaWJpbGl0eTogVmlzaWJpbGl0eSwgcHNldWRvQ2xhc3M6IFBzZXVkb0NsYXNzLCBkYXRhOiBQc2V1ZG9DbGFzc0RhdGF9W10ge1xuICAvLyByZXR1cm4gYWxsIHBzZXVkbyBjbGFzc2VzIGluIGFsbCB2aXNpYmlsaXR5IG9iamVjdFxuICAvLyBmbGF0dGVuXG4gIC8vIGJ1aWxkIGFuIG9iamVjdCBmb3IgZWFjaCBwc2V1ZG9DbGFzc1xuICAvLyBidWlsZCBhbiBvYmplY3QgZm9yIGVhY2ggZXhpc3RpbmcgdmlzaWJpbGl0eVxuICByZXR1cm4gQ29uc3RhbnRzLlNUWUxFX1ZJU0lCSUxJVFlcbiAgLm1hcCgodmlzaWJpbGl0eSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmlsaXR5LFxuICAgICAgZGF0YTogc3R5bGVEYXRhLnN0eWxlc1t2aXNpYmlsaXR5XSxcbiAgICB9XG4gIH0pXG4gIC5maWx0ZXIoKG9iaikgPT4gISFvYmouZGF0YSlcbiAgLm1hcCgodkRhdGEpID0+IHtcbiAgICBjb25zdCBhcnJheU9mUENEYXRhID0gW11cbiAgICBmb3IgKGNvbnN0IHBjTmFtZSBpbiB2RGF0YS5kYXRhKSB7XG4gICAgICBhcnJheU9mUENEYXRhLnB1c2goe1xuICAgICAgICB2aXNpYmlsaXR5OiB2RGF0YS52aXNpYmlsaXR5LFxuICAgICAgICBwc2V1ZG9DbGFzczogcGNOYW1lLFxuICAgICAgICAvKiB1bnVzZWQsIHRoZSBkYXRhIGlzIGluIGRhdGEgKi9cbiAgICAgICAgZGF0YTogdkRhdGEuZGF0YVtwY05hbWVdLFxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5T2ZQQ0RhdGFcbiAgfSlcbiAgLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYy5jb25jYXQodmFsKSwgW10pXG59XG5cbiIsImltcG9ydCB7XG4gIENvbXBvbmVudERlZmluaXRpb24sXG4gIENvbXBvbmVudHNEZWZpbml0aW9uLFxuICBQcm9kb3R5cGVcbn0gZnJvbSAnLi4vZXh0ZXJucydcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cydcbmltcG9ydCB7IEVsZW1lbnRTdGF0ZSB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBQcm9kb3R5cGVEZXBlbmRlbmN5LCBQcm9kb3R5cGVEZXBlbmRlbmN5VGFnIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IFBzZXVkb0NsYXNzLCBQc2V1ZG9DbGFzc0RhdGEsIFN0eWxlRGF0YSwgU3R5bGVOYW1lLCBWaXNpYmlsaXR5IH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IGFkZE1lZGlhUXVlcnksIHJlbmRlcldpdGhQcm9kb3R5cGUgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2RvbSdcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL0NsaWVudENvbmZpZydcbmltcG9ydCB7IGdldEVsZW1lbnRzIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldFBzZXVkb0NsYXNzRGF0YSB9IGZyb20gJy4uL3NpdGUtc3RvcmUvdXRpbHMnXG5pbXBvcnQgeyBnZXRTaXRlLCB1cGRhdGVTaXRlIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldFVpLCB1cGRhdGVVaSB9IGZyb20gJy4uL3VpLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL3N0b3JlL2luZGV4J1xuaW1wb3J0IHsgdXBkYXRlRWxlbWVudHMgfSBmcm9tICcuL2luZGV4J1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqICAgVGhpcyBjbGFzcyBpcyB1c2VkIHRvIG1hbmFnZSBQcm9kb3R5cGUgY29tcG9uZW50c1xuICogICBDb21wb25lbnRzIGFyZSBiYXNlZCBvbiBTaWxleCBlbGVtZW50cywgdXNlIFByb2RvdHlwZSB0byByZW5kZXIgYSB0ZW1wbGF0ZXNcbiAqL1xuXG5sZXQgcHJvZG90eXBlQ29tcG9uZW50OiBQcm9kb3R5cGVcbmxldCBwcm9kb3R5cGVTdHlsZTogUHJvZG90eXBlXG5sZXQgc3R5bGVFZGl0b3JFbGVtZW50OiBIVE1MRWxlbWVudFxubGV0IGNvbXBvbmVudEVkaXRvckVsZW1lbnQ6IEhUTUxFbGVtZW50XG5sZXQgcHJvZG90eXBlTG9hZGVkID0gZmFsc2VcblxuLy8gd2FpdCBmb3IgdGhlIFByb2RvdHlwZSBsaWJyYXJ5IHRvIGJlIGxvYWRlZFxuLy8gRklYTUU6IHRoaXMgaXMgdXNlbGVzcywgaXQgY2FuIGJlIGRvbmUgZGlyZWN0bHkgb24gbW9kdWxlIGltcG9ydFxuZXhwb3J0IGZ1bmN0aW9uIGluaXRQcm9kb3R5cGUoKSB7XG4gIC8vIGluaXQgc3R5bGUgZWRpdG9yXG4gIHN0eWxlRWRpdG9yRWxlbWVudCA9IGdldFVpRWxlbWVudHMoKS5wcm9wZXJ0eVRvb2wucXVlcnlTZWxlY3RvcignLnByb2RvdHlwZS1zdHlsZS1lZGl0b3IgLnByb2RvdHlwZS1jb250YWluZXInKVxuXG4gIC8vIHRzbGludDpkaXNhYmxlOm5vLXN0cmluZy1saXRlcmFsXG4gIHByb2RvdHlwZVN0eWxlID0gbmV3IHdpbmRvd1snUHJvZG90eXBlJ10oc3R5bGVFZGl0b3JFbGVtZW50LCAnLi9wcm9kb3R5cGUvc3R5bGVzJylcbiAgLy8gdHNsaW50OmVuYWJsZTpuby1zdHJpbmctbGl0ZXJhbFxuXG4gIC8vIGluaXQgY29tcG9uZW50IGVkaXRvclxuICBsb2FkQ29tcG9uZW50cyhjb25maWcuY29tcG9uZW50Rm9sZGVycylcbn1cblxuZnVuY3Rpb24gZ2V0UHJvZG90eXBlQ29tcG9uZW50KCk6IFByb2RvdHlwZSB7XG4gIGlmKCFwcm9kb3R5cGVDb21wb25lbnQpIGluaXRQcm9kb3R5cGUoKVxuICByZXR1cm4gcHJvZG90eXBlQ29tcG9uZW50XG59XG5cbmZ1bmN0aW9uIGdldFByb2RvdHlwZVN0eWxlKCk6IFByb2RvdHlwZSB7XG4gIGlmKCFwcm9kb3R5cGVTdHlsZSkgaW5pdFByb2RvdHlwZSgpXG4gIHJldHVybiBwcm9kb3R5cGVTdHlsZVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50cyhjb21wb25lbnRzID0gZ2V0Q29tcG9uZW50cygpKSB7XG4gIGNvbnN0IHJlbmRlcmVkQ29tcG9uZW50cyA9IGF3YWl0IFByb21pc2UuYWxsPFtFbGVtZW50U3RhdGUsIHN0cmluZ10+KGNvbXBvbmVudHNcbiAgICAubWFwKChlbCkgPT4gcmVuZGVyV2l0aFByb2RvdHlwZShcbiAgICAgIGdldFByb2RvdHlwZUNvbXBvbmVudCgpLCB7XG4gICAgICAgIHRlbXBsYXRlTmFtZTogZWwuZGF0YS5jb21wb25lbnQudGVtcGxhdGVOYW1lLFxuICAgICAgICBkYXRhOiBlbC5kYXRhLmNvbXBvbmVudC5kYXRhLFxuICAgICAgICBkYXRhU291cmNlczogZ2V0U2l0ZSgpLmRhdGFTb3VyY2VzLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChpbm5lckh0bWwpID0+IChbXG4gICAgICAgIGVsLFxuICAgICAgICBpbm5lckh0bWwsXG4gICAgICBdKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCB1cGRhdGUgY29tcG9uZW50OicsIGVycilcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH0pXG4gICAgKVxuICApXG4gIGNvbnN0IHJlbmRlcmVkV2l0aG91dEVycm9yID0gcmVuZGVyZWRDb21wb25lbnRzXG4gICAgLmZpbHRlcigoZWwpID0+ICEhZWwpXG5cbiAgLy8gc3RpbGwgdGhlIHNhbWUsIG5vIGNvbXBvbmVudCB1cGRhdGVcbiAgLy8ganVzdCByZW5kZXIgdGhlIGRvbSBlbGVtZW50XG4gIC8vIHJlbmRlcmVkV2l0aG91dEVycm9yXG4gIC8vICAgLmZpbHRlcigoW2VsLCBpbm5lckh0bWxdKSA9PiBlbC5pbm5lckh0bWwgPT09IGlubmVySHRtbClcbiAgLy8gICAuZm9yRWFjaCgoW2VsLCBpbm5lckh0bWxdKSA9PiBjb25zb2xlLmxvZygnc2FtZScsIGVsKSlcblxuICAvLyBjb21wb25lbnRzIG1heSBoYXZlIGNoYW5nZWRcbiAgLy8gc29tZXRpbWVzIHRoZSByZW5kZXIgaW5jbHVkZXMgYW4gSUQgd2hpY2ggY2hhbmdlcyBldmVyeSB0aW1lXG4gIC8vIHRoaXMgaXMgbGlrZSBhbiB1cGRhdGUgb2YgYWxsIGNvbXBvbmVudHNcbiAgdXBkYXRlRWxlbWVudHMocmVuZGVyZWRXaXRob3V0RXJyb3JcbiAgICAuZmlsdGVyKChbZWwsIGlubmVySHRtbF0pID0+IGVsLmlubmVySHRtbCAhPT0gaW5uZXJIdG1sKVxuICAgIC5tYXAoKFtlbCwgaW5uZXJIdG1sXSkgPT4gKHtcbiAgICAgIC4uLmVsLFxuICAgICAgaW5uZXJIdG1sLFxuICAgIH0pKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDb21wb25lbnRzKHBhdGhzOiBzdHJpbmdbXSkge1xuICAvLyBzdG9yZSB0aGUgZWxlbWVudCBpbiB3aGljaCB0byByZW5kZXJcbiAgY29tcG9uZW50RWRpdG9yRWxlbWVudCA9IGdldFVpRWxlbWVudHMoKS5wcm9wZXJ0eVRvb2wucXVlcnlTZWxlY3RvcignLnByb2RvdHlwZS1jb21wb25lbnQtZWRpdG9yJylcbiAgLy8gdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWxcbiAgY29uc3QgY29tcEVkOiBQcm9kb3R5cGUgPSBuZXcgd2luZG93WydQcm9kb3R5cGUnXShjb21wb25lbnRFZGl0b3JFbGVtZW50LCBwYXRocylcbiAgLy8gdHNsaW50OmVuYWJsZTpuby1zdHJpbmctbGl0ZXJhbFxuICAvLyBmaXJzdCBsb2FkXG4gIGlmICghcHJvZG90eXBlQ29tcG9uZW50KSBwcm9kb3R5cGVDb21wb25lbnQgPSBjb21wRWRcbiAgLy8gd2FpdCBmb3IgcHJvZG90eXBlIHRvIGxvYWQgdGhlIGNvbXBvbmVudHMuanNvbiBmaWxlc1xuICBjb21wRWQucmVhZHkoKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgIH0gZWxzZSB7XG4gICAgICBwcm9kb3R5cGVDb21wb25lbnQgPSBjb21wRWRcbiAgICAgIHByb2RvdHlwZUxvYWRlZCA9IHRydWVcbiAgICAgIHVwZGF0ZVVpKHtcbiAgICAgICAgLi4uZ2V0VWkoKSxcbiAgICAgICAgY29tcG9uZW50czogZ2V0Q29tcG9uZW50c0RlZihDb25zdGFudHMuQ09NUE9ORU5UX1RZUEUpLFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogZ2V0IFByb2RvdHlwZSBkZXNjcmlwdG9yIG9mIHRoZSBjb21wb25lbnRzXG4gKiBAcmV0dXJuIGNvbXBvbmVudCBkZXNjcmlwdG9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcG9uZW50c0RlZih0eXBlOiBzdHJpbmcpOiBDb21wb25lbnRzRGVmaW5pdGlvbiB7XG4gIGNvbnN0IG9iaiA9IHR5cGUgPT09IENvbnN0YW50cy5DT01QT05FTlRfVFlQRSA/IGdldFByb2RvdHlwZUNvbXBvbmVudCgpIDogZ2V0UHJvZG90eXBlU3R5bGUoKVxuICByZXR1cm4gb2JqID8gb2JqLmNvbXBvbmVudHNEZWYgOiAoe30gYXMgQ29tcG9uZW50c0RlZmluaXRpb24pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBvbmVudChlbGVtZW50OiBFbGVtZW50U3RhdGUpIHtcbiAgcmV0dXJuICEhZWxlbWVudC5kYXRhLmNvbXBvbmVudCAmJiAhIWVsZW1lbnQuZGF0YS5jb21wb25lbnQudGVtcGxhdGVOYW1lXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRzKGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSkge1xuICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKChlbCkgPT4gaXNDb21wb25lbnQoZWwpKVxufVxuXG4vKipcbiAqIEBwYXJhbSBlbGVtZW50IGNvbXBvbmVudCBqdXN0IGFkZGVkXG4gKiBAcGFyYW0gdGVtcGxhdGVOYW1lIHR5cGUgb2YgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0Q29tcG9uZW50KGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSwgdGVtcGxhdGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPEVsZW1lbnRTdGF0ZT4ge1xuICBjb25zdCBjb21wb25lbnRzRGVmID0gZ2V0Q29tcG9uZW50c0RlZihDb25zdGFudHMuQ09NUE9ORU5UX1RZUEUpXG4gIGNvbnN0IGNvbXAgPSBjb21wb25lbnRzRGVmW3RlbXBsYXRlTmFtZV1cbiAgaWYgKGNvbXApIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0UHJvZG90eXBlQ29tcG9uZW50KClcbiAgICAgIC5jcmVhdGVOYW1lKHRlbXBsYXRlTmFtZSwgZ2V0RWxlbWVudHMoKVxuICAgICAgICAuZmlsdGVyKChlbCkgPT4gaXNDb21wb25lbnQoZWwpKVxuICAgICAgICAubWFwKChlbCkgPT4gZWwuZGF0YS5jb21wb25lbnQpKVxuXG4gICAgLy8gZm9yIHNlbGVjdGlvbiAoc2VsZWN0IGFsbCBjb21wb25lbnRzKVxuICAgIC8vIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChDb25zdGFudHMuQ09NUE9ORU5UX0NMQVNTX05BTUUpXG5cbiAgICAvLyBhcHBseSB0aGUgc3R5bGUgZm91bmQgaW4gY29tcG9uZW50IGRlZmluaXRpb25cbiAgICAvLyB0aGlzIGluY2x1ZGVzIHRoZSBjc3MgY2xhc3Mgb2YgdGhlIGNvbXBvbmVudCAoY29tcG9uZW50LXRlbXBsYXRlTmFtZSlcbiAgICBjb25zdCBjc3NDbGFzc2VzID0gZ2V0Q3NzQ2xhc3Nlcyh0ZW1wbGF0ZU5hbWUpIHx8IFtdXG5cbiAgICAvLyB1c2UgbWluIGhlaWdoIG9yIGhlaWdodCBkZXBlbmRpbmcgb24gdGhlIGNvbXBvbmVudCBhbmQgdGhlIGJhc2UgZWxlbWVudFxuICAgIC8vIGlmIHNldCBieSBjb21wb25lbnQgaXQgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IG9mIHRoZSBlbGVtZW50XG4gICAgY29uc3QgdXNlTWluSGVpZ2h0ID0gdHlwZW9mIGNvbXAudXNlTWluSGVpZ2h0ID09PSAndW5kZWZpbmVkJyA/IGVsZW1lbnQudXNlTWluSGVpZ2h0IDogY29tcC51c2VNaW5IZWlnaHRcblxuICAgIC8vIGFwcGx5IHRoZSBzdHlsZSBmb3VuZCBpbiBjb21wb25lbnQgZGVmaW5pdGlvblxuICAgIGNvbnN0IGluaXRpYWxDc3MgPSBjb21wLmluaXRpYWxDc3MgfHwge31cblxuICAgIC8vIHNhbWUgZm9yIHRoZSBjb250YWluZXIgaW5zaWRlIHRoZSBlbGVtZW50IChjb250ZW50IG5vZGUpXG4gICAgaWYgKGNvbXAuaW5pdGlhbENzc0NvbnRlbnRDb250YWluZXIpIHtcbiAgICAgIC8vIGFwcGx5U3R5bGVUbyhcbiAgICAgIC8vICAgICBtb2RlbC5lbGVtZW50LmdldENvbnRlbnROb2RlKGVsZW1lbnQpLFxuICAgICAgLy8gICAgIGNvbXAuaW5pdGlhbENzc0NvbnRlbnRDb250YWluZXIpXG4gICAgICBjb25zb2xlLmVycm9yKCdub3QgaW1wbGVtZW50ZWQnLCBjb21wLmluaXRpYWxDc3NDb250ZW50Q29udGFpbmVyKVxuICAgIH1cblxuICAgIC8vIGZpcnN0IHJlbmRlcmluZyBvZiB0aGUgY29tcG9uZW50XG4gICAgcmV0dXJuIHJlbmRlcldpdGhQcm9kb3R5cGUoZ2V0UHJvZG90eXBlQ29tcG9uZW50KCksIHtcbiAgICAgIHRlbXBsYXRlTmFtZSxcbiAgICAgIGRhdGE6IHt9LFxuICAgICAgZGF0YVNvdXJjZXM6IGdldFNpdGUoKS5kYXRhU291cmNlcyxcbiAgICB9KVxuICAgIC50aGVuKChodG1sKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5lbGVtZW50LFxuICAgICAgICBjbGFzc0xpc3Q6IGVsZW1lbnQuY2xhc3NMaXN0LmNvbmNhdChjc3NDbGFzc2VzKSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmVsZW1lbnQuZGF0YSxcbiAgICAgICAgICBjb21wb25lbnQ6IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZU5hbWUsXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBpbm5lckh0bWw6IGh0bWwsXG4gICAgICAgIHVzZU1pbkhlaWdodCxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAuLi5lbGVtZW50LnN0eWxlLFxuICAgICAgICAgIGRlc2t0b3A6IHtcbiAgICAgICAgICAgIC4uLmVsZW1lbnQuc3R5bGUuZGVza3RvcCxcbiAgICAgICAgICAgIC4uLmluaXRpYWxDc3MsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NvbXBvbmVudCBkZWZpbml0aW9uIG5vdCBmb3VuZCBpbiBwcm9kb3R5cGUgZGF0YScpXG4gIH1cbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNsYXNzIG5hbWVzIHNwZWNpZmllZCBpbiB0aGUgZGVmaW5pdGlvbiBvZiB0aGUgcHJvZG90eXBlIGNvbXBvbmVudFxuICogdGhpcyBpcyBpbiB0aGUgY2xhc3NOYW1lIGF0dHJpYnV0ZSBvZiB0aGUgY29tcG9uZW50IC5tZCBmaWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRDbGFzc05hbWUoZWxlbWVudCkge1xuICBpZiAoaXNDb21wb25lbnQoZWxlbWVudCkpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZU5hbWUgPSAoZWxlbWVudC5kYXRhLmNvbXBvbmVudC50ZW1wbGF0ZU5hbWUgYXMgc3RyaW5nKVxuICAgIHJldHVybiBnZXRDc3NDbGFzc2VzKHRlbXBsYXRlTmFtZSlcbiAgfVxuICByZXR1cm4gW11cbn1cblxuLyoqXG4gKiBnZXQgYWxsIENTUyBjbGFzc2VzIHNldCBvbiB0aGlzIGNvbXBvbmVudCB3aGVuIGl0IGlzIGNyZWF0ZWRcbiAqIHRoaXMgaW5jbHVkZXMgdGhlIGNzcyBjbGFzcyBvZiB0aGUgY29tcG9uZW50IChjb21wb25lbnQtdGVtcGxhdGVOYW1lKVxuICogQHBhcmFtIHRlbXBsYXRlTmFtZSB0aGUgY29tcG9uZW50J3MgdGVtcGxhdGUgbmFtZVxuICogQHJldHVybiBhbiBhcnJheSBvZiBDU1MgY2xhc3Nlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3NzQ2xhc3Nlcyh0ZW1wbGF0ZU5hbWU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgY29tcG9uZW50c0RlZiA9IGdldENvbXBvbmVudHNEZWYoQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFKVxuICBjb25zdCBjb21wOiBDb21wb25lbnREZWZpbml0aW9uID0gY29tcG9uZW50c0RlZlt0ZW1wbGF0ZU5hbWVdXG4gIGxldCBjc3NDbGFzc2VzID0gW0NvbnN0YW50cy5DT01QT05FTlRfQ0xBU1NfTkFNRSArICctJyArIHRlbXBsYXRlTmFtZV1cbiAgaWYgKGNvbXApIHtcbiAgICAvLyBjbGFzcyBuYW1lIGlzIGVpdGhlciBhbiBhcnJheVxuICAgIC8vIG9yIGEgc3RyaW5nIG9yIG51bGxcbiAgICBzd2l0Y2ggKHR5cGVvZiBjb21wLmluaXRpYWxDc3NDbGFzcykge1xuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIGNzc0NsYXNzZXMgPSBjc3NDbGFzc2VzLmNvbmNhdChjb21wLmluaXRpYWxDc3NDbGFzcy5zcGxpdCgnICcpKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY3NzQ2xhc3NlcyA9IGNzc0NsYXNzZXMuY29uY2F0KGNvbXAuaW5pdGlhbENzc0NsYXNzKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogY29tcG9uZW50J3MgZGVmaW5pdGlvbiBub3QgZm91bmQgaW4gcHJvZG90eXBlIHRlbXBsYXRlcywgd2l0aCB0ZW1wbGF0ZSBuYW1lIFwiJHt0ZW1wbGF0ZU5hbWV9XCIuYClcbiAgfVxuICByZXR1cm4gY3NzQ2xhc3Nlc1xufVxuXG4vKipcbiAqIHVwZGF0ZSB0aGUgZGVwZW5kZW5jaWVzIG9mIFByb2RvdHlwZSBjb21wb25lbnRzXG4gKiBGSVhNRTogc2hvdWxkIGhhdmUgYSBjYWxsYmFjayB0byBrbm93IGlmL3doZW4gc2NyaXB0cyBhcmUgbG9hZGVkXG4gKiBAcGFyYW0gdHlwZSwgQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFIG9yIENvbnN0YW50cy5TVFlMRV9UWVBFXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDb21wb25lbnRzRGVwZW5kZW5jaWVzKHByb2RvdHlwZSA9IHByb2RvdHlwZUNvbXBvbmVudCwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSB7XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBlbGVtZW50c1xuICAgIC5maWx0ZXIoKGVsKSA9PiBpc0NvbXBvbmVudChlbCkpXG4gICAgLm1hcCgoZWwpID0+IGVsLmRhdGEuY29tcG9uZW50KVxuXG4gIGNvbnN0IHByb2RvdHlwZURlcGVuZGVuY2llcyA9IHByb2RvdHlwZS5nZXREZXBlbmRlbmNpZXMoY29tcG9uZW50cylcblxuICAvLyByZW1vdmUgZG91YmxlcyBkZXBlbmRlbmNpZXNcbiAgY29uc3QgZmlsdGVyZWREZXBlbmRlbmNpZXM6IFByb2RvdHlwZURlcGVuZGVuY3kgPSBPYmplY3Qua2V5cyhwcm9kb3R5cGVEZXBlbmRlbmNpZXMpXG4gICAgLnJlZHVjZSgoYWdncjogUHJvZG90eXBlRGVwZW5kZW5jeSwgdGFnTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCB1bmlxdWUgPSBwcm9kb3R5cGVEZXBlbmRlbmNpZXNbdGFnTmFtZV1cbiAgICAgICAgLmZpbHRlcigodGFnLCBpZHgpID0+ICFwcm9kb3R5cGVEZXBlbmRlbmNpZXNbdGFnTmFtZV0uZmluZCgoZXhpc3RpbmdUYWcsIGV4aXN0aW5nSWR4KSA9PiBpZHggPiBleGlzdGluZ0lkeCAmJiBpc1NhbWVUYWcodGFnLCBleGlzdGluZ1RhZykpKVxuICAgICAgYWdnclt0YWdOYW1lXSA9IGFnZ3JbdGFnTmFtZV0gfHwgW11cbiAgICAgIGFnZ3JbdGFnTmFtZV0gPSBhZ2dyW3RhZ05hbWVdLmNvbmNhdCh1bmlxdWUpXG4gICAgICByZXR1cm4gYWdnclxuICAgIH0sIHt9IGFzIFByb2RvdHlwZURlcGVuZGVuY3kpXG5cbiAgY29uc3Qgb2xkRGVwZW5kZW5jaWVzID0gZ2V0U2l0ZSgpLnByb2RvdHlwZURlcGVuZGVuY2llc1xuICBjb25zdCBvbGRLZXlzID0gT2JqZWN0LmtleXMob2xkRGVwZW5kZW5jaWVzKVxuICBjb25zdCBuZXdLZXlzID0gT2JqZWN0LmtleXMoZmlsdGVyZWREZXBlbmRlbmNpZXMpXG4gIGNvbnN0IGlzU2FtZSA9IG9sZEtleXMubGVuZ3RoID09PSBuZXdLZXlzLmxlbmd0aCAmJiBvbGRLZXlzXG4gICAgLmV2ZXJ5KCh0YWdOYW1lKSA9PiB7XG4gICAgICBjb25zdCBvbGRUYWdzID0gb2xkRGVwZW5kZW5jaWVzW3RhZ05hbWVdXG4gICAgICBjb25zdCBuZXdUYWdzID0gZmlsdGVyZWREZXBlbmRlbmNpZXNbdGFnTmFtZV1cbiAgICAgIC8vIHVzZSBsZW5ndGggaW4gb3JkZXIgdG8gYXZvaWQgbG9vcGluZyB0aHJvdWdoIGJvdGggYXJyYXlzXG4gICAgICByZXR1cm4gISFuZXdUYWdzICYmIG5ld1RhZ3MubGVuZ3RoID09PSBvbGRUYWdzLmxlbmd0aCAmJiBvbGRUYWdzXG4gICAgICAgIC5ldmVyeSgob2xkVGFnKSA9PiBuZXdUYWdzLmZpbmQoKG5ld1RhZykgPT4gaXNTYW1lVGFnKG9sZFRhZywgbmV3VGFnKSkpXG4gICAgfSlcblxuICBpZighaXNTYW1lKSB7XG4gICAgdXBkYXRlU2l0ZSh7XG4gICAgICAuLi5nZXRTaXRlKCksXG4gICAgICBwcm9kb3R5cGVEZXBlbmRlbmNpZXM6IGZpbHRlcmVkRGVwZW5kZW5jaWVzLFxuICAgIH0sIGRpc3BhdGNoKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVUYWcodGFnMTogUHJvZG90eXBlRGVwZW5kZW5jeVRhZywgdGFnMjogUHJvZG90eXBlRGVwZW5kZW5jeVRhZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gT2JqZWN0LmtleXModGFnMSkuZXZlcnkoKGF0dHJOYW1lKSA9PiB0YWcxW2F0dHJOYW1lXSA9PT0gdGFnMlthdHRyTmFtZV0pXG4gICAgJiYgT2JqZWN0LmtleXModGFnMikuZXZlcnkoKGF0dHJOYW1lKSA9PiB0YWcxW2F0dHJOYW1lXSA9PT0gdGFnMlthdHRyTmFtZV0pXG59XG5cbi8qKlxuICogaGlkZSBjb21wb25lbnQgZWRpdG9yc1xuICogRklYTUU6IHRoaXMgc2hvdWxkIGJlIGluIHRoZSBjb21wb25lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Q29tcG9uZW50RWRpdG9yKCkge1xuICBpZiAocHJvZG90eXBlTG9hZGVkKSB7XG4gICAgY29tcG9uZW50RWRpdG9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRlLXBhbmVsJylcbiAgICBnZXRQcm9kb3R5cGVDb21wb25lbnQoKS5lZGl0KClcbiAgfVxufVxuXG4vKipcbiAqIHNob3cgY29tcG9uZW50IGVkaXRvcnMgYW5kIGVkaXQgdGhlIHNlbGVjdGlvblxuICogRklYTUU6IHRoaXMgc2hvdWxkIGJlIGluIHRoZSBjb21wb25lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5Db21wb25lbnRFZGl0b3Iob3B0aW9uczoge1xuICBkYXRhPzogYW55LFxuICBkYXRhU291cmNlcz86IG9iamVjdCxcbiAgdGVtcGxhdGVOYW1lPzogc3RyaW5nLFxuICBldmVudHM/OiBhbnlcbn0pIHtcbiAgaWYgKHByb2RvdHlwZUxvYWRlZCkge1xuICAgIGdldFByb2RvdHlwZUNvbXBvbmVudCgpLmVkaXQob3B0aW9ucy5kYXRhLCBvcHRpb25zLmRhdGFTb3VyY2VzLCBvcHRpb25zLnRlbXBsYXRlTmFtZSwgb3B0aW9ucy5ldmVudHMpXG4gICAgY29tcG9uZW50RWRpdG9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLXBhbmVsJylcbiAgfVxufVxuXG4vKipcbiAqIGVkaXQgYSBzdHlsZSBpbiB0aGUgc3R5bGUgZWRpdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuU3R5bGVFZGl0b3Iob3B0aW9uczoge1xuICBkYXRhPzogYW55LFxuICBkYXRhU291cmNlcz86IG9iamVjdCxcbiAgdGVtcGxhdGVOYW1lPzogc3RyaW5nLFxuICBldmVudHM/OiBhbnlcbn0pIHtcbiAgaWYgKHByb2RvdHlwZUxvYWRlZCkge1xuICAgIGdldFByb2RvdHlwZVN0eWxlKCkuZWRpdChvcHRpb25zLmRhdGEsIG9wdGlvbnMuZGF0YVNvdXJjZXMsIG9wdGlvbnMudGVtcGxhdGVOYW1lLCBvcHRpb25zLmV2ZW50cylcbiAgfVxufVxuXG4vKipcbiAqIHJlbW92ZSB0aGUgZWRpdGFibGUgZWxlbWVudHMgZnJvbSBhbiBIVE1MIGVsZW1lbnQgYW5kIHN0b3JlIHRoZW0gaW4gYW4gSFRNTFxuICogZnJhZ21lbnRcbiAqIEBwYXJhbSBwYXJlbnRFbGVtZW50LCB0aGUgZWxlbWVudCB3aG9zZSBjaGlsZHJlbiB3ZSB3YW50IHRvIHNhdmVcbiAqIEByZXR1cm4gYW4gSFRNTCBmcmFnbWVudCB3aXRoIHRoZSBlZGl0YWJsZSBjaGlsZHJlbiBpbiBpdFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUVkaXRhYmxlQ2hpbGRyZW4ocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcbiAgQXJyYXkuZnJvbShwYXJlbnRFbGVtZW50LmNoaWxkcmVuKVxuICAuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0YWJsZS1zdHlsZScpKSB7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbC5jbG9uZU5vZGUodHJ1ZSkpXG4gICAgfVxuICB9KVxuICByZXR1cm4gZnJhZ21lbnRcbn1cblxuLyoqXG4gKiBhZGQgYSBtZWRpYSBxdWVyeSBhcm91bmQgdGhlIHN0eWxlIHN0cmluZ1xuICogd2hlbiBuZWVkZWQgZm9yIG1vYmlsZS1vbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRNZWRpYVF1ZXJ5SWZNb2JpbGVPbmx5KGh0bWw6IHN0cmluZywgdmlzaWJpbGl0eTogVmlzaWJpbGl0eSkge1xuICBpZiAodmlzaWJpbGl0eSA9PT0gQ29uc3RhbnRzLlNUWUxFX1ZJU0lCSUxJVFlbMF0pIHtcbiAgICByZXR1cm4gaHRtbFxuICB9XG4gIHJldHVybiBhZGRNZWRpYVF1ZXJ5KGh0bWwpXG59XG5cbi8qKlxuICogY3JlYXRlIG9yIHVwZGF0ZSBhIHN0eWxlXG4gKiBpZiBkYXRhIGlzIG5vdCBwcm92aWRlZCwgY3JlYXRlIHRoZSBzdHlsZSB3aXRoIGRlZmF1bHRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdHlsZVRvRG9tKGRvYzogSFRNTERvY3VtZW50LCBjbGFzc05hbWU6IFN0eWxlTmFtZSwgcHNldWRvQ2xhc3M6IFBzZXVkb0NsYXNzLCB2aXNpYmlsaXR5OiBWaXNpYmlsaXR5LCBkYXRhOiBQc2V1ZG9DbGFzc0RhdGEsIGRpc3BsYXlOYW1lOiBzdHJpbmcpIHtcblxuICAvLyBleHBvc2UgdGhlIGNsYXNzIG5hbWUgYW5kIHBzZXVkbyBjbGFzcyB0byB0aGUgcHJvZG90eXBlIHRlbXBsYXRlXG4gIGNvbnN0IG5ld0RhdGEgPSBkYXRhIHx8IHt9XG4gIG5ld0RhdGEuY2xhc3NOYW1lID0gY2xhc3NOYW1lXG4gIG5ld0RhdGEucHNldWRvQ2xhc3MgPSBwc2V1ZG9DbGFzc1xuXG4gIC8vIHN0b3JlIHRoZSBjb21wb25lbnQncyBkYXRhIGZvciBsYXRlciBlZGl0aW9uXG4gIGNvbnN0IHN0eWxlRGF0YSA9IChnZXRTaXRlKCkuc3R5bGVzW2NsYXNzTmFtZV0gfHwge1xuICAgIGNsYXNzTmFtZSxcbiAgICB0ZW1wbGF0ZU5hbWU6ICd0ZXh0JyxcbiAgICBkaXNwbGF5TmFtZSxcbiAgICBzdHlsZXM6IHt9LFxuICB9IGFzIFN0eWxlRGF0YSlcbiAgaWYgKCFzdHlsZURhdGEuc3R5bGVzW3Zpc2liaWxpdHldKSB7XG4gICAgc3R5bGVEYXRhLnN0eWxlc1t2aXNpYmlsaXR5XSA9IHt9XG4gIH1cbiAgc3R5bGVEYXRhLnN0eWxlc1t2aXNpYmlsaXR5XVtwc2V1ZG9DbGFzc10gPSBuZXdEYXRhXG5cbiAgY29uc3QgaGVhZCA9IGRvYy5oZWFkXG5cbiAgLy8gdXBkYXRlIHRoZSBoZWFkIHN0eWxlIHdpdGggdGhlIG5ldyB0ZW1wbGF0ZVxuICBsZXQgZWxTdHlsZSA9IGhlYWQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3R5bGUtaWQ9XCIke2NsYXNzTmFtZX1cIl1gKVxuICBpZiAoIWVsU3R5bGUpIHtcbiAgICBlbFN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICBlbFN0eWxlLmNsYXNzTmFtZSA9IENvbnN0YW50cy5TVFlMRV9DTEFTU19OQU1FXG4gICAgZWxTdHlsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3R5bGUtaWQnLCBjbGFzc05hbWUpXG4gICAgaGVhZC5hcHBlbmRDaGlsZChlbFN0eWxlKVxuICB9XG5cbiAgLy8gcmVuZGVyIGFsbCBwc2V1ZG8gY2xhc3NlcyBpbiBhbGwgdmlzaWJpbGl0eSBvYmplY3RcbiAgY29uc3QgcHNldWRvQ2xhc3NEYXRhID0gZ2V0UHNldWRvQ2xhc3NEYXRhKHN0eWxlRGF0YSlcbiAgaWYgKHBzZXVkb0NsYXNzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgUHJvbWlzZS5hbGwocHNldWRvQ2xhc3NEYXRhLm1hcCgob2JqKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcldpdGhQcm9kb3R5cGUoZ2V0UHJvZG90eXBlU3R5bGUoKSwge1xuICAgICAgICAgICAgdGVtcGxhdGVOYW1lOiAndGV4dCcsXG4gICAgICAgICAgICBkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgIGRhdGFTb3VyY2VzOiBnZXRTaXRlKCkuZGF0YVNvdXJjZXMsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoaHRtbCkgPT4gYWRkTWVkaWFRdWVyeUlmTW9iaWxlT25seShodG1sLCBvYmoudmlzaWJpbGl0eSkpXG4gICAgICAgIH0pIGFzIFByb21pc2U8c3RyaW5nPltdKVxuICAgICAgICAudGhlbigoaHRtbFN0cmluZ3MpID0+IHtcbiAgICAgICAgICBlbFN0eWxlLmlubmVySFRNTCA9IGh0bWxTdHJpbmdzLmpvaW4oJycpXG4gICAgICAgIH0pXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyB0aGlzIGlzIHRoZSBBUEkgdXNlZCB0byBpbnRlcmFjdCB3aXRoIHRoZSBzdG9yZVxuICovXG5cbmltcG9ydCB7IHN1YnNjcmliZVRvQ3J1ZCwgc3RvcmUgfSBmcm9tICcuLi9zdG9yZS9pbmRleCdcbmltcG9ydCB7IFBhZ2VTdGF0ZSwgUGFnZURhdGEgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgUGFnZUFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL2FjdGlvbnMnXG5pbXBvcnQgeyBmcm9tRGF0YSwgdG9EYXRhIH0gZnJvbSAnLi4vc3RvcmUvY3J1ZC1zdG9yZSdcblxuZXhwb3J0IGNvbnN0IGZyb21QYWdlRGF0YSA9IChwYWdlczogUGFnZURhdGFbXSk6IFBhZ2VTdGF0ZVtdID0+IGZyb21EYXRhPFBhZ2VEYXRhLCBQYWdlU3RhdGU+KHBhZ2VzKVxuZXhwb3J0IGNvbnN0IHRvUGFnZURhdGEgPSAocGFnZXM6IFBhZ2VTdGF0ZVtdKTogUGFnZURhdGFbXSA9PiB0b0RhdGE8UGFnZVN0YXRlLCBQYWdlRGF0YT4ocGFnZXMpXG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplUGFnZXMgPSAoaXRlbXM6IFBhZ2VTdGF0ZVtdLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSA9PiBkaXNwYXRjaCh7XG4gIHR5cGU6IFBhZ2VBY3Rpb24uSU5JVElBTElaRSxcbiAgaXRlbXMsXG59KVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUGFnZXMgPSAoaXRlbXM6IFBhZ2VTdGF0ZVtdLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSA9PiBkaXNwYXRjaCh7XG4gIHR5cGU6IFBhZ2VBY3Rpb24uQ1JFQVRFLFxuICBpdGVtcyxcbn0pXG5cbmV4cG9ydCBjb25zdCBkZWxldGVQYWdlcyA9IChpdGVtczogUGFnZVN0YXRlW10sIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IGRpc3BhdGNoKHtcbiAgdHlwZTogUGFnZUFjdGlvbi5ERUxFVEUsXG4gIGl0ZW1zLFxufSlcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBhZ2VzID0gKGl0ZW1zOiBQYWdlU3RhdGVbXSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4gZGlzcGF0Y2goe1xuICB0eXBlOiBQYWdlQWN0aW9uLlVQREFURSxcbiAgaXRlbXMsXG59KVxuXG5leHBvcnQgY29uc3QgbW92ZVBhZ2UgPSAoe3BhZ2UsIGlkeH06IHtwYWdlOiBQYWdlU3RhdGUsIGlkeDogbnVtYmVyfSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4gZGlzcGF0Y2goe1xuICB0eXBlOiBQYWdlQWN0aW9uLk1PVkUsXG4gIGl0ZW06IHBhZ2UsXG4gIGlkeCxcbn0pXG5cbmV4cG9ydCBjb25zdCBnZXRQYWdlcyA9ICgpID0+IHN0b3JlLmdldFN0YXRlKCkucHJlc2VudC5wYWdlc1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlUGFnZXMgPSAoY2JrOiAocHJldlN0YXRlOiBQYWdlU3RhdGVbXSwgbmV4dFN0YXRlOiBQYWdlU3RhdGVbXSkgPT4gdm9pZCwgc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKTogKCkgPT4gdm9pZCA9PiB7XG4gIHJldHVybiBzdWJzY3JpYmVUb0NydWQ8UGFnZVN0YXRlPigncGFnZXMnLCBjYmssIHN1YnNjcmliZSlcbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBUaGUgZGlhbG9nIHRvIGVkaXQgbGlua3NcbiAqXG4gKi9cbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cydcbmltcG9ydCB7IExpbmssIExpbmtUeXBlIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7Tm90aWZpY2F0aW9ufSBmcm9tICcuLi9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBnZXRQYWdlcyB9IGZyb20gJy4uLy4uL3BhZ2Utc3RvcmUvaW5kZXgnXG5cbmV4cG9ydCBjb25zdCBMSU5LX0FUVFJJQlVURVMgPVxuICAgIFsnaHJlZicsICdyZWwnLCAndGFyZ2V0JywgJ3R5cGUnLCAndGl0bGUnLCAnZG93bmxvYWQnXVxuY29uc3QgREVGQVVMVF9MSU5LX0RBVEEgPSB7XG4gIGhyZWY6ICcnLFxuICB0YXJnZXQ6ICcnLFxuICB0aXRsZTogJycsXG4gIHJlbDogJycsXG4gIHR5cGU6ICcnLFxuICBkb3dubG9hZDogJycsXG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEFQSSBmb3IgdGhlIG91dHNpZGUgd29ybGRcbmxldCBpbnN0YW5jZTogTGlua0RpYWxvZ1xuZnVuY3Rpb24gaW5pdExpbmtEaWFsb2coKSB7XG4gIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgbmV3IExpbmtEaWFsb2coKVxuICByZXR1cm4gaW5zdGFuY2Vcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVuTGlua0RpYWxvZyhvcHRpb25zOiB7ZGF0YTogTGluaywgY2JrOiAocDE6IExpbmspID0+IGFueX0pIHtcbiAgaW5pdExpbmtEaWFsb2coKVxuICByZXR1cm4gaW5zdGFuY2Uub3BlbihvcHRpb25zLmRhdGEsIG9wdGlvbnMuY2JrKVxufVxuXG4vKipcbiAqIGV4dGVybmFsIGxpbmsgZGF0YVxuICogVE9ETzogaGFuZGxlIGhhc2gsIGZvciBub3cgdGhpcyBpcyB0cmVhdGVkIGFzIFVSTCwgbm90IHBhZ2UgbGluazogYCMhcGFnZS1ob21lI3Rlc3RgIC0gc2VlIGFsc28gVGV4dEZvcm1hdEJhci50cyBjb21tZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaW5rVHlwZSh1cmw6IHN0cmluZyk6IExpbmtUeXBlIHtcbiAgY29uc3QgaXNQYWdlID0gdXJsLnN0YXJ0c1dpdGgoQ29uc3RhbnRzLlBBR0VfTkFNRV9QUkVGSVgpXG4gICAgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoIDw9IDIgLy8gdGhpcyBleGNsdWRlcyBsaW5rcyBsaWtlIGAjIXBhZ2UtaG9tZSN0ZXN0YFxuICByZXR1cm4gaXNQYWdlID8gTGlua1R5cGUuUEFHRSA6IExpbmtUeXBlLlVSTFxufVxuXG5cbi8qKlxuICogVE9ETzogbWFrZSB0aGlzIG9ubHkgbWV0aG9kcyBhbmQgd3JpdGUgdGVzdHNcbiAqL1xuY2xhc3MgTGlua0RpYWxvZyB7XG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBvcGVuKGxpbmtEYXRhQXJnOiBMaW5rLCBjYms6IChwMTogTGluaykgPT4gYW55KSB7XG4gICAgLy8gZGVmYXVsdCB2YWx1ZXMgZm9yIG5ldyBsaW5rXG4gICAgY29uc3QgbGlua0RhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0xJTktfREFUQSwgbGlua0RhdGFBcmcgfHwge30pXG5cbiAgICBOb3RpZmljYXRpb24ucHJvbXB0KGBcbiAgICAgIExpbmsgZWRpdG9yIDxhIGNsYXNzPVwibGluay1lZGl0b3ItaGVscC1idXR0b24gZmEgZmEtcXVlc3Rpb24tY2lyY2xlXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9zaWxleGxhYnMvU2lsZXgvd2lraS9FZGl0b3ItVUkjbGluay1lZGl0b3JcIj4gSGVscDwvYT5cbiAgICBgLCAndW51c2VkJywgJ3VudXNlZCcsICd1bnVzZWQnLCAoYWNjZXB0LCB1bnVzZWQpID0+IHtcbiAgICAgIGlmIChhY2NlcHQpIHtcbiAgICAgICAgLy8gZ2V0IG5ldyB2YWx1ZXNcbiAgICAgICAgY29uc3QgbmV3RGF0YTogYW55ID0gTElOS19BVFRSSUJVVEVTLnJlZHVjZSgoYWNjLCBhdHRyKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWwgPSBkaWFsb2dCb2R5LnF1ZXJ5U2VsZWN0b3IoJy4nICsgYXR0cikgYXMgSFRNTElucHV0RWxlbWVudFxuICAgICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBnZXQgZGF0YSBmcm9tIGZvciBhdHRyaWJ1dGUnLCBhdHRyKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2NbYXR0cl0gPSBlbC52YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgIH0sIHt9KVxuXG4gICAgICAgIC8vIGludGVybmFsIGxpbmsgaW5mb1xuICAgICAgICBjb25zdCBuZXdJc0V4dGVybmFsID0gKGRpYWxvZ0JvZHkucXVlcnlTZWxlY3RvcignI2xpbmstZWRpdG9yLWV4dGVybmFsJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZFxuICAgICAgICBjb25zdCBwYWdlID0gKGRpYWxvZ0JvZHkucXVlcnlTZWxlY3RvcignLnBhZ2UnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxuICAgICAgICBjb25zdCBvcHRpb25zOiBMaW5rID0ge1xuICAgICAgICAgIGhyZWY6IG5ld0lzRXh0ZXJuYWwgPyBuZXdEYXRhLmhyZWYgOiBwYWdlLFxuICAgICAgICAgIGxpbmtUeXBlOiBuZXdJc0V4dGVybmFsID8gTGlua1R5cGUuVVJMIDogTGlua1R5cGUuUEFHRSxcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3RGF0YS50YXJnZXQgIT09ICcnKSB7XG4gICAgICAgICAgb3B0aW9ucy50YXJnZXQgPSBuZXdEYXRhLnRhcmdldFxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdEYXRhLnJlbCAhPT0gJycpIHtcbiAgICAgICAgICBvcHRpb25zLnJlbCA9IG5ld0RhdGEucmVsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0RhdGEudGl0bGUgIT09ICcnKSB7XG4gICAgICAgICAgb3B0aW9ucy50aXRsZSA9IG5ld0RhdGEudGl0bGVcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3RGF0YS50eXBlICE9PSAnJykge1xuICAgICAgICAgIG9wdGlvbnMudHlwZSA9IG5ld0RhdGEudHlwZVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdEYXRhLmRvd25sb2FkICE9PSAnJykge1xuICAgICAgICAgIG9wdGlvbnMuZG93bmxvYWQgPSBuZXdEYXRhLmRvd25sb2FkXG4gICAgICAgIH1cbiAgICAgICAgY2JrKG9wdGlvbnMpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYmsobGlua0RhdGFBcmcpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIGFkZCBhIHJlbW92ZSBsaW5rIGJ1dHRvblxuICAgIGNvbnN0IGZyYWdtZW50QnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZyYWdtZW50JylcbiAgICBmcmFnbWVudEJ1dHRvbnMuaW5uZXJIVE1MID0gYFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImFsZXJ0aWZ5LWJ1dHRvbiBhbGVydGlmeS1idXR0b24tY2FuY2VsIGFsZXJ0aWZ5LWJ1dHRvbi1yZW1vdmVcIj5yZW1vdmUgbGluazwvYnV0dG9uPlxuICAgIGA7XG4gICAgKGZyYWdtZW50QnV0dG9ucy5xdWVyeVNlbGVjdG9yKCcuYWxlcnRpZnktYnV0dG9uLXJlbW92ZScpIGFzIEhUTUxFbGVtZW50KS5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIE5vdGlmaWNhdGlvbi5jbG9zZSgpXG4gICAgICBjYmsobnVsbClcbiAgICB9XG4gICAgTm90aWZpY2F0aW9uLmFkZEJ1dHRvbihmcmFnbWVudEJ1dHRvbnMpXG5cbiAgICAvLyBhZGQgaW5mbyBhYm91dCB0aGUgbGlua1xuICAgIGNvbnN0IGRpYWxvZ0JvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGRpYWxvZ0JvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgdGhpcy5nZXREaWFsb2dIdG1sKHtcbiAgICAgIGxpbmtUeXBlOiBnZXRMaW5rVHlwZShsaW5rRGF0YS5ocmVmKSxcbiAgICAgIGxpbmtEYXRhLFxuICAgIH0pKVxuICAgIEFycmF5LmZyb20oZGlhbG9nQm9keS5xdWVyeVNlbGVjdG9yQWxsKCcubGluay1lZGl0b3ItdGFiLWxhYmVsJykpXG4gICAgLmZvckVhY2goKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgZWwub25jbGljayA9IChfKSA9PiB7XG4gICAgICBBcnJheVxuICAgICAgLmZyb20oZGlhbG9nQm9keS5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAnLmxpbmstZWRpdG9yLXRhYi1sYWJlbC5jaGVja2VkJykpXG4gICAgICAgIC5mb3JFYWNoKChzZWxlY3RlZCkgPT4gc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpKVxuICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpXG4gICAgICB9XG4gICAgfSlcbiAgICBOb3RpZmljYXRpb24uc2V0Q29udGVudChkaWFsb2dCb2R5KVxuICB9XG5cbiAgZ2V0RGlhbG9nSHRtbCh7bGlua1R5cGUsIGxpbmtEYXRhfToge2xpbmtUeXBlOiBMaW5rVHlwZSwgbGlua0RhdGE6IGFueX0pIHtcbiAgICByZXR1cm4gYFxuICAgICAgPHNlY3Rpb24gY2xhc3M9XCJsaW5rLWVkaXRvclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibGFiZWxzXCI+XG4gICAgICAgICAgPGxhYmVsIGZvcj1cImxpbmstZWRpdG9yLWV4dGVybmFsXCIgdGl0bGU9XCJFeHRlcm5hbCBMaW5rXCIgY2xhc3M9XCJsaW5rLWVkaXRvci10YWItbGFiZWwgZmlyc3QtYnV0dG9uIGZhIGZhLWxnIGZhLWxpbmske2xpbmtUeXBlID09PSBMaW5rVHlwZS5VUkwgPyAnIGNoZWNrZWQgJyA6ICcnfVwiPjwvbGFiZWw+XG4gICAgICAgICAgPGxhYmVsIGZvcj1cImxpbmstZWRpdG9yLWludGVybmFsXCIgdGl0bGU9XCJMaW5rIHRvIGEgcGFnZVwiIGNsYXNzPVwibGluay1lZGl0b3ItdGFiLWxhYmVsIGxhc3QtYnV0dG9uIGZhIGZhLWxnIGZhLWZpbGUke2xpbmtUeXBlID09PSBMaW5rVHlwZS5QQUdFID8gJyBjaGVja2VkICcgOiAnJ31cIj48L2xhYmVsPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxpbmstZWRpdG9yLWJvZHlcIj5cbiAgICAgICAgPGlucHV0IGF1dG9jb21wbGV0ZT1cIm5vcGVcIiBpZD1cImxpbmstZWRpdG9yLWV4dGVybmFsXCIgY2xhc3M9XCJsaW5rLWVkaXRvci1yYWRpb1wiIHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJsaW5rLWVkaXRvci10YWItZ3JvdXBcIiR7bGlua1R5cGUgPT09IExpbmtUeXBlLlVSTCA/ICcgY2hlY2tlZCAnIDogJyd9Lz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxpbmstZWRpdG9yLXRhYiBsaW5rLWVkaXRvci10YWItZXh0ZXJuYWxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGluay1lZGl0b3ItdGFiLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxpbmstZWRpdG9yLWhyZWZcIj5FeHRlcm5hbCBsaW5rPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4XCI+XG4gICAgICAgICAgICAgIDxpbnB1dCBhdXRvY29tcGxldGU9XCJub3BlXCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgaWQ9XCJsaW5rLWVkaXRvci1ocmVmXCIgY2xhc3M9XCJiaWcgYWxlcnRpZnktdGV4dCBocmVmIHRhYmJlZFwiIHR5cGU9XCJ1cmxcIiB2YWx1ZT1cIiR7bGlua1R5cGUgPT09IExpbmtUeXBlLlVSTCA/IGxpbmtEYXRhLmhyZWYgOiAnJ31cIj5cbiAgICAgICAgICAgICAgPHNlbGVjdCBhdXRvY29tcGxldGU9XCJub3BlXCIgaWQ9XCJsaW5rLWVkaXRvci10YXJnZXRcIiBjbGFzcz1cImFsZXJ0aWZ5LXRleHQgdGFyZ2V0XCI+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiR7bGlua0RhdGEudGFyZ2V0ID09PSAnJyA/ICcgc2VsZWN0ZWQgJyA6ICcnfSB2YWx1ZT1cIlwiPjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24ke2xpbmtEYXRhLnRhcmdldCA9PT0gJ19zZWxmJyA/ICcgc2VsZWN0ZWQgJyA6ICcnfSB2YWx1ZT1cIl9zZWxmXCI+X3NlbGY8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uJHtsaW5rRGF0YS50YXJnZXQgPT09ICdfYmxhbmsnID8gJyBzZWxlY3RlZCAnIDogJyd9IHZhbHVlPVwiX2JsYW5rXCI+X2JsYW5rPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiR7bGlua0RhdGEudGFyZ2V0ID09PSAnX3BhcmVudCcgPyAnIHNlbGVjdGVkICcgOiAnJ30gdmFsdWU9XCJfcGFyZW50XCI+X3BhcmVudDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24ke2xpbmtEYXRhLnRhcmdldCA9PT0gJ190b3AnID8gJyBzZWxlY3RlZCAnIDogJyd9IHZhbHVlPVwiX3RvcFwiPl90b3A8L29wdGlvbj5cbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxpbnB1dCBhdXRvY29tcGxldGU9XCJub3BlXCIgaWQ9XCJsaW5rLWVkaXRvci1pbnRlcm5hbFwiIGNsYXNzPVwibGluay1lZGl0b3ItcmFkaW9cIiB0eXBlPVwicmFkaW9cIiBuYW1lPVwibGluay1lZGl0b3ItdGFiLWdyb3VwXCIke2xpbmtUeXBlID09PSBMaW5rVHlwZS5QQUdFID8gJyBjaGVja2VkICcgOiAnJ30vPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibGluay1lZGl0b3ItdGFiIGxpbmstZWRpdG9yLXRhYi1pbnRlcm5hbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaW5rLWVkaXRvci10YWItY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibGluay1lZGl0b3ItcGFnZVwiPlBhZ2U8L2xhYmVsPlxuICAgICAgICAgICAgPHNlbGVjdCBhdXRvY29tcGxldGU9XCJub3BlXCIgY2xhc3M9XCJ0YWJiZWQgYWxlcnRpZnktdGV4dCBwYWdlIGJpZ1wiIGlkPVwibGluay1lZGl0b3ItcGFnZVwiPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCIke2xpbmtUeXBlID09PSBMaW5rVHlwZS5VUkwgPyAnIHNlbGVjdGVkICcgOiAnJ30+PC9vcHRpb24+XG4gICAgICAgICAgICAgICR7Z2V0UGFnZXMoKS5tYXAoKHBhZ2UpID0+IGA8b3B0aW9uIHZhbHVlPVwiJHtDb25zdGFudHMuUEFHRV9OQU1FX1BSRUZJWCArIHBhZ2UuaWR9XCIke2xpbmtUeXBlID09PSBMaW5rVHlwZS5QQUdFICYmIENvbnN0YW50cy5QQUdFX05BTUVfUFJFRklYICsgcGFnZS5pZCA9PT0gbGlua0RhdGEuaHJlZiA/ICcgc2VsZWN0ZWQgJyA6ICcnfSA+XG4gICAgICAgICAgICAgICAgJHtwYWdlLmRpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICA8L29wdGlvbj5gKX1cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxpbmstZWRpdG9yLXRhYi1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGluay1lZGl0b3ItMmNvbFwiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxpbmstZWRpdG9yLXRpdGxlXCI+VGl0bGU8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGF1dG9jb21wbGV0ZT1cIm5vcGVcIiBpZD1cImxpbmstZWRpdG9yLXRpdGxlXCIgY2xhc3M9XCJhbGVydGlmeS10ZXh0IHRpdGxlIGJpZ1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIke2xpbmtEYXRhLnRpdGxlfVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGhyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibGluay1lZGl0b3ItYWR2YW5jZWQtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGlucHV0IGF1dG9jb21wbGV0ZT1cIm5vcGVcIiBpZD1cImxpbmstZWRpdG9yLXNob3ctYWR2YW5jZWRcIiB0eXBlPVwiY2hlY2tib3hcIj5cbiAgICAgICAgICA8bGFiZWwgZm9yPVwibGluay1lZGl0b3Itc2hvdy1hZHZhbmNlZFwiPkFkdmFuY2VkIHBhcmFtczwvbGFiZWw+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxpbmstZWRpdG9yLWFkdmFuY2VkXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibGluay1lZGl0b3ItcmVsXCI+VGhlIFwicmVsXCIgYXR0cmlidXRlLiBEZXNjcmliZXMgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBjdXJyZW50IGRvY3VtZW50IGFuZCB0aGUgZGVzdGluYXRpb24uPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCBhdXRvY29tcGxldGU9XCJub3BlXCIgaWQ9XCJsaW5rLWVkaXRvci1yZWxcIiBjbGFzcz1cImFsZXJ0aWZ5LXRleHQgcmVsXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7bGlua0RhdGEucmVsfVwiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxpbmstZWRpdG9yLXR5cGVcIj5UaGUgXCJ0eXBlXCIgYXR0cmlidXRlLiBTcGVjaWZpZXMgdGhlIE1JTUUgdHlwZSBvZiB0aGUgbGlua2VkIHJlc291cmNlLjwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgYXV0b2NvbXBsZXRlPVwibm9wZVwiIGlkPVwibGluay1lZGl0b3ItdHlwZVwiIGNsYXNzPVwiYWxlcnRpZnktdGV4dCB0eXBlXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7bGlua0RhdGEudHlwZX1cIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJsaW5rLWVkaXRvci1kb3dubG9hZFwiPlRoZSBcImRvd25sb2FkXCIgYXR0cmlidXRlLiBJbmRpY2F0ZXMgdGhhdCB0aGUgbGluayBpcyB0byBiZSB1c2VkIGZvciBkb3dubG9hZGluZyBhIHJlc291cmNlIChzdWNoIGFzIGEgZmlsZSkuIFRoZSBhdXRob3IgY2FuIHNwZWNpZnkgYSBkZWZhdWx0IGZpbGUgbmFtZSBieSBwcm92aWRpbmcgYSB2YWx1ZS48L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGF1dG9jb21wbGV0ZT1cIm5vcGVcIiBpZD1cImxpbmstZWRpdG9yLWRvd25sb2FkXCIgY2xhc3M9XCJhbGVydGlmeS10ZXh0IGRvd25sb2FkXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7bGlua0RhdGEuZG93bmxvYWR9XCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICBgXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBDcm9zcyBwbGF0Zm9ybSwgaXQgbmVlZHMgdG8gcnVuIGNsaWVudCBhbmQgc2VydmVyIHNpZGVcbiAqXG4gKi9cblxuaW1wb3J0IHtcbiAgRWxlbWVudFN0YXRlLFxuICBFbGVtZW50SWQsXG4gIEVsZW1lbnRSZWN0LFxuICBFbGVtZW50VHlwZSxcbiAgRnVsbEJveCxcbiAgUmVjdCxcbiAgRWxlbWVudERhdGEsXG4gIExpbmtcbn0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IEZpbGVFeHBsb3JlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvZGlhbG9nL0ZpbGVFeHBsb3JlcidcbmltcG9ydCB7IEZpbGVJbmZvIH0gZnJvbSAnLi4vaW8vQ2xvdWRTdG9yYWdlJ1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBhZGRNZWRpYVF1ZXJ5LCBnZXREb21FbGVtZW50IH0gZnJvbSAnLi9kb20nXG5pbXBvcnQgeyBnZXRBbGxQYXJlbnRzLCBnZXRCb2R5LCBnZXRFbGVtZW50QnlJZCB9IGZyb20gJy4vZmlsdGVycydcbmltcG9ydCB7IGdldEVsZW1lbnRzLCBmcm9tRWxlbWVudERhdGEgfSBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHsgZ2V0U2l0ZSB9IGZyb20gJy4uL3NpdGUtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBpbml0Q29tcG9uZW50LCBpc0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50J1xuaW1wb3J0IHsgb3BlbkxpbmtEaWFsb2cgfSBmcm9tICcuLi9jb21wb25lbnRzL2RpYWxvZy9MaW5rRGlhbG9nJ1xuaW1wb3J0IHsgc3R5bGVUb1N0cmluZyB9IGZyb20gJy4uL3V0aWxzL3N0eWxlcydcblxuLyoqXG4gKiBjb25zdGFudCBmb3IgdGhlIHByZWZpeCBvZiB0aGUgSURzIGdpdmVuIHRvIFNpbGV4IGVkaXRhYmxlIGVsZW1lbnRzXG4gKi9cbmNvbnN0IEVMRU1FTlRfSURfUFJFRklYID0gJ3NpbGV4LWlkLSdcblxuLyoqXG4gKiBjb25zdGFudCBmb3IgZGVmYXVsdCBzaXplIG9mIGFuIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IElOSVRJQUxfRUxFTUVOVF9TSVpFID0gMTAwXG5cbi8qKlxuICogZ2V0IHRoZSBzdGF0ZXMgbmVlZGVkIHRvIGFkZCBhIG5ldyBlbGVtZW50IHRvIHRoZSBzdG9yZVxuICogQHJldHVybnMgW2VsZW1lbnRUb0JlQ3JlYXRlZCwgcGFyZW50VG9CZVVwZGF0ZWRdXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDcmVhdGVBY3Rpb24oe3R5cGUsIHBhcmVudCwgaXNTZWN0aW9uQ29udGVudCwgY29tcG9uZW50TmFtZX06IHtcbiAgdHlwZTogRWxlbWVudFR5cGUsXG4gIHBhcmVudDogRWxlbWVudFN0YXRlLFxuICBpc1NlY3Rpb25Db250ZW50OiBib29sZWFuLFxuICBjb21wb25lbnROYW1lPzogc3RyaW5nLFxufSk6IFByb21pc2U8W0VsZW1lbnRTdGF0ZSwgRWxlbWVudFN0YXRlXT4ge1xuICAvLyBjcmVhdGUgdGhlIGVsZW1lbnQgcmVhZHkgdG8gYmUgYWRkZWQgdG8gdGhlIHN0YWdlXG4gIGNvbnN0IFtlbGVtZW50XSA9IGZyb21FbGVtZW50RGF0YShbXG4gICAgZ2V0RW1wdHlFbGVtZW50RGF0YSh7XG4gICAgICBpZDogZ2V0TmV3SWQoKSxcbiAgICAgIHR5cGUsXG4gICAgICBpc1NlY3Rpb25Db250ZW50LFxuICAgICAgaXNCb2R5OiBmYWxzZVxuICAgIH0pXG4gIF0pXG4gIGNvbnN0IG5ld1BhcmVudCA9IHtcbiAgICAuLi5wYXJlbnQsXG4gICAgY2hpbGRyZW46IHBhcmVudC5jaGlsZHJlbi5jb25jYXQoZWxlbWVudC5pZCksXG4gIH1cblxuICAvLyBhcHBseSBjb21wb25lbnQgc3R5bGVzIGV0Y1xuICBpZiAoISFjb21wb25lbnROYW1lKSB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGF3YWl0IGluaXRDb21wb25lbnQoZWxlbWVudCwgY29tcG9uZW50TmFtZSlcbiAgICByZXR1cm4gW3tcbiAgICAgICAgLi4ubmV3RWxlbWVudCxcbiAgICAgICAgc2VsZWN0ZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgbmV3UGFyZW50LFxuICAgIF1cbiAgfVxuICByZXR1cm4gW3tcbiAgICAgIC4uLmVsZW1lbnQsXG4gICAgICBzZWxlY3RlZDogdHJ1ZSxcbiAgICB9LFxuICAgIG5ld1BhcmVudCxcbiAgXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW1wdHlFbGVtZW50RGF0YSh7aWQsIHR5cGUsIGlzU2VjdGlvbkNvbnRlbnQsIGlzQm9keX06IHtpZDogRWxlbWVudElkLCB0eXBlOiBFbGVtZW50VHlwZSwgaXNTZWN0aW9uQ29udGVudDogYm9vbGVhbiwgaXNCb2R5OiBib29sZWFufSk6IEVsZW1lbnREYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICB0YWdOYW1lOiB0eXBlID09PSBFbGVtZW50VHlwZS5TRUNUSU9OID8gJ1NFQ1RJT04nIDogJ0RJVicsXG4gICAgdHlwZSxcbiAgICBhbHQ6IG51bGwsXG4gICAgdGl0bGU6IG51bGwsXG4gICAgaXNTZWN0aW9uQ29udGVudCxcbiAgICB2aXNpYmlsaXR5OiB7XG4gICAgICBkZXNrdG9wOiB0cnVlLFxuICAgICAgbW9iaWxlOiB0cnVlLFxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGRlc2t0b3A6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoeyAvLyB0aGlzIHdpbGwgcmVtb3ZlIHRoZSB1bmRlZmluZWQgcHJvcHNcbiAgICAgICAgJ3dpZHRoJzogSU5JVElBTF9FTEVNRU5UX1NJWkUgKyAncHgnLFxuICAgICAgICAnaGVpZ2h0JzogSU5JVElBTF9FTEVNRU5UX1NJWkUgKyAncHgnLFxuICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6IHR5cGUgPT09IEVsZW1lbnRUeXBlLkhUTUwgfHwgdHlwZSA9PT0gRWxlbWVudFR5cGUuQ09OVEFJTkVSID8gJ3JnYigyNTUsIDI1NSwgMjU1KScgOiB1bmRlZmluZWQsXG4gICAgICAgIC4uLmdldERlZmF1bHRTdHlsZSh7dHlwZSwgaXNTZWN0aW9uQ29udGVudCwgaXNCb2R5fSksXG4gICAgICB9KSksXG4gICAgICBtb2JpbGU6IHt9LFxuICAgIH0sXG4gICAgZGF0YToge1xuICAgICAgY29tcG9uZW50OiBudWxsLFxuICAgIH0sXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIHBhZ2VOYW1lczogW10sXG4gICAgY2xhc3NMaXN0OiBbXSxcbiAgICBhdHRyOiB7fSxcbiAgICBsaW5rOiBudWxsLFxuICAgIGVuYWJsZUVkaXQ6IHR5cGUgIT09IEVsZW1lbnRUeXBlLlNFQ1RJT04gJiYgdHlwZSAhPT0gRWxlbWVudFR5cGUuQ09OVEFJTkVSLFxuICAgIGVuYWJsZURyYWc6IC8qIHR5cGUgIT09IEVsZW1lbnRUeXBlLlNFQ1RJT04gJiYgKi8gIWlzU2VjdGlvbkNvbnRlbnQsXG4gICAgZW5hYmxlRHJvcDogdHlwZSA9PT0gRWxlbWVudFR5cGUuU0VDVElPTiB8fCB0eXBlID09PSBFbGVtZW50VHlwZS5DT05UQUlORVIsXG4gICAgZW5hYmxlUmVzaXplOiB0eXBlID09PSBFbGVtZW50VHlwZS5TRUNUSU9OID8geyB0b3A6IGZhbHNlLCBib3R0b206IGZhbHNlLCBsZWZ0OiBmYWxzZSwgcmlnaHQ6IGZhbHNlIH1cbiAgICAgIDogaXNTZWN0aW9uQ29udGVudCA/IHsgdG9wOiB0cnVlLCBib3R0b206IHRydWUsIGxlZnQ6IHRydWUsIHJpZ2h0OiB0cnVlIH1cbiAgICAgIDogeyB0b3A6IHRydWUsIGJvdHRvbTogdHJ1ZSwgbGVmdDogdHJ1ZSwgcmlnaHQ6IHRydWUgfSxcbiAgICBzZWxlY3RlZDogZmFsc2UsIC8vIHdlIHNpbGwgbWFrZSBpdCBzZWxlY3RlZCBhZnRlcndhcmRzIHNvIHRoYXQgb2JzZXJ2ZXIgZ2V0IGl0XG4gICAgdXNlTWluSGVpZ2h0OiB0eXBlICE9PSBFbGVtZW50VHlwZS5JTUFHRSxcbiAgICBpbm5lckh0bWw6IHR5cGUgPT09IEVsZW1lbnRUeXBlLlRFWFQgPyAnTmV3IHRleHQgYm94J1xuICAgICAgOiB0eXBlID09PSBFbGVtZW50VHlwZS5IVE1MID8gJzxwPk5ldyA8c3Ryb25nPkhUTUw8L3N0cm9uZz4gYm94PC9wPidcbiAgICAgIDogJycsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRTdHlsZSh7dHlwZSwgaXNTZWN0aW9uQ29udGVudCwgaXNCb2R5fToge3R5cGU6IEVsZW1lbnRUeXBlLCBpc1NlY3Rpb25Db250ZW50OiBib29sZWFuLCBpc0JvZHk6IGJvb2xlYW59KSB7XG4gICAgLy8gZGVmaW5lIHRoZSB0eXBlIHNwZWNpZmljIHN0eWxlc1xuICAgIGNvbnN0IGVkaXRhYmxlU3R5bGUgPSB7IC8vIGFsbCBlbGVtZW50c1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgfVxuICAgIGNvbnN0IGJvZHlTdHlsZSA9IHsgLy8gb25seSB0aGUgYm9keVxuICAgICAgcG9zaXRpb246ICdzdGF0aWMnLFxuICAgIH1cbiAgICBjb25zdCBzZWN0aW9uID0geyAvLyBzZWN0aW9uc1xuICAgICAgJ3Bvc2l0aW9uJzogJ3N0YXRpYycsXG4gICAgICAndG9wJzogdW5kZWZpbmVkLFxuICAgICAgJ2xlZnQnOiB1bmRlZmluZWQsXG4gICAgICAnaGVpZ2h0JzogdW5kZWZpbmVkLFxuICAgICAgJ3dpZHRoJzogdW5kZWZpbmVkLFxuICAgIH1cbiAgICBjb25zdCBzZWN0aW9uQ29udGVudCA9IHsgLy8gc2VjdGlvbiBjb250YWluZXJzXG4gICAgICAncG9zaXRpb24nOiAncmVsYXRpdmUnLFxuICAgICAgJ3RvcCc6IHVuZGVmaW5lZCxcbiAgICAgICdsZWZ0JzogdW5kZWZpbmVkLFxuICAgICAgJ3dpZHRoJzogdW5kZWZpbmVkLFxuICAgICAgJ21hcmdpbi1sZWZ0JzogJ2F1dG8nLFxuICAgICAgJ21hcmdpbi1yaWdodCc6ICdhdXRvJyxcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZWRpdGFibGVTdHlsZSwgdHlwZSA9PT0gRWxlbWVudFR5cGUuU0VDVElPTiA/IHNlY3Rpb24gOiBpc1NlY3Rpb25Db250ZW50ID8gc2VjdGlvbkNvbnRlbnQgOiBpc0JvZHkgPyBib2R5U3R5bGUgOiB7fSlcbn1cblxubGV0IG5leHRJZCA9IDBcblxuLyoqXG4gKiBDcmVhdGUgbmV3IElEc1xuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUVsZW1lbnRJZCgpOiBFbGVtZW50SWQge1xuICBsZXQgdW5pcXVlSWRcbiAgZG8ge1xuICAgIHVuaXF1ZUlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpICsgJy0nICsgbmV4dElkKytcbiAgfSB3aGlsZSAoZ2V0RWxlbWVudEJ5SWQodW5pcXVlSWQpKVxuICByZXR1cm4gdW5pcXVlSWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0lkKCkge1xuICByZXR1cm4gRUxFTUVOVF9JRF9QUkVGSVggKyBnZW5lcmF0ZUVsZW1lbnRJZCgpXG59XG5cbi8qKlxuICogZ2V0IGEgZ2l2ZW4gc3R5bGUgZm9yIGFuIGVsZW1lbnRcbiAqIHRvIGdldCB0aGUgbW9iaWxlIHN0eWxlIHdlIG1heSByZXR1cm4gdGhlIGRlc2t0b3Agc3R5bGVcbiAqIGJlY2F1c2Ugb24gbW9iaWxlIHdlIGFwcGx5IHRoZSBkZXNrdG9wIHN0eWxlIHVubGVzcyBvdmVycmlkZW4gZm9yIG1vYmlsZSBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudDogRWxlbWVudFN0YXRlLCBzdHlsZU5hbWU6IHN0cmluZywgbW9iaWxlOiBib29sZWFuKSB7XG4gIGlmIChtb2JpbGUpIHtcbiAgICByZXR1cm4gdHlwZW9mKGVsZW1lbnQuc3R5bGUubW9iaWxlW3N0eWxlTmFtZV0pICE9PSAndW5kZWZpbmVkJyA/XG4gICAgICBlbGVtZW50LnN0eWxlLm1vYmlsZVtzdHlsZU5hbWVdIDpcbiAgICAgIChzdHlsZU5hbWUgPT09ICdsZWZ0JyB8fCBzdHlsZU5hbWUgPT09ICd0b3AnKSAmJiAoIWVsZW1lbnQuc3R5bGUubW9iaWxlLmRpc3BsYXkgfHwgZWxlbWVudC5zdHlsZS5tb2JpbGUuZGlzcGxheSA9PT0gJ3N0YXRpYycpID9cbiAgICAgICAgdW5kZWZpbmVkIDpcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kZXNrdG9wW3N0eWxlTmFtZV1cbiAgfVxuICByZXR1cm4gZWxlbWVudC5zdHlsZS5kZXNrdG9wW3N0eWxlTmFtZV1cbn1cblxuLy8gLyoqXG4vLyAgKiBnZXQgYW4gZWxlbWVudCBzaXplXG4vLyAgKiB0aGlzIHRha2VzIGludG8gYWNjb3VudCBhbGwgY2FzZXMsIGkuZS4gZWxlbWVudCB3aXRoIHN0eWxlLCBzZWN0aW9uIHdpZHRoLCBzZWN0aW9uIGhlaWdodCwgc2VjdGlvbiBjb250YWluZXIgd2hpZHRoXG4vLyAgKiBhbHNvIHRha2VzIHRoZSBtYXggd2lkdGggaW4gbW9iaWxlIGVkaXRvclxuLy8gICovXG4vLyBleHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFNpemUod2luOiBXaW5kb3csIGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSwgbW9iaWxlOiBib29sZWFuLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpOiBTaXplIHtcbi8vICAgY29uc3QgcmVzdWx0OiBTaXplID0ge3dpZHRoOiAtMSwgaGVpZ2h0OiAtMX1cbi8vICAgY29uc3Qgd2lkdGggPSBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ3dpZHRoJywgbW9iaWxlKVxuLy8gICBpZiAod2lkdGgpIHJlc3VsdC53aWR0aCA9IHBhcnNlSW50KHdpZHRoKVxuLy8gICBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09IEVsZW1lbnRUeXBlLlNFQ1RJT04pIHJlc3VsdC53aWR0aCA9IHdpbi5pbm5lcldpZHRoXG4vLyAgIGVsc2UgaWYgKGVsZW1lbnQuaXNTZWN0aW9uQ29udGVudCkgcmVzdWx0LndpZHRoID0gZ2V0U2l0ZSgpLndpZHRoXG4vLyAgIGVsc2Uge1xuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBjb250YWluZXIgaGFzIG5vIHdpZHRoJywgZWxlbWVudClcbi8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3QgZ2V0IHNpemUgb2YgdGhpcyBlbGVtZW50IGFzIGl0IGhhcyBubyB3aWR0aCcpXG4vLyAgIH1cbi8vICAgaWYgKG1vYmlsZSkgcmVzdWx0LndpZHRoID0gTWF0aC5taW4ocmVzdWx0LndpZHRoLCBDb25zdGFudHMuTU9CSUxFX0JSRUFLUE9JTlQpXG4vL1xuLy8gICBjb25zdCBoZWlnaHQgPSBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ2hlaWdodCcsIG1vYmlsZSlcbi8vICAgaWYgKGhlaWdodCkgcmVzdWx0LmhlaWdodCA9IHBhcnNlSW50KGhlaWdodClcbi8vICAgZWxzZSBpZiAoZWxlbWVudC50eXBlID09PSBFbGVtZW50VHlwZS5TRUNUSU9OKSB7XG4vLyAgICAgY29uc3Qgc2VjdGlvbkNvbnRlbnQgPSBnZXRDaGlsZHJlbihlbGVtZW50LCBlbGVtZW50cykuZmluZCgoZWwpID0+IGVsLmlzU2VjdGlvbkNvbnRlbnQpXG4vLyAgICAgaWYoc2VjdGlvbkNvbnRlbnQpIHJlc3VsdC5oZWlnaHQgPSBnZXRFbGVtZW50U2l6ZSh3aW4sIHNlY3Rpb25Db250ZW50LCBtb2JpbGUpLmhlaWdodFxuLy8gICAgIGVsc2UgcmVzdWx0LmhlaWdodCA9IDBcbi8vICAgICAvLyBlbHNlIHJlc3VsdC5oZWlnaHQgPSBwYXJzZUludChnZXRTdHlsZShzZWN0aW9uQ29udGVudCwgJ2hlaWdodCcsIG1vYmlsZSkpXG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgY29uc29sZS5lcnJvcignRXJyb3I6IGNvbnRhaW5lciBoYXMgbm8gaGVpZ2h0JywgZWxlbWVudClcbi8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3QgZ2V0IHNpemUgb2YgdGhpcyBlbGVtZW50IGFzIGl0IGhhcyBubyBoZWlnaHQnKVxuLy8gICB9XG4vLyAgIHJldHVybiByZXN1bHRcbi8vIH1cblxuLy8gLyoqXG4vLyAgKiBjb21wdXRlIG5ldyBlbGVtZW50IGRhdGFcbi8vICAqIGNlbnRlciB0aGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyXG4vLyAgKi9cbi8vIGV4cG9ydCBmdW5jdGlvbiBjZW50ZXIoe2VsZW1lbnQsIHBhcmVudCwgd2luLCBvcHRfb2Zmc2V0ID0gMH06IHtcbi8vICAgd2luOiBXaW5kb3csXG4vLyAgIGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSxcbi8vICAgcGFyZW50OiBFbGVtZW50U3RhdGUsXG4vLyAgIG9wdF9vZmZzZXQ/OiBudW1iZXIsXG4vLyB9KTogUG9pbnQge1xuLy8gICBjb25zdCBwYXJlbnRTaXplID0gZ2V0RWxlbWVudFNpemUod2luLCBwYXJlbnQsIGZhbHNlKVxuLy8gICBjb25zdCBlbGVtZW50U2l6ZSA9IGdldEVsZW1lbnRTaXplKHdpbiwgZWxlbWVudCwgZmFsc2UpXG4vL1xuLy8gICBjb25zdCBwb3NYID0gTWF0aC5yb3VuZCgocGFyZW50U2l6ZS53aWR0aCAvIDIpIC0gKGVsZW1lbnRTaXplLndpZHRoIC8gMikpXG4vLyAgIGNvbnN0IHBvc1kgPSBNYXRoLnJvdW5kKChwYXJlbnRTaXplLmhlaWdodCAvIDIpIC0gKGVsZW1lbnRTaXplLmhlaWdodCAvIDIpKVxuLy8gICByZXR1cm4ge1xuLy8gICAgIHRvcDogb3B0X29mZnNldCArIHBvc1ksXG4vLyAgICAgbGVmdDogb3B0X29mZnNldCArIHBvc1gsXG4vLyAgIH1cbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRSZWN0KGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSwgbW9iaWxlOiBib29sZWFuKTogRWxlbWVudFJlY3Qge1xuICBpZiAoZWxlbWVudC5pc1NlY3Rpb25Db250ZW50ICYmICFtb2JpbGUpIHJldHVybiB7XG4gICAgdG9wOiBudWxsLFxuICAgIGxlZnQ6IG51bGwsXG4gICAgd2lkdGg6IGdldFNpdGUoKS53aWR0aCArICdweCcsXG4gICAgaGVpZ2h0OiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ2hlaWdodCcsIG1vYmlsZSksXG4gIH1cbiAgZWxzZSByZXR1cm4ge1xuICAgIHRvcDogZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICd0b3AnLCBtb2JpbGUpLFxuICAgIGxlZnQ6IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnbGVmdCcsIG1vYmlsZSksXG4gICAgd2lkdGg6IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnd2lkdGgnLCBtb2JpbGUpLFxuICAgIGhlaWdodDogZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICdoZWlnaHQnLCBtb2JpbGUpLFxuICB9XG59XG5cbi8qKlxuICogZ2V0IHRoZSBib3VuZGluZyBib3ggb2Ygc29tZSBlbGVtZW50cyByZWxhdGl2ZSB0byB0aGVpciBjb21tb24gcGFyZW50XG4gKiB3aWR0aCwgaGVpZ2h0LCB0b3AsIGxlZnQsIHJpZ2h0IGludGVnZXJzIGluIHBpeGVsc1xuICogQWNodHVuZzogZWxlbWVudHMgbmVlZCB0byBoYXZlIHRoZWlyIHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCBzdHlsZXMgc2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3VuZGluZ0JveChyZWN0czogRWxlbWVudFJlY3RbXSk6IEZ1bGxCb3gge1xuICByZXR1cm4gcmVjdHMucmVkdWNlKChhZ2dyLCByZWN0KSA9PiB7XG4gICAgY29uc3QgYm94OiBGdWxsQm94ID0ge1xuICAgICAgdG9wOiBwYXJzZUludChyZWN0LnRvcCB8fCAnMCcpLFxuICAgICAgbGVmdDogcGFyc2VJbnQocmVjdC5sZWZ0IHx8ICcwJyksXG4gICAgICB3aWR0aDogcGFyc2VJbnQocmVjdC53aWR0aCB8fCAnMCcpLFxuICAgICAgaGVpZ2h0OiBwYXJzZUludChyZWN0LmhlaWdodCB8fCAnMCcpLFxuICAgICAgYm90dG9tOiBwYXJzZUludChyZWN0LnRvcCB8fCAnMCcpICsgcGFyc2VJbnQocmVjdC5oZWlnaHQgfHwgJzAnKSxcbiAgICAgIHJpZ2h0OiBwYXJzZUludChyZWN0LmxlZnQgfHwgJzAnKSArIHBhcnNlSW50KHJlY3Qud2lkdGggfHwgJzAnKSxcbiAgICB9XG4gICAgY29uc3QgbmV3UmVjdDogUmVjdDxudW1iZXI+ID0ge1xuICAgICAgdG9wOiBNYXRoLm1pbihhZ2dyLnRvcCwgYm94LnRvcCksXG4gICAgICBsZWZ0OiBNYXRoLm1pbihhZ2dyLmxlZnQsIGJveC5sZWZ0KSxcbiAgICAgIGJvdHRvbTogTWF0aC5tYXgoYWdnci5ib3R0b20sIGJveC5ib3R0b20pLFxuICAgICAgcmlnaHQ6IE1hdGgubWF4KGFnZ3IucmlnaHQsIGJveC5yaWdodCksXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5uZXdSZWN0LFxuICAgICAgd2lkdGg6IG5ld1JlY3QucmlnaHQgLSBuZXdSZWN0LmxlZnQsXG4gICAgICBoZWlnaHQ6IG5ld1JlY3QuYm90dG9tIC0gbmV3UmVjdC50b3AsXG4gICAgfVxuICB9LCB7XG4gICAgdG9wOiBJbmZpbml0eSxcbiAgICBsZWZ0OiBJbmZpbml0eSxcbiAgICBib3R0b206IC1JbmZpbml0eSxcbiAgICByaWdodDogLUluZmluaXR5LFxuICAgIHdpZHRoOiAtSW5maW5pdHksXG4gICAgaGVpZ2h0OiAtSW5maW5pdHksXG4gIH0gYXMgRnVsbEJveClcbn1cblxuLy8gLyoqXG4vLyAgKiBnZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBzb21lIGVsZW1lbnRzIHJlbGF0aXZlIHRvIHRoZWlyIGNvbW1vbiBwYXJlbnRcbi8vICAqIHdpZHRoLCBoZWlnaHQsIHRvcCwgbGVmdCwgcmlnaHQgaW50ZWdlcnMgaW4gcGl4ZWxzXG4vLyAgKiBBY2h0dW5nOiBlbGVtZW50cyBuZWVkIHRvIGhhdmUgdGhlaXIgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IHN0eWxlcyBzZXRcbi8vICAqL1xuLy8gZXhwb3J0IGZ1bmN0aW9uIGdldEJvdW5kaW5nQm94KGVsZW1lbnRzOiBFbGVtZW50RGF0YVtdLCBtb2JpbGU6IGJvb2xlYW4pOiBGdWxsQm94IHtcbi8vICAgLy8gZmlyc3QgY2hlY2sgdGhhdCBlbGVtZW50cyBoYXZlIHRoZSByZXF1aXJlZCBwcm9wZXJ0aWVzIGFuZCBzaGFyZSB0aGUgc2FtZSBwYXJlbnRcbi8vICAgaWYgKGVsZW1lbnRzXG4vLyAgICAgLnNvbWUoKGVsZW1lbnQpID0+ICFbJ3RvcCcsICdsZWZ0JywgJ3dpZHRoJywgJ2hlaWdodCddXG4vLyAgICAgICAgIC5ldmVyeSgocHJvcCkgPT4gZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsIHByb3AsIG1vYmlsZSkgIT09IHVuZGVmaW5lZCkpKSB7XG4vLyAgICAgcmV0dXJuIG51bGxcbi8vICAgfVxuLy9cbi8vICAgLy8gY29tcHV0ZSB0aGUgYm94IGRpbWVudGlvbnNcbi8vICAgcmV0dXJuIGVsZW1lbnRzLnJlZHVjZSgoYWdnciwgZWxlbWVudCkgPT4ge1xuLy8gICAgIGNvbnN0IGJveDogRnVsbEJveCA9IHtcbi8vICAgICAgIHRvcDogcGFyc2VJbnQoZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICd0b3AnLCBtb2JpbGUpKSxcbi8vICAgICAgIGxlZnQ6IHBhcnNlSW50KGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnbGVmdCcsIG1vYmlsZSkpLFxuLy8gICAgICAgd2lkdGg6IHBhcnNlSW50KGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnd2lkdGgnLCBtb2JpbGUpKSxcbi8vICAgICAgIGhlaWdodDogcGFyc2VJbnQoZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICdoZWlnaHQnLCBtb2JpbGUpKSxcbi8vICAgICAgIGJvdHRvbTogcGFyc2VJbnQoZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICd0b3AnLCBtb2JpbGUpKSArIHBhcnNlSW50KGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnaGVpZ2h0JywgbW9iaWxlKSksXG4vLyAgICAgICByaWdodDogcGFyc2VJbnQoZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICdsZWZ0JywgbW9iaWxlKSkgKyBwYXJzZUludChnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ3dpZHRoJywgbW9iaWxlKSksXG4vLyAgICAgfVxuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICB0b3A6IE1hdGgubWluKGFnZ3IudG9wLCBib3gudG9wKSxcbi8vICAgICAgIGxlZnQ6IE1hdGgubWluKGFnZ3IubGVmdCwgYm94LmxlZnQpLFxuLy8gICAgICAgYm90dG9tOiBNYXRoLm1heChhZ2dyLmJvdHRvbSwgYm94LmJvdHRvbSksXG4vLyAgICAgICByaWdodDogTWF0aC5tYXgoYWdnci5yaWdodCwgYm94LnJpZ2h0KSxcbi8vICAgICAgIHdpZHRoOiBNYXRoLm1heChhZ2dyLndpZHRoLCBib3gud2lkdGgpLFxuLy8gICAgICAgaGVpZ2h0OiBNYXRoLm1heChhZ2dyLmhlaWdodCwgYm94LmhlaWdodCksXG4vLyAgICAgfVxuLy8gICB9LCB7XG4vLyAgICAgdG9wOiBJbmZpbml0eSxcbi8vICAgICBsZWZ0OiBJbmZpbml0eSxcbi8vICAgICBib3R0b206IC1JbmZpbml0eSxcbi8vICAgICByaWdodDogLUluZmluaXR5LFxuLy8gICAgIHdpZHRoOiAtSW5maW5pdHksXG4vLyAgICAgaGVpZ2h0OiAtSW5maW5pdHksXG4vLyAgIH0gYXMgRnVsbEJveClcbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENyZWF0aW9uRHJvcFpvbmUoaXNTZWN0aW9uOiBib29sZWFuLCBzdGFnZUVsOiBIVE1MSUZyYW1lRWxlbWVudCk6IEVsZW1lbnRTdGF0ZSB7XG4gIGlmIChpc1NlY3Rpb24pIHtcbiAgICByZXR1cm4gZ2V0Qm9keSgpXG4gIH1cbiAgLy8gb3RoZXIgdGhhbiBzZWN0aW9uc1xuICAvLyBmaW5kIHRoZSB0b3Btb3N0IGVsZW1lbnQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc3RhZ2VcbiAgY29uc3QgZG9jID0gc3RhZ2VFbC5jb250ZW50RG9jdW1lbnRcblxuICAvLyBjb21wdXRlIHN0YWdlIHNpemVcbiAgY29uc3Qgc3RhZ2VTaXplID0gc3RhZ2VFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICBjb25zdCBwb3NYID0gTWF0aC5yb3VuZCgoc3RhZ2VTaXplLndpZHRoIC8gMikpIC8vIC0gKHdpZHRoIC8gMikpXG4gIGNvbnN0IHBvc1kgPSBNYXRoLnJvdW5kKChzdGFnZVNpemUuaGVpZ2h0IC8gMikpIC8vIC0gKGhlaWdodCAvIDIpKVxuXG4gIC8vIGZpbmQgdGhlIHRwb3Btb3N0IGluIHRoZSBET01cbiAgcmV0dXJuIGRvYy5lbGVtZW50c0Zyb21Qb2ludChwb3NYLCBwb3NZKVxuICAgICAgLy8gcmV0cmlldmUgdGhlIG1vZGVsIHdoaWNoIGhvbGRzIHRoaXMgSFRNTCBlbGVtZW50XG4gICAgLm1hcCgoZG9tRWwpID0+IGdldEVsZW1lbnRzKCkuZmluZCgoZWwpID0+IGdldERvbUVsZW1lbnQoZG9jLCBlbCkgPT09IGRvbUVsKSlcbiAgICAuZmlsdGVyKChlbCkgPT4gISFlbCAmJiBlbC5lbmFibGVEcm9wKVxuICAgIC8vIGp1c3QgdGhlIHRvcCBtb3N0IGVsZW1lbnRcbiAgICAuc2hpZnQoKVxufVxuXG4vKipcbiAqIGdldCB0aGUgZmluYWwgc3R5bGUgZm9yIHRoZSBlbGVtZW50IHRvIGJlIGNlbnRlcmVkIGluIHRoZSB2aWV3cG9ydFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHJvcFN0eWxlKHtcbiAgc3RhZ2VTaXplLFxuICBwYXJlbnRTaXplLFxuICBlbGVtZW50U2l6ZSxcbiAgb2Zmc2V0ID0gMFxufSk6IHt0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyfSB7XG4gIC8vIGdldCBjb29yZHMgb2YgZWxlbWVudCB0byBiZSBpbiB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICBjb25zdCB0b3BDZW50ZXIgPSBNYXRoLnJvdW5kKChzdGFnZVNpemUuaGVpZ2h0IC8gMikgLSAoZWxlbWVudFNpemUuaGVpZ2h0IC8gMikgLSBwYXJlbnRTaXplLnRvcClcbiAgY29uc3QgbGVmdENlbnRlciA9IE1hdGgucm91bmQoKHN0YWdlU2l6ZS53aWR0aCAvIDIpIC0gKGVsZW1lbnRTaXplLndpZHRoIC8gMikgLSBwYXJlbnRTaXplLmxlZnQpXG5cbiAgLy8gYXBwbHkgb2Zmc2V0XG4gIGNvbnN0IHRvcE9mZnNldCA9IHRvcENlbnRlciArIG9mZnNldFxuICBjb25zdCBsZWZ0T2Zmc2V0ID0gbGVmdENlbnRlciArIG9mZnNldFxuXG4gIC8vIGNvbnN0cmFpbiB0aGUgZWxlbWVudCB0byBiZSBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICBjb25zdCB0b3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0b3BPZmZzZXQsIHBhcmVudFNpemUuaGVpZ2h0IC0gZWxlbWVudFNpemUuaGVpZ2h0KSlcbiAgY29uc3QgbGVmdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGxlZnRPZmZzZXQsIHBhcmVudFNpemUud2lkdGggLSBlbGVtZW50U2l6ZS53aWR0aCkpXG5cbiAgcmV0dXJuIHt0b3AsIGxlZnR9XG59XG5cbi8qKlxuICogZ2V0IGEgaHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhpcyBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZShlbGVtZW50OiBFbGVtZW50U3RhdGUpOiBzdHJpbmcge1xuICBpZiAoaXNDb21wb25lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gYCR7IGVsZW1lbnQuZGF0YS5jb21wb25lbnQudGVtcGxhdGVOYW1lfWBcbiAgfVxuICBpZiAoZWxlbWVudC5pc1NlY3Rpb25Db250ZW50KSB7XG4gICAgcmV0dXJuICdTZWN0aW9uIENvbnRhaW5lcidcbiAgfVxuXG4gIHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XG4gICAgY2FzZSBFbGVtZW50VHlwZS5URVhUOiByZXR1cm4gJ1RleHQnXG4gICAgY2FzZSBFbGVtZW50VHlwZS5JTUFHRTogcmV0dXJuICdJbWFnZSdcbiAgICBjYXNlIEVsZW1lbnRUeXBlLkNPTlRBSU5FUjogcmV0dXJuICdDb250YWluZXInXG4gICAgY2FzZSBFbGVtZW50VHlwZS5IVE1MOiByZXR1cm4gJ0h0bWwnXG4gICAgLy8gY2FzZSBFbGVtZW50VHlwZS5DT05UQUlORVJfQ09OVEVOVDogcmV0dXJuICdDb250YWluZXInO1xuICAgIGNhc2UgRWxlbWVudFR5cGUuU0VDVElPTjogcmV0dXJuICdTZWN0aW9uJ1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIGRvYyBkb2NtZW50IG9mIHRoZSBpZnJhbWUgY29udGFpbmluZyB0aGUgd2Vic2l0ZVxuICogQHJldHVybiB0aGUgc3RyaW5nIGRlZmluaW5nIGFsbCBlbGVtZW50cyBzdHlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFN0eWxlcygpOiBzdHJpbmcge1xuICBjb25zdCBzdHlsZXMgPSBnZXRFbGVtZW50cygpXG4gIC5tYXAoKGVsKSA9PiAoe1xuICAgIGRlc2t0b3A6IE9iamVjdC5rZXlzKGVsLnN0eWxlLmRlc2t0b3ApLmxlbmd0aCA/IGVsLnN0eWxlLmRlc2t0b3AgOiBudWxsLFxuICAgIG1vYmlsZTogT2JqZWN0LmtleXMoZWwuc3R5bGUubW9iaWxlKS5sZW5ndGggPyBlbC5zdHlsZS5tb2JpbGUgOiBudWxsLFxuICAgIHVzZU1pbkhlaWdodDogZWwudXNlTWluSGVpZ2h0LFxuICAgIGlkOiBlbC5pZCxcbiAgfSkpXG4gIC5yZWR1Y2UoKHByZXYsIHttb2JpbGUsIGRlc2t0b3AsIHVzZU1pbkhlaWdodCwgaWR9KSA9PiAoe1xuICAgIGRlc2t0b3A6IHByZXYuZGVza3RvcCArIChkZXNrdG9wID8gYFxcbi4ke2lkfSB7XFxuJHtzdHlsZVRvU3RyaW5nKGRlc2t0b3AsIHVzZU1pbkhlaWdodCwgJ1xcbiAgICAnKX1cXG59XFxuYCA6ICcnKSxcbiAgICBtb2JpbGU6IHByZXYubW9iaWxlICsgKG1vYmlsZSA/IGBcXG4uJHtpZH0ge1xcbiR7c3R5bGVUb1N0cmluZyhtb2JpbGUsIHVzZU1pbkhlaWdodCwgJ1xcbiAgICAnKX1cXG59XFxuYCA6ICcnKSxcbiAgfSksIHtcbiAgICBkZXNrdG9wOiAnJyxcbiAgICBtb2JpbGU6ICcnLFxuICB9KVxuICByZXR1cm4gYCR7c3R5bGVzLmRlc2t0b3B9XFxuXFxuJHthZGRNZWRpYVF1ZXJ5KHN0eWxlcy5tb2JpbGUpfVxcbmBcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBlbGVtZW50IGFuZCBhbGwgb2YgaXRzIHBhcmVudHMgYXJlIHZpc2libGUgaW4gdGhlIGdpdmVuIHBhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZUluUGFnZShlbGVtZW50OiBFbGVtZW50U3RhdGUsIHBhZ2VJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhZ2V0QWxsUGFyZW50cyhlbGVtZW50KVxuICAgIC5jb25jYXQoZWxlbWVudClcbiAgICAvLyBmaW5kIG9uZSB3aGljaCBpcyBub3QgdmlzaWJsZSA9PiBicmVha1xuICAgIC5maW5kKChlbCkgPT4gZWwucGFnZU5hbWVzLmxlbmd0aCA+IDAgJiYgIWVsLnBhZ2VOYW1lcy5pbmNsdWRlcyhwYWdlSWQpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZWRpdExpbmsoZTogRXZlbnQsIGxpbmtEYXRhOiBMaW5rLCBjYms6IChwMTogTGluaykgPT4gYW55KSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICBvcGVuTGlua0RpYWxvZyh7XG4gICAgZGF0YTogbGlua0RhdGEsXG4gICAgY2JrLFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYnJvd3NlKGU6IEV2ZW50LCBjYms6IChwMTogRmlsZUluZm9bXSkgPT4gYW55KSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuXG4gIC8vIGJyb3dzZSB3aXRoIENFXG4gIGNvbnN0IHByb21pc2UgPSBGaWxlRXhwbG9yZXIuZ2V0SW5zdGFuY2UoKS5vcGVuRmlsZSgpXG5cbiAgLy8gaGFuZGxlIHRoZSByZXN1bHRcbiAgcHJvbWlzZVxuICAudGhlbigoZmlsZUluZm86IEZpbGVJbmZvKSA9PiB7XG4gICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICBjYmsoW2ZpbGVJbmZvXSlcbiAgICB9XG4gIH0pXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBOb3RpZmljYXRpb24ubm90aWZ5RXJyb3IoJ0Vycm9yOiBJIGNvdWxkIG5vdCBzZWxlY3QgdGhlIGZpbGUuIDxiciAvPjxiciAvPicgKyAoZXJyb3IubWVzc2FnZSB8fCAnJykpXG4gIH0pXG59XG5cbi8qKlxuICogZ2V0IHRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgRE9NXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mRWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCk6IG51bWJlciB7XG4gIGNvbnN0IGxlbiA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aFxuICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzW2lkeF0gPT09IGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBpZHhcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xXG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgaGVscGVycyB0byBkaXNwYXRjaCBjb21tb24gYWN0aW9ucyBvbiB0aGUgc3RvcmVcbiAqIFRPRE86IDEtIHJlbW92ZSBhbGwgcmVmZXJlbmNlcyB0byB0aGUgc3RvcmUgb3IgZGlzcGF0Y2ggPT4gZXZlcnkgZnVuY3Rpb24gc2hvdWxkIHRha2UgRWxlbWVudFN0YXRlW10gYW5kIHJldHVybiB0aGUgY2hhbmdlcyB0byBiZSBtYWRlIGFzIGFuIEVsZW1lbnRTdGF0ZVtdXG4gKiBUT0RPOiAyLSBtb3ZlIHRoaXMgZmlsZSB0byBhIGNyb3NzIHBsYXRmb3JtIHBhY2thZ2UgKGUuZy4gaW4gc3JjL3RzL2hlbHBlcnMvKVxuICovXG5cbmltcG9ydCB7XG4gIEF0dHIsXG4gIERpcmVjdGlvbixcbiAgRG9tRGlyZWN0aW9uLFxuICBFbGVtZW50U3RhdGUsXG4gIEVsZW1lbnRUeXBlLFxuICBMaW5rLFxuICBTdHlsZU9iamVjdFxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgQ3NzUnVsZSB9IGZyb20gJy4uL3NpdGUtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBQYWdlU3RhdGUgfSBmcm9tICcuLi9wYWdlLXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBhZGRUb01vYmlsZU9yRGVza3RvcFN0eWxlIH0gZnJvbSAnLi4vdXRpbHMvc3R5bGVzJ1xuaW1wb3J0IHtcbiAgY3JlYXRlRWxlbWVudHMsXG4gIGRlbGV0ZUVsZW1lbnRzLFxuICBnZXRFbGVtZW50cyxcbiAgdXBkYXRlRWxlbWVudHNcbn0gZnJvbSAnLi9pbmRleCdcbmltcG9ydCB7XG4gIGdldEJvZHksXG4gIGdldENoaWxkcmVuUmVjdXJzaXZlLFxuICBnZXRFbGVtZW50QnlJZCxcbiAgZ2V0Rmlyc3RQYWdlZFBhcmVudCxcbiAgZ2V0UGFyZW50LFxuICBnZXRTZWxlY3RlZEVsZW1lbnRzLFxuICBpc0JvZHksXG4gIG5vU2VjdGlvbkNvbnRlbnQsXG4gIGdldFNlbGVjdGVkRWxlbWVudHNOb1NlY3Rpb25Db250ZW50XG59IGZyb20gJy4vZmlsdGVycydcbmltcG9ydCB7IGdldENyZWF0ZUFjdGlvbiB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBnZXREb21FbGVtZW50IH0gZnJvbSAnLi9kb20nXG5pbXBvcnQgeyBnZXRTaXRlRG9jdW1lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1NpdGVGcmFtZSdcbmltcG9ydCB7IGdldFVpIH0gZnJvbSAnLi4vdWktc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBpbnNlcnRBdCB9IGZyb20gJy4uL3V0aWxzL2FycmF5J1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi9zdG9yZS9pbmRleCdcblxuLyoqXG4gKiBzZWxlY3QgdGhlIGJvZHkgYW5kIG9ubHkgdGhlIGJvZHlcbiAqL1xuZXhwb3J0IGNvbnN0IHNlbGVjdEJvZHkgPSAoZWxlbWVudHMgPSBnZXRFbGVtZW50cygpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSA9PiB7XG4gIHNlbGVjdEVsZW1lbnRzKFtnZXRCb2R5KGVsZW1lbnRzKV0sIGVsZW1lbnRzLCBkaXNwYXRjaClcbn1cblxuLyoqXG4gKiBzZWxlY3QgYSBzZXQgb2YgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGNvbnN0IHNlbGVjdEVsZW1lbnRzID0gKHNlbGVjdGlvbjogRWxlbWVudFN0YXRlW10sIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4ge1xuICB1cGRhdGVFbGVtZW50cyhlbGVtZW50c1xuICAgIC5maWx0ZXIoKGVsKSA9PiBlbC5zZWxlY3RlZCAhPT0gc2VsZWN0aW9uLm1hcCgoZSkgPT4gZS5pZCkuaW5jbHVkZXMoZWwuaWQpKVxuICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgLi4uZWwsXG4gICAgICBzZWxlY3RlZDogIWVsLnNlbGVjdGVkLFxuICAgIH0pKSxcbiAgICBkaXNwYXRjaClcbn1cblxuLyoqXG4gKiBtb3ZlIGVsZW1lbnRzIG9yZGVyIGluIHRoZWlyIHBhcmVudCdzIGNoaWxkcmVuIGFycmF5XG4gKiBAcmV0dXJuIHRoZSBwYXJlbnQgZWxlbWVudHMgdG8gYmUgdXBkYXRlZFxuICogRklYTUU6IHRoZSBlbGVtZW50cyBoaWRkZW4gb24gbW9iaWxlIG9yIGRlc2t0b3AgaW50ZXJmZWVyIGFuZCB0aGV5IHNob3VsZCBub3QgLSBzZWUgaG93IGhpZGRlbiBvbiBjdXJyZW50IHBhZ2UgaXMgaGFuZGxlZCBoZXJlXG4gKi9cbmV4cG9ydCBjb25zdCBtb3ZlRWxlbWVudHMgPSAoc2VsZWN0aW9uOiBFbGVtZW50U3RhdGVbXSwgZGlyZWN0aW9uOiBEb21EaXJlY3Rpb24sIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCwgZGVidWcgPSBmYWxzZSkgPT4ge1xuICBjb25zdCB7IGN1cnJlbnRQYWdlSWQgfSA9IGdldFVpKClcbiAgY29uc3QgZ2V0SWR4ID0gKGVsLCBjaGlsZHJlbikgPT4gY2hpbGRyZW4uZmluZEluZGV4KChjKSA9PiBjID09PSBlbC5pZClcbiAgY29uc3QgZ2V0VGFyZ2V0SWR4ID0gKGVsLCBwYXJlbnQpID0+IHtcbiAgICBsZXQgaWR4ID0gZ2V0SWR4KGVsLCBwYXJlbnQuY2hpbGRyZW4pXG4gICAgbGV0IHRhcmdldCA9IG51bGxcbiAgICBkbyB7XG4gICAgICBpZHggPSBkaXJlY3Rpb24gPT09IERvbURpcmVjdGlvbi5VUCA/IGlkeCAtIDEgOiBkaXJlY3Rpb24gPT09IERvbURpcmVjdGlvbi5ET1dOID8gaWR4ICsgMSA6IGRpcmVjdGlvbiA9PT0gRG9tRGlyZWN0aW9uLlRPUCA/IDAgOiBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMVxuICAgICAgdGFyZ2V0ID0gZ2V0RWxlbWVudEJ5SWQocGFyZW50LmNoaWxkcmVuW2lkeF0sIGVsZW1lbnRzKVxuICAgIH0gd2hpbGUoISF0YXJnZXQgJiYgdGFyZ2V0LnBhZ2VOYW1lcy5sZW5ndGggJiYgIXRhcmdldC5wYWdlTmFtZXMuaW5jbHVkZXMoY3VycmVudFBhZ2VJZCkpXG4gICAgcmV0dXJuIGlkeFxuICB9XG4gIGNvbnN0IGNoYW5nZXMgPSBzZWxlY3Rpb25cbiAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgIGVsLFxuICAgICAgcGFyZW50OiBnZXRQYXJlbnQoZWwsIGVsZW1lbnRzKSxcbiAgICB9KSlcbiAgICAuZmlsdGVyKCh7ZWwsIHBhcmVudH0pID0+IHtcbiAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignTm8gcGFyZW50LCBhcmUgeW91IHRyeWluZyB0byBtb3ZlIHRoZSByb290IGVsZW1lbnQ/Jywge2VsLCBwYXJlbnR9KVxuICAgICAgfVxuICAgICAgcmV0dXJuICEhZWwgJiYgISFwYXJlbnRcbiAgICB9KVxuICAgIC5tYXAoKHtlbCwgcGFyZW50fSkgPT4gKHtcbiAgICAgIGVsLFxuICAgICAgcGFyZW50LFxuICAgICAgaWR4OiBnZXRUYXJnZXRJZHgoZWwsIHBhcmVudCksXG4gICAgfSkpXG4gICAgLnNvcnQoKG8xLCBvMikgPT4gKG8yLmlkeCAtIG8xLmlkeCkgKiAoZGlyZWN0aW9uID09PSBEb21EaXJlY3Rpb24uVVAgfHwgZGlyZWN0aW9uID09PSBEb21EaXJlY3Rpb24uVE9QID8gLTEgOiAxKSlcbiAgICAucmVkdWNlKChhY2MsIHtlbCwgcGFyZW50LCBpZHh9KSA9PiB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBhY2MuaGFzKHBhcmVudCkgPyBhY2MuZ2V0KHBhcmVudCkgOiB7XG4gICAgICAgIGNoaWxkcmVuOiBwYXJlbnQuY2hpbGRyZW4sXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgYmVmb3JlTWU6IDAsXG4gICAgICAgIGVycm9yZWQ6IGZhbHNlLFxuICAgICAgfVxuICAgICAgLy8gaG93IG1hbnkgZWxlbWVudHMgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSBtZVxuICAgICAgY29uc3QgY3VycmVudElkeCA9IGdldElkeChlbCwgc3RvcmVkLmNoaWxkcmVuKVxuICAgICAgY29uc3QgdGFyZ2V0SWR4ID0gaWR4IC8vICsgKGRpcmVjdGlvbiA9PT0gRG9tRGlyZWN0aW9uLlRPUCA/IDAgOiBkaXJlY3Rpb24gPT09IERvbURpcmVjdGlvbi5CT1RUT00gPyAwIDogMClcbiAgICAgIGFjYy5zZXQocGFyZW50LCB7XG4gICAgICAgIHBhcmVudDogc3RvcmVkLnBhcmVudCxcbiAgICAgICAgY2hpbGRyZW46IHRhcmdldElkeCAhPT0gY3VycmVudElkeCA/IGluc2VydEF0KHN0b3JlZC5jaGlsZHJlbi5maWx0ZXIoKGMsIGkpID0+IGkgIT09IGN1cnJlbnRJZHgpLCB0YXJnZXRJZHgsIGVsLmlkKSA6IHN0b3JlZC5jaGlsZHJlbixcbiAgICAgICAgZXJyb3JlZDogc3RvcmVkLmVycm9yZWQgfHwgdGFyZ2V0SWR4IDwgMCB8fCB0YXJnZXRJZHggPj0gc3RvcmVkLnBhcmVudC5jaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgIGJlZm9yZU1lOiBzdG9yZWQuYmVmb3JlTWUgKyAxLFxuICAgICAgfSlcbiAgICAgIHJldHVybiBhY2NcbiAgICB9LCBuZXcgTWFwKCkpXG4gICAgY29uc3Qgc3RhdGVzID0gQXJyYXkuZnJvbShjaGFuZ2VzLnZhbHVlcygpKVxuICAgICAgLmZpbHRlcigoY2hhbmdlKSA9PiAhY2hhbmdlLmVycm9yZWQgJiYgSlNPTi5zdHJpbmdpZnkoY2hhbmdlLmNoaWxkcmVuKSAhPT0gSlNPTi5zdHJpbmdpZnkoY2hhbmdlLnBhcmVudC5jaGlsZHJlbikpXG4gICAgICAubWFwKChjaGFuZ2UpID0+ICh7XG4gICAgICAgIC4uLmNoYW5nZS5wYXJlbnQsXG4gICAgICAgIGNoaWxkcmVuOiBjaGFuZ2UuY2hpbGRyZW4sXG4gICAgICB9KSkgYXMgRWxlbWVudFN0YXRlW11cblxuICBpZiAoc3RhdGVzLmxlbmd0aCkgdXBkYXRlRWxlbWVudHMoc3RhdGVzLCBkaXNwYXRjaClcbn1cblxuLyoqXG4gKiBnZXQvc2V0IHRoZSBcImhpZGUgb24gZGVza3RvcFwiIHByb3BlcnR5XG4gKiBAcGFyYW0gaGlkZSwgdHJ1ZSBpZiB0aGUgZWxlbWVudCBoYXMgdG8gYmUgaGlkZGVuIG9uIGRlc2t0b3BcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEhpZGVPbkRlc2t0b3AgPSAoZWxlbWVudDogRWxlbWVudFN0YXRlLCBoaWRlOiBib29sZWFuLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCksIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IHtcbiAgdXBkYXRlRWxlbWVudHMoW3tcbiAgICAuLi5lbGVtZW50LFxuICAgIHZpc2liaWxpdHk6IHtcbiAgICAgIC4uLmVsZW1lbnQudmlzaWJpbGl0eSxcbiAgICAgIGRlc2t0b3A6IGhpZGUsXG4gICAgfSxcbiAgfV0sIGRpc3BhdGNoKVxufVxuXG5cbi8qKlxuICogc2V0IGEgZ2l2ZW4gc3R5bGUgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gKiBAcGFyYW0gb3B0X2lzVW5kb2FibGUgZGVmYXVsdCBpcyB0cnVlXG4gKiBGSVhNRTogdXNlbGVzcyBtZXRob2RcbiAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlQ2hhbmdlZCA9IChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHNlbGVjdGlvbjogRWxlbWVudFN0YXRlW10sIGlzTW9iaWxlID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3IsIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IHtcbiAgLy8gYnVpbGQgdGhlIHN0eWxlIGNoYW5nZSBvYmplY3RcbiAgY29uc3QgbmV3U3R5bGUgPSB7fVxuICBuZXdTdHlsZVtuYW1lXSA9IHZhbHVlLFxuXG4gIG11bHRpcGxlU3R5bGVzQ2hhbmdlZChuZXdTdHlsZSwgc2VsZWN0aW9uLCBpc01vYmlsZSwgZGlzcGF0Y2gpXG59XG5cbi8qKlxuICogc2V0IGEgc2V0IG9mIHN0eWxlcyB0byB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IG11bHRpcGxlU3R5bGVzQ2hhbmdlZCA9IChzdHlsZTogQ3NzUnVsZSwgc2VsZWN0aW9uOiBFbGVtZW50U3RhdGVbXSwgaXNNb2JpbGUgPSBnZXRVaSgpLm1vYmlsZUVkaXRvciwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4ge1xuICAvLyBhcHBseSB0aGUgY2hhbmdlIHRvIGFsbCBlbGVtZW50c1xuICB1cGRhdGVFbGVtZW50cyhzZWxlY3Rpb24ubWFwKChlbCkgPT4gKHtcbiAgICAuLi5lbCxcbiAgICBzdHlsZTogYWRkVG9Nb2JpbGVPckRlc2t0b3BTdHlsZShpc01vYmlsZSwgZWwuc3R5bGUsIHN0eWxlKSxcbiAgfSkpLCBkaXNwYXRjaClcbn1cblxuXG4vKipcbiAqIHNldCBodG1sIGF0dHJpYnV0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoYXR0cjogQXR0ciwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSB7XG4gIC8vIGFwcGx5IHRoZSBjaGFuZ2UgdG8gYWxsIGVsZW1lbnRzXG4gIHVwZGF0ZUVsZW1lbnRzKGdldFNlbGVjdGVkRWxlbWVudHMoZWxlbWVudHMpXG4gICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAuLi5lbCxcbiAgICAgIGF0dHIsXG4gICAgfSkpLCBkaXNwYXRjaClcbn1cblxuLyoqXG4gKiBzZXQgY3NzIGNsYXNzIG5hbWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDbGFzc05hbWUobmFtZTogc3RyaW5nLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCksIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpIHtcbiAgLy8gYXBwbHkgdGhlIGNoYW5nZSB0byBhbGwgZWxlbWVudHNcbiAgdXBkYXRlRWxlbWVudHMoZ2V0U2VsZWN0ZWRFbGVtZW50cyhlbGVtZW50cylcbiAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgIC4uLmVsLFxuICAgICAgLy8gbm90ZTogYG5ldyBTZXRgIHRvIG1ha2Ugc3VyZSBuYW1lcyBhcmUgdW5pcXVlXG4gICAgICBjbGFzc0xpc3Q6IFsuLi5uZXcgU2V0KG5hbWVcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWUgIT09ICcnKSldLFxuICAgIH0pKSwgZGlzcGF0Y2gpXG59XG5cbi8qKlxuICogY3JlYXRlIGFuIGVsZW1lbnQgYW5kIGFkZCBpdCB0byB0aGUgc3RhZ2VcbiAqIGNvbXBvbmVudE5hbWUgdGhlIGRlc2lyZWQgY29tcG9uZW50IHR5cGUgaWYgaXQgaXMgYSBjb21wb25lbnRcbiAqIFRPRE86IHJlZmFjdG9yZSBhZGQgZWxlbWVudCB0byBiZSBhYmxlIHRvIHVuaXQgdGVzdFxuICogQHJldHVybiBbZWxlbWVudCwgdXBkYXRlZFBhcmVudF1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEVsZW1lbnQoe3R5cGUsIHBhcmVudCwgc3R5bGUsIGNvbXBvbmVudE5hbWV9IDoge1xuICB0eXBlOiBFbGVtZW50VHlwZSxcbiAgcGFyZW50OiBFbGVtZW50U3RhdGUsXG4gIHN0eWxlOiBTdHlsZU9iamVjdCxcbiAgY29tcG9uZW50TmFtZT86IHN0cmluZyxcbn0sIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpOiBQcm9taXNlPFtFbGVtZW50U3RhdGUsIEVsZW1lbnRTdGF0ZV0+IHtcbiAgLy8gY3JlYXRlIGFuIGVsZW1lbnRcbiAgY29uc3QgW25ld0VsZW1lbnRTdGF0ZSwgdXBkYXRlZFBhcmVudFN0YXRlXSA9IGF3YWl0IGdldENyZWF0ZUFjdGlvbih7XG4gICAgdHlwZSxcbiAgICBwYXJlbnQsXG4gICAgY29tcG9uZW50TmFtZSxcbiAgICBpc1NlY3Rpb25Db250ZW50OiBmYWxzZSxcbiAgfSlcblxuICAvLyBhZGQgaXQgdG8gdGhlIGN1cnJlbnQgcGFnZSBvbmx5IGlmIGl0IGhhcyBubyBwYXJlbnQgd2hpY2ggYWxyZWFkeSBhcmUgaW4gYSBwYWdlXG4gIGNvbnN0IHsgY3VycmVudFBhZ2VJZCB9ID0gZ2V0VWkoKVxuICBjb25zdCBuZXdFbGVtZW50U3RhdGVQYWdlZCA9IHtcbiAgICAuLi5uZXdFbGVtZW50U3RhdGUsXG4gICAgcGFnZU5hbWVzOiAhIXBhcmVudC5wYWdlTmFtZXMubGVuZ3RoIHx8ICEhZ2V0Rmlyc3RQYWdlZFBhcmVudChwYXJlbnQpID8gW10gOiBbY3VycmVudFBhZ2VJZF0sXG4gIH1cblxuICBjb25zdCBlbGVtZW50ID0gKGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgLy8gaWYgaXQgaXMgYSBzZWN0aW9uIGFkZCBpdHMgY29udGFpbmVyIGVsZW1lbnRcbiAgICBpZiAodHlwZSA9PT0gRWxlbWVudFR5cGUuU0VDVElPTikge1xuICAgICAgaWYgKCFpc0JvZHkocGFyZW50KSkgdGhyb3cgbmV3IEVycm9yKCdTZWN0aW9ucyBjYW4gb25seSBiZSBhZGRlZCB0byB0aGUgYm9keScpXG4gICAgICBjb25zdCBbY29udGVudEVsZW1lbnQsIG5ld0VsZW1lbnRTdGF0ZVdpdGhDb250ZW50XSA9IGF3YWl0IGdldENyZWF0ZUFjdGlvbih7XG4gICAgICAgIHR5cGU6IEVsZW1lbnRUeXBlLkNPTlRBSU5FUixcbiAgICAgICAgcGFyZW50OiBuZXdFbGVtZW50U3RhdGVQYWdlZCxcbiAgICAgICAgY29tcG9uZW50TmFtZTogbnVsbCxcbiAgICAgICAgaXNTZWN0aW9uQ29udGVudDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgICBjb25zdCBjb250ZW50RWxlbWVudFdpdGhDc3NDbGFzc2VzID0ge1xuICAgICAgICAuLi5jb250ZW50RWxlbWVudCxcbiAgICAgICAgY2xhc3NMaXN0OiBjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuY29uY2F0KFtcbiAgICAgICAgICBDb25zdGFudHMuRUxFTUVOVF9DT05URU5UX0NMQVNTX05BTUUsXG4gICAgICAgICAgQ29uc3RhbnRzLldFQlNJVEVfV0lEVEhfQ0xBU1NfTkFNRSxcbiAgICAgICAgICBDb25zdGFudHMuUFJFVkVOVF9EUkFHR0FCTEVfQ0xBU1NfTkFNRSxcbiAgICAgICAgXSksXG4gICAgICB9XG4gICAgICAvLyBhZGQgdGhlIGVsZW1lbnRzIHRvIHRoZSBzdG9yZVxuICAgICAgY3JlYXRlRWxlbWVudHMoW25ld0VsZW1lbnRTdGF0ZVdpdGhDb250ZW50LCBjb250ZW50RWxlbWVudFdpdGhDc3NDbGFzc2VzXSwgZGlzcGF0Y2gpXG4gICAgICByZXR1cm4gZ2V0RWxlbWVudEJ5SWQobmV3RWxlbWVudFN0YXRlV2l0aENvbnRlbnQuaWQsIGdldEVsZW1lbnRzKCkpIC8vIGhlcmUgaXQgaXMgaW1wb3J0YW50IHRvIHVzZSBnZXRFbGVtZW50cygpLCBub3Qgc3RvcmUgZWxlbWVudHMgb2YgYmVmb3JlIHRoZSBkaXNwYXRjaFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhZGQgdGhlIGVsZW1lbnRzIHRvIHRoZSBzdG9yZVxuICAgICAgY3JlYXRlRWxlbWVudHMoW25ld0VsZW1lbnRTdGF0ZVBhZ2VkXSwgZGlzcGF0Y2gpXG4gICAgICByZXR1cm4gZ2V0RWxlbWVudEJ5SWQobmV3RWxlbWVudFN0YXRlUGFnZWQuaWQsIGdldEVsZW1lbnRzKCkpIC8vIGhlcmUgaXQgaXMgaW1wb3J0YW50IHRvIHVzZSBnZXRFbGVtZW50cygpLCBub3Qgc3RvcmUgZWxlbWVudHMgb2YgYmVmb3JlIHRoZSBkaXNwYXRjaFxuICAgIH1cbiAgfSkoKSlcblxuICB1cGRhdGVFbGVtZW50cyhcbiAgICAvLyB1bnNlbGVjdCBhbGxcbiAgICBnZXRTZWxlY3RlZEVsZW1lbnRzKGdldEVsZW1lbnRzKCkpIC8vIGhlcmUgaXQgaXMgaW1wb3J0YW50IHRvIHVzZSBnZXRFbGVtZW50cygpLCBub3Qgc3RvcmUgZWxlbWVudHMgb2YgYmVmb3JlIHRoZSBkaXNwYXRjaFxuICAgIC5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gcGFyZW50ICYmIGVsICE9PSBlbGVtZW50KSAvLyB3aWxsIGJlIHVwZGF0ZWQgYmVsbG93XG4gICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAuLi5lbCxcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICB9KSlcbiAgICAvLyBhcHBseSBzdHlsZSArIHNlbGVjdCB0aGUgY3JlYXRlZCBlbGVtZW50XG4gICAgLmNvbmNhdChbe1xuICAgICAgLi4uZWxlbWVudCxcbiAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgbW9iaWxlOiB7XG4gICAgICAgICAgLi4uZWxlbWVudC5zdHlsZS5tb2JpbGUsXG4gICAgICAgICAgLi4uc3R5bGUubW9iaWxlLFxuICAgICAgICB9LFxuICAgICAgICBkZXNrdG9wOiB7XG4gICAgICAgICAgLi4uZWxlbWVudC5zdHlsZS5kZXNrdG9wLFxuICAgICAgICAgIC4uLnN0eWxlLmRlc2t0b3AsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgLy8gdXBkYXRlIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgIHtcbiAgICAgIC4uLnVwZGF0ZWRQYXJlbnRTdGF0ZSxcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICB9XSksIGRpc3BhdGNoKVxuXG4gIC8vIFRPRE86IGRyYWcgdG8gaW5zZXJ0P1xuICAvLyBnZXRTdGFnZSgpLnN0YXJ0RHJhZygpXG5cbiAgcmV0dXJuIFtnZXRFbGVtZW50QnlJZChuZXdFbGVtZW50U3RhdGVQYWdlZC5pZCwgZ2V0RWxlbWVudHMoKSksIGdldEVsZW1lbnRCeUlkKHVwZGF0ZWRQYXJlbnRTdGF0ZS5pZCwgZ2V0RWxlbWVudHMoKSldIC8vIGhlcmUgaXQgaXMgaW1wb3J0YW50IHRvIHVzZSBnZXRFbGVtZW50cygpLCBub3Qgc3RvcmUgZWxlbWVudHMgb2YgYmVmb3JlIHRoZSBkaXNwYXRjaFxufVxuXG4vKipcbiAqIHJlbW92ZSBzZWxlY3RlZCBlbGVtZW50cyBmcm9tIHRoZSBzdGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudHMoZWxlbWVudHMgPSBnZXRTZWxlY3RlZEVsZW1lbnRzKCkpIHtcbiAgY29uc3QgYm9keSA9IGdldEJvZHkoKVxuICBjb25zdCB0b0RlbGV0ZTogRWxlbWVudFN0YXRlW10gPSBlbGVtZW50cy5maWx0ZXIoKGVsOiBFbGVtZW50U3RhdGUpID0+IGVsICE9PSBib2R5KVxuICBpZiAodG9EZWxldGUubGVuZ3RoIDw9IDApIHtcbiAgICBOb3RpZmljYXRpb24uYWxlcnQoJ0RlbGV0ZSBlbGVtZW50cycsXG4gICAgICAnRXJyb3I6IFBsZWFzZSBzZWxlY3QgYW4gZWxlbWVudCB0byBkZWxldGUuJyxcbiAgICAgICgpID0+IHt9LFxuICAgIClcbiAgfSBlbHNlIHtcbiAgICAvLyBjb25maXJtIGFuZCBkZWxldGVcbiAgICBOb3RpZmljYXRpb24uY29uZmlybSgnRGVsZXRlIGVsZW1lbnRzJywgYEkgYW0gYWJvdXQgdG8gPHN0cm9uZz5kZWxldGUgJHt0b0RlbGV0ZS5sZW5ndGh9IGVsZW1lbnQocyk8L3N0cm9uZz4sIGFyZSB5b3Ugc3VyZT9gLFxuICAgICAgKGFjY2VwdCkgPT4ge1xuICAgICAgICBpZiAoYWNjZXB0KSB7XG4gICAgICAgICAgcmVtb3ZlRWxlbWVudHNXaXRob3V0Q29uZmlybSh0b0RlbGV0ZSlcbiAgICAgICAgICBzZWxlY3RCb2R5KClcbiAgICAgICAgfVxuICAgICAgfSwgJ2RlbGV0ZScsICdjYW5jZWwnLFxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudHNXaXRob3V0Q29uZmlybShzZWxlY3Rpb246IEVsZW1lbnRTdGF0ZVtdLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCksIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpIHtcbiAgLy8gZ2V0IHRoZSBlbGVtZW50cyBhbmQgdGhlaXIgY2hpbGRyZW5cbiAgY29uc3Qgc2VsZWN0aW9uTm9TZWN0aW9uQ29udGVudCA9IHNlbGVjdGlvblxuICAgIC5tYXAoKGVsKSA9PiBub1NlY3Rpb25Db250ZW50KGVsLCBlbGVtZW50cykpXG5cbiAgY29uc3QgZGVsZXRlZCA9IHNlbGVjdGlvbk5vU2VjdGlvbkNvbnRlbnRcbiAgICAuY29uY2F0KHNlbGVjdGlvbk5vU2VjdGlvbkNvbnRlbnRcbiAgICAgIC5yZWR1Y2UoKHByZXYsIGVsKSA9PiBwcmV2LmNvbmNhdChnZXRDaGlsZHJlblJlY3Vyc2l2ZShlbCwgZWxlbWVudHMpKSwgW10pKVxuXG4gIC8vIHVwZGF0ZSB0aGUgcGFyZW50cyB0byByZW1vdmUgZGVsZXRlZCBlbGVtZW50cyBmcm9tIGNoaWxkcmVuIGxpc3RzXG4gIHVwZGF0ZUVsZW1lbnRzKGVsZW1lbnRzXG4gICAgLmZpbHRlcigoZWxlbWVudDogRWxlbWVudFN0YXRlKSA9PiAhZGVsZXRlZC5pbmNsdWRlcyhlbGVtZW50KSkgLy8gbm90IGluIHRoZSBkZWxldGVkIGVsZW1lbnRzXG4gICAgLmZpbHRlcigoZWxlbWVudDogRWxlbWVudFN0YXRlKSA9PiBlbGVtZW50LmNoaWxkcmVuLnNvbWUoKGlkKSA9PiAhIWRlbGV0ZWQuZmluZCgoZWwpID0+IGVsLmlkID09PSBpZCkpKSAvLyBrZWVwIHRoZSBwYXJlbnRzXG4gICAgLm1hcCgoZWxlbWVudDogRWxlbWVudFN0YXRlKSA9PiAoe1xuICAgICAgLi4uZWxlbWVudCxcbiAgICAgIGNoaWxkcmVuOiBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcigoaWQpID0+ICFkZWxldGVkLmZpbmQoKGVsKSA9PiBlbC5pZCA9PT0gaWQpKSxcbiAgICB9KSksIGRpc3BhdGNoKVxuXG4gIC8vIGRlbGV0ZSB0aGUgZWxlbWVudHMgZnJvbSB0aGUgc3RvcmVcbiAgZGVsZXRlRWxlbWVudHMoZGVsZXRlZCwgZGlzcGF0Y2gpXG59XG5cbi8qKlxuICogYWRkIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBhIGdpdmVuIHBhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvUGFnZShzZWxlY3Rpb246IEVsZW1lbnRTdGF0ZVtdLCBwYWdlOiBQYWdlU3RhdGUsIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuICB1cGRhdGVFbGVtZW50cyhzZWxlY3Rpb25cbiAgICAubWFwKChlbCkgPT4gbm9TZWN0aW9uQ29udGVudChlbCwgZWxlbWVudHMpKVxuICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgLi4uZWwsXG4gICAgICBwYWdlTmFtZXM6IGVsLnBhZ2VOYW1lcy5jb25jYXQoW3BhZ2UuaWRdKSxcbiAgICB9KSksIGRpc3BhdGNoKVxufVxuXG4vKipcbiAqIHJlbW92ZSB0aGUgcHJvdmlkZWQgZWxlbWVudHMgZnJvbSBhIGdpdmVuIHBhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZyb21QYWdlKHNlbGVjdGlvbjogRWxlbWVudFN0YXRlW10sIHBhZ2U6IFBhZ2VTdGF0ZSwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSB7XG4gIHVwZGF0ZUVsZW1lbnRzKHNlbGVjdGlvblxuICAgIC5tYXAoKGVsKSA9PiBub1NlY3Rpb25Db250ZW50KGVsKSlcbiAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgIC4uLmVsLFxuICAgICAgcGFnZU5hbWVzOiBlbC5wYWdlTmFtZXMuZmlsdGVyKChuYW1lKSA9PiBuYW1lICE9PSBwYWdlLmlkKSxcbiAgICB9KSksIGRpc3BhdGNoKVxufVxuXG4vKipcbiAqIGFkZCBwcm92aWRlZCBlbGVtZW50cyB0byBhbGwgcGFnZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZpc2libGVPbkFsbFBhZ2VzKHNlbGVjdGlvbjogRWxlbWVudFN0YXRlW10sIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpIHtcbiAgdXBkYXRlRWxlbWVudHMoc2VsZWN0aW9uXG4gICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAuLi5lbCxcbiAgICAgIHBhZ2VOYW1lczogW10sXG4gICAgfSkpLCBkaXNwYXRjaClcbn1cblxuLyoqXG4gKiBhZGQgbGluayB0byB0aGUgcHJvdmlkZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZExpbmsoc2VsZWN0aW9uOiBFbGVtZW50U3RhdGVbXSwgbGluazogTGluaywgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuICB1cGRhdGVFbGVtZW50cyhzZWxlY3Rpb25cbiAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgIC4uLmVsLFxuICAgICAgbGluayxcbiAgICB9KSksIGRpc3BhdGNoKVxuXG59XG5cbi8qKlxuICogcmVtb3ZlIGxpbmsgZnJvbSB0aGUgcHJvdmlkZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUxpbmsoc2VsZWN0aW9uOiBFbGVtZW50U3RhdGVbXSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuICB1cGRhdGVFbGVtZW50cyhzZWxlY3Rpb25cbiAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgIC4uLmVsLFxuICAgICAgbGluazogbnVsbCxcbiAgICB9KSksIGRpc3BhdGNoKVxufVxuXG4vKipcbiAqIEByZXR1cm4gdGhlIG9wcG9zaXQgZGlyZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIG9wcG9zaXQoZGlyZWN0aW9uOiBEb21EaXJlY3Rpb24pOiBEb21EaXJlY3Rpb24ge1xuICBzd2l0Y2goZGlyZWN0aW9uKSB7XG4gICAgY2FzZSBEb21EaXJlY3Rpb24uVVA6IHJldHVybiBEb21EaXJlY3Rpb24uRE9XTlxuICAgIGNhc2UgRG9tRGlyZWN0aW9uLkRPV046IHJldHVybiBEb21EaXJlY3Rpb24uVVBcbiAgICBjYXNlIERvbURpcmVjdGlvbi5UT1A6IHJldHVybiBEb21EaXJlY3Rpb24uQk9UVE9NXG4gICAgY2FzZSBEb21EaXJlY3Rpb24uQk9UVE9NOiByZXR1cm4gRG9tRGlyZWN0aW9uLlRPUFxuICB9XG59XG5cbmZ1bmN0aW9uIHRvRG9tRGlyKGRpcmVjdGlvbjogRGlyZWN0aW9uKTogRG9tRGlyZWN0aW9uIHtcbiAgc3dpdGNoKGRpcmVjdGlvbikge1xuICAgIGNhc2UgRGlyZWN0aW9uLlVQOiByZXR1cm4gRG9tRGlyZWN0aW9uLlVQXG4gICAgY2FzZSBEaXJlY3Rpb24uRE9XTjogcmV0dXJuIERvbURpcmVjdGlvbi5ET1dOXG4gICAgY2FzZSBEaXJlY3Rpb24uTEVGVDogcmV0dXJuIERvbURpcmVjdGlvbi5UT1BcbiAgICBjYXNlIERpcmVjdGlvbi5SSUdIVDogcmV0dXJuIERvbURpcmVjdGlvbi5CT1RUT01cbiAgfVxufVxuXG4vKipcbiAqIE1vdmUgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGluIHRoZSBET01cbiAqIE1vdmUgaXQgdXAgb3IgZG93biB0aGUgRE9NIGRlcGVuZGluZyBvbiB0aGUgZGlyZWN0aW9uIGFuZCB0aGUgcG9wc2l0aW9uIHByb3BlcnR5XG4gKiBBIHN0YXRpYyBwb3NpdGlvbiBtZWFucyB0aGF0IHRoZSB1c2VyIGlzIG1vdmluZyB0aGUgZWxlbWVudCBjb21wYXJlZCB0byBvdGhlciBzdGF0aWMgZWxlbWVudHNcbiAqIEEgbm9uLXN0YXRpYyBwb3NpdGlvbiBtZWFucyB0aGF0IHRoZSB1c2VyIGV4cGVjdCB0aGUgei1vcmRlciB0byBjaGFuZ2VcbiAqL1xuZnVuY3Rpb24gbW92ZShkaXJlY3Rpb246IERvbURpcmVjdGlvbiwgZWxlbWVudHMgPSBnZXRTZWxlY3RlZEVsZW1lbnRzTm9TZWN0aW9uQ29udGVudCgpKSB7XG4gIGNvbnN0IGRlc2t0b3BPck1vYmlsZSA9IGdldFVpKCkubW9iaWxlRWRpdG9yID8gJ21vYmlsZScgOiAnZGVza3RvcCdcbiAgbW92ZUVsZW1lbnRzKGVsZW1lbnRzXG4gICAgLmZpbHRlcigoZWwpID0+IGVsLnN0eWxlW2Rlc2t0b3BPck1vYmlsZV0ucG9zaXRpb24gPT09ICdzdGF0aWMnKSwgZGlyZWN0aW9uKVxuICBtb3ZlRWxlbWVudHMoZWxlbWVudHNcbiAgICAuZmlsdGVyKChlbCkgPT4gZWwuc3R5bGVbZGVza3RvcE9yTW9iaWxlXS5wb3NpdGlvbiAhPT0gJ3N0YXRpYycpLCBvcHBvc2l0KGRpcmVjdGlvbikpXG59XG5cbi8qKlxuICogdXNlZnVsIG1ldGhvZCB0byBzaGlmdCB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCwga2VlcGluZyB0aGUgXCJweFwiIHVuaXRcbiAqL1xuZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24ob3B0aW9uczoge3ZhbHVlOiBzdHJpbmcsIGluYzogYm9vbGVhbiwgZGVjOiBib29sZWFuLCBtdWx0aXBseTogYm9vbGVhbiwgZGl2aWRlOiBib29sZWFufSk6IHN0cmluZyB7XG4gIGlmKG9wdGlvbnMuaW5jIHx8IG9wdGlvbnMuZGVjKSB7XG4gICAgY29uc3QgbnVtID0gcGFyc2VJbnQob3B0aW9ucy52YWx1ZSlcbiAgICBjb25zdCBvZmZzZXQgPSBvcHRpb25zLm11bHRpcGx5ID8gMTAgOiAob3B0aW9ucy5kaXZpZGUgPyAxIDogNSlcbiAgICByZXR1cm4gKG51bSArIChvcHRpb25zLmluYyA/IG9mZnNldCA6IC1vZmZzZXQpKSArICdweCdcbiAgfVxuICByZXR1cm4gb3B0aW9ucy52YWx1ZVxufVxuXG4vKipcbiAqIG1vdmUgYW4gZWxlbWVudCB1cCwgZG93biwgbGVmdCBvciByaWdodC4gdGhlIGFtb3VudCBpcyAxcHgsIDVweCBvciAxMHB4IGRlcGVuZGluZyBvbiB0aGUga2V5IG1vZGlmaWVyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcG9zaXRpb24oZGlyZWN0aW9uOiBEaXJlY3Rpb24sIHsgYWx0S2V5LCBjdHJsS2V5LCBzaGlmdEtleSB9OiB7IGFsdEtleTogYm9vbGVhbiwgY3RybEtleTogYm9vbGVhbiwgc2hpZnRLZXk6IGJvb2xlYW4gfSkge1xuICBpZiAoYWx0S2V5KSByZXR1cm5cbiAgY29uc3QgZGVza3RvcE9yTW9iaWxlID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3IgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJ1xuICB1cGRhdGVFbGVtZW50cyhnZXRTZWxlY3RlZEVsZW1lbnRzTm9TZWN0aW9uQ29udGVudCgpXG4gICAgLmZpbHRlcigoZWwpID0+IGVsLnN0eWxlW2Rlc2t0b3BPck1vYmlsZV0ucG9zaXRpb24gIT09ICdzdGF0aWMnKVxuICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgLi4uZWwsXG4gICAgICBzdHlsZToge1xuICAgICAgICAuLi5lbC5zdHlsZSxcbiAgICAgICAgW2Rlc2t0b3BPck1vYmlsZV06IHtcbiAgICAgICAgICAuLi5lbC5zdHlsZVtkZXNrdG9wT3JNb2JpbGVdLFxuICAgICAgICAgIHRvcDogdXBkYXRlUG9zaXRpb24oe1xuICAgICAgICAgICAgdmFsdWU6IGVsLnN0eWxlW2Rlc2t0b3BPck1vYmlsZV0udG9wLFxuICAgICAgICAgICAgaW5jOiBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5ET1dOLFxuICAgICAgICAgICAgZGVjOiBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5VUCxcbiAgICAgICAgICAgIG11bHRpcGx5OiBjdHJsS2V5LFxuICAgICAgICAgICAgZGl2aWRlOiBzaGlmdEtleSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBsZWZ0OiB1cGRhdGVQb3NpdGlvbih7XG4gICAgICAgICAgICB2YWx1ZTogZWwuc3R5bGVbZGVza3RvcE9yTW9iaWxlXS5sZWZ0LFxuICAgICAgICAgICAgaW5jOiBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5SSUdIVCxcbiAgICAgICAgICAgIGRlYzogZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uTEVGVCxcbiAgICAgICAgICAgIG11bHRpcGx5OiBjdHJsS2V5LFxuICAgICAgICAgICAgZGl2aWRlOiBzaGlmdEtleSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSkpXG4gIClcbiAgLy8gdGhlIGVsZW1lbnRzIHdpdGggYSBwb3NpdGlvbiBzZXQgdG8gXCJzdGF0aWNcIiBuZWVkIHRvIG1vdmUgaW4gdGhlIERPTVxuICBtb3ZlKHRvRG9tRGlyKGRpcmVjdGlvbiksIGdldFNlbGVjdGVkRWxlbWVudHNOb1NlY3Rpb25Db250ZW50KCkuZmlsdGVyKChlbCkgPT4gZWwuc3R5bGVbZGVza3RvcE9yTW9iaWxlXS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpKVxufVxuXG4vKipcbiAqIE1vdmUgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGluIHRoZSBET01cbiAqIFRoaXMgd2lsbCBtb3ZlIGl0cyBvdmVyIG9yIHVuZGVyIG90aGVyIGVsZW1lbnRzIGlmIHRoZSB6LWluZGV4IENTU1xuICogcHJvcGVydGllcyBhcmUgbm90IHNldFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZVVwKCkge1xuICBtb3ZlKERvbURpcmVjdGlvbi5VUClcbn1cblxuLyoqXG4gKiBNb3ZlIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBpbiB0aGUgRE9NXG4gKiBUaGlzIHdpbGwgbW92ZSBpdHMgb3ZlciBvciB1bmRlciBvdGhlciBlbGVtZW50cyBpZiB0aGUgei1pbmRleCBDU1NcbiAqIHByb3BlcnRpZXMgYXJlIG5vdCBzZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVEb3duKCkge1xuICBtb3ZlKERvbURpcmVjdGlvbi5ET1dOKVxufVxuXG4vKipcbiAqIE1vdmUgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGluIHRoZSBET01cbiAqIFRoaXMgd2lsbCBtb3ZlIGl0cyBvdmVyIG9yIHVuZGVyIG90aGVyIGVsZW1lbnRzIGlmIHRoZSB6LWluZGV4IENTU1xuICogcHJvcGVydGllcyBhcmUgbm90IHNldFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZVRvVG9wKCkge1xuICBtb3ZlKERvbURpcmVjdGlvbi5UT1ApXG59XG5cbi8qKlxuICogTW92ZSB0aGUgc2VsZWN0ZWQgZWxlbWVudHMgaW4gdGhlIERPTVxuICogVGhpcyB3aWxsIG1vdmUgaXRzIG92ZXIgb3IgdW5kZXIgb3RoZXIgZWxlbWVudHMgaWYgdGhlIHotaW5kZXggQ1NTXG4gKiBwcm9wZXJ0aWVzIGFyZSBub3Qgc2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlVG9Cb3R0b20oKSB7XG4gIG1vdmUoRG9tRGlyZWN0aW9uLkJPVFRPTSlcbn1cblxuLyoqXG4gKiBzZXQvZ2V0IHRoZSBpbWFnZSBVUkwgb2YgYW4gaW1hZ2UgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SW1hZ2VVcmwoaW1hZ2U6IEVsZW1lbnRTdGF0ZSwgdXJsOiBzdHJpbmcpIHtcbiAgdXBkYXRlRWxlbWVudHMoW3tcbiAgICAuLi5pbWFnZSxcbiAgICAvLyBpbm5lckh0bWw6IGA8ZGl2IGNsYXNzPVwiJHtDb25zdGFudHMuRUxFTUVOVF9DT05URU5UX0NMQVNTX05BTUV9XCIgPjxpbWcgc3JjPVwiJHt1cmx9XCIgLz48L2Rpdj5gXG4gICAgLy8gaW5uZXJIdG1sOiBgPGltZyBzcmM9XCIke3VybH1cIiBjbGFzcz1cIiR7Q29uc3RhbnRzLkVMRU1FTlRfQ09OVEVOVF9DTEFTU19OQU1FfVwiIC8+YFxuICAgIGlubmVySHRtbDogYDxpbWcgc3JjPVwiJHt1cmx9XCIgLz5gXG4gIH1dKVxuICAvLyBnZXQgdGhlIGltYWdlIHRhZ1xuICBjb25zdCBpbWc6IEhUTUxJbWFnZUVsZW1lbnQgPSBnZXREb21FbGVtZW50KGdldFNpdGVEb2N1bWVudCgpLCBpbWFnZSlcbiAgLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpXG4gIC8vIHdoZW4gbG9hZGVkLCB1cGRhdGUgdGhlIGVsZW1lbnQgc2l6ZVxuICBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAvLyBnZXQgdGhlIHVwIHRvIGRhdGUgaW1hZ2UgZGF0YVxuICAgIGNvbnN0IHVwZGF0ZWQgPSBnZXRFbGVtZW50QnlJZChpbWFnZS5pZClcbiAgICB1cGRhdGVFbGVtZW50cyhbe1xuICAgICAgLi4udXBkYXRlZCxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIC4uLnVwZGF0ZWQuc3R5bGUsXG4gICAgICAgIGRlc2t0b3A6IHtcbiAgICAgICAgICAuLi51cGRhdGVkLnN0eWxlLmRlc2t0b3AsXG4gICAgICAgICAgd2lkdGg6IGltZy5uYXR1cmFsV2lkdGggKyAncHgnLFxuICAgICAgICAgIGhlaWdodDogaW1nLm5hdHVyYWxIZWlnaHQgKyAncHgnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XSlcbiAgfSlcbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBUaGlzIGNvbXBvbmVudCBkaXNwbGF5cyB0aGUgc2l0ZSBvcGVuZWQgYnkgU2lsZXgsXG4gKiAgIHdoaWNoIGlzIGVkaXRlZCB3aXRoIHRoZSBTdGFnZSBjb21wb25lbnRcbiAqL1xuXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBnZXRBbGxTdHlsZXMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL3V0aWxzJ1xuaW1wb3J0IHsgaW5pdFN0YWdlV3JhcHBlciwgc3RhZ2VDbGVhbnVwIH0gZnJvbSAnLi9TdGFnZVdyYXBwZXInXG5pbXBvcnQgeyByZW1vdmVXeXNpaHRtbE1hcmt1cCB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZG9tJ1xuaW1wb3J0IHsgc2VsZWN0Qm9keSB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQgeyB1cGRhdGVDb21wb25lbnRzIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9jb21wb25lbnQnXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEFQSSBmb3IgdGhlIG91dHNpZGUgd29ybGRcbmxldCBzaXRlOiBTaXRlXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNpdGVDb21wb25lbnQoKSB7XG4gIHNpdGUgPSBzaXRlIHx8IG5ldyBTaXRlKClcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRIdG1sKHJhd0h0bWw6IHN0cmluZywgb3B0X2Niaz86ICgoKSA9PiBhbnkpLCBvcHRfc2hvd0xvYWRlcj86IGJvb2xlYW4pIHtcbiAgaW5pdFNpdGVDb21wb25lbnQoKVxuICByZXR1cm4gc2l0ZS5zZXRIdG1sKHJhd0h0bWwsIG9wdF9jYmssIG9wdF9zaG93TG9hZGVyKVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEh0bWwoKSB7XG4gIGluaXRTaXRlQ29tcG9uZW50KClcbiAgcmV0dXJuIHNpdGUuZ2V0SHRtbCgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXRlV2luZG93KCk6IFdpbmRvdyB7XG4gIGluaXRTaXRlQ29tcG9uZW50KClcbiAgcmV0dXJuIHNpdGUuZ2V0U2l0ZVdpbmRvdygpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXRlRG9jdW1lbnQoKTogSFRNTERvY3VtZW50IHtcbiAgaW5pdFNpdGVDb21wb25lbnQoKVxuICByZXR1cm4gc2l0ZS5nZXRTaXRlRG9jdW1lbnQoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l0ZUlGcmFtZSgpOiBIVE1MSUZyYW1lRWxlbWVudCB7XG4gIGluaXRTaXRlQ29tcG9uZW50KClcbiAgcmV0dXJuIHNpdGUuaWZyYW1lXG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFNpdGUgY2xhc3Ncbi8vIFRPRE86IG1ha2UgdGhpcyBvbmx5IG1ldGhvZHMgYW5kIHdyaXRlIHRlc3RzXG5jbGFzcyBTaXRlIHtcblxuICBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJylcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBjcmVhdGUgdGhlIGlmcmFtZVxuICAgIHRoaXMuaWZyYW1lLmlkID0gJ3NpbGV4LXN0YWdlLWlmcmFtZSdcbiAgICB0aGlzLmlmcmFtZS5jbGFzc05hbWUgPSAnc2lsZXgtc3RhZ2UtaWZyYW1lIG5vdHJhbnNsYXRlJ1xuICAgIHRoaXMuaWZyYW1lLnNyYyA9ICdhYm91dDpibGFuaydcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lsZXgtc3RhZ2UnKS5hcHBlbmRDaGlsZCh0aGlzLmlmcmFtZSlcblxuICAgIC8vIGluaXQgaWZyYW1lIGNvbnRlbnRcbiAgICAvLyB0aGlzIGlzIG5lZWRlZCBzaW5jZSBpZnJhbWVzIGNhbiBrZWVwIHRoZWlyIGNvbnRlbnRcbiAgICAvLyBhZnRlciBhIHJlZnJlc2ggaW4gZmlyZWZveFxuICAgIGNvbnN0IGNvbnRlbnREb2N1bWVudCA9IHRoaXMuZ2V0U2l0ZURvY3VtZW50KClcbiAgICBjb250ZW50RG9jdW1lbnQub3BlbigpXG4gICAgY29udGVudERvY3VtZW50LndyaXRlKCcnKVxuICAgIGNvbnRlbnREb2N1bWVudC5jbG9zZSgpXG4gIH1cblxuICBnZXRTaXRlV2luZG93KCk6IFdpbmRvdyB7IHJldHVybiB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93IH1cbiAgZ2V0U2l0ZURvY3VtZW50KCk6IEhUTUxEb2N1bWVudCB7IHJldHVybiB0aGlzLmlmcmFtZS5jb250ZW50RG9jdW1lbnQgfVxuXG4gIC8qKlxuICAgKiBidWlsZCB0aGUgaHRtbCBjb250ZW50XG4gICAqIFBhcnNlIHRoZSByYXcgaHRtbCBhbmQgZmlsbCB0aGUgYm9keUVsZW1lbnQgYW5kIGhlYWRFbGVtZW50XG4gICAqIEBleHBvcnRcbiAgICovXG4gIHNldEh0bWwocmF3SHRtbDogc3RyaW5nLCBvcHRfY2JrPzogKCgpID0+IGFueSksIG9wdF9zaG93TG9hZGVyPzogYm9vbGVhbikge1xuICAgIGNvbnN0IGNvbnRlbnREb2N1bWVudCA9IGdldFNpdGVEb2N1bWVudCgpXG5cbiAgICAvLyByZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gc3RhZ2UgY29tcG9uZW50XG4gICAgc3RhZ2VDbGVhbnVwKClcblxuICAgIC8vIHJlc2V0IGlmcmFtZSBjb250ZW50XG4gICAgY29udGVudERvY3VtZW50Lm9wZW4oKVxuICAgIGNvbnRlbnREb2N1bWVudC53cml0ZSgnJylcbiAgICBjb250ZW50RG9jdW1lbnQuY2xvc2UoKVxuXG4gICAgLy8gLy8gbG9hZGluZ1xuICAgIC8vIHVwZGF0ZVVpKHtcbiAgICAvLyAgIC4uLmdldFVpKCksXG4gICAgLy8gICBsb2FkaW5nOiBMT0FESU5HLldFQlNJVEUsXG4gICAgLy8gfSlcblxuICAgIC8vIHdyaXRlIHRoZSBjb250ZW50XG4gICAgY29udGVudERvY3VtZW50Lm9wZW4oKVxuICAgIGNvbnRlbnREb2N1bWVudC53cml0ZShyYXdIdG1sKVxuICAgIGNvbnRlbnREb2N1bWVudC5jbG9zZSgpXG4gICAgdGhpcy5jb250ZW50Q2hhbmdlZChvcHRfY2JrKVxuICB9XG5cbiAgLyoqXG4gICAqIHRoZSBjb250ZW50IG9mIHRoZSBpZnJhbWUgY2hhbmdlZFxuICAgKi9cbiAgY29udGVudENoYW5nZWQob3B0X2Niaz86ICgoKSA9PiBhbnkpKSB7XG4gICAgY29uc3QgY29udGVudERvY3VtZW50ID0gZ2V0U2l0ZURvY3VtZW50KClcbiAgICBjb25zdCBjb250ZW50V2luZG93ID0gZ2V0U2l0ZVdpbmRvdygpXG5cbiAgICAvLyB3YWl0IGZvciB0aGUgd2Vic3RlIHRvIGJlIGxvYWRlZFxuICAgIC8vIGNhbiBub3QgcmVseSBvbiB0aGUgbG9hZCBldmVudCBvZiB0aGUgaWZyYW1lIGJlY2F1c2UgdGhlcmUgbWF5IGJlIG1pc3NpbmdcbiAgICAvLyBhc3NldHNcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby1zdHJpbmctbGl0ZXJhbFxuICAgIGlmIChjb250ZW50RG9jdW1lbnQuYm9keSA9PT0gbnVsbCB8fCBjb250ZW50V2luZG93ID09PSBudWxsIHx8IGNvbnRlbnRXaW5kb3dbJ2pRdWVyeSddID09PSBudWxsKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5jb250ZW50Q2hhbmdlZChvcHRfY2JrKVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIG5vdGlmeSB0aGUgY2FsbGVyXG4gICAgaWYgKG9wdF9jYmspIHtcbiAgICAgIG9wdF9jYmsoKVxuICAgIH1cblxuICAgIC8vIC8vIGxvYWRpbmdcbiAgICAvLyB1cGRhdGVVaSh7XG4gICAgLy8gICAuLi5nZXRVaSgpLFxuICAgIC8vICAgbG9hZGluZzogTE9BRElORy5OT05FLFxuICAgIC8vIH0pXG5cbiAgICAvLyB1cGRhdGUgYWxsIGNvbXBvbmVudHNcbiAgICB1cGRhdGVDb21wb25lbnRzKClcblxuICAgIC8vIHVwZGF0ZSBzdGFnZSBjb21wb25lbnRcbiAgICBpbml0U3RhZ2VXcmFwcGVyKHRoaXMuaWZyYW1lKVxuXG4gICAgLy8gaW5pdCBzZWxlY3Rpb25cbiAgICBzZWxlY3RCb2R5KClcbiAgfVxuXG4gIC8qKlxuICAgKiBidWlsZCBhIHN0cmluZyBvZiB0aGUgcmF3IGh0bWwgY29udGVudFxuICAgKiByZW1vdmUgYWxsIGludGVybmFsIG9iamVjdHMgYW5kIGF0dHJpYnV0ZXNcbiAgICovXG4gIGdldEh0bWwoKSB7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gdGhpcy5nZXRIdG1sR2VuZXJhdG9yKClcbiAgICBsZXQgcmVzID0gbnVsbFxuICAgIGRvIHtcbiAgICAgIHJlcyA9IGdlbmVyYXRvci5uZXh0KClcbiAgICB9IHdoaWxlICghcmVzLmRvbmUpXG4gICAgcmV0dXJuIHJlcy52YWx1ZVxuICB9XG5cbiAgLyoqXG4gICAqIGFzeW5jIHZlcmlvbiBvZiBnZXRIdG1sXG4gICAqIHRoaXMgaXMgYW4gb3B0aW1pc2F0aW9uIG5lZWRlZCB0byBzcGVlZHVwIGRyYWcgc3RhcnQgKHdoaWNoIGNyZWF0ZXMgYW4gdW5kb1xuICAgKiBwb2ludCkgaXQgdXNlcyBnZW5lcmF0b3IgdG8gbG93ZXIgdGhlIGxvYWQgaW5kdWNlZCBieSB0aGVzZSBvcGVyYXRpb25zXG4gICAqL1xuICBnZXRIdG1sQXN5bmMoY2JrKSB7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gdGhpcy5nZXRIdG1sR2VuZXJhdG9yKClcbiAgICB0aGlzLmdldEh0bWxOZXh0U3RlcChjYmssIGdlbmVyYXRvcilcbiAgfVxuXG4gIC8qKlxuICAgKiBkb2VzIG9uZSBtb3JlIHN0ZXAgb2YgdGhlIGFzeW5jIGdldEh0bWwgcHJvY2Vzc1xuICAgKi9cbiAgZ2V0SHRtbE5leHRTdGVwKGNiaywgZ2VuZXJhdG9yKSB7XG4gICAgY29uc3QgcmVzID0gZ2VuZXJhdG9yLm5leHQoKVxuICAgIGlmIChyZXMuZG9uZSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBjYmsocmVzLnZhbHVlKSwgMClcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmdldEh0bWxOZXh0U3RlcChjYmssIGdlbmVyYXRvciksIDApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHRoZSBhc3luYyBnZXRIdG1sIHByb2Nlc3NcbiAgICogeWllbGQgYWZ0ZXIgZWFjaCBzdGVwXG4gICAqIEZJWE1FOiB3ZSBzaG91bGQgYmUgYWJsZSB0byBhdm9pZCBjcmVhdGluZyBhbiBhbHRlcm5hdGl2ZSBkb20gYW5kIGhhbmRsZVxuICAgKiBldmVyeXRoaW5nIG9uIHRoZSBzZXJ2ZXIgc2lkZVxuICAgKi9cbiAgKiBnZXRIdG1sR2VuZXJhdG9yKCkge1xuICAgIC8vIHVwZGF0ZSBzdHlsZSB0YWcgKHRoZSBkb20gZG8gbm90IHVwZGF0ZSBhdXRvbWF0aWNhbGx5IHdoZW4gd2UgY2hhbmdlXG4gICAgLy8gZG9jdW1lbnQuc3R5bGVTaGVldHMpXG4gICAgY29uc3QgdXBkYXRlZFN0eWxlcyA9IGdldEFsbFN0eWxlcygpXG4gICAgeWllbGRcblxuICAgIC8vIGNsb25lXG4gICAgY29uc3QgY29udGVudERvY3VtZW50ID0gZ2V0U2l0ZURvY3VtZW50KClcbiAgICBjb25zdCBjbGVhbkZpbGUgPSAoY29udGVudERvY3VtZW50LmNsb25lTm9kZSh0cnVlKSBhcyBEb2N1bWVudClcbiAgICB5aWVsZFxuXG4gICAgLy8gYXBwbHkgc3R5bGVzIGluIEpTT04gdG8gdGhlIERPTSwgdGhpcyBpcyB0byBlbnN1cmUgd2Ugc2F2ZSB0aGUgc3R5bGVzXG4gICAgLy8gdW50dWNoZWQgYnkgdGhlIGJyb3dzZXJcbiAgICBjb25zdCBzdHlsZVRhZyA9IGNsZWFuRmlsZS5xdWVyeVNlbGVjdG9yKCcuJyArIENvbnN0YW50cy5JTkxJTkVfU1RZTEVfVEFHX0NMQVNTX05BTUUpXG4gICAgc3R5bGVUYWcuaW5uZXJIVE1MID0gdXBkYXRlZFN0eWxlc1xuICAgIHlpZWxkXG5cbiAgICAvLyBnZXQgaHRtbFxuICAgIHJlbW92ZVd5c2lodG1sTWFya3VwKGNsZWFuRmlsZSlcbiAgICB5aWVsZFxuICAgIGxldCByYXdIdG1sID0gKGNsZWFuRmlsZSBhcyBEb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTFxuICAgIHlpZWxkXG5cbiAgICAvLyBhZGQgZG9jdHlwZVxuICAgIHJhd0h0bWwgPSAnPCFET0NUWVBFIGh0bWw+JyArIHJhd0h0bWxcbiAgICByZXR1cm4gcmF3SHRtbFxuICB9XG59XG4iLCIvLyBGSVhNRTogdGhpcyBob2xlIGZpbGUgaXMgYSBtZXNzXG5cbmltcG9ydCB7IFNjcm9sbERhdGEsIFNlbGVjdGFibGVTdGF0ZSB9IGZyb20gJ2RyYWctZHJvcC1zdGFnZS1jb21wb25lbnQvc3JjL3RzL1R5cGVzJ1xuaW1wb3J0IHsgU3RhZ2UgfSBmcm9tICdkcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy9pbmRleCdcblxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlLCBFbGVtZW50SWQsIEVsZW1lbnRUeXBlIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgU2l0ZVN0YXRlIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IFVpU3RhdGUgfSBmcm9tICcuLi91aS1zdG9yZS90eXBlcydcbmltcG9ydCB7IGVkaXRFbGVtZW50IH0gZnJvbSAnLi9Db250ZXh0TWVudSdcbmltcG9ydCB7IGZpeFN0eWxlRm9yRWxlbWVudCB9IGZyb20gJy4uL3V0aWxzL3N0eWxlcydcbmltcG9ydCB7XG4gIGdldEJvZHksXG4gIGdldENoaWxkcmVuLFxuICBnZXRDaGlsZHJlblJlY3Vyc2l2ZSxcbiAgZ2V0RWxlbWVudEJ5RG9tRWxlbWVudCxcbiAgZ2V0RWxlbWVudEJ5SWQsXG4gIGdldFBhcmVudCxcbiAgZ2V0U2VsZWN0ZWRFbGVtZW50c1xufSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQgeyBnZXREb21FbGVtZW50LCBnZXRJZCB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZG9tJ1xuaW1wb3J0IHsgZ2V0RWxlbWVudHMsIHN1YnNjcmliZUVsZW1lbnRzLCB1cGRhdGVFbGVtZW50cyB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBnZXRTaXRlLCBzdWJzY3JpYmVTaXRlLCB1cGRhdGVTaXRlIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldFNpdGVEb2N1bWVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2l0ZUZyYW1lJ1xuaW1wb3J0IHsgZ2V0VWksIHN1YnNjcmliZVVpIH0gZnJvbSAnLi4vdWktc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBpbnNlcnRBdCB9IGZyb20gJy4uL3V0aWxzL2FycmF5J1xuaW1wb3J0IHsgb25DcnVkQ2hhbmdlLCBTdGF0ZUNoYW5nZSB9IGZyb20gJy4uL3N0b3JlL2NydWQtc3RvcmUnXG5pbXBvcnQgeyByZXNldEZvY3VzIH0gZnJvbSAnLi9Nb2RhbERpYWxvZydcbmltcG9ydCB7IHNlbGVjdEJvZHkgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2Rpc3BhdGNoZXJzJ1xuXG4vLyBGSVhNRTogZG8gbm90IGV4cG9zZSB0aGUgc3RhZ2UgY29tcG9uZW50IGhlcmU/XG5sZXQgc3RhZ2U6IFN0YWdlXG5leHBvcnQgY29uc3QgZ2V0U3RhZ2U6ICgoKSA9PiBTdGFnZSkgPSAoKSA9PiBzdGFnZVxubGV0IHN0b3BlZCA9IGZhbHNlXG5leHBvcnQgY29uc3Qgc3RvcFN0YWdlT2JzZXJ2ZXIgPSAoKSA9PiBzdG9wZWQgPSB0cnVlXG5leHBvcnQgY29uc3Qgc3RhcnRTdGFnZU9ic2VydmVyID0gKCkgPT4gc3RvcGVkID0gZmFsc2VcblxuLy8gZXhwb3NlIHJlc2V0IGFzIGEgd29ya2Fyb3VuZCBzb21lIHN0YWdlIGJ1Z3MgKHNlZSBlbGVtZW50LW9ic2VydmVyKVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U3RhZ2UoKSB7XG4gIGlmICghc3RhZ2UpIHsgcmV0dXJuIH0gLy8gaGFwcGVucyB3aGVuIEZpbGU6OnNldERhdGEgaXMgY2FsbGVkIGJlZm9yZSB0aGUgaHRtbCBpcyBzZXRcbiAgY29uc3QgZG9jID0gZ2V0U2l0ZURvY3VtZW50KClcbiAgY29uc3QgeyBjdXJyZW50UGFnZUlkIH0gPSBnZXRVaSgpXG4gIHN0b3BTdGFnZU9ic2VydmVyKCkgLy8gRklYTUU6IHNob3VsZCBub3QgYmUgbmVjZXNzYXJ5LCBzdGFnZSBidWc/XG4gIHN0YWdlLnJlc2V0KGdldEVsZW1lbnRzKClcbiAgICAuZmlsdGVyKFxuICAgICAgKGVsOiBFbGVtZW50U3RhdGUpID0+IChlbC5wYWdlTmFtZXMubGVuZ3RoID09PSAwIHx8ICEhZWwucGFnZU5hbWVzLmZpbmQoKG5hbWUpID0+IG5hbWUgPT09IGN1cnJlbnRQYWdlSWQpKVxuICAgICAgJiYgKChlbC52aXNpYmlsaXR5LmRlc2t0b3AgJiYgIWdldFVpKCkubW9iaWxlRWRpdG9yKSB8fCAoZWwudmlzaWJpbGl0eS5tb2JpbGUgJiYgZ2V0VWkoKS5tb2JpbGVFZGl0b3IpKSlcbiAgICAubWFwKChlbCkgPT4gZ2V0RG9tRWxlbWVudChkb2MsIGVsKSlcbiAgICAuZmlsdGVyKChlbCkgPT4gISFlbCkpIC8vIEZJWE1FOiB3aGF0IHNob3VsZCB3ZSBkbyB3aGlsZSB0aGUgY2hpbGQgaXMgbm90IHlldCBhZGRlZFxuICBzdGFnZS5zZXRTZWxlY3Rpb24oZ2V0U2VsZWN0ZWRFbGVtZW50cygpLm1hcCgoZWwpID0+IGdldERvbUVsZW1lbnQoZG9jLCBlbCkpKVxuICBzdGFydFN0YWdlT2JzZXJ2ZXIoKVxufVxuLyoqXG4gKiB1bnNldCBhbGwgdGhlIGlubGluZSBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHNldCBieSB0aGUgc3RhZ2UgY29tcG9uZW50XG4gKiBvbiBhIGRyYWdnYWJsZSBlbGVtZW50IGFmdGVyIGRyb3BcbiAqL1xuZnVuY3Rpb24gcmVzZXRFbChlbDogSFRNTEVsZW1lbnQpIHtcbiAgZWwuc3R5bGUudG9wID0gJydcbiAgZWwuc3R5bGUubGVmdCA9ICcnXG4gIGVsLnN0eWxlLnJpZ2h0ID0gJydcbiAgZWwuc3R5bGUuYm90dG9tID0gJydcbiAgZWwuc3R5bGUud2lkdGggPSAnJ1xuICBlbC5zdHlsZS5oZWlnaHQgPSAnJ1xuICBlbC5zdHlsZS5tYXJnaW4gPSAnJ1xuICBlbC5zdHlsZS5wYWRkaW5nID0gJydcbiAgZWwuc3R5bGUuYm9yZGVyID0gJydcbiAgZWwuc3R5bGUubWluSGVpZ2h0ID0gJydcbiAgZWwuc3R5bGUucG9zaXRpb24gPSAnJ1xufVxuXG5mdW5jdGlvbiBzY3JvbGxUb0NvbnRhaW5TZWxlY3Rpb24oKSB7XG4gIHN0YWdlLnNob3coZ2V0U2VsZWN0ZWRFbGVtZW50cygpXG4gICAgLm1hcCgoZWwpID0+IGdldERvbUVsZW1lbnQoZ2V0U2l0ZURvY3VtZW50KCksIGVsKSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmFibGVTdGlja3koKTogYm9vbGVhbiB7XG4gIGlmICghc3RhZ2UpIHsgcmV0dXJuIGZhbHNlIH1cbiAgcmV0dXJuIHN0YWdlLmVuYWJsZVN0aWNreVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNldEVuYWJsZVN0aWNreShlbmFibGU6IGJvb2xlYW4pIHtcbiAgaWYgKCFzdGFnZSkgeyByZXR1cm4gfVxuICBzdGFnZS5lbmFibGVTdGlja3kgPSBlbmFibGVcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVTdGlja3koKSB7XG4gIGlmICghc3RhZ2UpIHsgcmV0dXJuIH1cbiAgc3RhZ2UuZW5hYmxlU3RpY2t5ID0gIXN0YWdlLmVuYWJsZVN0aWNreVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVkaXRNb2RlKCk6IGJvb2xlYW4ge1xuICBpZiAoIXN0YWdlKSB7IHJldHVybiBmYWxzZSB9XG4gIHJldHVybiBzdGFnZS5jYXRjaGluZ0V2ZW50c1xufVxuLy8gc2V0RWRpdE1vZGUgaXMgdXNlZCB0byBoaWRlIHRoZSBVSSB3aGlsZSBlZGl0aW5nIHRleHQgb24gc3RhZ2VcbmV4cG9ydCBmdW5jdGlvbiBzZXRFZGl0TW9kZShtb2RlOiBib29sZWFuKSB7XG4gIGlmICghc3RhZ2UpIHsgcmV0dXJuIH1cbiAgaWYgKHN0YWdlLnZpc2libGUgPT09IG1vZGUpIHtcbiAgICBzdGFnZS52aXNpYmxlID0gIW1vZGVcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZVdpbmRvdygpIHtcbiAgaWYgKCFzdGFnZSkgeyByZXR1cm4gfVxuICAvLyB1c2VsZXNzIGJlY2F1c2UgaXQgaXMgZG9uZSBieSBET00gb2JzZXJ2ZXJzIHN0YWdlLnVwZGF0ZU1ldHJpY3MoKVxuICBzdGFnZS5yZXNpemVXaW5kb3coKVxufVxuXG4vKipcbiAqIHNhZmUgc3Vic2NyaWJlIHRvIG1vdXNlIGV2ZW50XG4gKiBoYW5kbGUgdGhlIG11bHRpcGxlIGlmcmFtZXMgYW5kIHRoZSBjdXJyZW50IHdpbmRvd1xuICogQHJldHVybiBmdW5jdGlvbiB0byBjYWxsIHRvIHVuc3Vic2NyaWJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVNb3VzZUV2ZW50KHR5cGU6IHN0cmluZywgY2JrOiAoZSkgPT4gdm9pZCk6ICgpID0+IHZvaWQge1xuICBpZiAoIXN0YWdlKSB7IHJldHVybiB9XG4gIHJldHVybiBzdGFnZS5zdWJzY3JpYmVNb3VzZUV2ZW50KHR5cGUsIGNiaylcbn1cblxuXG4vLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIGVsZW1lbnRzIG9ic2VydmVyXG5mdW5jdGlvbiBwcmV2ZW50U3RhZ2VPYnNlcnZlcnM8QSwgQj4oY2JrOiAoLi4uYXJnczogQVtdKSA9PiBCKTogKC4uLmFyZ3M6IEFbXSkgPT4gQiB7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIC8vIHByZXZlbnQgdXBkYXRlcyBmcm9tIHN0YWdlIHNpbmNlIHdlIHdpbGwgdXBkYXRlIHRoZSBzZWxlY3Rpb25cbiAgICBzdG9wU3RhZ2VPYnNlcnZlcigpXG4gICAgLy8gZG8gdGhlIGFjdHVhbCBjYWxsXG4gICAgY29uc3QgcmVzID0gY2JrKC4uLmFyZ3MpXG4gICAgLy8gcmVzdGFydCBzdGFnZSBvYnNlcnZlcnNcbiAgICBzdGFydFN0YWdlT2JzZXJ2ZXIoKVxuICAgIC8vIHJldHVybiB0aGUgc2FtZSBhcyB0aGUgY2JrXG4gICAgcmV0dXJuIHJlc1xuICB9XG59XG4vLyBvbiBhZGQgZWxlbWVudHNcbmZ1bmN0aW9uIG9uQWRkRWxlbWVudChlbGVtZW50czogRWxlbWVudFN0YXRlW10pIHtcbiAgaWYgKCFzdGFnZSkgeyBjb25zb2xlLndhcm4oJ29uQWRkRWxlbWVudCBOTyBTVEFHRScpOyByZXR1cm4gfVxuICBjb25zdCBkb2MgPSBnZXRTaXRlRG9jdW1lbnQoKVxuICBlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGdldFBhcmVudChlbCkgLy8gcGFyZW50IG1heSBiZSBudWxsIGlmIHRoZSBwYXJlbnQncyBjaGlsZHJlbiBhcnJheSBoYXMgbm90IHlldCBiZSBjaGFuZ2VkLCB0aGVuIHRoZSBlbGVtZW50IHdpbGwgYmUgbW92ZWQgd2hlbiBpdCBpcyBzZXRcbiAgICBjb25zdCBwYXJlbnRFbCA9IHBhcmVudCA/IGdldERvbUVsZW1lbnQoZG9jLCBwYXJlbnQpIDogZG9jLmJvZHlcbiAgICBpZiAocGFyZW50ICYmICFwYXJlbnRFbCkge1xuICAgICAgLy8gbm8gcGFyZW50IGVsZW1lbnQgeWV0IGJ1dCB3aWxsIGNvbWUgc29vblxuICAgICAgY29uc29sZS53YXJuKCdubyBwYXJlbnQgZWxlbWVudCB5ZXQgYnV0IHdpbGwgY29tZSBzb29uJylcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYWRkIHRvIHN0YWdlIChuZWVkcyB0byBiZSBkb25lIGJlZm9yZSBvblVwZGF0ZSBmb3Igc2VsZWN0aW9uKVxuICAgICAgc3RhZ2UuYWRkRWxlbWVudChnZXREb21FbGVtZW50KGRvYywgZWwpLCB0cnVlKVxuICAgIH1cbiAgfSlcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgIC8vIGEgdGltZW91dCBpcyBuZWVkZWQgYmVjYXVzZSBvdGhlcndpc2UgaXQgc2VuZHMgdGhlIHNjcm9sbCBhdCB0aGUgYm90dG9tICh0aGUgZWxlbWVudCBzZWVtcyB0byBiZSBwdXQgYWZ0ZXIgdGhlIGxhc3Qgc2VjdGlvbilcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHNlbmQgdGhlIHNjcm9sbCB0byB0aGUgdGFyZ2V0XG4gICAgICBzdGFnZS5jZW50ZXIoZWxlbWVudHMubWFwKChlbCkgPT4gZ2V0RG9tRWxlbWVudChkb2MsIGVsKSkpXG4gICAgfSwgNTAwKVxuICAgIC8vIHVwZGF0ZSBzZWxlY3Rpb24sIGJlY2F1c2UgaXQgaXMgbm90IGFkZGVkIGluIG9uVXBkYXRlRWxlbWVudCAoaXQgc2hvdWxkIGJlIGJ1dCBpdCBzZWVtcyBsaWtlIHRoZSBkb20gZWxlbWVudCBkb2VzIG5vdCBleGlzdD8pXG4gICAgc3RhZ2Uuc2V0U2VsZWN0aW9uKGdldFNlbGVjdGVkRWxlbWVudHMoKS5tYXAoKGVsKSA9PiBnZXREb21FbGVtZW50KGRvYywgZWwpKSlcbiAgfVxufVxuLy8gb24gZGVsZXRlZCBlbGVtZW50c1xuZnVuY3Rpb24gb25EZWxldGVFbGVtZW50cyhlbGVtZW50czogRWxlbWVudFN0YXRlW10pIHtcbiAgaWYgKCFzdGFnZSkgeyBjb25zb2xlLndhcm4oJ29uRGVsZXRlRWxlbWVudCBOTyBTVEFHRScpOyByZXR1cm4gfVxuICBlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIHN0YWdlLnJlbW92ZUVsZW1lbnQoZWwuaWQpXG4gIH0pXG59XG4vLyBvbiB1cGRhdGUgZWxlbWVudHNcbmZ1bmN0aW9uIG9uVXBkYXRlRWxlbWVudChjaGFuZ2U6IFN0YXRlQ2hhbmdlPEVsZW1lbnRTdGF0ZT5bXSkge1xuICBpZiAoIXN0YWdlKSB7IGNvbnNvbGUud2Fybignb25VcGRhdGVFbGVtZW50IE5PIFNUQUdFJyk7IHJldHVybiB9XG4gIC8vIHRoaXMgc2hvdWxkIGJlIGhlcmUgYnV0IG1ha2VzIGFkZGluZyBlbGVtZW50cyBidWdndXk6IGlmIChzdG9wZWQpIHsgY29uc29sZS53YXJuKCdvblVwZGF0ZUVsZW1lbnQgc3RvcGVkIGlzIHRydWUgPT4gZG8gbm90aGluZycpOyByZXR1cm4gfVxuICBjb25zdCBkb2MgPSBnZXRTaXRlRG9jdW1lbnQoKVxuICBjaGFuZ2UuZm9yRWFjaCgoe2Zyb20sIHRvfSkgPT4ge1xuICAgIGNvbnN0IGRvbUVsID0gZ2V0RG9tRWxlbWVudChkb2MsIHRvKVxuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhZ2UoKS5nZXRTdGF0ZUJ5SWQodG8uaWQpXG4gICAgaWYoIWRvbUVsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdXaHk/JywgZnJvbSwgdG8pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gY29uc3QgaXNTdGF0aWMgPSBnZXRTaXRlV2luZG93KCkuZ2V0Q29tcHV0ZWRTdHlsZShkb21FbCkucG9zaXRpb24gPT09ICdzdGF0aWMnXG4gICAgLy8gc2VsZWN0aW9uXG4gICAgaWYgKHRvLnNlbGVjdGVkICE9PSBmcm9tLnNlbGVjdGVkKSB7XG4gICAgICBjb25zdCBzZWxlY3Rpb24gPSBzdGFnZS5nZXRTZWxlY3Rpb24oKVxuICAgICAgY29uc3QgZm91bmQgPSBzZWxlY3Rpb24uZmluZCgocykgPT4gcy5lbCA9PT0gZG9tRWwpXG4gICAgICBpZiAodG8uc2VsZWN0ZWQpIHtcbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgIGNvbnN0IG5ld1NlbGVjdGlvbiA9IHNlbGVjdGlvbi5tYXAoKHMpID0+IHMuZWwpLmNvbmNhdChbZG9tRWxdKVxuICAgICAgICAgIGdldFN0YWdlKCkuc2V0U2VsZWN0aW9uKG5ld1NlbGVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgZ2V0U3RhZ2UoKS5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uLmZpbHRlcigocykgPT4gcyAhPT0gZm91bmQpLm1hcCgocykgPT4gcy5lbCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZWxlbWVudCB2aXNpYmlsaXR5IGRlc3Rrb3AgYW5kIG1vYmlsZVxuICAgIGlmICh0by52aXNpYmlsaXR5LmRlc2t0b3AgIT09IGZyb20udmlzaWJpbGl0eS5kZXNrdG9wKSB7XG4gICAgICBpZiAodG8udmlzaWJpbGl0eS5kZXNrdG9wKSB7XG4gICAgICAgIGlmICghZ2V0VWkoKS5tb2JpbGVFZGl0b3IpIHtcbiAgICAgICAgICBnZXRTdGFnZSgpLmFkZEVsZW1lbnQoZG9tRWwpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghZ2V0VWkoKS5tb2JpbGVFZGl0b3IpIHtcbiAgICAgICAgICAvLyB0aGVyZSBpcyBhIGJ1ZyBpbiBzdGFnZSA9PiByZXNldCBpbnN0ZWFkIG9mXG4gICAgICAgICAgZ2V0U3RhZ2UoKS5yZW1vdmVFbGVtZW50KHN0YXRlLmlkKVxuICAgICAgICAgIC8vIG5lZWRSZXNldCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodG8udGFnTmFtZSAhPT0gZnJvbS50YWdOYW1lKSB7XG4gICAgICAvLyB0aGUgc3RhdGUuZWwgbmVlZHMgdG8gYmUgdXBkYXRlZFxuICAgICAgc3RhZ2UucmVtb3ZlRWxlbWVudChzdGF0ZS5pZClcbiAgICAgIHN0YWdlLmFkZEVsZW1lbnQoZG9tRWwpXG4gICAgICAvLyBzb21laG93IHdlIGxvb3NlIHRoZSBzZWxlY3Rpb24gaGVyZVxuICAgICAgc3RhZ2Uuc2V0U2VsZWN0aW9uKGdldFNlbGVjdGVkRWxlbWVudHMoKS5tYXAoKGVsKSA9PiBnZXREb21FbGVtZW50KGRvYywgZWwpKSlcbiAgICB9XG4gICAgaWYgKHRvLnZpc2liaWxpdHkubW9iaWxlICE9PSBmcm9tLnZpc2liaWxpdHkubW9iaWxlKSB7XG4gICAgICBpZiAodG8udmlzaWJpbGl0eS5tb2JpbGUpIHtcbiAgICAgICAgaWYgKGdldFVpKCkubW9iaWxlRWRpdG9yKSB7XG4gICAgICAgICAgZ2V0U3RhZ2UoKS5hZGRFbGVtZW50KGRvbUVsKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0by5zdHlsZSAhPT0gZnJvbS5zdHlsZSkge1xuICAgICAgLy8gd2h5IGEgdGltb3V0IGhlcmU/IGxvb2tzIGxpa2Ugd2l0aG91dCBpdCB0aGVyZSBpcyBhIHByb2JsZW0gd2hlbiBjcmVhdGluZyBlbGVtZW50cyAvIHBhc3RpbmcgZXRjID9cbiAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gc2Nyb2xsVG9Db250YWluU2VsZWN0aW9uKCksIDUwMClcbiAgICB9XG4gIH0pXG5cbiAgLy8gdXBkYXRlIHRoZSBwb3NpdGlvbiBhbmQgc2l6ZSBvZiB0aGUgVUlcbiAgY29uc3QgY2hhbmdlZERvbUVsZW1lbnRzID0gY2hhbmdlXG4gICAgLmZpbHRlcigoe2Zyb20sIHRvfSkgPT4gZnJvbS5zdHlsZSAhPT0gdG8uc3R5bGUgfHwgZnJvbS5jbGFzc0xpc3QgIT09IHRvLmNsYXNzTGlzdCAvKiBhZGQgcGFnZU5hbWVzPyBjaGlsZHJlbj8qLylcbiAgICAubWFwKCh7dG99KSA9PiBnZXREb21FbGVtZW50KGdldFNpdGVEb2N1bWVudCgpLCB0bykpXG4gICAgLy8gYWRkIHRoZSBjaGlsZHJlbiBtYXkgbmVlZCBVSSB1cGRhdGUgdG9vXG4gICAgLmNvbmNhdChjaGFuZ2VcbiAgICAgIC8vIC5maWx0ZXIoKHtmcm9tLCB0b30pID0+IGZyb20uY2hpbGRyZW4gIT0gdG8uY2hpbGRyZW4pXG4gICAgICAuZmxhdE1hcCgoe3RvfSkgPT4gZ2V0Q2hpbGRyZW5SZWN1cnNpdmUodG8pKVxuICAgICAgLm1hcCgoZWwpID0+IGdldERvbUVsZW1lbnQoZ2V0U2l0ZURvY3VtZW50KCksIGVsKSkpXG5cblxuICBzdGFnZS51cGRhdGVNZXRyaWNzKGNoYW5nZWREb21FbGVtZW50cylcbn1cblxuLy8gVE9ETzogZ2V0IHJpZCBvZiB0aGUgY2xhc3MsIG9ubHkgbWV0aG9kc1xubGV0IHN0YWdlV3JhcHBlcjogU3RhZ2VXcmFwcGVyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YWdlV3JhcHBlcihlbGVtZW50OiBIVE1MSUZyYW1lRWxlbWVudCkge1xuICBpZighc3RhZ2VXcmFwcGVyKSBzdGFnZVdyYXBwZXIgPSBuZXcgU3RhZ2VXcmFwcGVyKClcbiAgc3RhZ2VXcmFwcGVyLmluaXQoZWxlbWVudClcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGFnZUNsZWFudXAoKSB7XG4gIGlmKHN0YWdlV3JhcHBlcikgc3RhZ2VXcmFwcGVyLmNsZWFudXAoKVxufVxuXG5jbGFzcyBTdGFnZVdyYXBwZXIge1xuICBwcml2YXRlIHN0YWdlOiBTdGFnZVxuICBwcml2YXRlIGRyYWdnaW5nID0gZmFsc2VcbiAgcHJpdmF0ZSB0b0JlVW5zdWJzY3JpYmVkID0gW11cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdWJzY3JpYmVVaSgocHJldlN0YXRlOiBVaVN0YXRlLCBuZXh0U3RhdGU6IFVpU3RhdGUpID0+IHtcbiAgICAgIGlmICghc3RhZ2UpIHsgcmV0dXJuIH1cbiAgICAgIGlmICghcHJldlN0YXRlIHx8IHByZXZTdGF0ZS5tb2JpbGVFZGl0b3IgIT09IG5leHRTdGF0ZS5tb2JpbGVFZGl0b3IpIHtcbiAgICAgICAgLy8gcmVzZXQgdGhlIHN0YWdlIGFmdGVyIHN3aXRjaCB0by9mcm9tIG1vYmlsZSBlZGl0b3JcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNldFN0YWdlKCksIDApXG4gICAgICB9XG4gICAgICBpZiAoIXByZXZTdGF0ZSB8fCBwcmV2U3RhdGUubW9iaWxlRWRpdG9yICE9PSBuZXh0U3RhdGUubW9iaWxlRWRpdG9yKSB7XG4gICAgICAgIHJlc2l6ZVdpbmRvdygpXG4gICAgICB9XG4gICAgICBpZiAocHJldlN0YXRlICYmIHByZXZTdGF0ZS5jdXJyZW50UGFnZUlkICE9PSBuZXh0U3RhdGUuY3VycmVudFBhZ2VJZCkge1xuICAgICAgICAvLyByZXNldCB0aGUgc3RhZ2UgYWZ0ZXIgcGFnZSBvcGVuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzZXRTdGFnZSgpLCAwKVxuICAgICAgfVxuICAgIH0pXG4gICAgc3Vic2NyaWJlU2l0ZSgocHJldlN0YXRlOiBTaXRlU3RhdGUsIG5leHRTdGF0ZTogU2l0ZVN0YXRlKSA9PiB7XG4gICAgICBpZiAoIXN0YWdlKSB7IHJldHVybiB9XG4gICAgICBpZiAocHJldlN0YXRlLmhlYWRTdHlsZSAhPT0gbmV4dFN0YXRlLmhlYWRTdHlsZSkge1xuICAgICAgICAvLyB1cGRhdGUgVUkgd2hlbiB0aGUgdXNlciB1c2VzIENTUyBlZGl0b3JcbiAgICAgICAgc3RhZ2UudXBkYXRlTWV0cmljcygpXG4gICAgICB9XG4gICAgfSlcbiAgICBzdWJzY3JpYmVFbGVtZW50cyhvbkNydWRDaGFuZ2U8RWxlbWVudFN0YXRlPih7XG4gICAgICBvbkFkZDogcHJldmVudFN0YWdlT2JzZXJ2ZXJzKG9uQWRkRWxlbWVudCksXG4gICAgICBvbkRlbGV0ZTogcHJldmVudFN0YWdlT2JzZXJ2ZXJzKG9uRGVsZXRlRWxlbWVudHMpLFxuICAgICAgb25VcGRhdGU6IHByZXZlbnRTdGFnZU9ic2VydmVycyhvblVwZGF0ZUVsZW1lbnQpLFxuICAgIH0pKVxuICB9XG5cbiAgY2xlYW51cCgpIHtcbiAgICAvLyBjbGVhbnVwXG4gICAgaWYgKCEhdGhpcy5zdGFnZSkge1xuICAgICAgdGhpcy5zdGFnZS5jbGVhbnVwKClcbiAgICAgIHRoaXMuc3RhZ2UgPSBudWxsXG4gICAgICBzdGFnZSA9IG51bGxcbiAgICB9XG4gICAgdGhpcy50b0JlVW5zdWJzY3JpYmVkLmZvckVhY2goKHUpID0+IHUoKSlcbiAgICB0aGlzLnRvQmVVbnN1YnNjcmliZWQgPSBbXVxuICB9XG5cbiAgaW5pdChpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgdGhpcy5jbGVhbnVwKClcbiAgICAvLyBGSVhNRTogZG8gbm90IHVzZSBjc3MgY2xhc3NlcyBidXQgRWxlbWVudERhdGFcbiAgICBzdGFnZSA9IHRoaXMuc3RhZ2UgPSBuZXcgU3RhZ2UoaWZyYW1lLCBbXSwge1xuICAgICAgZ2V0SWQ6IChlbDogSFRNTEVsZW1lbnQpID0+IGdldElkKGVsKSxcbiAgICAgIGlzU2VsZWN0YWJsZTogKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICByZXR1cm4gdHJ1ZSAvLyBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdib2R5J1xuICAgICAgfSxcbiAgICAgIGlzRHJhZ2dhYmxlOiAoZWw6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZChnZXRJZChlbCkpXG4gICAgICAgIHJldHVybiBlbGVtZW50LmVuYWJsZURyYWdcbiAgICAgIH0sXG4gICAgICBpc0Ryb3Bab25lOiAoZWw6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZChnZXRJZChlbCkpXG4gICAgICAgIHJldHVybiBlbGVtZW50LmVuYWJsZURyb3BcbiAgICAgIH0sXG4gICAgICBpc1Jlc2l6ZWFibGU6ICgoZWw6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZChnZXRJZChlbCkpXG4gICAgICAgIC8vIHNlY3Rpb24gaXMgbm90IHJlc2l6ZWFibGUgb24gbW9iaWxlXG4gICAgICAgIGNvbnN0IGlzU2VjdGlvbk9uTW9iaWxlID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3IgJiYgZWxlbWVudC50eXBlID09PSBFbGVtZW50VHlwZS5TRUNUSU9OXG4gICAgICAgIGlmIChpc1NlY3Rpb25Pbk1vYmlsZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIC8vIHNlY3Rpb24gY29udGVudCByZXNpemFibGUgaGVpZ2h0IG9ubHlcbiAgICAgICAgY29uc3QgaXNTZWN0aW9uQ29udGVudE9uTW9iaWxlID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3IgJiYgZWxlbWVudC5pc1NlY3Rpb25Db250ZW50XG4gICAgICAgIGlmIChpc1NlY3Rpb25Db250ZW50T25Nb2JpbGUpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiBlbGVtZW50LmVuYWJsZVJlc2l6ZS50b3AsXG4gICAgICAgICAgICBsZWZ0OiBmYWxzZSxcbiAgICAgICAgICAgIGJvdHRvbTogZWxlbWVudC5lbmFibGVSZXNpemUuYm90dG9tLFxuICAgICAgICAgICAgcmlnaHQ6IGZhbHNlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjYXNlIG9mIGFsbCBvciBwYXJ0IG9mIHRoZSBzaWRlcyBhcmUgcmVzaXplYWJsZVxuICAgICAgICByZXR1cm4gZWxlbWVudC5lbmFibGVSZXNpemVcbiAgICAgIH0pLFxuICAgICAgdXNlTWluSGVpZ2h0OiAoZWw6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZChnZXRJZChlbCkpXG4gICAgICAgIHJldHVybiBlbGVtZW50LnVzZU1pbkhlaWdodFxuICAgICAgfSxcbiAgICAgIGNhbkRyb3A6ICgoZWw6IEhUTUxFbGVtZW50LCBkcm9wWm9uZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKGdldElkKGVsKSlcbiAgICAgICAgLy8gc2VjdGlvbnMgY2FuIG9ubHkgYmUgZHJvcHBlZCBpbiB0aGUgYm9keVxuICAgICAgICByZXR1cm4gZWxlbWVudC50eXBlICE9PSBFbGVtZW50VHlwZS5TRUNUSU9OXG4gICAgICAgICAgfHwgZHJvcFpvbmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYm9keSdcbiAgICAgIH0pLFxuICAgICAgb25FZGl0OiAoKSA9PiB7XG4gICAgICAgIGlmICghTm90aWZpY2F0aW9uLmlzQWN0aXZlKSB7XG4gICAgICAgICAgZWRpdEVsZW1lbnQoKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2U6IChjaGFuZ2UpID0+IHRoaXMuYXBwbHlTdHlsZShjaGFuZ2UpLFxuICAgICAgb25Ecm9wOiAoY2hhbmdlKSA9PiB0aGlzLnN0b3BEcmFnKGNoYW5nZSksXG4gICAgICBvblJlc2l6ZUVuZDogKGNoYW5nZSkgPT4gdGhpcy5zdG9wUmVzaXplKGNoYW5nZSksXG4gICAgICAvLyBvbkRyYWc6IChjaGFuZ2UpID0+IHRoaXMudXBkYXRlVmlldygpLFxuICAgICAgLy8gb25SZXNpemU6IChjaGFuZ2UpID0+IHRoaXMuYXBwbHlTdHlsZShjaGFuZ2UpLFxuICAgICAgb25TZWxlY3Q6IChjaGFuZ2UpID0+IHRoaXMub25TZWxlY3Rpb25DaGFuZ2VkKGNoYW5nZSksXG4gICAgICBvblN0YXJ0RHJhZzogKGNoYW5nZSkgPT4gdGhpcy5zdGFydERyYWcoKSxcbiAgICAgIG9uU3RhcnRSZXNpemU6IChjaGFuZ2UpID0+IHRoaXMuc3RhcnRSZXNpemUoKSxcbiAgICB9KVxuICAgIC8vIGluaXQgPT4gdGhlIGRvbSBuZWVkcyB0aW1lIHRvIGxvYWRcbiAgICBzZXRUaW1lb3V0KCgpID0+IHJlc2V0U3RhZ2UoKSwgMTAwMClcbiAgICAvLyBnaXZlIHRpbWUgdG8gaWZyYW1lcyB0byBpbml0aWFsaXplXG4gICAgLy8gRklYTUU6IHVzZSBvbmxvYWRcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMudG9CZVVuc3Vic2NyaWJlZC5wdXNoKFxuICAgICAgICBzdWJzY3JpYmVNb3VzZUV2ZW50KCdtb3VzZWRvd24nLCAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgIC8vIHJlc2V0IGZvY3VzIHdoZW4gdGhlIHN0YWdlIGlzIGNsaWNrZWRcbiAgICAgICAgICBpZiAod2luZG93ICE9PSAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHtcbiAgICAgICAgICAgIHJlc2V0Rm9jdXMoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICApXG4gICAgfSwgMClcbiAgfVxuICBnZXRTY3JvbGwoKTogU2Nyb2xsRGF0YSB7XG4gICAgaWYgKCF0aGlzLnN0YWdlKSB7IHJldHVybiB7eDogMCwgeTogMH0gfVxuICAgIHJldHVybiB0aGlzLnN0YWdlLmdldFNjcm9sbCgpXG4gIH1cbiAgcHJpdmF0ZSBzdGFydERyYWdPclJlc2l6ZSgpIHtcbiAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZVxuICAgIC8vIHRoaXMucHJlcGFyZVVuZG8oKVxuICB9XG4gIHByaXZhdGUgc3RhcnRSZXNpemUoKSB7XG4gICAgLy8gRklYTUU6IGFkZCBhIGNsYXNzIHRvIHRoZSBib2R5IGlzIHNsb3dcbiAgICBnZXRTaXRlRG9jdW1lbnQoKS5ib2R5LmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLlJFU0laSU5HX0NMQVNTX05BTUUpXG4gICAgdGhpcy5zdGFydERyYWdPclJlc2l6ZSgpXG4gIH1cbiAgcHJpdmF0ZSBzdGFydERyYWcoKSB7XG4gICAgLy8gRklYTUU6IGFkZCBhIGNsYXNzIHRvIHRoZSBib2R5IGlzIHNsb3dcbiAgICBnZXRTaXRlRG9jdW1lbnQoKS5ib2R5LmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLkRSQUdHSU5HX0NMQVNTX05BTUUpXG4gICAgdGhpcy5zdGFydERyYWdPclJlc2l6ZSgpXG4gIH1cbiAgcHJpdmF0ZSBzdG9wRHJhZ09yUmVzaXplKGNoYW5nZWQ6IFNlbGVjdGFibGVTdGF0ZVtdKSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlXG4gICAgdGhpcy5hcHBseVN0eWxlKGNoYW5nZWQpXG4gIH1cbiAgcHJpdmF0ZSBzdG9wUmVzaXplKGNoYW5nZWQ6IFNlbGVjdGFibGVTdGF0ZVtdKSB7XG4gICAgLy8gRklYTUU6IGFkZCBhIGNsYXNzIHRvIHRoZSBib2R5IGlzIHNsb3dcbiAgICBnZXRTaXRlRG9jdW1lbnQoKS5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoQ29uc3RhbnRzLlJFU0laSU5HX0NMQVNTX05BTUUpXG4gICAgdGhpcy5zdG9wRHJhZ09yUmVzaXplKGNoYW5nZWQpXG4gIH1cbiAgcHJpdmF0ZSBzdG9wRHJhZyhjaGFuZ2VkOiBTZWxlY3RhYmxlU3RhdGVbXSkge1xuICAgIC8vIEZJWE1FOiBhZGQgYSBjbGFzcyB0byB0aGUgYm9keSBpcyBzbG93XG4gICAgZ2V0U2l0ZURvY3VtZW50KCkuYm9keS5jbGFzc0xpc3QucmVtb3ZlKENvbnN0YW50cy5EUkFHR0lOR19DTEFTU19OQU1FKVxuICAgIHRoaXMuc3RvcERyYWdPclJlc2l6ZShjaGFuZ2VkKVxuICAgIC8vIEhhbmRsZSBwYXJlbnQgY2hhbmdlXG4gICAgLy8gYnVpbGQgYW4gYXJyYXkgd2l0aCBhbGwgdGhlIGNoYW5nZXMgKG1heSBjb250YWluIHNldmVyYWwgdGltZXMgdGhlIHNhbWUgcGFyZW50KVxuICAgIGNvbnN0IGNoYW5nZXM6IHtlbGVtZW50OiBFbGVtZW50U3RhdGUsIG5ld1BhcmVudDogRWxlbWVudFN0YXRlLCBvbGRQYXJlbnQ6IEVsZW1lbnRTdGF0ZSwgaWR4OiBudW1iZXJ9W10gPSBjaGFuZ2VkXG4gICAgICAubWFwKChzZWxlY3RhYmxlKSA9PiAoe1xuICAgICAgICAvLyBGSVhNRTogZmluZCBhIG1vcmUgb3B0aW1hbCB3YXkgdG8gZ2V0IHRoZSBkYXRhIGZyb20gRE9NIGVsZW1lbnRcbiAgICAgICAgZWxlbWVudDogZ2V0RWxlbWVudEJ5RG9tRWxlbWVudChnZXRTaXRlRG9jdW1lbnQoKSwgc2VsZWN0YWJsZS5lbCksXG4gICAgICAgIG5ld1BhcmVudDogZ2V0RWxlbWVudEJ5RG9tRWxlbWVudChnZXRTaXRlRG9jdW1lbnQoKSwgc2VsZWN0YWJsZS5lbC5wYXJlbnRFbGVtZW50KSxcbiAgICAgICAgaWR4OiBBcnJheS5mcm9tKHNlbGVjdGFibGUuZWwucGFyZW50RWxlbWVudC5jaGlsZHJlbikuaW5kZXhPZihzZWxlY3RhYmxlLmVsKSxcbiAgICAgIH0pKVxuICAgICAgLm1hcCgoe2VsZW1lbnQsIG5ld1BhcmVudCwgaWR4fSkgPT4gKHtcbiAgICAgICAgZWxlbWVudCwgbmV3UGFyZW50LCBpZHgsXG4gICAgICAgIG9sZFBhcmVudDogZ2V0UGFyZW50KGVsZW1lbnQpLFxuICAgICAgfSkpXG4gICAgICAuZmlsdGVyKCh7ZWxlbWVudCwgbmV3UGFyZW50LCBvbGRQYXJlbnQsIGlkeH0pID0+IG5ld1BhcmVudCAhPT0gb2xkUGFyZW50IHx8IG9sZFBhcmVudC5jaGlsZHJlbi5pbmRleE9mKGVsZW1lbnQuaWQpICE9PSBpZHgpXG4gICAgLy8gYnVpbGQgYW4gYXJyYXkgd2l0aCAxIGVsZW1lbnQgYnkgY2hhbmRlZCBwYXJlbnRcbiAgICBjb25zdCBjaGFuZ2VkUGFyZW50cyA9IGNoYW5nZXNcbiAgICAgIC5yZWR1Y2UoKGFnZ3IsIHtlbGVtZW50LCBuZXdQYXJlbnQsIG9sZFBhcmVudCwgaWR4fSkgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ05ld1BhcmVudE9iaiA9IGFnZ3IuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gbmV3UGFyZW50LmlkKVxuICAgICAgICBpZiAoZXhpc3RpbmdOZXdQYXJlbnRPYmopIGV4aXN0aW5nTmV3UGFyZW50T2JqLmNoaWxkcmVuID0gaW5zZXJ0QXQ8RWxlbWVudElkPihcbiAgICAgICAgICBleGlzdGluZ05ld1BhcmVudE9iai5jaGlsZHJlbi5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZWxlbWVudC5pZCksIC8vIGluIGNhc2UgaXQgaXMgdGhlIHNhbWUgcGFyZW50XG4gICAgICAgICAgaWR4LCBlbGVtZW50LmlkKVxuICAgICAgICBlbHNlIGFnZ3IucHVzaCh7XG4gICAgICAgICAgLi4ubmV3UGFyZW50LFxuICAgICAgICAgIGNoaWxkcmVuOiBpbnNlcnRBdChcbiAgICAgICAgICAgIG5ld1BhcmVudC5jaGlsZHJlbi5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZWxlbWVudC5pZCksIC8vIGluIGNhc2UgaXQgaXMgdGhlIHNhbWUgcGFyZW50XG4gICAgICAgICAgICBpZHgsIGVsZW1lbnQuaWQpLFxuICAgICAgICB9KVxuICAgICAgICBpZiAoISFvbGRQYXJlbnQgJiYgb2xkUGFyZW50LmlkICE9PSBuZXdQYXJlbnQuaWQpIHtcbiAgICAgICAgICAvLyBwYXJlbnQgY2hhbmdlZFxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nT2xkUGFyZW50T2JqID0gZ2V0RWxlbWVudEJ5SWQob2xkUGFyZW50LmlkLCBhZ2dyKVxuICAgICAgICAgIGlmIChleGlzdGluZ09sZFBhcmVudE9iaikgZXhpc3RpbmdPbGRQYXJlbnRPYmouY2hpbGRyZW4gPSBleGlzdGluZ09sZFBhcmVudE9iai5jaGlsZHJlbi5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZWxlbWVudC5pZClcbiAgICAgICAgICBlbHNlIGFnZ3IucHVzaCh7XG4gICAgICAgICAgICAuLi5vbGRQYXJlbnQsXG4gICAgICAgICAgICBjaGlsZHJlbjogb2xkUGFyZW50LmNoaWxkcmVuLmZpbHRlcigoaWQpID0+IGlkICE9PSBlbGVtZW50LmlkKSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZ2dyXG4gICAgICB9LCBbXSBhcyBFbGVtZW50U3RhdGVbXSlcbiAgICAvLyBhcHBseSB0aGUgY2hhbmdlc1xuICAgIHVwZGF0ZUVsZW1lbnRzKGNoYW5nZWRQYXJlbnRzKVxuICB9XG4gIHByaXZhdGUgb25TZWxlY3Rpb25DaGFuZ2VkKGNoYW5nZWQ6IFNlbGVjdGFibGVTdGF0ZVtdKSB7XG4gICAgaWYgKHN0b3BlZCkge1xuICAgICAgLy8gY29uc29sZS50cmFjZSgncHJldmVudCB1cGRhdGUgZWxlbWVudHMgd2l0aCBzdG9wZWQgaW4gc3RhZ2UnLCBjaGFuZ2VkKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUFjdGlvbnMgPSBjaGFuZ2VkXG4gICAgLm1hcCgoc2VsZWN0YWJsZSkgPT4ge1xuICAgICAgLy8gRklYTUU6IGZpbmQgYSBtb3JlIG9wdGltYWwgd2F5IHRvIGdldCB0aGUgZGF0YSBmcm9tIERPTSBlbGVtZW50XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbGVtZW50OiBnZXRFbGVtZW50cygpLmZpbmQoKGVsKSA9PiBnZXREb21FbGVtZW50KGdldFNpdGVEb2N1bWVudCgpLCBlbCkgPT09IHNlbGVjdGFibGUuZWwpLFxuICAgICAgICBzZWxlY3RhYmxlLFxuICAgICAgfVxuICAgIH0pXG4gICAgLmZpbHRlcigoe2VsZW1lbnQsIHNlbGVjdGFibGV9KSA9PiBlbGVtZW50ICYmIGVsZW1lbnQuc2VsZWN0ZWQgIT09IHNlbGVjdGFibGUuc2VsZWN0ZWQpXG4gICAgLm1hcCgoe2VsZW1lbnQsIHNlbGVjdGFibGV9KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5lbGVtZW50LFxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0YWJsZS5zZWxlY3RlZCxcbiAgICAgIH1cbiAgICB9KVxuICAgIGNvbnN0IGJvZHkgPSBnZXRCb2R5KClcbiAgICAvLyBhbHdheXMgZGVzZWxlY3QgdGhlIGJvZHkgaW4gU2lsZXhcbiAgICB1cGRhdGVFbGVtZW50cyhib2R5LnNlbGVjdGVkID8gdXBkYXRlQWN0aW9ucy5jb25jYXQoW3tcbiAgICAgIC4uLmJvZHksXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgfV0pIDogdXBkYXRlQWN0aW9ucylcbiAgICAvLyBzZWxlY3QgdGhlIGJvZHkgaWYgbm90aGluZyBlbHNlIGlzIHNlbGVjdGVkXG4gICAgaWYgKGdldFNlbGVjdGVkRWxlbWVudHMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGVjdEJvZHkoKVxuICAgIH1cbiAgfVxuICAvLyBwcml2YXRlIHByZXBhcmVVbmRvKCkge1xuICAvLyAgIHRoaXMuY29udHJvbGxlci5zdGFnZUNvbnRyb2xsZXIudW5kb0NoZWNrUG9pbnQoKVxuICAvLyB9XG4gIHByaXZhdGUgYXBwbHlTdHlsZShjaGFuZ2U6IFNlbGVjdGFibGVTdGF0ZVtdKSB7XG4gICAgaWYgKHN0b3BlZCkge1xuICAgICAgLy8gY29uc29sZS50cmFjZSgncHJldmVudCB1cGRhdGUgZWxlbWVudHMgd2l0aCBzdG9wZWQgaW4gc3RhZ2UnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIGRvIG5vdCBtZXNzIHVwIHRoZSBjc3MgdHJhbnNsYXRpb24gYXBwbHllZCBieSBzdGFnZSBkdXJpbmcgZHJhZ1xuICAgIGlmICghdGhpcy5kcmFnZ2luZykge1xuICAgICAgLy8gcmVtb3ZlZCB0aGUgaW5saW5lIHN0eWxlc1xuICAgICAgY2hhbmdlLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgLy8gcmVzZXQgYWxsIHByb3BlcnRpZXMgc2V0IGJ5IHRoZSBzdGFnZSBjb21wb25lbnQgb24gdGhlIGVsZW1lbnRcbiAgICAgICAgcmVzZXRFbChzLmVsKVxuICAgICAgICAvLyByZXNldCBhbGwgY2hpbGRyZW4gcHJvcGVydGllc1xuICAgICAgICAvLyBGSVhNRTogdGhpcyBpcyBhIHdvcmthcm91bmQsIHRoZSBzdGFnZSBjb21wb25lbnQgc2hvdWxkIG5vdCBzZXQgdGhlIHByb3BlcnRpZXMgb24gdGhlc2UgY2hpbGRyZW5cbiAgICAgICAgQXJyYXkuZnJvbShzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgQ29uc3RhbnRzLkVESVRBQkxFX0NMQVNTX05BTUUpKVxuICAgICAgICAuZm9yRWFjaCgoZWw6IEhUTUxFbGVtZW50KSA9PiByZXNldEVsKGVsKSlcbiAgICAgIH0pXG4gICAgICAvLyBhcHBseSB0aGUgc3R5bGVcbiAgICAgIHVwZGF0ZUVsZW1lbnRzKGNoYW5nZS5tYXAoKHMpID0+IHtcbiAgICAgICAgLy8gRklYTUU6IGZpbmQgYSBtb3JlIG9wdGltYWwgd2F5IHRvIGdldCB0aGUgZGF0YSBmcm9tIERPTSBlbGVtZW50XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50cygpLmZpbmQoKGVsKSA9PiBnZXREb21FbGVtZW50KGdldFNpdGVEb2N1bWVudCgpLCBlbCkgPT09IHMuZWwpXG4gICAgICAgIGlmICghZ2V0VWkoKS5tb2JpbGVFZGl0b3IpIHtcbiAgICAgICAgICAvLyB3ZWJzaXRlIHdpZHRoIGlzIGFsc28gc2VjdGlvbiBjb250YWluZXJzIHdpZHRoXG4gICAgICAgICAgLy8gICYmIHMubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC53aWR0aCArICdweCcgIT09IGVsZW1lbnQuc3R5bGUuZGVza3RvcC53aWR0aFxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gcy5tZXRyaWNzLmNvbXB1dGVkU3R5bGVSZWN0LndpZHRoXG4gICAgICAgICAgaWYgKGVsZW1lbnQuaXNTZWN0aW9uQ29udGVudCAmJiBnZXRTaXRlKCkud2lkdGggIT09IHdpZHRoKSB7XG4gICAgICAgICAgICAvLyBzZXQgd2Vic2l0ZSB3aWR0aFxuICAgICAgICAgICAgdXBkYXRlU2l0ZSh7XG4gICAgICAgICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB0aGlzIGRvZXMgbm90IHdvcmsgYmVjYXVzZSBzZWN0aW9ucyBjYW4gbm90IGJlIHNtYWxsZXIgdGhhbiB0aGVpciBjb250ZW50OlxuICAgICAgICAgIC8vIC8vIHNlY3TDp2lvbiBoZWlnaHQgbmVlZHMgdG8gYmUgYXBwbGllZCB0byBzZWN0aW9uIGNvbnRlbnRcbiAgICAgICAgICAvLyBpZiAoZWxlbWVudC50eXBlID09PSBFbGVtZW50VHlwZS5TRUNUSU9OKSB7XG4gICAgICAgICAgLy8gICBjb25zdCBzZWN0aW9uQ29udGVudCA9IGdldENoaWxkcmVuKGVsZW1lbnQpLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5pc1NlY3Rpb25Db250ZW50KVxuICAgICAgICAgIC8vICAgdXBkYXRlRWxlbWVudHMoW3tcbiAgICAgICAgICAvLyAgICAgLi4uc2VjdGlvbkNvbnRlbnQsXG4gICAgICAgICAgLy8gICAgIHN0eWxlOiB7XG4gICAgICAgICAgLy8gICAgICAgLi4uc2VjdGlvbkNvbnRlbnQuc3R5bGUsXG4gICAgICAgICAgLy8gICAgICAgZGVza3RvcDoge1xuICAgICAgICAgIC8vICAgICAgICAgLi4uc2VjdGlvbkNvbnRlbnQuc3R5bGUuZGVza3RvcCxcbiAgICAgICAgICAvLyAgICAgICAgIGhlaWdodDogcy5tZXRyaWNzLmNvbXB1dGVkU3R5bGVSZWN0LmhlaWdodCArICdweCcsXG4gICAgICAgICAgLy8gICAgICAgfSxcbiAgICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgICAvLyAgIH1dKVxuICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLmVsZW1lbnQuc3R5bGUsXG4gICAgICAgICAgICBbZ2V0VWkoKS5tb2JpbGVFZGl0b3IgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJ106IGZpeFN0eWxlRm9yRWxlbWVudChlbGVtZW50LCBlbGVtZW50LmlzU2VjdGlvbkNvbnRlbnQsIHtcbiAgICAgICAgICAgICAgICAuLi4oZ2V0VWkoKS5tb2JpbGVFZGl0b3IgPyBlbGVtZW50LnN0eWxlLm1vYmlsZSA6IGVsZW1lbnQuc3R5bGUuZGVza3RvcCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzLm1ldHJpY3MuY29tcHV0ZWRTdHlsZVJlY3QuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICB0b3A6IHMubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC50b3AgKyAncHgnLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHMubWV0cmljcy5jb21wdXRlZFN0eWxlUmVjdC5sZWZ0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICB3aWR0aDogcy5tZXRyaWNzLmNvbXB1dGVkU3R5bGVSZWN0LndpZHRoICsgJ3B4JyxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICB9KSlcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEVsZW1lbnREYXRhLFxuICBFbGVtZW50SWQsXG4gIEVsZW1lbnRTdGF0ZSxcbiAgRWxlbWVudFR5cGVcbn0gZnJvbSAnLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHtcbiAgY3JlYXRlRWxlbWVudHMsXG4gIGZyb21FbGVtZW50RGF0YSxcbiAgdG9FbGVtZW50RGF0YSxcbiAgZ2V0RWxlbWVudHMsXG4gIHVwZGF0ZUVsZW1lbnRzXG59IGZyb20gJy4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGZsYXQgfSBmcm9tICcuL3V0aWxzL2FycmF5J1xuaW1wb3J0IHtcbiAgZ2V0Qm9keSxcbiAgZ2V0RWxlbWVudEJ5SWQsXG4gIGdldEZpcnN0UGFnZWRQYXJlbnQsXG4gIGdldFBhcmVudCxcbiAgZ2V0U2VsZWN0ZWRFbGVtZW50cyxcbiAgbm9TZWN0aW9uQ29udGVudFxufSBmcm9tICcuL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7XG4gIGdldENyZWF0aW9uRHJvcFpvbmUsXG4gIGdldERyb3BTdHlsZSxcbiAgZ2V0TmV3SWRcbn0gZnJvbSAnLi9lbGVtZW50LXN0b3JlL3V0aWxzJ1xuaW1wb3J0IHsgZ2V0RG9tRWxlbWVudCB9IGZyb20gJy4vZWxlbWVudC1zdG9yZS9kb20nXG5pbXBvcnQgeyBnZXRTaXRlRG9jdW1lbnQsIGdldFNpdGVJRnJhbWUgfSBmcm9tICcuL2NvbXBvbmVudHMvU2l0ZUZyYW1lJ1xuaW1wb3J0IHsgZ2V0VWksIHVwZGF0ZVVpIH0gZnJvbSAnLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi9zdG9yZS9pbmRleCdcblxuLyoqXG4gKiBjb3B5IHRoZSBzZWxlY3Rpb24gZm9yIGxhdGVyIHBhc3RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5U2VsZWN0aW9uKCkge1xuICBjb25zdCBzZWxlY3Rpb24gPSBnZXRTZWxlY3RlZEVsZW1lbnRzKCkubWFwKChlbCkgPT4gbm9TZWN0aW9uQ29udGVudChlbCkpXG4gIGNvbnN0IGNsaXBib2FyZCA9IGNsb25lRWxlbWVudHMoc2VsZWN0aW9uKVxuICB1cGRhdGVVaSh7XG4gICAgLi4uZ2V0VWkoKSxcbiAgICBjbGlwYm9hcmQsXG4gIH0pXG59XG5cbi8qKlxuICogZHVwbGljYXRlIHNlbGVjdGlvblxuICogRklYTUU6IHVzZSBjb3B5RWxlbWVudHMgPz9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGR1cGxpY2F0ZVNlbGVjdGlvbigpIHtcbiAgY29uc3Qgc2VsZWN0aW9uID0gZ2V0U2VsZWN0ZWRFbGVtZW50cygpLm1hcCgoZWwpID0+IG5vU2VjdGlvbkNvbnRlbnQoZWwpKVxuICBpZiAoc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgIGNvbnN0IGFsbEVsZW1lbnRzOiBFbGVtZW50RGF0YVtdID0gW11cbiAgICBjb25zdCByb290RWxlbWVudHM6IEVsZW1lbnREYXRhW10gPSBbXVxuICAgIHNlbGVjdGlvblxuICAgICAgLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IGFsbCA9IGNsb25lRWxlbWVudChlbClcbiAgICAgICAgYWxsRWxlbWVudHMucHVzaCguLi5hbGwpXG4gICAgICAgIHJvb3RFbGVtZW50cy5wdXNoKC4uLmFsbC5maWx0ZXIoKGUpID0+IGUuc2VsZWN0ZWQpKVxuICAgICAgfSlcblxuICAgIC8vIGtlZXAgdGhlIHNhbWUgcGFyZW50XG4gICAgY29uc3QgcGFyZW50ID0gZ2V0UGFyZW50KHNlbGVjdGlvblswXSlcblxuICAgIC8vIHBhc3RlXG4gICAgcGFzdGVFbGVtZW50cyh7IHBhcmVudCwgcm9vdEVsZW1lbnRzLCBhbGxFbGVtZW50cyB9KVxuICB9XG59XG5cblxuLyoqXG4gKiBkdXBsaWNhdGUgZWxlbWVudHMgZm9yIGxhdGVyIHBhc3RlIG9yIGZvciBkdXBsaWNhdGVcbiAqIHJldHVybnMgYSBmbGF0IGFycmF5IG9mIGVsZW1lbnRzIHdpdGggbmV3IElEcyBhbmQgdXBkYXRlZCBjaGlsZHJlbiBsaXN0XG4gKiBvbmx5IHJvb3QgZWxlbWVudHMgYXJlIHNlbGVjdGVkXG4gKiBAcmV0dXJucyBbYWxsRWxlbWVudHMsIHJvb3RFbGVtZW50c11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudHMoc2VsZWN0aW9uOiBFbGVtZW50U3RhdGVbXSwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpKTogW0VsZW1lbnRTdGF0ZVtdLCBFbGVtZW50U3RhdGVbXV0ge1xuICBjb25zdCBib2R5ID0gZ2V0Qm9keShlbGVtZW50cylcbiAgY29uc3QgYWxsID0gZmxhdChzZWxlY3Rpb25cbiAgICAvLyBkbyBub3QgYWxsb3cgdGhlIGJvZHkgdG8gYmUgY2xvbmVkXG4gICAgLmZpbHRlcigoZWwpID0+IGVsICE9PSBib2R5KVxuICAgIC8vIHRha2UgdGhlIHNlY3Rpb24gaW5zdGVhZCBvZiBzZWN0aW9uIGNvbnRhaW5lclxuICAgIC5tYXAoKGVsKSA9PiBub1NlY3Rpb25Db250ZW50KGVsLCBlbGVtZW50cykpXG4gICAgLy8gZG8gbm90IGNsb25lIGVsZW1lbnRzIHR3aWNlOlxuICAgIC8vIHJlbW92ZSBlbGVtZW50cyB3aGljaCBoYXZlIGEgcGFyZW50IHdobyBpcyBhbHJlYWR5IGJlaW5nIGNsb25lZFxuICAgIC8vIHJlbW92ZSBlbGVtZW50cyB3aGljaCBhcmUgaW4gdGhlIGxpc3QgbXVsdGlwbGUgdGltZXMgZHVlIHRvIG5vU2VjdGlvbkNvbnRlbnRcbiAgICAuZmlsdGVyKChlbCkgPT4gIXNlbGVjdGlvbi5pbmNsdWRlcyhnZXRQYXJlbnQoZWwsIGVsZW1lbnRzKSkgJiYgMSA9PT0gc2VsZWN0aW9uLmZpbHRlcigoZSkgPT4gZSA9PT0gZWwpLmxlbmd0aClcbiAgICAubWFwKChlbCkgPT4gY2xvbmVFbGVtZW50KGVsLCBudWxsLCBlbGVtZW50cykpKVxuXG4gIHJldHVybiBbYWxsLCBhbGwuZmlsdGVyKChlbCkgPT4gZWwuc2VsZWN0ZWQpXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRTdGF0ZWFXaXRoUGFyZW50SWQgZXh0ZW5kcyBFbGVtZW50U3RhdGUge1xuICBwYXJlbnRJZDogRWxlbWVudElkLFxufVxuXG4vKipcbiAqIGNsb25lIGVsZW1lbnRzXG4gKiBzaW1wbHkgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGNsb25lRWxlbWVudF8gYWZ0ZXIgY2xlYW5pbmcgdXAgdGVtcG9yYXJ5IHZhbHVlc1xuICogdGhpcyBtZXRob2QgaXMgZXhwb3J0ZWQgb25seSBmb3IgdW5pdCB0ZXN0cywgb25seSBjbG9uZUVsZW1lbnRzIGlzIHN1cHBvc2VkIHRvIGJlIHVzZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudChlbGVtZW50OiBFbGVtZW50U3RhdGUsIHBhcmVudElkOiBFbGVtZW50SWQgPSBudWxsLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpOiBFbGVtZW50RGF0YVtdIHtcbiAgcmV0dXJuIGNsb25lRWxlbWVudF8oZWxlbWVudCwgcGFyZW50SWQsIGVsZW1lbnRzKVxuICAgIC5tYXAoZWwgPT4ge1xuICAgICAgLy8gcmVtb3RlIHBhcmVudElkIHRlbXBvcmFyeSB2YWx1ZVxuICAgICAgLy8gcGFyZW50SWQgaXMgbm90IGluIEVsZW1lbnREYXRhXG4gICAgICAvLyBJdCBpcyB1c2VkIHRvIGZpbHRlciBieSBwYXJlbnQgSUQgYW5kIGdldCBkaXJlY3QgZGVzY2VuZGVudHNcbiAgICAgIGNvbnN0IGVsV2l0aElkID0gZWwgYXMgRWxlbWVudFN0YXRlYVdpdGhQYXJlbnRJZFxuICAgICAgZGVsZXRlIGVsV2l0aElkLnBhcmVudElkXG4gICAgICByZXR1cm4gZWxXaXRoSWRcbiAgICB9KVxufVxuXG4vKipcbiAqIGNsb25lIGVsZW1lbnRzXG4gKiByZXNldCB0aGUgSUQgb2YgdGhlIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlblxuICogdGhlIGVsZW1lbnRzIG5lZWQgdG8gYmUgaW4gdGhlIHN0b3JlIGFscmVhZHkgKGFuZCBkb20pXG4gKi9cbmZ1bmN0aW9uIGNsb25lRWxlbWVudF8oZWxlbWVudDogRWxlbWVudFN0YXRlLCBwYXJlbnRJZDogRWxlbWVudElkLCBlbGVtZW50czogRWxlbWVudFN0YXRlW10pOiBFbGVtZW50RGF0YVtdIHtcbiAgaWYoZWxlbWVudCkge1xuICAgIGNvbnN0IG5ld0lkID0gZ2V0TmV3SWQoKVxuICAgIGNvbnN0IGNoaWxkcmVuID0gZmxhdChlbGVtZW50LmNoaWxkcmVuXG4gICAgICAubWFwKChpZCkgPT4gY2xvbmVFbGVtZW50XyhnZXRFbGVtZW50QnlJZChpZCwgZWxlbWVudHMpLCBuZXdJZCwgZWxlbWVudHMpKSlcbiAgICAvLyBrZWVwIG9ubHkgdGhlIGRpcmVjdCBkZXNjZW5kZW50c1xuICAgIGNvbnN0IGRlc2NlbmRlbnRzID0gY2hpbGRyZW5cbiAgICAgICAgLmZpbHRlcigoZWwpID0+IChlbCBhcyBFbGVtZW50U3RhdGVhV2l0aFBhcmVudElkKS5wYXJlbnRJZCA9PT0gbmV3SWQpXG5cbiAgICByZXR1cm4gW3tcbiAgICAgIC4uLnRvRWxlbWVudERhdGEoW2VsZW1lbnRdKVswXSxcbiAgICAgIGlkOiBuZXdJZCxcbiAgICAgIHBhcmVudElkLFxuICAgICAgc2VsZWN0ZWQ6IHBhcmVudElkID09PSBudWxsLFxuICAgICAgY2hpbGRyZW46IGRlc2NlbmRlbnRzXG4gICAgICAgIC5tYXAoKGVsKSA9PiBlbC5pZCksXG4gICAgfV0uY29uY2F0KGNoaWxkcmVuKVxuXG4gIH0gZWxzZSB7XG4gICAgLy8gaGFwcGVucyBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIHVuZGVmaW5lZCBmb3Igd2hhdGV2ZXIgcmVhc29uXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IGNvdWxkIG5vdCBiZSBjbG9uZWQgYmVjYXVzZSBpdCBjb3VsZCBub3QgYmUgZm91bmQnKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNFbGVtZW50c1RvUGFzdGUoKSB7XG4gIHJldHVybiAhIWdldFVpKCkuY2xpcGJvYXJkXG59XG5cbi8qKlxuICogcGFzdGUgdGhlIHByZXZpb3VzbHkgY29waWVkIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhc3RlQ2xpcEJvYXJkKCkge1xuICBjb25zdCBbYWxsRWxlbWVudHMsIHJvb3RFbGVtZW50c10gPSBnZXRVaSgpLmNsaXBib2FyZFxuXG4gIC8vIGdldCB0aGUgZHJvcCB6b25lIGluIHRoZSBjZW50ZXJcbiAgY29uc3QgcGFyZW50ID0gZ2V0Q3JlYXRpb25Ecm9wWm9uZShmYWxzZSwgZ2V0U2l0ZUlGcmFtZSgpKVxuXG4gIC8vIG9ubHkgdmlzaWJsZSBvbiB0aGUgY3VycmVudCBwYWdlIHVubGVzcyBvbmUgb2YgaXRzIHBhcmVudHMgaXMgaW4gYSBwYWdlIGFscmVhZHlcbiAgY29uc3QgeyBjdXJyZW50UGFnZUlkIH0gPSBnZXRVaSgpXG4gIGNvbnN0IHBhZ2VOYW1lcyA9ICFwYXJlbnQgfHwgISFnZXRGaXJzdFBhZ2VkUGFyZW50KHBhcmVudCkgPyBbXSA6IFtjdXJyZW50UGFnZUlkXVxuXG4gIHBhc3RlRWxlbWVudHMoe1xuICAgIHBhcmVudCxcbiAgICByb290RWxlbWVudHMsXG4gICAgYWxsRWxlbWVudHMsXG4gICAgcGFnZU5hbWVzLFxuICB9KVxuXG4gIC8vIGNvcHkgYWdhaW4gc28gdGhhdCB3ZSBjYW4gcGFzdGUgc2V2ZXJhbCB0aW1lcyAoZWxlbWVudHMgd2lsbCBiZSBkdXBsaWNhdGVkIGFnYWluKVxuICBjb25zdCBjbGlwYm9hcmQgPSBjbG9uZUVsZW1lbnRzKHJvb3RFbGVtZW50cylcbiAgdXBkYXRlVWkoe1xuICAgIC4uLmdldFVpKCksXG4gICAgY2xpcGJvYXJkLFxuICB9KVxufVxuXG4vKipcbiAqIGFkZCBkdXBsaWNhdGVkIGVsZW1lbnRzIHRvIHRoZSBzaXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXN0ZUVsZW1lbnRzKHtwYXJlbnQsIHJvb3RFbGVtZW50cywgYWxsRWxlbWVudHMsIHBhZ2VOYW1lcyA9IG51bGx9OiB7XG4gIHBhcmVudDogRWxlbWVudFN0YXRlLFxuICByb290RWxlbWVudHM6IEVsZW1lbnREYXRhW10sXG4gIGFsbEVsZW1lbnRzOiBFbGVtZW50RGF0YVtdLFxuICBwYWdlTmFtZXM/OiBzdHJpbmdbXSxcbn0sIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuICBpZiAoYWxsRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgIC8vIHJlc2V0IHNlbGVjdGlvblxuICAgIGNvbnN0IHJlc2V0U2VsZWN0aW9uID0gZWxlbWVudHNcbiAgICAgIC5maWx0ZXIoKGVsKSA9PiBlbC5zZWxlY3RlZClcbiAgICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgICAuLi5lbCxcbiAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgIH0pKVxuXG4gICAgLy8gZ2V0IHVzZWZ1bCBtZXRyaWNzXG4gICAgY29uc3Qgc3RhZ2VFbCA9IGdldFNpdGVJRnJhbWUoKVxuICAgIGNvbnN0IHN0YWdlU2l6ZSA9IHN0YWdlRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBjb25zdCBwYXJlbnRFbCA9IGdldERvbUVsZW1lbnQoZ2V0U2l0ZURvY3VtZW50KCksIHBhcmVudClcbiAgICBjb25zdCBwYXJlbnRTaXplID0gcGFyZW50RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIC8vIGRvIG5vdCBwYXN0ZSBpbiBwbGFjZSBzbyB0aGF0IHRoZSB1c2VyIHNlZXMgdGhlIHBhc3RlZCBlbGVtZW50c1xuICAgIGxldCBvZmZzZXQgPSAwXG5cbiAgICAvLyBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgIGNyZWF0ZUVsZW1lbnRzKGZyb21FbGVtZW50RGF0YShhbGxFbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGlzUm9vdCA9IHJvb3RFbGVtZW50cy5pbmNsdWRlcyhlbGVtZW50KVxuICAgICAgLy8gZ2V0IHRoZSBmaW5hbCBzdHlsZSBmb3IgdGhlIGVsZW1lbnQgdG8gYmUgY2VudGVyZWQgaW4gdGhlIHZpZXdwb3J0XG4gICAgICBjb25zdCB7bGVmdCwgdG9wfSA9IGdldERyb3BTdHlsZSh7XG4gICAgICAgIHN0YWdlU2l6ZSxcbiAgICAgICAgcGFyZW50U2l6ZSxcbiAgICAgICAgZWxlbWVudFNpemU6IHtcbiAgICAgICAgICB3aWR0aDogcGFyc2VJbnQoZWxlbWVudC5zdHlsZS5kZXNrdG9wLndpZHRoKSxcbiAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGVsZW1lbnQuc3R5bGUuZGVza3RvcC5oZWlnaHQpLFxuICAgICAgICB9LFxuICAgICAgICBvZmZzZXQsXG4gICAgICB9KVxuICAgICAgaWYgKGlzUm9vdCkge1xuICAgICAgICBvZmZzZXQgKz0gMjBcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgIHBhZ2VOYW1lczogcGFnZU5hbWVzIHx8IGVsZW1lbnQucGFnZU5hbWVzLFxuICAgICAgICAvLyBwb3NpdGlvbiB0aGUgZWxlbWVudFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIC4uLmVsZW1lbnQuc3R5bGUsXG4gICAgICAgICAgZGVza3RvcDogaXNSb290ICYmIGVsZW1lbnQuc3R5bGUuZGVza3RvcC5wb3NpdGlvbiAhPT0gJ3N0YXRpYycgPyB7XG4gICAgICAgICAgICAuLi5lbGVtZW50LnN0eWxlLmRlc2t0b3AsXG4gICAgICAgICAgICB0b3A6IHRvcCArICdweCcsXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0ICsgJ3B4JyxcbiAgICAgICAgICB9IDogZWxlbWVudC5zdHlsZS5kZXNrdG9wLFxuICAgICAgICB9LFxuICAgICAgICAvLyBoZXJlIHNlbGVjdGVkIGlzIHRydWUgc2luY2UgdGhlIGNsb25lZCBlbGVtZW50IHdhcyBzZWxlY3RlZFxuICAgICAgICAvLyByZXNldCB0aGUgc2VsZWN0ZWQgZmxhZyBiZWNhdXNlIG9ic2VydmVycyBuZWVkIHRvIGdldCBpdCB3aGVuIHdlIHNlbGVjdCBpdCBhZ2FpblxuICAgICAgICAvLyBzZWxlY3RlZDogdHJ1ZSxcbiAgICAgIH1cbiAgICB9KSksIGRpc3BhdGNoKVxuXG4gICAgLy8gdXBkYXRlIHRoZSBwYXJlbnQgKHdpbGwgYWRkIHRoZSBlbGVtZW50IHRvIHRoZSBzdGFnZSlcbiAgICBjb25zdCBib2R5ID0gZ2V0Qm9keShlbGVtZW50cylcbiAgICBjb25zdCBuZXdDaGlsZHJlbiA9IHJvb3RFbGVtZW50c1xuICAgICAgLmZpbHRlcigoZWwpID0+IGVsLnR5cGUgIT09IEVsZW1lbnRUeXBlLlNFQ1RJT04pIC8vIHNlY3Rpb25zIGFyZSBhZGRlZCB0byB0aGUgYm9keVxuICAgICAgLm1hcCgoZWwpID0+IGVsLmlkKVxuICAgIGNvbnN0IGJvZHlDaGlsZHJlbiA9IHJvb3RFbGVtZW50c1xuICAgICAgLmZpbHRlcigoZWwpID0+IGVsLnR5cGUgPT09IEVsZW1lbnRUeXBlLlNFQ1RJT04pXG4gICAgICAubWFwKChlbCkgPT4gZWwuaWQpXG5cbiAgICB1cGRhdGVFbGVtZW50cygobmV3Q2hpbGRyZW4ubGVuZ3RoID8gW3tcbiAgICAgICAgLi4ucGFyZW50LFxuICAgICAgICBjaGlsZHJlbjogcGFyZW50LmNoaWxkcmVuLmNvbmNhdChuZXdDaGlsZHJlbiksXG4gICAgICB9XSA6IFtdKVxuICAgICAgLmNvbmNhdChib2R5Q2hpbGRyZW4ubGVuZ3RoID8ge1xuICAgICAgICAuLi5ib2R5LFxuICAgICAgICBjaGlsZHJlbjogYm9keS5jaGlsZHJlbi5jb25jYXQoYm9keUNoaWxkcmVuKSxcbiAgICAgIH0gOiBbXSlcbiAgICAgIC8vIHJlc2V0IHNlbGVjdGlvblxuICAgICAgLmNvbmNhdChyZXNldFNlbGVjdGlvbi5sZW5ndGggPyByZXNldFNlbGVjdGlvbiA6IFtdKSxcbiAgICAgIC8vIC8vIG1ha2UgcGFzdGVkIGVsZW1lbnRzIHNlbGVjdGVkXG4gICAgICAvLyAuY29uY2F0KHJvb3RFbGVtZW50c1xuICAgICAgLy8gICAubWFwKChlbCkgPT4gZ2V0RWxlbWVudChlbC5pZCkpXG4gICAgICAvLyAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgLy8gICAgIGZyb206IGVsLFxuICAgICAgLy8gICAgIHRvOiB7XG4gICAgICAvLyAgICAgICAuLi5lbCxcbiAgICAgIC8vICAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgIH0pKSlcbiAgICAgIGRpc3BhdGNoKVxuXG4gICAgY29uc29sZS5pbmZvKCdjb3VsZCBiZSBkcmFnZ2VkJylcbiAgICAvLyBnZXRTdGFnZSgpLnN0YXJ0RHJhZygpXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBVc2VmdWwgZmlsdGVycyB1c2VkIHRvIHJldHJpZXZlIGl0ZW1zIGluIHRoZSBzdG9yZVxuICpcbiAqL1xuXG5pbXBvcnQgeyBQYWdlU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0UGFnZXMgfSBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWkgfSBmcm9tICcuLi91aS1zdG9yZS9pbmRleCdcblxuZXhwb3J0IGNvbnN0IGdldFBhZ2VCeUlkID0gKGlkOiBzdHJpbmcsIHBhZ2VzID0gZ2V0UGFnZXMoKSk6IFBhZ2VTdGF0ZSA9PiB7XG4gIHJldHVybiBwYWdlcy5maW5kKChwKSA9PiBwLmlkID09PSBpZClcbn1cblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRQYWdlID0gKHVpID0gZ2V0VWkoKSwgcGFnZXMgPSBnZXRQYWdlcygpKTogUGFnZVN0YXRlID0+IHtcbiAgcmV0dXJuIGdldFBhZ2VCeUlkKHVpLmN1cnJlbnRQYWdlSWQsIHBhZ2VzKVxufVxuXG4iLCJcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiB0aGUgU2lsZXggYmFzZSBjbGFzcyBmb3IgY29kZSBlZGl0b3JzLCBiYXNlZCBvbiBtb25hY28gZWRpdG9yXG4gKiBAc2VlIGh0dHBzOi8vbWljcm9zb2Z0LmdpdGh1Yi5pby9tb25hY28tZWRpdG9yL1xuICpcbiAqXG4gKi9cblxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB7IGdldFByb3BlcnR5U3BsaXR0ZXIgfSBmcm9tICcuLi9Qcm9wU3BsaXR0ZXInO1xuXG5kZWNsYXJlIG5hbWVzcGFjZSBtb25hY28ge1xuICBjbGFzcyBTZWxlY3Rpb24geyBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIpOyB9XG59XG5kZWNsYXJlIG5hbWVzcGFjZSBtb25hY28uZWRpdG9yIHtcbiAgICB0eXBlIElDb2RlRWRpdG9yID0gYW55O1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShlbDogRWxlbWVudCwgb3B0aW9uczogYW55KTtcblxufVxuLy8gdHNsaW50OmVuYWJsZVxuXG5pbXBvcnQgeyBNb2RhbERpYWxvZyB9IGZyb20gJy4uL01vZGFsRGlhbG9nJ1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uLy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nXG5cbi8qKlxuICogQGNsYXNzIHtzaWxleC52aWV3LmRpYWxvZy5Db2RlRWRpdG9yQmFzZX1cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2RlRWRpdG9yQmFzZSB7XG5cbiAgc3RhdGljIGlzRG9ja2VkOiBib29sZWFuXG4gIC8vIG1ha2UgdGhpcyBhIGRpYWxvZ1xuICBtb2RhbERpYWxvZzogTW9kYWxEaWFsb2dcblxuICAvKipcbiAgICogaWYgdHJ1ZSwgZG8gbm90IHByb3BhZ2F0ZSBvbkNoYW5nZSBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBsb2NrT25DaGFuZ2UgPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBpbnN0YW5jZSBvZiBtb25hY28gZWRpdG9yXG4gICAqL1xuICBwcml2YXRlIGVkaXRvcjogbW9uYWNvLmVkaXRvci5JQ29kZUVkaXRvclxuXG4gIC8qKlxuICAgKiBAcGFyYW0gZWxlbWVudCAgIGNvbnRhaW5lciB0byByZW5kZXIgdGhlIFVJXG4gICAqIEBwYXJhbSBtb2RlbCAgbW9kZWwgY2xhc3Mgd2hpY2ggaG9sZHNcbiAgICogdGhlIG1vZGVsIGluc3RhbmNlcyAtIHZpZXdzIHVzZSBpdCBmb3JcbiAgICogcmVhZCBvcGVyYXRpb24gb25seVxuICAgKiBAcGFyYW0gY29udHJvbGxlciAgc3RydWN0dXJlIHdoaWNoIGhvbGRzXG4gICAqIHRoZSBjb250cm9sbGVyIGluc3RhbmNlc1xuICAgKi9cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBsYW5ndWFnZTogc3RyaW5nKSB7XG4gICAgLy8gY2hlY2sgdGhpcmQgcGFydHkgc2NyaXB0XG4gICAgLy8gdHNsaW50OmRpc2FibGVcbiAgICBjb25zdCBtb25hY28gPSB3aW5kb3dbJ21vbmFjbyddXG4gICAgLy8gdHNsaW50OmVuYWJsZVxuICAgIGlmIChtb25hY28pIHtcbiAgICAgIC8vIGluaXQgdGhlIG1lbnUgYW5kIFVJc1xuICAgICAgdGhpcy5lZGl0b3IgPSBtb25hY28uZWRpdG9yLmNyZWF0ZShlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY2UtZWRpdG9yJyksIHtcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgdGhlbWU6ICd2cy1kYXJrJyxcbiAgICAgIH0pXG4gICAgICB0aGlzLmVkaXRvci5vbkRpZENoYW5nZU1vZGVsQ29udGVudCgoZSkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMubG9ja09uQ2hhbmdlKSB7XG4gICAgICAgICAgdGhpcy5jb250ZW50Q2hhbmdlZCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIGRvY2sgbW9kZVxuICAgICAgY29uc3QgZG9ja0J0biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRvY2stYnRuJylcbiAgICAgIGlmIChkb2NrQnRuKSB7XG4gICAgICAgIGRvY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgQ29kZUVkaXRvckJhc2UuaXNEb2NrZWQgPSAhQ29kZUVkaXRvckJhc2UuaXNEb2NrZWRcbiAgICAgICAgICB0aGlzLmRvY2tQYW5lbChDb2RlRWRpdG9yQmFzZS5pc0RvY2tlZClcbiAgICAgICAgICB0aGlzLnNldE9wdGlvbnMoKVxuICAgICAgICAgIC8vIGZvcmNlIGFjZSByZWRyYXcgZm9yIGVkaXRvciBzaXplXG4gICAgICAgICAgdGhpcy5lZGl0b3IucmVuZGVyKClcbiAgICAgICAgICB0aGlzLmVkaXRvci5sYXlvdXQoKVxuICAgICAgICAgIC8vIGdpdmUgdGhlIGVkaXRvciB0aGUgZm9jdXNcbiAgICAgICAgICB0aGlzLmVkaXRvci5mb2N1cygpXG4gICAgICAgIH0sIGZhbHNlKVxuICAgICAgfVxuICAgICAgdGhpcy5tb2RhbERpYWxvZyA9IG5ldyBNb2RhbERpYWxvZyh7XG4gICAgICAgIG5hbWU6IGAke2xhbmd1YWdlfSBFZGl0b3JgLFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBvbk9wZW46IChhcmdzKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRPcHRpb25zKClcbiAgICAgICAgICAvLyBmb3JjZSBhY2UgcmVkcmF3IGZvciBlZGl0b3Igc2l6ZVxuICAgICAgICAgIHRoaXMuZWRpdG9yLnJlbmRlcigpXG4gICAgICAgICAgdGhpcy5lZGl0b3IubGF5b3V0KClcbiAgICAgICAgICAvLyBnaXZlIHRoZSBlZGl0b3IgdGhlIGZvY3VzXG4gICAgICAgICAgdGhpcy5lZGl0b3IuZm9jdXMoKVxuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlOiAoKSA9PiB7fSxcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnRXJyb3InLCAnVGhlIG1vbmFjbyBlZGl0b3IgZGlkIG5vdCBsb2FkLiBUaGlzIGlzIHJlcXVpcmVkIGJ5IFNpbGV4LCBwbGVhc2UgdHJ5IHJlbG9hZGluZyB0aGUgcGFnZSBvciBidWlsZCBTaWxleCBhZ2Fpbi4nLCAoKSA9PiB7fSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZG9jayBwYW5lbHNcbiAgICogQHBhcmFtIGRvY2sgb3IgdW5kb2NrXG4gICAqL1xuICBkb2NrUGFuZWwoZG9jazogYm9vbGVhbikge1xuICAgIGNvbnN0IHsgY3NzRWRpdG9yLCBqc0VkaXRvciwgaHRtbEVkaXRvciB9ID0gZ2V0VWlFbGVtZW50cygpXG4gICAgY29uc3QgcHJvcFNwbGl0dGVyID0gZ2V0UHJvcGVydHlTcGxpdHRlcigpXG4gICAgaWYgKGRvY2spIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZG9jay1lZGl0b3JzJylcbiAgICAgIHByb3BTcGxpdHRlci5hZGRSaWdodChjc3NFZGl0b3IpXG4gICAgICBwcm9wU3BsaXR0ZXIuYWRkUmlnaHQoanNFZGl0b3IpXG4gICAgICBwcm9wU3BsaXR0ZXIuYWRkUmlnaHQoaHRtbEVkaXRvcilcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdkb2NrLWVkaXRvcnMnKVxuICAgICAgcHJvcFNwbGl0dGVyLnJlbW92ZShjc3NFZGl0b3IpXG4gICAgICBwcm9wU3BsaXR0ZXIucmVtb3ZlKGpzRWRpdG9yKVxuICAgICAgcHJvcFNwbGl0dGVyLnJlbW92ZShodG1sRWRpdG9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBzZXQgZWRpdG9yJ3Mgb3B0aW9uc1xuICAgKi9cbiAgc2V0T3B0aW9ucygpIHtcbiAgICB0aGlzLmVkaXRvci51cGRhdGVPcHRpb25zKHtcbiAgICAgIGxpbmVOdW1iZXJzOiBDb2RlRWRpdG9yQmFzZS5pc0RvY2tlZCA/ICdvZmYnIDogJ29uJyxcbiAgICAgIG1pbmltYXA6IHtcbiAgICAgICAgZW5hYmxlZDogIUNvZGVFZGl0b3JCYXNlLmlzRG9ja2VkLFxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gdGhlIGVkaXRvclxuICAgKi9cbiAgb3BlbigpIHtcbiAgICB0aGlzLm1vZGFsRGlhbG9nLm9wZW4oKVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBlZGl0b3JcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMubW9kYWxEaWFsb2cuY2xvc2UoKVxuICB9XG5cbiAgLyoqXG4gICAqIGVkaXRvciByZWFkIG9ubHkgcHJvcGVydHlcbiAgICovXG4gIHNldFJlYWRPbmx5KHJlYWRPbmx5OiBib29sZWFuKSB7XG4gICAgdGhpcy5lZGl0b3IudXBkYXRlT3B0aW9ucyh7IHJlYWRPbmx5IH0pXG4gIH1cblxuICAvKipcbiAgICogY3VycmVudCB2YWx1ZSBvZiB0aGUgZWRpdG9yXG4gICAqL1xuICBnZXRWYWx1ZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXRWYWx1ZSgpXG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgdmFsdWUgdG8gdGhlIGVkaXRvclxuICAgKiBwYXJhbSB7IXN0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5zZXRSZWFkT25seShmYWxzZSlcblxuICAgIC8vIHNldCB2YWx1ZVxuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5nZXRWYWx1ZSgpKSB7XG4gICAgICB0aGlzLmxvY2tPbkNoYW5nZSA9IHRydWVcbiAgICAgIHRoaXMuZWRpdG9yLnNldFZhbHVlKHZhbHVlKVxuICAgICAgdGhpcy5sb2NrT25DaGFuZ2UgPSBmYWxzZVxuICAgIH1cblxuICAgIC8vIC8vIGZvcmNlIGFjZSByZWRyYXdcbiAgICAvLyB0aGlzLmVkaXRvci5sYXlvdXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSB2YWx1ZSB0byB0aGUgZWRpdG9yXG4gICAqIHBhcmFtIHshc3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0RXJyb3IodmFsdWUpIHtcbiAgICB0aGlzLnNldFJlYWRPbmx5KHRydWUpXG5cbiAgICB0aGlzLmxvY2tPbkNoYW5nZSA9IHRydWVcbiAgICB0aGlzLmVkaXRvci5zZXRWYWx1ZSh2YWx1ZSlcbiAgICB0aGlzLmxvY2tPbkNoYW5nZSA9IGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogdGhlIGNvbnRlbnQgaGFzIGNoYW5nZWQsIG5vdGlmeSB0aGUgY29udHJvbGVyXG4gICAqL1xuICBjb250ZW50Q2hhbmdlZCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RvIGJlIG92ZXJyaWRkZW4gaW4gc3ViIGNsYXNzZXMnKVxuICB9XG59XG4iLCJcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiB0aGUgU2lsZXggSFRNTCBlZGl0b3JcbiAqXG4gKi9cbmltcG9ydCB7IEVsZW1lbnRTdGF0ZSwgRWxlbWVudFR5cGUgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgc3Vic2NyaWJlRWxlbWVudHMsIHVwZGF0ZUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldERvbUVsZW1lbnQgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2RvbSdcbmltcG9ydCB7IGdldFNpdGVEb2N1bWVudCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2l0ZUZyYW1lJ1xuaW1wb3J0IHsgQ29kZUVkaXRvckJhc2UgfSBmcm9tICcuL0NvZGVFZGl0b3JCYXNlJ1xuaW1wb3J0IHsgc3Vic2NyaWJlU2l0ZSwgZ2V0U2l0ZSwgdXBkYXRlU2l0ZSB9IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBnZXRTZWxlY3RlZEVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgc2VsZWN0Qm9keSB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQgeyBnZXRVaUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvVWlFbGVtZW50cydcblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxubGV0IGluc3RhbmNlOiBIdG1sRWRpdG9yXG5leHBvcnQgZnVuY3Rpb24gaW5pdEh0bWxFZGl0b3IoKSB7XG4gIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgbmV3IEh0bWxFZGl0b3IoZ2V0VWlFbGVtZW50cygpLmh0bWxFZGl0b3IpXG4gIHJldHVybiBpbnN0YW5jZVxufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5IdG1sRWRpdG9yKCkge1xuICByZXR1cm4gaW5zdGFuY2Uub3BlbigpXG59XG5cbi8qKlxuICogZWRpdCBIVE1MIGhlYWQgdGFnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuSHRtbEhlYWRFZGl0b3IoKSB7XG4gIC8vIHVuZG8gY2hlY2twb2ludFxuICAgIC8vICB1bmRvQ2hlY2tQb2ludCgpO1xuXG4gIC8vIGRlc2VsZWN0IGFsbCBlbGVtZW50cyBidXQgc2VsZWN0IHRoZSBib2R5XG4gIHNlbGVjdEJvZHkoKVxuXG4gIC8vIG9wZW4gdGhlIGVkaXRvclxuICBvcGVuSHRtbEVkaXRvcigpXG59XG5cblxuLyoqXG4gKiBUT0RPOiBtYWtlIHRoaXMgb25seSBtZXRob2RzIGFuZCB3cml0ZSB0ZXN0c1xuICovXG5jbGFzcyBIdG1sRWRpdG9yIGV4dGVuZHMgQ29kZUVkaXRvckJhc2Uge1xuICAvKipcbiAgICogQHBhcmFtIGVsZW1lbnQgICBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBVSVxuICAgKiBAcGFyYW0gbW9kZWwgIG1vZGVsIGNsYXNzIHdoaWNoIGhvbGRzXG4gICAqIHRoZSBtb2RlbCBpbnN0YW5jZXMgLSB2aWV3cyB1c2UgaXQgZm9yXG4gICAqIHJlYWQgb3BlcmF0aW9uIG9ubHlcbiAgICogQHBhcmFtIGNvbnRyb2xsZXIgIHN0cnVjdHVyZSB3aGljaCBob2xkc1xuICAgKiB0aGUgY29udHJvbGxlciBpbnN0YW5jZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudCwgJ2h0bWwnKVxuICAgIHN1YnNjcmliZVNpdGUoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoKVxuICAgIH0pXG4gICAgc3Vic2NyaWJlRWxlbWVudHMoKF86IEVsZW1lbnRTdGF0ZVtdLCBfXzogRWxlbWVudFN0YXRlW10pID0+IHtcbiAgICAgIHRoaXMucmVkcmF3KClcbiAgICB9KVxuICB9XG4gIGZvclNlbGVjdGlvbih7IGh0bWxCb3gsIGJvZHksIGVycm9yIH06IHsgaHRtbEJveDogKGVsOiBFbGVtZW50U3RhdGUpID0+IHZvaWQsIGJvZHk6ICgpID0+IHZvaWQsIGVycm9yOiAoKSA9PiB2b2lkIH0pIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IGRvbUVsID0gZ2V0RG9tRWxlbWVudChnZXRTaXRlRG9jdW1lbnQoKSwgZWxlbWVudHNbMF0pXG4gICAgICBpZiAoZWxlbWVudHNbMF0udHlwZSA9PT0gRWxlbWVudFR5cGUuSFRNTCkge1xuICAgICAgICBodG1sQm94KGVsZW1lbnRzWzBdKVxuICAgICAgfSBlbHNlIGlmIChkb21FbCAmJiBkb21FbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdib2R5Jykge1xuICAgICAgICBib2R5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3IoKVxuICAgIH1cbiAgfVxuICByZWRyYXcoKSB7XG4gICAgY29uc3QgaGVhZFRhZyA9IGdldFNpdGUoKS5oZWFkVXNlclxuICAgIHRoaXMuZm9yU2VsZWN0aW9uKHtcbiAgICAgIGh0bWxCb3g6IChlbCkgPT4gdGhpcy5zZXRWYWx1ZShlbC5pbm5lckh0bWwpLFxuICAgICAgYm9keTogKCkgPT4gdGhpcy5zZXRWYWx1ZShoZWFkVGFnKSxcbiAgICAgIGVycm9yOiAoKSA9PiB0aGlzLnNldEVycm9yKCctc2VsZWN0IGFuIEhUTUwgYm94LScpLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogdGhlIGNvbnRlbnQgaGFzIGNoYW5nZWQsIG5vdGlmeSB0aGUgY29udHJvbGVyXG4gICAqL1xuICBjb250ZW50Q2hhbmdlZCgpIHtcbiAgICB0aGlzLmZvclNlbGVjdGlvbih7XG4gICAgICBodG1sQm94OiAoZWwpID0+IHVwZGF0ZUVsZW1lbnRzKFt7XG4gICAgICAgIC4uLmVsLFxuICAgICAgICBpbm5lckh0bWw6IHRoaXMuZ2V0VmFsdWUoKSxcbiAgICAgIH1dKSxcbiAgICAgIGJvZHk6ICgpID0+IHVwZGF0ZVNpdGUoe1xuICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgIGhlYWRVc2VyOiB0aGlzLmdldFZhbHVlKCksXG4gICAgICB9KSxcbiAgICAgIGVycm9yOiAoKSA9PiB7fSxcbiAgICB9KVxuICB9XG5cbiAgLy8gc2V0U2VsZWN0aW9uKHNlbGVjdGlvbikge1xuICAvLyAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAwKSB7XG4gIC8vICAgICAvLyBlZGl0IGhlYWQgdGFnXG4gIC8vICAgICB0aGlzLnNldFZhbHVlKHRoaXMubW9kZWwuaGVhZC5nZXRVc2VySGVhZFRhZygpKTtcbiAgLy8gICAgIHRoaXMuc2V0UmVhZE9ubHkoZmFsc2UpO1xuICAvLyAgIH0gZWxzZSB7XG4gIC8vICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAvLyAgICAgICBpZiAoc2VsZWN0aW9uWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2JvZHknKSB7XG4gIC8vICAgICAgICAgLy8gZWRpdCBoZWFkIHRhZ1xuICAvLyAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5tb2RlbC5oZWFkLmdldFVzZXJIZWFkVGFnKCkpO1xuICAvLyAgICAgICAgIHRoaXMuc2V0UmVhZE9ubHkoZmFsc2UpO1xuICAvLyAgICAgICB9IGVsc2Uge1xuICAvLyAgICAgICAgIGlmICh0aGlzLm1vZGVsLmVsZW1lbnQuZ2V0VHlwZShzZWxlY3Rpb25bMF0pID09PSAgRWxlbWVudFR5cGUuSFRNTCkge1xuICAvLyAgICAgICAgICAgLy8gZWRpdCBjdXJyZW50IHNlbGVjdGlvblxuICAvLyAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLm1vZGVsLmVsZW1lbnQuZ2V0SW5uZXJIdG1sKHNlbGVjdGlvblswXSkpO1xuICAvLyAgICAgICAgICAgdGhpcy5zZXRSZWFkT25seShmYWxzZSk7XG4gIC8vICAgICAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgICAgIHRoaXMuc2V0VmFsdWUoJy1zZWxlY3QgYW4gSFRNTCBib3gtJyk7XG4gIC8vICAgICAgICAgICB0aGlzLnNldFJlYWRPbmx5KHRydWUpO1xuICAvLyAgICAgICAgIH1cbiAgLy8gICAgICAgfVxuICAvLyAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgdGhpcy5zZXRWYWx1ZSgnLXNlbGVjdCBhbiBIVE1MIGJveC0nKTtcbiAgLy8gICAgICAgdGhpcy5zZXRSZWFkT25seSh0cnVlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cbn1cbiIsImltcG9ydCB7Tm90aWZpY2F0aW9ufSBmcm9tICcuLi9jb21wb25lbnRzL05vdGlmaWNhdGlvbidcblxuZXhwb3J0IGludGVyZmFjZSBTaG9ydGN1dCB7XG4gIGxhYmVsPzogc3RyaW5nXG4gIGlkPzogc3RyaW5nXG4gIGtleTogc3RyaW5nXG4gIGFsdEtleT86IGJvb2xlYW5cbiAgY3RybEtleT86IGJvb2xlYW5cbiAgc2hpZnRLZXk/OiBib29sZWFuXG4gIG1vZGlmaWVycz86IGJvb2xlYW5cbiAgaW5wdXQ/OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBTaG9ydGN1dEl0ZW0ge1xuICBzOiBTaG9ydGN1dFxuICBpZDogYW55XG4gIGNiazogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWRcbn1cblxuLyoqXG4gKiBAY2xhc3MgS2V5Ym9hcmRcbiAqL1xuZXhwb3J0IGNsYXNzIEtleWJvYXJkIHtcblxuICBzdGF0aWMgaXNJbnB1dCh0YXJnZXQ6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuICF0YXJnZXQudGFnTmFtZSB8fFxuICAgICAgICAvLyB0aGlzIGlzIGluLWlmcmFtZSBmb3J3YXJkaW5nIGNhc2VcbiAgICAgICAgdGFyZ2V0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0lOUFVUJyB8fFxuICAgICAgICB0YXJnZXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnVEVYVEFSRUEnIHx8XG4gICAgICAgIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpID09PSAndHJ1ZSdcbiAgfVxuXG4gIHByaXZhdGUgc2hvcnRjdXRzOiBNYXA8c3RyaW5nLCBTaG9ydGN1dEl0ZW1bXT5cbiAgcHJpdmF0ZSBuZXh0SWQgPSAwXG5cbiAgY29uc3RydWN0b3IoZG9jOiBEb2N1bWVudCkge1xuICAgIHRoaXMuc2hvcnRjdXRzID0gbmV3IE1hcCgpXG4gICAgdGhpcy5hdHRhY2goZG9jKVxuICB9XG5cbiAgYXR0YWNoKGRvYzogRG9jdW1lbnQpIHtcbiAgICBjb25zdCBjYmsgPSAoZSkgPT4gdGhpcy5oYW5kbGVLZXlEb3duKGUpXG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjYmspXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2JrKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZHMgYSBzaG9ydGN1dFxuICAgKiBAcGFyYW0gc2hvcnRjdXQgc2hvcnRjdXQgb2JqZWN0XG4gICAqIEBwYXJhbSBjYmsgY2FsbGJhY2sgdG8gY2FsbCBvbiBzaG9ydGN1dFxuICAgKiBAcmV0dXJucyBhIGZ1bmN0aW9uIHRvIGNhbGwgdG8gcmVtb3ZlIHRoaXMgc2hvcnRjdXRcbiAgICovXG4gIGFkZFNob3J0Y3V0KHNob3J0Y3V0OiBTaG9ydGN1dCwgY2JrOiAocDE6IEV2ZW50KSA9PiB2b2lkKTogKCkgPT4gdm9pZCB7XG4gICAgY29uc3Qga2V5ID0gc2hvcnRjdXQua2V5LnRvTG93ZXJDYXNlKClcbiAgICBpZiAoIWNiayB8fCAha2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3QgYWRkIHNob3J0Y3V0LCBjYWxsYmFjayBhbmQga2V5IGFyZSByZXF1aXJlZCcpXG4gICAgfVxuICAgIGlmICghdGhpcy5zaG9ydGN1dHMuaGFzKGtleSkpIHtcbiAgICAgIHRoaXMuc2hvcnRjdXRzLnNldChrZXksIFtdKVxuICAgIH1cbiAgICBjb25zdCBpZCA9IHRoaXMubmV4dElkKytcbiAgICB0aGlzLnNob3J0Y3V0cy5nZXQoa2V5KS5wdXNoKHtzOiBzaG9ydGN1dCwgY2JrLCBpZH0pXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgYXJyID0gdGhpcy5zaG9ydGN1dHMuZ2V0KGtleSlcbiAgICAgIGNvbnN0IHBvcyA9IGFyci5maW5kSW5kZXgoKHMpID0+IHMuaWQgPT09IGlkKVxuICAgICAgaWYgKHBvcyA+PSAwKSB7XG4gICAgICAgIGFyci5zcGxpY2UocG9zLCAxKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUtleURvd24oZSkge1xuICAgIGlmICghZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICBpZiAoTm90aWZpY2F0aW9uLmlzQWN0aXZlKSB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykgTm90aWZpY2F0aW9uLmNsb3NlKHRydWUsIGUpXG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIE5vdGlmaWNhdGlvbi5jbG9zZShmYWxzZSwgZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNob3J0Y3V0cyA9IHRoaXMuZ2V0U2hvcnRjdXRzRnJvbUV2ZW50KGUpXG4gICAgICAgIGlmIChzaG9ydGN1dHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNob3J0Y3V0cy5mb3JFYWNoKChzaG9ydGN1dCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgc2hvcnRjdXQuY2JrKGUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFNob3J0Y3V0c0Zyb21FdmVudChlKTogU2hvcnRjdXRJdGVtW10ge1xuICAgIGNvbnN0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKClcbiAgICBpZiAoIXRoaXMuc2hvcnRjdXRzLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgY29uc3QgY3RybEtleSA9IGUuY3RybEtleSB8fCBlLm1ldGFLZXlcbiAgICBjb25zdCBzaG9ydGN1dHMgPSB0aGlzLnNob3J0Y3V0cy5nZXQoa2V5KVxuICAgIHJldHVybiBzaG9ydGN1dHMuZmlsdGVyKChzaG9ydGN1dCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gYWNjZXB0IGFsbCBtb2RpZmllcnMgaWYgbW9kaWZpZXJzIGlzIHNldCB0byBmYWxzZVxuICAgICAgICAoXG4gICAgICAgICAgc2hvcnRjdXQucy5tb2RpZmllcnMgPT09IGZhbHNlIHx8IChcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBjaGVjayB0aGUgbW9kaWZpZXJzXG4gICAgICAgICAgICAoc2hvcnRjdXQucy5zaGlmdEtleSB8fCBmYWxzZSkgPT09IGUuc2hpZnRLZXkgJiZcbiAgICAgICAgICAgIChzaG9ydGN1dC5zLmFsdEtleSB8fCBmYWxzZSkgPT09IGUuYWx0S2V5ICYmXG4gICAgICAgICAgICAoc2hvcnRjdXQucy5jdHJsS2V5IHx8IGZhbHNlKSA9PT0gY3RybEtleVxuICAgICAgICAgIClcbiAgICAgICAgKSAmJlxuICAgICAgICAvLyBub3Qgd2hlbiBpbiBhbiBpbnB1dCBmaWVsZFxuICAgICAgICAoc2hvcnRjdXQucy5pbnB1dCAhPT0gZmFsc2UgfHwgIUtleWJvYXJkLmlzSW5wdXQoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpKVxuICAgICAgKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBoZWxwZXJzIHRvIGRpc3BhdGNoIGNvbW1vbiBhY3Rpb25zIG9uIHRoZSBzdG9yZSAtIHRoaXMgZmlsZSBpcyBjcm9zcyBwbGF0Zm9ybVxuICogVE9ETzogbW92ZSB0aGlzIGZpbGUgdG8gYSBjcm9zcyBwbGF0Zm9ybSBwYWNrYWdlIChlLmcuIGluIHNyYy90cy9oZWxwZXJzLylcbiAqL1xuXG5pbXBvcnQgeyBQYWdlU3RhdGUgfSBmcm9tICcuLi9wYWdlLXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0VWksIHVwZGF0ZVVpIH0gZnJvbSAnLi9pbmRleCdcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgY29uc3Qgb3BlblBhZ2UgPSAoaXRlbTogUGFnZVN0YXRlLCB1aSA9IGdldFVpKCksIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpID0+IHVwZGF0ZVVpKHtcbiAgLi4udWksXG4gIGN1cnJlbnRQYWdlSWQ6IGl0ZW0uaWQsXG59LCBkaXNwYXRjaClcblxuZXhwb3J0IGNvbnN0IGFkZERpYWxvZyA9IChkaWFsb2c6IERpYWxvZywgdWkgPSBnZXRVaSgpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSA9PiB1cGRhdGVVaSh7XG4gIC4uLnVpLFxuICBkaWFsb2dzOiB1aS5kaWFsb2dzLmNvbmNhdChkaWFsb2cpLFxufSwgZGlzcGF0Y2gpXG5cbmV4cG9ydCBjb25zdCByZW1vdmVEaWFsb2cgPSAoZGlhbG9nOiBEaWFsb2csIHVpID0gZ2V0VWkoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4gdXBkYXRlVWkoe1xuICAuLi51aSxcbiAgZGlhbG9nczogdWkuZGlhbG9ncy5maWx0ZXIoZCA9PiBkLmlkICE9PSBkaWFsb2cuaWQgfHwgZC50eXBlICE9PSBkaWFsb2cudHlwZSksXG59LCBkaXNwYXRjaClcblxuLy8gMSBkaWFsb2cgb25seSBjYW4gYmUgb3BlbiBhdCBhIHRpbWUgZm9yIGEgZ2l2ZW4gdHlwZVxuZXhwb3J0IGNvbnN0IG9wZW5EaWFsb2cgPSAoZGlhbG9nOiBEaWFsb2csIHVpID0gZ2V0VWkoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkgPT4gdXBkYXRlVWkoe1xuICAuLi51aSxcbiAgZGlhbG9nczogdWkuZGlhbG9ncy5tYXAoZCA9PiBkLnR5cGUgPT09IGRpYWxvZy50eXBlICYmIGQudmlzaWJsZSAhPT0gKGQuaWQgPT09IGRpYWxvZy5pZCkgPyB7XG4gICAgLi4uZCxcbiAgICB2aXNpYmxlOiBkLmlkID09PSBkaWFsb2cuaWQsXG4gIH0gOiBkKSxcbn0sIGRpc3BhdGNoKVxuXG4iLCJpbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBMaW5rVHlwZSB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBQYWdlU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBjcmVhdGVQYWdlcywgZ2V0UGFnZXMsIHVwZGF0ZVBhZ2VzLCBkZWxldGVQYWdlcywgbW92ZVBhZ2UsIGZyb21QYWdlRGF0YSB9IGZyb20gJy4vaW5kZXgnXG5pbXBvcnQgeyBnZXRDdXJyZW50UGFnZSB9IGZyb20gJy4vZmlsdGVycydcbmltcG9ydCB7IG9wZW5QYWdlIH0gZnJvbSAnLi4vdWktc3RvcmUvZGlzcGF0Y2hlcnMnXG5cbi8qKlxuICogY3JlYXRlIGEgcGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFnZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gICAgdHJhY2tlci50cmFja0FjdGlvbignY29udHJvbGxlci1ldmVudHMnLCAncmVxdWVzdCcsICdpbnNlcnQucGFnZScsIDApO1xuICByZXR1cm4gZWRpdFBhZ2VTZXR0aW5ncyhudWxsKVxuICAgIC50aGVuKCh7aWQsIGRpc3BsYXlOYW1lfSkgPT4ge1xuICAgICAgLy8gY2hlY2sgaWYgYSBwYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0c1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBnZXRQYWdlcygpLmZpbmQoKHApID0+IHAuaWQgPT09IGlkKVxuICAgICAgaWYgKCEhZXhpc3RpbmcpIHtcbiAgICAgICAgLy8gb3BlbiB0aGUgbmV3IHBhZ2VcbiAgICAgICAgb3BlblBhZ2UoZXhpc3RpbmcpXG4gICAgICAgIE5vdGlmaWNhdGlvbi5ub3RpZnlFcnJvcihgUGFnZSBub3QgY3JlYXRlZDogcGFnZSBhbHJlYWR5IGV4aXN0c2ApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgdGhlIHBhZ2UgbW9kZWxcbiAgICAgICAgY3JlYXRlUGFnZXMoZnJvbVBhZ2VEYXRhKFt7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZGlzcGxheU5hbWUsXG4gICAgICAgICAgbGluazoge1xuICAgICAgICAgICAgbGlua1R5cGU6IExpbmtUeXBlLlBBR0UsXG4gICAgICAgICAgICBocmVmOiBDb25zdGFudHMuUEFHRV9OQU1FX1BSRUZJWCArIGlkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FuRGVsZXRlOiB0cnVlLFxuICAgICAgICAgIGNhblJlbmFtZTogdHJ1ZSxcbiAgICAgICAgICBjYW5Nb3ZlOiB0cnVlLFxuICAgICAgICAgIGNhblByb3BlcnRpZXM6IHRydWUsXG4gICAgICAgIH1dKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAvLyBjYW5jZWxlZCBieSB1c2VyXG4gICAgfSlcbn1cblxuLyoqXG4gKiBlZGl0IGEgcGFnZSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gcGFnZURhdGEgZGF0YSBvZiB0aGUgcGFnZSBlZGl0ZWQsIGRlZmF1bHRzIHRvIGN1cnJlbnQgcGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWRpdFBhZ2UocGFnZURhdGE6IFBhZ2VTdGF0ZSA9IGdldEN1cnJlbnRQYWdlKCkpIHtcbiAgZWRpdFBhZ2VTZXR0aW5ncyhwYWdlRGF0YSlcbiAgICAudGhlbigoe2lkLCBkaXNwbGF5TmFtZX0pID0+IHtcbiAgICAgIGlmIChwYWdlRGF0YS5jYW5SZW5hbWUpIHtcbiAgICAgICAgLy8gdXBkYXRlIG1vZGVsXG4gICAgICAgIHVwZGF0ZVBhZ2VzKFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5wYWdlRGF0YSxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgZGlzcGxheU5hbWUsXG4gICAgICAgICAgICBsaW5rOiB7XG4gICAgICAgICAgICAgIGxpbmtUeXBlOiBMaW5rVHlwZS5QQUdFLFxuICAgICAgICAgICAgICBocmVmOiBDb25zdGFudHMuUEFHRV9OQU1FX1BSRUZJWCArIGlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdFcnJvcicsICdJIGNhbiBub3QgcmVuYW1lIHRoaXMgcGFnZSBiZWNhdXNlIDxzdHJvbmc+aXQgaXMgYSBwcm90ZWN0ZWQgcGFnZTwvc3Ryb25nPi4nLCAoKSA9PiB7fSlcbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAvLyBjYW5jZWxlZCBieSB1c2VyXG4gICAgfSlcbn1cblxuLyoqXG4gKiByZW12b3ZlIGEgcGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUGFnZShwYWdlOiBQYWdlU3RhdGUgPSBnZXRDdXJyZW50UGFnZSgpKSB7XG4gIC8vIGNvbmZpcm0gYW5kIGRlbGV0ZVxuICBOb3RpZmljYXRpb24uY29uZmlybShcbiAgICAnRGVsZXRlIHBhZ2UnLFxuICAgIGBJIGFtIGFib3V0IHRvIDxzdHJvbmc+ZGVsZXRlIHRoZSBwYWdlIFwiJHtwYWdlLmRpc3BsYXlOYW1lfVwiPC9zdHJvbmc+LCBhcmUgeW91IHN1cmU/YCxcbiAgICAgIChhY2NlcHQpID0+IHtcbiAgICAgIGlmIChhY2NlcHQpIHtcbiAgICAgICAgZG9SZW1vdmVQYWdlKHBhZ2UpXG4gICAgICB9XG4gICAgfSwgJ2RlbGV0ZScsICdjYW5jZWwnLFxuICApXG59XG5cbmZ1bmN0aW9uIGRvUmVtb3ZlUGFnZShwYWdlRGF0YTogUGFnZVN0YXRlKSB7XG4gIGNvbnN0IHBhZ2VzID0gZ2V0UGFnZXMoKVxuICBpZiAocGFnZXMubGVuZ3RoIDwgMikge1xuICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnRXJyb3InLCAnSSBjYW4gbm90IGRlbGV0ZSB0aGlzIHBhZ2UgYmVjYXVzZSA8c3Ryb25nPml0IGlzIHRoZSBvbmx5IHBhZ2U8L3N0cm9uZz4uJywgKCkgPT4ge30pXG4gIH0gZWxzZSB7XG4gICAgaWYgKHBhZ2VEYXRhLmNhbkRlbGV0ZSkge1xuICAgICAgZGVsZXRlUGFnZXMoW3BhZ2VEYXRhXSlcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdFcnJvcicsICdJIGNhbiBub3QgZGVsZXRlIHRoaXMgcGFnZSBiZWNhdXNlIDxzdHJvbmc+aXQgaXMgYSBwcm90ZWN0ZWQgcGFnZTwvc3Ryb25nPi4nLCAoKSA9PiB7fSlcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBtb3ZlIGEgcGFnZVxuICogQHBhcmFtIHBhZ2VOYW1lIG5hbWUgb2YgdGhlIHBhZ2UgdG8gYmUgbW92ZWRcbiAqIEBwYXJhbSBvZmZzZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVQYWdlVG8ocGFnZTogUGFnZVN0YXRlLCBpZHg6IG51bWJlcikge1xuICBtb3ZlUGFnZSh7cGFnZSwgaWR4fSlcbn1cblxuXG4vKipcbiAqIHByb21wIHVzZXIgZm9yIHBhZ2UgcHJvcGVydGllc1xuICogQHBhcmFtIHBhZ2VEYXRhIGRhdGEgb2YgdGhlIHBhZ2UgZWRpdGVkLCBkZWZhdWx0cyB0byBhIG5ldyBwYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZGl0UGFnZVNldHRpbmdzKHBhZ2VEYXRhOiBQYWdlU3RhdGUgPSBudWxsKTogUHJvbWlzZTx7aWQ6IHN0cmluZywgZGlzcGxheU5hbWU6IHN0cmluZ30+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBmb3JtLmlubmVySFRNTCA9IGBcbiAgICAgIFBhZ2UgTmFtZVxuICAgICAgPGlucHV0XG4gICAgICAgIGF1dG9mb2N1c1xuICAgICAgICBpZD1cInBhZ2UtcHJvcGVydHktbmFtZVwiXG4gICAgICAgIGNsYXNzPVwiYmxvY2stZGlhbG9nXCJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJZb3VyIHBhZ2UgbmFtZSBoZXJlXCJcbiAgICAgICAgdmFsdWU9XCIkeyBwYWdlRGF0YSA/IHBhZ2VEYXRhLmRpc3BsYXlOYW1lIDogJycgfVwiXG4gICAgICAgICR7ICFwYWdlRGF0YSB8fCBwYWdlRGF0YS5jYW5SZW5hbWUgPyAnJyA6ICdkaXNhYmxlZCcgfVxuICAgICAgICAvPlxuICAgIGBcbiAgICBjb25zdCBuYW1lSW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJyNwYWdlLXByb3BlcnR5LW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgTm90aWZpY2F0aW9uLmNvbmZpcm0oXG4gICAgICBwYWdlRGF0YSA/ICdQYWdlIFByb3BlcnRpZXMnIDogJ05ldyBwYWdlJyxcbiAgICAgICcnLFxuICAgICAgKGFjY2VwdCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdOYW1lID0gbmFtZUlucHV0LnZhbHVlXG4gICAgICAgIGlmIChhY2NlcHQgJiYgbmV3TmFtZSAmJiBuZXdOYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBjbGVhbnVwIHRoZSBwYWdlIG5hbWVcbiAgICAgICAgICAvLyBhZGQgYSBwcmVmaXggdG8gcHJldmVudCBuYW1lcyB3aGljaCBzdGFydCB3aXRoIGFuIGRhc2ggb3IgbnVtYmVyIChzZWUgY3NzIHNwZWNpZmljYXRpb25zKVxuICAgICAgICAgIGNvbnN0IGNsZWFuTmFtZSA9IENvbnN0YW50cy5QQUdFX0lEX1BSRUZJWCArIG5ld05hbWUucmVwbGFjZSgvXFxXKy9nLCAnLScpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICByZXNvbHZlKHtpZDogY2xlYW5OYW1lLCBkaXNwbGF5TmFtZTogbmV3TmFtZX0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KCdDYW5jZWxlZCcpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKVxuICAgIE5vdGlmaWNhdGlvbi5zZXRDb250ZW50KGZvcm0pXG4gIH0pXG59XG4iLCJcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiB0aGUgU2lsZXggQ1NTIEVkaXRvclxuICpcbiAqXG4gKi9cbmltcG9ydCB7IFNpdGVTdGF0ZSB9IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBnZXRTaXRlLCBzdWJzY3JpYmVTaXRlLCB1cGRhdGVTaXRlIH0gZnJvbSAnLi4vLi4vc2l0ZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IENvZGVFZGl0b3JCYXNlIH0gZnJvbSAnLi9Db2RlRWRpdG9yQmFzZSdcbmltcG9ydCB7IGdldFVpRWxlbWVudHMgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9VaUVsZW1lbnRzJ1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBBUEkgZm9yIHRoZSBvdXRzaWRlIHdvcmxkXG5sZXQgaW5zdGFuY2U6IENzc0VkaXRvclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRDc3NFZGl0b3IoKSB7XG4gIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgbmV3IENzc0VkaXRvcihnZXRVaUVsZW1lbnRzKCkuY3NzRWRpdG9yKVxuICByZXR1cm4gaW5zdGFuY2Vcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVuQ3NzRWRpdG9yKCkge1xuICByZXR1cm4gaW5zdGFuY2Uub3BlbigpXG59XG5cbi8qKlxuICogVE9ETzogbWFrZSB0aGlzIG9ubHkgbWV0aG9kcyBhbmQgd3JpdGUgdGVzdHNcbiAqL1xuY2xhc3MgQ3NzRWRpdG9yIGV4dGVuZHMgQ29kZUVkaXRvckJhc2Uge1xuICAvKipcbiAgICogQHBhcmFtIGVsZW1lbnQgICBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBVSVxuICAgKiBAcGFyYW0gbW9kZWwgIG1vZGVsIGNsYXNzIHdoaWNoIGhvbGRzXG4gICAqIHRoZSBtb2RlbCBpbnN0YW5jZXMgLSB2aWV3cyB1c2UgaXQgZm9yXG4gICAqIHJlYWQgb3BlcmF0aW9uIG9ubHlcbiAgICogQHBhcmFtIGNvbnRyb2xsZXIgIHN0cnVjdHVyZSB3aGljaCBob2xkc1xuICAgKiB0aGUgY29udHJvbGxlciBpbnN0YW5jZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudCwgJ2NzcycpXG4gICAgc3Vic2NyaWJlU2l0ZSgoXzogU2l0ZVN0YXRlLCBzaXRlOiBTaXRlU3RhdGUpID0+IHtcbiAgICAgIGlmIChzaXRlLmhlYWRTdHlsZSAhPT0gdGhpcy5nZXRWYWx1ZSgpKSB7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUoc2l0ZS5oZWFkU3R5bGUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiB0aGUgY29udGVudCBoYXMgY2hhbmdlZCwgbm90aWZ5IHRoZSBjb250cm9sZXJcbiAgICovXG4gIGNvbnRlbnRDaGFuZ2VkKCkge1xuICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgaGVhZFN0eWxlOiB0aGlzLmdldFZhbHVlKCksXG4gICAgfSlcbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNlcnZpY2UgdXNlZCB0byBpbnRlcmFjdCB3aXRoIHRoZSB1bmlmaWxlIHNlcnZlci5cbiAqICAgICBUaGUgU2lsZXggXCJ0YXNrc1wiIGFyZSBub2RlanMgbWV0aG9kcyB3aGljaCBTaWxleCBhZGRzIHRvIHRoZSB1bmlmbGUgQVBJLlxuICogICAgIFRoaXMgY2xhc3MgaXMgYSBzaW5nbGV0b24uXG4gKlxuICovXG5cbmltcG9ydCB7SG9zdGluZywgUHJvdmlkZXIsIFZIb3N0fSBmcm9tICcuLi9zaXRlLXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHtQdWJsaWNhdGlvbk9wdGlvbnN9IGZyb20gJy4uL3NpdGUtc3RvcmUvdHlwZXMnXG4vKipcbiAqIHRoZSBTaWxleCBTaWxleFRhc2tzIHNpbmdsZXRvblxuICogYmFzZWQgb24gaHR0cDovL3d3dy5pbmtmaWxlcGlja2VyLmNvbS9cbiAqIGxvYWQgYW5kIHNhdmUgZGF0YSB0byBhbmQgZnJvbSB0aGUgY2xvdWQgc3RvcmFnZSBzZXJ2aWNlc1xuICogRklYTUU6IHVzZSB0eXBlcyBjb21tb24gdG8gZnJvbnQgYW5kIGJhY2sgZW5kXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWxleFRhc2tzIHtcblxuICBzdGF0aWMgaW5zdGFuY2U6IFNpbGV4VGFza3NcbiAgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgIFNpbGV4VGFza3MuaW5zdGFuY2UgPSBTaWxleFRhc2tzLmluc3RhbmNlIHx8IG5ldyBTaWxleFRhc2tzKClcbiAgICByZXR1cm4gU2lsZXhUYXNrcy5pbnN0YW5jZVxuICB9XG4gIC8qKlxuICAgKiBwdWJsaXNoIGEgd2Vic2l0ZSB0byBhIGdpdmVuIGZvbGRlclxuICAgKiBAcGFyYW0gY2JrIGNhbGxlZCB3aGVuIHN1Y2Nlc3NcbiAgICogQHBhcmFtIG9wdF9lcnJDYmsgdG8gcmVjZWl2ZSB0aGUganNvbiByZXNwb25zZVxuICAgKi9cbiAgcHVibGlzaChvcHRpb25zOiBQdWJsaWNhdGlvbk9wdGlvbnMsIGNiazogKHAxOiBzdHJpbmcpID0+IGFueSwgb3B0X2VyckNiaz86IChwMTogc3RyaW5nKSA9PiBhbnkpIHtcbiAgICB0aGlzLmNhbGxTZXJ2ZXIoJy90YXNrcy9wdWJsaXNoJywgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyksICdQT1NUJywgKGpzb24pID0+IGNiayhqc29uKSwgb3B0X2VyckNiaylcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IHB1YmxpY2F0aW9uXG4gICAqIEBwYXJhbSBjYmsgdG8gcmVjZWl2ZSB0aGUganNvbiByZXNwb25zZVxuICAgKiBAcGFyYW0gb3B0X2VyckNiayB0byByZWNlaXZlIHRoZSBqc29uIHJlc3BvbnNlXG4gICAqL1xuICBwdWJsaXNoU3RhdGUoY2JrOiAocDE6IHttZXNzYWdlOiBzdHJpbmcsIHN0b3A6IGJvb2xlYW59KSA9PiBhbnksIG9wdF9lcnJDYms/OiAocDE6IHN0cmluZykgPT4gYW55KSB7XG4gICAgdGhpcy5jYWxsU2VydmVyKCcvdGFza3MvcHVibGlzaFN0YXRlJywgJycsICdHRVQnLCBjYmssIG9wdF9lcnJDYmspXG4gIH1cblxuICAvKipcbiAgICogZ2V0IHRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBwdWJsaWNhdGlvblxuICAgKiBAcGFyYW0gY2JrIHRvIHJlY2VpdmUgdGhlIGpzb24gcmVzcG9uc2VcbiAgICogQHBhcmFtIG9wdF9lcnJDYmsgdG8gcmVjZWl2ZSB0aGUganNvbiByZXNwb25zZVxuICAgKi9cbiAgaG9zdGluZyhjYms6IChwMTogSG9zdGluZykgPT4gdm9pZCwgb3B0X2VyckNiaz86IChwMTogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5jYWxsU2VydmVyKCcvaG9zdGluZy8nLCAnJywgJ0dFVCcsIGNiaywgb3B0X2VyckNiaylcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgdGhlIGxvZ2luIFVSTFxuICAgKiBAcGFyYW0gY2JrIHRvIHJlY2VpdmUgdGhlIGpzb24gcmVzcG9uc2VcbiAgICovXG4gIGF1dGhvcml6ZShwcm92aWRlcjogUHJvdmlkZXIsIGNiazogKHAxOiBzdHJpbmcpID0+IGFueSwgb3B0X2VyckNiaz86IChwMTogc3RyaW5nKSA9PiBhbnkpIHtcbiAgICB0aGlzLmNhbGxTZXJ2ZXIocHJvdmlkZXIuYXV0aG9yaXplVXJsLCAnJywgJ1BPU1QnLCBjYmssIG9wdF9lcnJDYmspXG4gIH1cblxuICAvKipcbiAgICogZ2V0IHRoZSB2aG9zdHMgZm9yIGEgcHJvdmlkZXIgdG8gd2hpY2ggd2UgYXJlIGNvbm5lY3RlZFxuICAgKiBAcGFyYW0gY2JrIHRvIHJlY2VpdmUgdGhlIGpzb24gcmVzcG9uc2VcbiAgICovXG4gIHZob3N0cyhwcm92aWRlcjogUHJvdmlkZXIsIGNiazogKHAxOiBWSG9zdFtdKSA9PiBhbnksIG9wdF9lcnJDYms/OiAocDE6IHN0cmluZykgPT4gYW55KSB7XG4gICAgdGhpcy5jYWxsU2VydmVyKHByb3ZpZGVyLnZob3N0c1VybCwgJycsICdHRVQnLCBjYmssIG9wdF9lcnJDYmspXG4gIH1cblxuICAvKipcbiAgICogZ2V0IHRoZSBkb21haW4gbmFtZSBmb3IgYSB2aG9zdFxuICAgKiBAcGFyYW0gY2JrIHRvIHJlY2VpdmUgdGhlIGpzb24gcmVzcG9uc2VcbiAgICovXG4gIGRvbWFpbih2aG9zdDogVkhvc3QsIGNiazogKHAxPzoge2RvbWFpbjogc3RyaW5nLCB1cmw6IHN0cmluZywgc3RhdHVzOiBzdHJpbmd9KSA9PiBhbnksIG9wdF9lcnJDYms/OiAocDE6IHN0cmluZykgPT4gYW55KSB7XG4gICAgdGhpcy5jYWxsU2VydmVyKHZob3N0LmRvbWFpblVybCwgJycsICdHRVQnLCBjYmssIG9wdF9lcnJDYmspXG4gIH1cblxuICAvKipcbiAgICogdXBkYXRlIHRoZSBkb21haW4gbmFtZSBmb3IgYSB2aG9zdFxuICAgKiBAcGFyYW0gY2JrIHRvIHJlY2VpdmUgdGhlIGpzb24gcmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZURvbWFpbih2aG9zdDogVkhvc3QsIG5ld0RvbWFpbjogc3RyaW5nLCBjYms6IChwMToge2RvbWFpbjogc3RyaW5nLCBodHRwczogYm9vbGVhbn0pID0+IGFueSwgb3B0X2VyckNiaz86IChwMTogc3RyaW5nKSA9PiBhbnkpIHtcbiAgICB0aGlzLmNhbGxTZXJ2ZXIodmhvc3QuZG9tYWluVXJsLCBKU09OLnN0cmluZ2lmeSh7ZG9tYWluOiBuZXdEb21haW59KSwgJ1BPU1QnLCBjYmssICAgb3B0X2VyckNiaylcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmUgdGhlIGRvbWFpbiBuYW1lIGZvciBhIHZob3N0XG4gICAqIEBwYXJhbSBjYmsgdG8gcmVjZWl2ZSB0aGUganNvbiByZXNwb25zZVxuICAgKi9cbiAgcmVtb3ZlRG9tYWluKHZob3N0OiBWSG9zdCwgbmV3RG9tYWluOiBzdHJpbmcsIGNiazogKHAxOiB7ZG9tYWluOiBzdHJpbmcsIGh0dHBzOiBib29sZWFufSkgPT4gYW55LCBvcHRfZXJyQ2JrPzogKHAxOiBzdHJpbmcpID0+IGFueSkge1xuICAgIHRoaXMuY2FsbFNlcnZlcih2aG9zdC5kb21haW5VcmwsIEpTT04uc3RyaW5naWZ5KHtkb21haW46IG5ld0RvbWFpbn0pLCAnREVMRVRFJywgICBjYmssIG9wdF9lcnJDYmspXG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNiayB0byByZWNlaXZlIHRoZSBqc29uIHJlc3BvbnNlXG4gICAqIEBwYXJhbSBvcHRfZXJyQ2JrIHRvIHJlY2VpdmUgdGhlIGpzb24gcmVzcG9uc2VcbiAgICovXG4gIGNhbGxTZXJ2ZXIodXJsOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcsIGNiaywgb3B0X2VyckNiaz86IChwMTogc3RyaW5nKSA9PiBhbnkpIHtcbiAgICBjb25zdCBvUmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICBvUmVxLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZSkgPT4ge1xuICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZyA9IG9SZXEucmVzcG9uc2VUZXh0XG4gICAgICBsZXQganNvbjogYW55ID0gbnVsbFxuICAgICAgdHJ5IHtcbiAgICAgICAganNvbiA9IChKU09OLnBhcnNlKG9SZXEucmVzcG9uc2VUZXh0KSlcbiAgICAgICAgbWVzc2FnZSA9IChqc29uLm1lc3NhZ2UgYXMgc3RyaW5nKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuXG4gICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHJlc3BvbnNlIGlzIGp1c3QgYSBzdHJpbmcsIGUuZy4gYW4gVVJMIGluIHRoZVxuICAgICAgLy8gY2FzZSBvZiBvYXV0aFxuXG4gICAgICAvLyBtYXkgYmUgYW4gZW1wdHkgcmVzcG9uc2Ugb3IgYSBcIkludGVybmFsIFNlcnZlciBFcnJvclwiIHN0cmluZ1xuICAgICAgLy8gc3VjY2VzcyBvZiB0aGUgcmVxdWVzdFxuICAgICAgaWYgKG9SZXEuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgY2JrKGpzb24gfHwgb1JlcS5yZXNwb25zZVRleHQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aGlsZSB0cnlpbmcgdG8gY29ubmVjdCB3aXRoIGJhY2sgZW5kJywgbWVzc2FnZSlcbiAgICAgICAgaWYgKG9wdF9lcnJDYmspIHtcbiAgICAgICAgICBvcHRfZXJyQ2JrKGpzb24gPyBqc29uLm1lc3NhZ2UgOiBtZXNzYWdlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICBvUmVxLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBsb2FkIHdlYnNpdGUnLCBlKVxuICAgICAgaWYgKG9wdF9lcnJDYmspIHtcbiAgICAgICAgb3B0X2VyckNiayhcbiAgICAgICAgICAgICdOZXR3b3JrIGVycm9yLCBwbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uIG9yIHRyeSBhZ2FpbiBsYXRlci4nKVxuICAgICAgfVxuICAgIH0pXG4gICAgb1JlcS5vcGVuKG1ldGhvZCwgdXJsKVxuICAgIG9SZXEuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgIG9SZXEuc2VuZChkYXRhKVxuICB9XG59XG4iLCJpbXBvcnQgeyBGaWxlSW5mbyB9IGZyb20gJy4vQ2xvdWRTdG9yYWdlJ1xuXG4vKipcbiAqIGNsZWFyIHRoZSByZWNlbnQgZmlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTGF0ZXN0RmlsZXMoKSB7XG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2lsZXg6cmVjZW50LWZpbGVzJylcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGxhdGVzdCBvcGVuZWQgZmlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExhdGVzdEZpbGVzKCk6IEZpbGVJbmZvW10ge1xuICBjb25zdCBzdHIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NpbGV4OnJlY2VudC1maWxlcycpXG4gIGlmIChzdHIpIHtcbiAgICByZXR1cm4gKEpTT04ucGFyc2Uoc3RyKSBhcyBGaWxlSW5mb1tdKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXVxuICB9XG59XG5cbi8qKlxuICogbWF4IG51bWJlciBvZiBpdGVtcyBpbiByZWNlbnQgZmlsZXNcbiAqL1xuY29uc3QgTUFYX1JFQ0VOVF9GSUxFUyA9IDVcblxuLyoqXG4gKiBzdG9yZSB0aGlzIGZpbGUgaW4gdGhlIGxhdGVzdCBvcGVuZWQgZmlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvTGF0ZXN0RmlsZXMoZmlsZUluZm86IEZpbGVJbmZvKSB7XG4gIGNvbnN0IGxhdGVzdEZpbGVzID0gW1xuICAgIGZpbGVJbmZvLFxuICAgIC4uLmdldExhdGVzdEZpbGVzKCkuZmlsdGVyKChpdGVtLCBpZHgpID0+IGl0ZW0uYWJzUGF0aCAhPT0gZmlsZUluZm8uYWJzUGF0aCAmJiBpZHggPCBNQVhfUkVDRU5UX0ZJTEVTKSxcbiAgXVxuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NpbGV4OnJlY2VudC1maWxlcycsIEpTT04uc3RyaW5naWZ5KGxhdGVzdEZpbGVzKSlcbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBUaGUgZGlhbG9nIHdoaWNoIGhhbmRsZXMgd2Vic2l0ZSBwdWJsaWNhdGlvblxuICpcbiAqL1xuXG5pbXBvcnQgeyBGaWxlRXhwbG9yZXIgfSBmcm9tICcuL0ZpbGVFeHBsb3JlcidcbmltcG9ydCB7XG4gIEhvc3RpbmcsXG4gIFByb3ZpZGVyLFxuICBQdWJsaWNhdGlvbk9wdGlvbnMsXG4gIFZIb3N0XG59IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBMT0FESU5HIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBTaWxleFRhc2tzIH0gZnJvbSAnLi4vLi4vaW8vU2lsZXhUYXNrcydcbmltcG9ydCB7IGdldFNpdGUsIHVwZGF0ZVNpdGUgfSBmcm9tICcuLi8uLi9zaXRlLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgdXBkYXRlVWksIGdldFVpIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvaW5kZXgnXG5cbmNvbnN0IHNlcnZpY2UgPSBTaWxleFRhc2tzLmdldEluc3RhbmNlKClcblxuLyoqXG4gKiBkaXNwbGF5L2hpZGUgYSBsb2FkZXJcbiAqL1xuZnVuY3Rpb24gc2V0TG9hZGluZyhsb2FkaW5nOiBib29sZWFuKSB7XG4gIHVwZGF0ZVVpKHtcbiAgICAuLi5nZXRVaSgpLFxuICAgIGxvYWRpbmc6IGxvYWRpbmcgPyBMT0FESU5HLlNJTEVYIDogTE9BRElORy5OT05FLFxuICB9KVxufVxuXG4vKipcbiAqIGNsb3NlIGRpYWxvZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VQdWJsaXNoRGlhbG9nKCkge1xuICBzZXRMb2FkaW5nKGZhbHNlKVxuICBOb3RpZmljYXRpb24uY2xvc2UoKVxufVxuXG4vKipcbiAqIG9wZW4gZGlhbG9nIHRvIGdldCB0aGUgcHVibGljYXRpb24gb3B0aW9uc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlblB1Ymxpc2hEaWFsb2coKTogUHJvbWlzZTxQdWJsaWNhdGlvbk9wdGlvbnM+IHtcbiAgcmV0dXJuIChuZXcgUHJvbWlzZTxQdWJsaWNhdGlvbk9wdGlvbnM+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgc2VydmljZS5ob3N0aW5nKChob3N0aW5nOiBIb3N0aW5nKSA9PiB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgY29uc3Qgc2l0ZSA9IGdldFNpdGUoKVxuICAgICAgY29uc3QgcHJvdmlkZXJOYW1lID0gc2l0ZS5ob3N0aW5nUHJvdmlkZXJcbiAgICAgIGNvbnN0IHB1YmxpY2F0aW9uUGF0aCA9IHNpdGUucHVibGljYXRpb25QYXRoXG4gICAgICBpZiAocHJvdmlkZXJOYW1lICYmIHB1YmxpY2F0aW9uUGF0aCkge1xuICAgICAgICBjb25zdCBwcm92aWRlcjogUHJvdmlkZXIgPSBob3N0aW5nLnByb3ZpZGVycy5maW5kKChwKSA9PiBwLm5hbWUgPT09IHByb3ZpZGVyTmFtZSlcbiAgICAgICAgY29uc3QgcHJvdmlkZXJEaXNwbGF5TmFtZSA9IHByb3ZpZGVyID8gcHJvdmlkZXIuZGlzcGxheU5hbWUgfHwgcHJvdmlkZXIubmFtZSA6IHB1YmxpY2F0aW9uUGF0aC5zZXJ2aWNlXG4gICAgICAgIE5vdGlmaWNhdGlvbi5jb25maXJtKCdQdWJsaWNhdGlvbicsIGBcbiAgICAgICAgICBJIGFtIGFib3V0IHRvIHB1Ymxpc2ggeW91ciB3ZWJzaXRlIHRvIDxzdHJvbmc+JHtwcm92aWRlckRpc3BsYXlOYW1lfTwvc3Ryb25nPiwgaW4gdGhlIGZvbGRlciAke3B1YmxpY2F0aW9uUGF0aC5wYXRoIHx8ICcvJ30uXG4gICAgICAgIGAsIChvaykgPT4ge1xuICAgICAgICAgIGlmIChvaykge1xuICAgICAgICAgICAgcmVzb2x2ZShkb09wZW4ob2ssIGhvc3RpbmcsIHByb3ZpZGVyTmFtZSkpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnQ29udGludWUnLCAnQ2FuY2VsJylcbiAgICAgICAgLy8gZWRpdCBidXR0b24gaW4gb3JkZXIgdG8gY2hhbmdlIHRoZSBleGlzdGluZyBzZXR0aW5nc1xuICAgICAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgZWRpdEJ0bi5pbm5lckhUTUwgPSAnRWRpdCdcbiAgICAgICAgZWRpdEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5jbG9zZSgpXG4gICAgICAgICAgcmVzb2x2ZShkb09wZW4oZmFsc2UsIGhvc3RpbmcsIHByb3ZpZGVyTmFtZSkpXG4gICAgICAgIH1cbiAgICAgICAgTm90aWZpY2F0aW9uLmFkZEJ1dHRvbihlZGl0QnRuKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm8gcHVibGlzaCBzZXR0aW5nc1xuICAgICAgICByZXNvbHZlKGRvT3BlbihmYWxzZSwgaG9zdGluZywgcHJvdmlkZXJOYW1lKSlcbiAgICAgIH1cbiAgICB9LCAobXNnKSA9PiByZWplY3QobXNnKSlcbiAgfSkpXG4gIC5jYXRjaCgobXNnKSA9PiB7XG4gICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICB0aHJvdyBtc2dcbiAgfSlcbn1cblxuZnVuY3Rpb24gZG9PcGVuKHVzZVByZWRpZmluZWRTZXR0aW5nczogYm9vbGVhbiwgaG9zdGluZzogSG9zdGluZywgcHJvdmlkZXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPFB1YmxpY2F0aW9uT3B0aW9ucz4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8UHVibGljYXRpb25PcHRpb25zPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHVzZVByZWRpZmluZWRTZXR0aW5ncyB8fCBob3N0aW5nLnByb3ZpZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIHVzZSBwdWJsaWNhdGlvbiBzZXR0aW5ncyBvciBzZW5kIHRoZSB1c2VyIHRvIHB1Ymxpc2ggc2V0dGluZ3NcbiAgICAgIHJlc29sdmUoe1xuICAgICAgICBmaWxlOiBudWxsLFxuICAgICAgICBwdWJsaWNhdGlvblBhdGg6IG51bGwsXG4gICAgICAgIHByb3ZpZGVyOiBudWxsLFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhvc3Rpbmcuc2tpcEhvc3RpbmdTZWxlY3Rpb24gPT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBob3N0aW5nLnByb3ZpZGVyc1swXVxuXG4gICAgICAgIC8vIGNvbnRpbnVlIHRvIG5leHQgc3RlcFxuICAgICAgICByZXNvbHZlKHNlbGVjdFByb3ZpZGVyRm9sZGVyKHByb3ZpZGVyKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoc2VsZWN0UHJvdmlkZXIoaG9zdGluZy5wcm92aWRlcnMsIHByb3ZpZGVyTmFtZSkpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBzZWxlY3RQcm92aWRlcihwcm92aWRlcnM6IFByb3ZpZGVyW10sIHByb3ZpZGVyTmFtZTogc3RyaW5nKTogUHJvbWlzZTxQdWJsaWNhdGlvbk9wdGlvbnM+IHtcblxuICByZXR1cm4gbmV3IFByb21pc2U8UHVibGljYXRpb25PcHRpb25zPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgTm90aWZpY2F0aW9uLnByb21wdCgnUHVibGljYXRpb24nLCAndW51c2VkJywgJ3VudXNlZCcsICd1bnVzZWQnLCAob2spID0+IHtcbiAgICAgIGlmIChvaykge1xuICAgICAgICBjb25zdCBpZHggPSBzZWxlY3RFbC5zZWxlY3RlZEluZGV4XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gcHJvdmlkZXJzW2lkeF1cbiAgICAgICAgcmVzb2x2ZShzZWxlY3RQcm92aWRlckZvbGRlcihwcm92aWRlcikpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKG51bGwpXG4gICAgICB9XG4gICAgfSwgJ25leHQnLCAnY2FuY2VsJylcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGBcbiAgICAgIDxwPkNob29zZSB0aGUgaG9zdGluZyBwcm92aWRlciB5b3UgbG92ZSFcbiAgICAgICg8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL3NpbGV4bGFicy9TaWxleC93aWtpL1B1Ymxpc2hpbmctYW5kLVJlbGVhc2luZy1Zb3VyLVdlYnNpdGUjaG9zdGluZy1wcm92aWRlcnNcIiB0YXJnZXQ9XCJfYmxhbmtcIiB0aXRsZT1cIkFib3V0IGhvc3RpbmcgcHJvdmlkZXJzXCIgY2xhc3M9XCJoZWxwLWJ0blwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj5tb3JlIGluZm8gaGVyZTwvc3Bhbj5cbiAgICAgIDwvYT4pPC9wPlxuICAgICAgPGJyIC8+XG4gICAgICA8c2VsZWN0IGNsYXNzPVwicHJvdmlkZXJzXCI+XG4gICAgICAgICR7cHJvdmlkZXJzLm1hcCgocCkgPT4gYDxvcHRpb24gdmFsdWU9XCIke3AubmFtZX1cIj4ke3AuZGlzcGxheU5hbWV9PC9vcHRpb24+YCl9XG4gICAgICA8L3NlbGVjdD5cbiAgICAgIDxiciAvPlxuICAgIGApXG4gICAgTm90aWZpY2F0aW9uLnNldENvbnRlbnQoYm9keSlcbiAgICBjb25zdCBzZWxlY3RFbCA9IGJvZHkucXVlcnlTZWxlY3RvcignLnByb3ZpZGVycycpIGFzIEhUTUxTZWxlY3RFbGVtZW50XG4gICAgaWYgKHByb3ZpZGVyTmFtZSkge1xuICAgICAgc2VsZWN0RWwudmFsdWUgPSBwcm92aWRlck5hbWVcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogc3RvcmUgdGhlIHNlbGVjdGVkIHByb3ZpZGVyIGFuZCBvcGVuIGEgZm9sZGVyIHNlbGVjdGlvbiBpZiBuZWVkZWRcbiAqL1xuZnVuY3Rpb24gc2VsZWN0UHJvdmlkZXJGb2xkZXIocHJvdmlkZXI6IFByb3ZpZGVyKTogUHJvbWlzZTxQdWJsaWNhdGlvbk9wdGlvbnM+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPFB1YmxpY2F0aW9uT3B0aW9ucz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgaG9zdGluZ1Byb3ZpZGVyOiBwcm92aWRlci5uYW1lLFxuICAgIH0pXG4gICAgaWYgKHByb3ZpZGVyLnNraXBGb2xkZXJTZWxlY3Rpb24pIHtcbiAgICAgIHJlc29sdmUob25TZWxlY3RQcm92aWRlcihwcm92aWRlcikpXG4gICAgfSBlbHNlIHtcbiAgICAgIEZpbGVFeHBsb3Jlci5nZXRJbnN0YW5jZSgpLm9wZW5Gb2xkZXIoKS50aGVuKChmb2xkZXIpID0+IHtcbiAgICAgICAgdXBkYXRlU2l0ZSh7XG4gICAgICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgICAgIHB1YmxpY2F0aW9uUGF0aDogZm9sZGVyLFxuICAgICAgICB9KVxuICAgICAgICByZXNvbHZlKG9uU2VsZWN0UHJvdmlkZXIocHJvdmlkZXIpKVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIG9uU2VsZWN0UHJvdmlkZXIocHJvdmlkZXI6IFByb3ZpZGVyKTogUHJvbWlzZTxQdWJsaWNhdGlvbk9wdGlvbnM+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPFB1YmxpY2F0aW9uT3B0aW9ucz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChwcm92aWRlci5pc0xvZ2dlZEluKSB7XG4gICAgICByZXNvbHZlKHNlbGVjdFZob3N0KHByb3ZpZGVyKSlcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgc2VydmljZS5hdXRob3JpemUocHJvdmlkZXIsIChsb2dpblVybCkgPT4ge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgICBOb3RpZmljYXRpb24uY29uZmlybSgnUHVibGljYXRpb24nLCBgXG4gICAgICAgICAgUGxlYXNlJm5ic3A7PGEgaHJlZj1cIiR7bG9naW5Vcmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+Y2xpY2sgaGVyZSBhbmQgbG9naW4gdG8gJHtwcm92aWRlci5kaXNwbGF5TmFtZX0uPC9hPiwgdGhlbiBjbGljayBcIm5leHRcIi5cbiAgICAgICAgYCwgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoc2VsZWN0Vmhvc3QocHJvdmlkZXIpKVxuICAgICAgICB9LFxuICAgICAgICAnbmV4dCcsICdjYW5jZWwnKVxuICAgICAgfSwgKG1zZykgPT4gcmVqZWN0KG1zZykpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBzZWxlY3RWaG9zdChwcm92aWRlcjogUHJvdmlkZXIpOiBQcm9taXNlPFB1YmxpY2F0aW9uT3B0aW9ucz4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8UHVibGljYXRpb25PcHRpb25zPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHByb3ZpZGVyLnZob3N0c1VybCkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgc2VydmljZS52aG9zdHMocHJvdmlkZXIsICh2aG9zdHM6IFZIb3N0W10pID0+IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgaWYgKHZob3N0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24uYWxlcnQoJ1B1YmxpY2F0aW9uJywgYFBsZWFzZSBjbGljayBoZXJlIHRvXG4gICAgICAgICAgICA8YSBocmVmPVwiJHtwcm92aWRlci5kYXNoYm9hcmRVcmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICAgICR7cHJvdmlkZXIucGxlYXNlQ3JlYXRlQVZob3N0fVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIGAsICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoc2VsZWN0Vmhvc3QocHJvdmlkZXIpKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ0NoZWNrIGFnYWluJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvdmlkZXIuc2tpcFZob3N0U2VsZWN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHNlbGVjdERvbWFpbihwcm92aWRlciwgdmhvc3RzWzBdKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnByb21wdCgnUHVibGljYXRpb24nLCAndW51c2VkJywgJ3VudXNlZCcsICd1bnVzZWQnLCAob2spID0+IHtcbiAgICAgICAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gc2VsZWN0RWwuc2VsZWN0ZWRJbmRleFxuICAgICAgICAgICAgICAgIGNvbnN0IHZob3N0ID0gdmhvc3RzW2lkeF1cbiAgICAgICAgICAgICAgICByZXNvbHZlKHNlbGVjdERvbWFpbihwcm92aWRlciwgdmhvc3QpKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAnbmV4dCcsICdjYW5jZWwnKVxuICAgICAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICBib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGBcbiAgICAgICAgICAgICAgPHA+Q2hvb3NlIHRoZSB3ZWJzaXRlIHlvdSBhcmUgd29ya2luZyBvbjwvcD5cbiAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cInZob3N0c1wiPlxuICAgICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgdmhvc3RzLm1hcChcbiAgICAgICAgICAgICAgICAgICAgKHYpID0+IGA8b3B0aW9uIHZhbHVlPVwiJHt2Lm5hbWV9XCI+JHt2Lm5hbWV9PC9vcHRpb24+YCl9XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgIGApXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uc2V0Q29udGVudChib2R5KVxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0RWwgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoJy52aG9zdHMnKSBhcyBIVE1MU2VsZWN0RWxlbWVudFxuICAgICAgICAgICAgY29uc3QgcHVibGljYXRpb25QYXRoID0gZ2V0U2l0ZSgpLnB1YmxpY2F0aW9uUGF0aFxuICAgICAgICAgICAgaWYgKHB1YmxpY2F0aW9uUGF0aCkge1xuICAgICAgICAgICAgICBzZWxlY3RFbC52YWx1ZSA9IHB1YmxpY2F0aW9uUGF0aC5mb2xkZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIChtc2cpID0+IHJlamVjdChtc2cpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHtcbiAgICAgICAgZmlsZTogZ2V0U2l0ZSgpLmZpbGUsXG4gICAgICAgIHB1YmxpY2F0aW9uUGF0aDogZ2V0U2l0ZSgpLnB1YmxpY2F0aW9uUGF0aCxcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICB9KVxuXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBzZWxlY3REb21haW4ocHJvdmlkZXI6IFByb3ZpZGVyLCB2aG9zdDogVkhvc3QpOiBQcm9taXNlPFB1YmxpY2F0aW9uT3B0aW9ucz4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8UHVibGljYXRpb25PcHRpb25zPigocmVzb2x2ZTogKFB1YmxpY2F0aW9uT3B0aW9ucykgPT4gdm9pZCwgcmVqZWN0KSA9PiB7XG4gICAgdXBkYXRlU2l0ZSh7XG4gICAgICAuLi5nZXRTaXRlKCksXG4gICAgICB3ZWJzaXRlVXJsOiB2aG9zdC51cmwsXG4gICAgfSlcbiAgICBpZiAodmhvc3Quc2tpcERvbWFpblNlbGVjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmVzb2x2ZSh7XG4gICAgICAgIGZpbGU6IGdldFNpdGUoKS5maWxlLFxuICAgICAgICBwdWJsaWNhdGlvblBhdGg6IHZob3N0LnB1YmxpY2F0aW9uUGF0aCxcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICBzZXJ2aWNlLmRvbWFpbih2aG9zdCwgKHJlcykgPT4ge1xuICAgICAgICBjb25zdCBkb21haW4gPSByZXMuZG9tYWluXG4gICAgICAgIGlmIChyZXMudXJsKSB7XG4gICAgICAgICAgdXBkYXRlU2l0ZSh7XG4gICAgICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgICAgICB3ZWJzaXRlVXJsOiByZXMudXJsLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgY29uc3QgaW5pdGlhbERvbWFpbiA9IGRvbWFpbiB8fCAnJ1xuXG4gICAgICAgIE5vdGlmaWNhdGlvbi5wcm9tcHQoJ1B1YmxpY2F0aW9uJywgYFxuICAgICAgICAgIDxoMz5PcHRpb25hbDogcHJvdmlkZSB5b3VyIGRvbWFpbiBuYW1lPGgzPlxuICAgICAgICAgIDxwPkNob29zZSB0aGUgZG9tYWluIHlvdSB3YW50IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHdlYnNpdGUuIExlYXZlIGJsYW5rIGFuZCB5b3Ugd2lsbCBiZSBwcm92aWRlZCB3aXRoIGEgZ2VuZXJpYyBkb21haW4uPC9wPlxuICAgICAgICBgICsgKHByb3ZpZGVyLmJ1eURvbWFpblVybCA/IGBcbiAgICAgICAgICA8cD5Zb3UgY2FuIGFsc28gPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7cHJvdmlkZXIuYnV5RG9tYWluVXJsfVwiPmJ1eSBhIGRvbWFpbiBuYW1lIGhlcmUuPC9hPjwvcD5cbiAgICAgICAgYCA6ICcnKSxcbiAgICAgICAgaW5pdGlhbERvbWFpbiwgJ1tPcHRpb25hbF0geW91ci1kb21haW4uY29tJywgKG9rLCBuZXdEb21haW4pID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVPclJlbW92ZVN1Y2Nlc3MgPSAocmVzVXJsKSA9PiB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgd2Vic2l0ZSB1cmxcbiAgICAgICAgICAgIGlmIChyZXNVcmwudXJsKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgICAgICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgICAgICAgICB3ZWJzaXRlVXJsOiByZXNVcmwudXJsLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5ub3RpZnlTdWNjZXNzKCdEb21haW4gdXBkYXRlZCcpXG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgZmlsZTogZ2V0U2l0ZSgpLmZpbGUsXG4gICAgICAgICAgICAgIHB1YmxpY2F0aW9uUGF0aDogdmhvc3QucHVibGljYXRpb25QYXRoLFxuICAgICAgICAgICAgICBwcm92aWRlcixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvaykge1xuICAgICAgICAgICAgaWYgKG5ld0RvbWFpbiAhPT0gaW5pdGlhbERvbWFpbikge1xuICAgICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICAgICAgICAgIGlmIChuZXdEb21haW4gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS51cGRhdGVEb21haW4oXG4gICAgICAgICAgICAgICAgICAgIHZob3N0LCAobmV3RG9tYWluIGFzIHN0cmluZyksXG4gICAgICAgICAgICAgICAgICAgIChfcmVzKSA9PiB1cGRhdGVPclJlbW92ZVN1Y2Nlc3MoX3JlcyksXG4gICAgICAgICAgICAgICAgICAgIChtc2cpID0+IHJlamVjdChtc2cpKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlcnZpY2UucmVtb3ZlRG9tYWluKFxuICAgICAgICAgICAgICAgICAgICB2aG9zdCwgbmV3RG9tYWluLCAoX3JlcykgPT4gdXBkYXRlT3JSZW1vdmVTdWNjZXNzKF9yZXMpLFxuICAgICAgICAgICAgICAgICAgICAobXNnKSA9PiByZWplY3QobXNnKSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgZmlsZTogZ2V0U2l0ZSgpLmZpbGUsXG4gICAgICAgICAgICAgICAgcHVibGljYXRpb25QYXRoOiB2aG9zdC5wdWJsaWNhdGlvblBhdGgsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbClcbiAgICAgICAgICB9XG4gICAgICAgIH0sICduZXh0JywgJ2NhbmNlbCcpXG4gICAgICB9LCAobXNnKSA9PiByZWplY3QobXNnKSlcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFB1Ymxpc2gob3B0aW9uczogUHVibGljYXRpb25PcHRpb25zKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHB1YmxpY2F0aW9uUGF0aCA9IG9wdGlvbnMucHVibGljYXRpb25QYXRoXG4gICAgY29uc3QgcHJvdmlkZXIgPSBvcHRpb25zLnByb3ZpZGVyXG4gICAgbGV0IHRpbWVyID0gLTFcbiAgICBOb3RpZmljYXRpb24uYWxlcnQoJ1B1YmxpY2F0aW9uJywgJzxzdHJvbmc+SSBhbSBhYm91dCB0byBwdWJsaXNoIHlvdXIgc2l0ZS4gVGhpcyBtYXkgdGFrZSBzZXZlcmFsIG1pbnV0ZXMuPC9zdHJvbmc+JyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgaWYgKHRpbWVyID4gMCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAnQ2xvc2UnKVxuICAgIHRpbWVyID0gLTFcbiAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgc2VydmljZS5wdWJsaXNoKG9wdGlvbnMsICgpID0+IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vICAgLy8gdGlwIG9mIHRoZSBkYXlcbiAgICAgIC8vICAgY29uc3QgdGlwT2ZUaGVEYXlFbGVtZW50ID0gKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIC8vICAgbmV3IFRpcE9mVGhlRGF5KHRpcE9mVGhlRGF5RWxlbWVudCk7XG4gICAgICAvLyAgIE5vdGlmaWNhdGlvbi5zZXRJbmZvUGFuZWwodGlwT2ZUaGVEYXlFbGVtZW50KTtcbiAgICAgIC8vIH0sIDIwMDApO1xuICAgICAgdGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlLnB1Ymxpc2hTdGF0ZShcbiAgICAgICAgICAoanNvbikgPT4ge1xuICAgICAgICAgICAgbGV0IG1zZyA9IGA8c3Ryb25nPiR7anNvbi5tZXNzYWdlfTwvc3Ryb25nPmBcbiAgICAgICAgICAgIGlmIChqc29uLnN0b3AgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcilcbiAgICAgICAgICAgICAgY29uc3Qgd2Vic2l0ZVVybCA9IGdldFNpdGUoKS53ZWJzaXRlVXJsIHx8IHB1YmxpY2F0aW9uUGF0aC5hYnNQYXRoICsgJy9pbmRleC5odG1sJ1xuICAgICAgICAgICAgICBtc2cgKz0gYFxuICAgICAgICAgICAgICAgIDxwPkhlcmUgaXMgYSBsaW5rIHRvIDxhIHRhcmdldD1cIl9ibGFuY2tcIiBocmVmPVwiJHt3ZWJzaXRlVXJsfVwiPnlvdXIgcHVibGlzaGVkIHdlYnNpdGUgaGVyZTwvYT4uXG4gICAgICAgICAgICAgICAgJHtwcm92aWRlciAmJiBwcm92aWRlci5hZnRlclB1Ymxpc2hNZXNzYWdlID8gcHJvdmlkZXIuYWZ0ZXJQdWJsaXNoTWVzc2FnZSA6ICcnfTwvcD5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICByZXNvbHZlKG1zZylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5zZXRUZXh0KG1zZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIChtc2cpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpXG4gICAgICAgICAgICByZWplY3QobXNnKVxuICAgICAgICAgIH0sXG4gICAgICAgIClcbiAgICAgIH0sIDEwMDApXG4gICAgfSwgKG1zZykgPT4gcmVqZWN0KG1zZykpXG4gIH0pXG59XG4iLCJcbi8qKlxuICogQGZpbGVvdmVydmlld1xuICogU2lsZXggSlMgZWRpdG9yXG4gKlxuICovXG5pbXBvcnQgeyBDb2RlRWRpdG9yQmFzZSB9IGZyb20gJy4vQ29kZUVkaXRvckJhc2UnXG5pbXBvcnQgeyBzdWJzY3JpYmVTaXRlLCB1cGRhdGVTaXRlLCBnZXRTaXRlIH0gZnJvbSAnLi4vLi4vc2l0ZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IFNpdGVTdGF0ZSB9IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBnZXRVaUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvVWlFbGVtZW50cydcblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxubGV0IGluc3RhbmNlOiBKc0VkaXRvclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRKc0VkaXRvcigpIHtcbiAgaW5zdGFuY2UgPSBpbnN0YW5jZSB8fCBuZXcgSnNFZGl0b3IoZ2V0VWlFbGVtZW50cygpLmpzRWRpdG9yKVxuICByZXR1cm4gaW5zdGFuY2Vcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVuSnNFZGl0b3IoKSB7XG4gIHJldHVybiBpbnN0YW5jZS5vcGVuKClcbn1cblxuLyoqXG4gKiBUT0RPOiBtYWtlIHRoaXMgb25seSBtZXRob2RzIGFuZCB3cml0ZSB0ZXN0c1xuICovXG5jbGFzcyBKc0VkaXRvciBleHRlbmRzIENvZGVFZGl0b3JCYXNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBlbGVtZW50ICAgY29udGFpbmVyIHRvIHJlbmRlciB0aGUgVUlcbiAgICogQHBhcmFtIG1vZGVsICBtb2RlbCBjbGFzcyB3aGljaCBob2xkc1xuICAgKiB0aGUgbW9kZWwgaW5zdGFuY2VzIC0gdmlld3MgdXNlIGl0IGZvclxuICAgKiByZWFkIG9wZXJhdGlvbiBvbmx5XG4gICAqIEBwYXJhbSBjb250cm9sbGVyICBzdHJ1Y3R1cmUgd2hpY2ggaG9sZHNcbiAgICogdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2VzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQsICdqYXZhc2NyaXB0JylcbiAgICBzdWJzY3JpYmVTaXRlKChfOiBTaXRlU3RhdGUsIHNpdGU6IFNpdGVTdGF0ZSkgPT4ge1xuICAgICAgaWYgKHNpdGUuaGVhZFNjcmlwdCAhPT0gdGhpcy5nZXRWYWx1ZSgpKSB7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUoc2l0ZS5oZWFkU2NyaXB0KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogdGhlIGNvbnRlbnQgaGFzIGNoYW5nZWQsIG5vdGlmeSB0aGUgY29udHJvbGVyXG4gICAqL1xuICBjb250ZW50Q2hhbmdlZCgpIHtcbiAgICB1cGRhdGVTaXRlKHtcbiAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgIGhlYWRTY3JpcHQ6IHRoaXMuZ2V0VmFsdWUoKSxcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBFbGVtZW50U3RhdGUgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgUGFnZVN0YXRlIH0gZnJvbSAnLi4vcGFnZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IFNpdGVTdGF0ZSB9IGZyb20gJy4uL3NpdGUtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBpbml0aWFsaXplRWxlbWVudHMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgaW5pdGlhbGl6ZVBhZ2VzIH0gZnJvbSAnLi4vcGFnZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGluaXRpYWxpemVTaXRlIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi9pbmRleCdcblxuLyoqXG4gKiB1cGRhdGUgU2l0ZSBzdGF0ZSBpbiBzdG9yZSBhbG9uZyB3aXRoIGVsZW1lbnRzIGFuZCBwYWdlc1xuICogVGhpcyBjb3VsZCBiZSBpbiBzdG9yZS50cyBidXQgaXQgaW1wb3J0cyBhbGwgb3RoZXIgc3RvcmVzIHdoaWNoIG1lc3MgdXAgdGhlIFVUIChzaXRlL29ic2VydmVyLnRlc3QudHMpXG4gKiBUT0RPOiAxLSByZW1vdmUgYWxsIHJlZmVyZW5jZXMgdG8gdGhlIHN0b3JlIG9yIGRpc3BhdGNoID0+IGV2ZXJ5IGZ1bmN0aW9uIHNob3VsZCB0YWtlIEVsZW1lbnRTdGF0ZVtdIGFuZCByZXR1cm4gdGhlIGNoYW5nZXMgdG8gYmUgbWFkZSBhcyBhbiBFbGVtZW50U3RhdGVbXVxuICogVE9ETzogMi0gbW92ZSB0aGlzIGZpbGUgdG8gYSBjcm9zcyBwbGF0Zm9ybSBwYWNrYWdlIChlLmcuIGluIHNyYy90cy9oZWxwZXJzLylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVEYXRhKHsgc2l0ZSwgcGFnZXMsIGVsZW1lbnRzIH06IHtzaXRlOiBTaXRlU3RhdGUsIHBhZ2VzOiBQYWdlU3RhdGVbXSwgZWxlbWVudHM6IEVsZW1lbnRTdGF0ZVtdfSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuXG4gIGluaXRpYWxpemVTaXRlKHNpdGUsIGRpc3BhdGNoKVxuXG4gIGluaXRpYWxpemVQYWdlcyhwYWdlcywgZGlzcGF0Y2gpXG5cbiAgaW5pdGlhbGl6ZUVsZW1lbnRzKGVsZW1lbnRzLCBkaXNwYXRjaClcbn1cbiIsIi8vIG5hbWUgb2YgdGhlIGxvY2FsIHN0b3JhZ2UgcHJvcGVydHlcbmNvbnN0IE5VTV9WSVNJVFNfTE9DQUxfU1RPUkFHRV9OQU1FID0gJ3NpbGV4LWNhcGluZydcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2aXNpdHNTdHIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oTlVNX1ZJU0lUU19MT0NBTF9TVE9SQUdFX05BTUUpXG4gICAgY29uc3QgX3Zpc2l0cyA9IHZpc2l0c1N0ciA/IHBhcnNlSW50KHZpc2l0c1N0ciwgMTApICsgMSA6IDFcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oTlVNX1ZJU0lUU19MT0NBTF9TVE9SQUdFX05BTUUsIChfdmlzaXRzKS50b1N0cmluZygpKVxuICAgIHJldHVybiBfdmlzaXRzXG4gIH0gY2F0Y2goZSkge1xuICAgIHJldHVybiAtMVxuICB9XG59XG5cbi8vIGtlZXAgdHJhY2sgb2YgdGhlIHZpc2l0c1xuLy8gZG8gdGhpcyBvbmNlIG9ubHlcbmNvbnN0IHZpc2l0cyA9IGluaXQoKVxuXG4vLyByZXR1cm5zIHRoZSBhY3R1YWwgdmlzaXQgY291bnRcbmV4cG9ydCBmdW5jdGlvbiBjb3VudCgpIHtcbiAgICByZXR1cm4gdmlzaXRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbmNlKG1pblZpc2l0cywgbWluVGltZVMsIG5hbWUsIGFjdGlvbikge1xuICB0cnkge1xuICAgIGNvbnN0IGRvbmUgPSAhIXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKVxuICAgIGlmKCFkb25lICYmIHZpc2l0cyA+IG1pblZpc2l0cykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmKCF3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obmFtZSkpIHsgLy8gY2hlY2sgYWdhaW4ganVzdCBpbiBjYXNlIGl0IGdvdCBydW4gaW4gdGhlIG1lYW4gdGltZVxuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCAnZG9uZScpXG4gICAgICAgICAgY29uc29sZS5sb2coJ2RvbmUnKVxuICAgICAgICAgIGFjdGlvbigpXG4gICAgICAgIH1cbiAgICAgIH0sIG1pblRpbWVTICogMTAwMClcbiAgICB9XG4gIH0gY2F0Y2goZSkge1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb3VudCB9IGZyb20gJy4uL3Zpc2l0cydcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBUaXBPZlRoZURheSB0byBkaXNwbGF5IGEgbWVzc2FnZSBhdCBzdGFydHVwXG4gKiBMb2FkIHRoZSBkYXRhIGZyb20gdGhlIFwidGlwLW9mLXRoZS1kYXlcIiBpc3N1ZXMgb24gZ2l0aHViXG4gKlxuICovXG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnQgICBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBVSVxuICovXG5leHBvcnQgY2xhc3MgVGlwT2ZUaGVEYXkge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLmluaXQoKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBwcm9jZXNzIG9mIHNob3dpbmcgdGhlIHRpcCBvZiB0aGUgZGF5XG4gICAqL1xuICBpbml0KCkge1xuICAgIC8vIHN0YXJ0IGxvYWRpbmdcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGlwLW9mLXRoZS1kYXknKVxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJylcblxuICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIHZpc2l0c1xuICAgIGNvbnN0IHZpc2l0cyA9IGNvdW50KClcblxuICAgIC8vIGxvYWQgZGF0YVxuICAgIGNvbnN0IG9SZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgIG9SZXEub3BlbihcbiAgICAgICAgJ0dFVCcsXG4gICAgICAgICdodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL3NpbGV4bGFicy9TaWxleC9pc3N1ZXM/bGFiZWxzPXRpcC1vZi10aGUtZGF5JylcbiAgICBvUmVxLnNlbmQoKVxuICAgIG9SZXEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZSkgPT4ge1xuICAgICAgKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykgfHwgdGhpcy5lbGVtZW50KS5pbm5lckhUTUwgPVxuICAgICAgICAgICdJdCBsb29rcyBsaWtlIHlvdSBhcmUgb2ZmbGluZS4gSSBjb3VsZCBub3QgbG9hZCBkYXRhIGZyb20gZ2l0aHViIGlzc3VlcydcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJylcbiAgICB9KVxuICAgIG9SZXEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChlKSA9PiB7XG4gICAgICAvLyBnZXQgdGhlIGpzb24gcmVzcG9uc2VcbiAgICAgIGNvbnN0IGl0ZW1zID0gSlNPTi5wYXJzZShvUmVxLnJlc3BvbnNlVGV4dClcblxuICAgICAgLy8gbG9vcCBvbiB0aGUgaXRlbXMgYmFja3dhcmRcbiAgICAgIGNvbnN0IGlkeCA9IGl0ZW1zLmxlbmd0aCAtIHZpc2l0cyAlIGl0ZW1zLmxlbmd0aCAtIDFcbiAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpZHhdXG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICAvLyBleHRyYWN0IHRoZSBmaXJzdCBsaW5rIGZyb20gdGhlIGlzc3VlXG4gICAgICAgIGNvbnN0IHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHRtcC5pbm5lckhUTUwgPSBpdGVtLmJvZHlcbiAgICAgICAgY29uc3QgZmlyc3RMaW5rID0gdG1wLnF1ZXJ5U2VsZWN0b3IoJ2EnKVxuXG4gICAgICAgIC8vIGxldCBmaXJzdEltYWdlID0gdG1wLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgICAvLyBkaXNwbGF5IHRoZSBjb250ZW50XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICAgIGVsLnRhcmdldCA9ICdfYmxhbmsnXG4gICAgICAgIGVsLnRpdGxlID0gaXRlbS50aXRsZVxuICAgICAgICBlbC5pbm5lckhUTUwgPSAnPGgzPicgKyBpdGVtLnRpdGxlICsgJzwvaDM+PHA+JyArXG4gICAgICAgICAgICB0aGlzLnN0cmlwKGl0ZW0uYm9keSkgKyAnPC9wPidcbiAgICAgICAgaWYgKGZpcnN0TGluayAhPSBudWxsICkge1xuICAgICAgICAgIGVsLmhyZWYgPSBmaXJzdExpbmsuaHJlZlxuICAgICAgICB9XG4gICAgICAgICh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpIHx8IHRoaXMuZWxlbWVudCkuYXBwZW5kQ2hpbGQoZWwpXG4gICAgICB9XG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmUgdGhlIGh0bWwgZnJvbSBhIHN0cmluZ1xuICAgKi9cbiAgc3RyaXAoaHRtbCkge1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKVxuICAgIG5vZGUuaW5uZXJIVE1MID0gaHRtbFxuICAgIHJldHVybiBub2RlLnRleHRDb250ZW50IHx8IG5vZGUuaW5uZXJUZXh0IHx8ICcnXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBTaWxleCBEYXNoYm9hcmQgLyBcIm5ldyB3ZWJzaXRlXCIgZGlhbG9nIHdoaWNoIGRpc3BsYXlzIHRlbXBsYXRlc1xuICpcbiAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vLi4vQ2xpZW50Q29uZmlnJ1xuaW1wb3J0IHsgTW9kYWxEaWFsb2cgfSBmcm9tICcuLi9Nb2RhbERpYWxvZydcbmltcG9ydCB7IFRpcE9mVGhlRGF5IH0gZnJvbSAnLi4vVGlwT2ZUaGVEYXknXG5pbXBvcnQgeyBnZXRVaUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvVWlFbGVtZW50cydcbmltcG9ydCB7IGNsZWFyTGF0ZXN0RmlsZXMsIGdldExhdGVzdEZpbGVzIH0gZnJvbSAnLi4vLi4vaW8vbGF0ZXN0LWZpbGVzJ1xuaW1wb3J0IHsgb3BlbkZpbGUgfSBmcm9tICcuLi8uLi9maWxlJ1xuaW1wb3J0IHsgRmlsZUluZm8gfSBmcm9tICcuLi8uLi9pby9DbG91ZFN0b3JhZ2UnXG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFzaGJvYXJkT3B0aW9ucyB7XG4gIG9wZW5GaWxlSW5mbzogKHAxOiBGaWxlSW5mbykgPT4gYW55XG4gIG9wZW5UZW1wbGF0ZTogKHAxOiBzdHJpbmcpID0+IGFueVxuICByZWFkeTogKCgpID0+IGFueSlcbiAgZXJyb3I6ICgocDE/OiBhbnkpID0+IGFueSlcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxubGV0IGRhc2hib2FyZDogRGFzaGJvYXJkXG5mdW5jdGlvbiBpbml0RGFzaGJvYXJkKCkge1xuICBkYXNoYm9hcmQgPSBkYXNoYm9hcmQgfHwgbmV3IERhc2hib2FyZChnZXRVaUVsZW1lbnRzKCkuZGFzaGJvYXJkKVxuICByZXR1cm4gZGFzaGJvYXJkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuRGFzaGJvYXJkKG9wdGlvbnM6IERhc2hib2FyZE9wdGlvbnMpIHtcbiAgaW5pdERhc2hib2FyZCgpXG4gIHJldHVybiBkYXNoYm9hcmQub3BlbkRpYWxvZyhvcHRpb25zKVxufVxuXG4vKipcbiAqIFNpbGV4IERhc2hib2FyZCBkaWFsb2dcbiAqIFRPRE86IG1ha2UgdGhpcyBvbmx5IG1ldGhvZHMgYW5kIHdyaXRlIHRlc3RzXG4gKi9cbmNsYXNzIERhc2hib2FyZCB7XG4gIC8vIGRlZmluZSBwcm9wZXJ0aWVzXG4gIHJlYWR5Q2JrOiAoKCkgPT4gYW55KSA9IG51bGxcbiAgZXJyb3JDYms6ICgocDE/OiBhbnkpID0+IGFueSkgPSBudWxsXG4gIHNlbGVjdGVkOiB7dXJsOiBzdHJpbmcsIGZpbGVJbmZvOiBGaWxlSW5mb30gPSBudWxsXG5cbiAgLy8gbWFrZSB0aGlzIGEgZGlhbG9nXG4gIG1vZGFsRGlhbG9nOiBNb2RhbERpYWxvZ1xuXG4gIC8qKlxuICAgKiBmbGFnIHNldCB0byAnc3VjY2Vzcycgd2hlbiB0aGUgdGVtcGxhdGUgbGlzdCBpcyBsb2FkZWRcbiAgICogYW5kIHNldCB0byAnZXJyb3InIHdoZW4gdGhlIGxvYWRpbmcgZmFpbGVkXG4gICAqL1xuICBzdGF0ZTogc3RyaW5nID0gJydcblxuICAvKipcbiAgICogQHBhcmFtIGVsZW1lbnQgICBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBVSVxuICAgKiBAcGFyYW0gbW9kZWwgIG1vZGVsIGNsYXNzIHdoaWNoIGhvbGRzXG4gICAqIHRoZSBtb2RlbCBpbnN0YW5jZXMgLSB2aWV3cyB1c2UgaXQgZm9yXG4gICAqIHJlYWQgb3BlcmF0aW9uIG9ubHlcbiAgICogQHBhcmFtIGNvbnRyb2xsZXIgIHN0cnVjdHVyZSB3aGljaCBob2xkc1xuICAgKiB0aGUgY29udHJvbGxlciBpbnN0YW5jZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIC8vIGtlZXAgdGhpcyBiaXQgZXZlbiB3aGVuIENvbmZpZy5zaW5nbGVTaXRlTW9kZSBpcyB0cnVlLCB0aGlzIHdpbGwgaGlkZSB0aGUgRGFzaGJvYXJkXG4gICAgdGhpcy5tb2RhbERpYWxvZyA9IG5ldyBNb2RhbERpYWxvZyh7XG4gICAgICBuYW1lOiAnRGFzaGJvYXJkJyxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBvbk9wZW46IChhcmdzKSA9PiB0aGlzLnJlZHJhdygpLFxuICAgICAgb25DbG9zZTogKCkgPT4ge30sXG4gICAgfSlcblxuICAgIGlmIChjb25maWcuc2luZ2xlU2l0ZU1vZGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGNyZWF0ZUxpc3QgPSAodWwsIGNsYXNzTmFtZSwgcmVwbywgc3VjY2VzcywgZXJyb3IpID0+IHtcbiAgICAgIGNvbnN0IHJlcG9VcmwgPSBgL2dldC8ke3JlcG99YFxuICAgICAgY29uc3Qgb1JlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgICBvUmVxLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGUpID0+IHtcbiAgICAgICAgdWwuaW5uZXJIVE1MID0gJ0l0IGxvb2tzIGxpa2UgeW91IGFyZSBvZmZsaW5lLiBJIGNvdWxkIG5vdCBsb2FkIGRhdGEgZnJvbSBnaXRodWIgaXNzdWVzJ1xuICAgICAgICBzdWNjZXNzKClcbiAgICAgIH0pXG4gICAgICBvUmVxLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCBsaXN0ID0gSlNPTi5wYXJzZShvUmVxLnJlc3BvbnNlVGV4dClcbiAgICAgICAgdGhpcy5yZW5kZXJUZW1wbGF0ZUxpc3QodWwsIGNsYXNzTmFtZSwgcmVwbywgbGlzdClcbiAgICAgICAgc3VjY2VzcygpXG4gICAgICB9KVxuICAgICAgb1JlcS5vcGVuKCdHRVQnLCByZXBvVXJsKVxuICAgICAgb1JlcS5zZW5kKClcbiAgICB9XG5cbiAgICAvLyBjbGljayBldmVudFxuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJvZHknKSBhcyBIVE1MRWxlbWVudFxuICAgIGJvZHkub25jbGljayA9IChlKSA9PiB7XG4gICAgICAvLyBsaXN0ZW4gZm9yIGEgY2xpY2sgaW4gdGhlIGxpc3Qgb2YgcmVjZW50IGZpbGVzXG4gICAgICBjb25zdCBhID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuXG4gICAgICAvLyBnZXQgdGhlIGF0dHJpYnV0ZSBvZiB0aGUgbGluayAoPGE+IHRhZylcbiAgICAgIC8vIGl0IG1pZ2h0IGJlIGluIChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCBzaW5jZSB0aGVyZSBhcmUgPHN0cm9uZz4gdGFncyBpbiB0aGVcbiAgICAgIC8vIDxhPlxuICAgICAgY29uc3QgdGVtcGxhdGVVcmwgPSBhLmdldEF0dHJpYnV0ZSgnZGF0YS1lZGl0YWJsZScpIHx8XG4gICAgICAgICAgYS5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1lZGl0YWJsZScpXG4gICAgICBjb25zdCByZWNlbnRGaWxlSW5mbyA9IGEuZ2V0QXR0cmlidXRlKCdkYXRhLWZpbGUtaW5mbycpIHx8XG4gICAgICAgICAgYS5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1maWxlLWluZm8nKVxuICAgICAgaWYgKCEhdGVtcGxhdGVVcmwgfHwgISFyZWNlbnRGaWxlSW5mbykge1xuICAgICAgICB0aGlzLnNlbGVjdGVkID0ge1xuICAgICAgICAgIGZpbGVJbmZvOiAoSlNPTi5wYXJzZShyZWNlbnRGaWxlSW5mbykgYXMgRmlsZUluZm8pLFxuICAgICAgICAgIHVybDogdGVtcGxhdGVVcmwsXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbG9zZSB0aGUgZGlhbG9nLCB3aGljaCB3aWxsIHRyaWdnZXIgYSBjYWxsIHRoZSBkaWFsb2cgb25DbG9zZVxuICAgICAgICAvLyBjYWxsYmFjayBhbmQgdGhlbiB0aGlzLnNlbGVjdGVkIHdpbGwgYmUgdXNlZCB0byBvcGVuIHRoZSBzZWxlY3RlZFxuICAgICAgICAvLyBmaWxlXG4gICAgICAgIHRoaXMubW9kYWxEaWFsb2cuY2xvc2UoKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGxvYWROZXh0ID0gKHRvTG9hZCkgPT4ge1xuICAgICAgaWYgKHRvTG9hZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0b0xvYWQucG9wKClcbiAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihpdGVtLnNlbGVjdG9yKVxuICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICBjcmVhdGVMaXN0KFxuICAgICAgICAgICAgbGlzdEVsZW1lbnQsIGl0ZW0uY2xhc3NOYW1lLFxuICAgICAgICAgICAgaXRlbS5yZXBvLCAoKSA9PiBsb2FkTmV4dCh0b0xvYWQpLCAoZSkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gJ2Vycm9yJ1xuICAgICAgICAgICAgICBpZiAodGhpcy5lcnJvckNiaykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JDYmsoZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnJlYWR5Q2JrID0gbnVsbFxuICAgICAgICAgICAgICB0aGlzLmVycm9yQ2JrID0gbnVsbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2FkTmV4dCh0b0xvYWQpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAncmVhZHknXG4gICAgICAgIGlmICh0aGlzLnJlYWR5Q2JrKSB7XG4gICAgICAgICAgdGhpcy5yZWFkeUNiaygpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWFkeUNiayA9IG51bGxcbiAgICAgICAgdGhpcy5lcnJvckNiayA9IG51bGxcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgX3RvTG9hZCA9IFtcbiAgICAgIHtcbiAgICAgICAgc2VsZWN0b3I6ICcuZ2VuZXJhbC1wYW5lIHVsJyxcbiAgICAgICAgcmVwbzogJ3NpbGV4LXRlbXBsYXRlcycsXG4gICAgICAgIGNsYXNzTmFtZTogJ3NpbGV4LXRlbXBsYXRlcycsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBzZWxlY3RvcjogJy5nZW5lcmFsLXBhbmUgdWwnLFxuICAgICAgICByZXBvOiAnc2lsZXgtYmxhbmstdGVtcGxhdGVzJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnc2lsZXgtYmxhbmstdGVtcGxhdGVzJyxcbiAgICAgIH0sXG4gICAgXVxuICAgIGxvYWROZXh0KF90b0xvYWQpXG5cbiAgICAvLyBjbGVhciBidXR0b25cbiAgICBjb25zdCBjbGVhckJ0biA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2xlYXItYnRuJykgYXMgSFRNTEVsZW1lbnRcbiAgICBjbGVhckJ0bi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIGNsZWFyTGF0ZXN0RmlsZXMoKVxuICAgICAgdGhpcy5yZWRyYXcoKVxuICAgIH1cblxuICAgIC8vIGJyb3dzZSAvIGltcG9ydCBidXR0b25cbiAgICBjb25zdCBtb3JlQnRuID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb3JlLWJ0bicpIGFzIEhUTUxFbGVtZW50XG4gICAgbW9yZUJ0bi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIHRoaXMubW9kYWxEaWFsb2cuY2xvc2UoKVxuXG4gICAgICAvLyBub3RlIHRoYXQgaWYgdGhlcmUgaXMgYW4gZXJyb3IgaW4gQ0UsIHdlIGtlZXAgaXQgb3BlbiBzbyB0aGF0IHRoZSB1c2VyXG4gICAgICAvLyBjYW4gZG8gc29tZXRoaW5nLCBlLmcuIG5hdmlnYXRlIGF3d2F5IGZyb20gYSBub24gZXhpc3RpbmcgZm9sZGVyXG4gICAgICBvcGVuRmlsZShudWxsLCBudWxsLCAoKSA9PiB0aGlzLm1vZGFsRGlhbG9nLm9wZW4oKSlcbiAgICB9XG5cbiAgICAvLyB0aXAgb2YgdGhlIGRheVxuICAgIGNvbnN0IHRpcE9mVGhlRGF5RWxlbWVudCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudGlwLW9mLXRoZS1kYXknKSBhcyBIVE1MRWxlbWVudFxuICAgIGlmICh0aXBPZlRoZURheUVsZW1lbnQpIHtcbiAgICAgIG5ldyBUaXBPZlRoZURheSh0aXBPZlRoZURheUVsZW1lbnQpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIG9wZW4gdGhlIGRpYWxvZ1xuICAgKiBAcGFyYW0gb3B0aW9ucyAgIG9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBvcGVuRGlhbG9nKG9wdGlvbnM6IERhc2hib2FyZE9wdGlvbnMpIHtcbiAgICBpZiAoY29uZmlnLnNpbmdsZVNpdGVNb2RlKSB7XG4gICAgICBpZiAob3B0aW9ucy5yZWFkeSkge1xuICAgICAgICBvcHRpb25zLnJlYWR5KClcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGlzIHJlYWR5IGNhbGxiYWNrXG4gICAgaWYgKHRoaXMuc3RhdGUgPT09ICdyZWFkeScpIHtcbiAgICAgIC8vIG5vdGlmeSB0aGUgb3duZXJcbiAgICAgIGlmIChvcHRpb25zLnJlYWR5KSB7XG4gICAgICAgIG9wdGlvbnMucmVhZHkoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAvLyBlcnJvciBjYWxsYmFja1xuICAgICAgICBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgIG9wdGlvbnMuZXJyb3IoKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzdG9yZSB0aGVtIGZvciBsYXRlclxuICAgICAgICB0aGlzLnJlYWR5Q2JrID0gb3B0aW9ucy5yZWFkeVxuICAgICAgICB0aGlzLmVycm9yQ2JrID0gb3B0aW9ucy5lcnJvclxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNlbGVjdGVkID0gbnVsbFxuICAgIHRoaXMubW9kYWxEaWFsb2cub25DbG9zZSA9ICgpID0+IHtcbiAgICAgIC8vIG5vdGlmeSB0aGUgb3duZXIsIHdpdGggdGhlIHVybCB0byBsb2FkIG9yIG5vdGhpbmcgKHdpbGwgbG9hZCBibGFua1xuICAgICAgLy8gdGVtcGxhdGUpXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC5maWxlSW5mbykge1xuICAgICAgICAgIG9wdGlvbnMub3BlbkZpbGVJbmZvKHRoaXMuc2VsZWN0ZWQuZmlsZUluZm8pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucy5vcGVuVGVtcGxhdGUodGhpcy5zZWxlY3RlZC51cmwpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMub3BlblRlbXBsYXRlKG51bGwpXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubW9kYWxEaWFsb2cub3BlbigpXG4gIH1cblxuICAvKipcbiAgICogcmVuZGVyIHRoZSBkYXRhIGxvYWRlZCBmcm9tIGdpdGh1YiBpbnRvIGEgPHVsPlxuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXJUZW1wbGF0ZUxpc3QodWw6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZywgcmVwbzogc3RyaW5nLCBkYXRhOiBhbnkpIHtcbiAgICAvLyAvLyBoYW5kbGUgcHJldmlvdXNseSByZW5kZXJlZCBlbGVtZW50c1xuICAgIC8vIGNvbnN0IGVsZW1lbnRzID0gdWwucXVlcnlTZWxlY3RvckFsbCgnbGkucmVuZGVyZWQtaXRlbScpO1xuICAgIC8vIGZvcihsZXQgaWR4PTA7IGlkeDxlbGVtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgLy8gICBjb25zdCBlbCA9IGVsZW1lbnRzW2lkeF07XG4gICAgLy8gICBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICAvLyB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIC8vIHJlbmRlciB0aGUgZGF0YVxuXG4gICAgICAvLyBhZGQgdGhlIDxsaT4gdGFncyB0byB0aGUgPHVsPiB0YWdcblxuICAgICAgLy8gbWFrZSBhIGxpc3Qgb2YgPGxpPiB0YWdzXG4gICAgICBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG4gICAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdyZW5kZXJlZC1pdGVtJywgY2xhc3NOYW1lKVxuXG4gICAgICAgICAgICAvLyB0aHVtYm5haWxcbiAgICAgICAgICAgIGNvbnN0IHRodW1ibmFpbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUZvbGRlciA9IGAvbGlicy90ZW1wbGF0ZXMvJHtyZXBvfS8ke2l0ZW19YFxuICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoJ3RodW1ibmFpbCcpXG4gICAgICAgICAgICB0aHVtYm5haWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID1cbiAgICAgICAgICAgICAgICBgdXJsKCR7dGVtcGxhdGVGb2xkZXJ9L3NjcmVlbnNob3QucG5nKWBcbiAgICAgICAgICAgIHRodW1ibmFpbC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgJ2RhdGEtZWRpdGFibGUnLCBgJHt0ZW1wbGF0ZUZvbGRlcn0vZWRpdGFibGUuaHRtbGApXG4gICAgICAgICAgICB0aHVtYm5haWwuc2V0QXR0cmlidXRlKCdkYXRhLWlzLXRlbXBsYXRlJywgJ3RydWUnKVxuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQodGh1bWJuYWlsKVxuXG4gICAgICAgICAgICAvLyBVSSBjb250YWluZXJcbiAgICAgICAgICAgIGNvbnN0IHVpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIHVpLmNsYXNzTGlzdC5hZGQoJ3VpJylcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKHVpKVxuXG4gICAgICAgICAgICAvLyB0aXRsZVxuICAgICAgICAgICAgY29uc3QgaDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpXG4gICAgICAgICAgICBoMy5pbm5lckhUTUwgPSBpdGVtXG4gICAgICAgICAgICBoMy5zZXRBdHRyaWJ1dGUoJ2RhdGEtZWRpdGFibGUnLCBgJHt0ZW1wbGF0ZUZvbGRlcn0vZWRpdGFibGUuaHRtbGApXG4gICAgICAgICAgICBoMy5zZXRBdHRyaWJ1dGUoJ2RhdGEtaXMtdGVtcGxhdGUnLCAndHJ1ZScpXG4gICAgICAgICAgICB1aS5hcHBlbmRDaGlsZChoMylcblxuICAgICAgICAgICAgLy8gcHJldmlld1xuICAgICAgICAgICAgY29uc3QgcHJldmlld0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICAgICAgICBwcmV2aWV3RWwuY2xhc3NMaXN0LmFkZCgnZmEnLCAnZmEtZXh0ZXJuYWwtbGluaycpXG4gICAgICAgICAgICBwcmV2aWV3RWwuaW5uZXJIVE1MID0gJ1ByZXZpZXcnXG4gICAgICAgICAgICBwcmV2aWV3RWwuc2V0QXR0cmlidXRlKCdkYXRhLWFjdGlvbicsICdwcmV2aWV3JylcbiAgICAgICAgICAgIHByZXZpZXdFbC50YXJnZXQgPSAnX2JsYW5rJ1xuICAgICAgICAgICAgcHJldmlld0VsLmhyZWYgPSBgJHt0ZW1wbGF0ZUZvbGRlcn0vaW5kZXguaHRtbGBcbiAgICAgICAgICAgIHVpLmFwcGVuZENoaWxkKHByZXZpZXdFbClcblxuICAgICAgICAgICAgLy8gaW5mb1xuICAgICAgICAgICAgY29uc3QgaW5mb0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICAgICAgICBpbmZvRWwuY2xhc3NMaXN0LmFkZCgnZmEnLCAnZmEtaW5mbycpXG4gICAgICAgICAgICBpbmZvRWwuaW5uZXJIVE1MID0gJ0luZm8nXG4gICAgICAgICAgICBpbmZvRWwudGFyZ2V0ID0gJ19ibGFuaydcbiAgICAgICAgICAgIGluZm9FbC5ocmVmID0gYGh0dHBzOi8vZ2l0aHViLmNvbS9zaWxleGxhYnMvJHtyZXBvfS9ibG9iL2doLXBhZ2VzLyR7XG4gICAgICAgICAgICAgICAgaXRlbX0vUkVBRE1FLm1kYFxuICAgICAgICAgICAgaW5mb0VsLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nLCAnaW5mbycpXG4gICAgICAgICAgICB1aS5hcHBlbmRDaGlsZChpbmZvRWwpXG5cbiAgICAgICAgICAgIC8vIGVkaXRcbiAgICAgICAgICAgIGNvbnN0IGVkaXRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICAgICAgICAgICAgZWRpdEVsLmNsYXNzTGlzdC5hZGQoJ2ZhJywgJ2ZhLXBlbmNpbCcpXG4gICAgICAgICAgICBlZGl0RWwuaW5uZXJIVE1MID0gJ1NlbGVjdCdcbiAgICAgICAgICAgIGVkaXRFbC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgJ2RhdGEtZWRpdGFibGUnLFxuICAgICAgICAgICAgICAgIGAvbGlicy90ZW1wbGF0ZXMvJHtyZXBvfS8ke2l0ZW19L2VkaXRhYmxlLmh0bWxgKVxuICAgICAgICAgICAgZWRpdEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1pcy10ZW1wbGF0ZScsICd0cnVlJylcbiAgICAgICAgICAgIHVpLmFwcGVuZENoaWxkKGVkaXRFbClcbiAgICAgICAgICAgIHJldHVybiBsaVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZvckVhY2goKGxpKSA9PiB1bC5hcHBlbmRDaGlsZChsaSkpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHJlZHJhdyBVSSBlYWNoIHRpbWUgdGhlIGRpYWxvZyBvcGVuc1xuICAgKi9cbiAgcHJpdmF0ZSByZWRyYXcoKSB7XG4gICAgLy8gcmVjZW50IGZpbGVzXG4gICAgY29uc3QgcmVjZW50RmlsZXMgPSBnZXRMYXRlc3RGaWxlcygpXG5cbiAgICAvLyBidXR0b25zIHZpc2liaWxpdHlcbiAgICBjb25zdCBwYW5lID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcGVuLXBhbmUnKVxuICAgIGlmIChyZWNlbnRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBwYW5lLmNsYXNzTGlzdC5yZW1vdmUoJ2VtdHktbGlzdCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHBhbmUuY2xhc3NMaXN0LmFkZCgnZW10eS1saXN0JylcbiAgICB9XG5cbiAgICAvLyBmaWxsIHRoZSBsaXN0XG4gICAgY29uc3QgdWwgPSBwYW5lLnF1ZXJ5U2VsZWN0b3IoJ3VsLmxpc3QnKVxuICAgIHVsLmlubmVySFRNTCA9ICcnXG5cbiAgICAvLyBhZGQgdGhlIDxsaT4gdGFncyB0byB0aGUgPHVsPiB0YWdcbiAgICByZWNlbnRGaWxlc1xuICAgICAgICAubWFwKChibG9iKSA9PiB7XG4gICAgICAgICAgLy8gdGhlcmUgbWF5IGJlIGVycm9ycyBkdWUgdG8gd3JvbmcgZGF0YSBpbiB0aGUgbG9jYWwgc3RvcmFnZVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcbiAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLWluZm8nLCBKU09OLnN0cmluZ2lmeShibG9iKSlcbiAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ2xpc3QtaXRlbScpXG4gICAgICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgICAgICBpY29uLnNldEF0dHJpYnV0ZSgnZGF0YS1maWxlLWluZm8nLCBKU09OLnN0cmluZ2lmeShibG9iKSlcblxuICAgICAgICAgICAgLy8gY2xvdWRJY29uPSBmYS1naXRodWIgfCBmYS1kcm9wYm94IHwgZmEtc2VydmVyIHwgZmEtY2xvdWQgfFxuICAgICAgICAgICAgLy8gZmEtY2xvdWQtZG93bmxvYWRcbiAgICAgICAgICAgIGNvbnN0IGNsb3VkSWNvbiA9ICgoKSA9PiB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoYmxvYi5zZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZ2l0aHViJzpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbJ2ZhJywgJ2ZhLWdpdGh1YiddXG4gICAgICAgICAgICAgICAgY2FzZSAnZHJvcGJveCc6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gWydmYScsICdmYS1kcm9wYm94J11cbiAgICAgICAgICAgICAgICBjYXNlICd3ZWJkYXYnOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFsnZmEnLCAnZmEtY2xvdWQtZG93bmxvYWQnXVxuICAgICAgICAgICAgICAgIGNhc2UgJ2Z0cCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc2Z0cCc6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gWydmYScsICdmYS1zZXJ2ZXInXVxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZzJzpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbJ2ZhJywgJ2ZhLWhkZC1vJ11cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFsnZmEnLCAnZmEtY2xvdWQnXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoLi4uY2xvdWRJY29uKVxuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoaWNvbilcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgICAgIG5hbWUuc2V0QXR0cmlidXRlKCdkYXRhLWZpbGUtaW5mbycsIEpTT04uc3RyaW5naWZ5KGJsb2IpKVxuICAgICAgICAgICAgbmFtZS5pbm5lckhUTUwgPSBibG9iLmZvbGRlciArICc8c3Ryb25nPicgKyAoYmxvYi5uYW1lLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogJy8nKSArIGJsb2IubmFtZSArICc8L3N0cm9uZz4vJ1xuXG4gICAgICAgICAgICAvLyB0aGUgJy8nIGlzIGF0IHRoZSBlbmQgYmVjYXVzZSB0aGUgY3NzIGFyZSBcImx0clwiIGluIG9yZGVyIHRvIGhhdmVcbiAgICAgICAgICAgIC8vIGVsbGlwc2lzIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKG5hbWUpXG4gICAgICAgICAgICByZXR1cm4gbGlcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYXRjaGVkIGVycm9yOiAnLCBlKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiAhIWl0ZW0pXG4gICAgICAgIC5mb3JFYWNoKChsaSkgPT4gdWwuYXBwZW5kQ2hpbGQobGkpKVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgdGhlc2UgZnVuY3Rpb25zIHNob3cgcHJldmlld1xuICovXG5cbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBnZXRDdXJyZW50UGFnZSB9IGZyb20gJy4vcGFnZS1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0U2l0ZSB9IGZyb20gJy4vc2l0ZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGlzRGlydHkgfSBmcm9tICcuL2RpcnR5J1xuaW1wb3J0IHsgc2F2ZSB9IGZyb20gJy4vZmlsZSdcblxuLyoqXG4gKiB2aWV3IHRoaXMgZmlsZSBpbiBhIG5ldyB3aW5kb3dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZpZXcoKSB7XG4gIGRvUHJldmlldyhmYWxzZSlcbn1cblxuLyoqXG4gKiB2aWV3IHRoaXMgZmlsZSBpbiByZXNwb25zaXplXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2aWV3UmVzcG9uc2l6ZSgpIHtcbiAgZG9QcmV2aWV3KHRydWUpXG59XG5cbi8vIHN0b3JlIHRoZSB3aW5kb3cgdmlld3BvcnQgZm9yIGxhdGVyIHVzZVxubGV0IHByZXZpZXdXaW5kb3c6IFdpbmRvd1xuXG4vKipcbiAqIG9wZW4gYSBwb3B1cCBvciByZWZyZXNoIHRoZSBhbGxyZWFkeSBvcGVuZWQgb25lXG4gKiBAcGFyYW0gb3B0X2xvY2F0aW9uIG9yIG51bGwgdG8gcmVmcmVzaCBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcmV2aWV3V2luZG93TG9jYXRpb24ob3B0X2xvY2F0aW9uPzogc3RyaW5nKSB7XG4gIGlmIChwcmV2aWV3V2luZG93ICYmICFwcmV2aWV3V2luZG93LmNsb3NlZCkge1xuICAgIGlmIChvcHRfbG9jYXRpb24pIHtcbiAgICAgIHByZXZpZXdXaW5kb3cuY2xvc2UoKVxuICAgICAgcHJldmlld1dpbmRvdyA9IHdpbmRvdy5vcGVuKG9wdF9sb2NhdGlvbilcbiAgICAgIHByZXZpZXdXaW5kb3cuZm9jdXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocHJldmlld1dpbmRvdy5sb2NhdGlvbi5ocmVmICE9PSAnYWJvdXQ6YmxhbmsnKSB7XG4gICAgICAgICAgLy8gb25seSB3aGVuIGxvYWRlZCwgcmVsb2FkXG4gICAgICAgICAgcHJldmlld1dpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBjYXNlIG9mIHJlc3BvbnNpemVcbiAgICAgICAgcHJldmlld1dpbmRvdy5mcmFtZXNbMV0ubG9jYXRpb24ucmVsb2FkKHRydWUpXG4gICAgICB9XG4gICAgfVxuICAgIHByZXZpZXdXaW5kb3cuZm9jdXMoKVxuICB9IGVsc2Uge1xuICAgIGlmIChvcHRfbG9jYXRpb24pIHtcbiAgICAgIHByZXZpZXdXaW5kb3cgPSB3aW5kb3cub3BlbihvcHRfbG9jYXRpb24pXG4gICAgICBwcmV2aWV3V2luZG93LmZvY3VzKClcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBwcmV2aWV3IHRoZSB3ZWJzaXRlIGluIGEgbmV3IHdpbmRvdyBvciBpbiByZXNwb25zaXplXG4gKiBhc2sgdGhlIHVzZXIgdG8gc2F2ZSB0aGUgZmlsZSBpZiBuZWVkZWRcbiAqIEBwYXJhbSBpblJlc3BvbnNpemUgaWYgdHJ1ZSB0aGlzIHdpbGwgb3BlbiB0aGUgcHJldmlldyBpbiByZXNwb25zaXplXG4gKiAgIGlmIGZhbHNlIGl0IHdpbGwgb3BlbiB0aGUgd2Vic2l0ZSBpbiBhIG5ldyB3aW5kb3dcbiAqL1xuZnVuY3Rpb24gZG9QcmV2aWV3KGluUmVzcG9uc2l6ZTogYm9vbGVhbikge1xuICBjb25zdCBkb09wZW5QcmV2aWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpXG4gICAgaWYgKGluUmVzcG9uc2l6ZSkge1xuICAgICAgc2V0UHJldmlld1dpbmRvd0xvY2F0aW9uKFxuICAgICAgICAgICcuL3Jlc3BvbnNpemUvP3VybD0nICtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgZ2V0U2l0ZSgpLmZpbGUuYWJzUGF0aCArIHBhZ2UubGluay5ocmVmKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRQcmV2aWV3V2luZG93TG9jYXRpb24oXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIGdldFNpdGUoKS5maWxlLmFic1BhdGggKyBwYWdlLmxpbmsuaHJlZilcbiAgICB9XG4gIH1cblxuICAvLyBzYXZlIGJlZm9yZSBwcmV2aWV3XG4gIGNvbnN0IGRvU2F2ZVRoZUZpbGUgPSAoKSA9PiB7XG4gICAgc2F2ZShcbiAgICAgICAgZ2V0U2l0ZSgpLmZpbGUsXG4gICAgICAgICgpID0+IHt9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgIH0pXG4gIH1cbiAgaWYgKGdldFNpdGUoKS5maWxlICYmICFnZXRTaXRlKCkuaXNUZW1wbGF0ZSkge1xuICAgIC8vIG9wZW4gdGhlIHByZXZpZXcgd2luZG93XG4gICAgLy8gaXQgaXMgaW1wb3J0YW50IHRvIGRvIGl0IG5vdywgb24gdGhlIHVzZXIgY2xpY2sgc28gdGhhdCBpdCBpcyBub3RcbiAgICAvLyBibG9ja2VkIGl0IHdpbGwgYmUgcmVmcmVzaGVkIGFmdGVyIHNhdmVcbiAgICBkb09wZW5QcmV2aWV3KClcblxuICAgIC8vIGFsc28gc2F2ZVxuICAgIGlmIChpc0RpcnR5KCkpIHtcbiAgICAgIGRvU2F2ZVRoZUZpbGUoKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBOb3RpZmljYXRpb24uYWxlcnQoXG4gICAgICAnUHJldmlldyB3ZWJzaXRlJyxcbiAgICAgICdZb3UgbmVlZCB0byBzYXZlIHRoZSB3ZWJzaXRlIGJlZm9yZSBJIGNhbiBzaG93IGEgcHJldmlldycsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGRvU2F2ZVRoZUZpbGUoKVxuICAgICAgfSxcbiAgICApXG4gIH1cbn1cbiIsIlxuXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBQYWdlU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuXG4vKipcbiAqIGdldCB0aGUgY3VycmVudGx5IG9wZW5lZCBwYWdlIGZyb20gdGhlIGRvbVxuICogdGhpcyByZXR1cm5zIG9ubHkgdGhlIG5hbWUsIHVzZWQgaW4gZ2V0UGFnZURhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlTmFtZSh3aW46IFdpbmRvdyk6IHN0cmluZyB7XG4gIC8vIHRzbGludDpkaXNhYmxlOm5vLXN0cmluZy1saXRlcmFsXG4gIHJldHVybiB3aW5bJ2pRdWVyeSddKHdpbi5kb2N1bWVudC5ib2R5KS5wYWdlYWJsZSgnb3B0aW9uJywgJ2N1cnJlbnRQYWdlJylcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGN1cnJlbnRseSBvcGVuZWQgcGFnZSBmcm9tIHRoZSBkb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlRnJvbURvbSh3aW46IFdpbmRvdywgcGFnZXM6IFBhZ2VTdGF0ZVtdKTogUGFnZVN0YXRlIHtcbiAgY29uc3QgbmFtZSA9IGdldEN1cnJlbnRQYWdlTmFtZSh3aW4pXG4gIHJldHVybiBwYWdlcy5maW5kKChwKSA9PiBwLmlkID09PSBuYW1lKVxufVxuXG4vKipcbiAqIG9wZW4gdGhlIHBhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5QYWdlRG9tKHdpbjogV2luZG93LCBwYWdlRGF0YTogUGFnZVN0YXRlKSB7XG4gIC8vIHRzbGludDpkaXNhYmxlOm5vLXN0cmluZy1saXRlcmFsXG4gIGNvbnN0IGJvZHlFbGVtZW50ID0gd2luLmRvY3VtZW50LmJvZHlcbiAgaWYgKHdpblsnalF1ZXJ5J10gJiYgd2luWydqUXVlcnknXShib2R5RWxlbWVudCkucGFnZWFibGUpIHtcbiAgICB3aW5bJ2pRdWVyeSddKGJvZHlFbGVtZW50KS5wYWdlYWJsZSh7XG4gICAgICBjdXJyZW50UGFnZTogcGFnZURhdGEuaWQsXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIHNldC9nZXQgYSB0aGUgdmlzaWJpbGl0eSBvZiBhbiBlbGVtZW50IGluIHRoZSBnaXZlbiBwYWdlXG4gKiByZW1vdmUgZnJvbSBhbGwgcGFnZXMgaWYgdmlzaWJsZSBpbiBhbGwgcGFnZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFBhZ2VzKGFsbFBhZ2VzOiBQYWdlU3RhdGVbXSwgZWxlbWVudDogSFRNTEVsZW1lbnQsIHBhZ2VzOiBQYWdlU3RhdGVbXSkge1xuICByZW1vdmVGcm9tUGFnZXMoYWxsUGFnZXMubWFwKChwKSA9PiBwLmlkKSwgZWxlbWVudClcbiAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgIGlmKHBhZ2UpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChwYWdlLmlkKVxuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENvbnN0YW50cy5QQUdFRF9DTEFTU19OQU1FKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW5cbiAgICAgIC8vIGZpeGVkIDIwMjEtMDNcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoaXMgcGFnZSBkb2VzIG5vdCBleGlzdCBhbnltb3JlJylcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogcmVtb3ZlIGFuIGVsZW1lbnQgZnJvbSBhbGwgdGhlIHBhZ2VzXG4gKiBtYWtlIGl0IHZpc2libGUgb24gYWxsIHBhZ2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGcm9tUGFnZXMocGFnZUlkczogc3RyaW5nW10sIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIHBhZ2VJZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaWQpXG4gIH0pXG5cbiAgLy8gdGhlIGVsZW1lbnQgaXMgbm90IFwicGFnZWRcIiBhbnltb3JlXG4gIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDb25zdGFudHMuUEFHRURfQ0xBU1NfTkFNRSlcblxuICAvLyByZXNldCBwYWdlIHZpc2liaWxpdHlcbiAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENvbnN0YW50cy5QQUdFRF9WSVNJQkxFX0NMQVNTX05BTUUpXG4gIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDb25zdGFudHMuUEFHRURfSElEREVOX0NMQVNTX05BTUUpXG59XG5cbi8qKlxuICogZ2V0IHRoZSBwYWdlcyBvbiB3aGljaCB0aGlzIGVsZW1lbnQgaXMgdmlzaWJsZVxuICovXG5mdW5jdGlvbiBnZXRQYWdlc0ZvckVsZW1lbnQocGFnZXM6IFBhZ2VTdGF0ZVtdLCBlbGVtZW50OiBIVE1MRWxlbWVudCk6IFBhZ2VTdGF0ZVtdIHtcbiAgcmV0dXJuIHBhZ2VzLmZpbHRlcigocGFnZURhdGEpID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKHBhZ2VEYXRhLmlkKSlcbn1cblxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEhlbHBlcnMgZm9yIGNvbW1vbiB0YXNrcywgdGhlc2UgZnVuY3Rpb25zIGFyZSBjcm9zcyBwbGF0Zm9ybVxuICpcbiAqL1xuXG4vLyAvKipcbi8vICAqIHJlZnJlc2ggYW4gaW1hZ2Ugd2l0aCBpdHMgbGF0ZXN0IHZlcnNpb24gb24gdGhlIHNlcnZlclxuLy8gICovXG4vLyBzdGF0aWMgcmVmcmVzaEltYWdlKGltZzogSFRNTEltYWdlRWxlbWVudCwgY2JrOiAoKSA9PiBhbnkpIHtcbi8vICAgY29uc3QgaW5pdGlhbFVybCA9IGltZy5zcmM7XG4vLyAgIGltZy5vbmxvYWQgPSAoZSkgPT4ge1xuLy8gICAgIC8vIHN0b3AgdGhlIHByb2Nlc3Ncbi8vICAgICBpbWcub25sb2FkID0gbnVsbDtcbi8vICAgICBjYmsoKTtcbi8vICAgfTtcbi8vICAgaW1nLnNyYyA9IFVybC5hZGRDYWNoZUNvbnRyb2woaW5pdGlhbFVybCk7XG4vLyB9XG5cbi8qKlxuICogcmVuZGVyIGEgdGVtcGxhdGUgYnkgZHVwbGljYXRpbmcgdGhlIGl0ZW1UZW1wbGF0ZVN0cmluZyBhbmQgaW5zZXJ0aW5nIHRoZVxuICogZGF0YSBpbiBpdFxuICogQHBhcmFtXG4gKiBAcGFyYW0gIGRhdGEgICAgICAgICAgICAgICAgIHRoZSBhcnJheSBvZiBzdHJpbmdzIGNvbmFpbmluZyB0aGUgZGF0YVxuICogQHJldHVybiB0aGUgdGVtcGxhdGUgc3RyaW5nIHdpdGggdGhlIGRhdGEgaW4gaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckxpc3QoaXRlbVRlbXBsYXRlU3RyaW5nOiBzdHJpbmcsIGRhdGE6IGFueVtdKTogc3RyaW5nIHtcbiAgbGV0IHJlcyA9ICcnXG5cbiAgLy8gZm9yIGVhY2ggaXRlbSBpbiBkYXRhLCBlLmcuIGVhY2ggcGFnZSBpbiB0aGUgbGlzdFxuICBkYXRhLmZvckVhY2goKGl0ZW1EYXRhKSA9PiB7XG4gICAgLy8gYnVpbGQgYW4gaXRlbVxuICAgIGxldCBpdGVtID0gaXRlbVRlbXBsYXRlU3RyaW5nXG5cbiAgICAvLyByZXBsYWNlIGVhY2gga2V5IGJ5IGl0cyB2YWx1ZVxuICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW1EYXRhKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGl0ZW1EYXRhW2tleV1cbiAgICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UobmV3IFJlZ0V4cCgne3snICsga2V5ICsgJ319JywgJ2cnKSwgdmFsdWUpXG4gICAgfVxuXG4gICAgLy8gYWRkIHRoZSBpdGVtIHRvIHRoZSByZW5kZXJlZCB0ZW1wbGF0ZVxuICAgIHJlcyArPSBpdGVtXG4gIH0pXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRhZ05hbWUoZWw6IEhUTUxFbGVtZW50LCB0YWc6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgaWYoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYm9keScpIHRocm93IG5ldyBFcnJvcignRm9yYmlkZGVuIHRvIGNoYW5nZSB0YWcgbmFtZSBvZiBib2R5JylcbiAgY29uc3QgcmVwbGFjZW1lbnQgPSBlbC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKVxuICBlbC5nZXRBdHRyaWJ1dGVOYW1lcygpXG4gIC5mb3JFYWNoKChhdHRyKSA9PiByZXBsYWNlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgZWwuZ2V0QXR0cmlidXRlKGF0dHIpKSlcbiAgd2hpbGUoZWwuZmlyc3RDaGlsZCkge1xuICAgIHJlcGxhY2VtZW50LmFwcGVuZENoaWxkKGVsLmZpcnN0Q2hpbGQpXG4gIH1cbiAgZWwucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocmVwbGFjZW1lbnQsIGVsKVxuICByZXR1cm4gcmVwbGFjZW1lbnRcbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBDcm9zcyBwbGF0Zm9ybSwgaXQgbmVlZHMgdG8gcnVuIGNsaWVudCBhbmQgc2VydmVyIHNpZGVcbiAqL1xuXG5pbXBvcnQgeyBQZXJzaXN0YW50RGF0YSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5cbi8qKlxuICogd3JpdGUgZWxlbWVudHMgYW5kIHBhZ2VzIGRhdGEgdG8gdGhlIGRvbSBmb3IgdGhlIGNvbXBvbmVudHMgYW5kIHNjcmlwdHMgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZURhdGFUb0RvbShkb2M6IEhUTUxEb2N1bWVudCwgZGF0YTogUGVyc2lzdGFudERhdGEpIHtcbiAgbGV0IHRhZzogSFRNTFNjcmlwdEVsZW1lbnQgPSBkb2MucXVlcnlTZWxlY3RvcignLicgKyBDb25zdGFudHMuSlNPTl9TVFlMRV9UQUdfQ0xBU1NfTkFNRSlcbiAgaWYgKCF0YWcpIHtcbiAgICB0YWcgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbiAgICB0YWcuY2xhc3NMaXN0LmFkZChDb25zdGFudHMuSlNPTl9TVFlMRV9UQUdfQ0xBU1NfTkFNRSlcbiAgfVxuICAvLyBwcmV2ZW50IGZyb20gYmVlaW5nIGRlYWN0aXZhdGVkIGluIFdlYnNpdGVSb3V0ZXJcbiAgdGFnLnNldEF0dHJpYnV0ZShDb25zdGFudHMuU1RBVElDX0FTU0VUX0FUVFIsICcnKVxuICAvLyBzZXQgaXRzIGNvbnRlbnRcbiAgdGFnLmlubmVySFRNTCA9IGBcbiAgICB3aW5kb3cuc2lsZXggPSB3aW5kb3cuc2lsZXggfHwge31cbiAgICB3aW5kb3cuc2lsZXguZGF0YSA9IGAgKyBKU09OLnN0cmluZ2lmeSh7XG4gICAgc2l0ZTogeyAvLyB0aGlzIGlzIGh1Z2UgYW5kIGNvbnRhaW5zIGh0bWwgdGFncyAtIGUuZy4gdXNlckhlYWRcbiAgICAgIHdpZHRoOiBkYXRhLnNpdGUud2lkdGgsXG4gICAgfSxcbiAgICBwYWdlczogZGF0YS5wYWdlcyxcbiAgICAvLyBlbGVtZW50czogZGF0YS5lbGVtZW50cywgLy8gbm90IHRoaXMgb25lIGFzIGl0IGlzIGh1Z2UgYW5kIHVzZWxlc3MgYXQgcnVudGltZVxuICB9KVxuICAvLyBhbHdheXMgaW5zZXJ0IGFzIGZpcnN0IGNoaWxkIGJlZm9yZSBhbGwgc2NyaXB0c1xuICB0YWcudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnXG4gIGRvYy5oZWFkLmluc2VydEJlZm9yZSh0YWcsIGRvYy5oZWFkLmZpcnN0Q2hpbGQpXG59XG4iLCJpbXBvcnQgeyBFbGVtZW50U3RhdGUsIEVsZW1lbnRJZCwgRWxlbWVudERhdGEgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgU3RhdGVDaGFuZ2UgfSBmcm9tICcuLi9zdG9yZS9jcnVkLXN0b3JlJ1xuaW1wb3J0IHtcbiAgY3JlYXRlRG9tRWxlbWVudCxcbiAgZGVsZXRlU3R5bGVGcm9tRG9tLFxuICBleGVjdXRlU2NyaXB0cyxcbiAgZ2V0RG9tRWxlbWVudCxcbiAgaGlkZU9uRGVza3RvcCxcbiAgaGlkZU9uTW9iaWxlLFxuICByZW1vdmVFbGVtZW50LFxuICByZW9yZGVyRWxlbWVudHMsXG4gIHNldElubmVySHRtbCxcbiAgc2V0TGluayxcbiAgc2hvd09uRGVza3RvcCxcbiAgc2hvd09uTW9iaWxlLFxuICB3cml0ZVN0eWxlVG9Eb21cbn0gZnJvbSAnLi9kb20nXG5pbXBvcnQgeyBnZXRDdXJyZW50UGFnZSB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldEVsZW1lbnRCeUlkIH0gZnJvbSAnLi9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0RWxlbWVudHMgfSBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHsgZ2V0RW1wdHlFbGVtZW50RGF0YSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBnZXRQYWdlcyB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBnZXRQYXJlbnQgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQgeyBnZXRTaXRlV2luZG93IH0gZnJvbSAnLi4vY29tcG9uZW50cy9TaXRlRnJhbWUnXG5pbXBvcnQgeyBnZXRTdGF0ZSB9IGZyb20gJy4uL3N0b3JlL2luZGV4J1xuaW1wb3J0IHsgaXNDb21wb25lbnQsIHVwZGF0ZUNvbXBvbmVudHNEZXBlbmRlbmNpZXMgfSBmcm9tICcuL2NvbXBvbmVudCdcbmltcG9ydCB7IG9wZW5QYWdlRG9tLCBzZXRQYWdlcyB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvZG9tJ1xuaW1wb3J0IHsgcmVzZXRTdGFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvU3RhZ2VXcmFwcGVyJ1xuaW1wb3J0IHsgc2V0VGFnTmFtZSB9IGZyb20gJy4uL3V0aWxzL2RvbSdcbmltcG9ydCB7IHdyaXRlRGF0YVRvRG9tIH0gZnJvbSAnLi4vc3RvcmUvZG9tJ1xuXG5leHBvcnQgY29uc3Qgb25BZGRFbGVtZW50cyA9ICh3aW46IFdpbmRvdykgPT4gKHRvQmVBZGRlZDogRWxlbWVudFN0YXRlW10sIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSkgPT4ge1xuICBjb25zdCBkb2MgPSB3aW4uZG9jdW1lbnRcbiAgY29uc3QgYWRkZWQ6IFN0YXRlQ2hhbmdlPEVsZW1lbnRTdGF0ZT5bXSA9IFtdXG4gIHRvQmVBZGRlZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgLy8gY3JlYXRlIHdpdGggZGVmYXVsdHNcbiAgICBjb25zdCBwYXJlbnQgPSBnZXRQYXJlbnQoZWxlbWVudCwgZWxlbWVudHMpIC8vIHBhcmVudCBtYXkgYmUgbnVsbCBpZiB0aGUgcGFyZW50J3MgY2hpbGRyZW4gYXJyYXkgaGFzIG5vdCB5ZXQgYmUgY2hhbmdlZCwgdGhlbiB0aGUgZWxlbWVudCB3aWxsIGJlIG1vdmVkIHdoZW4gaXQgaXMgc2V0XG4gICAgY29uc3QgcGFyZW50RWwgPSBwYXJlbnQgPyBnZXREb21FbGVtZW50KGRvYywgcGFyZW50KSA6IGRvYy5ib2R5XG4gICAgY3JlYXRlRG9tRWxlbWVudCh7XG4gICAgICBkb2MsXG4gICAgICBpZDogZWxlbWVudC5pZCxcbiAgICAgIHR5cGU6IGVsZW1lbnQudHlwZSxcbiAgICAgIHBhcmVudDogcGFyZW50RWwsXG4gICAgICBpc1NlY3Rpb25Db250ZW50OiBlbGVtZW50LmlzU2VjdGlvbkNvbnRlbnQsXG4gICAgfSlcblxuICAgIGlmIChwYXJlbnQgJiYgIXBhcmVudEVsKSB7XG4gICAgICAvLyBubyBwYXJlbnQgZWxlbWVudCB5ZXQgYnV0IHdpbGwgY29tZSBzb29uXG4gICAgICBjb25zb2xlLndhcm4oJ25vIHBhcmVudCBlbGVtZW50IHlldCBidXQgd2lsbCBjb21lIHNvb24gaG9wZWZ1bGx5JylcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY3JlYXRlIGEgdGVtcG9yYXJ5IGVtcHR5IGVsZW1lbnQgaW4gb3JkZXIgdG8gdXBkYXRlIGl0IHdpdGggb25VcGRhdGVFbGVtZW50c1xuICAgICAgY29uc3QgZW1wdHlFbGVtZW50OiBFbGVtZW50RGF0YSA9IGdldEVtcHR5RWxlbWVudERhdGEoe1xuICAgICAgICBpZDogZWxlbWVudC5pZCxcbiAgICAgICAgdHlwZTogZWxlbWVudC50eXBlLFxuICAgICAgICBpc1NlY3Rpb25Db250ZW50OiBlbGVtZW50LmlzU2VjdGlvbkNvbnRlbnQsXG4gICAgICAgIGlzQm9keTogZmFsc2UsXG4gICAgICB9KVxuXG4gICAgICAvLyB1cGRhdGUgd2l0aCBwcm92aWRlZCBkYXRhXG4gICAgICBhZGRlZC5wdXNoKHtcbiAgICAgICAgZnJvbTogZW1wdHlFbGVtZW50IGFzIEVsZW1lbnRTdGF0ZSwgLy8gd2UgZG8gbm90IG5lZWQgY3J1ZElkIGhlcmVcbiAgICAgICAgdG86IGVsZW1lbnQsXG4gICAgICB9KVxuICAgIH1cbiAgfSlcbiAgaWYgKGFkZGVkLmxlbmd0aCkge1xuICAgIG9uVXBkYXRlRWxlbWVudHMod2luKShhZGRlZCwgZWxlbWVudHMpXG4gICAgLy8gc2V0VGltZW91dDogb2JzZXJ2ZXJzIGFyZSBub3Qgc3VwcG9zZWQgdG8gZGlzcGF0Y2hcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHVwZGF0ZSBjb21wb25lbnRzIGRlcGVuZGVuY2llcyBpZiB0aGVyZSBpcyAxIG9yIG1vcmUgY29tcG9uZW50c1xuICAgICAgaWYoYWRkZWQuZmluZCgoe3RvfSkgPT4gaXNDb21wb25lbnQodG8pKSkge1xuICAgICAgICB1cGRhdGVDb21wb25lbnRzRGVwZW5kZW5jaWVzKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBvbkRlbGV0ZUVsZW1lbnRzID0gKHdpbjogV2luZG93KSA9PiAoZWxlbWVudHM6IEVsZW1lbnRTdGF0ZVtdKSA9PiB7XG4gIC8vIHJlbW92ZSBlbGVtZW50cyBmcm9tIGRvbVxuICBjb25zdCBkb2MgPSB3aW4uZG9jdW1lbnRcbiAgZWxlbWVudHNcbiAgLm1hcCgoZWxlbWVudCkgPT4ge1xuICAgIGRlbGV0ZVN0eWxlRnJvbURvbShkb2MsIGVsZW1lbnQuaWQsIHRydWUpXG4gICAgZGVsZXRlU3R5bGVGcm9tRG9tKGRvYywgZWxlbWVudC5pZCwgZmFsc2UpXG5cbiAgICByZXR1cm4gZ2V0RG9tRWxlbWVudChkb2MsIGVsZW1lbnQpXG4gIH0pXG4gIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgcmVtb3ZlRWxlbWVudChlbGVtZW50KVxuICB9KVxuICAvLyBzZXRUaW1lb3V0OiBvYnNlcnZlcnMgYXJlIG5vdCBzdXBwb3NlZCB0byBkaXNwYXRjaFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAvLyB1cGRhdGUgY29tcG9uZW50cyBkZXBlbmRlbmNpZXMgaWYgdGhlcmUgaXMgMSBvciBtb3JlIGNvbXBvbmVudHNcbiAgICBpZihlbGVtZW50cy5maW5kKChlbCkgPT4gaXNDb21wb25lbnQoZWwpKSkge1xuICAgICAgdXBkYXRlQ29tcG9uZW50c0RlcGVuZGVuY2llcygpXG4gICAgfVxuICB9LCAwKVxufVxuXG5leHBvcnQgY29uc3Qgb25VcGRhdGVFbGVtZW50cyA9ICh3aW46IFdpbmRvdykgPT4gKGNoYW5nZTogU3RhdGVDaGFuZ2U8RWxlbWVudFN0YXRlPltdLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpID0+IHtcbiAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50XG5cbiAgY2hhbmdlLmZvckVhY2goKHtmcm9tLCB0b30pID0+IHtcbiAgICBjb25zdCBkb21FbCA9IGdldERvbUVsZW1lbnQoZG9jLCB0bylcblxuICAgIGlmICh0by5wYWdlTmFtZXMgIT09IGZyb20ucGFnZU5hbWVzKSB7XG4gICAgICAvLyBhcHBseSB2aXNpYmlsaXR5XG4gICAgICBjb25zdCBwYWdlcyA9IGdldFBhZ2VzKClcbiAgICAgIHNldFBhZ2VzKHBhZ2VzLCBkb21FbCwgdG8ucGFnZU5hbWVzLm1hcCgocGFnZU5hbWUpID0+IHBhZ2VzLmZpbmQoKHApID0+IHAuaWQgPT09IHBhZ2VOYW1lKSkpXG4gICAgICAvLyByZW9wZW4gdGhlIGN1cnJlbnQgcGFnZSBpbiBjYXNlIHRoZSBlbGVtZW50IGlzIG5vdCB2aXNpYmxlIG9uIHRoZSBjdXJyZW50IHBhZ2UgYW55bW9yZVxuICAgICAgb3BlblBhZ2VEb20oZ2V0U2l0ZVdpbmRvdygpLCBnZXRDdXJyZW50UGFnZSgpKVxuICAgIH1cbiAgICBpZiAodG8uY2hpbGRyZW4gIT09IGZyb20uY2hpbGRyZW4pIHtcbiAgICAgIHJlb3JkZXJFbGVtZW50cyhkb21FbCwgdG8uY2hpbGRyZW5cbiAgICAgICAgLm1hcCgoaWQ6IEVsZW1lbnRJZCkgPT4gZ2V0RWxlbWVudEJ5SWQoaWQsIGVsZW1lbnRzKSlcbiAgICAgICAgLmZpbHRlcigoZWw6IEVsZW1lbnRTdGF0ZSkgPT4gISFlbCkgLy8gZmlsdGVyIG91dCBlbGVtZW50cyB3aGljaCBoYXZlIHRoZWlyIElEIGluIGNoaWxkcmVuIGJ1dCBjYW4gbm90IGJlIGZvdW5kLCB3aGljaCBzaG91bGQgbmV2ZXIgaGFwcGVuP1xuICAgICAgICAubWFwKChlbDogRWxlbWVudFN0YXRlKSA9PiBnZXREb21FbGVtZW50KGRvYywgZWwpKVxuICAgICAgICAuZmlsdGVyKChlbDogSFRNTEVsZW1lbnQpID0+ICEhZWwpIC8vICBmaWx0ZXIgb3V0IGVsZW1lbnRzIHdoaWNoIGhhdmUgbm8gRE9NIGVsZW1lbnRzLCBpLmUuIHJlY2VudGx5IGFkZGVkLCBzaG91bGQgbmV2ZXIgaGFwcGVuPz9cbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHRvLmxpbmsgIT09IGZyb20ubGluaykge1xuICAgICAgc2V0TGluayhkb21FbCwgdG8ubGluaylcbiAgICB9XG4gICAgaWYgKHRvLmF0dHIgIT09IGZyb20uYXR0cikge1xuICAgICAgY29uc3QgZnJvbUF0dHIgPSBmcm9tLmF0dHIgfHwge31cbiAgICAgIE9iamVjdC5lbnRyaWVzKGZyb21BdHRyKVxuICAgICAgLmZvckVhY2goKFtuYW1lLCB2YWxdKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZG9tRWwucmVtb3ZlQXR0cmlidXRlKG5hbWUpXG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCByZW1vdmUgSFRNTCBhdHRyJywge25hbWUsIHZhbCwgZG9tRWx9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgY29uc3QgdG9BdHRyID0gdG8uYXR0ciB8fCB7fVxuICAgICAgT2JqZWN0LmVudHJpZXModG9BdHRyKVxuICAgICAgLmZvckVhY2goKFtuYW1lLCB2YWxdKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZG9tRWwuc2V0QXR0cmlidXRlKG5hbWUsIHZhbCB8fCAnJylcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignY291bGQgbm90IGFkZCBIVE1MIGF0dHInLCB7bmFtZSwgdmFsLCBkb21FbH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICh0by5jbGFzc0xpc3QgIT09IGZyb20uY2xhc3NMaXN0KSB7XG4gICAgICAvLyByZW1vdmUgb25seSB0aGUgb2xkIGNzcyBjbGFzc2VzXG4gICAgICAvLyB0aGlzIHdpbGwga2VlcCB0aGUgZWxlbWVudCBTaWxleElkLCB0eXBlLCAgZXRjLlxuICAgICAgZnJvbS5jbGFzc0xpc3QuZm9yRWFjaCgoYykgPT4gZG9tRWwuY2xhc3NMaXN0LnJlbW92ZShjKSlcbiAgICAgIGRvbUVsLmNsYXNzTGlzdC5hZGQoLi4udG8uY2xhc3NMaXN0KVxuICAgIH1cbiAgICAvLyBlbGVtZW50IHZpc2liaWxpdHkgZGVzdGtvcCBhbmQgbW9iaWxlXG4gICAgaWYgKHRvLnZpc2liaWxpdHkuZGVza3RvcCAhPT0gZnJvbS52aXNpYmlsaXR5LmRlc2t0b3ApIHtcbiAgICAgIGlmICh0by52aXNpYmlsaXR5LmRlc2t0b3ApIHtcbiAgICAgICAgc2hvd09uRGVza3RvcChkb21FbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVPbkRlc2t0b3AoZG9tRWwpXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0by52aXNpYmlsaXR5Lm1vYmlsZSAhPT0gZnJvbS52aXNpYmlsaXR5Lm1vYmlsZSkge1xuICAgICAgaWYgKHRvLnZpc2liaWxpdHkubW9iaWxlKSB7XG4gICAgICAgIHNob3dPbk1vYmlsZShkb21FbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpZGVPbk1vYmlsZShkb21FbClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRvLmxpbmspIHtcbiAgICAgIGlmIChkb21FbC50YWdOYW1lICE9PSAnQScpIHtcbiAgICAgICAgc2V0VGFnTmFtZShkb21FbCwgJ0EnKVxuICAgICAgICAvLyByZXNldCB0aGUgc3RhZ2UgYmVjYXVzZSBzdGFnZSBjb21wb25lbnQgaG9sZHMgcmVmZXJlbmNlcyB0byBkb20gZWxlbWVudHNcbiAgICAgICAgLy8gb2Ygc2VsZWN0ZWQgU2lsZXggZWxlbWVudHNcbiAgICAgICAgLy8gRklYTUU6IHRoaXMgaXMgYSBwcm9ibGVtIGluIGRyYWctZHJvcC1zdGFnZS1jb21wb25lbnQgbW9kdWxlXG4gICAgICAgIHJlc2V0U3RhZ2UoKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG8udGFnTmFtZS50b1VwcGVyQ2FzZSgpICE9PSBkb21FbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIC8vIEhlcmUgdG8udGFnTmFtZSBtYXkgYmUgdGhlIHNhbWUgYXMgZnJvbS50YWdOYW1lIGFuZCBzdGlsbCB0aGUgbm9kZSBjYW4gaGF2ZSBhIHRhZyBuYW1lIFwiQVwiXG4gICAgICAvLyBUaGlzIGhhcHBlbnMgd2hlbiB3ZSByZW1vdmUgYSBsaW5rXG4gICAgICBzZXRUYWdOYW1lKGRvbUVsLCB0by50YWdOYW1lKVxuICAgIH1cbiAgICBpZiAodG8uYWx0ICE9PSBmcm9tLmFsdCkge1xuICAgICAgY29uc3QgaW1nOiBIVE1MSW1hZ2VFbGVtZW50ID0gKGRvbUVsLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpKSBhcyBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICBpZiAoaW1nKSB7XG4gICAgICAgIGltZy5hbHQgPSB0by5hbHRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBzZXQgYWx0IGF0dHJpYnV0ZSBhcyBubyBpbWFnZSBlbGVtZW50IHdhcyBmb3VuZCcpXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0by50aXRsZSAhPT0gZnJvbS50aXRsZSkge1xuICAgICAgZG9tRWwudGl0bGUgPSB0by50aXRsZVxuICAgIH1cbiAgICBpZiAodG8uaW5uZXJIdG1sICE9PSBmcm9tLmlubmVySHRtbCkge1xuICAgICAgLy8gRklYTUU6IGtlZXAgY2hpbGRyZW4gaW4gdGhlIGRvbSA/P1xuICAgICAgLy8gcmVtb3ZlIHRoZSBlZGl0YWJsZSBlbGVtZW50cyB0ZW1wb3JhcmlseVxuICAgICAgLy8gY29uc3QgdGVtcEVsZW1lbnRzID0gc2F2ZUVkaXRhYmxlQ2hpbGRyZW4oZG9tRWwpXG5cbiAgICAgIHNldElubmVySHRtbChkb21FbCwgdG8uaW5uZXJIdG1sKVxuXG4gICAgICAvLyBGSVhNRToga2VlcCBjaGlsZHJlbiBpbiB0aGUgZG9tID8/XG4gICAgICAvLyBwdXQgYmFjayB0aGUgZWRpdGFibGUgZWxlbWVudHNcbiAgICAgIC8vIGRvbUVsLmFwcGVuZENoaWxkKHRlbXBFbGVtZW50cylcblxuICAgICAgLy8gRklYTUU6IHNob3VsZCBleGVjIHNjcmlwdHMgb25seSBhZnRlciBkZXBlbmRlbmNpZXMgYXJlIGxvYWRlZFxuICAgICAgLy8gZ2V0U3RhZ2UoKS5yZWRyYXdTb21lKFtkb21FbF1cbiAgICAgIC8vICAgLm1hcCgoZWwpID0+IGdldFN0YWdlKCkuZ2V0U3RhdGUoZWwpKSlcbiAgICB9XG4gICAgLy8gdXBkYXRlIHN0eWxlcyBpbiB0aGUgZG9tXG4gICAgaWYgKHRvLnN0eWxlICE9PSBmcm9tLnN0eWxlKSB7XG4gICAgICAvLyB3cml0ZSBjc3MgcnVsZXNcbiAgICAgIHdyaXRlU3R5bGVUb0RvbShkb2MsIHRvLCB0cnVlKVxuICAgICAgd3JpdGVTdHlsZVRvRG9tKGRvYywgdG8sIGZhbHNlKVxuICAgIH1cbiAgICAvLyBleGVjdXRlIHRoZSBzY3JpcHRzXG4gICAgaWYgKGlzQ29tcG9uZW50KHRvKVxuICAgICAgJiYgKGZyb20uc3R5bGUubW9iaWxlLndpZHRoICE9PSB0by5zdHlsZS5tb2JpbGUud2lkdGhcbiAgICAgICAgfHwgZnJvbS5zdHlsZS5tb2JpbGUuaGVpZ2h0ICE9PSB0by5zdHlsZS5tb2JpbGUuaGVpZ2h0XG4gICAgICAgIHx8IGZyb20uc3R5bGUuZGVza3RvcC53aWR0aCAhPT0gdG8uc3R5bGUuZGVza3RvcC53aWR0aFxuICAgICAgICB8fCBmcm9tLnN0eWxlLmRlc2t0b3AuaGVpZ2h0ICE9PSB0by5zdHlsZS5kZXNrdG9wLmhlaWdodFxuICAgICAgICB8fCB0by5pbm5lckh0bWwgIT09IGZyb20uaW5uZXJIdG1sKSkge1xuICAgICAgZXhlY3V0ZVNjcmlwdHMod2luLCBkb21FbClcbiAgICB9XG4gIH0pXG4gIC8vIHNhdmUgZGF0YSB0byB0aGUgZG9tIGZvciBmcm9udC1lbmQuanNcbiAgd3JpdGVEYXRhVG9Eb20oZG9jLCBnZXRTdGF0ZSgpKVxufVxuIiwiaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlLCBFbGVtZW50VHlwZSwgTGlua1R5cGUgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgUGFnZVN0YXRlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgU3RhdGVDaGFuZ2UgfSBmcm9tICcuLi9zdG9yZS9jcnVkLXN0b3JlJ1xuaW1wb3J0IHsgZGVsZXRlRWxlbWVudHMsIGdldEVsZW1lbnRzLCB1cGRhdGVFbGVtZW50cyB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBnZXRFbGVtZW50QnlEb21FbGVtZW50IH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0SW5uZXJIdG1sIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9kb20nXG5pbXBvcnQgeyBnZXRTaXRlRG9jdW1lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL1NpdGVGcmFtZSdcbmltcG9ydCB7IGdldFN0YXRlLCBzdG9yZSB9IGZyb20gJy4uL3N0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWksIHVwZGF0ZVVpIH0gZnJvbSAnLi4vdWktc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyB3cml0ZURhdGFUb0RvbSB9IGZyb20gJy4uL3N0b3JlL2RvbSdcblxuZXhwb3J0IGZ1bmN0aW9uIG9uQWRkUGFnZXMocGFnZXM6IFBhZ2VTdGF0ZVtdKSB7XG4gIC8vIHNhdmUgdGhlIGNoYW5nZWQgZGF0YSB0byB0aGUgZG9tIGZvciBmcm9udC1lbmQuanNcbiAgd3JpdGVEYXRhVG9Eb20oZ2V0U2l0ZURvY3VtZW50KCksIGdldFN0YXRlKCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkRlbGV0ZVBhZ2VzKHBhZ2VzOiBQYWdlU3RhdGVbXSwgcHJldmVudENvbmZpcm0gPSBmYWxzZSwgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSB7XG4gIGZ1bmN0aW9uIGRvRGVsZXRlKGVsZW1lbnRzT25seU9uVGhpc1BhZ2UpIHtcbiAgICBlbGVtZW50c09ubHlPblRoaXNQYWdlLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIC8vIHJlbW92ZSB0aGVzZSBlbGVtZW50c1xuICAgICAgZGVsZXRlRWxlbWVudHMoW2VsZW1lbnRdLCBkaXNwYXRjaClcbiAgICB9KVxuICB9XG5cbiAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRzT25UaGlzUGFnZSA9IGVsZW1lbnRzXG4gICAgICAuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50LnBhZ2VOYW1lcy5pbmNsdWRlcyhwYWdlLmlkKSlcblxuICAgIGNvbnN0IGVsZW1lbnRzT25seU9uVGhpc1BhZ2UgPSBlbGVtZW50c09uVGhpc1BhZ2VcbiAgICAgIC5maWx0ZXIoKGVsZW1lbnQpID0+IGVsZW1lbnQucGFnZU5hbWVzLmxlbmd0aCA9PT0gMSlcblxuICAgIC8vIGhhbmRsZSBlbGVtZW50cyB3aGljaCBzaG91bGQgYmUgZGVsZXRlZFxuICAgIGlmIChlbGVtZW50c09ubHlPblRoaXNQYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICghcHJldmVudENvbmZpcm0pIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLmNvbmZpcm0oJ0RlbGV0ZSBlbGVtZW50cycgLCBgXG4gICAgICAgICAgJHtlbGVtZW50c09ubHlPblRoaXNQYWdlLmxlbmd0aH0gZWxlbWVudHMgd2VyZSBvbmx5IHZpc2libGUgb24gdGhpcyBwYWdlICgke3BhZ2UuaWR9KS5cbiAgICAgICAgICA8YnIgLz48dWw+XG4gICAgICAgICAgICA8bGk+RG8geW91IHdhbnQgbWUgdG8gPHN0cm9uZz5kZWxldGUgdGhlc2UgZWxlbWVudHM/PC9zdHJvbmc+PGJyIC8+PC9saT5cbiAgICAgICAgICAgIDxsaT5vciBrZWVwIHRoZW0gYW5kIDxzdHJvbmc+bWFrZSB0aGVtIHZpc2libGUgb24gYWxsIHBhZ2VzPzwvc3Ryb25nPjwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgYCwgKGFjY2VwdCkgPT4ge1xuICAgICAgICAgIGlmIChhY2NlcHQpIGRvRGVsZXRlKGVsZW1lbnRzT25seU9uVGhpc1BhZ2UpXG4gICAgICAgICAgLy8gZWxzZTogdGhlIGVsZW1lbnQgd2lsbCBiZSBtYWRlIHZpc2libGUgb24gYWxsIHBhZ2VzIGJ5IHRoZSBjb2RlIGJlbGxvd1xuICAgICAgICB9LCAnZGVsZXRlJywgJ2tlZXAnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9EZWxldGUoZWxlbWVudHNPbmx5T25UaGlzUGFnZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGSVhNRTogb2JzZXJ2ZXIgc2hvdWxkIG5vdCB1cGRhdGUgc3RvcmVcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHJlbW92ZSBcInZpc2liaWxpdHlcIiBvbiB0aGlzIHBhZ2VcbiAgICAgIC8vIGVsZW1lbnRzIG1heSBiZSBkZWxldGVkIGFmdGVyd2FyZHMgYnkgdGhlIGNvZGUgYWJvdmVcbiAgICAgIHVwZGF0ZUVsZW1lbnRzKGVsZW1lbnRzT25UaGlzUGFnZVxuICAgICAgICAubWFwKChlbGVtZW50KSA9PiAoe1xuICAgICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgICAgcGFnZU5hbWVzOiBlbGVtZW50LnBhZ2VOYW1lcy5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gcGFnZS5pZCksXG4gICAgICAgIH0pKSwgZGlzcGF0Y2gpXG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgbGlua3MgdG8gdGhpcyBwYWdlXG4gICAgICB1cGRhdGVFbGVtZW50cyhwYWdlc1xuICAgICAgICAucmVkdWNlKChwcmV2LCBjdXIpID0+IHtcbiAgICAgICAgICByZXR1cm4gcHJldi5jb25jYXQoZ2V0RWxlbWVudHMoKVxuICAgICAgICAgICAgLmZpbHRlcigoZWxlbWVudCkgPT4gISFlbGVtZW50LmxpbmsgJiYgZWxlbWVudC5saW5rLmxpbmtUeXBlID09PSBMaW5rVHlwZS5QQUdFICYmIGVsZW1lbnQubGluay5ocmVmID09PSBjdXIubGluay5ocmVmKVxuICAgICAgICAgICAgLm1hcCgoZWxlbWVudCkgPT4gKHtcbiAgICAgICAgICAgICAgZnJvbTogZWxlbWVudCxcbiAgICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICAuLi5lbGVtZW50LFxuICAgICAgICAgICAgICAgIGxpbms6IG51bGwsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSkpXG4gICAgICAgIH0sIFtdKSlcbiAgICAgIC8vIEZJWE1FOiBoYW5kbGUgbGlua3MgaW4gdGV4dHNcbiAgICB9LCAwKVxuICB9KVxuXG4gIC8vIHNhdmUgdGhlIGNoYW5nZWQgZGF0YSB0byB0aGUgZG9tIGZvciBmcm9udC1lbmQuanNcbiAgd3JpdGVEYXRhVG9Eb20oZ2V0U2l0ZURvY3VtZW50KCksIGdldFN0YXRlKCkpXG59XG5cbmNvbnN0IGhhc0xpbmtUb1BhZ2UgPSAoZWxlbWVudDogRWxlbWVudFN0YXRlLCBwYWdlOiBQYWdlU3RhdGUpID0+ICEhZWxlbWVudC5saW5rICYmIGVsZW1lbnQubGluay5saW5rVHlwZSA9PT0gTGlua1R5cGUuUEFHRSAmJiBlbGVtZW50LmxpbmsuaHJlZiA9PT0gcGFnZS5saW5rLmhyZWZcblxuY29uc3QgaXNWaXNpYmxlT25QYWdlID0gKGVsZW1lbnQ6IEVsZW1lbnRTdGF0ZSwgcGFnZTogUGFnZVN0YXRlKSA9PiAhIWVsZW1lbnQucGFnZU5hbWVzLmxlbmd0aCAmJiBlbGVtZW50LnBhZ2VOYW1lcy5pbmNsdWRlcyhwYWdlLmlkKVxuXG5leHBvcnQgZnVuY3Rpb24gb25VcGRhdGVQYWdlcyhjaGFuZ2VzOiBTdGF0ZUNoYW5nZTxQYWdlU3RhdGU+W10sIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuICBjaGFuZ2VzLmZvckVhY2goKHtmcm9tLCB0b30pID0+IHtcbiAgICAvLyBwYWdlIElEIGNoYW5nZVxuICAgIGlmICghZnJvbSB8fCBmcm9tLmlkICE9PSB0by5pZCB8fCBmcm9tLmxpbmsgIT09IHRvLmxpbmspIHtcbiAgICAgIC8vIEZJWE1FOiBvYnNlcnZlciBzaG91bGQgbm90IHVwZGF0ZSBzdG9yZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUVsOiBFbGVtZW50U3RhdGVbXSA9IGVsZW1lbnRzXG4gICAgICAgICAgLy8gdXBkYXRlIGVsZW1lbnRzIHZpc2liaWxpdHlcbiAgICAgICAgICAvLyArIHVwZGF0ZSBsaW5rcyB0byB0aGlzIHBhZ2VcbiAgICAgICAgICAuZmlsdGVyKChlbGVtZW50KSA9PiBpc1Zpc2libGVPblBhZ2UoZWxlbWVudCwgZnJvbSkgfHwgaGFzTGlua1RvUGFnZShlbGVtZW50LCBmcm9tKSlcbiAgICAgICAgICAubWFwKChlbGVtZW50KSA9PiAoe1xuICAgICAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgICAgIGxpbms6IGhhc0xpbmtUb1BhZ2UoZWxlbWVudCwgZnJvbSkgPyB0by5saW5rIDogZWxlbWVudC5saW5rLFxuICAgICAgICAgICAgcGFnZU5hbWVzOiBpc1Zpc2libGVPblBhZ2UoZWxlbWVudCwgZnJvbSkgPyBlbGVtZW50LnBhZ2VOYW1lcy5tYXAoKG5hbWUpID0+IG5hbWUgPT09IGZyb20uaWQgPyB0by5pZCA6IG5hbWUpIDogZWxlbWVudC5wYWdlTmFtZXMsXG4gICAgICAgICAgfSkpXG4gICAgICAgIC8vIGhhbmRsZSBsaW5rcyBpbiB0ZXh0c1xuICAgICAgICBjb25zdCB1cGRhdGVEb20gPSBbXVxuICAgICAgICBjb25zdCBkb2MgPSBnZXRTaXRlRG9jdW1lbnQoKVxuICAgICAgICAvLyBsaW5rcyB3aGljaCBzdGFydHMgd2l0aCB0aGUgcGFnZSBsaW5rIChjb3VsZCBiZSBhbiBhbmNob3IgYWZ0ZXIgdGhlIHBhZ2UgaWQpXG4gICAgICAgIEFycmF5LmZyb20oZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoYFtocmVmPVwiJHtmcm9tLmxpbmsuaHJlZn1cIl0sIFtocmVmXj1cIiR7ZnJvbS5saW5rLmhyZWZ9I1wiXWApKVxuICAgICAgICAgIC5mb3JFYWNoKChkb21FbDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIC8vIHJlcGxhY2UgaW4gdGhlIGRvbVxuICAgICAgICAgICAgZG9tRWwuc2V0QXR0cmlidXRlKCdocmVmJywgZG9tRWwuZ2V0QXR0cmlidXRlKCdocmVmJykucmVwbGFjZShmcm9tLmxpbmsuaHJlZiwgdG8ubGluay5ocmVmKSlcbiAgICAgICAgICAgIHVwZGF0ZURvbS5wdXNoKGRvbUVsKVxuICAgICAgICAgIH0pXG4gICAgICAgIC8vIHVuaXF1ZSBET00gZWxlbWVudHMgb25seSAoYSBsaW5rIHRvIGEgcGFnZSBtYXkgYmUgaW4gYW4gZWxlbWVudCB3aGljaCBpcyB2aXNpYmxlIG9uIHRoZSBzYW1lIHBhZ2UpXG4gICAgICAgIGNvbnN0IGNoYW5nZWREb206IEhUTUxFbGVtZW50W10gPSBbLi4ubmV3IFNldCh1cGRhdGVEb20pXVxuICAgICAgICBjaGFuZ2VkRG9tLmZvckVhY2goKGRvbUVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGluIHRoZSBtb2RlbFxuICAgICAgICAgICAgY29uc3QgW3NpbGV4RWwsIHNpbGV4RG9tRWxdOiBbRWxlbWVudFN0YXRlLCBIVE1MRWxlbWVudF0gPSBnZXRTaWxleEVsZW1lbnQoZG9jLCBkb21FbCwgZWxlbWVudHMpXG4gICAgICAgICAgICBpZiAoISFzaWxleEVsICYmIChzaWxleEVsLnR5cGUgPT09IEVsZW1lbnRUeXBlLkhUTUwgfHwgc2lsZXhFbC50eXBlID09PSBFbGVtZW50VHlwZS5URVhUKSkge1xuICAgICAgICAgICAgICAvLyB1bmlxdWUgRE9NIGVsZW1lbnRzIG9ubHkgKHNldmVyYWwgbGlua3MgbWF5IGJlIGluIHRoZSBzYW1lIHNpbGV4IGVsZW1lbnQpXG4gICAgICAgICAgICAgIGNvbnN0IGZvdW5kOiBFbGVtZW50U3RhdGUgPSB1cGRhdGVFbC5maW5kKChlbDogRWxlbWVudFN0YXRlKSA9PiBlbC5pZCA9PT0gc2lsZXhFbC5pZClcbiAgICAgICAgICAgICAgaWYgKCEhZm91bmQpIHtcbiAgICAgICAgICAgICAgICAvLyBtdXRhdGUgdGhlIG9iamVjdFxuICAgICAgICAgICAgICAgIGZvdW5kLmlubmVySHRtbCA9IGdldElubmVySHRtbChzaWxleERvbUVsKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUVsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgLi4uc2lsZXhFbCxcbiAgICAgICAgICAgICAgICAgIGlubmVySHRtbDogZ2V0SW5uZXJIdG1sKHNpbGV4RG9tRWwpLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICBpZiAodXBkYXRlRWwubGVuZ3RoKSB7XG4gICAgICAgICAgdXBkYXRlRWxlbWVudHModXBkYXRlRWwsIGRpc3BhdGNoKVxuICAgICAgICB9XG4gICAgICB9LCAwKVxuXG4gICAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgcGFnZSB3aXRoIHRoZSBuZXcgcGFnZSBpZFxuICAgICAgaWYgKGZyb20uaWQgPT09IGdldFVpKCkuY3VycmVudFBhZ2VJZCkge1xuICAgICAgICB1cGRhdGVVaSh7XG4gICAgICAgICAgLi4uZ2V0VWkoKSxcbiAgICAgICAgICBjdXJyZW50UGFnZUlkOiB0by5pZCxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLy8gc2F2ZSB0aGUgY2hhbmdlZCBkYXRhIHRvIHRoZSBkb20gZm9yIGZyb250LWVuZC5qc1xuICB3cml0ZURhdGFUb0RvbShnZXRTaXRlRG9jdW1lbnQoKSwgZ2V0U3RhdGUoKSlcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBzaWxleCBlbGVtZW50IHdoaWNoIGNvbnRhbmlzIHRoZSBIVE1MIERPTSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldFNpbGV4RWxlbWVudChkb2M6IEhUTUxEb2N1bWVudCwgZG9tRWw6IEhUTUxFbGVtZW50LCBlbGVtZW50czogRWxlbWVudFN0YXRlW10pOiBbRWxlbWVudFN0YXRlLCBIVE1MRWxlbWVudF0ge1xuICAvLyBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIGRvbVxuICAvLyB3aGljaCBpcyBhIHNpbGV4IGVsZW1lbnRcbiAgbGV0IHRtcDogSFRNTEVsZW1lbnQgPSBkb21FbFxuICBkbyB7XG4gICAgY29uc3QgYmVUaGVPbmU6IEVsZW1lbnRTdGF0ZSA9IGdldEVsZW1lbnRCeURvbUVsZW1lbnQoZG9jLCB0bXAsIGVsZW1lbnRzKVxuICAgIGlmIChiZVRoZU9uZSkgcmV0dXJuIFtiZVRoZU9uZSwgdG1wXVxuICAgICAgdG1wID0gdG1wLnBhcmVudEVsZW1lbnRcbiAgfSB3aGlsZSAodG1wKVxuXG4gIHJldHVybiBbbnVsbCwgbnVsbF1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBTaXRlIGRvbSBtYW5pcHVsYXRpb24uIENyb3NzIHBsYXRmb3JtLCBpdCBuZWVkcyB0byBydW4gY2xpZW50IGFuZCBzZXJ2ZXIgc2lkZVxuICpcbiAqL1xuXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBGb250IH0gZnJvbSAnLi90eXBlcydcblxuLyoqXG4gKiBzZXQvZ2V0IHNpbGV4IGVkaXRhYmxlIGpzIHNjcmlwdFxuICogQHBhcmFtIGpzU3RyaW5nICAgdGhlIHN0cmluZyBkZWZpbmluZyBTaWxleCBzY3JpcHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhlYWRTY3JpcHQoZG9jOiBIVE1MRG9jdW1lbnQsIGpzU3RyaW5nOiBzdHJpbmcpIHtcbiAgbGV0IHNjcmlwdFRhZyA9IGRvYy5oZWFkLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQ29uc3RhbnRzLlNJTEVYX1NDUklQVF9FTEVNRU5UX0NTU19DTEFTUykgYXMgSFRNTFNjcmlwdEVsZW1lbnRcbiAgaWYgKCFzY3JpcHRUYWcpIHtcbiAgICBzY3JpcHRUYWcgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbiAgICBzY3JpcHRUYWcudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnXG4gICAgc2NyaXB0VGFnLmNsYXNzTmFtZSA9IENvbnN0YW50cy5TSUxFWF9TQ1JJUFRfRUxFTUVOVF9DU1NfQ0xBU1NcbiAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRUYWcpXG4gIH1cbiAgc2NyaXB0VGFnLmlubmVySFRNTCA9IGpzU3RyaW5nXG59XG5cbi8qKlxuICogc2V0L2dldCBzaWxleCBlZGl0YWJsZSBjc3Mgc3R5bGVzXG4gKiBAcGFyYW0gY3NzU3RyaW5nICAgdGhlIGNzcyBzdHJpbmcgZGVmaW5pbmcgYWxsIFNpbGV4IHN0eWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGVhZFN0eWxlKGRvYzogSFRNTERvY3VtZW50LCBjc3NTdHJpbmc6IHN0cmluZykge1xuICBsZXQgc2lsZXhTdHlsZSA9IGRvYy5oZWFkLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQ29uc3RhbnRzLlNJTEVYX1NUWUxFX0VMRU1FTlRfQ1NTX0NMQVNTKSBhcyBIVE1MU3R5bGVFbGVtZW50XG4gIGlmICghc2lsZXhTdHlsZSkge1xuICAgIHNpbGV4U3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICAgIHNpbGV4U3R5bGUuY2xhc3NOYW1lID0gQ29uc3RhbnRzLlNJTEVYX1NUWUxFX0VMRU1FTlRfQ1NTX0NMQVNTXG4gICAgZG9jLmhlYWQuYXBwZW5kQ2hpbGQoc2lsZXhTdHlsZSlcbiAgfVxuICBzaWxleFN0eWxlLmlubmVySFRNTCA9IGNzc1N0cmluZ1xufVxuXG4vKipcbiAqIGdldC9zZXQgYSBtZXRhIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE1ldGEoZG9jOiBIVE1MRG9jdW1lbnQsIG5hbWU6IHN0cmluZywgb3B0X3ZhbHVlOiBzdHJpbmcsIG9wdF9wcm9wZXJ0eU9yTmFtZTogc3RyaW5nPSdwcm9wZXJ0eScpIHtcbiAgLy8gdXBkYXRlIHRoZSBET00gZWxlbWVudFxuICBsZXQgbWV0YU5vZGUgPSBkb2MucXVlcnlTZWxlY3RvcihgbWV0YVske29wdF9wcm9wZXJ0eU9yTmFtZX09XCIke25hbWV9XCJdLCBtZXRhW25hbWU9XCIke25hbWV9XCJdYCkgYXMgSFRNTE1ldGFFbGVtZW50IC8vIGFkZGl0aW9uYWwgYG1ldGFbbmFtZT1cIiR7bmFtZX1dXCJgIGlzIGZvciBiYWNrd2FyZCBjb21wYXRcbiAgaWYgKCFtZXRhTm9kZSAmJiBvcHRfdmFsdWUgJiYgb3B0X3ZhbHVlICE9PSAnJykge1xuICAgIC8vIGNyZWF0ZSB0aGUgRE9NIGVsZW1lbnRcbiAgICBtZXRhTm9kZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdtZXRhJylcbiAgICBtZXRhTm9kZS5zZXRBdHRyaWJ1dGUob3B0X3Byb3BlcnR5T3JOYW1lLCBuYW1lKVxuICAgIG1ldGFOb2RlLmNvbnRlbnQgPSBvcHRfdmFsdWVcbiAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChtZXRhTm9kZSlcbiAgfSBlbHNlIHtcbiAgICBpZiAob3B0X3ZhbHVlICYmIG9wdF92YWx1ZSAhPT0gJycpIHtcbiAgICAgIC8vIHVwZGF0ZSBvcHRfdmFsdWVcbiAgICAgIG1ldGFOb2RlLnNldEF0dHJpYnV0ZSgnY29udGVudCcsIG9wdF92YWx1ZSlcbiAgICAgIG1ldGFOb2RlLnJlbW92ZUF0dHJpYnV0ZSgnbmFtZScpIC8vIGZvciBiYWNrd2FyZCBjb21wYXRcbiAgICAgIG1ldGFOb2RlLnNldEF0dHJpYnV0ZShvcHRfcHJvcGVydHlPck5hbWUsIG5hbWUpIC8vIGZvciBiYWNrd2FyZCBjb21wYXRcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVtb3ZlIHRoZSBvcHRfdmFsdWVcbiAgICAgIGlmIChtZXRhTm9kZSkgeyBtZXRhTm9kZS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKG1ldGFOb2RlKSB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogZW5hYmxlL2Rpc2FibGUgdGhlIG1vYmlsZSB2ZXJzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRFbmFibGVNb2JpbGUoZG9jOiBIVE1MRG9jdW1lbnQsIGVuYWJsZTogYm9vbGVhbikge1xuICBpZiAoZG9jLmJvZHkgPT09IG51bGwpIHtcbiAgICAvLyBib2R5IGlzIG51bGwsIHRoaXMgaGFwcGVucyB3aGlsZSB1bmRvaW5nIG9yIHJlZG9pbmdcbiAgICByZXR1cm5cbiAgfVxuICBsZXQgdmlld3BvcnQgPSBkb2MucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPXZpZXdwb3J0XScpIGFzIEhUTUxNZXRhRWxlbWVudFxuICBpZiAoZW5hYmxlID09PSB0cnVlKSB7XG4gICAgZG9jLmJvZHkuY2xhc3NMaXN0LmFkZChDb25zdGFudHMuRU5BQkxFX01PQklMRV9DU1NfQ0xBU1MpXG4gICAgaWYgKCF2aWV3cG9ydCkge1xuICAgICAgdmlld3BvcnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnbWV0YScpIGFzIEhUTUxNZXRhRWxlbWVudFxuICAgICAgdmlld3BvcnQubmFtZSA9ICd2aWV3cG9ydCdcbiAgICAgIHZpZXdwb3J0LmNvbnRlbnQgPSAnd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEnXG4gICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZCh2aWV3cG9ydClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZG9jLmJvZHkuY2xhc3NMaXN0LnJlbW92ZShDb25zdGFudHMuRU5BQkxFX01PQklMRV9DU1NfQ0xBU1MpXG4gICAgaWYgKHZpZXdwb3J0KSB7XG4gICAgICBkb2MuaGVhZC5yZW1vdmVDaGlsZCh2aWV3cG9ydClcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBnZXQvc2V0IHRoZSB3ZWJzaXRlIHdpZHRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRXZWJzaXRlV2lkdGhJbkRvbShkb2M6IEhUTUxEb2N1bWVudCwgd2lkdGg6IG51bWJlcikge1xuICBsZXQgc2lsZXhTdHlsZSA9IGRvYy5oZWFkLnF1ZXJ5U2VsZWN0b3IoJy5zaWxleC1zdHlsZS1zZXR0aW5ncycpIGFzIEhUTUxTdHlsZUVsZW1lbnRcbiAgaWYgKCFzaWxleFN0eWxlKSB7XG4gICAgc2lsZXhTdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgc2lsZXhTdHlsZS5jbGFzc05hbWUgPSAnc2lsZXgtc3R5bGUtc2V0dGluZ3MnXG4gICAgZG9jLmhlYWQuYXBwZW5kQ2hpbGQoc2lsZXhTdHlsZSlcbiAgfVxuICBzaWxleFN0eWxlLmlubmVySFRNTCA9IGBcbiAgLiR7Q29uc3RhbnRzLldFQlNJVEVfV0lEVEhfQ0xBU1NfTkFNRX0ge1xuICAgIHdpZHRoOiAke3dpZHRofXB4O1xuICB9XG4gIEBtZWRpYSAobWluLXdpZHRoOiAke0NvbnN0YW50cy5NT0JJTEVfQlJFQUtQT0lOVCsxfXB4KSB7XG4gICAgLnNpbGV4LWVkaXRvciB7XG4gICAgICBtaW4td2lkdGg6ICR7d2lkdGggKyAyMDB9cHg7XG4gICAgfVxuICB9XG5gXG59XG5cbi8qKlxuICogZ2V0L3NldCB0aGUgZGVzY3JpcHRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlc2NyaXB0aW9uKGRvYzogSFRNTERvY3VtZW50LCBvcHRfZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgc2V0TWV0YShkb2MsICdkZXNjcmlwdGlvbicsIG9wdF9kZXNjcmlwdGlvbilcbn1cblxuLyoqXG4gKiB3ZWJzaXRlIHRpdGxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUaXRsZShkb2M6IEhUTUxEb2N1bWVudCwgbmFtZTogc3RyaW5nKSB7XG4gIC8vIGZpbmQgb3IgY3JlYXRlIHRoZSB0aXRsZSB0YWcgaW4gdGhlIGhlYWQgc2VjdGlvblxuICBsZXQgdGl0bGVOb2RlID0gZG9jLmhlYWQucXVlcnlTZWxlY3RvcigndGl0bGUnKSBhcyBIVE1MVGl0bGVFbGVtZW50XG4gIGlmICghdGl0bGVOb2RlKSB7XG4gICAgdGl0bGVOb2RlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RpdGxlJylcbiAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZCh0aXRsZU5vZGUpXG4gIH1cblxuICAvLyB1cGRhdGUgd2Vic2l0ZSB0aXRsZVxuICB0aXRsZU5vZGUuaW5uZXJIVE1MID0gbmFtZSB8fCAnJ1xufVxuXG4vKipcbiAqIHdlYnNpdGUgZGVmYXVsdCB3ZWJzaXRlIGxhbmd1YWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMYW5nKGRvYzogSFRNTERvY3VtZW50LCBuYW1lOiBzdHJpbmcpIHtcbiAgZG9jLnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5sYW5nID1cbiAgICAgIG5hbWUgfHwgJydcbn1cblxuLyoqXG4gKiB3ZWJzaXRlIGZhdmljb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEZhdmljb25QYXRoKGRvYzogSFRNTERvY3VtZW50LCBvcHRfcGF0aD86IHN0cmluZykge1xuICBsZXQgZmF2aWNvblRhZyA9XG4gICAgICBkb2MuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD1cInNob3J0Y3V0IGljb25cIl0nKVxuICBpZiAoIWZhdmljb25UYWcpIHtcbiAgICBpZiAob3B0X3BhdGgpIHtcbiAgICBmYXZpY29uVGFnID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKVxuICAgIGZhdmljb25UYWcuc2V0QXR0cmlidXRlKCdocmVmJywgb3B0X3BhdGgpXG4gICAgZmF2aWNvblRhZy5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdzaG9ydGN1dCBpY29uJylcbiAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChmYXZpY29uVGFnKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoIW9wdF9wYXRoKSB7XG4gICAgICBmYXZpY29uVGFnLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZmF2aWNvblRhZylcbiAgICB9XG4gIH1cbiAgaWYgKG9wdF9wYXRoKSB7XG4gICAgLy8gdXBkYXRlIHdlYnNpdGUgdGl0bGVcbiAgICBmYXZpY29uVGFnLnNldEF0dHJpYnV0ZSgnaHJlZicsIG9wdF9wYXRoKVxuICB9XG59XG5cbi8qKlxuICogZ2V0L3NldCB0aGUgdGl0bGUgZm9yIHNvY2lhbCBuZXR3b3Jrc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VGl0bGVTb2NpYWwoZG9jOiBIVE1MRG9jdW1lbnQsIG9wdF9kYXRhPzogc3RyaW5nKSB7XG4gIHNldE1ldGEoZG9jLCAndHdpdHRlcjpjYXJkJywgb3B0X2RhdGEgPyAnc3VtbWFyeV9sYXJnZV9pbWFnZScgOiAnJywgJ25hbWUnKVxuICBzZXRNZXRhKGRvYywgJ29nOnR5cGUnLCBvcHRfZGF0YSA/ICd3ZWJzaXRlJyA6ICcnKVxuICBzZXRNZXRhKGRvYywgJ3R3aXR0ZXI6dGl0bGUnLCBvcHRfZGF0YSlcbiAgc2V0TWV0YShkb2MsICdvZzp0aXRsZScsIG9wdF9kYXRhKVxufVxuXG4vKipcbiAqIGdldC9zZXQgdGhlIGRlc2NyaXB0aW9uIGZvciBzb2NpYWwgbmV0d29ya3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlc2NyaXB0aW9uU29jaWFsKGRvYzogSFRNTERvY3VtZW50LCBvcHRfZGF0YT86IHN0cmluZykge1xuICBzZXRNZXRhKGRvYywgJ3R3aXR0ZXI6Y2FyZCcsIG9wdF9kYXRhID8gJ3N1bW1hcnknIDogJycpXG4gIHNldE1ldGEoZG9jLCAndHdpdHRlcjpkZXNjcmlwdGlvbicsIG9wdF9kYXRhKVxuICBzZXRNZXRhKGRvYywgJ29nOmRlc2NyaXB0aW9uJywgb3B0X2RhdGEpXG59XG5cbi8qKlxuICogZ2V0L3NldCB0aGUgdGh1bWJuYWlsIGltYWdlIGZvciBzb2NpYWwgbmV0d29ya3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRodW1ibmFpbFNvY2lhbFBhdGgoZG9jOiBIVE1MRG9jdW1lbnQsIG9wdF9wYXRoPzogc3RyaW5nKSB7XG4gIHNldE1ldGEoZG9jLCAndHdpdHRlcjpjYXJkJywgb3B0X3BhdGggPyAnc3VtbWFyeScgOiAnJylcbiAgc2V0TWV0YShkb2MsICd0d2l0dGVyOmltYWdlJywgb3B0X3BhdGgpXG4gIHNldE1ldGEoZG9jLCAnb2c6aW1hZ2UnLCBvcHRfcGF0aClcbn1cblxuLyoqXG4gKiBnZXQvc2V0IHRoZSB0d2l0dGVyIGFjY291bnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFR3aXR0ZXJTb2NpYWwoZG9jOiBIVE1MRG9jdW1lbnQsIG9wdF9kYXRhPzogc3RyaW5nKSB7XG4gIHNldE1ldGEoZG9jLCAndHdpdHRlcjpjYXJkJywgb3B0X2RhdGEgPyAnc3VtbWFyeScgOiAnJylcbiAgc2V0TWV0YShkb2MsICd0d2l0dGVyOnNpdGUnLCBvcHRfZGF0YSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEZvbnRzKGRvYzogSFRNTERvY3VtZW50LCBmb250czogRm9udFtdKSB7XG4gIC8vIHJlbW92ZSBhbGwgZm9udHNcbiAgQXJyYXkuZnJvbShkb2MuaGVhZC5xdWVyeVNlbGVjdG9yQWxsKGBsaW5rLiR7Q29uc3RhbnRzLkNVU1RPTV9GT05UU19DU1NfQ0xBU1N9YCkpXG4gICAgLmZvckVhY2goKHRhZykgPT4ge1xuICAgICAgdGFnLnJlbW92ZSgpXG4gICAgfSlcblxuICAvLyBhZGQgbmV3IGZvbnRzXG4gIGZvbnRzXG4gICAgLmZvckVhY2goKGZvbnQpID0+IHtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2MuY3JlYXRlRWxlbWVudCgnbGluaycpXG4gICAgICBsaW5rLmhyZWYgPSBmb250LmhyZWZcbiAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnXG4gICAgICBsaW5rLmNsYXNzTmFtZSA9IENvbnN0YW50cy5DVVNUT01fRk9OVFNfQ1NTX0NMQVNTXG4gICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChsaW5rKVxuICAgIH0pXG59XG4iLCJpbXBvcnQgeyBEYXRhU291cmNlcywgU2l0ZVN0YXRlIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgZ2V0U2l0ZURvY3VtZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9TaXRlRnJhbWUnXG5pbXBvcnQgeyBnZXRTdGF0ZSB9IGZyb20gJy4uL3N0b3JlL2luZGV4J1xuaW1wb3J0IHsgc2V0RGVzY3JpcHRpb24sIHNldERlc2NyaXB0aW9uU29jaWFsLCBzZXRFbmFibGVNb2JpbGUsIHNldEZhdmljb25QYXRoLCBzZXRGb250cywgc2V0SGVhZFNjcmlwdCwgc2V0SGVhZFN0eWxlLCBzZXRMYW5nLCBzZXRUaHVtYm5haWxTb2NpYWxQYXRoLCBzZXRUaXRsZSwgc2V0VGl0bGVTb2NpYWwsIHNldFR3aXR0ZXJTb2NpYWwsIHNldFdlYnNpdGVXaWR0aEluRG9tIH0gZnJvbSAnLi4vc2l0ZS1zdG9yZS9kb20nXG5pbXBvcnQgeyBzZXRTdHlsZVRvRG9tIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9jb21wb25lbnQnXG5pbXBvcnQgeyB3cml0ZURhdGFUb0RvbSB9IGZyb20gJy4uL3N0b3JlL2RvbSdcbmltcG9ydCAqIGFzIG9iamVjdFBhdGggZnJvbSAnLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1wYXRoL2luZGV4LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gb25DaGFuZ2VTaXRlKHByZXY6IFNpdGVTdGF0ZSwgc2l0ZTogU2l0ZVN0YXRlKSB7XG4gIGNvbnN0IGRvYyA9IGdldFNpdGVEb2N1bWVudCgpXG4gIC8vIGhlcmUgaGVhZFVzZXIgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHdlIGRvIG5vdCB3YW50IGl0IGluIHRoZSBkb20sIGl0IHdpbGwgYmUgaW5qZWN0ZWQgYXQgc2F2ZSBvbiB0aGUgc2VydmVyIHNpZGVcbiAgaWYgKCFwcmV2IHx8IHByZXYuaGVhZFN0eWxlICE9PSBzaXRlLmhlYWRTdHlsZSkgeyBzZXRIZWFkU3R5bGUoZG9jLCBzaXRlLmhlYWRTdHlsZSkgfVxuICBpZiAoIXByZXYgfHwgcHJldi5oZWFkU2NyaXB0ICE9PSBzaXRlLmhlYWRTY3JpcHQpIHsgc2V0SGVhZFNjcmlwdChkb2MsIHNpdGUuaGVhZFNjcmlwdCkgfVxuICBpZiAoIXByZXYgfHwgcHJldi50aXRsZSAhPT0gc2l0ZS50aXRsZSkgeyBzZXRUaXRsZShkb2MsIHNpdGUudGl0bGUpIH1cbiAgaWYgKCFwcmV2IHx8IHByZXYuZGVzY3JpcHRpb24gIT09IHNpdGUuZGVzY3JpcHRpb24pIHsgc2V0RGVzY3JpcHRpb24oZG9jLCBzaXRlLmRlc2NyaXB0aW9uKSB9XG4gIGlmICghcHJldiB8fCBwcmV2LmVuYWJsZU1vYmlsZSAhPT0gc2l0ZS5lbmFibGVNb2JpbGUpIHsgc2V0RW5hYmxlTW9iaWxlKGRvYywgc2l0ZS5lbmFibGVNb2JpbGUpIH1cbiAgaWYgKCFwcmV2IHx8IHByZXYuZmF2aWNvblBhdGggIT09IHNpdGUuZmF2aWNvblBhdGgpIHsgc2V0RmF2aWNvblBhdGgoZG9jLCBzaXRlLmZhdmljb25QYXRoKSB9XG4gIGlmICghcHJldiB8fCBwcmV2LnRodW1ibmFpbFNvY2lhbFBhdGggIT09IHNpdGUudGh1bWJuYWlsU29jaWFsUGF0aCkgeyBzZXRUaHVtYm5haWxTb2NpYWxQYXRoKGRvYywgc2l0ZS50aHVtYm5haWxTb2NpYWxQYXRoKSB9XG4gIGlmICghcHJldiB8fCBwcmV2LmRlc2NyaXB0aW9uU29jaWFsICE9PSBzaXRlLmRlc2NyaXB0aW9uU29jaWFsKSB7IHNldERlc2NyaXB0aW9uU29jaWFsKGRvYywgc2l0ZS5kZXNjcmlwdGlvblNvY2lhbCkgfVxuICBpZiAoIXByZXYgfHwgcHJldi50aXRsZVNvY2lhbCAhPT0gc2l0ZS50aXRsZVNvY2lhbCkgeyBzZXRUaXRsZVNvY2lhbChkb2MsIHNpdGUudGl0bGVTb2NpYWwpIH1cbiAgaWYgKCFwcmV2IHx8IHByZXYubGFuZyAhPT0gc2l0ZS5sYW5nKSB7IHNldExhbmcoZG9jLCBzaXRlLmxhbmcpIH1cbiAgaWYgKCFwcmV2IHx8IHByZXYudHdpdHRlclNvY2lhbCAhPT0gc2l0ZS50d2l0dGVyU29jaWFsKSB7IHNldFR3aXR0ZXJTb2NpYWwoZG9jLCBzaXRlLnR3aXR0ZXJTb2NpYWwpIH1cbiAgaWYgKCFwcmV2IHx8IHByZXYuZGF0YVNvdXJjZXMgIT09IHNpdGUuZGF0YVNvdXJjZXMpIHsgbG9hZERhdGFTb3VyY2VzKHNpdGUuZGF0YVNvdXJjZXMsIHRydWUpIH1cbiAgaWYgKCFwcmV2IHx8IHByZXYuZm9udHMgIT09IHNpdGUuZm9udHMpIHsgc2V0Rm9udHMoZG9jLCBzaXRlLmZvbnRzKSB9XG4gIGlmICghcHJldiB8fCBwcmV2LndpZHRoICE9PSBzaXRlLndpZHRoKSB7XG4gICAgLy8gc3RvcmUgYSBzdHlsZSBmb3IgYWxsIHNlY3Rpb24gY29udGFpbmVyc1xuICAgIHNldFdlYnNpdGVXaWR0aEluRG9tKGRvYywgc2l0ZS53aWR0aClcbiAgfVxuICBpZighcHJldiB8fCBwcmV2LnByb2RvdHlwZURlcGVuZGVuY2llcyAhPT0gc2l0ZS5wcm9kb3R5cGVEZXBlbmRlbmNpZXMpIHtcbiAgICBjb25zdCBoZWFkID0gZ2V0U2l0ZURvY3VtZW50KCkuaGVhZFxuICAgIC8vIHJlbW92ZSBhbGwgZGVwZW5kZW5jaWVzXG4gICAgQXJyYXkuZnJvbShoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWRlcGVuZGVuY3ldJykpXG4gICAgICAuZm9yRWFjaCgodGFnOiBIVE1MRWxlbWVudCkgPT4gdGFnLnJlbW92ZSgpKVxuXG4gICAgLy8gYW5kIGFkZCB0aGVtIGJhY2tcbiAgICAvLyBOb3RlOiBwcm9kb3R5cGVEZXBlbmRlbmNpZXMgaXMgdGhlIG9iamVjdCByZXR1cm5lZCBieSBnZXREZXBlbmRlbmNpZXM6IHtcbiAgICAvLyAgIFwidGVzdC1jb21wXCI6XG4gICAgLy8gICAgIFt7XG4gICAgLy8gICAgICAgICBcInNjcmlwdFwiOiBbe1xuICAgIC8vICAgICAgICAgICAgIFwic3JjXCI6IFwiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTIuMS40Lm1pbi5qc1wiXG4gICAgLy8gICAgICAgICB9XSxcbiAgICAvLyAgICAgICAgIFwibGlua1wiOiBbe1xuICAgIC8vICAgICAgICAgICAgIFwicmVsXCI6IFwic3R5bGVzaGVldFwiLFxuICAgIC8vICAgICAgICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3Vuc2xpZGVyLzIuMC4zL2Nzcy91bnNsaWRlci5jc3NcIlxuICAgIC8vICAgICAgICAgfV1cbiAgICAvLyAgICAgfV1cbiAgICAvLyAgIH1cbiAgICAvLyAgfVxuICAgIE9iamVjdC5rZXlzKHNpdGUucHJvZG90eXBlRGVwZW5kZW5jaWVzKVxuICAgIC5mb3JFYWNoKCh0YWdOYW1lKSA9PiB7XG4gICAgICBjb25zdCBkZXBzID0gc2l0ZS5wcm9kb3R5cGVEZXBlbmRlbmNpZXNbdGFnTmFtZV1cbiAgICAgIGRlcHMuZm9yRWFjaCgoZGVwT2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSlcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLWRlcGVuZGVuY3knLCAnJylcbiAgICAgICAgT2JqZWN0LmtleXMoZGVwT2JqKVxuICAgICAgICAuZm9yRWFjaCgoYXR0ck5hbWUpID0+IHtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGRlcE9ialthdHRyTmFtZV0pXG4gICAgICAgIH0pXG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoZWwpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbiAgaWYoIXByZXYgfHwgcHJldi5zdHlsZXMgIT09IHNpdGUuc3R5bGVzKSB7XG4gICAgY29uc3QgaGVhZCA9IGdldFNpdGVEb2N1bWVudCgpLmhlYWRcblxuICAgIC8vIHJlbW92ZSBhbGwgc3R5bGVzXG4gICAgQXJyYXkuZnJvbShoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXN0eWxlLWlkXScpKVxuICAgICAgLmZvckVhY2goKHRhZzogSFRNTEVsZW1lbnQpID0+IHRhZy5yZW1vdmUoKSlcblxuICAgIC8vIGFuZCBhZGQgdGhlbSBiYWNrXG4gICAgT2JqZWN0LmtleXMoc2l0ZS5zdHlsZXMpXG4gICAgLmZvckVhY2goKGNsYXNzTmFtZSkgPT4ge1xuICAgICAgY29uc3Qgc3R5bGVEYXRhID0gc2l0ZS5zdHlsZXNbY2xhc3NOYW1lXVxuICAgICAgT2JqZWN0LmtleXMoc3R5bGVEYXRhLnN0eWxlcylcbiAgICAgIC5mb3JFYWNoKCh2aXNpYmlsaXR5KSA9PiB7XG4gICAgICAgIGNvbnN0IHZpc2liaWxpdHlEYXRhID0gc3R5bGVEYXRhLnN0eWxlc1t2aXNpYmlsaXR5XVxuICAgICAgICBPYmplY3Qua2V5cyh2aXNpYmlsaXR5RGF0YSlcbiAgICAgICAgLmZvckVhY2goKHBzZXVkb0NsYXNzTmFtZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBzZXVkb0NsYXNzRGF0YSA9IHZpc2liaWxpdHlEYXRhW3BzZXVkb0NsYXNzTmFtZV1cbiAgICAgICAgICBzZXRTdHlsZVRvRG9tKGdldFNpdGVEb2N1bWVudCgpLCBjbGFzc05hbWUsIHBzZXVkb0NsYXNzTmFtZSwgdmlzaWJpbGl0eSwgcHNldWRvQ2xhc3NEYXRhLCBzdHlsZURhdGEuZGlzcGxheU5hbWUpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbiAgLy8gc2F2ZSBkYXRhIHRvIHRoZSBkb20gZm9yIGZyb250LWVuZC5qc1xuICB3cml0ZURhdGFUb0RvbShkb2MsIGdldFN0YXRlKCkpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWREYXRhU291cmNlcyhkYXRhU291cmNlczogRGF0YVNvdXJjZXMsIHJlbG9hZCk6IFByb21pc2U8RGF0YVNvdXJjZXM+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhU291cmNlc0Nsb25lID0geyAuLi5kYXRhU291cmNlcyB9XG4gICAgcmV0dXJuIChhd2FpdCBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhkYXRhU291cmNlc0Nsb25lKS5tYXAoYXN5bmMgKG5hbWUpID0+IHtcbiAgICAgIGNvbnN0IGRhdGFTb3VyY2UgPSBkYXRhU291cmNlc0Nsb25lW25hbWVdXG4gICAgICBpZiAocmVsb2FkIHx8ICFkYXRhU291cmNlLmRhdGEgfHwgIWRhdGFTb3VyY2Uuc3RydWN0dXJlKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGRhdGFTb3VyY2UuaHJlZilcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgY29uc3Qgcm9vdCA9IG9iamVjdFBhdGguZ2V0KGRhdGEsIGRhdGFTb3VyY2Uucm9vdClcbiAgICAgICAgY29uc3QgZmlyc3QgPSBvYmplY3RQYXRoLmdldChyb290LCAnMCcpXG4gICAgICAgIGRhdGFTb3VyY2UuZGF0YSA9IGRhdGFcbiAgICAgICAgZGF0YVNvdXJjZS5zdHJ1Y3R1cmUgPSB7fVxuICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhmaXJzdCkuZm9yRWFjaCgoa2V5KSA9PiBkYXRhU291cmNlLnN0cnVjdHVyZVtrZXldID0gZ2V0RGF0YVNvdXJjZVR5cGUoZmlyc3Rba2V5XSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtuYW1lLCBkYXRhU291cmNlfVxuICAgICAgfVxuICAgIH0pKSkucmVkdWNlKChwcmV2LCBjdXIpID0+IHByZXZbY3VyLm5hbWVdID0gY3VyLmRhdGFTb3VyY2UsIHt9KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgbG9hZCBkYXRhIHNvdXJjZXMnLCBlcnIpXG4gICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdFcnJvcicsIGBUaGVyZSB3YXMgYW4gZXJyb3IgbG9hZGluZyB0aGUgZGF0YSBzb3VyY2VzOiAke2Vycn1gLCAoKSA9PiB7IHRocm93IGVyciB9KVxuICB9XG59XG5mdW5jdGlvbiBnZXREYXRhU291cmNlVHlwZSh2YWx1ZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyAnYXJyYXknIDogdHlwZW9mKHZhbHVlKVxufVxuIiwiaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBVaVN0YXRlLCBMT0FESU5HIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGdldEJvZHksIGdldFNlbGVjdGVkRWxlbWVudHMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQgeyBnZXRDdXJyZW50UGFnZSB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldFNpdGUgfSBmcm9tICcuLi9zaXRlLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0U2l0ZUlGcmFtZSwgZ2V0U2l0ZVdpbmRvdyB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2l0ZUZyYW1lJ1xuaW1wb3J0IHsgb3BlblBhZ2VEb20gfSBmcm9tICcuLi9wYWdlLXN0b3JlL2RvbSdcbmltcG9ydCB7IHVwZGF0ZUVsZW1lbnRzIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ2hhbmdlVWkocHJldjogVWlTdGF0ZSwgdWk6IFVpU3RhdGUpIHtcbiAgaWYgKHVpLm1vYmlsZUVkaXRvcikge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChDb25zdGFudHMuTU9CSUxFX01PREVfQ1NTX0NMQVNTKVxuICAgIGlmICghZ2V0U2l0ZSgpLmVuYWJsZU1vYmlsZSkge1xuICAgICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdNb2JpbGUgZWRpdG9yIHdhcm5pbmcnLCBgXG4gICAgICAgIFdhcm5pbmc6IHlvdSBhcmUgZW50ZXJpbmcgdGhlIG1vYmlsZSBlZGl0b3IsIGJ1dCB5b3VyIHdlYnNpdGUgaXMgbm90IGNvbmZpZ3VyZWQgdG8gc3VwcG9ydCBpdCxcbiAgICAgICAgc28geW91IG5lZWQgdG8gb3BlbiB0aGUgbWVudSBcIkZpbGVcIiwgdGhlbiBcIlNldHRpbmdzXCIgYW5kIFwiRW5hYmxlIG1vYmlsZSB2ZXJzaW9uXCIuXG4gICAgICBgLCAoKSA9PiB7fSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKENvbnN0YW50cy5NT0JJTEVfTU9ERV9DU1NfQ0xBU1MpXG4gIH1cblxuICBzd2l0Y2ggKHVpLmxvYWRpbmcpIHtcbiAgICBjYXNlIExPQURJTkcuU0lMRVg6XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLkxPQURJTkdfU0lMRVhfQ1NTX0NMQVNTKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIExPQURJTkcuV0VCU0lURTpcbiAgICAgIGdldFNpdGVJRnJhbWUoKS5jbGFzc0xpc3QuYWRkKENvbnN0YW50cy5MT0FESU5HX1NJVEVfQ1NTX0NMQVNTKVxuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgZ2V0U2l0ZUlGcmFtZSgpLmNsYXNzTGlzdC5yZW1vdmUoQ29uc3RhbnRzLkxPQURJTkdfU0lURV9DU1NfQ0xBU1MpXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoQ29uc3RhbnRzLkxPQURJTkdfU0lMRVhfQ1NTX0NMQVNTKVxuICB9XG5cbiAgaWYgKHByZXYgJiYgcHJldi5jdXJyZW50UGFnZUlkICE9PSB1aS5jdXJyZW50UGFnZUlkKSB7XG4gICAgLy8gb3BlbiB0aGUgbmV3IGN1cnJlbnQgcGFnZVxuICAgIG9wZW5QYWdlRG9tKGdldFNpdGVXaW5kb3coKSwgZ2V0Q3VycmVudFBhZ2UoKSlcblxuICAgIC8vIEZJWE1FOiBvYnNlcnZlciBzaG91bGQgbm90IHVwZGF0ZSBzdG9yZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZ2V0U2VsZWN0ZWRFbGVtZW50cygpXG4gICAgICBjb25zdCB0b0Rlc2VsZWN0ID0gc2VsZWN0aW9uXG4gICAgICAgIC5maWx0ZXIoKGVsKSA9PiAhIWVsLnBhZ2VOYW1lcy5sZW5ndGggJiYgIWVsLnBhZ2VOYW1lcy5pbmNsdWRlcyh1aS5jdXJyZW50UGFnZUlkKSlcbiAgICAgICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAgICAgLi4uZWwsXG4gICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICB9KSlcbiAgICAgIHVwZGF0ZUVsZW1lbnRzKHRvRGVzZWxlY3RcbiAgICAgICAgLmNvbmNhdCh0b0Rlc2VsZWN0Lmxlbmd0aCA9PT0gc2VsZWN0aW9uLmxlbmd0aCA/IFt7XG4gICAgICAgICAgLi4uZ2V0Qm9keSgpLFxuICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICAgICAgICB9XSA6IFtdKSlcbiAgICB9LCAwKVxuICB9XG59XG4iLCJpbXBvcnQgeyBvbkFkZEVsZW1lbnRzLCBvbkRlbGV0ZUVsZW1lbnRzLCBvblVwZGF0ZUVsZW1lbnRzIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9vYnNlcnZlcidcbmltcG9ydCB7IHN1YnNjcmliZUVsZW1lbnRzIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IEVsZW1lbnRTdGF0ZSB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBvbkFkZFBhZ2VzLCBvbkRlbGV0ZVBhZ2VzLCBvblVwZGF0ZVBhZ2VzIH0gZnJvbSAnLi4vcGFnZS1zdG9yZS9vYnNlcnZlcidcbmltcG9ydCB7IHN1YnNjcmliZVBhZ2VzIH0gZnJvbSAnLi4vcGFnZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IFBhZ2VTdGF0ZSB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBvbkNoYW5nZVNpdGUgfSBmcm9tICcuLi9zaXRlLXN0b3JlL29ic2VydmVyJ1xuaW1wb3J0IHsgc3Vic2NyaWJlU2l0ZSB9IGZyb20gJy4uL3NpdGUtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBvbkNoYW5nZVVpIH0gZnJvbSAnLi4vdWktc3RvcmUvb2JzZXJ2ZXInXG5pbXBvcnQgeyBzdWJzY3JpYmVVaSB9IGZyb20gJy4uL3VpLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgb25DcnVkQ2hhbmdlIH0gZnJvbSAnLi9jcnVkLXN0b3JlJ1xuaW1wb3J0IHsgZ2V0U2l0ZVdpbmRvdyB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2l0ZUZyYW1lJ1xuXG4vLyBhICdwcmV2ZW50RGVmYXVsdCctbGlrZSBtZWNoYW5pc20gdG8gYXZvaWQgY2hhbmdpbmcgdGhlIGRvbSB3aGVuIHBvcHVsYXRpbmcgdGhlIG1vZGVsXG5sZXQgc3RvcGVkID0gdHJ1ZVxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2JzZXJ2ZXJzKCkge1xuICBzdG9wZWQgPSBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcE9ic2VydmVycygpIHtcbiAgc3RvcGVkID0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBub3RXaGVuU3RvcHBlZDxBLCBCPihjYms6ICguLi5hcmdzOiBBW10pID0+IEIpOiAoKC4uLmFyZ3M6IEFbXSkgPT4gQikge1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIXN0b3BlZCkge1xuICAgICAgcmV0dXJuIGNiayguLi5hcmdzKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdE9ic2VydmVycygpIHtcbiAgLy8gc3Vic2NyaWJlIHRoZSBvYnNlcnZlciB0byB0aGUgbW9kZWxcbiAgc3Vic2NyaWJlRWxlbWVudHMob25DcnVkQ2hhbmdlPEVsZW1lbnRTdGF0ZT4oe1xuICAgIG9uQWRkOiBub3RXaGVuU3RvcHBlZChvbkFkZEVsZW1lbnRzKGdldFNpdGVXaW5kb3coKSkpLFxuICAgIG9uRGVsZXRlOiBub3RXaGVuU3RvcHBlZChvbkRlbGV0ZUVsZW1lbnRzKGdldFNpdGVXaW5kb3coKSkpLFxuICAgIG9uVXBkYXRlOiBub3RXaGVuU3RvcHBlZChvblVwZGF0ZUVsZW1lbnRzKGdldFNpdGVXaW5kb3coKSkpLFxuICB9KSlcblxuICBzdWJzY3JpYmVQYWdlcyhvbkNydWRDaGFuZ2U8UGFnZVN0YXRlPih7XG4gICAgb25BZGQ6IG5vdFdoZW5TdG9wcGVkKG9uQWRkUGFnZXMpLFxuICAgIG9uRGVsZXRlOiBub3RXaGVuU3RvcHBlZChvbkRlbGV0ZVBhZ2VzKSxcbiAgICBvblVwZGF0ZTogbm90V2hlblN0b3BwZWQob25VcGRhdGVQYWdlcyksXG4gIH0pKVxuXG4gIHN1YnNjcmliZVNpdGUobm90V2hlblN0b3BwZWQob25DaGFuZ2VTaXRlKSlcblxuICBzdWJzY3JpYmVVaShub3RXaGVuU3RvcHBlZChvbkNoYW5nZVVpKSlcblxuICBzdGFydE9ic2VydmVycygpXG59XG5cbiIsImltcG9ydCB7IENsb3VkU3RvcmFnZSwgRmlsZUluZm8gfSBmcm9tICcuL2lvL0Nsb3VkU3RvcmFnZSdcbmltcG9ydCB7IEZpbGVFeHBsb3JlciB9IGZyb20gJy4vY29tcG9uZW50cy9kaWFsb2cvRmlsZUV4cGxvcmVyJ1xuaW1wb3J0IHsgTE9BRElORyB9IGZyb20gJy4vdWktc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgUGVyc2lzdGFudERhdGEgfSBmcm9tICcuL3N0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgUHJvdmlkZXIsIFB1YmxpY2F0aW9uT3B0aW9ucyB9IGZyb20gJy4vc2l0ZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IFNpbGV4VGFza3MgfSBmcm9tICcuL2lvL1NpbGV4VGFza3MnXG5pbXBvcnQgeyBhZGRUb0xhdGVzdEZpbGVzIH0gZnJvbSAnLi9pby9sYXRlc3QtZmlsZXMnXG5pbXBvcnQgeyBjbG9zZVB1Ymxpc2hEaWFsb2csIG9wZW5QdWJsaXNoRGlhbG9nLCBzdGFydFB1Ymxpc2ggfSBmcm9tICcuL2NvbXBvbmVudHMvZGlhbG9nL1B1Ymxpc2hEaWFsb2cnXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL0NsaWVudENvbmZpZydcbmltcG9ydCB7IGZyb21FbGVtZW50RGF0YSB9IGZyb20gJy4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGZyb21QYWdlRGF0YSB9IGZyb20gJy4vcGFnZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldEh0bWwsIGdldFNpdGVEb2N1bWVudCwgc2V0SHRtbCB9IGZyb20gJy4vY29tcG9uZW50cy9TaXRlRnJhbWUnXG5pbXBvcnQgeyBnZXRTaXRlLCB1cGRhdGVTaXRlIH0gZnJvbSAnLi9zaXRlLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0U3RhdGUgfSBmcm9tICcuL3N0b3JlL2luZGV4J1xuaW1wb3J0IHsgaW5pdENzc0VkaXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9kaWFsb2cvQ3NzRWRpdG9yJ1xuaW1wb3J0IHsgaW5pdEh0bWxFZGl0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvZGlhbG9nL0h0bWxFZGl0b3InXG5pbXBvcnQgeyBpbml0SnNFZGl0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvZGlhbG9nL0pzRWRpdG9yJ1xuaW1wb3J0IHsgaW5pdGlhbGl6ZURhdGEgfSBmcm9tICcuL3N0b3JlL2Rpc3BhdGNoZXJzJ1xuaW1wb3J0IHsgaXNEaXJ0eSwgcmVzZXREaXJ0eSB9IGZyb20gJy4vZGlydHknXG5pbXBvcnQgeyBvcGVuRGFzaGJvYXJkIH0gZnJvbSAnLi9jb21wb25lbnRzL2RpYWxvZy9EYXNoYm9hcmQnXG5pbXBvcnQgeyBvcGVuUGFnZSB9IGZyb20gJy4vdWktc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQgeyByZXNldFVuZG8gfSBmcm9tICcuL3VuZG8nXG5pbXBvcnQgeyBzZXRQcmV2aWV3V2luZG93TG9jYXRpb24gfSBmcm9tICcuL3ByZXZpZXcnXG5pbXBvcnQgeyBzdGFydE9ic2VydmVycywgc3RvcE9ic2VydmVycyB9IGZyb20gJy4vc3RvcmUvb2JzZXJ2ZXInXG5pbXBvcnQgeyB1cGRhdGVVaSwgZ2V0VWkgfSBmcm9tICcuL3VpLXN0b3JlL2luZGV4J1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBSZWFkIC8gd3JpdGUgd2Vic2l0ZSBIVE1MIGZpbGVcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBzYXZlIG9yIHNhdmUtYXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhdmUoZmlsZUluZm8/OiBGaWxlSW5mbywgY2JrPzogKCgpID0+IGFueSksIGVycm9yQ2JrPzogKChwMTogYW55KSA9PiBhbnkpKSB7XG4gIGlmIChmaWxlSW5mbyAmJiAhZ2V0U2l0ZSgpLmlzVGVtcGxhdGUpIHtcbiAgICBkb1NhdmUoKGZpbGVJbmZvIGFzIEZpbGVJbmZvKSwgY2JrLCBlcnJvckNiaylcbiAgfSBlbHNlIGlmIChjb25maWcuc2luZ2xlU2l0ZU1vZGUpIHtcbiAgICAvLyBkbyBub3RoaW5nIGluIHNpbmdsZSBzaXRlIG1vZGVcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYnNpdGUgaGFzIG5vIG5hbWUgYW5kIGNhbiBub3QgXCJzYXZlIGFzXCIgaW4gc2luZ2xlIHNpdGUgbW9kZScpXG4gIH0gZWxzZSB7XG4gICAgLy8gY2hvb3NlIGEgbmV3IG5hbWVcbiAgICBGaWxlRXhwbG9yZXIuZ2V0SW5zdGFuY2UoKVxuICAgICAgICAuc2F2ZUFzKCdlZGl0YWJsZS5odG1sJywgRmlsZUV4cGxvcmVyLkhUTUxfRVhURU5TSU9OUylcbiAgICAgICAgLnRoZW4oKGZpbGVJbmZvQ2hvc2VuKSA9PiB7XG4gICAgICAgICAgaWYgKGZpbGVJbmZvQ2hvc2VuICE9IG51bGwgKSB7XG4gICAgICAgICAgICBkb1NhdmUoKGZpbGVJbmZvQ2hvc2VuIGFzIEZpbGVJbmZvKSwgY2JrLCBlcnJvckNiaylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdXNlciBhYm9ydGVkIHNhdmUgYXNcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoZXJyb3JDYmspIHtcbiAgICAgICAgICAgIGVycm9yQ2JrKGVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIHNhdmVcbiAqL1xuZnVuY3Rpb24gZG9TYXZlKGZpbGU6IEZpbGVJbmZvLCBjYms/OiAoKCkgPT4gYW55KSwgZXJyb3JDYms/OiAoKHAxOiBhbnkpID0+IGFueSkpIHtcbiAgLy8gcmVsYXRpdmUgdXJscyBvbmx5IGluIHRoZSBmaWxlc1xuICBsZXQgcmF3SHRtbCA9IGdldEh0bWwoKVxuXG4gIC8vIGxvb2sgZm9yIGJ1ZyBvZiBmaXJlZm94IGluc2VydGluZyBxdW90ZXMgaW4gdXJsKFwiXCIpXG4gIC8vIEZJWE1FOiByZW1vdmUgdGhpcyEhXG4gIGlmIChyYXdIdG1sLmluZGV4T2YoJ3VybChcXCcmcXVvdDsnKSA+IC0xKSB7XG4gICAgY29uc29sZS53YXJuKCdJIGhhdmUgZm91bmQgSFRNTCBlbnRpdGllcyBpbiBzb21lIHVybHMsIHRoZXJlIGlzIHByb2JhYmx5IGFuIGVycm9yIGluIHRoZSBzYXZlIHByb2Nlc3MuJylcblxuICAgIC8vIHRyeSB0byBjbGVhbnVwIHRoZSBtZXNzXG4gICAgcmF3SHRtbCA9IHJhd0h0bWwucmVwbGFjZSgvdXJsXFwoJyZxdW90OygpKC4rPylcXDEmcXVvdDsnXFwpL2dpLCAobWF0Y2gsIGdyb3VwMSwgZ3JvdXAyKSA9PiB7XG4gICAgICByZXR1cm4gJ3VybChcXCcnICsgZ3JvdXAyICsgJ1xcJyknXG4gICAgfSlcbiAgfVxuXG4gIC8vIHVwZGF0ZSBmaWxlIHBhdGhcbiAgdXBkYXRlU2l0ZSh7XG4gICAgLi4uZ2V0U2l0ZSgpLFxuICAgIGZpbGUsXG4gIH0pXG5cbiAgLy8gc2F2ZSB0byBmaWxlXG4gIHNhdmVBcyhmaWxlLCByYXdIdG1sLCBnZXRTdGF0ZSgpLCAoKSA9PiB7XG4gICAgTm90aWZpY2F0aW9uLm5vdGlmeVN1Y2Nlc3MoJ0ZpbGUgaXMgc2F2ZWQuJylcbiAgICBzZXRQcmV2aWV3V2luZG93TG9jYXRpb24oKVxuXG4gICAgLy8gcmVzZXQgZGlydHkgZmxhZ1xuICAgIHJlc2V0RGlydHkoKVxuXG4gICAgaWYgKGNiaykge1xuICAgICAgY2JrKClcbiAgICB9XG4gIH0sXG4gIChlcnJvciwgbXNnKSA9PiB7XG4gICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdTYXZlIHdlYnNpdGUnLCAnRXJyb3I6IEkgZGlkIG5vdCBtYW5hZ2UgdG8gc2F2ZSB0aGUgZmlsZS4gXFxuJyArIChtc2cgfHwgZXJyb3IubWVzc2FnZSB8fCAnJyksXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKGVycm9yQ2JrKSB7XG4gICAgICAgIGVycm9yQ2JrKGVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG5cbi8qKlxuICogc2F2ZSBhIGZpbGUgd2l0aCBhIG5ldyBuYW1lXG4gKiBAcGFyYW0gY2JrIHJlY2VpdmVzIHRoZSByYXcgSFRNTFxuICovXG5mdW5jdGlvbiBzYXZlQXMoZmlsZTogRmlsZUluZm8sIHJhd0h0bWw6IHN0cmluZywgZGF0YTogUGVyc2lzdGFudERhdGEsIGNiazogKCkgPT4gYW55LCBlcnJDYms/OiAoKHAxOiBhbnksIHAyOiBzdHJpbmcpID0+IGFueSkpIHtcbiAgYWRkVG9MYXRlc3RGaWxlcyhmaWxlKVxuXG4gIENsb3VkU3RvcmFnZS5nZXRJbnN0YW5jZSgpLndyaXRlKFxuICAgICAgKGZpbGUgYXMgRmlsZUluZm8pLCByYXdIdG1sLFxuICAgICAgZGF0YSwgKCkgPT4ge1xuICAgICAgICB1cGRhdGVTaXRlKHtcbiAgICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgICAgaXNUZW1wbGF0ZTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChjYmspIHtcbiAgICAgICAgICBjYmsoKVxuICAgICAgICB9XG4gICAgICB9LCBlcnJDYmspXG59XG5cbi8qKlxuICogbG9hZCBhIHdlYnNpdGUgZnJvbSB0aGUgcmVjZW50IGZpbGVzIGxpc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5SZWNlbnQoZmlsZUluZm86IEZpbGVJbmZvLCBjYms/OiAoKCkgPT4gYW55KSkge1xuICAvLyBhIHJlY2VudCBmaWxlIHdhcyBzZWxlY3RlZFxuICBsb2FkRnJvbVVzZXJGaWxlcyhcbiAgICAgIGZpbGVJbmZvLCAocmF3SHRtbCwgZGF0YTogUGVyc2lzdGFudERhdGEpID0+IGNiayAmJiBjYmsoKSxcbiAgICAgIChlcnIsIG1lc3NhZ2UsIGNvZGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IG9wZW4gcmVjZW50IGZpbGUnLCBlcnIsIG1lc3NhZ2UsIGNvZGUpXG4gICAgICAgIC8vIG1ha2Ugc2lsZXggdmlzaWJsZVxuICAgICAgICBpZiAoY2JrKSB7XG4gICAgICAgICAgY2JrKClcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgIGlmIChjb2RlID09PSA0MDMpIHtcbiAgICAgICAgICAvLyB1c2VyIG5vdCBsb2dnZWQgaW5cbiAgICAgICAgICBOb3RpZmljYXRpb24uY29uZmlybShcbiAgICAgICAgICAgICdPcGVuIHJlY2VudCBmaWxlJywgYENvdWxkIG5vdCBvcGVuIHRoaXMgcmVjZW50IGZpbGUsIHlvdSBwcm9iYWJseSBuZWVkIHRvIGNvbm5lY3QgdG8gJHtmaWxlSW5mby5zZXJ2aWNlfSBhZ2Fpbi5gLFxuICAgICAgICAgICAgKG9rKSA9PiB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnT3BlbiByZWNlbnQgZmlsZScsIGBcbiAgICAgICAgICAgICAgSSBhbSB0cnlpbmcgdG8gY29ubmVjdCB5b3UgdG8gJHtmaWxlSW5mby5zZXJ2aWNlfSBhZ2FpbixcbiAgICAgICAgICAgICAgcGxlYXNlIGFjY2VwdCB0aGUgY29ubmVjdGlvbiBpbiB0aGUgcG9wdXAgSSBoYXZlIGp1c3Qgb3BlbmVkIHRoZW4gPHN0cm9uZz5wbGVhc2Ugd2FpdDwvc3Ryb25nPi5cbiAgICAgICAgICAgICAgYCwgKCkgPT4ge30pXG4gICAgICAgICAgICAgIGNvbnN0IGNlID0gQ2xvdWRTdG9yYWdlLmdldEluc3RhbmNlKCkuY2VcbiAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWxcbiAgICAgICAgICAgICAgY2VbJ2F1dGgnXShmaWxlSW5mby5zZXJ2aWNlKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uY2xvc2UoKVxuICAgICAgICAgICAgICAgIGlmIChvaykge1xuICAgICAgICAgICAgICAgICAgb3BlblJlY2VudChmaWxlSW5mbywgY2JrKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5jb25maXJtKCdPcGVuIHJlY2VudCBmaWxlJywgYENvdWxkIG5vdCBvcGVuIHRoaXMgcmVjZW50IGZpbGUuICR7IG1lc3NhZ2UgfWAsIChvaykgPT4ge30pXG4gICAgICAgIH1cbiAgICAgIH0pXG59XG5cbi8qKlxuICogb3BlbiB0aGUgZGFzaGJvYXJkXG4gKiBUT0RPOiBtb3ZlIHRoaXMgdG8gdGhlIERhc2hib2FyZCBjb21wb25lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5EYXNoYm9hcmRUb0xvYWRBV2Vic2l0ZShjYms/OiAoKCkgPT4gYW55KSwgZXJyb3JDYms/OiAoKHAxOiBhbnkpID0+IGFueSkpIHtcbiAgb3BlbkRhc2hib2FyZCh7XG4gICAgb3BlbkZpbGVJbmZvOiAoZmlsZUluZm86IEZpbGVJbmZvKSA9PiB7XG4gICAgICBpZiAoIWZpbGVJbmZvICYmICFoYXNDb250ZW50KCkpIHtcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgY2xvc2VzIHRoZSBkaWFsb2cgYW5kIG5vIHdlYnNpdGUgaXMgYmVpbmcgZWRpdGVkIHRoZW5cbiAgICAgICAgLy8gbG9hZCBkZWZhdWx0IGJsYW5rIHdlYnNpdGVcbiAgICAgICAgbG9hZEJsYW5rVGVtcGxhdGUoY2JrLCBlcnJvckNiaylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmaWxlSW5mbykge1xuICAgICAgICAgIG9wZW5SZWNlbnQoZmlsZUluZm8sIGNiaylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb3BlblRlbXBsYXRlOiAodXJsKSA9PiB7XG4gICAgICBpZiAoIXVybCAmJiAhaGFzQ29udGVudCgpKSB7XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGNsb3NlcyB0aGUgZGlhbG9nIGFuZCBubyB3ZWJzaXRlIGlzIGJlaW5nIGVkaXRlZCB0aGVuXG4gICAgICAgIC8vIGxvYWQgZGVmYXVsdCBibGFuayB3ZWJzaXRlXG4gICAgICAgIGxvYWRCbGFua1RlbXBsYXRlKGNiaywgZXJyb3JDYmspXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgLy8gYSB0ZW1wbGF0ZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICBsb2FkRnJvbVNlcnZlclRlbXBsYXRlcyh1cmwsIGNiaywgKGVyciwgbXNnKSA9PiBvbk9wZW5FcnJvcihlcnIsIG1zZywgZXJyb3JDYmssIHRydWUpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZWFkeTogKCkgPT4ge1xuICAgICAgaWYgKGNiaykge1xuICAgICAgICBjYmsoKVxuICAgICAgfVxuICAgIH0sXG4gICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2xvYWRpbmcgdGVtcGxhdGVzIGVycm9yJylcbiAgICAgIG9uT3BlbkVycm9yKGVyciwgJ0xvYWRpbmcgdGVtcGxhdGVzIGVycm9yJywgZXJyb3JDYmspXG4gICAgfSxcbiAgfSlcbn1cblxuLyoqXG4gKiBvcGVuIGEgZmlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gb3BlbkZpbGUoY2JrPzogKChwMTogRmlsZUluZm8pID0+IGFueSksIGVycm9yQ2JrPzogKChwMTogYW55KSA9PiBhbnkpLCBjYW5jZWxDYms/OiAoKCkgPT4gYW55KSkge1xuICBpZiAoY29uZmlnLnNpbmdsZVNpdGVNb2RlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBsZXQgdGhlIHVzZXIgY2hvb3NlIHRoZSBmaWxlXG4gIEZpbGVFeHBsb3Jlci5nZXRJbnN0YW5jZSgpLm9wZW5GaWxlKEZpbGVFeHBsb3Jlci5IVE1MX0VYVEVOU0lPTlMpXG4gICAgICAudGhlbigoZmlsZUluZm8pID0+IHtcbiAgICAgICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICAgICAgbG9hZEZyb21Vc2VyRmlsZXMoXG4gICAgICAgICAgICAgIGZpbGVJbmZvLFxuICAgICAgICAgICAgICAocmF3SHRtbCwgZGF0YTogUGVyc2lzdGFudERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IGFuZCByZWRyYXdcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ubm90aWZ5U3VjY2VzcygoZ2V0U2l0ZSgpLnRpdGxlIHx8ICdVbnRpdGxlZCB3ZWJzaXRlJykgKyAnIG9wZW5lZC4nKVxuXG4gICAgICAgICAgICAgICAgaWYgKGNiaykge1xuICAgICAgICAgICAgICAgICAgY2JrKChmaWxlSW5mbyBhcyBGaWxlSW5mbykpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyB3aXRoIGxvYWRlclxuICAgICAgICAgICAgICAoZXJyb3I6IGFueSwgbWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnT3BlbiBmaWxlJywgJ0Vycm9yOiBJIGRpZCBub3QgbWFuYWdlIHRvIG9wZW4gdGhpcyBmaWxlLiBcXG4nICsgKG1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZSB8fCAnJyksXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2JrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2JrKGVycm9yKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNhbmNlbENiaykge1xuICAgICAgICAgICAgY2FuY2VsQ2JrKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnJvckNiaykge1xuICAgICAgICAgIGVycm9yQ2JrKGVycm9yKVxuICAgICAgICB9XG4gICAgICB9KVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBDYWxsYmFja3Ncbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gb25PcGVuRXJyb3IoZXJyOiBhbnksIG1zZzogc3RyaW5nLCBlcnJvckNiaz86ICgocDE6IGFueSkgPT4gYW55KSwgbG9hZEJsYW5rT25FcnJvcjogYm9vbGVhbiA9IHRydWUpIHtcbiAgY29uc29sZS5lcnJvcignb3BlbmluZyB0ZW1wbGF0ZSBlcnJvcicsIGVycilcbiAgTm90aWZpY2F0aW9uLmFsZXJ0KCdPcGVuIGZpbGUnLCAnQW4gZXJyb3Igb2NjdXJlZC4gJyArIG1zZywgKCkgPT4ge30pXG4gIGlmIChlcnJvckNiaykge1xuICAgIGVycm9yQ2JrKGVycilcbiAgfVxuICBpZiAobG9hZEJsYW5rT25FcnJvciAmJiAhaGFzQ29udGVudCgpKSB7XG4gICAgbG9hZEJsYW5rVGVtcGxhdGUoKVxuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hFcnJvcihtZXNzYWdlKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBJIGRpZCBub3QgbWFuYWdlIHRvIHB1Ymxpc2ggdGhlIGZpbGUuJywgbWVzc2FnZSlcbiAgTm90aWZpY2F0aW9uLmFsZXJ0KCdQdWJsaWNhdGlvbicsXG4gICAgICBgPHN0cm9uZz5BbiBlcnJvciBvY2N1cmVkLjwvc3Ryb25nPjxwPkkgZGlkIG5vdCBtYW5hZ2UgdG8gcHVibGlzaCB0aGUgd2Vic2l0ZS4gJHtcbiAgICAgICAgICBtZXNzYWdlfTwvcD48cD48YSBocmVmPVwiJHsgY29uZmlnLklTU1VFU19TSUxFWCB9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+R2V0IGhlbHAgaW4gU2lsZXggZm9ydW1zLjwvYT48L3A+YCxcbiAgICAgICgpID0+IHt9KVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBQdWJsaWNhdGlvblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIGFzayB0aGUgdXNlciBmb3IgYSBuZXcgZmlsZSB0aXRsZVxuICogaGFuZGxlIHRyYWNraW5nIGFuZCBjYWxsIHRoZSBEb20gaGVscGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoKCkge1xuICBpZiAoTm90aWZpY2F0aW9uLmlzQWN0aXZlKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgICAnUHVibGlzaCBjYW5jZWxlZCBiZWNhdXNlIGEgbW9kYWwgZGlhbG9nIGlzIG9wZW5lZCBhbHJlYWR5LicpXG4gICAgcmV0dXJuXG4gIH1cbiAgb3BlblB1Ymxpc2hEaWFsb2coKVxuICAgICAgLnRoZW4oKHB1Ymxpc2hPcHRpb25zOiBQdWJsaWNhdGlvbk9wdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKHB1Ymxpc2hPcHRpb25zKSB7XG4gICAgICAgICAgZG9QdWJsaXNoKHB1Ymxpc2hPcHRpb25zLCAoZXJyTXNnLCB3YXJuaW5nTXNnLCBmaW5hbFB1YmxpY2F0aW9uT3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgaWYgKGVyck1zZykge1xuICAgICAgICAgICAgICBjbG9zZVB1Ymxpc2hEaWFsb2coKVxuICAgICAgICAgICAgICBwdWJsaXNoRXJyb3IoZXJyTXNnKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHdhcm5pbmdNc2cpIHtcbiAgICAgICAgICAgICAgICBjbG9zZVB1Ymxpc2hEaWFsb2coKVxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnUHVibGljYXRpb24nLCB3YXJuaW5nTXNnLCAoKSA9PiB7fSlcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydFB1Ymxpc2goKGZpbmFsUHVibGljYXRpb25PcHRpb25zIGFzIFB1YmxpY2F0aW9uT3B0aW9ucykpXG4gICAgICAgICAgICAgICAgLnRoZW4oKG1zZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjbG9zZVB1Ymxpc2hEaWFsb2coKVxuICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdQdWJsaWNhdGlvbicsIG1zZywgKCkgPT4ge30pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgICAgY2xvc2VQdWJsaXNoRGlhbG9nKClcbiAgICAgICAgICAgICAgICAgIHB1Ymxpc2hFcnJvcihtc2cpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgobXNnKSA9PiBwdWJsaXNoRXJyb3IobXNnKSlcbn1cblxuZnVuY3Rpb24gZG9QdWJsaXNoKFxuICAgIHB1YmxpY2F0aW9uT3B0aW9uczogUHVibGljYXRpb25PcHRpb25zLFxuICAgIGNiazogKHAxOiBzdHJpbmcsIHAyOiBzdHJpbmcsIHAzOiBQdWJsaWNhdGlvbk9wdGlvbnMpID0+IGFueSkge1xuICBpZiAoY29uZmlnLnNpbmdsZVNpdGVNb2RlICYmIHB1YmxpY2F0aW9uT3B0aW9ucy5maWxlKSB7XG4gICAgcHVibGljYXRpb25PcHRpb25zLnB1YmxpY2F0aW9uUGF0aCA9IHtcbiAgICAgIC4uLnB1YmxpY2F0aW9uT3B0aW9ucy5wdWJsaWNhdGlvblBhdGgsXG4gICAgICBwYXRoOiBwdWJsaWNhdGlvbk9wdGlvbnMuZmlsZS5wYXRoLnNwbGl0KCcvJykuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKSxcbiAgICB9XG4gIH1cbiAgY29uc3QgcHVibGljYXRpb25QYXRoID0gcHVibGljYXRpb25PcHRpb25zLnB1YmxpY2F0aW9uUGF0aFxuICBjb25zdCBwcm92aWRlciA9IHB1YmxpY2F0aW9uT3B0aW9ucy5wcm92aWRlclxuXG4gIC8vIGdldCBpbmZvIGFib3V0IHRoZSB3ZWJzaXRlIGZpbGVcbiAgY29uc3QgZmlsZSA9IGdldFNpdGUoKS5maWxlXG4gIGNvbnN0IGlzVGVtcGxhdGUgPSBnZXRTaXRlKCkuaXNUZW1wbGF0ZVxuXG4gIC8vIHNhdmUgbmV3IHBhdGggd2hlbiBuZWVkZWQgYW5kIGdldCBwdWJsaWNhdGlvbiBwYXRoXG4gIGlmIChwdWJsaWNhdGlvblBhdGgpIHtcbiAgICB1cGRhdGVTaXRlKHtcbiAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgIHB1YmxpY2F0aW9uUGF0aCxcbiAgICB9KVxuICB9XG4gIGNvbnN0IGZvbGRlciA9IGdldFNpdGUoKS5wdWJsaWNhdGlvblBhdGhcblxuICAvLyB0aGUgZmlsZSBtdXN0IGJlIHNhdmVkIHNvbWV3aGVyZSBiZWNhdXNlIGFsbCBVUkxzIGFyZSBtYWRlIHJlbGF0aXZlXG4gIGlmICghZm9sZGVyKSB7XG4gICAgY2JrKG51bGwsICdJIGRpZCBub3QgcHVibGlzaCB5b3VyIHdlYnNpdGUuIEkgZGlkIG5vdGhpbmcgYmVjYXVzZSBJIGRvIG5vdCBrbm93IHdoZXJlIHRvIHB1Ymxpc2ggeW91ciBzaXRlLicsIG51bGwpXG4gIH0gZWxzZSB7XG4gICAgaWYgKCFmaWxlIHx8IGlzVGVtcGxhdGUpIHtcbiAgICAgIGNiayhudWxsLCAnVGhlIGZpbGUgbXVzdCBiZSBzYXZlZCBiZWZvcmUgSSBjYW4gcHVibGlzaCBpdC4nLCBudWxsKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyTmFtZSA9IGdldFNpdGUoKS5ob3N0aW5nUHJvdmlkZXJcbiAgICAgICAgaWYgKCFwcm92aWRlck5hbWUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICdJIG5lZWQgYSBob3N0aW5nIHByb3ZpZGVyIG5hbWUgZm9yIHRoaXMgd2Vic2l0ZS4gQW5kIG5vbmUgaXMgY29uZmlndXJlZC4nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNpbGV4VGFza3MuZ2V0SW5zdGFuY2UoKS5ob3N0aW5nKChob3N0aW5nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWRQcm92aWRlcjogUHJvdmlkZXIgPVxuICAgICAgICAgICAgICAgIGhvc3RpbmcucHJvdmlkZXJzLmZpbmQoKHApID0+IHAubmFtZSA9PT0gcHJvdmlkZXJOYW1lKVxuICAgICAgICAgICAgaWYgKCFzdG9yZWRQcm92aWRlcikge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24uYWxlcnQoJ1B1YmxpY2F0aW9uJywgYFxuICAgICAgICAgICAgICAgIDxwPlVua25vd24gcHJvdmlkZXIgJHtwcm92aWRlck5hbWV9LjwvcD5cbiAgICAgICAgICAgICAgICA8cD5JcyBpdCBjb25maWd1cmVkIG9uIHRoaXMgc2Vydmllcj8gSGVyZSBhcmUgdGhlIGhvc3RpbmcgcHJvdmlkZXJzIEkga25vdzpcbiAgICAgICAgICAgICAgICAke2hvc3RpbmcucHJvdmlkZXJzLm1hcCgocCkgPT4gcC5uYW1lKS5qb2luKCcsICcpfTwvcD5cbiAgICAgICAgICAgICAgYCwgKCkgPT4ge30pXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXG4gICAgICAgICAgICAgICAgVW5rbm93biBwcm92aWRlciAke3Byb3ZpZGVyTmFtZX0uXG4gICAgICAgICAgICAgICAgSXMgaXQgY29uZmlndXJlZCBvbiB0aGlzIHNlcnZpZXI/IEhlcmUgYXJlIHRoZSBob3N0aW5nIHByb3ZpZGVycyBJIGtub3c6IDx1bD4ke2hvc3RpbmcucHJvdmlkZXJzXG4gICAgICAgICAgICAgICAgLm1hcCgocCkgPT4gJzxsaT4nICsgcC5uYW1lICsgJzwvbGk+JylcbiAgICAgICAgICAgICAgICAuam9pbignJyl9PC91bD5cbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNiayhudWxsLCBudWxsLCAoe1xuICAgICAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgICAgIHB1YmxpY2F0aW9uUGF0aDogZm9sZGVyLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHN0b3JlZFByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIH0gYXMgUHVibGljYXRpb25PcHRpb25zKSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYmsobnVsbCwgbnVsbCwgKHtcbiAgICAgICAgICBmaWxlLFxuICAgICAgICAgIHB1YmxpY2F0aW9uUGF0aDogZm9sZGVyLFxuICAgICAgICAgIHByb3ZpZGVyLFxuICAgICAgICB9IGFzIFB1YmxpY2F0aW9uT3B0aW9ucykpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFV0aWxzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQHJldHVybiB0cnVlIGlmIGEgd2Vic2l0ZSBpcyBiZWluZyBlZGl0ZWRcbiAqIFRPRE86IG1vdmUgdGhpcyB0byB0aGUgU2l0ZUZyYW1lIGNvbXBvbmVudCBvciB1c2UgZ2V0RWxlbWVudHMoKS5sZW5ndGhcbiAqL1xuZnVuY3Rpb24gaGFzQ29udGVudCgpOiBib29sZWFuIHtcbiAgY29uc3QgY29udGVudERvY3VtZW50ID0gZ2V0U2l0ZURvY3VtZW50KClcbiAgcmV0dXJuICEhY29udGVudERvY3VtZW50LmJvZHkgJiYgY29udGVudERvY3VtZW50LmJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwXG59XG5cbi8qKlxuICogbG9hZCBhIHNpbGV4IGh0bWwgZWRpdGFibGUgZmlsZSBmcm9tIHRoZSB0ZW1wbGF0ZXMgbG9jYXRlZCBvbiB0aGUgc2VydmVyXG4gKiB3aWxsIG5vdCBiZSBhYmxlIHRvIHNhdmUgdW50aWwgdGhlIHVzZXIgY2hvb3NlIGEgZmlsZSBuYW1lXG4gKi9cbmZ1bmN0aW9uIGxvYWRGcm9tU2VydmVyVGVtcGxhdGVzKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBjYms6ICgocDE6IHN0cmluZywgZGF0YTogUGVyc2lzdGFudERhdGEpID0+IGFueSkgPSBudWxsLFxuICAgIGVyckNiazogKChwMTogYW55LCBwMjogc3RyaW5nKSA9PiBhbnkpID0gbnVsbCkge1xuICBkb0xvYWRXZWJzaXRlKHtcbiAgICBzaXRlOiB7XG4gICAgICBmaWxlOiBudWxsLFxuICAgICAgaXNUZW1wbGF0ZTogdHJ1ZSxcbiAgICB9LFxuICAgIHBhdGgsXG4gICAgY2JrLCBlcnJDYmssXG4gIH0pXG59XG5cbi8qKlxuICogbG9hZCBibGFuayB0ZW1wbGF0ZVxuICovXG5mdW5jdGlvbiBsb2FkQmxhbmtUZW1wbGF0ZShjYms/OiAoKCkgPT4gYW55KSwgZXJyb3JDYms/OiAoKHAxOiBhbnkpID0+IGFueSkpIHtcbiAgY29uc3QgYmxhbmtVcmwgPSAnL2xpYnMvdGVtcGxhdGVzL3NpbGV4LWJsYW5rLXRlbXBsYXRlcy9ibGFuay9lZGl0YWJsZS5odG1sJ1xuICBsb2FkRnJvbVNlcnZlclRlbXBsYXRlcyhibGFua1VybCwgY2JrLCAoZXJyLCBtc2cpID0+IG9uT3BlbkVycm9yKGVyciwgbXNnLCBlcnJvckNiaywgZmFsc2UpKVxufVxuXG4vKipcbiAqIGxvYWQgYSBuZXcgZmlsZVxuICogQHBhcmFtIGNiayByZWNlaXZlcyB0aGUgcmF3IEhUTUwgYW5kIHRoZSBzdG9yZWQgZGF0YVxuICovXG5mdW5jdGlvbiBsb2FkRnJvbVVzZXJGaWxlcyhmaWxlOiBGaWxlSW5mbywgY2JrOiAocDE6IHN0cmluZywgZGF0YTogUGVyc2lzdGFudERhdGEpID0+IGFueSxcbiAgICBlcnJDYms/OiAoKHAxOiBhbnksIG1zZzogc3RyaW5nLCBjb2RlPzogbnVtYmVyKSA9PiBhbnkpKSB7XG4gIGlmIChpc0RpcnR5KCkpIHtcbiAgICBOb3RpZmljYXRpb24uY29uZmlybSgnQ2xvc2UgY3VycmVudCB3ZWJzaXRlJywgYFlvdSBoYXZlIHVuc2F2ZWQgbW9kaWZpY2F0aW9ucywgYXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIG9wZW4gdGhlIHdlYnNpdGUgXCIkeyBmaWxlLm5hbWUgfVwiID9gLCAob2spID0+IHtcbiAgICAgIGlmKG9rKSBkb0xvYWRGcm9tVXNlckZpbGVzKGZpbGUsIGNiaywgZXJyQ2JrKVxuICAgIH0sICdDb250aW51ZScsICdBYm9ydCcpXG4gIH0gZWxzZSB7XG4gICAgZG9Mb2FkRnJvbVVzZXJGaWxlcyhmaWxlLCBjYmssIGVyckNiaylcbiAgfVxufVxuXG5mdW5jdGlvbiBkb0xvYWRGcm9tVXNlckZpbGVzKGZpbGU6IEZpbGVJbmZvLCBjYms6IChwMTogc3RyaW5nLCBkYXRhOiBQZXJzaXN0YW50RGF0YSkgPT4gYW55LFxuICAgIGVyckNiaz86ICgocDE6IGFueSwgbXNnOiBzdHJpbmcsIGNvZGU/OiBudW1iZXIpID0+IGFueSkpIHtcbiAgZG9Mb2FkV2Vic2l0ZSh7XG4gICAgc2l0ZToge1xuICAgICAgZmlsZSxcbiAgICAgIGlzVGVtcGxhdGU6IGZhbHNlLFxuICAgIH0sXG4gICAgcGF0aDogZmlsZS5hYnNQYXRoLFxuICAgIGNiazogKHJhd0h0bWw6IHN0cmluZywgZGF0YTogUGVyc2lzdGFudERhdGEpID0+IHtcbiAgICAgIGFkZFRvTGF0ZXN0RmlsZXMoZmlsZSlcbiAgICAgIGlmIChjYmspIHtcbiAgICAgICAgY2JrKHJhd0h0bWwsIGRhdGEpXG4gICAgICB9XG4gICAgfSxcbiAgICBlcnJDYmssXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGRvTG9hZFdlYnNpdGUoe3NpdGUsIHBhdGgsIGNiaywgZXJyQ2JrfToge1xuICAgIHNpdGU6IGFueSxcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgY2JrOiAoKHAxOiBzdHJpbmcsIGRhdGE6IFBlcnNpc3RhbnREYXRhKSA9PiBhbnkpLFxuICAgIGVyckNiazogKChwMTogYW55LCBwMjogc3RyaW5nKSA9PiBhbnkpLFxuICB9KSB7XG4gIHVwZGF0ZVVpKHtcbiAgICAuLi5nZXRVaSgpLFxuICAgIGxvYWRpbmc6IExPQURJTkcuV0VCU0lURSxcbiAgfSlcbiAgQ2xvdWRTdG9yYWdlLmdldEluc3RhbmNlKCkubG9hZFdlYnNpdGUocGF0aCwgKHJhd0h0bWw6IHN0cmluZywgZGF0YTogUGVyc2lzdGFudERhdGEpID0+IHtcbiAgICAvLyBkaXNwbGF5IHRoZSBzaXRlIEhUTUwgaW4gdGhlIFNpdGVJZnJhbWUgY29tcG9uZW50XG4gICAgc2V0SHRtbChyYXdIdG1sLCAoKSA9PiB7XG4gICAgICAvLyBjb2RlIGVkaXRvcnMgbmVlZCB0byBzdGFydCBsaXN0ZW5pbmcgdG8gc3RvcmVcbiAgICAgIC8vIHdhcyBkb25lIGluIHRoZSBXb3Jrc3BhY2UgY29tcG9uZW50IGJ1dCB0aGUgbGF0ZXIgdGhlIGJldHRlclxuICAgICAgaW5pdENzc0VkaXRvcigpXG4gICAgICBpbml0SnNFZGl0b3IoKVxuICAgICAgaW5pdEh0bWxFZGl0b3IoKVxuXG4gICAgICAvLyBub3cgdXBkYXRlIHRoZSBzdG9yZVxuICAgICAgc3RvcE9ic2VydmVycygpXG4gICAgICBjb25zdCBzdGF0ZXMgPSB7XG4gICAgICAgIHNpdGU6IHtcbiAgICAgICAgICAuLi5kYXRhLnNpdGUsXG4gICAgICAgICAgZmlsZTogc2l0ZS5maWxlLFxuICAgICAgICB9LFxuICAgICAgICBwYWdlczogZnJvbVBhZ2VEYXRhKGRhdGEucGFnZXMpLFxuICAgICAgICBlbGVtZW50czogZnJvbUVsZW1lbnREYXRhKGRhdGEuZWxlbWVudHMpLFxuICAgICAgfVxuICAgICAgaW5pdGlhbGl6ZURhdGEoc3RhdGVzKVxuICAgICAgb3BlblBhZ2Uoc3RhdGVzLnBhZ2VzWzBdKVxuICAgICAgc3RhcnRPYnNlcnZlcnMoKVxuICAgICAgdXBkYXRlVWkoe1xuICAgICAgICAuLi5nZXRVaSgpLFxuICAgICAgICBsb2FkaW5nOiBMT0FESU5HLk5PTkUsXG4gICAgICB9KVxuICAgICAgLy8gcmVzZXQgaGlzdG9yeSBhbmQgZGlydHkgZmxhZ1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlc2V0RGlydHkoKVxuICAgICAgICByZXNldFVuZG8oKVxuICAgICAgfSwgMTAwMClcbiAgICAgIC8vIGVuZCB0aGUgcHJvY2Vzc1xuICAgICAgaWYgKGNiaykge1xuICAgICAgICBjYmsocmF3SHRtbCwgZGF0YSlcbiAgICAgIH1cbiAgICB9KVxuICB9LCBlcnJDYmspXG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVXRpbGl0aWVzIHRvIG1hbnVwdWxhdGUgdWkgZGF0YVxuICpcbiAqL1xuXG5pbXBvcnQgeyBnZXRVaSB9IGZyb20gJy4vaW5kZXgnXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RpYWxvZ1Zpc2libGUoaWQsIHR5cGUsIHVpID0gZ2V0VWkoKSkge1xuICByZXR1cm4gdWkuZGlhbG9nc1xuICAgIC5maW5kKGQgPT4gZC5pZCA9PT0gaWQgJiYgZC50eXBlID09PSB0eXBlKT8udmlzaWJsZSA9PT0gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlzaWJsZURpYWxvZ3ModHlwZSA9IG51bGwsIHVpID0gZ2V0VWkoKSkge1xuICByZXR1cm4gdWkuZGlhbG9nc1xuICAgIC5maWx0ZXIoZCA9PiBkLnZpc2libGUgJiYgKHR5cGUgPT09IG51bGwgfHwgZC50eXBlID09PSB0eXBlKSlcbn1cblxuIiwiLyoqXG4gKiBUaGlzIGlzIGEgbWVjaGFuaXNtIGZvciBhbGwgdGFiYmVkIFVJXG4gKiBGb3IgZXhhbXBsZSB0aGUgcHJvcGVydGllcyBwYW5lIGhhcyB0YWJzIChzdHlsZSwgY29tcG9uZW50cy4uLilcbiAqIEVhY2ggdGFiIGlzIGFuIGVsZW1lbnQgaW4gZ2V0VWkoKS5kaWFsb2dzIGxpc3Qgd2hpY2ggaGFzIHR5cGUgPT09ICdwcm9wZXJ0aWVzJ1xuICogQHNlZSB1aS1zdG9yZS90eXBlcy50c1xuICovXG5cbmltcG9ydCB7IERpYWxvZyB9IGZyb20gJy4uL3VpLXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0VWksIHN1YnNjcmliZVVpIH0gZnJvbSAnLi4vdWktc3RvcmUnXG5pbXBvcnQgeyBnZXRWaXNpYmxlRGlhbG9ncyB9IGZyb20gJy4uL3VpLXN0b3JlL3V0aWxzJ1xuaW1wb3J0IHsgb3BlbkRpYWxvZyB9IGZyb20gJy4uL3VpLXN0b3JlL2Rpc3BhdGNoZXJzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdGFiYmVkKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHR5cGU6IHN0cmluZykge1xuICAvLyBpbml0aWFsIHRhYnNcbiAgZ2V0VWkoKS5kaWFsb2dzXG4gIC5maWx0ZXIoZCA9PiBkLnR5cGUgPT09IHR5cGUpXG4gIC5mb3JFYWNoKGQgPT4gYWRkVGFiKGNvbnRhaW5lciwgZCkpXG5cbiAgLy8gdXBkYXRlIHRhYnNcbiAgc3Vic2NyaWJlVWkoKHByZXZTdGF0ZSwgbmV4dFN0YXRlKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlZCA9IHByZXZTdGF0ZS5kaWFsb2dzXG4gICAgLmZpbHRlcihkID0+IGQudHlwZSA9PT0gdHlwZSlcbiAgICAuZmlsdGVyKGQxID0+ICFuZXh0U3RhdGUuZGlhbG9ncy5maW5kKGQyID0+IGQyLnR5cGUgPT09IGQxLnR5cGUgJiYgZDIuaWQgPT09IGQxLmlkKSlcbiAgICByZW1vdmVkLmZvckVhY2goKHQpID0+IHJlbW92ZVRhYihjb250YWluZXIsIHQpKVxuXG4gICAgY29uc3QgY3JlYXRlZCA9IG5leHRTdGF0ZS5kaWFsb2dzXG4gICAgLmZpbHRlcihkID0+IGQudHlwZSA9PT0gdHlwZSlcbiAgICAuZmlsdGVyKGQxID0+ICFwcmV2U3RhdGUuZGlhbG9ncy5maW5kKGQyID0+IGQyLnR5cGUgPT09IGQxLnR5cGUgJiYgZDIuaWQgPT09IGQxLmlkKSlcbiAgICBjcmVhdGVkLmZvckVhY2goKHQpID0+IGFkZFRhYihjb250YWluZXIsIHQpKVxuXG4gICAgY29uc3QgcHJldlZpc2libGUgPSBnZXRWaXNpYmxlRGlhbG9ncyh0eXBlLCBwcmV2U3RhdGUpXG4gICAgY29uc3QgbmV4dFZpc2libGUgPSBnZXRWaXNpYmxlRGlhbG9ncyh0eXBlLCBuZXh0U3RhdGUpXG4gICAgY29uc3Qgb3BlbmVkID0gbmV4dFZpc2libGUuZmlsdGVyKGQxID0+ICFwcmV2VmlzaWJsZS5maW5kKGQyID0+IGQyLmlkID09PSBkMS5pZCAmJiBkMi50eXBlID09PSBkMS50eXBlKSlcbiAgICAvLyBjb25zdCBjbG9zZWQgPSBwcmV2VmlzaWJsZS5maWx0ZXIoZDEgPT4gIW5leHRWaXNpYmxlLmZpbmQoZDIgPT4gZDIuaWQgPT09IGQxLmlkICYmIGQyLnR5cGUgPT09IGQxLnR5cGUpKVxuICAgIGlmKG9wZW5lZC5sZW5ndGgpIHtcbiAgICAgIC8vICB1cGRhdGUgc2VsZWN0ZWQgdGFiXG4gICAgICBvcGVuVGFiKGNvbnRhaW5lciwgb3BlbmVkWzBdKVxuICAgIH1cbiAgfSlcbn1cblxuLy8gLy8vLy8vLy8vLy8vXG4vLyBoZWxwZXJzIHRvIG1hbmFnZSB0YWIgZWxlbWVudHNcbi8vIC8vLy8vLy8vLy8vL1xuXG5jb25zdCBjYmtCaW5kZWQgPSBuZXcgTWFwPHN0cmluZywgKCkgPT4gdm9pZD4oKVxuXG5mdW5jdGlvbiBhZGRUYWIoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZGlhbG9nOiBEaWFsb2cpIHtcbiAgLy8gY3JlYXRlIHRhYiBlbGVtZW50XG4gIGNvbnN0IHRhYkVsID0gZ2V0VGFiRWxlbWVudChjb250YWluZXIsIGRpYWxvZykgfHwgY3JlYXRlVGFiRWxlbWVudChjb250YWluZXIsIGRpYWxvZylcblxuICAvLyBvcGVuIGV2ZW50XG4gIGNvbnN0IG9wZW5CaW5kZWQgPSAoKSA9PiBvcGVuRGlhbG9nKGRpYWxvZylcbiAgdGFiRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQmluZGVkKVxuICBjYmtCaW5kZWQuc2V0KGRpYWxvZy5pZCwgb3BlbkJpbmRlZClcblxuICAvLyBtYXJrIGFzIG9wZW5lZFxuICBpZihkaWFsb2cudmlzaWJsZSkgb3BlblRhYihjb250YWluZXIsIGRpYWxvZylcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFiKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGRpYWxvZzogRGlhbG9nKSB7XG4gIGNvbnN0IHRhYkVsID0gZ2V0VGFiRWxlbWVudChjb250YWluZXIsIGRpYWxvZylcbiAgaWYgKHRhYkVsKSB7XG4gICAgY29uc3Qgb3BlbkJpbmRlZCA9IGNia0JpbmRlZC5nZXQoZGlhbG9nLmlkKVxuICAgIGNia0JpbmRlZC5kZWxldGUoZGlhbG9nLmlkKVxuICAgIHRhYkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkJpbmRlZClcbiAgICB0YWJFbC5yZW1vdmUoKVxuICB9XG59XG5cbmZ1bmN0aW9uIG9wZW5UYWIoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZGlhbG9nOiBEaWFsb2cpIHtcbiAgY29uc3QgdGFiRWwgPSBnZXRUYWJFbGVtZW50KGNvbnRhaW5lciwgZGlhbG9nKVxuICBBcnJheS5mcm9tKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcudGFiJykpXG4gIC5mb3JFYWNoKChlbCkgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgnb24nKSlcbiAgdGFiRWwuY2xhc3NMaXN0LmFkZCgnb24nKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUYWJFbGVtZW50KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGRpYWxvZzogRGlhbG9nKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCB0YWJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZGlhbG9nLmRhdGE/LnRhZyB8fCAnZGl2JylcbiAgdGFiRWwuY2xhc3NMaXN0LmFkZChkaWFsb2cuaWQsICd0YWInKVxuICB0YWJFbC5jbGFzc0xpc3QuYWRkKC4uLmRpYWxvZy5kYXRhPy5jbGFzc05hbWU/LnNwbGl0KCcgJykgfHwgJ25vLWRpYWxvZy1jbGFzcycpXG4gIHRhYkVsLmlubmVySFRNTCA9IGRpYWxvZy5kYXRhPy5kaXNwbGF5TmFtZSB8fCAnJ1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGFiRWwpXG5cbiAgcmV0dXJuIHRhYkVsXG59XG5cbmZ1bmN0aW9uIGdldFRhYkVsZW1lbnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZGlhbG9nOiBEaWFsb2cpOiBIVE1MRWxlbWVudCB7XG4gIHJldHVybiBjb250YWluZXIucXVlcnlTZWxlY3RvcignLicgKyBkaWFsb2cuaWQpXG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhlIHNldHRpbmdzIGRpYWxvZyB3aGljaCBoYW5kbGVzIHRoZSBmaWxlIHNldHRpbmdzXG4gKiBUT0RPOiByZWZhY3RvciBmb250IGxpc3QgYW5kIGRhdGEgc291cmNlIGxpc3Qgd2hpY2ggc2hvdWxkIHNoYXJlIG1vcmUgY29kZVxuICogVE9ETzogcmVtb3ZlIHRoZSBsb2dpYyB0byBvcGVuIHRhYnMgYW5kIGhhbmRsZSBpdCBpbiBDU1MvSFRNTCBvbmx5IHdpdGggY2hlY2sgYm94ZXNcbiAqXG4gKi9cblxuaW1wb3J0IHsgZ2V0U2l0ZSwgc3Vic2NyaWJlU2l0ZSwgdXBkYXRlU2l0ZSB9IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBDbG91ZFN0b3JhZ2UsIEZpbGVJbmZvIH0gZnJvbSAnLi4vLi4vaW8vQ2xvdWRTdG9yYWdlJ1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgVXJsIH0gZnJvbSAnLi4vLi4vdXRpbHMvVXJsJ1xuaW1wb3J0IHsgTW9kYWxEaWFsb2cgfSBmcm9tICcuLi9Nb2RhbERpYWxvZydcbmltcG9ydCB7IEZpbGVFeHBsb3JlciB9IGZyb20gJy4vRmlsZUV4cGxvcmVyJ1xuaW1wb3J0IHsgRGF0YVNvdXJjZXMsIERhdGFTb3VyY2UsIEZvbnQgfSBmcm9tICcuLi8uLi9zaXRlLXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uLy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBnZXRVaSwgc3Vic2NyaWJlVWksIHVwZGF0ZVVpIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUnXG5pbXBvcnQgeyBnZXRWaXNpYmxlRGlhbG9ncyB9IGZyb20gJy4uLy4uL3VpLXN0b3JlL3V0aWxzJ1xuaW1wb3J0IHsgdGFiYmVkIH0gZnJvbSAnLi4vdGFiYmVkJ1xuXG4vKipcbiAqIGNvbnN0YW50IGZvciBhbGwgcGFuZSBjc3MgY2xhc3Nlc1xuICovXG5jb25zdCBQQU5FX0NTU19DTEFTU0VTID0gW3tcbiAgZGlzcGxheU5hbWU6ICdHZW5lcmFsJyxcbiAgaWQ6ICdnZW5lcmFsLXBhbmUnLFxufSwge1xuICBkaXNwbGF5TmFtZTogJ1NvY2lhbCBOZXR3b3JrcycsXG4gIGlkOiAnc29jaWFsLXBhbmUnLFxuXG59LCB7XG4gIGRpc3BsYXlOYW1lOiAnUHVibGlzaCBzZXR0aW5ncycsXG4gIGlkOiAncHVibGlzaC1wYW5lJyxcbn0sIHtcbiAgZGlzcGxheU5hbWU6ICdGb250cycsXG4gIGlkOiAnZm9udHMtcGFuZScsXG59LCB7XG4gIGRpc3BsYXlOYW1lOiAnRGF0YSBzb3VyY2VzJyxcbiAgaWQ6ICdkYXRhLXNvdXJjZXMtcGFuZScsXG59XVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBBUEkgZm9yIHRoZSBvdXRzaWRlIHdvcmxkXG5sZXQgc2V0dGluZ3NEaWFsb2c6IFNldHRpbmdzRGlhbG9nXG5mdW5jdGlvbiBpbml0U2V0dGluZ3NEaWFsb2coKSB7XG4gIHNldHRpbmdzRGlhbG9nID0gc2V0dGluZ3NEaWFsb2cgfHwgbmV3IFNldHRpbmdzRGlhbG9nKGdldFVpRWxlbWVudHMoKS5zZXR0aW5nc0RpYWxvZylcbiAgcmV0dXJuIHNldHRpbmdzRGlhbG9nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuU2V0dGluZ3NEaWFsb2cob3B0X2Niaz86ICgoKSA9PiBhbnkpLCBvcHRfcGFuZUNzc0NsYXNzPzogc3RyaW5nKSB7XG4gIGluaXRTZXR0aW5nc0RpYWxvZygpXG4gIHJldHVybiBzZXR0aW5nc0RpYWxvZy5vcGVuKG9wdF9jYmssIG9wdF9wYW5lQ3NzQ2xhc3MpXG59XG5cbi8qKlxuICogdGhlIFNpbGV4IFNldHRpbmdzRGlhbG9nIGNsYXNzXG4gKiBUT0RPOiBtYWtlIHRoaXMgb25seSBtZXRob2RzIGFuZCB3cml0ZSB0ZXN0c1xuICovXG5jbGFzcyBTZXR0aW5nc0RpYWxvZyB7XG4gIC8qKlxuICAgKiBzdG9yZSB0aGUgbW9iaWxlIGNoZWNrYm94XG4gICAqL1xuICBtb2JpbGVDaGVja2JveDogSFRNTElucHV0RWxlbWVudCA9IG51bGxcblxuICBvbkNsb3NlOiAoKCkgPT4gYW55KSA9IG51bGxcblxuICAvLyBuYXZpZ2F0aW9uXG4gIGZvbnRMaXN0OiBIVE1MRWxlbWVudFxuICBkYXRhU291cmNlc0xpc3Q6IEhUTUxFbGVtZW50XG5cbiAgLy8gbWFrZSB0aGlzIGEgZGlhbG9nXG4gIG1vZGFsRGlhbG9nOiBhbnlcblxuICB1bnN1YjogKCkgPT4gdm9pZCA9IG51bGxcblxuICAvKipcbiAgICogQHBhcmFtIGVsZW1lbnQgICBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBVSVxuICAgKiBAcGFyYW0gbW9kZWwgIG1vZGVsIGNsYXNzIHdoaWNoIGhvbGRzXG4gICAqIHRoZSBtb2RlbCBpbnN0YW5jZXMgLSB2aWV3cyB1c2UgaXQgZm9yXG4gICAqIHJlYWQgb3BlcmF0aW9uIG9ubHlcbiAgICogQHBhcmFtIGNvbnRyb2xsZXIgIHN0cnVjdHVyZSB3aGljaCBob2xkc1xuICAgKiB0aGUgY29udHJvbGxlciBpbnN0YW5jZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIC8vIHRhYmJlZCBiZWhhdmlvclxuICAgIHN1YnNjcmliZVVpKCgpID0+IHtcbiAgICAgIGNvbnN0IFtjdXJyZW50VG9vbGJveF0gPSBnZXRWaXNpYmxlRGlhbG9ncygnc2V0dGluZ3MnKVxuICAgICAgY29uc3QgcmlnaHRQYW5lOiBIVE1MRWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0LXBhbmUnKVxuICAgICAgQXJyYXkuZnJvbShyaWdodFBhbmUucXVlcnlTZWxlY3RvckFsbCgnLm9uJykpXG4gICAgICAuZm9yRWFjaCgoZWwpID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ29uJykpXG4gICAgICBjb25zdCBwYW5lID0gcmlnaHRQYW5lLnF1ZXJ5U2VsZWN0b3IoJy4nICsgY3VycmVudFRvb2xib3guaWQpXG4gICAgICBpZihwYW5lKSB7XG4gICAgICAgIHBhbmUuY2xhc3NMaXN0LmFkZCgnb24nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY291bGQgYmUgYSBwYW5lIGFkZGVkIGJ5IGEgcGx1Z2luXG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgaW4gc2V0dGluZ3MgZGlhbG9nOiBubyBwYW5lIGZvdW5kIHdpdGggSUQnKVxuICAgICAgfVxuICAgIH0pXG4gICAgLy8gYWRkIHRoZSB0YWJzIHRvIHRoZSBzdG9yZVxuICAgIGNvbnN0IHVpID0gZ2V0VWkoKVxuICAgIHVwZGF0ZVVpKHtcbiAgICAgIC4uLnVpLFxuICAgICAgZGlhbG9nczogdWkuZGlhbG9ncy5jb25jYXQoXG4gICAgICAgIFBBTkVfQ1NTX0NMQVNTRVNcbiAgICAgICAgLm1hcCgoe2Rpc3BsYXlOYW1lLCBpZH0sIGlkeCkgPT4gKHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0eXBlOiAnc2V0dGluZ3MnLFxuICAgICAgICAgIHZpc2libGU6IGlkeCA9PT0gMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgIHRhZzogJ2xpJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSlcbiAgICAgIClcbiAgICB9KVxuICAgIGNvbnN0IGxlZnRQYW5lVWw6IEhUTUxFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdC1wYW5lIHVsJylcbiAgICB0YWJiZWQobGVmdFBhbmVVbCwgJ3NldHRpbmdzJylcblxuICAgIC8vIG1vZGFsIGRpYWxvZyBiZWhhdmlvclxuICAgIHRoaXMubW9kYWxEaWFsb2cgPSBuZXcgTW9kYWxEaWFsb2coe1xuICAgICAgbmFtZTogJ1NldHRpbmdzIGRpYWxvZycsXG4gICAgICBlbGVtZW50LFxuICAgICAgb25PcGVuOiAoYXJncykgPT4ge1xuICAgICAgICB0aGlzLm9uQ2xvc2UgPSBhcmdzLmNia1xuICAgICAgICBpZiAoYXJncy5wYW5lKSB7XG4gICAgICAgICAgY29uc3QgbGF0ZXN0ID0gZ2V0VWkoKVxuICAgICAgICAgIHVwZGF0ZVVpKHtcbiAgICAgICAgICAgIC4uLmxhdGVzdCxcbiAgICAgICAgICAgIGRpYWxvZ3M6IGxhdGVzdC5kaWFsb2dzXG4gICAgICAgICAgICAuZmlsdGVyKCh7dHlwZX0pID0+IHR5cGUgPT09ICdzZXR0aW5ncycpXG4gICAgICAgICAgICAubWFwKGRpYWxvZyA9PiAoe1xuICAgICAgICAgICAgICAuLi5kaWFsb2csXG4gICAgICAgICAgICAgIHZpc2libGU6IGRpYWxvZy5pZCA9PT0gYXJncy5wYW5lLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3ViID0gc3Vic2NyaWJlU2l0ZSgoKSA9PiB0aGlzLnJlZHJhdygpKVxuICAgICAgICB0aGlzLnJlZHJhdygpXG4gICAgICB9LFxuICAgICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy51bnN1Yikge1xuICAgICAgICAgIHRoaXMudW5zdWIoKVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGlmeSB0aGUgY2FsbGVyIG9mIHRoaXMgZGlhbG9nXG4gICAgICAgIGlmICh0aGlzLm9uQ2xvc2UpIHtcbiAgICAgICAgICB0aGlzLm9uQ2xvc2UoKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pXG5cbiAgICAvLyBpbnB1dCB0ZXh0IGZpZWxkc1xuICAgIHRoaXMuYmluZFRleHRGaWVsZChcbiAgICAgICcuZ2VuZXJhbC1wYW5lIC5pbnB1dC10aXRsZScsXG4gICAgICAodikgPT4gdXBkYXRlU2l0ZSh7XG4gICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgdGl0bGU6IHYsXG4gICAgICB9KSlcbiAgICB0aGlzLmJpbmRUZXh0RmllbGQoXG4gICAgICAnLmdlbmVyYWwtcGFuZSAuaW5wdXQtbGFuZycsXG4gICAgICAodikgPT4gdXBkYXRlU2l0ZSh7XG4gICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgbGFuZzogdixcbiAgICAgIH0pKVxuICAgIHRoaXMuYmluZFRleHRGaWVsZChcbiAgICAgICcuZ2VuZXJhbC1wYW5lIC5pbnB1dC1zaXRlLXdpZHRoJyxcbiAgICAgICh2KSA9PiB1cGRhdGVTaXRlKHtcbiAgICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgICB3aWR0aDogISF2ID8gcGFyc2VJbnQodikgOiBudWxsLFxuICAgICAgfSkpXG4gICAgdGhpcy5iaW5kVGV4dEZpZWxkKFxuICAgICAgJy5zb2NpYWwtcGFuZSAuaW5wdXQtdGl0bGUnLFxuICAgICAgKHYpID0+IHVwZGF0ZVNpdGUoe1xuICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgIHRpdGxlU29jaWFsOiB2LFxuICAgICAgfSkpXG4gICAgdGhpcy5iaW5kVGV4dEZpZWxkKFxuICAgICAgJy5nZW5lcmFsLXBhbmUgLmlucHV0LWRlc2NyaXB0aW9uJyxcbiAgICAgICh2KSA9PiB1cGRhdGVTaXRlKHtcbiAgICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgICBkZXNjcmlwdGlvbjogdixcbiAgICAgIH0pKVxuICAgIHRoaXMuYmluZFRleHRGaWVsZChcbiAgICAgICcuc29jaWFsLXBhbmUgLmlucHV0LWRlc2NyaXB0aW9uJyxcbiAgICAgICh2KSA9PlxuICAgICAgICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb25Tb2NpYWw6IHYsXG4gICAgICAgICAgfSkpXG4gICAgdGhpcy5iaW5kVGV4dEZpZWxkKFxuICAgICAgJy5zb2NpYWwtcGFuZSAuaW5wdXQtdHdpdHRlcicsXG4gICAgICAodikgPT4gdXBkYXRlU2l0ZSh7XG4gICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgdHdpdHRlclNvY2lhbDogdixcbiAgICAgIH0pKVxuICAgIHRoaXMuYmluZFRleHRGaWVsZChcbiAgICAgICcuZ2VuZXJhbC1wYW5lIC5pbnB1dC1mYXZpY29uLXBhdGgnLFxuICAgICAgKHYpID0+IHVwZGF0ZVNpdGUoe1xuICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgIGZhdmljb25QYXRoOiB2LFxuICAgICAgfSkpXG4gICAgdGhpcy5iaW5kVGV4dEZpZWxkKFxuICAgICAgJy5zb2NpYWwtcGFuZSAuaW5wdXQtaW1hZ2UtcGF0aCcsXG4gICAgICAodikgPT5cbiAgICAgICAgICB1cGRhdGVTaXRlKHtcbiAgICAgICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgICAgIHRodW1ibmFpbFNvY2lhbFBhdGg6IHYsXG4gICAgICAgICAgfSkpXG4gICAgdGhpcy5iaW5kVGV4dEZpZWxkKCcucHVibGlzaC1wYW5lIC5pbnB1dC1wdWJsaWNhdGlvbi1wYXRoJywgKHYpID0+IHRoaXMudXBkYXRlUHVibGljYXRpb25QYXRoKHtwYXRoOiB2fSkpXG4gICAgdGhpcy5iaW5kVGV4dEZpZWxkKCcucHVibGlzaC1wYW5lIC5pbnB1dC1wdWJsaWNhdGlvbi1zZXJ2aWNlJywgKHYpID0+IHRoaXMudXBkYXRlUHVibGljYXRpb25QYXRoKHtzZXJ2aWNlOiB2fSkpXG4gICAgdGhpcy5iaW5kVGV4dEZpZWxkKCcucHVibGlzaC1wYW5lIC5pbnB1dC13ZWJzaXRlLXVybCcsICh2KSA9PiB7XG4gICAgICBpZiAodiA9PT0gJycpIHtcbiAgICAgICAgdiA9IG51bGxcbiAgICAgIH1cbiAgICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgIHdlYnNpdGVVcmw6IHYsXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyBpbWFnZSBwYXRoIGJyb3dzZSBidXR0b25cbiAgICB0aGlzLmJpbmRCcm93c2VCdXR0b24oJy5nZW5lcmFsLXBhbmUgLmJyb3dzZS1mYXZpY29uLXBhdGgnLCAoKSA9PiB7XG4gICAgICBGaWxlRXhwbG9yZXIuZ2V0SW5zdGFuY2UoKS5vcGVuRmlsZShGaWxlRXhwbG9yZXIuSU1BR0VfRVhURU5TSU9OUylcbiAgICAgIC50aGVuKChmaWxlSW5mbykgPT4ge1xuICAgICAgICBpZiAoZmlsZUluZm8pIHtcbiAgICAgICAgICAvLyBzZXQgdGhlIG5ldyBmYXZpY29uIHBhdGhcbiAgICAgICAgICB1cGRhdGVTaXRlKHtcbiAgICAgICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgICAgIGZhdmljb25QYXRoOiBmaWxlSW5mby5hYnNQYXRoLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgdGhpcy5vcGVuKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgTm90aWZpY2F0aW9uLm5vdGlmeUVycm9yKFxuICAgICAgICAgICAgJ0Vycm9yOiBJIGNvdWxkIG5vdCBzZWxlY3QgdGhlIGZhdmljb24uIDxiciAvPjxiciAvPicgK1xuICAgICAgICAgICAgKGVycm9yLm1lc3NhZ2UgfHwgJycpKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5iaW5kQnJvd3NlQnV0dG9uKCcucHVibGlzaC1wYW5lIC5icm93c2UtcHVibGljYXRpb24tcGF0aCcsICgpID0+IHtcbiAgICAgIEZpbGVFeHBsb3Jlci5nZXRJbnN0YW5jZSgpLm9wZW5Gb2xkZXIoKVxuICAgICAgLnRoZW4oKGZpbGVJbmZvKSA9PiB7XG4gICAgICAgIGlmIChmaWxlSW5mbykge1xuICAgICAgICAgIC8vIHNldCB0aGUgbmV3IHB1YmxpY2F0aW9uIHBhdGhcbiAgICAgICAgICB1cGRhdGVTaXRlKHtcbiAgICAgICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgICAgIHB1YmxpY2F0aW9uUGF0aDogZmlsZUluZm8sXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0aGlzLm9wZW4oKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5ub3RpZnlFcnJvcihcbiAgICAgICAgICAgICAgJ0Vycm9yOiBJIGNvdWxkIG5vdCBzZWxlY3QgdGhlIHB1YmxpY2F0aW9uIHBhdGguIDxiciAvPjxiciAvPicgK1xuICAgICAgICAgICAgICAoZXJyb3IubWVzc2FnZSB8fCAnJykpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyBidWlsZCBVSVxuICAgIHRoaXMubW9iaWxlQ2hlY2tib3ggPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1jaGVjaycpXG4gICAgdGhpcy5tb2JpbGVDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgIGVuYWJsZU1vYmlsZTogdGhpcy5tb2JpbGVDaGVja2JveC5jaGVja2VkLFxuICAgICAgfSlcbiAgICB9LCBmYWxzZSlcblxuICAgIC8vIGZpbGwgdGhlIG9wdGlvbnMgb2YgdGhlIHNlcnZpY2Ugc2VsZWN0b3JcbiAgICBDbG91ZFN0b3JhZ2UuZ2V0SW5zdGFuY2UoKS5yZWFkeSgoKSA9PiB7XG4gICAgICBDbG91ZFN0b3JhZ2UuZ2V0SW5zdGFuY2UoKS5nZXRTZXJ2aWNlcygoc2VydmljZXMpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAnLnB1Ymxpc2gtcGFuZSAuaW5wdXQtcHVibGljYXRpb24tc2VydmljZScpXG4gICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnJ1xuICAgICAgICBzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG4gICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgICBvcHRpb24udmFsdWUgPSBzZXJ2aWNlLm5hbWVcbiAgICAgICAgICBvcHRpb24uaW5uZXJIVE1MID0gc2VydmljZS5kaXNwbGF5TmFtZSB8fCBzZXJ2aWNlLm5hbWVcbiAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIC8vIGFkZCBkYXRhIHNvdXJjZSBidXR0b25cbiAgICAodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYW5lLmRhdGEtc291cmNlcy1wYW5lIC5hZGQtZGF0YS1zb3VyY2UtYnRuJykgYXMgSFRNTEVsZW1lbnQpLm9uY2xpY2sgPSAoZSkgPT4gdGhpcy5hZGREYXRhU291cmNlKCk7XG4gICAgKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGFuZS5kYXRhLXNvdXJjZXMtcGFuZSAucmVsb2FkLWRhdGEtc291cmNlcy1idG4nKSBhcyBIVE1MRWxlbWVudCkub25jbGljayA9IChlKSA9PiB1cGRhdGVTaXRlKHtcbiAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgIGRhdGFTb3VyY2VzOiB7XG4gICAgICAgIC4uLmdldFNpdGUoKS5kYXRhU291cmNlcywgLy8gc2ltcGx5IHVwZGF0ZSB3aXRoIHRoZSBzYW1lIGRhdGEgdG8gcmVsb2FkIGluIG9ic2VydmVyXG4gICAgICB9LFxuICAgIH0pXG4gICAgdGhpcy5kYXRhU291cmNlc0xpc3QgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGEtc291cmNlcy1saXN0JykgYXMgSFRNTEVsZW1lbnRcbiAgICB0aGlzLmRhdGFTb3VyY2VzTGlzdC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGVsLWJ0bicpKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pZHgnKVxuICAgICAgICBjb25zdCBzaXRlID0gZ2V0U2l0ZSgpXG4gICAgICAgIGNvbnN0IGRhdGFTb3VyY2VzID0geyAuLi5zaXRlLmRhdGFTb3VyY2VzIH1cbiAgICAgICAgZGVsZXRlIGRhdGFTb3VyY2VzW2lkeF1cbiAgICAgICAgdXBkYXRlU2l0ZSh7XG4gICAgICAgICAgLi4uc2l0ZSxcbiAgICAgICAgICBkYXRhU291cmNlcyxcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtYnRuJykpIHtcbiAgICAgICAgICBjb25zdCBpZHggPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWR4JylcbiAgICAgICAgICBjb25zdCBzaXRlID0gZ2V0U2l0ZSgpXG4gICAgICAgICAgdGhpcy5lZGl0RGF0YVNvdXJjZShpZHgsIHNpdGUuZGF0YVNvdXJjZXNbaWR4XSwgKG5ld05hbWUsIGRhdGFTb3VyY2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFTb3VyY2VzID0geyAuLi5zaXRlLmRhdGFTb3VyY2VzIH1cbiAgICAgICAgICAgIGRhdGFTb3VyY2VzW25ld05hbWVdID0gZGF0YVNvdXJjZVxuICAgICAgICAgICAgaWYgKG5ld05hbWUgIT09IGlkeCkgeyBkZWxldGUgZGF0YVNvdXJjZXNbaWR4XSB9XG4gICAgICAgICAgICB1cGRhdGVTaXRlKHtcbiAgICAgICAgICAgICAgLi4uc2l0ZSxcbiAgICAgICAgICAgICAgZGF0YVNvdXJjZXMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZm9udCBidXR0b25cbiAgICAodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYW5lLmZvbnRzLXBhbmUgLmFkZC1mb250LWJ0bicpIGFzIEhUTUxFbGVtZW50KS5vbmNsaWNrID0gKGUpID0+IHRoaXMuYWRkRm9udCgpXG4gICAgdGhpcy5mb250TGlzdCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9udHMtbGlzdCcpIGFzIEhUTUxFbGVtZW50XG4gICAgdGhpcy5mb250TGlzdC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KVxuICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGVsLWJ0bicpKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pZHgnKSwgMTApXG4gICAgICAgIGNvbnN0IGZvbnRzID0gZ2V0U2l0ZSgpLmZvbnRzXG4gICAgICAgIGNvbnN0IG5ld0ZvbnRzID0gZm9udHMuc2xpY2UoKVxuICAgICAgICBuZXdGb250cy5zcGxpY2UoaWR4LCAxKVxuICAgICAgICB1cGRhdGVTaXRlKHtcbiAgICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgICAgZm9udHM6IG5ld0ZvbnRzLFxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZWRpdC1idG4nKSkge1xuICAgICAgICAgIGNvbnN0IGlkeCA9IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pZHgnKSwgMTApXG4gICAgICAgICAgY29uc3QgZm9udHMgPSBnZXRTaXRlKCkuZm9udHNcbiAgICAgICAgICB0aGlzLmVkaXRGb250KGZvbnRzW2lkeF0sIChmb250KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdGb250cyA9IGZvbnRzLnNsaWNlKClcbiAgICAgICAgICAgIG5ld0ZvbnRzW2lkeF0gPSBmb250XG4gICAgICAgICAgICB1cGRhdGVTaXRlKHtcbiAgICAgICAgICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgICAgICAgICBmb250czogbmV3Rm9udHMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogb3BlbiB0aGUgZ2l2ZW4gcGFuZVxuICAgKiBhZGRzIHRoZSBkZXNpcmVkIHBhbmUgY2xhc3MgKyAnLXZpc2libGUnIHRvIHRoaXMuZWxlbWVudFxuICAgKi9cbiAgb3BlblBhbmUocGFuZUNzc0NsYXNzOiBzdHJpbmcpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChwYW5lQ3NzQ2xhc3MgKyAnLXZpc2libGUnKVxuICAgIC8vIGNoYW5nZSB0aGUgc2VsZWN0aW9uIGluIGNhc2UgaXQgaXMgbm90IGZyb20gYSB1c2VyIGNsaWNrXG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihgI3NldHRpbmdzLSR7cGFuZUNzc0NsYXNzfWApIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICBpbnB1dC5jaGVja2VkID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIGJpbmRzIGFuIGlucHV0IGVsZW1lbnQgd2l0aCBhIGNhbGxiYWNrXG4gICAqL1xuICBiaW5kVGV4dEZpZWxkKGNzc1NlbGVjdG9yOiBzdHJpbmcsIGNiazogKHAxOiBzdHJpbmcpID0+IGFueSkge1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY3NzU2VsZWN0b3IpIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICBpZiAoIWlucHV0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1NldHRpbmdzIHBhbmVsIGVycm9yOiBjb3VsZCBub3QgZmluZCB0aGUgZWxlbWVudCB0byBiaW5kLicpXG4gICAgfVxuICAgIGlucHV0Lm9ua2V5dXAgPSAoZSkgPT4ge1xuICAgICAgY2JrKGlucHV0LnZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBiaW5kcyBhIGJ1dHRvbiBlbGVtZW50IHdpdGggYSBjYWxsYmFja1xuICAgKi9cbiAgYmluZEJyb3dzZUJ1dHRvbihjc3NTZWxlY3Rvcjogc3RyaW5nLCBjYms6ICgpID0+IGFueSkge1xuICAgIGNvbnN0IGJ0biA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGNzc1NlbGVjdG9yKVxuICAgIGlmICghYnRuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1NldHRpbmdzIHBhbmVsIGVycm9yOiBjb3VsZCBub3QgZmluZCB0aGUgZWxlbWVudCB0byBiaW5kLicpXG4gICAgfVxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNiaygpXG4gICAgfSwgZmFsc2UpXG4gIH1cblxuICAvKipcbiAgICogc2V0IHRoZSB2YWx1ZSB0byB0aGUgaW5wdXQgZWxlbWVudFxuICAgKiBAc2VlIHNpbGV4Lm1vZGVsLkhlYWRcbiAgICovXG4gIHNldElucHV0VmFsdWUoY3NzU2VsZWN0b3I6IHN0cmluZywgb3B0X3ZhbHVlPzogc3RyaW5nKSB7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3RvcikgYXMgSFRNTElucHV0RWxlbWVudFxuICAgIGlmIChvcHRfdmFsdWUpIHtcbiAgICAgIGlmIChvcHRfdmFsdWUgIT09IGlucHV0LnZhbHVlKSBpbnB1dC52YWx1ZSA9IG9wdF92YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5wdXQudmFsdWUgIT09ICcnKSBpbnB1dC52YWx1ZSA9ICcnXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHNldCB0aGUgcHViaWNhdGlvbiBwYXRoIHRvIGRpc3BsYXlcbiAgICogQHNlZSBzaWxleC5tb2RlbC5IZWFkXG4gICAqIEBwYXJhbSBmaWxlSW5mbyAgIHRoZSBwdWJsaWNhdGlvbiBwYXRoXG4gICAqL1xuICBzZXRQdWJsaWNhdGlvblBhdGgoZmlsZUluZm8/OiBGaWxlSW5mbykge1xuICAgIGlmIChmaWxlSW5mbyAhPSBudWxsICkge1xuICAgICAgLy8gc2V0IGlucHV0IHRhZ3MgdGhlIHZhbHVlc1xuICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcucHVibGlzaC1wYW5lIC5pbnB1dC1wdWJsaWNhdGlvbi1zZXJ2aWNlJywgZmlsZUluZm8uc2VydmljZSlcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnLnB1Ymxpc2gtcGFuZSAuaW5wdXQtcHVibGljYXRpb24tcGF0aCcsIGZpbGVJbmZvLnBhdGgpXG5cbiAgICAgIC8vIGRpc3BsYXkgdGhlIFVJIHdpdGggcHVibGljYXRpb24gcGF0aCBzZXRcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdwdWJsaWNhdGlvbi1wYXRoLW5vdC1zZXQnKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldElucHV0VmFsdWUoJy5wdWJsaXNoLXBhbmUgLmlucHV0LXB1YmxpY2F0aW9uLXNlcnZpY2UnLCAnJylcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnLnB1Ymxpc2gtcGFuZSAuaW5wdXQtcHVibGljYXRpb24tcGF0aCcsICcnKVxuXG4gICAgICAvLyBkaXNwbGF5IHRoZSBcIm5vdCBzZXRcIiBVSVxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3B1YmxpY2F0aW9uLXBhdGgtbm90LXNldCcpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIG9wZW4gc2V0dGluZ3MgZGlhbG9nXG4gICAqIEBwYXJhbSBvcHRfY2JrICAgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xvc2VzIHRoZSBkaWFsb2dcbiAgICogQHBhcmFtIG9wdF9wYW5lQ3NzQ2xhc3MgICBjc3MgY2xhc3Mgb2YgdGhlIHBhbmUgdG8gb3BlblxuICAgKi9cbiAgb3BlbihvcHRfY2JrPzogKCgpID0+IGFueSksIG9wdF9wYW5lQ3NzQ2xhc3M/OiBzdHJpbmcpIHtcbiAgICB0aGlzLm1vZGFsRGlhbG9nLm9wZW4oe2Niazogb3B0X2NiaywgcGFuZTogb3B0X3BhbmVDc3NDbGFzc30pXG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IHRoZSBkaWFsb2dcbiAgICovXG4gIHJlZHJhdygpIHtcbiAgICBjb25zdCBzaXRlID0gZ2V0U2l0ZSgpXG5cbiAgICB0aGlzLmZvbnRMaXN0LmlubmVySFRNTCA9IHRoaXMuZ2V0Rm9udExpc3QoZ2V0U2l0ZSgpLmZvbnRzKVxuICAgIHRoaXMuZGF0YVNvdXJjZXNMaXN0LmlubmVySFRNTCA9IHRoaXMuZ2V0RGF0YVNvdXJjZXNMaXN0KHNpdGUuZGF0YVNvdXJjZXMpXG5cbiAgICB0aGlzLnNldFB1YmxpY2F0aW9uUGF0aChzaXRlLnB1YmxpY2F0aW9uUGF0aClcbiAgICB0aGlzLm1vYmlsZUNoZWNrYm94LmNoZWNrZWQgPSBzaXRlLmVuYWJsZU1vYmlsZVxuXG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcuZ2VuZXJhbC1wYW5lIC5pbnB1dC1mYXZpY29uLXBhdGgnLCBzaXRlLmZhdmljb25QYXRoKVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnLnB1Ymxpc2gtcGFuZSAuaW5wdXQtd2Vic2l0ZS11cmwnLCBzaXRlLndlYnNpdGVVcmwpXG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcuZ2VuZXJhbC1wYW5lIC5pbnB1dC1zaXRlLXdpZHRoJywgc2l0ZS53aWR0aC50b1N0cmluZygpKVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnLmdlbmVyYWwtcGFuZSAuaW5wdXQtdGl0bGUnLCBzaXRlLnRpdGxlKVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnLmdlbmVyYWwtcGFuZSAuaW5wdXQtbGFuZycsIHNpdGUubGFuZylcbiAgICB0aGlzLnNldElucHV0VmFsdWUoJy5nZW5lcmFsLXBhbmUgLmlucHV0LWRlc2NyaXB0aW9uJywgc2l0ZS5kZXNjcmlwdGlvbilcbiAgICB0aGlzLnNldElucHV0VmFsdWUoJy5zb2NpYWwtcGFuZSAuaW5wdXQtdHdpdHRlcicsIHNpdGUudHdpdHRlclNvY2lhbClcbiAgICB0aGlzLnNldElucHV0VmFsdWUoJy5zb2NpYWwtcGFuZSAuaW5wdXQtZGVzY3JpcHRpb24nLCBzaXRlLmRlc2NyaXB0aW9uU29jaWFsKVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnLnNvY2lhbC1wYW5lIC5pbnB1dC10aXRsZScsIHNpdGUudGl0bGVTb2NpYWwpXG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcuc29jaWFsLXBhbmUgLmlucHV0LWltYWdlLXBhdGgnLCBzaXRlLnRodW1ibmFpbFNvY2lhbFBhdGgpXG4gIH1cbiAgZ2V0RGF0YVNvdXJjZXNMaXN0KGRhdGFTb3VyY2VzOiBEYXRhU291cmNlcykge1xuICAgIHJldHVybiAnPHVsPicgK1xuICAgICAgICBPYmplY3Qua2V5cyhkYXRhU291cmNlcylcbiAgICAgICAgICAgIC5tYXAoKG5hbWUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBkYXRhU291cmNlID0gZGF0YVNvdXJjZXNbbmFtZV1cbiAgICAgICAgICAgICAgY29uc3QgaHRtbEVudGl0eVAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgICAgICAgaHRtbEVudGl0eVAudGV4dENvbnRlbnQgPSBkYXRhU291cmNlLmRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhU291cmNlLmRhdGEpIDogJydcbiAgICAgICAgICAgICAgcmV0dXJuIGA8bGk+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1aVwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWJ0biBmYSBmYS1wZW5jaWxcIiB0aXRsZT1cIkVkaXQgdGhpcyBkYXRhIHNvdXJjZVwiIGRhdGEtaWR4PVwiJHtuYW1lfVwiPjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkZWwtYnRuXCIgdGl0bGU9XCJSZW1vdmUgdGhpcyBkYXRhIHNvdXJjZVwiIGRhdGEtaWR4PVwiJHtuYW1lfVwiPjwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgICA8aDM+JHsgbmFtZSB9ICZuYnNwPHNtYWxsPigkeyBkYXRhU291cmNlLmRhdGEgPyBPYmplY3Qua2V5cyhkYXRhU291cmNlLmRhdGEpLmxlbmd0aCArICcgZWxlbWVudHMnIDogJ2xvYWRpbmcgZGF0YS4uLicgfSk8L3NtYWxsPjwvaDM+XG4gICAgICAgICAgPHA+JHsgZGF0YVNvdXJjZS5ocmVmIH08L3A+XG4gICAgICAgICAgPHByZT4keyBodG1sRW50aXR5UC5pbm5lckhUTUwgfTwvcHJlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+YFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcnKSArXG4gICAgICAgICc8L3VsPidcbiAgfVxuXG4gIGFkZERhdGFTb3VyY2UoKSB7XG4gICAgdGhpcy5lZGl0RGF0YVNvdXJjZSgnTXkgcGhvdG9zJywge2hyZWY6ICdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcGhvdG9zJywgcm9vdDogJyd9LFxuICAgICAgICAobmFtZSwgZGF0YVNvdXJjZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGFTb3VyY2VzID0geyAuLi5nZXRTaXRlKCkuZGF0YVNvdXJjZXMgfVxuICAgICAgICAgIGlmIChkYXRhU291cmNlc1tuYW1lXSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIGRhdGEgc291cmNlIGFscmVhZHkgZXhpc3RzIGluIHRoaXMgd2Vic2l0ZScpXG4gICAgICAgICAgICBOb3RpZmljYXRpb24uYWxlcnQoJ0Vycm9yJywgJ1RoaXMgZGF0YSBzb3VyY2UgYWxyZWFkeSBleGlzdHMgaW4gdGhpcyB3ZWJzaXRlJywgKCkgPT4ge30pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGFTb3VyY2VzW25hbWVdID0gZGF0YVNvdXJjZVxuICAgICAgICAgICAgdXBkYXRlU2l0ZSh7XG4gICAgICAgICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgICAgICAgZGF0YVNvdXJjZXMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgfVxuXG4gIGVkaXREYXRhU291cmNlKG9sZE5hbWU6IHN0cmluZywgZGF0YVNvdXJjZTogRGF0YVNvdXJjZSwgY2JrOiAobmFtZTogc3RyaW5nLCBkYXRhU291cmNlOiBEYXRhU291cmNlKSA9PiB2b2lkKSB7XG4gICAgTm90aWZpY2F0aW9uLnByb21wdCgnRWRpdCBEYXRhIFNvdXJjZScsXG4gICAgICAnV2hhdCBpcyB0aGUgVVJMIG9mIHlvdXIgZGF0YSBzb3VyY2U/JyxcbiAgICAgIGRhdGFTb3VyY2UuaHJlZiwgJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9waG90b3MnLCAob2ssIGhyZWYpID0+IHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnByb21wdCgnRWRpdCBEYXRhIFNvdXJjZScsXG4gICAgICAgICAgICAnV2hhdCBpcyB0aGUgbmFtZSBvZiB5b3VyIGRhdGEgc291cmNlPycsXG4gICAgICAgICAgICBvbGROYW1lLCAnTXkgcGhvdG9zJywgKF9vaywgbmFtZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoX29rKSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnByb21wdCgnRWRpdCBEYXRhIFNvdXJjZScsXG4gICAgICAgICAgICAgICAgICAnV2hhdCBpcyB0aGUgcm9vdCBvZiB5b3VyIGRhdGEgc291cmNlPycsXG4gICAgICAgICAgICAgICAgICBkYXRhU291cmNlLnJvb3QsICcnLCAoX19vaywgcm9vdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX19vaykge1xuICAgICAgICAgICAgICAgICAgICAgIGNiayhuYW1lLCB7aHJlZiwgcm9vdH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApXG4gIH1cblxuICBnZXRGb250TGlzdChmb250czogRm9udFtdKSB7XG4gICAgcmV0dXJuICc8dWw+JyArXG4gICAgICAgIGZvbnRzXG4gICAgICAgICAgICAubWFwKChmb250LCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaWZyYW1lQ29udGVudCA9IGVuY29kZVVSSUNvbXBvbmVudChgXG4gICAgICAgIDxsaW5rIGhyZWY9XCIke2ZvbnQuaHJlZn1cIiByZWw9XCJzdHlsZXNoZWV0XCI+XG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6ICR7Zm9udC5mYW1pbHl9O1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC1zaXplOjE0cHg7XCI+JHtmb250LmZhbWlseX08L3NwYW4+IC0mbmJzcDtcbiAgICAgICAgPHNwYW4gc3R5bGU9XCJmb250LXNpemU6MjhweDtcIj4ke2ZvbnQuZmFtaWx5fTwvc3Bhbj4gLSZuYnNwO1xuICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTo1NnB4O1wiPiR7Zm9udC5mYW1pbHl9PC9zcGFuPlxuICAgICAgYClcbiAgICAgICAgICAgICAgcmV0dXJuIGA8bGk+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1aVwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWJ0biBmYSBmYS1wZW5jaWxcIiB0aXRsZT1cIkVkaXQgdGhpcyBmb250XCIgZGF0YS1pZHg9XCIke2lkeH1cIj48L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGVsLWJ0blwiIHRpdGxlPVwiUmVtb3ZlIHRoaXMgZm9udFwiIGRhdGEtaWR4PVwiJHtpZHh9XCI+PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDxpZnJhbWUgc3JjPVwiZGF0YTp0ZXh0L2h0bWwsJHtpZnJhbWVDb250ZW50fVwiPjwvaWZyYW1lPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+YFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcnKSArXG4gICAgICAgICc8L3VsPidcbiAgfSAgYWRkRm9udCgpIHtcbiAgICB0aGlzLmVkaXRGb250KFxuICAgICAgICB7XG4gICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG8nLFxuICAgICAgICAgIGZhbWlseTogJ1xcJ1JvYm90b1xcJywgc2Fucy1zZXJpZicsXG4gICAgICAgIH0sXG4gICAgICAgIChuZXdGb250KSA9PiB7XG4gICAgICAgICAgY29uc3QgZm9udHMgPSBnZXRTaXRlKCkuZm9udHNcbiAgICAgICAgICBpZiAoISFmb250cy5maW5kKChmb250OiBGb250KSA9PiBmb250LmhyZWYgPT09IG5ld0ZvbnQuaHJlZiAmJiBmb250LmZhbWlseSA9PT0gbmV3Rm9udC5mYW1pbHkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoaXMgZm9udCBpcyBhbHJlYWR5IGVtYmVkZGVkIGluIHRoaXMgd2Vic2l0ZScpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgICAgICAgICAuLi5nZXRTaXRlKCksXG4gICAgICAgICAgICAgIGZvbnRzOiBmb250cy5jb25jYXQobmV3Rm9udCksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgfVxuXG4gIGVkaXRGb250KGZvbnQsIGNiaykge1xuICAgIE5vdGlmaWNhdGlvbi5wcm9tcHQoJ0VkaXQgZm9udCcsXG4gICAgICAnV2hhdCBpcyB0aGUgQ1NTIHN0eWxlc2hlZXQgZm9yIHlvdXIgZm9udCwgZS5nLiBodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvJyxcbiAgICAgIGZvbnQuaHJlZiwgJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG8nLCAob2ssIGhyZWYpID0+IHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnByb21wdCgnRWRpdCBmb250JyxcbiAgICAgICAgICAgICdXaGF0IGlzIHRoZSBuYW1lIG9mIHlvdXIgZm9udCwgZS5nLiBcXCdSb2JvdG9cXCcsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgZm9udC5mYW1pbHksICdcXCdSb2JvdG9cXCcsIHNhbnMtc2VyaWYnLCAoX29rLCBmYW1pbHkpID0+IHtcbiAgICAgICAgICAgICAgaWYgKF9vaykge1xuICAgICAgICAgICAgICAgIGNiaygoe2ZhbWlseSwgaHJlZn0gYXMgRm9udCkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBjbG9zZSBlZGl0b3JcbiAgICogdGhpcyBpcyBwcml2YXRlIG1ldGhvZCwgZG8gbm90IGNhbGwgaXRcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMubW9kYWxEaWFsb2cuY2xvc2UoKVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVQdWJsaWNhdGlvblBhdGgodXBkYXRlT2JqOiBhbnkpIHtcbiAgICBjb25zdCBmaWxlSW5mbyA9IGdldFNpdGUoKS5wdWJsaWNhdGlvblBhdGhcbiAgICBjb25zdCBmaWxlSW5mb05ldyA9IFVybC51cGRhdGVGaWxlSW5mbyhmaWxlSW5mbywgdXBkYXRlT2JqKVxuICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgLi4uZ2V0U2l0ZSgpLFxuICAgICAgcHVibGljYXRpb25QYXRoOiBmaWxlSW5mb05ldyxcbiAgICB9KVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIHRoZSBTaWxleCBtZW51IG9uIHRoZSBsZWZ0XG4gKiBiYXNlZCBvbiBjbG9zdXJlIG1lbnUgY2xhc3NcbiAqXG4gKi9cblxuaW1wb3J0IHsgRGlyZWN0aW9uLCBFbGVtZW50U3RhdGUsIEVsZW1lbnRUeXBlIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IEZpbGVFeHBsb3JlciB9IGZyb20gJy4vZGlhbG9nL0ZpbGVFeHBsb3JlcidcbmltcG9ydCB7XG4gIElOSVRJQUxfRUxFTUVOVF9TSVpFLFxuICBnZXRDcmVhdGlvbkRyb3Bab25lLFxuICBnZXREcm9wU3R5bGVcbn0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS91dGlscydcbmltcG9ydCB7IEtleWJvYXJkLCBTaG9ydGN1dCB9IGZyb20gJy4uL3V0aWxzL0tleWJvYXJkJ1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBpc0RpYWxvZ1Zpc2libGUsIGdldFZpc2libGVEaWFsb2dzIH0gZnJvbSAnLi4vdWktc3RvcmUvdXRpbHMnXG5pbXBvcnQgeyBvcGVuRGlhbG9nIH0gZnJvbSAnLi4vdWktc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQge1xuICBhZGRFbGVtZW50LFxuICBwb3NpdGlvbixcbiAgbW92ZURvd24sXG4gIG1vdmVUb0JvdHRvbSxcbiAgbW92ZVRvVG9wLFxuICBtb3ZlVXAsXG4gIHJlbW92ZUVsZW1lbnRzLFxuICBzZWxlY3RCb2R5LFxuICBzZXRJbWFnZVVybFxufSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2Rpc3BhdGNoZXJzJ1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vQ2xpZW50Q29uZmlnJ1xuaW1wb3J0IHsgY29weVNlbGVjdGlvbiwgZHVwbGljYXRlU2VsZWN0aW9uLCBwYXN0ZUNsaXBCb2FyZCB9IGZyb20gJy4uL2NvcHknXG5pbXBvcnQgeyBjcmVhdGVQYWdlLCBlZGl0UGFnZSwgcmVtb3ZlUGFnZSB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQgeyBnZXRCb2R5IH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0RG9tRWxlbWVudCB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZG9tJ1xuaW1wb3J0IHsgZ2V0U2l0ZSwgc3Vic2NyaWJlU2l0ZSB9IGZyb20gJy4uL3NpdGUtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBnZXRTaXRlSUZyYW1lLCBnZXRTaXRlRG9jdW1lbnQgfSBmcm9tICcuL1NpdGVGcmFtZSdcbmltcG9ydCB7IGdldFVpLCBzdWJzY3JpYmVVaSwgdXBkYXRlVWkgfSBmcm9tICcuLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldFVpRWxlbWVudHMgfSBmcm9tICcuLi91aS1zdG9yZS9VaUVsZW1lbnRzJ1xuaW1wb3J0IHsgaGFzUmVkbywgaGFzVW5kbywgcmVkbywgdW5kbyB9IGZyb20gJy4uL3VuZG8nXG5pbXBvcnQgeyBvcGVuQ3NzRWRpdG9yIH0gZnJvbSAnLi9kaWFsb2cvQ3NzRWRpdG9yJ1xuaW1wb3J0IHsgb3BlbkRhc2hib2FyZFRvTG9hZEFXZWJzaXRlLCBvcGVuRmlsZSwgcHVibGlzaCwgc2F2ZSB9IGZyb20gJy4uL2ZpbGUnXG5pbXBvcnQgeyBvcGVuSHRtbEhlYWRFZGl0b3IgfSBmcm9tICcuL2RpYWxvZy9IdG1sRWRpdG9yJ1xuaW1wb3J0IHsgb3BlbkpzRWRpdG9yIH0gZnJvbSAnLi9kaWFsb2cvSnNFZGl0b3InXG5pbXBvcnQgeyBvcGVuU2V0dGluZ3NEaWFsb2cgfSBmcm9tICcuL2RpYWxvZy9TZXR0aW5nc0RpYWxvZydcbmltcG9ydCB7IHByZXZpZXcsIHByZXZpZXdSZXNwb25zaXplIH0gZnJvbSAnLi4vcHJldmlldydcbmltcG9ydCB7IHN1YnNjcmliZUVsZW1lbnRzIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN1YnNjcmliZVBhZ2VzIH0gZnJvbSAnLi4vcGFnZS1zdG9yZS9pbmRleCdcblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxuY29uc3QgZWxlbWVudCA9IGdldFVpRWxlbWVudHMoKS5tZW51XG5jb25zdCBrZXlib2FyZCA9IG5ldyBLZXlib2FyZChkb2N1bWVudClcbmxldCBpbml0RG9uZSA9IGZhbHNlXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0TWVudSgpIHtcbiAgaWYoIWluaXREb25lKSBidWlsZFVpKClcbiAgaW5pdERvbmUgPSB0cnVlXG4gIHN1YnNjcmliZVNpdGUoKCkgPT4gcmVkcmF3KCkpXG4gIHN1YnNjcmliZVBhZ2VzKCgpID0+IHJlZHJhdygpKVxuICBzdWJzY3JpYmVFbGVtZW50cygoKSA9PiByZWRyYXcoKSlcbiAgc3Vic2NyaWJlVWkoKCkgPT4gcmVkcmF3KCkpXG5cbn1cblxuY29uc3QgU1VCX01FTlVfQ0xBU1NFUyA9IFtcbiAgJ3BhZ2UtdG9vbC12aXNpYmxlJywgJ2Fib3V0LW1lbnUtdmlzaWJsZScsICdmaWxlLW1lbnUtdmlzaWJsZScsXG4gICdjb2RlLW1lbnUtdmlzaWJsZScsICdhZGQtbWVudS12aXNpYmxlJyxcbl1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlQWxsU3ViTWVudSgpIHtcbiAgU1VCX01FTlVfQ0xBU1NFUy5mb3JFYWNoKChjbGFzc05hbWUpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKVxuICB9KVxufVxuXG5mdW5jdGlvbiB0b2dnbGVTdWJNZW51KGNsYXNzTmFtZVRvVG9nZ2xlKSB7XG4gIFNVQl9NRU5VX0NMQVNTRVMuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB7XG4gICAgaWYgKGNsYXNzTmFtZVRvVG9nZ2xlID09PSBjbGFzc05hbWUpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIG9wZW4gdGhlIHBhZ2UgcGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93UGFnZXMoKSB7XG4gIHRvZ2dsZVN1Yk1lbnUoJ3BhZ2UtdG9vbC12aXNpYmxlJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleWJvYXJkQXR0YWNoKGRvYzogSFRNTERvY3VtZW50KSB7XG4gIGluaXRNZW51KClcbiAgcmV0dXJuIGtleWJvYXJkLmF0dGFjaChkb2MpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZXlib2FyZEFkZFNob3J0Y3V0KHM6IFNob3J0Y3V0LCBjYms6IChwMTogRXZlbnQpID0+IHZvaWQpIHtcbiAgaW5pdE1lbnUoKVxuICByZXR1cm4ga2V5Ym9hcmQuYWRkU2hvcnRjdXQocywgY2JrKVxufVxuXG5mdW5jdGlvbiBlbEZyb21Db21wRGVmKGNvbXAsIGlkKSB7XG4gIC8vIGJ1aWxkIHRoZSBkb20gZWxlbWVudHMgZm9yIGVhY2ggY29tcCBieSBjYXRlZ29yeVxuICBjb25zdCBpY29uQ2xhc3NOYW1lID0gY29tcC5mYUljb25DbGFzcyB8fCAncHJvZG90eXBlLWljb24nXG4gIGNvbnN0IGJhc2VFbGVtZW50VHlwZSA9IGNvbXAuYmFzZUVsZW1lbnQgfHwgJ2h0bWwnXG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgZWwuY2xhc3NMaXN0LmFkZCgnc3ViLW1lbnUtaXRlbScsICdjb21wb25lbnQtaXRlbScpXG4gIGVsLnRpdGxlID0gYCR7Y29tcC5uYW1lfWBcbiAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLW1lbnUtYWN0aW9uJywgJ2luc2VydC4nICsgYmFzZUVsZW1lbnRUeXBlKVxuICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcC1pZCcsIGlkKVxuICBlbC5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJpY29uIGZhLWludmVyc2UgJHtpY29uQ2xhc3NOYW1lfVwiPjwvc3Bhbj5cbiAgJHtjb21wLm5hbWV9XG4gIGBcbiAgcmV0dXJuIGVsXG59XG4vKipcbiAqIGNyZWF0ZSB0aGUgbWVudSB3aXRoIGNsb3N1cmUgQVBJXG4gKiBjYWxsZWQgYnkgdGhlIGFwcCBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBidWlsZFVpKCkge1xuICAvLyBTaG9ydGN1dHNcbiAgY29uZmlnLnNob3J0Y3V0cy5mb3JFYWNoKChzaG9ydGN1dCkgPT4ge1xuICAgIGtleWJvYXJkLmFkZFNob3J0Y3V0KHNob3J0Y3V0LCAoZSkgPT4gb25NZW51RXZlbnQoc2hvcnRjdXQuaWQsIGUpKVxuICB9KVxuXG4gIC8vIGNvbXBvbmVudHNcbiAgc3Vic2NyaWJlVWkoKHByZXZTdGF0ZSwgbmV4dFN0YXRlKSA9PiB7XG4gICAgaWYocHJldlN0YXRlLmNvbXBvbmVudHMgIT09IG5leHRTdGF0ZS5jb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBsaXN0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLW1lbnUtY29udGFpbmVyJylcblxuICAgICAgLy8gcmVtb3ZlIHByZXZpb3VzIGJ1dHRvbnNcbiAgICAgIEFycmF5LmZyb20obGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcG9uZW50LWl0ZW0sLmNvbXBvbmVudC1jYXRlZ29yeScpKVxuICAgICAgLmZvckVhY2goKGVsKSA9PiBlbC5yZW1vdmUoKSlcblxuICAgICAgLy8gZ2V0IHRoZSBuZXcgY29tcG9uZW50c1xuICAgICAgY29uc3QgY29tcG9uZW50c0RlZiA9IGdldFVpKCkuY29tcG9uZW50c1xuXG4gICAgICAvLyBidWlsZCBhIGxpc3Qgb2YgY29tcG9uZW50IGNhdGVnb3JpZXNcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0ge31cbiAgICAgIGZvciAoY29uc3QgaWQgaW4gY29tcG9uZW50c0RlZikge1xuICAgICAgICBjb25zdCBjb21wID0gY29tcG9uZW50c0RlZltpZF1cbiAgICAgICAgaWYgKGNvbXAuaXNQcml2YXRlICE9PSB0cnVlKSB7XG4gICAgICAgICAgaWYgKCFlbGVtZW50c1tjb21wLmNhdGVnb3J5XSkge1xuICAgICAgICAgICAgZWxlbWVudHNbY29tcC5jYXRlZ29yeV0gPSBbZWxGcm9tQ29tcERlZihjb21wLCBpZCldXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnRzW2NvbXAuY2F0ZWdvcnldLnB1c2goZWxGcm9tQ29tcERlZihjb21wLCBpZCkpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNyZWF0ZSB0aGUgY29ycmVzcG9uZGluZyBkb21cbiAgICAgIGZvciAoY29uc3QgaWQgaW4gZWxlbWVudHMpIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbGFiZWwgZm9yIHRoZSBjYXRlZ29yeVxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJywgJ2NvbXBvbmVudC1jYXRlZ29yeScpXG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGlkXG4gICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQobGFiZWwpXG5cbiAgICAgICAgLy8gYXR0YWNoIGVhY2ggY29tcCdzIGVsZW1lbnRcbiAgICAgICAgZWxlbWVudHNbaWRdLmZvckVhY2goKGVsKSA9PiBsaXN0LmFwcGVuZENoaWxkKGVsKSlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLy8gZXZlbnQgaGFuZGxpbmdcbiAgZWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICBjb25zdCBhY3Rpb24gPSAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmdldEF0dHJpYnV0ZSgnZGF0YS1tZW51LWFjdGlvbicpIHx8XG4gICAgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1tZW51LWFjdGlvbicpXG4gICAgY29uc3QgY29tcG9uZW50SWQgPSAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmdldEF0dHJpYnV0ZSgnZGF0YS1jb21wLWlkJykgfHxcbiAgICAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbXAtaWQnKVxuICAgIG9uTWVudUV2ZW50KGFjdGlvbiwgZSwgY29tcG9uZW50SWQpXG4gICAgaWYgKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCAmJlxuICAgICEoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51LWNvbnRhaW5lcicpICYmXG4gICAgIShlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpbGV4LW1lbnUnKSkge1xuICAgICAgLy8gbm90IGEgZmlyc3QgbGV2ZWwgbWVudSA9PiBjbG9zZSBzdWIgbWVudXNcbiAgICAgIGNsb3NlQWxsU3ViTWVudSgpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogY29tcHV0ZSB0aGUgZGVzaXJlZCBzdGF0ZSBjaGFnZXMgdG8gYWRkIGFuIGVsZW1lbnQgY2VudGVyZWQgaW4gdGhlIGNvbnRhaW5lciB3aGljaCBpcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEVsZW1lbnRDZW50ZXJlZCh0eXBlOiBFbGVtZW50VHlwZSwgY29tcG9uZW50TmFtZTogc3RyaW5nKTogUHJvbWlzZTxbRWxlbWVudFN0YXRlLCBFbGVtZW50U3RhdGVdPiB7XG4gIGlmICh0eXBlID09PSBFbGVtZW50VHlwZS5TRUNUSU9OKSB7XG4gICAgY29uc3QgW2VsLCB1cGRhdGVkUGFyZW50RGF0YV0gPSBhd2FpdCBhZGRFbGVtZW50KHtcbiAgICAgIHR5cGUsXG4gICAgICBwYXJlbnQ6IGdldEJvZHkoKSxcbiAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtb2JpbGU6IHt9LFxuICAgICAgICBkZXNrdG9wOiB7fSxcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIHJldHVybiBbZWwsIHVwZGF0ZWRQYXJlbnREYXRhXVxuICB9IGVsc2Uge1xuICAgIC8vIGdldCB1c2VmdWwgbWV0cmljc1xuICAgIGNvbnN0IHN0YWdlRWwgPSBnZXRTaXRlSUZyYW1lKClcbiAgICBjb25zdCBzdGFnZVNpemUgPSBzdGFnZUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgY29uc3QgcGFyZW50ID0gZ2V0Q3JlYXRpb25Ecm9wWm9uZShmYWxzZSwgc3RhZ2VFbClcbiAgICBjb25zdCBwYXJlbnRFbCA9IGdldERvbUVsZW1lbnQoZ2V0U2l0ZURvY3VtZW50KCksIHBhcmVudClcbiAgICBjb25zdCBwYXJlbnRTaXplID0gcGFyZW50RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIC8vIGdldCB0aGUgZmluYWwgc3R5bGUgZm9yIHRoZSBlbGVtZW50IHRvIGJlIGNlbnRlcmVkIGluIHRoZSB2aWV3cG9ydFxuICAgIGNvbnN0IHtsZWZ0LCB0b3B9ID0gZ2V0RHJvcFN0eWxlKHtcbiAgICAgIHN0YWdlU2l6ZSxcbiAgICAgIHBhcmVudFNpemUsXG4gICAgICBlbGVtZW50U2l6ZToge1xuICAgICAgICB3aWR0aDogSU5JVElBTF9FTEVNRU5UX1NJWkUsXG4gICAgICAgIGhlaWdodDogSU5JVElBTF9FTEVNRU5UX1NJWkUsXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIGFkZCB0aGUgZWxlbWVudCB0byB0aGUgc2l0ZVxuICAgIGNvbnN0IFtlbCwgdXBkYXRlZFBhcmVudERhdGFdID0gYXdhaXQgYWRkRWxlbWVudCh7XG4gICAgICB0eXBlLFxuICAgICAgcGFyZW50LFxuICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIG1vYmlsZToge30sXG4gICAgICAgIGRlc2t0b3A6IHtcbiAgICAgICAgICB0b3A6IHRvcCArICdweCcsXG4gICAgICAgICAgbGVmdDogbGVmdCArICdweCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICByZXR1cm4gW2VsLCB1cGRhdGVkUGFyZW50RGF0YV1cbiAgfVxufVxuXG4vKipcbiAqIG9wZW4gZmlsZSBleHBsb3JlciwgY2hvb3NlIGFuIGltYWdlIGFuZCBhZGQgaXQgdG8gdGhlIHN0YWdlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBicm93c2VBbmRBZGRJbWFnZShjb21wb25lbnROYW1lOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IEZpbGVFeHBsb3Jlci5nZXRJbnN0YW5jZSgpLm9wZW5GaWxlKEZpbGVFeHBsb3Jlci5JTUFHRV9FWFRFTlNJT05TKVxuICAgIGlmIChmaWxlSW5mbykge1xuXG4gICAgICAvLyBjcmVhdGUgdGhlIGVsZW1lbnRcbiAgICAgIGNvbnN0IFtpbWdEYXRhXSA9IGF3YWl0IGFkZEVsZW1lbnRDZW50ZXJlZChFbGVtZW50VHlwZS5JTUFHRSwgY29tcG9uZW50TmFtZSlcbiAgICAgIC8vIGxvYWQgdGhlIGltYWdlXG4gICAgICBzZXRJbWFnZVVybChpbWdEYXRhLCBmaWxlSW5mby5hYnNQYXRoKVxuICAgIH1cbiAgfSBjYXRjaChlcnJvcikge1xuICAgIE5vdGlmaWNhdGlvbi5ub3RpZnlFcnJvcignRXJyb3I6IEkgZGlkIG5vdCBtYW5hZ2UgdG8gbG9hZCB0aGUgaW1hZ2UuIFxcbicgKyAoZXJyb3IubWVzc2FnZSB8fCAnJykpXG4gIH1cbn1cblxuLyoqXG4gKiByZWRyYXcgdGhlIG1lbnVcbiAqL1xuZnVuY3Rpb24gcmVkcmF3KCkge1xuICBpZiAoaGFzVW5kbygpKSB7XG4gICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudW5kbycpLmNsYXNzTGlzdC5yZW1vdmUoJ29mZicpXG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudW5kbycpLmNsYXNzTGlzdC5hZGQoJ29mZicpXG4gIH1cbiAgaWYgKGhhc1JlZG8oKSkge1xuICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJlZG8nKS5jbGFzc0xpc3QucmVtb3ZlKCdvZmYnKVxuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJlZG8nKS5jbGFzc0xpc3QuYWRkKCdvZmYnKVxuICB9XG59XG5cbi8qKlxuICogaGFuZGxlcyBjbGljayBldmVudHNcbiAqIGNhbGxzIG9uU3RhdHVzIHRvIG5vdGlmeSB0aGUgY29udHJvbGxlclxuICogQHBhcmFtIHR5cGUgaXMgdGhlIFwiaWRcIiBrZXkgaW4gdGhlIENsaWVudENvbmZpZyBvYmplY3RcbiAqIEBwYXJhbSBldmVudCBvYmplY3Qgd2hpY2ggbmVlZHMgdG8gaGF2ZSB7YWx0S2V5OiBib29sZWFuLCBjdHJsS2V5OiBib29sZWFuLCBzaGlmdEtleTogYm9vbGVhbn1cbiAqIEBwYXJhbSBjb21wb25lbnROYW1lIHRoZSBjb21wb25lbnQgdHlwZSBpZiBpdCBpcyBhIGNvbXBvbmVudFxuICogQHNlZSBDbGllbnRDb25maWdcbiAqL1xuZnVuY3Rpb24gb25NZW51RXZlbnQodHlwZTogc3RyaW5nLCBldmVudDogRXZlbnQsIGNvbXBvbmVudE5hbWU/OiBzdHJpbmcpIHtcbiAgY29uc3QgbW91c2VFdmVudCA9IGV2ZW50IGFzIE1vdXNlRXZlbnRcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnc2hvdy5wYWdlcyc6XG4gICAgICB0b2dnbGVTdWJNZW51KCdwYWdlLXRvb2wtdmlzaWJsZScpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3Nob3cuYWJvdXQubWVudSc6XG4gICAgICB0b2dnbGVTdWJNZW51KCdhYm91dC1tZW51LXZpc2libGUnKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzaG93LmZpbGUubWVudSc6XG4gICAgICB0b2dnbGVTdWJNZW51KCdmaWxlLW1lbnUtdmlzaWJsZScpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3Nob3cuY29kZS5tZW51JzpcbiAgICAgIHRvZ2dsZVN1Yk1lbnUoJ2NvZGUtbWVudS12aXNpYmxlJylcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2hvdy5hZGQubWVudSc6XG4gICAgICB0b2dnbGVTdWJNZW51KCdhZGQtbWVudS12aXNpYmxlJylcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZmlsZS5uZXcnOlxuICAgICAgb3BlbkRhc2hib2FyZFRvTG9hZEFXZWJzaXRlKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZmlsZS5zYXZlYXMnOlxuICAgICAgc2F2ZSgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2ZpbGUucHVibGlzaC5zZXR0aW5ncyc6XG4gICAgICBvcGVuU2V0dGluZ3NEaWFsb2coKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdmaWxlLmZvbnRzJzpcbiAgICAgIG9wZW5TZXR0aW5nc0RpYWxvZyhudWxsLCAnZm9udHMtcGFuZScpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2ZpbGUucHVibGlzaCc6XG4gICAgICBwdWJsaXNoKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZmlsZS5zYXZlJzpcbiAgICAgIHNhdmUoZ2V0U2l0ZSgpLmZpbGUpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2ZpbGUub3Blbic6XG4gICAgICBvcGVuRmlsZSgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3ZpZXcuZmlsZSc6XG4gICAgICBwcmV2aWV3KClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAndmlldy5maWxlLnJlc3BvbnNpemUnOlxuICAgICAgcHJldmlld1Jlc3BvbnNpemUoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICd2aWV3Lm9wZW4uZmlsZUV4cGxvcmVyJzpcbiAgICAgIEZpbGVFeHBsb3Jlci5nZXRJbnN0YW5jZSgpLm9wZW5GaWxlKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAndmlldy5vcGVuLmNzc0VkaXRvcic6XG4gICAgICBvcGVuQ3NzRWRpdG9yKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAndmlldy5vcGVuLmpzRWRpdG9yJzpcbiAgICAgIG9wZW5Kc0VkaXRvcigpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3ZpZXcub3Blbi5odG1sSGVhZEVkaXRvcic6XG4gICAgICBvcGVuSHRtbEhlYWRFZGl0b3IoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICd0b29scy5tb2JpbGUubW9kZSc6IHtcbiAgICAgIGNvbnN0IHVpID0gZ2V0VWkoKVxuICAgICAgdXBkYXRlVWkoe1xuICAgICAgICAuLi51aSxcbiAgICAgICAgbW9iaWxlRWRpdG9yOiAhdWkubW9iaWxlRWRpdG9yLFxuICAgICAgfSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3Rvb2xzLm1vYmlsZS5tb2RlLm9uJzpcbiAgICAgIHVwZGF0ZVVpKHtcbiAgICAgICAgLi4uZ2V0VWkoKSxcbiAgICAgICAgbW9iaWxlRWRpdG9yOiB0cnVlLFxuICAgICAgfSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAndG9vbHMubW9iaWxlLm1vZGUub2ZmJzpcbiAgICAgIHVwZGF0ZVVpKHtcbiAgICAgICAgLi4uZ2V0VWkoKSxcbiAgICAgICAgbW9iaWxlRWRpdG9yOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3Rvb2xzLm5leHQucHJvcGVydHknOiB7XG4gICAgICBjb25zdCBkaWFsb2dzID0gZ2V0VWkoKS5kaWFsb2dzLmZpbHRlcihkID0+IGQudHlwZSA9PT0gJ3Byb3BlcnRpZXMnKVxuICAgICAgY29uc3QgY3VycmVudElkeCA9IGRpYWxvZ3MuZmluZEluZGV4KGQgPT4gZC52aXNpYmxlKVxuICAgICAgY29uc3QgbmV4dCA9IGRpYWxvZ3NbKGN1cnJlbnRJZHggKyAxKSAlIGRpYWxvZ3MubGVuZ3RoXVxuICAgICAgb3BlbkRpYWxvZyhuZXh0KVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAndG9vbHMucHJldi5wcm9wZXJ0eSc6IHtcbiAgICAgIGNvbnN0IGRpYWxvZ3MgPSBnZXRVaSgpLmRpYWxvZ3MuZmlsdGVyKGQgPT4gZC50eXBlID09PSAncHJvcGVydGllcycpXG4gICAgICBjb25zdCBjdXJyZW50SWR4ID0gZGlhbG9ncy5maW5kSW5kZXgoZCA9PiBkLnZpc2libGUpXG4gICAgICBjb25zdCBwcmV2ID0gZGlhbG9nc1soY3VycmVudElkeCAtIDEgKyBkaWFsb2dzLmxlbmd0aCkgJSBkaWFsb2dzLmxlbmd0aF1cbiAgICAgIG9wZW5EaWFsb2cocHJldilcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ2luc2VydC5wYWdlJzpcbiAgICAgIGNyZWF0ZVBhZ2UoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdpbnNlcnQudGV4dCc6IHtcbiAgICAgIGFkZEVsZW1lbnRDZW50ZXJlZChFbGVtZW50VHlwZS5URVhULCBjb21wb25lbnROYW1lKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnaW5zZXJ0LnNlY3Rpb24nOiB7XG4gICAgICBhZGRFbGVtZW50Q2VudGVyZWQoRWxlbWVudFR5cGUuU0VDVElPTiwgY29tcG9uZW50TmFtZSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ2luc2VydC5odG1sJzoge1xuICAgICAgYWRkRWxlbWVudENlbnRlcmVkKEVsZW1lbnRUeXBlLkhUTUwsIGNvbXBvbmVudE5hbWUpXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdpbnNlcnQuaW1hZ2UnOiB7XG4gICAgICBicm93c2VBbmRBZGRJbWFnZShjb21wb25lbnROYW1lKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnaW5zZXJ0LmNvbnRhaW5lcic6IHtcbiAgICAgIGFkZEVsZW1lbnRDZW50ZXJlZChFbGVtZW50VHlwZS5DT05UQUlORVIsIGNvbXBvbmVudE5hbWUpXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdlZGl0LmRlbGV0ZS5zZWxlY3Rpb24nOlxuICAgICAgcmVtb3ZlRWxlbWVudHMoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdlZGl0LmVtcHR5LnNlbGVjdGlvbic6XG4gICAgICAvLyBzZWxlY3QgYm9keVxuICAgICAgc2VsZWN0Qm9keSgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2VkaXQuY29weS5zZWxlY3Rpb24nOlxuICAgICAgY29weVNlbGVjdGlvbigpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2VkaXQucGFzdGUuc2VsZWN0aW9uJzpcbiAgICAgIHBhc3RlQ2xpcEJvYXJkKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZWRpdC5kdXBsaWNhdGUuc2VsZWN0aW9uJzpcbiAgICAgIGR1cGxpY2F0ZVNlbGVjdGlvbigpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2VkaXQudW5kbyc6XG4gICAgICB1bmRvKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZWRpdC5yZWRvJzpcbiAgICAgIHJlZG8oKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdlZGl0LnBvc2l0aW9uLmxlZnQnOlxuICAgICAgcG9zaXRpb24oRGlyZWN0aW9uLkxFRlQsIG1vdXNlRXZlbnQpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2VkaXQucG9zaXRpb24ucmlnaHQnOlxuICAgICAgcG9zaXRpb24oRGlyZWN0aW9uLlJJR0hULCBtb3VzZUV2ZW50KVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdlZGl0LnBvc2l0aW9uLnVwJzpcbiAgICAgIHBvc2l0aW9uKERpcmVjdGlvbi5VUCwgbW91c2VFdmVudClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZWRpdC5wb3NpdGlvbi5kb3duJzpcbiAgICAgIHBvc2l0aW9uKERpcmVjdGlvbi5ET1dOLCBtb3VzZUV2ZW50KVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdlZGl0Lm1vdmUudXAnOlxuICAgICAgbW92ZVVwKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZWRpdC5tb3ZlLmRvd24nOlxuICAgICAgbW92ZURvd24oKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdlZGl0Lm1vdmUudG8udG9wJzpcbiAgICAgIG1vdmVUb1RvcCgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2VkaXQubW92ZS50by5ib3R0b20nOlxuICAgICAgbW92ZVRvQm90dG9tKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZWRpdC5kZWxldGUucGFnZSc6XG4gICAgICByZW1vdmVQYWdlKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnZWRpdC5yZW5hbWUucGFnZSc6XG4gICAgICBlZGl0UGFnZSgpXG4gICAgICBicmVha1xuICAgIC8vIEhlbHAgbWVudVxuICAgIGNhc2UgJ2hlbHAud2lraSc6XG4gICAgICB3aW5kb3cub3Blbihjb25maWcuV0lLSV9TSUxFWClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnaGVscC5jcm93ZGZ1bmRpbmcnOlxuICAgICAgd2luZG93Lm9wZW4oY29uZmlnLkNST1dEX0ZVTkRJTkcpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2hlbHAuaXNzdWVzJzpcbiAgICAgIHdpbmRvdy5vcGVuKGNvbmZpZy5JU1NVRVNfU0lMRVgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2hlbHAuZG93bmxvYWRzLndpZGdldCc6XG4gICAgICB3aW5kb3cub3Blbihjb25maWcuRE9XTkxPQURTX1dJREdFVF9TSUxFWClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnaGVscC5kb3dubG9hZHMudGVtcGxhdGUnOlxuICAgICAgd2luZG93Lm9wZW4oY29uZmlnLkRPV05MT0FEU19URU1QTEFURV9TSUxFWClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnaGVscC5hYm91dFNpbGV4TGFicyc6XG4gICAgICB3aW5kb3cub3Blbihjb25maWcuQUJPVVRfU0lMRVhfTEFCUylcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnaGVscC5uZXdzTGV0dGVyJzpcbiAgICAgIHdpbmRvdy5vcGVuKGNvbmZpZy5TVUJTQ1JJQkVfU0lMRVhfTEFCUylcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnaGVscC5kaWFzcG9yYSc6XG4gICAgICB3aW5kb3cub3Blbihjb25maWcuU09DSUFMX0RJQVNQT1JBKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdoZWxwLnR3aXR0ZXInOlxuICAgICAgd2luZG93Lm9wZW4oY29uZmlnLlNPQ0lBTF9UV0lUVEVSKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdoZWxwLmZhY2Vib29rJzpcbiAgICAgIHdpbmRvdy5vcGVuKGNvbmZpZy5TT0NJQUxfRkIpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2hlbHAuZm9ya01lJzpcbiAgICAgIHdpbmRvdy5vcGVuKGNvbmZpZy5GT1JLX0NPREUpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2hlbHAuY29udHJpYnV0ZSc6XG4gICAgICB3aW5kb3cub3Blbihjb25maWcuQ09OVFJJQlVURSlcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUud2FybignbWVudSB0eXBlIG5vdCBmb3VuZCcsIHR5cGUpXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBkZWZpbmUgZXh0ZXJucyBmb3IgbGlicyB1c2VkIGluIFNpbGV4XG4gKi9cblxuaW1wb3J0IHsgQ3NzUnVsZSB9IGZyb20gJy4vc2l0ZS1zdG9yZS90eXBlcydcbmltcG9ydCB7IFByb2RvdHlwZURlcGVuZGVuY3kgfSBmcm9tICcuL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50UHJvcHMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHR5cGU6IGFueSxcbiAgZXhwYW5kYWJsZT86IGJvb2xlYW4sXG4gIGRlZmF1bHQ/OiBhbnksXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudERlZmluaXRpb24ge1xuICBmYUljb25DbGFzcz86IHN0cmluZ1xuICBpbml0aWFsQ3NzPzogQ3NzUnVsZSxcbiAgaW5pdGlhbENzc0NvbnRlbnRDb250YWluZXI/OiBhbnlbXVxuICBpbml0aWFsQ3NzQ2xhc3M/OiBzdHJpbmd8c3RyaW5nW11cbiAgYmFzZUVsZW1lbnQ/OiBzdHJpbmdcbiAgbmFtZT86IHN0cmluZ1xuICBjYXRlZ29yeT86IHN0cmluZ1xuICBpc1ByaXZhdGU/OiBib29sZWFuXG4gIHByb3BzOiBDb21wb25lbnRQcm9wc1tdLFxuICAvLyB0ZXh0OiBhbnkgLy8gRklYTUU6IHdoeT8gdGhpcyBpcyBvbmx5IHVzZWQgaW4gU3R5bGVFZGl0b3JQYW5lXG4gIHVzZU1pbkhlaWdodD86IGJvb2xlYW4sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50c0RlZmluaXRpb24ge1xuICBbdGVtcGxhdGVOYW1lOiBzdHJpbmddOiBDb21wb25lbnREZWZpbml0aW9uXG59XG5cbi8qKlxuICogUHJvZG90eXBlXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9sZXhveW8vUHJvZG90eXBlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9kb3R5cGUge1xuICBjb21wb25lbnRzRGVmOiBDb21wb25lbnRzRGVmaW5pdGlvbixcblxuICBkZWNvcmF0ZSh0ZW1wbGF0ZU5hbWU6IHN0cmluZywgZGF0YTogYW55LCBkYXRhU291cmNlcz86IG9iamVjdCk6IFByb21pc2U8c3RyaW5nPlxuICByZWFkeShjYms6IChhbnkpID0+IHZvaWQpXG4gIGVkaXQoXG4gICAgZGF0YT86IGFueSxcbiAgICBkYXRhU291cmNlcz86IG9iamVjdCxcbiAgICB0ZW1wbGF0ZU5hbWU/OiBzdHJpbmcsXG4gICAgZXZlbnRzPzogYW55KVxuICByZXNldCgpXG4gIGNyZWF0ZU5hbWUodHlwZSwgbGlzdCk6IHN0cmluZ1xuICAvLyBcImdldERlcGVuZGVuY2llc1wiIHJldHVybnMgYW4gb2JqZWN0IGxpa2UgdGhpczoge1xuICAvLyAgICAgICAgIFwic2NyaXB0XCI6IFt7XG4gIC8vICAgICAgICAgICAgIFwic3JjXCI6IFwiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTIuMS40Lm1pbi5qc1wiXG4gIC8vICAgICAgICAgfV0sXG4gIC8vICAgICAgICAgXCJsaW5rXCI6IFt7XG4gIC8vICAgICAgICAgICAgIFwicmVsXCI6IFwic3R5bGVzaGVldFwiLFxuICAvLyAgICAgICAgICAgICBcImhyZWZcIjogXCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy91bnNsaWRlci8yLjAuMy9jc3MvdW5zbGlkZXIuY3NzXCJcbiAgLy8gICAgICAgICB9XVxuICAvLyAgfVxuICBnZXREZXBlbmRlbmNpZXMoY29tcG9uZW50czoge25hbWU6c3RyaW5nLCBkaXNwbGF5TmFtZT86c3RyaW5nLCB0ZW1wbGF0ZU5hbWU6c3RyaW5nfVtdKTogUHJvZG90eXBlRGVwZW5kZW5jeVxuICBnZXRNaXNzaW5nRGVwZW5kZW5jaWVzKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgY29tcG9uZW50TmFtZXM6IHt0ZW1wbGF0ZU5hbWU6IHN0cmluZ31bXSxcbiAgKTogSFRNTEVsZW1lbnRbXVxuICBnZXRVbnVzZWREZXBlbmRlbmNpZXMoZGVwZW5kZW5jeUVsZW1lbnRzOiBIVE1MRWxlbWVudFtdLCBjb21wb25lbnROYW1lczoge3RlbXBsYXRlTmFtZTogc3RyaW5nfVtdKTogUHJvZG90eXBlRGVwZW5kZW5jeVxufVxuXG4vKipcbiAqIGpxdWVyeSBleHRlcm5zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSlF1ZXJ5IHtcbiAgZWRpdGFibGUob3B0aW9ucylcbiAgcGFnZWFibGUob3B0aW9uLCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBjbG91ZCBleHBsb3JlciBleHRlcm5zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvdWRFeHBsb3JlciB7XG4gIGdldFNlcnZpY2VzKCk6IFByb21pc2U8YW55PlxuICBvcGVuRmlsZShleHRlbnNpb25zKTogUHJvbWlzZTxhbnk+XG4gIG9wZW5GaWxlcyhleHRlbnNpb25zKTogUHJvbWlzZTxhbnk+XG4gIG9wZW5Gb2xkZXIoKTogUHJvbWlzZTxhbnk+XG4gIHdyaXRlKGRhdGEsIGJsb2IpOiBQcm9taXNlPGFueT5cbiAgcmVhZChibG9iKTogUHJvbWlzZTxhbnk+XG4gIHNhdmVBcyhkZWZhdWx0RmlsZU5hbWUsIGV4dGVuc2lvbnMpOiBQcm9taXNlPGFueT5cbn1cblxuLyoqXG4gKiB1bmlmaWxlIGV4dGVybnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbmlmaWxlUmVzcG9uc2Uge1xuICAgc3VjY2VzczogYm9vbGVhblxuICAgbWVzc2FnZT86IHN0cmluZ1xuICAgdGVtcExpbms/OiBzdHJpbmdcbiAgIGNvZGU/OiBzdHJpbmdcbiB9XG5cbi8qKlxuICogd3lzaWh0bWwgbGlicmFyeVxuICovXG4vLyB0c2xpbnQ6ZGlzYWJsZTpuby1zdHJpbmctbGl0ZXJhbFxuZXhwb3J0IGxldCB3eXNpaHRtbDogYW55ID0gd2luZG93Wyd3eXNpaHRtbCddXG5cbi8vIGV4cG9ydCBkZWNsYXJlIHZhciB3eXNpaHRtbDpXeXNpSHRtbDtcbi8vIGV4cG9ydCBkZWNsYXJlIGNsYXNzIHd5c2lodG1sIHtcbi8vICAgcHVibGljIHN0YXRpYyBFZGl0b3I6IGFueTtcbi8vIH1cbmV4cG9ydCBpbnRlcmZhY2UgV3lzaUh0bWxFZGl0b3Ige1xuICBjb21wb3NlcjogV3lzaUh0bWxDb21wb3NlclxuICBmb2N1cyhjaGFuZ2VQb3NpdGlvbilcbiAgb24oZXZlbnROYW1lLCBjYmspXG4gIG9mZihldmVudE5hbWUpXG4gIGRlc3Ryb3koKVxufVxuaW50ZXJmYWNlIFd5c2lIdG1sQ29tcG9zZXIge1xuICBjb21tYW5kczogV3lzaUh0bWxDb21tYW5kXG4gIHNlbGVjdGlvbjogYW55XG59XG5pbnRlcmZhY2UgV3lzaUh0bWxDb21tYW5kIHtcbiAgZXhlYyhjbWQ6IHN0cmluZywgb3B0aW9ucz86IGFueSlcbn1cblxuZXhwb3J0IHR5cGUgd3lzaWh0bWxQYXJzZXJSdWxlcyA9IGFueVxuIiwiaW1wb3J0IHsgRWxlbWVudFN0YXRlLCBMaW5rIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IEZpbGVFeHBsb3JlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvZGlhbG9nL0ZpbGVFeHBsb3JlcidcbmltcG9ydCB7XG4gIExJTktfQVRUUklCVVRFUyxcbiAgZ2V0TGlua1R5cGUsXG4gIG9wZW5MaW5rRGlhbG9nXG59IGZyb20gJy4vZGlhbG9nL0xpbmtEaWFsb2cnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbidcbmltcG9ydCB7IGdldEFsbFBhcmVudHMsIGdldFNlbGVjdGVkRWxlbWVudHMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQge1xuICBnZXRDb250ZW50Tm9kZSxcbiAgZ2V0RG9tRWxlbWVudCxcbiAgZ2V0SW5uZXJIdG1sXG59IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZG9tJ1xuaW1wb3J0IHsgZ2V0U2l0ZURvY3VtZW50LCBnZXRTaXRlSUZyYW1lLCBnZXRTaXRlV2luZG93IH0gZnJvbSAnLi9TaXRlRnJhbWUnXG5pbXBvcnQgeyBnZXRVaUVsZW1lbnRzIH0gZnJvbSAnLi4vdWktc3RvcmUvVWlFbGVtZW50cydcbmltcG9ydCB7IGtleWJvYXJkQXR0YWNoLCBrZXlib2FyZEFkZFNob3J0Y3V0IH0gZnJvbSAnLi9NZW51J1xuaW1wb3J0IHsgcmVzZXRGb2N1cyB9IGZyb20gJy4vTW9kYWxEaWFsb2cnXG5pbXBvcnQgeyBzZXRFZGl0TW9kZSB9IGZyb20gJy4vU3RhZ2VXcmFwcGVyJ1xuaW1wb3J0IHsgdXBkYXRlRWxlbWVudHMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgd3lzaWh0bWwsIFd5c2lIdG1sRWRpdG9yIH0gZnJvbSAnLi4vZXh0ZXJucydcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiAgIFRoaXMgY2xhc3MgaGFuZGxlIGEgZGl2IHBvc2l0aW9uZWQgb24gdG9wIG9mIHRoZSBzZWxlY3RlZCB0ZXh0IGluIGEgdGV4dFxuICogYm94IEl0IHVzZXMgdGhlIHd5c2lodG1sIGxpYnJhcnkgdG8gY2hhbmdlIHRleHQgZm9ybWF0XG4gKi9cblxuY29uc3QgTUVOVV9XSURUSCA9IDM1XG5jb25zdCBDT05URVhUX01FTlVfSEVJR0hUID0gMzVcblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxubGV0IGluc3RhbmNlOiBUZXh0Rm9ybWF0QmFyXG5mdW5jdGlvbiBpbml0VGV4dEZvcm1hdEJhcigpIHtcbiAgaW5zdGFuY2UgPSBpbnN0YW5jZSB8fCBuZXcgVGV4dEZvcm1hdEJhcihnZXRVaUVsZW1lbnRzKCkudGV4dEZvcm1hdEJhcilcbiAgcmV0dXJuIGluc3RhbmNlXG59XG5leHBvcnQgZnVuY3Rpb24gb3BlblRleHRGb3JtYXRCYXIoKSB7XG4gIGluaXRUZXh0Rm9ybWF0QmFyKClcbiAgcmV0dXJuIGluc3RhbmNlLnN0YXJ0RWRpdGluZyhGaWxlRXhwbG9yZXIuZ2V0SW5zdGFuY2UoKSlcbn1cblxuLyoqXG4gKiBUT0RPOiBtYWtlIHRoaXMgb25seSBtZXRob2RzIGFuZCB3cml0ZSB0ZXN0c1xuICovXG5leHBvcnQgY2xhc3MgVGV4dEZvcm1hdEJhciB7XG5cbiAgLy8gc3RvcmUgdGhlIHBhcmFtc1xuICBjdXJyZW50VGV4dEJveDogRWxlbWVudFN0YXRlID0gbnVsbFxuICB3eXNpaHRtbEVkaXRvcjogV3lzaUh0bWxFZGl0b3IgPSBudWxsXG4gIHRvb2xiYXI6IEhUTUxFbGVtZW50XG5cbiAgLy8gZm9yIGV2ZW50IHJlbW92ZSBldmVudHMsIHRoaXMgaXMgcmVzZXQgb24gc3RvcCBlZGl0XG4gIHByaXZhdGUgb25TdG9wRWRpdENia3M6ICgoKSA9PiB2b2lkKVtdID0gW11cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgICBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBVSVxuICAgKiBAcGFyYW0gbW9kZWwgIG1vZGVsIGNsYXNzIHdoaWNoIGhvbGRzXG4gICAqIHRoZSBtb2RlbCBpbnN0YW5jZXMgLSB2aWV3cyB1c2UgaXQgZm9yXG4gICAqIHJlYWQgb3BlcmF0aW9uIG9ubHlcbiAgICogQHBhcmFtIGNvbnRyb2xsZXIgIHN0cnVjdHVyZSB3aGljaCBob2xkc1xuICAgKiB0aGUgY29udHJvbGxlciBpbnN0YW5jZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMudG9vbGJhciA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjd3lzaWh0bWw1LXRvb2xiYXInKVxuICB9XG5cbiAgLyoqXG4gICAqIGdldCB0aGUgbGluayBvZiBzZWxlY3RlZCB0ZXh0IGluIHRleHQgZWRpdG9yXG4gICAqIHRoaXMgdXNlcyBhIGhpZGRlbiB0ZXh0IGZpZWxkIGluIHRoZSB0ZXh0IGZvcm1hdCBiYXIsIHdoaWNoIGhhcyBhIHZhbHVlIHNldFxuICAgKiBieSB3eXNpaHRtbFxuICAgKi9cbiAgZ2V0TGluaygpOiBMaW5rIHtcbiAgICBjb25zdCBpc0xpbmsgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZS1saW5rJykuY2xhc3NMaXN0LmNvbnRhaW5zKCd3eXNpaHRtbC1jb21tYW5kLWFjdGl2ZScpXG4gICAgaWYgKGlzTGluaykge1xuICAgICAgY29uc3QgZm9ybURhdGE6IGFueSA9IExJTktfQVRUUklCVVRFUy5yZWR1Y2UoKGFjYywgYXR0cikgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2V0LScgKyBhdHRyKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgZ2V0IGRhdGEgZnJvbSBsaW5rIGVkaXRvciBmb3IgYXR0cmlidXRlJywgYXR0cilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY2NbYXR0cl0gPSBlbC52YWx1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2NcbiAgICAgIH0sIHt9KVxuXG4gICAgICAvLyB1cGRhdGUgdGhlIGxpbmsgdHlwZVxuICAgICAgZm9ybURhdGEubGlua1R5cGUgPSBnZXRMaW5rVHlwZShmb3JtRGF0YS5ocmVmKVxuXG4gICAgICAvLyB0aGlzIGlzIG5vdyBhIExpbmtcbiAgICAgIHJldHVybiBmb3JtRGF0YSBhcyBMaW5rXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBvblNjcm9sbChlKSB7XG4gICAgdGhpcy5hdHRhY2hUb1RleHRCb3goZ2V0RG9tRWxlbWVudChnZXRTaXRlRG9jdW1lbnQoKSwgdGhpcy5jdXJyZW50VGV4dEJveCksIHRoaXMuZWxlbWVudClcbiAgfVxuXG4gIGF0dGFjaFRvVGV4dEJveCh0ZXh0Qm94LCB0b29sYmFyKSB7XG4gICAgY29uc3QgcG9zID0gdGV4dEJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGNvbnN0IHN0YWdlU2l6ZSA9IGdldFNpdGVJRnJhbWUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGNvbnN0IHRoZW9yaWNhbEJvdHRvbSA9IHN0YWdlU2l6ZS5oZWlnaHQgKyBzdGFnZVNpemUudG9wIC0gcG9zLnRvcFxuICAgIGNvbnN0IGJvdHRvbSA9IE1hdGgubWF4KHRoZW9yaWNhbEJvdHRvbSAtIHBvcy5oZWlnaHQgKyBDT05URVhUX01FTlVfSEVJR0hULCBNYXRoLm1pbihzdGFnZVNpemUuaGVpZ2h0IC0gMjAsIHRoZW9yaWNhbEJvdHRvbSkpXG4gICAgY29uc3QgbGVmdCA9IHBvcy5sZWZ0ICsgTUVOVV9XSURUSFxuICAgIHRvb2xiYXIuc3R5bGUuYm90dG9tID0gYm90dG9tICsgJ3B4J1xuICAgIHRvb2xiYXIuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnXG4gIH1cblxuICAvKipcbiAgICogc3RvcCBlZGl0LCBkZXN0cm95IHd5c2lodG1sIG9iamVjdCBhbmQgcmVzZXQgZXZlcnl0aGluZ1xuICAgKi9cbiAgc3RvcEVkaXRpbmcoKSB7XG4gICAgc2V0RWRpdE1vZGUoZmFsc2UpXG5cbiAgICBpZiAodGhpcy53eXNpaHRtbEVkaXRvcikge1xuXG4gICAgICAvLyByZW1vdmUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICB0aGlzLm9uU3RvcEVkaXRDYmtzLmZvckVhY2goKGNiaykgPT4gY2JrKCkpXG4gICAgICB0aGlzLm9uU3RvcEVkaXRDYmtzID0gW107XG5cbiAgICAgIC8vIHJlbW92ZSBhbmQgcHV0IGJhY2sgdGhlIHdob2xlIFVJXG4gICAgICAvLyB0aGlzIGlzIHRoZSB3YXkgdG8gZ28gd2l0aCB3eXNpaHRtbFxuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vVm9vZy93eXNpaHRtbC9pc3N1ZXMvMTA5I2lzc3VlY29tbWVudC0xOTgzNTA3NDNcbiAgICAgICh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlLWRldGFpbHMnKSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5mb2N1cyh0cnVlKVxuICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5kZXN0cm95KClcbiAgICAgIHRoaXMud3lzaWh0bWxFZGl0b3IgPSBudWxsXG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnRvb2xiYXIucGFyZW50RWxlbWVudFxuICAgICAgY29uc3QgY2xvbmUgPSB0aGlzLnRvb2xiYXIuY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50XG4gICAgICBBcnJheS5mcm9tKGNsb25lLnF1ZXJ5U2VsZWN0b3JBbGwoJy53eXNpaHRtbC1jb21tYW5kLWFjdGl2ZScpKVxuICAgICAgLmZvckVhY2goKGVsOiBIVE1MRWxlbWVudCkgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZSgnd3lzaWh0bWwtY29tbWFuZC1hY3RpdmUnKSlcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMudG9vbGJhcilcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnRvb2xiYXIpXG4gICAgICB0aGlzLnRvb2xiYXIgPSBjbG9uZVxuXG4gICAgICAvLyByZXNldCBmb2N1c1xuICAgICAgcmVzZXRGb2N1cygpXG5cbiAgICAgIC8vIGNsZWFudXAgdGhlIERPTVxuICAgICAgY29uc3QgY3VycmVudFRleHRCb3hFbCA9IGdldERvbUVsZW1lbnQoZ2V0U2l0ZURvY3VtZW50KCksIHRoaXMuY3VycmVudFRleHRCb3gpXG4gICAgICBjb25zdCBlZGl0YWJsZSA9IGdldENvbnRlbnROb2RlKGN1cnJlbnRUZXh0Qm94RWwpXG4gICAgICBlZGl0YWJsZS5yZW1vdmVBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpXG4gICAgICBlZGl0YWJsZS5jbGFzc0xpc3QucmVtb3ZlKCd3eXNpaHRtbC1zYW5kYm94JywgJ3d5c2lodG1sLWVkaXRvcicpXG4gICAgICBjdXJyZW50VGV4dEJveEVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtZWRpdG9yLWZvY3VzJylcbiAgICAgIGN1cnJlbnRUZXh0Qm94RWwucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFsbG93LXNpbGV4LXNob3J0Y3V0cycpXG4gICAgICAvLyBkbyBub3QgcmVtb3ZlIHRoZSBvbmNsaWNrIGV2ZW50XG4gICAgICAvLyBzbyB0aGF0IHRoZSBsaW5rIGlzIG5vdCBmb2xsb3dlZCAoY3VycmVudGx5IHdlIGFyZSBpbiB0aGUgbW91ZGVkb3duKVxuICAgICAgLy8gY3VycmVudFRleHRCb3hFbC5vbmNsaWNrID0gbnVsbFxuXG4gICAgICAvLyBVcGRhdGUgdGhlIG1vZGVsXG4gICAgICB1cGRhdGVFbGVtZW50cyhbe1xuICAgICAgICAuLi50aGlzLmN1cnJlbnRUZXh0Qm94LFxuICAgICAgICBpbm5lckh0bWw6IGdldElubmVySHRtbChjdXJyZW50VGV4dEJveEVsKSxcbiAgICAgIH1dKVxuICAgICAgdGhpcy5jdXJyZW50VGV4dEJveCA9IG51bGxcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtZWRpdG9yLWVkaXRpbmcnKVxuICB9XG5cbiAgc3RhcnRFZGl0aW5nKGZpbGVFeHBsb3JlcjogRmlsZUV4cGxvcmVyLCBib29rbWFyayA9IG51bGwsIGNiayA9IG51bGwpIHtcbiAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnRzID0gZ2V0U2VsZWN0ZWRFbGVtZW50cygpXG4gICAgLy8gZWRpdCB0aGUgc3R5bGUgb2YgdGhlIHNlbGVjdGlvblxuICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgbmV3VGV4dEJveCA9IHNlbGVjdGVkRWxlbWVudHNbMF1cbiAgICAgIGlmIChuZXdUZXh0Qm94ICE9PSB0aGlzLmN1cnJlbnRUZXh0Qm94KSB7XG4gICAgICAgIHRoaXMuc3RvcEVkaXRpbmcoKVxuICAgICAgICBzZXRFZGl0TW9kZSh0cnVlKVxuXG4gICAgICAgIHRoaXMuY3VycmVudFRleHRCb3ggPSBuZXdUZXh0Qm94XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUZXh0Qm94RWwgPSBnZXREb21FbGVtZW50KGdldFNpdGVEb2N1bWVudCgpLCB0aGlzLmN1cnJlbnRUZXh0Qm94KVxuXG4gICAgICAgIC8vIGN1cnJlbnRUZXh0Qm94RWwuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCxcbiAgICAgICAgLy8gY3VycmVudFRleHRCb3hFbC5maXJzdENoaWxkKTtcbiAgICAgICAgdGhpcy5hdHRhY2hUb1RleHRCb3goY3VycmVudFRleHRCb3hFbCwgdGhpcy5lbGVtZW50KVxuICAgICAgICBjb25zdCBlZGl0YWJsZSA9IGdldENvbnRlbnROb2RlKGN1cnJlbnRUZXh0Qm94RWwpXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgdG9vbGJhcjogdGhpcy50b29sYmFyLFxuICAgICAgICAgIGhhbmRsZVRhYmxlczogZmFsc2UsXG4gICAgICAgICAgdXNlTGluZUJyZWFrczogZmFsc2UsXG4gICAgICAgICAgY2xhc3Nlczoge1xuICAgICAgICAgICAgJ3d5c2l3eWctZmxvYXQtbGVmdCc6IDEsXG4gICAgICAgICAgICAvLyB0aGlzIGRvZXNudCB3b3JrIGZvciBzb21lIHJlYXNvblxuICAgICAgICAgICAgJ3d5c2l3eWctZmxvYXQtcmlnaHQnOiAxLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gdGhpcyBkb2VzbnQgd29yayBmb3Igc29tZSByZWFzb25cbiAgICAgICAgICBwYXJzZXJSdWxlczoge1xuICAgICAgICAgICAgdGFnczoge1xuICAgICAgICAgICAgICBiOiB7fSxcbiAgICAgICAgICAgICAgc3Ryb25nOiB7cmVuYW1lX3RhZzogJ2InfSxcbiAgICAgICAgICAgICAgaToge30sXG4gICAgICAgICAgICAgIGJyOiB7fSxcbiAgICAgICAgICAgICAgcDoge30sXG4gICAgICAgICAgICAgIGgxOiB7fSxcbiAgICAgICAgICAgICAgaDI6IHt9LFxuICAgICAgICAgICAgICBoMzoge30sXG4gICAgICAgICAgICAgIGg0OiB7fSxcbiAgICAgICAgICAgICAgaDU6IHt9LFxuICAgICAgICAgICAgICBoNjoge30sXG4gICAgICAgICAgICAgIHVsOiB7fSxcbiAgICAgICAgICAgICAgdToge30sXG4gICAgICAgICAgICAgIG9sOiB7fSxcbiAgICAgICAgICAgICAgbGk6IHt9LFxuICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgY2hlY2tfYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgaHJlZjogJ2FueScsIC8vIGFsbG93IGFueSBzdHJpbmcsIHVzZWZ1bCBmb3IgdGVtcGxhdGUgbGFuZ3VhZ2VzXG4gICAgICAgICAgICAgICAgICBkb3dubG9hZDogJ2hyZWYnLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnYW55JyxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnYW55JyxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdhbnknLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGltZzoge1xuICAgICAgICAgICAgICAgIGNoZWNrX2F0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIHNyYzogJ3NyYycsXG4gICAgICAgICAgICAgICAgICBhbHQ6ICdhbHQnLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6ICdhbnknLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6ICdhbnknLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnYW55JyxcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiAnYW55JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyB0aGlzIHNob3VsZCBub3QgYmUgbmVjZXNzYXJ5LCB3b3JrYXJvdW5kXG4gICAgICAgICAgICAgIGZvbnQ6IHtyZW5hbWVfdGFnOiAnc3BhbicsIGFkZF9jbGFzczoge3NpemU6ICdzaXplX2ZvbnQnfX0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvciA9IG5ldyB3eXNpaHRtbC5FZGl0b3IoZWRpdGFibGUsIG9wdGlvbnMpXG5cbiAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5vbigncGFzdGUnLCAoZSkgPT4gdGhpcy5vblBhc3RlKGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0JykpKVxuXG4gICAgICAgIC8vIENTUyBjbGFzc2VzXG4gICAgICAgIGN1cnJlbnRUZXh0Qm94RWwuY2xhc3NMaXN0LmFkZCgndGV4dC1lZGl0b3ItZm9jdXMnKVxuICAgICAgICBjdXJyZW50VGV4dEJveEVsLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGxvdy1zaWxleC1zaG9ydGN1dHMnLCAndHJ1ZScpXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0ZXh0LWVkaXRvci1lZGl0aW5nJylcblxuICAgICAgICAvLyBoYW5kbGUgdGhlIGZvY3VzXG4gICAgICAgIGNvbnN0IGRvYyA9IGdldFNpdGVEb2N1bWVudCgpXG4gICAgICAgIGNvbnN0IHdpbiA9IGdldFNpdGVXaW5kb3coKVxuICAgICAgICBjb25zdCBvbktleVNjcm9sbEJpbmRlZCA9IChlKSA9PiB0aGlzLm9uU2Nyb2xsKGUpXG4gICAgICAgIGNvbnN0IG9uQmx1ckJpbmRlZCA9ICgpID0+IHRoaXMub25CbHVyKGN1cnJlbnRUZXh0Qm94RWwpXG5cbiAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgdGhlIHdpc2lodG1sIGVkaXRvclxuICAgICAgICAvLyBwcmV2ZW50IHByb2JsZW1zIHdoZW4gdGhlIHJvb3QgaXMgYSBsaW5rXG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIGNhc2Ugd2hlbiB0aGUgZWxlbWVudCBoYXMgYSBsaW5rIGluIHRoZSBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIHRoZSBidWcgaXMgdGhhdCB5b3UgY2FuIG5vdCBjbGljayBpbiB0aGUgdGV4dCB3aGlsZSBlZGl0aW5nIHRleHRcbiAgICAgICAgY29uc3QgdGV4dEJveFBhcmVudHMgPSBnZXRBbGxQYXJlbnRzKHRoaXMuY3VycmVudFRleHRCb3gpXG4gICAgICAgIG5ldyBBcnJheSh0aGlzLmN1cnJlbnRUZXh0Qm94LCAuLi50ZXh0Qm94UGFyZW50cylcbiAgICAgICAgLm1hcChlbCA9PiBnZXREb21FbGVtZW50KGdldFNpdGVEb2N1bWVudCgpLCBlbCkpXG4gICAgICAgIC5mb3JFYWNoKGRvbUVsID0+IHtcbiAgICAgICAgICBpZihkb21FbC5oYXNBdHRyaWJ1dGUoJ2hyZWYnKSkge1xuICAgICAgICAgICAgZG9tRWwuc2V0QXR0cmlidXRlKCdkYXRhLXRtcC1ocmVmJywgZG9tRWwuZ2V0QXR0cmlidXRlKCdocmVmJykpXG4gICAgICAgICAgICBkb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ2hyZWYnKVxuICAgICAgICAgICAgZG9tRWwub25jbGljayA9IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIHRoaXMub25TdG9wRWRpdENia3MucHVzaChcbiAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRvbUVsLnNldEF0dHJpYnV0ZSgnaHJlZicsIGRvbUVsLmdldEF0dHJpYnV0ZSgnZGF0YS10bXAtaHJlZicpKVxuICAgICAgICAgICAgICAgIGRvbUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10bXAtaHJlZicpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gZXZlbnRzIGFuZCBzaG9ydGN1dHNcbiAgICAgICAgdGhpcy5vblN0b3BFZGl0Q2Jrcy5wdXNoKFxuICAgICAgICAgIGtleWJvYXJkQXR0YWNoKGRvYyksXG4gICAgICAgICAga2V5Ym9hcmRBZGRTaG9ydGN1dCh7XG4gICAgICAgICAgICBsYWJlbDogJ0VkaXQgbGluaycsXG4gICAgICAgICAgICBrZXk6ICdrJyxcbiAgICAgICAgICAgIGN0cmxLZXk6IHRydWUsXG4gICAgICAgICAgfSwgKGUpID0+IHRoaXMub3BlbkxpbmtFZGl0b3IoZSkpLFxuICAgICAgICAgIGtleWJvYXJkQWRkU2hvcnRjdXQoe1xuICAgICAgICAgICAgbGFiZWw6ICdFeGl0IHRleHQgZWRpdG9yJyxcbiAgICAgICAgICAgIGtleTogJ0VzY2FwZScsXG4gICAgICAgICAgfSwgKGUpID0+IHRoaXMuc3RvcEVkaXRpbmcoKSksXG4gICAgICAgICAgKCkgPT4gd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uS2V5U2Nyb2xsQmluZGVkKSxcbiAgICAgICAgICAoKSA9PiBjdXJyZW50VGV4dEJveEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbkJsdXJCaW5kZWQpLFxuICAgICAgICAgICgpID0+IHRoaXMud3lzaWh0bWxFZGl0b3Iub2ZmKCdibHVyJyksXG4gICAgICAgICAgKCkgPT4gdGhpcy53eXNpaHRtbEVkaXRvci5vZmYoJ2xvYWQnKSxcbiAgICAgICAgICAoKSA9PiB0aGlzLnd5c2lodG1sRWRpdG9yLm9mZigncGFzdGUnKSxcbiAgICAgICAgKVxuICAgICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25LZXlTY3JvbGxCaW5kZWQpXG4gICAgICAgIGN1cnJlbnRUZXh0Qm94RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uQmx1ckJpbmRlZClcbiAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5vbignYmx1cicsIChlKSA9PiB0aGlzLm9uQmx1cihjdXJyZW50VGV4dEJveEVsKSlcbiAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5vbignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnNlcnQtaW1hZ2UnKSBhcyBIVE1MRWxlbWVudCkub25tb3VzZWRvd24gPSAoZSkgPT4geyAvLyB1c2Ugb25tb3VzZWRvd24gYmVjYXVzZSB3ZSB3YW50IHRvIG9wZW4gZmlsZUV4cGxvcmVyIGJlZm9yZSB0aGUgb25ibHVyIGV2ZW50XG4gICAgICAgICAgICBjb25zdCBib29rbWFya05ldyA9IHRoaXMud3lzaWh0bWxFZGl0b3IuY29tcG9zZXIuc2VsZWN0aW9uLmdldEJvb2ttYXJrKClcbiAgICAgICAgICAgIGZpbGVFeHBsb3Jlci5vcGVuRmlsZShGaWxlRXhwbG9yZXIuSU1BR0VfRVhURU5TSU9OUylcbiAgICAgICAgICAgICAgICAudGhlbigoZmlsZUluZm8pID0+IHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRFZGl0aW5nKGZpbGVFeHBsb3JlciwgYm9va21hcmtOZXcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5jb21wb3Nlci5jb21tYW5kcy5leGVjKCdpbnNlcnRJbWFnZScsIHtzcmM6IGZpbGVJbmZvLmFic1BhdGgsIGFsdDogJyd9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLm5vdGlmeUVycm9yKCdFcnJvcjogSSBkaWQgbm90IG1hbmFnZSB0byBsb2FkIHRoZSBpbWFnZS4gXFxuJyArIChlcnJvci5tZXNzYWdlIHx8ICcnKSlcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRFZGl0aW5nKGZpbGVFeHBsb3JlciwgYm9va21hcmtOZXcpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpbWFnZSBkZXRhaWxzIFVJXG4gICAgICAgICAgY29uc3QgaW1hZ2VEZXRhaWxzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1kZXRhaWxzJykgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICBjb25zdCBhdXRvQnRuID0gaW1hZ2VEZXRhaWxzLnF1ZXJ5U2VsZWN0b3IoJyNhdXRvLXN1Ym1pdC1pbWFnZScpIGFzIEhUTUxFbGVtZW50XG5cbiAgICAgICAgICBmdW5jdGlvbiBhdXRvU3VibWl0SW1hZ2UoZSkge1xuICAgICAgICAgICAgLy8gZ2l2ZSB0aW1lIHRvIHRoZSB2YWx1ZSB0byBiZSB1cGRhdGVkIGFuZCB2YWxpZGF0ZSB3eXNpaHRtbCBpbWFnZVxuICAgICAgICAgICAgLy8gZGlhbG9nXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgYXV0b0J0bi5jbGljaygpXG4gICAgICAgICAgICAgIGltYWdlRGV0YWlscy5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgIChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKVxuICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgIH1cbiAgICAgICAgICAoaW1hZ2VEZXRhaWxzLnF1ZXJ5U2VsZWN0b3IoJy5mbG9hdCcpIGFzIEhUTUxFbGVtZW50KS5vbmNoYW5nZSA9IChlKSA9PiBhdXRvU3VibWl0SW1hZ2UoZSlcbiAgICAgICAgICA7KGltYWdlRGV0YWlscy5xdWVyeVNlbGVjdG9yKCcuZmxvYXQnKSBhcyBIVE1MRWxlbWVudCkub25ibHVyID0gKGUpID0+IHRoaXMub25CbHVyKGN1cnJlbnRUZXh0Qm94RWwpXG4gICAgICAgICAgOyhpbWFnZURldGFpbHMucXVlcnlTZWxlY3RvcignLnNyYycpIGFzIEhUTUxFbGVtZW50KS5vbmtleWRvd24gPSAoZSkgPT4gYXV0b1N1Ym1pdEltYWdlKGUpXG4gICAgICAgICAgOyhpbWFnZURldGFpbHMucXVlcnlTZWxlY3RvcignLmFsdCcpIGFzIEhUTUxFbGVtZW50KS5vbmtleWRvd24gPSAoZSkgPT4gYXV0b1N1Ym1pdEltYWdlKGUpXG4gICAgICAgICAgOyhpbWFnZURldGFpbHMucXVlcnlTZWxlY3RvcignLmFsdCcpIGFzIEhUTUxFbGVtZW50KS5vbmJsdXIgPSAoZSkgPT4gdGhpcy5vbkJsdXIoY3VycmVudFRleHRCb3hFbClcbiAgICAgICAgICA7KHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlLWxpbmsnKSBhcyBIVE1MRWxlbWVudCkub25jbGljayA9IChlKSA9PiB0aGlzLm9wZW5MaW5rRWRpdG9yKGUpXG5cbiAgICAgICAgICAvLyBsb2FkZWRcbiAgICAgICAgICB0aGlzLmZvY3VzKGJvb2ttYXJrKVxuICAgICAgICAgIGlmIChjYmspIHtcbiAgICAgICAgICAgIGNiaygpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmIChjYmspIHtcbiAgICAgICAgY2JrKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IsIGNhbiBub3QgZWRpdCBzZWxlY3Rpb24gd2l0aCBmb3JtYXQgcGFuZScsIHNlbGVjdGVkRWxlbWVudHMpXG4gICAgfVxuICB9XG5cbiAgb25QYXN0ZShjb250ZW50OiBzdHJpbmcpIHtcbiAgICBpZiAoY29udGVudC5tYXRjaCgvW15cXHgwMC1cXHhGRl0vKSkge1xuICAgICAgTm90aWZpY2F0aW9uLmNvbmZpcm0oJ1Bhc3RlIHdhcm5pbmcnLCAnV2FybmluZzogeW91IGhhdmUgcGFzdGVkIHRleHQuIFRoZXJlIGFyZSBzdHJhbmdlIGNoYXJhY3RlcnMgaW4gdGhlIHRleHQgeW91IHBhc3RlZC4gVGhlc2UgYXJlIHVuaWNvZGUgY2hhcnMsIHdoaWNoIG1heSBiZWhhdmUgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHRoZSBzaXRlIHZpc2l0b3IgYnJvd3Nlci4gSSBjYW4gY2xlYXIgdGhlc2UgY2hhcnMgZm9yIHlvdSBvciBsZWF2ZSB0aGVtIGFzIGlzLicsIChvaykgPT4ge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50VGV4dEJveEVsID0gZ2V0RG9tRWxlbWVudChnZXRTaXRlRG9jdW1lbnQoKSwgdGhpcy5jdXJyZW50VGV4dEJveClcbiAgICAgICAgICBjb25zdCBlZGl0YWJsZSA9IGdldENvbnRlbnROb2RlKGN1cnJlbnRUZXh0Qm94RWwpXG4gICAgICAgICAgY29uc3QgY2xlYW5Db250ZW50ID0gZWRpdGFibGUuaW5uZXJIVE1MLnJlcGxhY2UoL1teXFx4MDAtXFx4RkZdL2csICcnKVxuICAgICAgICAgIGVkaXRhYmxlLmlubmVySFRNTCA9IGNsZWFuQ29udGVudFxuICAgICAgICB9XG4gICAgICB9LCAnQ2xlYW51cCcsICdQYXN0ZSBhcyBpcycpXG4gICAgfVxuICB9XG5cbiAgb25CbHVyKGN1cnJlbnRUZXh0Qm94RWw6IEhUTUxFbGVtZW50KSB7XG4gICAgLy8gbGVhdmUgdGltZSBmb3IgdGhlIG9uY2xpY2sgZXZlbnRzIHRvIGZpcmVcbiAgICAvLyBub3RlOiBldmVudHMgaW4gdGhlIHRvb2xiYXIgYWx3YXlzIGNvbWUgYWZ0ZXIgYmx1ciArIGh1Z2UgZGVrYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghTm90aWZpY2F0aW9uLmlzQWN0aXZlXG4gICAgICAgICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGN1cnJlbnRUZXh0Qm94RWxcbiAgICAgICAgJiYgIWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdrZWVwLXRleHQtZm9ybWF0LWJhci1vcGVuJykpIHtcbiAgICAgICAgdGhpcy5zdG9wRWRpdGluZygpXG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxuXG4gIC8vIGdpdmUgZm9jdXMgdG8gdGhlIGVkaXRvciBpZiBpdCBzdGlsbCBleGlzdHNcbiAgZm9jdXMoYm9va21hcmspIHtcbiAgICBpZiAodGhpcy53eXNpaHRtbEVkaXRvcikge1xuICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5mb2N1cyhmYWxzZSlcbiAgICAgIC8vIG1vdmUgdGhlIGN1cnNvciB3aGVyZSBpdCB3YXMgYmVmb3JlXG4gICAgICBpZiAoYm9va21hcmspIHtcbiAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5jb21wb3Nlci5zZWxlY3Rpb24uc2V0Qm9va21hcmsoYm9va21hcmspXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIG9wZW4gdGhlIGxpbmsgZWRpdG9yLCB3aGljaCB1c2VzIE5vdGlmaWNhdGlvblxuICAgKi9cbiAgb3BlbkxpbmtFZGl0b3IoZTogRXZlbnQpIHtcbiAgICBpZiAoISF0aGlzLmN1cnJlbnRUZXh0Qm94LmxpbmspIHtcbiAgICAgIC8vIFdhcm5pbmc6IHRoaXMgc2FtZSBlcnJvciBtZXNzYWdlIGlzIGFsc28gaW4gUGFnZVBhbmUudHNcbiAgICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnTGluayBlcnJvcicsICdJdCBpcyBpbXBvc3NpYmxlIHRvIGFkZCBhIGxpbmsgaW4gdGhpcyB0ZXh0LCBiZWNhdXNlIHRoZSB0ZXh0IGJveCBoYXMgYSBsaW5rIGluIHRoZSBwcm9wZXJ0aWVzLiBQbGVhc2UgcmVtb3ZlIHRoZSBsaW5rIGluIHRoZSBlbGVtZW50IHByb3BlcnR5IHBhbm5lbCBhbmQgdHJ5IGFnYWluLiA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL3NpbGV4bGFicy9TaWxleC93aWtpL0Vycm9ycyNsaW5rLWVycm9yXCI+TW9yZSBpbmZvIGhlcmU8L2E+JywgKCkgPT4ge30pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9sZExpbmsgPSB0aGlzLmdldExpbmsoKVxuICAgICAgb3BlbkxpbmtEaWFsb2coe1xuICAgICAgICBkYXRhOiBvbGRMaW5rLFxuICAgICAgICBjYms6IChfb3B0aW9ucykgPT4ge1xuICAgICAgICAgIC8vIF9vcHRpb25zIGlzIHRoZSBzYW1lIGFzIG9sZExpbmsgd2hlbiB0aGUgdXNlciBjYW5jZWxlZCB0aGUgbGluayBlZGl0b3JcbiAgICAgICAgICAvLyB0aGVyZm9yZSBpdCBpcyB1bmRlZmluZWQgd2hlbiB0aGUgc2VsZWN0aW9uIGlzIG5vdCBhIGxpbmtcbiAgICAgICAgICAvLyBhbmQgaXQgd2lsbCBiZSB1bmRlZmluZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgXCJyZW1vdmUgbGlua1wiXG4gICAgICAgICAgaWYgKF9vcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnd5c2lodG1sRWRpdG9yLmNvbXBvc2VyLmNvbW1hbmRzLmV4ZWMoJ2NyZWF0ZUxpbmsnLCBfb3B0aW9ucylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5jb21wb3Nlci5jb21tYW5kcy5leGVjKCdyZW1vdmVMaW5rJylcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZ2l2ZSBiYWNrIHRoZSBmb2N1cyB0byB0aGUgZWRpdG9yXG4gICAgICAgICAgdGhpcy53eXNpaHRtbEVkaXRvci5mb2N1cyhmYWxzZSkgLy8gc2VlbXMgdG8gYmUgbmVlZGVkIG9ubHkgd2hlbiBfb3B0aW9ucyBpcyB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuICAgIC8vIHByZXZlbnQgY2xpY2sgb24gdGhlIGJ1dHRvblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIHRoZSBTaWxleCBjb250ZXh0IG1lbnVcbiAqXG4gKi9cbmltcG9ydCB7IEVsZW1lbnRTdGF0ZSwgRWxlbWVudFR5cGUgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgRmlsZUV4cGxvcmVyIH0gZnJvbSAnLi9kaWFsb2cvRmlsZUV4cGxvcmVyJ1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBjb3B5U2VsZWN0aW9uLCBwYXN0ZUNsaXBCb2FyZCwgZHVwbGljYXRlU2VsZWN0aW9uLCBoYXNFbGVtZW50c1RvUGFzdGUgfSBmcm9tICcuLi9jb3B5J1xuaW1wb3J0IHsgZ2V0Q3VycmVudFBhZ2UgfSBmcm9tICcuLi9wYWdlLXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQgeyBnZXRFbGVtZW50cywgc3Vic2NyaWJlRWxlbWVudHMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0RW5hYmxlU3RpY2t5LCB0b2dnbGVTdGlja3kgfSBmcm9tICcuL1N0YWdlV3JhcHBlcidcbmltcG9ydCB7IGdldFBhcmVudCB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldFNpdGUgfSBmcm9tICcuLi9zaXRlLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBpc0NvbXBvbmVudCB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvY29tcG9uZW50J1xuaW1wb3J0IHsgaXNEaXJ0eSB9IGZyb20gJy4uL2RpcnR5J1xuaW1wb3J0IHtcbiAgbW92ZURvd24sXG4gIG1vdmVUb0JvdHRvbSxcbiAgbW92ZVRvVG9wLFxuICBtb3ZlVXAsXG4gIHJlbW92ZUVsZW1lbnRzLFxuICBzZXRJbWFnZVVybFxufSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2Rpc3BhdGNoZXJzJ1xuaW1wb3J0IHsgb3Blbkh0bWxFZGl0b3IgfSBmcm9tICcuL2RpYWxvZy9IdG1sRWRpdG9yJ1xuaW1wb3J0IHsgb3BlblRleHRGb3JtYXRCYXIgfSBmcm9tICcuL1RleHRGb3JtYXRCYXInXG5pbXBvcnQgeyBzaG93UGFnZXMgfSBmcm9tICcuL01lbnUnXG5pbXBvcnQgeyBzdWJzY3JpYmVQYWdlcyB9IGZyb20gJy4uL3BhZ2Utc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBvcGVuRGlhbG9nIH0gZnJvbSAnLi4vdWktc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQgeyBnZXRVaSwgc3Vic2NyaWJlVWkgfSBmcm9tICcuLi91aS1zdG9yZS9pbmRleCdcblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxuZXhwb3J0IGZ1bmN0aW9uIGluaXRDb250ZXh0TWVudSgpIHtcbiAgcmV0dXJuIG5ldyBDb250ZXh0TWVudShnZXRVaUVsZW1lbnRzKCkuY29udGV4dE1lbnUpXG59XG5cbi8qKlxuICogZWRpdCB0aGUgZWxlbWVudHMgaW4gdGhlIHNlbGVjdGlvblxuICogdGFrZSBpdHMgdHlwZSBpbnRvIGFjY291bnQgYW5kIG9wZW4gdGhlIGNvcnJlc3BvbmRpbmcgZWRpdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZGl0RWxlbWVudCgpIHtcbiAgY29uc3QgZWxlbWVudDogRWxlbWVudFN0YXRlID0gZ2V0RWxlbWVudHMoKS5maW5kKChlbCkgPT4gZWwuc2VsZWN0ZWQgJiYgZWwuZW5hYmxlRWRpdClcblxuICBpZiAoZWxlbWVudCkge1xuICAgIGlmIChpc0NvbXBvbmVudChlbGVtZW50KSkge1xuICAgICAgY29uc3QgcGFyYW1zID0gZ2V0VWkoKS5kaWFsb2dzLmZpbmQoZCA9PiBkLmlkID09PSAncGFyYW1zJylcbiAgICAgIG9wZW5EaWFsb2cocGFyYW1zKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvcGVuIHRoZSBwYXJhbXMgdGFiIGZvciB0aGUgY29tcG9uZW50c1xuICAgICAgLy8gb3IgdGhlIGVkaXRvciBmb3IgdGhlIGVsZW1lbnRzXG4gICAgICBzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xuICAgICAgICBjYXNlIEVsZW1lbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgLy8gb3BlbiB0aGUgdGV4dCBlZGl0b3JcbiAgICAgICAgICBvcGVuVGV4dEZvcm1hdEJhcigpXG4gICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgRWxlbWVudFR5cGUuSFRNTDpcbiAgICAgICAgICBvcGVuSHRtbEVkaXRvcigpXG4gICAgICAgICAgLy8gdmlldy5odG1sRWRpdG9yLnNldFNlbGVjdGlvbihbZWxlbWVudF0pXG4gICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgRWxlbWVudFR5cGUuSU1BR0U6XG4gICAgICAgICAgRmlsZUV4cGxvcmVyLmdldEluc3RhbmNlKCkub3BlbkZpbGUoRmlsZUV4cGxvcmVyLklNQUdFX0VYVEVOU0lPTlMpXG4gICAgICAgIC50aGVuKChibG9iKSA9PiB7XG4gICAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIHNldEltYWdlVXJsKGVsZW1lbnQsIGJsb2IuYWJzUGF0aClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ubm90aWZ5RXJyb3IoJ0Vycm9yOiBJIGRpZCBub3QgbWFuYWdlIHRvIGxvYWQgdGhlIGltYWdlLiBcXG4nICsgKGVycm9yLm1lc3NhZ2UgfHwgJycpKVxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBDb250ZXh0TWVudSB7XG4gIC8qKlxuICAgKiBob2xkIHRoZSBlbGVtZW50IGluIHRoZSBjb250ZXh0IG1lbnUgd2hpY2ggaGFzIHRoZSBjdXJyZW50IHBhZ2UgbmFtZVxuICAgKi9cbiAgY3VycmVudFBhZ2VFbGVtZW50OiBIVE1MRWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuXG4gICAgdGhpcy5jdXJyZW50UGFnZUVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXBhZ2UnKVxuICAgIHRoaXMuY3VycmVudFBhZ2VFbGVtZW50Lm9uY2xpY2sgPSAoZSkgPT4gc2hvd1BhZ2VzKClcblxuICAgIHN1YnNjcmliZUVsZW1lbnRzKChvbGRFbGVtZW50cywgZWxlbWVudHMpID0+IHRoaXMucmVkcmF3KCkpXG4gICAgc3Vic2NyaWJlUGFnZXMoKCkgPT4gdGhpcy5yZWRyYXcoKSlcbiAgICBzdWJzY3JpYmVVaSgoKSA9PiB0aGlzLnJlZHJhdygpKVxuXG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHJlbW92ZUVsZW1lbnRzKCkpXG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBlZGl0RWxlbWVudCgpKVxuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29weScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29weVNlbGVjdGlvbigpKVxuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGFzdGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHBhc3RlQ2xpcEJvYXJkKCkpXG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdXBsaWNhdGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGR1cGxpY2F0ZVNlbGVjdGlvbigpKVxuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudG9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb3ZlVG9Ub3AoKSlcbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnVwJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb3ZlVXAoKSlcbiAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRvd24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vdmVEb3duKCkpXG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3R0b20nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vdmVUb0JvdHRvbSgpKVxuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3RpY2t5LWVsZW1lbnRzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdG9nZ2xlU3RpY2t5KCkpXG4gIH1cblxuICAvKipcbiAgICogdGhlIHNlbGVjdGlvbiBoYXMgY2hhbmdlZFxuICAgKiBjYWxsZWQgYnkgc2lsZXgubW9kZWwuQm9keVxuICAgKiBAcGFyYW0gb3B0X3NlbGVjdGVkRWxlbWVudHMgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAqL1xuICBwcml2YXRlIHJlZHJhdygpIHtcbiAgICBjb25zdCBwYWdlID0gZ2V0Q3VycmVudFBhZ2UoKVxuICAgIC8vIHVwZGF0ZSBwYWdlIG5hbWVcbiAgICBpZiAocGFnZSkge1xuICAgICAgY29uc3QgZmlsZUluZm8gPSBnZXRTaXRlKCkuZmlsZVxuICAgICAgY29uc3QgY2hhbmdlZENoYXIgPSBpc0RpcnR5KCkgPyAnKicgOiAnJ1xuICAgICAgY29uc3QgZmlsZU5hbWUgPSBmaWxlSW5mbyAmJiBmaWxlSW5mby5wYXRoID8gZmlsZUluZm8ucGF0aCArIGNoYW5nZWRDaGFyICsgJyAtICcgOiAnJ1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUVsZW1lbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAke2ZpbGVOYW1lfVxuICAgICAgICAke3BhZ2UuZGlzcGxheU5hbWV9XG4gICAgICBgXG4gICAgfVxuXG4gICAgLy8gZ2V0IHRoZSBzZWxlY3Rpb24gd2l0aG91dCB0aGUgYm9keVxuICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudHMgPSBnZXRFbGVtZW50cygpXG4gICAgICAuZmlsdGVyKChlbCkgPT4gZWwuc2VsZWN0ZWQgJiYgZ2V0UGFyZW50KGVsKSlcblxuICAgIC8vIHVwZGF0ZSBtZW51IGl0ZW1zIGFjY29yZGluZyB0byBzZWxlY3Rpb25cbiAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIG9ubHkgYm9keSBpcyBzZWxlY3RlZFxuICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUnKS5jbGFzc0xpc3QuYWRkKCdvZmYnKVxuICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0JykuY2xhc3NMaXN0LmFkZCgnb2ZmJylcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29weScpLmNsYXNzTGlzdC5hZGQoJ29mZicpXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnRvcCcpLmNsYXNzTGlzdC5hZGQoJ29mZicpXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnVwJykuY2xhc3NMaXN0LmFkZCgnb2ZmJylcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZG93bicpLmNsYXNzTGlzdC5hZGQoJ29mZicpXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJvdHRvbScpLmNsYXNzTGlzdC5hZGQoJ29mZicpXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmR1cGxpY2F0ZScpLmNsYXNzTGlzdC5hZGQoJ29mZicpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlJykuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmJylcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29mZicpXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNvcHknKS5jbGFzc0xpc3QucmVtb3ZlKCdvZmYnKVxuICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AnKS5jbGFzc0xpc3QucmVtb3ZlKCdvZmYnKVxuICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy51cCcpLmNsYXNzTGlzdC5yZW1vdmUoJ29mZicpXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdvZmYnKVxuICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3R0b20nKS5jbGFzc0xpc3QucmVtb3ZlKCdvZmYnKVxuICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kdXBsaWNhdGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdvZmYnKVxuICAgIH1cbiAgICBpZiAoaGFzRWxlbWVudHNUb1Bhc3RlKCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGFzdGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdvZmYnKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBhc3RlJykuY2xhc3NMaXN0LmFkZCgnb2ZmJylcbiAgICB9XG4gICAgaWYgKGdldEVuYWJsZVN0aWNreSgpKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN0aWNreS1lbGVtZW50cycpLmNsYXNzTGlzdC5yZW1vdmUoJ29mZicpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3RpY2t5LWVsZW1lbnRzJykuY2xhc3NMaXN0LmFkZCgnb2ZmJylcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlld1xuICogc3BsaXR0ZXIgd2hpY2ggaXMgYmV0d2VlbiBzdGFnZSBhbmQgcHJvcGVydHkgcGFubmVsXG4gKlxuICovXG5cbmltcG9ydCB7IFNwbGl0dGVyIH0gZnJvbSAnLi9TcGxpdHRlcidcbmltcG9ydCB7IGdldFVpRWxlbWVudHMgfSBmcm9tICcuLi91aS1zdG9yZS9VaUVsZW1lbnRzJ1xuaW1wb3J0IHsgcmVzaXplV2luZG93IH0gZnJvbSAnLi9TdGFnZVdyYXBwZXInXG5cbmxldCBwcm9wU3BsaXR0ZXJcblxuLyoqXG4gKiBAcmV0dXJucyB0aGUgU3BsaXR0ZXIgY29tcG9uZW50IHdoaWNoIGlzIGJldHdlZW4gc3RhZ2UgYW5kIHByb3BlcnR5IHBhbm5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcGVydHlTcGxpdHRlcigpIHtcbiAgLy8gY3JlYXRlIHRoZSBzcGxpdHRlclxuICBpZiAoIXByb3BTcGxpdHRlcikgcHJvcFNwbGl0dGVyID0gbmV3IFNwbGl0dGVyKGdldFVpRWxlbWVudHMoKS52ZXJ0aWNhbFNwbGl0dGVyLCAoKSA9PiB7XG4gICAgcmVzaXplV2luZG93KClcbiAgfSlcblxuICByZXR1cm4gcHJvcFNwbGl0dGVyXG59XG4iLCJcblxuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyByZXNpemVXaW5kb3csIHN1YnNjcmliZU1vdXNlRXZlbnQgfSBmcm9tICcuL1N0YWdlV3JhcHBlcidcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBzcGxpdHRlciB0byByZXNpemUgdGhlIFVJXG4gKlxuICovXG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnQgICBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBVSVxuICogQHBhcmFtIG1vZGVsICBtb2RlbCBjbGFzcyB3aGljaCBob2xkc1xuICogdGhlIG1vZGVsIGluc3RhbmNlcyAtIHZpZXdzIHVzZSBpdCBmb3IgcmVhZFxuICogb3BlcmF0aW9uIG9ubHlcbiAqIEBwYXJhbSBjb250cm9sbGVyICBzdHJ1Y3R1cmUgd2hpY2ggaG9sZHNcbiAqIHRoZSBjb250cm9sbGVyIGluc3RhbmNlc1xuICovXG5leHBvcnQgY2xhc3MgU3BsaXR0ZXIge1xuXG4gIC8qKlxuICAgKiB3aWR0aCBvZiB0aGUgc3BsaXR0ZXIsIGFzIGRlZmluZWQgaW4gdGhlIENTU1xuICAgKi9cbiAgc3RhdGljIFdJRFRIID0gNVxuICBvblJlZHJhdzogKCgpID0+IGFueSl8dW5kZWZpbmVkXG4gIG9uVGhlTGVmdDogSFRNTEVsZW1lbnRbXSA9IFtdXG4gIG9uVGhlUmlnaHQ6IEhUTUxFbGVtZW50W10gPSBbXVxuXG4gIC8qKlxuICAgKiB0cnVlIHdoZW4gdGhlIG1vdXNlIGlzIGRvd25cbiAgICovXG4gIGlzRG93bjogYm9vbGVhbiA9IGZhbHNlXG5cbiAgLy8gc3RvcmUgdGhlIHdpbmRvdyB2aWV3cG9ydCBmb3IgbGF0ZXIgdXNlXG4gIHZpZXdwb3J0OiBhbnlcblxuICAvKipcbiAgICogaGFuZGxlIG1vdXNlIGV2ZW50XG4gICAqL1xuICB0b0JlQ2xlYXJlZDogKCgpID0+IHZvaWQpW10gPSBbXVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBIVE1MRWxlbWVudCwgb3B0X29uUmVkcmF3PzogKCgpID0+IGFueSkpIHtcbiAgICB0aGlzLm9uUmVkcmF3ID0gb3B0X29uUmVkcmF3XG5cbiAgICAvLyBtb3VzZSBkb3duIGV2ZW50XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB0aGlzLm9uTW91c2VEb3duKGUpLCBmYWxzZSlcblxuICAgIC8vIGhhbmRsZSB3aW5kb3cgcmVzaXplIGV2ZW50XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMucmVkcmF3KCksIGZhbHNlKVxuICB9XG5cbiAgLyoqXG4gICAqIGFkZCBhIGNvbXBvbmVudCB0byBzcGxpdFxuICAgKi9cbiAgYWRkTGVmdChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMub25UaGVMZWZ0LnB1c2goZWxlbWVudClcbiAgICB0aGlzLnJlZHJhdygpXG4gIH1cblxuICAvKipcbiAgICogYWRkIGEgY29tcG9uZW50IHRvIHNwbGl0XG4gICAqL1xuICBhZGRSaWdodChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMub25UaGVSaWdodC5wdXNoKGVsZW1lbnQpXG4gICAgdGhpcy5yZWRyYXcoKVxuICB9XG5cbiAgLyoqXG4gICAqIHJlbW92ZSBhIGNvbXBvbmVudCB0byBzcGxpdFxuICAgKi9cbiAgcmVtb3ZlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5vblRoZVJpZ2h0LnNwbGljZSh0aGlzLm9uVGhlUmlnaHQuaW5kZXhPZihlbGVtZW50KSwgMSlcbiAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSAnJ1xuICAgIGVsZW1lbnQuc3R5bGUucmlnaHQgPSAnJ1xuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuXG4gIC8qKlxuICAgKiByZWRyYXcgdGhlIGNvbXBvbmVudHNcbiAgICovXG4gIHJlZHJhdyhjYWxsUmVkcmF3ID0gdHJ1ZSkge1xuICAgIGNvbnN0IHBvcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGNvbnN0IHBhcmVudFNpemUgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgLy8gYXBwbHkgdGhlIHBvc2l0aW9uIHRvIHRoZSBlbGVtZW50c1xuICAgIHRoaXMub25UaGVMZWZ0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuc3R5bGUucmlnaHQgPSBwYXJlbnRTaXplLndpZHRoIC0gcG9zLmxlZnQgKyAncHgnXG4gICAgfSlcbiAgICB0aGlzLm9uVGhlUmlnaHQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gU3BsaXR0ZXIuV0lEVEggKyBwb3MubGVmdCArICdweCdcbiAgICB9KVxuICAgIGlmIChjYWxsUmVkcmF3ICYmIHRoaXMub25SZWRyYXcpIHtcbiAgICAgIHRoaXMub25SZWRyYXcoKVxuICAgIH1cbiAgfVxuICBvbk1vdXNlRG93bihldnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5pc0Rvd24gPSB0cnVlXG5cbiAgICAvLyBsaXN0ZW4gbW91c2UgZXZlbnRzXG4gICAgdGhpcy50b0JlQ2xlYXJlZC5wdXNoKFxuICAgICAgc3Vic2NyaWJlTW91c2VFdmVudCgnbW91c2Vtb3ZlJywgKGU6IE1vdXNlRXZlbnQpID0+IHRoaXMub25Nb3VzZU1vdmUoZSkpLFxuICAgICAgc3Vic2NyaWJlTW91c2VFdmVudCgnbW91c2V1cCcsIChlOiBNb3VzZUV2ZW50KSA9PiB0aGlzLm9uTW91c2VVcChlKSksXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIGhhbmRsZSBtb3VzZSBldmVudFxuICAgKi9cbiAgb25Nb3VzZVVwKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxuICAgIHRoaXMudG9CZUNsZWFyZWQuZm9yRWFjaCgoY2xlYXIpID0+IGNsZWFyKCkpXG4gICAgdGhpcy50b0JlQ2xlYXJlZCA9IFtdXG4gIH1cblxuICAvKipcbiAgICogaGFuZGxlIG1vdXNlIGV2ZW50XG4gICAqL1xuICBvbk1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KSB7XG4gICAgbGV0IHJpZ2h0ID0gcGFyc2VJbnQodGhpcy5lbGVtZW50LnN0eWxlLnJpZ2h0KVxuICAgIGlmICh0aGlzLmVsZW1lbnQuc3R5bGUucmlnaHQgPT09ICcnKSB7XG4gICAgICBjb25zdCBwYXJlbnRTaXplID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGNvbnN0IHBvcyA9IChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHJpZ2h0ID0gcGFyZW50U2l6ZS5yaWdodCAtIHBvcy5yaWdodFxuICAgIH1cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUucmlnaHQgPSAocmlnaHQgLSBlLm1vdmVtZW50WCkgKyAncHgnXG4gICAgdGhpcy5yZWRyYXcoKVxuICAgIHJlc2l6ZVdpbmRvdygpXG4gIH1cbn1cblxuIiwiaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IGdldERpc3BsYXlOYW1lIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS91dGlscydcbmltcG9ydCB7IGdldERvbUVsZW1lbnQgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2RvbSdcbmltcG9ydCB7XG4gIGdldFBhcmVudCxcbiAgZ2V0U2VsZWN0ZWRFbGVtZW50cyxcbiAgaXNCb2R5XG59IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldFNpdGVEb2N1bWVudCB9IGZyb20gJy4vU2l0ZUZyYW1lJ1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBpc0NvbXBvbmVudCB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvY29tcG9uZW50J1xuaW1wb3J0IHsgc3Vic2NyaWJlRWxlbWVudHMsIHVwZGF0ZUVsZW1lbnRzLCBnZXRFbGVtZW50cyB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICogdGhlIFNpbGV4IGJyZWFkIGNydW1icywgd2hpY2ggZGlzcGxheXMgdGhlIHNlbGVjdGlvbidzIGNvbnRhaW5lcnNcbiAqXG4gKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxuZXhwb3J0IGZ1bmN0aW9uIGluaXRCcmVhZENydW1icygpIHtcbiAgcmV0dXJuIG5ldyBCcmVhZENydW1icyhnZXRVaUVsZW1lbnRzKCkuYnJlYWRDcnVtYnMpXG59XG5cbi8qKlxuICogVE9ETzogbWFrZSB0aGlzIG9ubHkgbWV0aG9kcyBhbmQgd3JpdGUgdGVzdHNcbiAqL1xuY2xhc3MgQnJlYWRDcnVtYnMge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgc3Vic2NyaWJlRWxlbWVudHMoKCkgPT4gdGhpcy5yZWRyYXcoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiB0aGUgc2VsZWN0aW9uIGhhcyBjaGFuZ2VkXG4gICAqL1xuICBwcml2YXRlIHJlZHJhdygpIHtcbiAgICAvLyBnZXQgdGhlIGNvbW1vbiBhbmNlc3RlcnMgdG8gYWxsIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgZnVuY3Rpb24gZ2V0UGFyZW50cyhlbGVtZW50OiBFbGVtZW50U3RhdGUpOiBFbGVtZW50U3RhdGVbXSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBnZXRQYXJlbnQoZWxlbWVudClcbiAgICAgIHJldHVybiBwYXJlbnQgPyAoZ2V0UGFyZW50KHBhcmVudCkgPyBbcGFyZW50XS5jb25jYXQoZ2V0UGFyZW50cyhwYXJlbnQpKSA6IFtwYXJlbnRdKSA6IFtdXG4gICAgfVxuXG4gICAgLy8gZW1wdHkgY3VycmVudCBicmVhZCBjcnVtYnNcbiAgICB3aGlsZSAodGhpcy5lbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJlbW92ZUNydW1iKCh0aGlzLmVsZW1lbnQuY2hpbGROb2Rlc1swXSBhcyBIVE1MRWxlbWVudCkpXG4gICAgfVxuXG4gICAgLy8gZmluZCB0aGUgc2VsZWN0ZWQgZWxlbWVudCB3aGljaCBpcyB0aGUgXCJkZWVwZXN0XCIgaW4gdGhlIGRvbSwgaS5lLiBoYXNcbiAgICAvLyB0aGUgZ3JlYXRlciBudW1iZXIgb2YgcGFyZW50IG5vZGVzXG4gICAgY29uc3Qgc2VsZWN0ZWRFbGVtZW50cyA9IGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAgIGVsLFxuICAgICAgICBwYXJlbnRzOiBnZXRQYXJlbnRzKGVsKSxcbiAgICAgIH0pKVxuICAgICAgLnNvcnQoKGVsZW0xLCBlbGVtMikgPT4gZWxlbTIucGFyZW50cy5sZW5ndGggLSBlbGVtMS5wYXJlbnRzLmxlbmd0aClcblxuICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgY29uc3QgZGVlcGVzdCA9IHNlbGVjdGVkRWxlbWVudHMuc2hpZnQoKVxuXG4gICAgICAvLyBmb3IgdGhpcyBcImRlZXBlc3RcIiBlbGVtZW50LCBmaW5kIHRoZSBjb21tb24gYW5jZXN0b3JzIHdpdGggYWxsIG90aGVyc1xuICAgICAgbGV0IGFuY2VzdG9ycyA9IGRlZXBlc3QucGFyZW50c1xuICAgICAgc2VsZWN0ZWRFbGVtZW50cy5mb3JFYWNoKCh7ZWwsIHBhcmVudHN9KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0FuY2VzdG9ycyA9IFtdXG4gICAgICAgIGxldCBpZHggPSAwXG4gICAgICAgIHdoaWxlIChpZHggPCBhbmNlc3RvcnMubGVuZ3RoICYmIGlkeCA8IHBhcmVudHMubGVuZ3RoICYmIGFuY2VzdG9yc1tpZHhdID09PSBwYXJlbnRzW2lkeF0pIHtcbiAgICAgICAgICBuZXdBbmNlc3RvcnMucHVzaChhbmNlc3RvcnNbaWR4KytdKVxuICAgICAgICB9XG4gICAgICAgIGFuY2VzdG9ycyA9IG5ld0FuY2VzdG9yc1xuICAgICAgfSlcblxuICAgICAgLy8gaWYgb25seSAxIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIGRpc3BsYXkgaXQgaW4gdGhlIGNydW1ic1xuICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGFuY2VzdG9ycy51bnNoaWZ0KGRlZXBlc3QuZWwpXG4gICAgICB9XG5cbiAgICAgIC8vIGNyZWF0ZSBhIGJ1dHRvbiBmb3IgZWFjaCBhbmNlc3RlclxuICAgICAgYW5jZXN0b3JzXG4gICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgLmZvckVhY2goKGFuY2VzdG9yKSA9PiB0aGlzLmFkZENydW1iKGFuY2VzdG9yKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogYWRkIGEgYnV0dG9uIGluIHRoZSBicmVhZCBjcnVtYiBjb250YWluZXJcbiAgICovXG4gIHByaXZhdGUgYWRkQ3J1bWIoZWxlbWVudDogRWxlbWVudFN0YXRlKSB7XG4gICAgY29uc3QgZG9tRWwgPSBnZXREb21FbGVtZW50KGdldFNpdGVEb2N1bWVudCgpLCBlbGVtZW50KVxuICAgIGlmKCFkb21FbCkgcmV0dXJuIC8vIGVsZW1lbnQgaXMgaW4gdGhlIG1vZGVsIGJ1dCBpdHMgcGFyZW50IGhhcyBub3QgYmVlbiB1cGRhdGVkIHlldCwgc28gaXQgaXMgbm90IHlldCBpbiB0aGUgZG9tXG5cbiAgICBjb25zdCBjcnVtYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpXG4gICAgY29uc3QgZmlsdGVyZWRDbGFzc2VzID0gZWxlbWVudC5jbGFzc0xpc3RcbiAgICAgIC5maWx0ZXIoKGNsYXNzTmFtZSkgPT4gIUNvbnN0YW50cy5TSUxFWF9DTEFTU19OQU1FUy5pbmNsdWRlcyhjbGFzc05hbWUpKVxuICAgIGNvbnN0IGNzc0NsYXNzZXMgPSBmaWx0ZXJlZENsYXNzZXMubGVuZ3RoID8gJy4nICsgZmlsdGVyZWRDbGFzc2VzLmpvaW4oJy4nKSA6ICcnXG5cbiAgICBjb25zdCBfaXNCb2R5ID0gaXNCb2R5KGVsZW1lbnQpXG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBfaXNCb2R5ID8gJ0JvZHknIDogaXNDb21wb25lbnQoZWxlbWVudCkgPyAnQ29tcG9uZW50JyA6IGdldERpc3BsYXlOYW1lKGVsZW1lbnQpXG4gICAgY3J1bWIuY2xhc3NMaXN0LmFkZCgnY3J1bWInKVxuICAgIGNydW1iLmlubmVySFRNTCA9IGRpc3BsYXlOYW1lICsgY3NzQ2xhc3Nlc1xuICAgIGNydW1iLnN0eWxlLnpJbmRleCA9ICgxMDAgLSB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGgpLnRvU3RyaW5nKClcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY3J1bWIpXG4gICAgY3J1bWIub25jbGljayA9ICgpID0+IHVwZGF0ZUVsZW1lbnRzKGdldEVsZW1lbnRzKClcbiAgICAgIC5maWx0ZXIoKGVsKSA9PiBlbC5zZWxlY3RlZCB8fCBlbCA9PT0gZWxlbWVudClcbiAgICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgICAuLi5lbCxcbiAgICAgICAgc2VsZWN0ZWQ6IGVsID09PSBlbGVtZW50LFxuICAgICAgfSkpKVxuICAgIGNvbnN0IHN2ZyA9ICc8c3ZnIGNsYXNzPVwic3ZnXCIgdmlld0JveD1cIjAgMCA3IDI4XCIgaGVpZ2h0PVwiMjhcIiB3aWR0aD1cIjdcIj48cGF0aCBkPVwiTS41IDBsNiAxNC02IDE0SDdWMHpcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+PC9wYXRoPjxwYXRoIGQ9XCJNMSAwSDBsNiAxNC02IDE0aDFsNi0xNHpcIiBmaWxsPVwiIzg1ODU4NVwiPjwvcGF0aD48L3N2Zz4nXG4gICAgY29uc3Qgc2VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJylcbiAgICBzZXAuY2xhc3NMaXN0LmFkZCgnc2VwJylcbiAgICBzZXAuaW5uZXJIVE1MID0gc3ZnXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHNlcClcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmUgZXZlbnRzIGFuZCBkZWxldGVzIGEgYnJlYWQgY3J1bWJcbiAgICovXG4gIHByaXZhdGUgcmVtb3ZlQ3J1bWIoY3J1bWI6IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKGNydW1iKVxuICB9XG59XG4iLCIvKiohXG4gKiBTb3J0YWJsZSAxLjEzLjBcbiAqIEBhdXRob3JcdFJ1YmFYYSAgIDx0cmFzaEBydWJheGEub3JnPlxuICogQGF1dGhvclx0b3dlbm0gICAgPG93ZW4yMzM1NUBnbWFpbC5jb20+XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuICB2YXIga2V5LCBpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xufVxuXG52YXIgdmVyc2lvbiA9IFwiMS4xMy4wXCI7XG5cbmZ1bmN0aW9uIHVzZXJBZ2VudChwYXR0ZXJuKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuICEhXG4gICAgLypAX19QVVJFX18qL1xuICAgIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2gocGF0dGVybik7XG4gIH1cbn1cblxudmFyIElFMTFPckxlc3MgPSB1c2VyQWdlbnQoLyg/OlRyaWRlbnQuKnJ2WyA6XT8xMVxcLnxtc2llfGllbW9iaWxlfFdpbmRvd3MgUGhvbmUpL2kpO1xudmFyIEVkZ2UgPSB1c2VyQWdlbnQoL0VkZ2UvaSk7XG52YXIgRmlyZUZveCA9IHVzZXJBZ2VudCgvZmlyZWZveC9pKTtcbnZhciBTYWZhcmkgPSB1c2VyQWdlbnQoL3NhZmFyaS9pKSAmJiAhdXNlckFnZW50KC9jaHJvbWUvaSkgJiYgIXVzZXJBZ2VudCgvYW5kcm9pZC9pKTtcbnZhciBJT1MgPSB1c2VyQWdlbnQoL2lQKGFkfG9kfGhvbmUpL2kpO1xudmFyIENocm9tZUZvckFuZHJvaWQgPSB1c2VyQWdlbnQoL2Nocm9tZS9pKSAmJiB1c2VyQWdlbnQoL2FuZHJvaWQvaSk7XG5cbnZhciBjYXB0dXJlTW9kZSA9IHtcbiAgY2FwdHVyZTogZmFsc2UsXG4gIHBhc3NpdmU6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBvbihlbCwgZXZlbnQsIGZuKSB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCAhSUUxMU9yTGVzcyAmJiBjYXB0dXJlTW9kZSk7XG59XG5cbmZ1bmN0aW9uIG9mZihlbCwgZXZlbnQsIGZuKSB7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCAhSUUxMU9yTGVzcyAmJiBjYXB0dXJlTW9kZSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXMoXG4vKipIVE1MRWxlbWVudCovXG5lbCxcbi8qKlN0cmluZyovXG5zZWxlY3Rvcikge1xuICBpZiAoIXNlbGVjdG9yKSByZXR1cm47XG4gIHNlbGVjdG9yWzBdID09PSAnPicgJiYgKHNlbGVjdG9yID0gc2VsZWN0b3Iuc3Vic3RyaW5nKDEpKTtcblxuICBpZiAoZWwpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGVsLm1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIGVsLm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgICAgfSBlbHNlIGlmIChlbC5tc01hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZWwubXNNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfSBlbHNlIGlmIChlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50T3JIb3N0KGVsKSB7XG4gIHJldHVybiBlbC5ob3N0ICYmIGVsICE9PSBkb2N1bWVudCAmJiBlbC5ob3N0Lm5vZGVUeXBlID8gZWwuaG9zdCA6IGVsLnBhcmVudE5vZGU7XG59XG5cbmZ1bmN0aW9uIGNsb3Nlc3QoXG4vKipIVE1MRWxlbWVudCovXG5lbCxcbi8qKlN0cmluZyovXG5zZWxlY3Rvcixcbi8qKkhUTUxFbGVtZW50Ki9cbmN0eCwgaW5jbHVkZUNUWCkge1xuICBpZiAoZWwpIHtcbiAgICBjdHggPSBjdHggfHwgZG9jdW1lbnQ7XG5cbiAgICBkbyB7XG4gICAgICBpZiAoc2VsZWN0b3IgIT0gbnVsbCAmJiAoc2VsZWN0b3JbMF0gPT09ICc+JyA/IGVsLnBhcmVudE5vZGUgPT09IGN0eCAmJiBtYXRjaGVzKGVsLCBzZWxlY3RvcikgOiBtYXRjaGVzKGVsLCBzZWxlY3RvcikpIHx8IGluY2x1ZGVDVFggJiYgZWwgPT09IGN0eCkge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbCA9PT0gY3R4KSBicmVhaztcbiAgICAgIC8qIGpzaGludCBib3NzOnRydWUgKi9cbiAgICB9IHdoaWxlIChlbCA9IGdldFBhcmVudE9ySG9zdChlbCkpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBSX1NQQUNFID0gL1xccysvZztcblxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWwsIG5hbWUsIHN0YXRlKSB7XG4gIGlmIChlbCAmJiBuYW1lKSB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgZWwuY2xhc3NMaXN0W3N0YXRlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjbGFzc05hbWUgPSAoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5yZXBsYWNlKFJfU1BBQ0UsICcgJykucmVwbGFjZSgnICcgKyBuYW1lICsgJyAnLCAnICcpO1xuICAgICAgZWwuY2xhc3NOYW1lID0gKGNsYXNzTmFtZSArIChzdGF0ZSA/ICcgJyArIG5hbWUgOiAnJykpLnJlcGxhY2UoUl9TUEFDRSwgJyAnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3NzKGVsLCBwcm9wLCB2YWwpIHtcbiAgdmFyIHN0eWxlID0gZWwgJiYgZWwuc3R5bGU7XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgaWYgKHZhbCA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgICAgICB2YWwgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCAnJyk7XG4gICAgICB9IGVsc2UgaWYgKGVsLmN1cnJlbnRTdHlsZSkge1xuICAgICAgICB2YWwgPSBlbC5jdXJyZW50U3R5bGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9wID09PSB2b2lkIDAgPyB2YWwgOiB2YWxbcHJvcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghKHByb3AgaW4gc3R5bGUpICYmIHByb3AuaW5kZXhPZignd2Via2l0JykgPT09IC0xKSB7XG4gICAgICAgIHByb3AgPSAnLXdlYmtpdC0nICsgcHJvcDtcbiAgICAgIH1cblxuICAgICAgc3R5bGVbcHJvcF0gPSB2YWwgKyAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyAnJyA6ICdweCcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXRyaXgoZWwsIHNlbGZPbmx5KSB7XG4gIHZhciBhcHBsaWVkVHJhbnNmb3JtcyA9ICcnO1xuXG4gIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgYXBwbGllZFRyYW5zZm9ybXMgPSBlbDtcbiAgfSBlbHNlIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gY3NzKGVsLCAndHJhbnNmb3JtJyk7XG5cbiAgICAgIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtICE9PSAnbm9uZScpIHtcbiAgICAgICAgYXBwbGllZFRyYW5zZm9ybXMgPSB0cmFuc2Zvcm0gKyAnICcgKyBhcHBsaWVkVHJhbnNmb3JtcztcbiAgICAgIH1cbiAgICAgIC8qIGpzaGludCBib3NzOnRydWUgKi9cblxuICAgIH0gd2hpbGUgKCFzZWxmT25seSAmJiAoZWwgPSBlbC5wYXJlbnROb2RlKSk7XG4gIH1cblxuICB2YXIgbWF0cml4Rm4gPSB3aW5kb3cuRE9NTWF0cml4IHx8IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXggfHwgd2luZG93LkNTU01hdHJpeCB8fCB3aW5kb3cuTVNDU1NNYXRyaXg7XG4gIC8qanNoaW50IC1XMDU2ICovXG5cbiAgcmV0dXJuIG1hdHJpeEZuICYmIG5ldyBtYXRyaXhGbihhcHBsaWVkVHJhbnNmb3Jtcyk7XG59XG5cbmZ1bmN0aW9uIGZpbmQoY3R4LCB0YWdOYW1lLCBpdGVyYXRvcikge1xuICBpZiAoY3R4KSB7XG4gICAgdmFyIGxpc3QgPSBjdHguZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSksXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBuID0gbGlzdC5sZW5ndGg7XG5cbiAgICBpZiAoaXRlcmF0b3IpIHtcbiAgICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdG9yKGxpc3RbaV0sIGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgcmV0dXJuIFtdO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCkge1xuICB2YXIgc2Nyb2xsaW5nRWxlbWVudCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQ7XG5cbiAgaWYgKHNjcm9sbGluZ0VsZW1lbnQpIHtcbiAgICByZXR1cm4gc2Nyb2xsaW5nRWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIFwiYm91bmRpbmcgY2xpZW50IHJlY3RcIiBvZiBnaXZlbiBlbGVtZW50XG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgICAgICAgICAgICAgICAgIFRoZSBlbGVtZW50IHdob3NlIGJvdW5kaW5nQ2xpZW50UmVjdCBpcyB3YW50ZWRcbiAqIEBwYXJhbSAge1tCb29sZWFuXX0gcmVsYXRpdmVUb0NvbnRhaW5pbmdCbG9jayAgV2hldGhlciB0aGUgcmVjdCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5pbmcgYmxvY2sgb2YgKGluY2x1ZGluZykgdGhlIGNvbnRhaW5lclxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSByZWxhdGl2ZVRvTm9uU3RhdGljUGFyZW50ICBXaGV0aGVyIHRoZSByZWN0IHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgcmVsYXRpdmUgcGFyZW50IG9mIChpbmNsdWRpbmcpIHRoZSBjb250YWllbnJcbiAqIEBwYXJhbSAge1tCb29sZWFuXX0gdW5kb1NjYWxlICAgICAgICAgICAgICAgICAgV2hldGhlciB0aGUgY29udGFpbmVyJ3Mgc2NhbGUoKSBzaG91bGQgYmUgdW5kb25lXG4gKiBAcGFyYW0gIHtbSFRNTEVsZW1lbnRdfSBjb250YWluZXIgICAgICAgICAgICAgIFRoZSBwYXJlbnQgdGhlIGVsZW1lbnQgd2lsbCBiZSBwbGFjZWQgaW5cbiAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIGJvdW5kaW5nQ2xpZW50UmVjdCBvZiBlbCwgd2l0aCBzcGVjaWZpZWQgYWRqdXN0bWVudHNcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFJlY3QoZWwsIHJlbGF0aXZlVG9Db250YWluaW5nQmxvY2ssIHJlbGF0aXZlVG9Ob25TdGF0aWNQYXJlbnQsIHVuZG9TY2FsZSwgY29udGFpbmVyKSB7XG4gIGlmICghZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIGVsICE9PSB3aW5kb3cpIHJldHVybjtcbiAgdmFyIGVsUmVjdCwgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0LCBoZWlnaHQsIHdpZHRoO1xuXG4gIGlmIChlbCAhPT0gd2luZG93ICYmIGVsLnBhcmVudE5vZGUgJiYgZWwgIT09IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKSkge1xuICAgIGVsUmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRvcCA9IGVsUmVjdC50b3A7XG4gICAgbGVmdCA9IGVsUmVjdC5sZWZ0O1xuICAgIGJvdHRvbSA9IGVsUmVjdC5ib3R0b207XG4gICAgcmlnaHQgPSBlbFJlY3QucmlnaHQ7XG4gICAgaGVpZ2h0ID0gZWxSZWN0LmhlaWdodDtcbiAgICB3aWR0aCA9IGVsUmVjdC53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICB0b3AgPSAwO1xuICAgIGxlZnQgPSAwO1xuICAgIGJvdHRvbSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICByaWdodCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICB9XG5cbiAgaWYgKChyZWxhdGl2ZVRvQ29udGFpbmluZ0Jsb2NrIHx8IHJlbGF0aXZlVG9Ob25TdGF0aWNQYXJlbnQpICYmIGVsICE9PSB3aW5kb3cpIHtcbiAgICAvLyBBZGp1c3QgZm9yIHRyYW5zbGF0ZSgpXG4gICAgY29udGFpbmVyID0gY29udGFpbmVyIHx8IGVsLnBhcmVudE5vZGU7IC8vIHNvbHZlcyAjMTEyMyAoc2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzc5NTM4MDYvNjA4ODMxMilcbiAgICAvLyBOb3QgbmVlZGVkIG9uIDw9IElFMTFcblxuICAgIGlmICghSUUxMU9yTGVzcykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoY29udGFpbmVyICYmIGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgKGNzcyhjb250YWluZXIsICd0cmFuc2Zvcm0nKSAhPT0gJ25vbmUnIHx8IHJlbGF0aXZlVG9Ob25TdGF0aWNQYXJlbnQgJiYgY3NzKGNvbnRhaW5lciwgJ3Bvc2l0aW9uJykgIT09ICdzdGF0aWMnKSkge1xuICAgICAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBTZXQgcmVsYXRpdmUgdG8gZWRnZXMgb2YgcGFkZGluZyBib3ggb2YgY29udGFpbmVyXG5cbiAgICAgICAgICB0b3AgLT0gY29udGFpbmVyUmVjdC50b3AgKyBwYXJzZUludChjc3MoY29udGFpbmVyLCAnYm9yZGVyLXRvcC13aWR0aCcpKTtcbiAgICAgICAgICBsZWZ0IC09IGNvbnRhaW5lclJlY3QubGVmdCArIHBhcnNlSW50KGNzcyhjb250YWluZXIsICdib3JkZXItbGVmdC13aWR0aCcpKTtcbiAgICAgICAgICBib3R0b20gPSB0b3AgKyBlbFJlY3QuaGVpZ2h0O1xuICAgICAgICAgIHJpZ2h0ID0gbGVmdCArIGVsUmVjdC53aWR0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cbiAgICAgIH0gd2hpbGUgKGNvbnRhaW5lciA9IGNvbnRhaW5lci5wYXJlbnROb2RlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodW5kb1NjYWxlICYmIGVsICE9PSB3aW5kb3cpIHtcbiAgICAvLyBBZGp1c3QgZm9yIHNjYWxlKClcbiAgICB2YXIgZWxNYXRyaXggPSBtYXRyaXgoY29udGFpbmVyIHx8IGVsKSxcbiAgICAgICAgc2NhbGVYID0gZWxNYXRyaXggJiYgZWxNYXRyaXguYSxcbiAgICAgICAgc2NhbGVZID0gZWxNYXRyaXggJiYgZWxNYXRyaXguZDtcblxuICAgIGlmIChlbE1hdHJpeCkge1xuICAgICAgdG9wIC89IHNjYWxlWTtcbiAgICAgIGxlZnQgLz0gc2NhbGVYO1xuICAgICAgd2lkdGggLz0gc2NhbGVYO1xuICAgICAgaGVpZ2h0IC89IHNjYWxlWTtcbiAgICAgIGJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgICAgIHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdG9wOiB0b3AsXG4gICAgbGVmdDogbGVmdCxcbiAgICBib3R0b206IGJvdHRvbSxcbiAgICByaWdodDogcmlnaHQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIHNpZGUgb2YgYW4gZWxlbWVudCBpcyBzY3JvbGxlZCBwYXN0IGEgc2lkZSBvZiBpdHMgcGFyZW50c1xuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9ICBlbCAgICAgICAgICAgVGhlIGVsZW1lbnQgd2hvJ3Mgc2lkZSBiZWluZyBzY3JvbGxlZCBvdXQgb2YgdmlldyBpcyBpbiBxdWVzdGlvblxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICBlbFNpZGUgICAgICAgU2lkZSBvZiB0aGUgZWxlbWVudCBpbiBxdWVzdGlvbiAoJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0JywgJ2JvdHRvbScpXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIHBhcmVudFNpZGUgICBTaWRlIG9mIHRoZSBwYXJlbnQgaW4gcXVlc3Rpb24gKCd0b3AnLCAnbGVmdCcsICdyaWdodCcsICdib3R0b20nKVxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgICAgICAgICAgICAgVGhlIHBhcmVudCBzY3JvbGwgZWxlbWVudCB0aGF0IHRoZSBlbCdzIHNpZGUgaXMgc2Nyb2xsZWQgcGFzdCwgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBzdWNoIGVsZW1lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzU2Nyb2xsZWRQYXN0KGVsLCBlbFNpZGUsIHBhcmVudFNpZGUpIHtcbiAgdmFyIHBhcmVudCA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsLCB0cnVlKSxcbiAgICAgIGVsU2lkZVZhbCA9IGdldFJlY3QoZWwpW2VsU2lkZV07XG4gIC8qIGpzaGludCBib3NzOnRydWUgKi9cblxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgdmFyIHBhcmVudFNpZGVWYWwgPSBnZXRSZWN0KHBhcmVudClbcGFyZW50U2lkZV0sXG4gICAgICAgIHZpc2libGUgPSB2b2lkIDA7XG5cbiAgICBpZiAocGFyZW50U2lkZSA9PT0gJ3RvcCcgfHwgcGFyZW50U2lkZSA9PT0gJ2xlZnQnKSB7XG4gICAgICB2aXNpYmxlID0gZWxTaWRlVmFsID49IHBhcmVudFNpZGVWYWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpc2libGUgPSBlbFNpZGVWYWwgPD0gcGFyZW50U2lkZVZhbDtcbiAgICB9XG5cbiAgICBpZiAoIXZpc2libGUpIHJldHVybiBwYXJlbnQ7XG4gICAgaWYgKHBhcmVudCA9PT0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpKSBicmVhaztcbiAgICBwYXJlbnQgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChwYXJlbnQsIGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogR2V0cyBudGggY2hpbGQgb2YgZWwsIGlnbm9yaW5nIGhpZGRlbiBjaGlsZHJlbiwgc29ydGFibGUncyBlbGVtZW50cyAoZG9lcyBub3QgaWdub3JlIGNsb25lIGlmIGl0J3MgdmlzaWJsZSlcbiAqIGFuZCBub24tZHJhZ2dhYmxlIGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgVGhlIHBhcmVudCBlbGVtZW50XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGNoaWxkTnVtICAgICAgVGhlIGluZGV4IG9mIHRoZSBjaGlsZFxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zICAgICAgIFBhcmVudCBTb3J0YWJsZSdzIG9wdGlvbnNcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICBUaGUgY2hpbGQgYXQgaW5kZXggY2hpbGROdW0sIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRDaGlsZChlbCwgY2hpbGROdW0sIG9wdGlvbnMpIHtcbiAgdmFyIGN1cnJlbnRDaGlsZCA9IDAsXG4gICAgICBpID0gMCxcbiAgICAgIGNoaWxkcmVuID0gZWwuY2hpbGRyZW47XG5cbiAgd2hpbGUgKGkgPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICBpZiAoY2hpbGRyZW5baV0uc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIGNoaWxkcmVuW2ldICE9PSBTb3J0YWJsZS5naG9zdCAmJiBjaGlsZHJlbltpXSAhPT0gU29ydGFibGUuZHJhZ2dlZCAmJiBjbG9zZXN0KGNoaWxkcmVuW2ldLCBvcHRpb25zLmRyYWdnYWJsZSwgZWwsIGZhbHNlKSkge1xuICAgICAgaWYgKGN1cnJlbnRDaGlsZCA9PT0gY2hpbGROdW0pIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2ldO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50Q2hpbGQrKztcbiAgICB9XG5cbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogR2V0cyB0aGUgbGFzdCBjaGlsZCBpbiB0aGUgZWwsIGlnbm9yaW5nIGdob3N0RWwgb3IgaW52aXNpYmxlIGVsZW1lbnRzIChjbG9uZXMpXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgICAgUGFyZW50IGVsZW1lbnRcbiAqIEBwYXJhbSAge3NlbGVjdG9yfSBzZWxlY3RvciAgICBBbnkgb3RoZXIgZWxlbWVudHMgdGhhdCBzaG91bGQgYmUgaWdub3JlZFxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgICAgICAgIFRoZSBsYXN0IGNoaWxkLCBpZ25vcmluZyBnaG9zdEVsXG4gKi9cblxuXG5mdW5jdGlvbiBsYXN0Q2hpbGQoZWwsIHNlbGVjdG9yKSB7XG4gIHZhciBsYXN0ID0gZWwubGFzdEVsZW1lbnRDaGlsZDtcblxuICB3aGlsZSAobGFzdCAmJiAobGFzdCA9PT0gU29ydGFibGUuZ2hvc3QgfHwgY3NzKGxhc3QsICdkaXNwbGF5JykgPT09ICdub25lJyB8fCBzZWxlY3RvciAmJiAhbWF0Y2hlcyhsYXN0LCBzZWxlY3RvcikpKSB7XG4gICAgbGFzdCA9IGxhc3QucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgfVxuXG4gIHJldHVybiBsYXN0IHx8IG51bGw7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnQgZm9yIGEgc2VsZWN0ZWQgc2V0IG9mXG4gKiBlbGVtZW50c1xuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcGFyYW0gIHtzZWxlY3Rvcn0gc2VsZWN0b3JcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuXG5cbmZ1bmN0aW9uIGluZGV4KGVsLCBzZWxlY3Rvcikge1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIGlmICghZWwgfHwgIWVsLnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG5cbiAgd2hpbGUgKGVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgIGlmIChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnVEVNUExBVEUnICYmIGVsICE9PSBTb3J0YWJsZS5jbG9uZSAmJiAoIXNlbGVjdG9yIHx8IG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluZGV4O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGwgb2Zmc2V0IG9mIHRoZSBnaXZlbiBlbGVtZW50LCBhZGRlZCB3aXRoIGFsbCB0aGUgc2Nyb2xsIG9mZnNldHMgb2YgcGFyZW50IGVsZW1lbnRzLlxuICogVGhlIHZhbHVlIGlzIHJldHVybmVkIGluIHJlYWwgcGl4ZWxzLlxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtBcnJheX0gICAgICAgICAgICAgT2Zmc2V0cyBpbiB0aGUgZm9ybWF0IG9mIFtsZWZ0LCB0b3BdXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVNjcm9sbE9mZnNldChlbCkge1xuICB2YXIgb2Zmc2V0TGVmdCA9IDAsXG4gICAgICBvZmZzZXRUb3AgPSAwLFxuICAgICAgd2luU2Nyb2xsZXIgPSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG5cbiAgaWYgKGVsKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIGVsTWF0cml4ID0gbWF0cml4KGVsKSxcbiAgICAgICAgICBzY2FsZVggPSBlbE1hdHJpeC5hLFxuICAgICAgICAgIHNjYWxlWSA9IGVsTWF0cml4LmQ7XG4gICAgICBvZmZzZXRMZWZ0ICs9IGVsLnNjcm9sbExlZnQgKiBzY2FsZVg7XG4gICAgICBvZmZzZXRUb3AgKz0gZWwuc2Nyb2xsVG9wICogc2NhbGVZO1xuICAgIH0gd2hpbGUgKGVsICE9PSB3aW5TY3JvbGxlciAmJiAoZWwgPSBlbC5wYXJlbnROb2RlKSk7XG4gIH1cblxuICByZXR1cm4gW29mZnNldExlZnQsIG9mZnNldFRvcF07XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBvYmplY3Qgd2l0aGluIHRoZSBnaXZlbiBhcnJheVxuICogQHBhcmFtICB7QXJyYXl9IGFyciAgIEFycmF5IHRoYXQgbWF5IG9yIG1heSBub3QgaG9sZCB0aGUgb2JqZWN0XG4gKiBAcGFyYW0gIHtPYmplY3R9IG9iaiAgQW4gb2JqZWN0IHRoYXQgaGFzIGEga2V5LXZhbHVlIHBhaXIgdW5pcXVlIHRvIGFuZCBpZGVudGljYWwgdG8gYSBrZXktdmFsdWUgcGFpciBpbiB0aGUgb2JqZWN0IHlvdSB3YW50IHRvIGZpbmRcbiAqIEByZXR1cm4ge051bWJlcn0gICAgICBUaGUgaW5kZXggb2YgdGhlIG9iamVjdCBpbiB0aGUgYXJyYXksIG9yIC0xXG4gKi9cblxuXG5mdW5jdGlvbiBpbmRleE9mT2JqZWN0KGFyciwgb2JqKSB7XG4gIGZvciAodmFyIGkgaW4gYXJyKSB7XG4gICAgaWYgKCFhcnIuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xuXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG9ialtrZXldID09PSBhcnJbaV1ba2V5XSkgcmV0dXJuIE51bWJlcihpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsLCBpbmNsdWRlU2VsZikge1xuICAvLyBza2lwIHRvIHdpbmRvd1xuICBpZiAoIWVsIHx8ICFlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHJldHVybiBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG4gIHZhciBlbGVtID0gZWw7XG4gIHZhciBnb3RTZWxmID0gZmFsc2U7XG5cbiAgZG8ge1xuICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZ2V0IGVsZW0gY3NzIGlmIGl0IGlzbid0IGV2ZW4gb3ZlcmZsb3dpbmcgaW4gdGhlIGZpcnN0IHBsYWNlIChwZXJmb3JtYW5jZSlcbiAgICBpZiAoZWxlbS5jbGllbnRXaWR0aCA8IGVsZW0uc2Nyb2xsV2lkdGggfHwgZWxlbS5jbGllbnRIZWlnaHQgPCBlbGVtLnNjcm9sbEhlaWdodCkge1xuICAgICAgdmFyIGVsZW1DU1MgPSBjc3MoZWxlbSk7XG5cbiAgICAgIGlmIChlbGVtLmNsaWVudFdpZHRoIDwgZWxlbS5zY3JvbGxXaWR0aCAmJiAoZWxlbUNTUy5vdmVyZmxvd1ggPT0gJ2F1dG8nIHx8IGVsZW1DU1Mub3ZlcmZsb3dYID09ICdzY3JvbGwnKSB8fCBlbGVtLmNsaWVudEhlaWdodCA8IGVsZW0uc2Nyb2xsSGVpZ2h0ICYmIChlbGVtQ1NTLm92ZXJmbG93WSA9PSAnYXV0bycgfHwgZWxlbUNTUy5vdmVyZmxvd1kgPT0gJ3Njcm9sbCcpKSB7XG4gICAgICAgIGlmICghZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgfHwgZWxlbSA9PT0gZG9jdW1lbnQuYm9keSkgcmV0dXJuIGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgICAgICAgaWYgKGdvdFNlbGYgfHwgaW5jbHVkZVNlbGYpIHJldHVybiBlbGVtO1xuICAgICAgICBnb3RTZWxmID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuXG4gIH0gd2hpbGUgKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpO1xuXG4gIHJldHVybiBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChkc3QsIHNyYykge1xuICBpZiAoZHN0ICYmIHNyYykge1xuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkc3Q7XG59XG5cbmZ1bmN0aW9uIGlzUmVjdEVxdWFsKHJlY3QxLCByZWN0Mikge1xuICByZXR1cm4gTWF0aC5yb3VuZChyZWN0MS50b3ApID09PSBNYXRoLnJvdW5kKHJlY3QyLnRvcCkgJiYgTWF0aC5yb3VuZChyZWN0MS5sZWZ0KSA9PT0gTWF0aC5yb3VuZChyZWN0Mi5sZWZ0KSAmJiBNYXRoLnJvdW5kKHJlY3QxLmhlaWdodCkgPT09IE1hdGgucm91bmQocmVjdDIuaGVpZ2h0KSAmJiBNYXRoLnJvdW5kKHJlY3QxLndpZHRoKSA9PT0gTWF0aC5yb3VuZChyZWN0Mi53aWR0aCk7XG59XG5cbnZhciBfdGhyb3R0bGVUaW1lb3V0O1xuXG5mdW5jdGlvbiB0aHJvdHRsZShjYWxsYmFjaywgbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV90aHJvdHRsZVRpbWVvdXQpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwoX3RoaXMsIGFyZ3NbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2suYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICBfdGhyb3R0bGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aHJvdHRsZVRpbWVvdXQgPSB2b2lkIDA7XG4gICAgICB9LCBtcyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjYW5jZWxUaHJvdHRsZSgpIHtcbiAgY2xlYXJUaW1lb3V0KF90aHJvdHRsZVRpbWVvdXQpO1xuICBfdGhyb3R0bGVUaW1lb3V0ID0gdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBzY3JvbGxCeShlbCwgeCwgeSkge1xuICBlbC5zY3JvbGxMZWZ0ICs9IHg7XG4gIGVsLnNjcm9sbFRvcCArPSB5O1xufVxuXG5mdW5jdGlvbiBjbG9uZShlbCkge1xuICB2YXIgUG9seW1lciA9IHdpbmRvdy5Qb2x5bWVyO1xuICB2YXIgJCA9IHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvO1xuXG4gIGlmIChQb2x5bWVyICYmIFBvbHltZXIuZG9tKSB7XG4gICAgcmV0dXJuIFBvbHltZXIuZG9tKGVsKS5jbG9uZU5vZGUodHJ1ZSk7XG4gIH0gZWxzZSBpZiAoJCkge1xuICAgIHJldHVybiAkKGVsKS5jbG9uZSh0cnVlKVswXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWwuY2xvbmVOb2RlKHRydWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldFJlY3QoZWwsIHJlY3QpIHtcbiAgY3NzKGVsLCAncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgY3NzKGVsLCAndG9wJywgcmVjdC50b3ApO1xuICBjc3MoZWwsICdsZWZ0JywgcmVjdC5sZWZ0KTtcbiAgY3NzKGVsLCAnd2lkdGgnLCByZWN0LndpZHRoKTtcbiAgY3NzKGVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQpO1xufVxuXG5mdW5jdGlvbiB1bnNldFJlY3QoZWwpIHtcbiAgY3NzKGVsLCAncG9zaXRpb24nLCAnJyk7XG4gIGNzcyhlbCwgJ3RvcCcsICcnKTtcbiAgY3NzKGVsLCAnbGVmdCcsICcnKTtcbiAgY3NzKGVsLCAnd2lkdGgnLCAnJyk7XG4gIGNzcyhlbCwgJ2hlaWdodCcsICcnKTtcbn1cblxudmFyIGV4cGFuZG8gPSAnU29ydGFibGUnICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbmZ1bmN0aW9uIEFuaW1hdGlvblN0YXRlTWFuYWdlcigpIHtcbiAgdmFyIGFuaW1hdGlvblN0YXRlcyA9IFtdLFxuICAgICAgYW5pbWF0aW9uQ2FsbGJhY2tJZDtcbiAgcmV0dXJuIHtcbiAgICBjYXB0dXJlQW5pbWF0aW9uU3RhdGU6IGZ1bmN0aW9uIGNhcHR1cmVBbmltYXRpb25TdGF0ZSgpIHtcbiAgICAgIGFuaW1hdGlvblN0YXRlcyA9IFtdO1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSByZXR1cm47XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXS5zbGljZS5jYWxsKHRoaXMuZWwuY2hpbGRyZW4pO1xuICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNzcyhjaGlsZCwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnIHx8IGNoaWxkID09PSBTb3J0YWJsZS5naG9zdCkgcmV0dXJuO1xuICAgICAgICBhbmltYXRpb25TdGF0ZXMucHVzaCh7XG4gICAgICAgICAgdGFyZ2V0OiBjaGlsZCxcbiAgICAgICAgICByZWN0OiBnZXRSZWN0KGNoaWxkKVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZnJvbVJlY3QgPSBfb2JqZWN0U3ByZWFkKHt9LCBhbmltYXRpb25TdGF0ZXNbYW5pbWF0aW9uU3RhdGVzLmxlbmd0aCAtIDFdLnJlY3QpOyAvLyBJZiBhbmltYXRpbmc6IGNvbXBlbnNhdGUgZm9yIGN1cnJlbnQgYW5pbWF0aW9uXG5cblxuICAgICAgICBpZiAoY2hpbGQudGhpc0FuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgdmFyIGNoaWxkTWF0cml4ID0gbWF0cml4KGNoaWxkLCB0cnVlKTtcblxuICAgICAgICAgIGlmIChjaGlsZE1hdHJpeCkge1xuICAgICAgICAgICAgZnJvbVJlY3QudG9wIC09IGNoaWxkTWF0cml4LmY7XG4gICAgICAgICAgICBmcm9tUmVjdC5sZWZ0IC09IGNoaWxkTWF0cml4LmU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQuZnJvbVJlY3QgPSBmcm9tUmVjdDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYWRkQW5pbWF0aW9uU3RhdGU6IGZ1bmN0aW9uIGFkZEFuaW1hdGlvblN0YXRlKHN0YXRlKSB7XG4gICAgICBhbmltYXRpb25TdGF0ZXMucHVzaChzdGF0ZSk7XG4gICAgfSxcbiAgICByZW1vdmVBbmltYXRpb25TdGF0ZTogZnVuY3Rpb24gcmVtb3ZlQW5pbWF0aW9uU3RhdGUodGFyZ2V0KSB7XG4gICAgICBhbmltYXRpb25TdGF0ZXMuc3BsaWNlKGluZGV4T2ZPYmplY3QoYW5pbWF0aW9uU3RhdGVzLCB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICB9KSwgMSk7XG4gICAgfSxcbiAgICBhbmltYXRlQWxsOiBmdW5jdGlvbiBhbmltYXRlQWxsKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGFuaW1hdGlvbkNhbGxiYWNrSWQpO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhbmltYXRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBhbmltYXRpb25UaW1lID0gMDtcbiAgICAgIGFuaW1hdGlvblN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgdGltZSA9IDAsXG4gICAgICAgICAgICB0YXJnZXQgPSBzdGF0ZS50YXJnZXQsXG4gICAgICAgICAgICBmcm9tUmVjdCA9IHRhcmdldC5mcm9tUmVjdCxcbiAgICAgICAgICAgIHRvUmVjdCA9IGdldFJlY3QodGFyZ2V0KSxcbiAgICAgICAgICAgIHByZXZGcm9tUmVjdCA9IHRhcmdldC5wcmV2RnJvbVJlY3QsXG4gICAgICAgICAgICBwcmV2VG9SZWN0ID0gdGFyZ2V0LnByZXZUb1JlY3QsXG4gICAgICAgICAgICBhbmltYXRpbmdSZWN0ID0gc3RhdGUucmVjdCxcbiAgICAgICAgICAgIHRhcmdldE1hdHJpeCA9IG1hdHJpeCh0YXJnZXQsIHRydWUpO1xuXG4gICAgICAgIGlmICh0YXJnZXRNYXRyaXgpIHtcbiAgICAgICAgICAvLyBDb21wZW5zYXRlIGZvciBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgICAgIHRvUmVjdC50b3AgLT0gdGFyZ2V0TWF0cml4LmY7XG4gICAgICAgICAgdG9SZWN0LmxlZnQgLT0gdGFyZ2V0TWF0cml4LmU7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQudG9SZWN0ID0gdG9SZWN0O1xuXG4gICAgICAgIGlmICh0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgLy8gQ291bGQgYWxzbyBjaGVjayBpZiBhbmltYXRpbmdSZWN0IGlzIGJldHdlZW4gZnJvbVJlY3QgYW5kIHRvUmVjdFxuICAgICAgICAgIGlmIChpc1JlY3RFcXVhbChwcmV2RnJvbVJlY3QsIHRvUmVjdCkgJiYgIWlzUmVjdEVxdWFsKGZyb21SZWN0LCB0b1JlY3QpICYmIC8vIE1ha2Ugc3VyZSBhbmltYXRpbmdSZWN0IGlzIG9uIGxpbmUgYmV0d2VlbiB0b1JlY3QgJiBmcm9tUmVjdFxuICAgICAgICAgIChhbmltYXRpbmdSZWN0LnRvcCAtIHRvUmVjdC50b3ApIC8gKGFuaW1hdGluZ1JlY3QubGVmdCAtIHRvUmVjdC5sZWZ0KSA9PT0gKGZyb21SZWN0LnRvcCAtIHRvUmVjdC50b3ApIC8gKGZyb21SZWN0LmxlZnQgLSB0b1JlY3QubGVmdCkpIHtcbiAgICAgICAgICAgIC8vIElmIHJldHVybmluZyB0byBzYW1lIHBsYWNlIGFzIHN0YXJ0ZWQgZnJvbSBhbmltYXRpb24gYW5kIG9uIHNhbWUgYXhpc1xuICAgICAgICAgICAgdGltZSA9IGNhbGN1bGF0ZVJlYWxUaW1lKGFuaW1hdGluZ1JlY3QsIHByZXZGcm9tUmVjdCwgcHJldlRvUmVjdCwgX3RoaXMub3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIGlmIGZyb21SZWN0ICE9IHRvUmVjdDogYW5pbWF0ZVxuXG5cbiAgICAgICAgaWYgKCFpc1JlY3RFcXVhbCh0b1JlY3QsIGZyb21SZWN0KSkge1xuICAgICAgICAgIHRhcmdldC5wcmV2RnJvbVJlY3QgPSBmcm9tUmVjdDtcbiAgICAgICAgICB0YXJnZXQucHJldlRvUmVjdCA9IHRvUmVjdDtcblxuICAgICAgICAgIGlmICghdGltZSkge1xuICAgICAgICAgICAgdGltZSA9IF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmFuaW1hdGUodGFyZ2V0LCBhbmltYXRpbmdSZWN0LCB0b1JlY3QsIHRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWUpIHtcbiAgICAgICAgICBhbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgIGFuaW1hdGlvblRpbWUgPSBNYXRoLm1heChhbmltYXRpb25UaW1lLCB0aW1lKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGlvblJlc2V0VGltZXIpO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpb25SZXNldFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0YXJnZXQuYW5pbWF0aW9uVGltZSA9IDA7XG4gICAgICAgICAgICB0YXJnZXQucHJldkZyb21SZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRhcmdldC5mcm9tUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQucHJldlRvUmVjdCA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgICB9LCB0aW1lKTtcbiAgICAgICAgICB0YXJnZXQudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gdGltZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjbGVhclRpbWVvdXQoYW5pbWF0aW9uQ2FsbGJhY2tJZCk7XG5cbiAgICAgIGlmICghYW5pbWF0aW5nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRpb25DYWxsYmFja0lkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICAgICAgfSwgYW5pbWF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvblN0YXRlcyA9IFtdO1xuICAgIH0sXG4gICAgYW5pbWF0ZTogZnVuY3Rpb24gYW5pbWF0ZSh0YXJnZXQsIGN1cnJlbnRSZWN0LCB0b1JlY3QsIGR1cmF0aW9uKSB7XG4gICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgY3NzKHRhcmdldCwgJ3RyYW5zaXRpb24nLCAnJyk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAnJyk7XG4gICAgICAgIHZhciBlbE1hdHJpeCA9IG1hdHJpeCh0aGlzLmVsKSxcbiAgICAgICAgICAgIHNjYWxlWCA9IGVsTWF0cml4ICYmIGVsTWF0cml4LmEsXG4gICAgICAgICAgICBzY2FsZVkgPSBlbE1hdHJpeCAmJiBlbE1hdHJpeC5kLFxuICAgICAgICAgICAgdHJhbnNsYXRlWCA9IChjdXJyZW50UmVjdC5sZWZ0IC0gdG9SZWN0LmxlZnQpIC8gKHNjYWxlWCB8fCAxKSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSAoY3VycmVudFJlY3QudG9wIC0gdG9SZWN0LnRvcCkgLyAoc2NhbGVZIHx8IDEpO1xuICAgICAgICB0YXJnZXQuYW5pbWF0aW5nWCA9ICEhdHJhbnNsYXRlWDtcbiAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1kgPSAhIXRyYW5zbGF0ZVk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsMCknKTtcbiAgICAgICAgdGhpcy5mb3JSZXBhaW50RHVtbXkgPSByZXBhaW50KHRhcmdldCk7IC8vIHJlcGFpbnRcblxuICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICd0cmFuc2Zvcm0gJyArIGR1cmF0aW9uICsgJ21zJyArICh0aGlzLm9wdGlvbnMuZWFzaW5nID8gJyAnICsgdGhpcy5vcHRpb25zLmVhc2luZyA6ICcnKSk7XG4gICAgICAgIGNzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwwLDApJyk7XG4gICAgICAgIHR5cGVvZiB0YXJnZXQuYW5pbWF0ZWQgPT09ICdudW1iZXInICYmIGNsZWFyVGltZW91dCh0YXJnZXQuYW5pbWF0ZWQpO1xuICAgICAgICB0YXJnZXQuYW5pbWF0ZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICcnKTtcbiAgICAgICAgICBjc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJycpO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRlZCA9IGZhbHNlO1xuICAgICAgICAgIHRhcmdldC5hbmltYXRpbmdYID0gZmFsc2U7XG4gICAgICAgICAgdGFyZ2V0LmFuaW1hdGluZ1kgPSBmYWxzZTtcbiAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVwYWludCh0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC5vZmZzZXRXaWR0aDtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlUmVhbFRpbWUoYW5pbWF0aW5nUmVjdCwgZnJvbVJlY3QsIHRvUmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGZyb21SZWN0LnRvcCAtIGFuaW1hdGluZ1JlY3QudG9wLCAyKSArIE1hdGgucG93KGZyb21SZWN0LmxlZnQgLSBhbmltYXRpbmdSZWN0LmxlZnQsIDIpKSAvIE1hdGguc3FydChNYXRoLnBvdyhmcm9tUmVjdC50b3AgLSB0b1JlY3QudG9wLCAyKSArIE1hdGgucG93KGZyb21SZWN0LmxlZnQgLSB0b1JlY3QubGVmdCwgMikpICogb3B0aW9ucy5hbmltYXRpb247XG59XG5cbnZhciBwbHVnaW5zID0gW107XG52YXIgZGVmYXVsdHMgPSB7XG4gIGluaXRpYWxpemVCeURlZmF1bHQ6IHRydWVcbn07XG52YXIgUGx1Z2luTWFuYWdlciA9IHtcbiAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KHBsdWdpbikge1xuICAgIC8vIFNldCBkZWZhdWx0IHN0YXRpYyBwcm9wZXJ0aWVzXG4gICAgZm9yICh2YXIgb3B0aW9uIGluIGRlZmF1bHRzKSB7XG4gICAgICBpZiAoZGVmYXVsdHMuaGFzT3duUHJvcGVydHkob3B0aW9uKSAmJiAhKG9wdGlvbiBpbiBwbHVnaW4pKSB7XG4gICAgICAgIHBsdWdpbltvcHRpb25dID0gZGVmYXVsdHNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgIGlmIChwLnBsdWdpbk5hbWUgPT09IHBsdWdpbi5wbHVnaW5OYW1lKSB7XG4gICAgICAgIHRocm93IFwiU29ydGFibGU6IENhbm5vdCBtb3VudCBwbHVnaW4gXCIuY29uY2F0KHBsdWdpbi5wbHVnaW5OYW1lLCBcIiBtb3JlIHRoYW4gb25jZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgfSxcbiAgcGx1Z2luRXZlbnQ6IGZ1bmN0aW9uIHBsdWdpbkV2ZW50KGV2ZW50TmFtZSwgc29ydGFibGUsIGV2dCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0aGlzLmV2ZW50Q2FuY2VsZWQgPSBmYWxzZTtcblxuICAgIGV2dC5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5ldmVudENhbmNlbGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50TmFtZUdsb2JhbCA9IGV2ZW50TmFtZSArICdHbG9iYWwnO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICBpZiAoIXNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXSkgcmV0dXJuOyAvLyBGaXJlIGdsb2JhbCBldmVudHMgaWYgaXQgZXhpc3RzIGluIHRoaXMgc29ydGFibGVcblxuICAgICAgaWYgKHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXVtldmVudE5hbWVHbG9iYWxdKSB7XG4gICAgICAgIHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXVtldmVudE5hbWVHbG9iYWxdKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIHNvcnRhYmxlOiBzb3J0YWJsZVxuICAgICAgICB9LCBldnQpKTtcbiAgICAgIH0gLy8gT25seSBmaXJlIHBsdWdpbiBldmVudCBpZiBwbHVnaW4gaXMgZW5hYmxlZCBpbiB0aGlzIHNvcnRhYmxlLFxuICAgICAgLy8gYW5kIHBsdWdpbiBoYXMgZXZlbnQgZGVmaW5lZFxuXG5cbiAgICAgIGlmIChzb3J0YWJsZS5vcHRpb25zW3BsdWdpbi5wbHVnaW5OYW1lXSAmJiBzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV1bZXZlbnROYW1lXSkge1xuICAgICAgICBzb3J0YWJsZVtwbHVnaW4ucGx1Z2luTmFtZV1bZXZlbnROYW1lXShfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGVcbiAgICAgICAgfSwgZXZ0KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIGluaXRpYWxpemVQbHVnaW5zOiBmdW5jdGlvbiBpbml0aWFsaXplUGx1Z2lucyhzb3J0YWJsZSwgZWwsIGRlZmF1bHRzLCBvcHRpb25zKSB7XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgIHZhciBwbHVnaW5OYW1lID0gcGx1Z2luLnBsdWdpbk5hbWU7XG4gICAgICBpZiAoIXNvcnRhYmxlLm9wdGlvbnNbcGx1Z2luTmFtZV0gJiYgIXBsdWdpbi5pbml0aWFsaXplQnlEZWZhdWx0KSByZXR1cm47XG4gICAgICB2YXIgaW5pdGlhbGl6ZWQgPSBuZXcgcGx1Z2luKHNvcnRhYmxlLCBlbCwgc29ydGFibGUub3B0aW9ucyk7XG4gICAgICBpbml0aWFsaXplZC5zb3J0YWJsZSA9IHNvcnRhYmxlO1xuICAgICAgaW5pdGlhbGl6ZWQub3B0aW9ucyA9IHNvcnRhYmxlLm9wdGlvbnM7XG4gICAgICBzb3J0YWJsZVtwbHVnaW5OYW1lXSA9IGluaXRpYWxpemVkOyAvLyBBZGQgZGVmYXVsdCBvcHRpb25zIGZyb20gcGx1Z2luXG5cbiAgICAgIF9leHRlbmRzKGRlZmF1bHRzLCBpbml0aWFsaXplZC5kZWZhdWx0cyk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBvcHRpb24gaW4gc29ydGFibGUub3B0aW9ucykge1xuICAgICAgaWYgKCFzb3J0YWJsZS5vcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIGNvbnRpbnVlO1xuICAgICAgdmFyIG1vZGlmaWVkID0gdGhpcy5tb2RpZnlPcHRpb24oc29ydGFibGUsIG9wdGlvbiwgc29ydGFibGUub3B0aW9uc1tvcHRpb25dKTtcblxuICAgICAgaWYgKHR5cGVvZiBtb2RpZmllZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc29ydGFibGUub3B0aW9uc1tvcHRpb25dID0gbW9kaWZpZWQ7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXRFdmVudFByb3BlcnRpZXM6IGZ1bmN0aW9uIGdldEV2ZW50UHJvcGVydGllcyhuYW1lLCBzb3J0YWJsZSkge1xuICAgIHZhciBldmVudFByb3BlcnRpZXMgPSB7fTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgaWYgKHR5cGVvZiBwbHVnaW4uZXZlbnRQcm9wZXJ0aWVzICE9PSAnZnVuY3Rpb24nKSByZXR1cm47XG5cbiAgICAgIF9leHRlbmRzKGV2ZW50UHJvcGVydGllcywgcGx1Z2luLmV2ZW50UHJvcGVydGllcy5jYWxsKHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXSwgbmFtZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBldmVudFByb3BlcnRpZXM7XG4gIH0sXG4gIG1vZGlmeU9wdGlvbjogZnVuY3Rpb24gbW9kaWZ5T3B0aW9uKHNvcnRhYmxlLCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBtb2RpZmllZFZhbHVlO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAvLyBQbHVnaW4gbXVzdCBleGlzdCBvbiB0aGUgU29ydGFibGVcbiAgICAgIGlmICghc29ydGFibGVbcGx1Z2luLnBsdWdpbk5hbWVdKSByZXR1cm47IC8vIElmIHN0YXRpYyBvcHRpb24gbGlzdGVuZXIgZXhpc3RzIGZvciB0aGlzIG9wdGlvbiwgY2FsbCBpbiB0aGUgY29udGV4dCBvZiB0aGUgU29ydGFibGUncyBpbnN0YW5jZSBvZiB0aGlzIHBsdWdpblxuXG4gICAgICBpZiAocGx1Z2luLm9wdGlvbkxpc3RlbmVycyAmJiB0eXBlb2YgcGx1Z2luLm9wdGlvbkxpc3RlbmVyc1tuYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtb2RpZmllZFZhbHVlID0gcGx1Z2luLm9wdGlvbkxpc3RlbmVyc1tuYW1lXS5jYWxsKHNvcnRhYmxlW3BsdWdpbi5wbHVnaW5OYW1lXSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtb2RpZmllZFZhbHVlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KF9yZWYpIHtcbiAgdmFyIHNvcnRhYmxlID0gX3JlZi5zb3J0YWJsZSxcbiAgICAgIHJvb3RFbCA9IF9yZWYucm9vdEVsLFxuICAgICAgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgIHRhcmdldEVsID0gX3JlZi50YXJnZXRFbCxcbiAgICAgIGNsb25lRWwgPSBfcmVmLmNsb25lRWwsXG4gICAgICB0b0VsID0gX3JlZi50b0VsLFxuICAgICAgZnJvbUVsID0gX3JlZi5mcm9tRWwsXG4gICAgICBvbGRJbmRleCA9IF9yZWYub2xkSW5kZXgsXG4gICAgICBuZXdJbmRleCA9IF9yZWYubmV3SW5kZXgsXG4gICAgICBvbGREcmFnZ2FibGVJbmRleCA9IF9yZWYub2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgICBuZXdEcmFnZ2FibGVJbmRleCA9IF9yZWYubmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgICBvcmlnaW5hbEV2ZW50ID0gX3JlZi5vcmlnaW5hbEV2ZW50LFxuICAgICAgcHV0U29ydGFibGUgPSBfcmVmLnB1dFNvcnRhYmxlLFxuICAgICAgZXh0cmFFdmVudFByb3BlcnRpZXMgPSBfcmVmLmV4dHJhRXZlbnRQcm9wZXJ0aWVzO1xuICBzb3J0YWJsZSA9IHNvcnRhYmxlIHx8IHJvb3RFbCAmJiByb290RWxbZXhwYW5kb107XG4gIGlmICghc29ydGFibGUpIHJldHVybjtcbiAgdmFyIGV2dCxcbiAgICAgIG9wdGlvbnMgPSBzb3J0YWJsZS5vcHRpb25zLFxuICAgICAgb25OYW1lID0gJ29uJyArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cigxKTsgLy8gU3VwcG9ydCBmb3IgbmV3IEN1c3RvbUV2ZW50IGZlYXR1cmVcblxuICBpZiAod2luZG93LkN1c3RvbUV2ZW50ICYmICFJRTExT3JMZXNzICYmICFFZGdlKSB7XG4gICAgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGV2dC50byA9IHRvRWwgfHwgcm9vdEVsO1xuICBldnQuZnJvbSA9IGZyb21FbCB8fCByb290RWw7XG4gIGV2dC5pdGVtID0gdGFyZ2V0RWwgfHwgcm9vdEVsO1xuICBldnQuY2xvbmUgPSBjbG9uZUVsO1xuICBldnQub2xkSW5kZXggPSBvbGRJbmRleDtcbiAgZXZ0Lm5ld0luZGV4ID0gbmV3SW5kZXg7XG4gIGV2dC5vbGREcmFnZ2FibGVJbmRleCA9IG9sZERyYWdnYWJsZUluZGV4O1xuICBldnQubmV3RHJhZ2dhYmxlSW5kZXggPSBuZXdEcmFnZ2FibGVJbmRleDtcbiAgZXZ0Lm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuICBldnQucHVsbE1vZGUgPSBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLmxhc3RQdXRNb2RlIDogdW5kZWZpbmVkO1xuXG4gIHZhciBhbGxFdmVudFByb3BlcnRpZXMgPSBfb2JqZWN0U3ByZWFkKHt9LCBleHRyYUV2ZW50UHJvcGVydGllcywgUGx1Z2luTWFuYWdlci5nZXRFdmVudFByb3BlcnRpZXMobmFtZSwgc29ydGFibGUpKTtcblxuICBmb3IgKHZhciBvcHRpb24gaW4gYWxsRXZlbnRQcm9wZXJ0aWVzKSB7XG4gICAgZXZ0W29wdGlvbl0gPSBhbGxFdmVudFByb3BlcnRpZXNbb3B0aW9uXTtcbiAgfVxuXG4gIGlmIChyb290RWwpIHtcbiAgICByb290RWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnNbb25OYW1lXSkge1xuICAgIG9wdGlvbnNbb25OYW1lXS5jYWxsKHNvcnRhYmxlLCBldnQpO1xuICB9XG59XG5cbnZhciBwbHVnaW5FdmVudCA9IGZ1bmN0aW9uIHBsdWdpbkV2ZW50KGV2ZW50TmFtZSwgc29ydGFibGUpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9LFxuICAgICAgb3JpZ2luYWxFdmVudCA9IF9yZWYuZXZ0LFxuICAgICAgZGF0YSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJldnRcIl0pO1xuXG4gIFBsdWdpbk1hbmFnZXIucGx1Z2luRXZlbnQuYmluZChTb3J0YWJsZSkoZXZlbnROYW1lLCBzb3J0YWJsZSwgX29iamVjdFNwcmVhZCh7XG4gICAgZHJhZ0VsOiBkcmFnRWwsXG4gICAgcGFyZW50RWw6IHBhcmVudEVsLFxuICAgIGdob3N0RWw6IGdob3N0RWwsXG4gICAgcm9vdEVsOiByb290RWwsXG4gICAgbmV4dEVsOiBuZXh0RWwsXG4gICAgbGFzdERvd25FbDogbGFzdERvd25FbCxcbiAgICBjbG9uZUVsOiBjbG9uZUVsLFxuICAgIGNsb25lSGlkZGVuOiBjbG9uZUhpZGRlbixcbiAgICBkcmFnU3RhcnRlZDogbW92ZWQsXG4gICAgcHV0U29ydGFibGU6IHB1dFNvcnRhYmxlLFxuICAgIGFjdGl2ZVNvcnRhYmxlOiBTb3J0YWJsZS5hY3RpdmUsXG4gICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudCxcbiAgICBvbGRJbmRleDogb2xkSW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXg6IG9sZERyYWdnYWJsZUluZGV4LFxuICAgIG5ld0luZGV4OiBuZXdJbmRleCxcbiAgICBuZXdEcmFnZ2FibGVJbmRleDogbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgaGlkZUdob3N0Rm9yVGFyZ2V0OiBfaGlkZUdob3N0Rm9yVGFyZ2V0LFxuICAgIHVuaGlkZUdob3N0Rm9yVGFyZ2V0OiBfdW5oaWRlR2hvc3RGb3JUYXJnZXQsXG4gICAgY2xvbmVOb3dIaWRkZW46IGZ1bmN0aW9uIGNsb25lTm93SGlkZGVuKCkge1xuICAgICAgY2xvbmVIaWRkZW4gPSB0cnVlO1xuICAgIH0sXG4gICAgY2xvbmVOb3dTaG93bjogZnVuY3Rpb24gY2xvbmVOb3dTaG93bigpIHtcbiAgICAgIGNsb25lSGlkZGVuID0gZmFsc2U7XG4gICAgfSxcbiAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQ6IGZ1bmN0aW9uIGRpc3BhdGNoU29ydGFibGVFdmVudChuYW1lKSB7XG4gICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHNvcnRhYmxlOiBzb3J0YWJsZSxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBkYXRhKSk7XG59O1xuXG5mdW5jdGlvbiBfZGlzcGF0Y2hFdmVudChpbmZvKSB7XG4gIGRpc3BhdGNoRXZlbnQoX29iamVjdFNwcmVhZCh7XG4gICAgcHV0U29ydGFibGU6IHB1dFNvcnRhYmxlLFxuICAgIGNsb25lRWw6IGNsb25lRWwsXG4gICAgdGFyZ2V0RWw6IGRyYWdFbCxcbiAgICByb290RWw6IHJvb3RFbCxcbiAgICBvbGRJbmRleDogb2xkSW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXg6IG9sZERyYWdnYWJsZUluZGV4LFxuICAgIG5ld0luZGV4OiBuZXdJbmRleCxcbiAgICBuZXdEcmFnZ2FibGVJbmRleDogbmV3RHJhZ2dhYmxlSW5kZXhcbiAgfSwgaW5mbykpO1xufVxuXG52YXIgZHJhZ0VsLFxuICAgIHBhcmVudEVsLFxuICAgIGdob3N0RWwsXG4gICAgcm9vdEVsLFxuICAgIG5leHRFbCxcbiAgICBsYXN0RG93bkVsLFxuICAgIGNsb25lRWwsXG4gICAgY2xvbmVIaWRkZW4sXG4gICAgb2xkSW5kZXgsXG4gICAgbmV3SW5kZXgsXG4gICAgb2xkRHJhZ2dhYmxlSW5kZXgsXG4gICAgbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgYWN0aXZlR3JvdXAsXG4gICAgcHV0U29ydGFibGUsXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlLFxuICAgIGlnbm9yZU5leHRDbGljayA9IGZhbHNlLFxuICAgIHNvcnRhYmxlcyA9IFtdLFxuICAgIHRhcEV2dCxcbiAgICB0b3VjaEV2dCxcbiAgICBsYXN0RHgsXG4gICAgbGFzdER5LFxuICAgIHRhcERpc3RhbmNlTGVmdCxcbiAgICB0YXBEaXN0YW5jZVRvcCxcbiAgICBtb3ZlZCxcbiAgICBsYXN0VGFyZ2V0LFxuICAgIGxhc3REaXJlY3Rpb24sXG4gICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2UsXG4gICAgaXNDaXJjdW1zdGFudGlhbEludmVydCA9IGZhbHNlLFxuICAgIHRhcmdldE1vdmVEaXN0YW5jZSxcbiAgICAvLyBGb3IgcG9zaXRpb25pbmcgZ2hvc3QgYWJzb2x1dGVseVxuZ2hvc3RSZWxhdGl2ZVBhcmVudCxcbiAgICBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbCA9IFtdLFxuICAgIC8vIChsZWZ0LCB0b3ApXG5fc2lsZW50ID0gZmFsc2UsXG4gICAgc2F2ZWRJbnB1dENoZWNrZWQgPSBbXTtcbi8qKiBAY29uc3QgKi9cblxudmFyIGRvY3VtZW50RXhpc3RzID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyxcbiAgICBQb3NpdGlvbkdob3N0QWJzb2x1dGVseSA9IElPUyxcbiAgICBDU1NGbG9hdFByb3BlcnR5ID0gRWRnZSB8fCBJRTExT3JMZXNzID8gJ2Nzc0Zsb2F0JyA6ICdmbG9hdCcsXG4gICAgLy8gVGhpcyB3aWxsIG5vdCBwYXNzIGZvciBJRTksIGJlY2F1c2UgSUU5IERuRCBvbmx5IHdvcmtzIG9uIGFuY2hvcnNcbnN1cHBvcnREcmFnZ2FibGUgPSBkb2N1bWVudEV4aXN0cyAmJiAhQ2hyb21lRm9yQW5kcm9pZCAmJiAhSU9TICYmICdkcmFnZ2FibGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIHN1cHBvcnRDc3NQb2ludGVyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIWRvY3VtZW50RXhpc3RzKSByZXR1cm47IC8vIGZhbHNlIHdoZW4gPD0gSUUxMVxuXG4gIGlmIChJRTExT3JMZXNzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgneCcpO1xuICBlbC5zdHlsZS5jc3NUZXh0ID0gJ3BvaW50ZXItZXZlbnRzOmF1dG8nO1xuICByZXR1cm4gZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9PT0gJ2F1dG8nO1xufSgpLFxuICAgIF9kZXRlY3REaXJlY3Rpb24gPSBmdW5jdGlvbiBfZGV0ZWN0RGlyZWN0aW9uKGVsLCBvcHRpb25zKSB7XG4gIHZhciBlbENTUyA9IGNzcyhlbCksXG4gICAgICBlbFdpZHRoID0gcGFyc2VJbnQoZWxDU1Mud2lkdGgpIC0gcGFyc2VJbnQoZWxDU1MucGFkZGluZ0xlZnQpIC0gcGFyc2VJbnQoZWxDU1MucGFkZGluZ1JpZ2h0KSAtIHBhcnNlSW50KGVsQ1NTLmJvcmRlckxlZnRXaWR0aCkgLSBwYXJzZUludChlbENTUy5ib3JkZXJSaWdodFdpZHRoKSxcbiAgICAgIGNoaWxkMSA9IGdldENoaWxkKGVsLCAwLCBvcHRpb25zKSxcbiAgICAgIGNoaWxkMiA9IGdldENoaWxkKGVsLCAxLCBvcHRpb25zKSxcbiAgICAgIGZpcnN0Q2hpbGRDU1MgPSBjaGlsZDEgJiYgY3NzKGNoaWxkMSksXG4gICAgICBzZWNvbmRDaGlsZENTUyA9IGNoaWxkMiAmJiBjc3MoY2hpbGQyKSxcbiAgICAgIGZpcnN0Q2hpbGRXaWR0aCA9IGZpcnN0Q2hpbGRDU1MgJiYgcGFyc2VJbnQoZmlyc3RDaGlsZENTUy5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KGZpcnN0Q2hpbGRDU1MubWFyZ2luUmlnaHQpICsgZ2V0UmVjdChjaGlsZDEpLndpZHRoLFxuICAgICAgc2Vjb25kQ2hpbGRXaWR0aCA9IHNlY29uZENoaWxkQ1NTICYmIHBhcnNlSW50KHNlY29uZENoaWxkQ1NTLm1hcmdpbkxlZnQpICsgcGFyc2VJbnQoc2Vjb25kQ2hpbGRDU1MubWFyZ2luUmlnaHQpICsgZ2V0UmVjdChjaGlsZDIpLndpZHRoO1xuXG4gIGlmIChlbENTUy5kaXNwbGF5ID09PSAnZmxleCcpIHtcbiAgICByZXR1cm4gZWxDU1MuZmxleERpcmVjdGlvbiA9PT0gJ2NvbHVtbicgfHwgZWxDU1MuZmxleERpcmVjdGlvbiA9PT0gJ2NvbHVtbi1yZXZlcnNlJyA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICBpZiAoZWxDU1MuZGlzcGxheSA9PT0gJ2dyaWQnKSB7XG4gICAgcmV0dXJuIGVsQ1NTLmdyaWRUZW1wbGF0ZUNvbHVtbnMuc3BsaXQoJyAnKS5sZW5ndGggPD0gMSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICBpZiAoY2hpbGQxICYmIGZpcnN0Q2hpbGRDU1NbXCJmbG9hdFwiXSAmJiBmaXJzdENoaWxkQ1NTW1wiZmxvYXRcIl0gIT09ICdub25lJykge1xuICAgIHZhciB0b3VjaGluZ1NpZGVDaGlsZDIgPSBmaXJzdENoaWxkQ1NTW1wiZmxvYXRcIl0gPT09ICdsZWZ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgcmV0dXJuIGNoaWxkMiAmJiAoc2Vjb25kQ2hpbGRDU1MuY2xlYXIgPT09ICdib3RoJyB8fCBzZWNvbmRDaGlsZENTUy5jbGVhciA9PT0gdG91Y2hpbmdTaWRlQ2hpbGQyKSA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gIH1cblxuICByZXR1cm4gY2hpbGQxICYmIChmaXJzdENoaWxkQ1NTLmRpc3BsYXkgPT09ICdibG9jaycgfHwgZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAnZmxleCcgfHwgZmlyc3RDaGlsZENTUy5kaXNwbGF5ID09PSAndGFibGUnIHx8IGZpcnN0Q2hpbGRDU1MuZGlzcGxheSA9PT0gJ2dyaWQnIHx8IGZpcnN0Q2hpbGRXaWR0aCA+PSBlbFdpZHRoICYmIGVsQ1NTW0NTU0Zsb2F0UHJvcGVydHldID09PSAnbm9uZScgfHwgY2hpbGQyICYmIGVsQ1NTW0NTU0Zsb2F0UHJvcGVydHldID09PSAnbm9uZScgJiYgZmlyc3RDaGlsZFdpZHRoICsgc2Vjb25kQ2hpbGRXaWR0aCA+IGVsV2lkdGgpID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbn0sXG4gICAgX2RyYWdFbEluUm93Q29sdW1uID0gZnVuY3Rpb24gX2RyYWdFbEluUm93Q29sdW1uKGRyYWdSZWN0LCB0YXJnZXRSZWN0LCB2ZXJ0aWNhbCkge1xuICB2YXIgZHJhZ0VsUzFPcHAgPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LmxlZnQgOiBkcmFnUmVjdC50b3AsXG4gICAgICBkcmFnRWxTMk9wcCA9IHZlcnRpY2FsID8gZHJhZ1JlY3QucmlnaHQgOiBkcmFnUmVjdC5ib3R0b20sXG4gICAgICBkcmFnRWxPcHBMZW5ndGggPSB2ZXJ0aWNhbCA/IGRyYWdSZWN0LndpZHRoIDogZHJhZ1JlY3QuaGVpZ2h0LFxuICAgICAgdGFyZ2V0UzFPcHAgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QubGVmdCA6IHRhcmdldFJlY3QudG9wLFxuICAgICAgdGFyZ2V0UzJPcHAgPSB2ZXJ0aWNhbCA/IHRhcmdldFJlY3QucmlnaHQgOiB0YXJnZXRSZWN0LmJvdHRvbSxcbiAgICAgIHRhcmdldE9wcExlbmd0aCA9IHZlcnRpY2FsID8gdGFyZ2V0UmVjdC53aWR0aCA6IHRhcmdldFJlY3QuaGVpZ2h0O1xuICByZXR1cm4gZHJhZ0VsUzFPcHAgPT09IHRhcmdldFMxT3BwIHx8IGRyYWdFbFMyT3BwID09PSB0YXJnZXRTMk9wcCB8fCBkcmFnRWxTMU9wcCArIGRyYWdFbE9wcExlbmd0aCAvIDIgPT09IHRhcmdldFMxT3BwICsgdGFyZ2V0T3BwTGVuZ3RoIC8gMjtcbn0sXG5cbi8qKlxuICogRGV0ZWN0cyBmaXJzdCBuZWFyZXN0IGVtcHR5IHNvcnRhYmxlIHRvIFggYW5kIFkgcG9zaXRpb24gdXNpbmcgZW1wdHlJbnNlcnRUaHJlc2hvbGQuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHggICAgICBYIHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHkgICAgICBZIHBvc2l0aW9uXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gICBFbGVtZW50IG9mIHRoZSBmaXJzdCBmb3VuZCBuZWFyZXN0IFNvcnRhYmxlXG4gKi9cbl9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZSA9IGZ1bmN0aW9uIF9kZXRlY3ROZWFyZXN0RW1wdHlTb3J0YWJsZSh4LCB5KSB7XG4gIHZhciByZXQ7XG4gIHNvcnRhYmxlcy5zb21lKGZ1bmN0aW9uIChzb3J0YWJsZSkge1xuICAgIGlmIChsYXN0Q2hpbGQoc29ydGFibGUpKSByZXR1cm47XG4gICAgdmFyIHJlY3QgPSBnZXRSZWN0KHNvcnRhYmxlKSxcbiAgICAgICAgdGhyZXNob2xkID0gc29ydGFibGVbZXhwYW5kb10ub3B0aW9ucy5lbXB0eUluc2VydFRocmVzaG9sZCxcbiAgICAgICAgaW5zaWRlSG9yaXpvbnRhbGx5ID0geCA+PSByZWN0LmxlZnQgLSB0aHJlc2hvbGQgJiYgeCA8PSByZWN0LnJpZ2h0ICsgdGhyZXNob2xkLFxuICAgICAgICBpbnNpZGVWZXJ0aWNhbGx5ID0geSA+PSByZWN0LnRvcCAtIHRocmVzaG9sZCAmJiB5IDw9IHJlY3QuYm90dG9tICsgdGhyZXNob2xkO1xuXG4gICAgaWYgKHRocmVzaG9sZCAmJiBpbnNpZGVIb3Jpem9udGFsbHkgJiYgaW5zaWRlVmVydGljYWxseSkge1xuICAgICAgcmV0dXJuIHJldCA9IHNvcnRhYmxlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXQ7XG59LFxuICAgIF9wcmVwYXJlR3JvdXAgPSBmdW5jdGlvbiBfcHJlcGFyZUdyb3VwKG9wdGlvbnMpIHtcbiAgZnVuY3Rpb24gdG9Gbih2YWx1ZSwgcHVsbCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodG8sIGZyb20sIGRyYWdFbCwgZXZ0KSB7XG4gICAgICB2YXIgc2FtZUdyb3VwID0gdG8ub3B0aW9ucy5ncm91cC5uYW1lICYmIGZyb20ub3B0aW9ucy5ncm91cC5uYW1lICYmIHRvLm9wdGlvbnMuZ3JvdXAubmFtZSA9PT0gZnJvbS5vcHRpb25zLmdyb3VwLm5hbWU7XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmIChwdWxsIHx8IHNhbWVHcm91cCkpIHtcbiAgICAgICAgLy8gRGVmYXVsdCBwdWxsIHZhbHVlXG4gICAgICAgIC8vIERlZmF1bHQgcHVsbCBhbmQgcHV0IHZhbHVlIGlmIHNhbWUgZ3JvdXBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAocHVsbCAmJiB2YWx1ZSA9PT0gJ2Nsb25lJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdG9Gbih2YWx1ZSh0bywgZnJvbSwgZHJhZ0VsLCBldnQpLCBwdWxsKSh0bywgZnJvbSwgZHJhZ0VsLCBldnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG90aGVyR3JvdXAgPSAocHVsbCA/IHRvIDogZnJvbSkub3B0aW9ucy5ncm91cC5uYW1lO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gb3RoZXJHcm91cCB8fCB2YWx1ZS5qb2luICYmIHZhbHVlLmluZGV4T2Yob3RoZXJHcm91cCkgPiAtMTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGdyb3VwID0ge307XG4gIHZhciBvcmlnaW5hbEdyb3VwID0gb3B0aW9ucy5ncm91cDtcblxuICBpZiAoIW9yaWdpbmFsR3JvdXAgfHwgX3R5cGVvZihvcmlnaW5hbEdyb3VwKSAhPSAnb2JqZWN0Jykge1xuICAgIG9yaWdpbmFsR3JvdXAgPSB7XG4gICAgICBuYW1lOiBvcmlnaW5hbEdyb3VwXG4gICAgfTtcbiAgfVxuXG4gIGdyb3VwLm5hbWUgPSBvcmlnaW5hbEdyb3VwLm5hbWU7XG4gIGdyb3VwLmNoZWNrUHVsbCA9IHRvRm4ob3JpZ2luYWxHcm91cC5wdWxsLCB0cnVlKTtcbiAgZ3JvdXAuY2hlY2tQdXQgPSB0b0ZuKG9yaWdpbmFsR3JvdXAucHV0KTtcbiAgZ3JvdXAucmV2ZXJ0Q2xvbmUgPSBvcmlnaW5hbEdyb3VwLnJldmVydENsb25lO1xuICBvcHRpb25zLmdyb3VwID0gZ3JvdXA7XG59LFxuICAgIF9oaWRlR2hvc3RGb3JUYXJnZXQgPSBmdW5jdGlvbiBfaGlkZUdob3N0Rm9yVGFyZ2V0KCkge1xuICBpZiAoIXN1cHBvcnRDc3NQb2ludGVyRXZlbnRzICYmIGdob3N0RWwpIHtcbiAgICBjc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9XG59LFxuICAgIF91bmhpZGVHaG9zdEZvclRhcmdldCA9IGZ1bmN0aW9uIF91bmhpZGVHaG9zdEZvclRhcmdldCgpIHtcbiAgaWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyAmJiBnaG9zdEVsKSB7XG4gICAgY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJycpO1xuICB9XG59OyAvLyAjMTE4NCBmaXggLSBQcmV2ZW50IGNsaWNrIGV2ZW50IG9uIGZhbGxiYWNrIGlmIGRyYWdnZWQgYnV0IGl0ZW0gbm90IGNoYW5nZWQgcG9zaXRpb25cblxuXG5pZiAoZG9jdW1lbnRFeGlzdHMpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgaWYgKGlnbm9yZU5leHRDbGljaykge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uICYmIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gJiYgZXZ0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgaWdub3JlTmV4dENsaWNrID0gZmFsc2U7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB0cnVlKTtcbn1cblxudmFyIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50ID0gZnVuY3Rpb24gbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQoZXZ0KSB7XG4gIGlmIChkcmFnRWwpIHtcbiAgICBldnQgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0O1xuXG4gICAgdmFyIG5lYXJlc3QgPSBfZGV0ZWN0TmVhcmVzdEVtcHR5U29ydGFibGUoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcblxuICAgIGlmIChuZWFyZXN0KSB7XG4gICAgICAvLyBDcmVhdGUgaW1pdGF0aW9uIGV2ZW50XG4gICAgICB2YXIgZXZlbnQgPSB7fTtcblxuICAgICAgZm9yICh2YXIgaSBpbiBldnQpIHtcbiAgICAgICAgaWYgKGV2dC5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIGV2ZW50W2ldID0gZXZ0W2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnRhcmdldCA9IGV2ZW50LnJvb3RFbCA9IG5lYXJlc3Q7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCA9IHZvaWQgMDtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IHZvaWQgMDtcblxuICAgICAgbmVhcmVzdFtleHBhbmRvXS5fb25EcmFnT3ZlcihldmVudCk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgX2NoZWNrT3V0c2lkZVRhcmdldEVsID0gZnVuY3Rpb24gX2NoZWNrT3V0c2lkZVRhcmdldEVsKGV2dCkge1xuICBpZiAoZHJhZ0VsKSB7XG4gICAgZHJhZ0VsLnBhcmVudE5vZGVbZXhwYW5kb10uX2lzT3V0c2lkZVRoaXNFbChldnQudGFyZ2V0KTtcbiAgfVxufTtcbi8qKlxuICogQGNsYXNzICBTb3J0YWJsZVxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9ICBlbFxuICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9uc11cbiAqL1xuXG5cbmZ1bmN0aW9uIFNvcnRhYmxlKGVsLCBvcHRpb25zKSB7XG4gIGlmICghKGVsICYmIGVsLm5vZGVUeXBlICYmIGVsLm5vZGVUeXBlID09PSAxKSkge1xuICAgIHRocm93IFwiU29ydGFibGU6IGBlbGAgbXVzdCBiZSBhbiBIVE1MRWxlbWVudCwgbm90IFwiLmNvbmNhdCh7fS50b1N0cmluZy5jYWxsKGVsKSk7XG4gIH1cblxuICB0aGlzLmVsID0gZWw7IC8vIHJvb3QgZWxlbWVudFxuXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgb3B0aW9ucyk7IC8vIEV4cG9ydCBpbnN0YW5jZVxuXG4gIGVsW2V4cGFuZG9dID0gdGhpcztcbiAgdmFyIGRlZmF1bHRzID0ge1xuICAgIGdyb3VwOiBudWxsLFxuICAgIHNvcnQ6IHRydWUsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIHN0b3JlOiBudWxsLFxuICAgIGhhbmRsZTogbnVsbCxcbiAgICBkcmFnZ2FibGU6IC9eW3VvXWwkL2kudGVzdChlbC5ub2RlTmFtZSkgPyAnPmxpJyA6ICc+KicsXG4gICAgc3dhcFRocmVzaG9sZDogMSxcbiAgICAvLyBwZXJjZW50YWdlOyAwIDw9IHggPD0gMVxuICAgIGludmVydFN3YXA6IGZhbHNlLFxuICAgIC8vIGludmVydCBhbHdheXNcbiAgICBpbnZlcnRlZFN3YXBUaHJlc2hvbGQ6IG51bGwsXG4gICAgLy8gd2lsbCBiZSBzZXQgdG8gc2FtZSBhcyBzd2FwVGhyZXNob2xkIGlmIGRlZmF1bHRcbiAgICByZW1vdmVDbG9uZU9uSGlkZTogdHJ1ZSxcbiAgICBkaXJlY3Rpb246IGZ1bmN0aW9uIGRpcmVjdGlvbigpIHtcbiAgICAgIHJldHVybiBfZGV0ZWN0RGlyZWN0aW9uKGVsLCB0aGlzLm9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2hvc3RDbGFzczogJ3NvcnRhYmxlLWdob3N0JyxcbiAgICBjaG9zZW5DbGFzczogJ3NvcnRhYmxlLWNob3NlbicsXG4gICAgZHJhZ0NsYXNzOiAnc29ydGFibGUtZHJhZycsXG4gICAgaWdub3JlOiAnYSwgaW1nJyxcbiAgICBmaWx0ZXI6IG51bGwsXG4gICAgcHJldmVudE9uRmlsdGVyOiB0cnVlLFxuICAgIGFuaW1hdGlvbjogMCxcbiAgICBlYXNpbmc6IG51bGwsXG4gICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YShkYXRhVHJhbnNmZXIsIGRyYWdFbCkge1xuICAgICAgZGF0YVRyYW5zZmVyLnNldERhdGEoJ1RleHQnLCBkcmFnRWwudGV4dENvbnRlbnQpO1xuICAgIH0sXG4gICAgZHJvcEJ1YmJsZTogZmFsc2UsXG4gICAgZHJhZ292ZXJCdWJibGU6IGZhbHNlLFxuICAgIGRhdGFJZEF0dHI6ICdkYXRhLWlkJyxcbiAgICBkZWxheTogMCxcbiAgICBkZWxheU9uVG91Y2hPbmx5OiBmYWxzZSxcbiAgICB0b3VjaFN0YXJ0VGhyZXNob2xkOiAoTnVtYmVyLnBhcnNlSW50ID8gTnVtYmVyIDogd2luZG93KS5wYXJzZUludCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMTApIHx8IDEsXG4gICAgZm9yY2VGYWxsYmFjazogZmFsc2UsXG4gICAgZmFsbGJhY2tDbGFzczogJ3NvcnRhYmxlLWZhbGxiYWNrJyxcbiAgICBmYWxsYmFja09uQm9keTogZmFsc2UsXG4gICAgZmFsbGJhY2tUb2xlcmFuY2U6IDAsXG4gICAgZmFsbGJhY2tPZmZzZXQ6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfSxcbiAgICBzdXBwb3J0UG9pbnRlcjogU29ydGFibGUuc3VwcG9ydFBvaW50ZXIgIT09IGZhbHNlICYmICdQb2ludGVyRXZlbnQnIGluIHdpbmRvdyAmJiAhU2FmYXJpLFxuICAgIGVtcHR5SW5zZXJ0VGhyZXNob2xkOiA1XG4gIH07XG4gIFBsdWdpbk1hbmFnZXIuaW5pdGlhbGl6ZVBsdWdpbnModGhpcywgZWwsIGRlZmF1bHRzKTsgLy8gU2V0IGRlZmF1bHQgb3B0aW9uc1xuXG4gIGZvciAodmFyIG5hbWUgaW4gZGVmYXVsdHMpIHtcbiAgICAhKG5hbWUgaW4gb3B0aW9ucykgJiYgKG9wdGlvbnNbbmFtZV0gPSBkZWZhdWx0c1tuYW1lXSk7XG4gIH1cblxuICBfcHJlcGFyZUdyb3VwKG9wdGlvbnMpOyAvLyBCaW5kIGFsbCBwcml2YXRlIG1ldGhvZHNcblxuXG4gIGZvciAodmFyIGZuIGluIHRoaXMpIHtcbiAgICBpZiAoZm4uY2hhckF0KDApID09PSAnXycgJiYgdHlwZW9mIHRoaXNbZm5dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ZuXSA9IHRoaXNbZm5dLmJpbmQodGhpcyk7XG4gICAgfVxuICB9IC8vIFNldHVwIGRyYWcgbW9kZVxuXG5cbiAgdGhpcy5uYXRpdmVEcmFnZ2FibGUgPSBvcHRpb25zLmZvcmNlRmFsbGJhY2sgPyBmYWxzZSA6IHN1cHBvcnREcmFnZ2FibGU7XG5cbiAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgLy8gVG91Y2ggc3RhcnQgdGhyZXNob2xkIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gdGhlIG5hdGl2ZSBkcmFnc3RhcnQgdGhyZXNob2xkXG4gICAgdGhpcy5vcHRpb25zLnRvdWNoU3RhcnRUaHJlc2hvbGQgPSAxO1xuICB9IC8vIEJpbmQgZXZlbnRzXG5cblxuICBpZiAob3B0aW9ucy5zdXBwb3J0UG9pbnRlcikge1xuICAgIG9uKGVsLCAncG9pbnRlcmRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgfSBlbHNlIHtcbiAgICBvbihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuICAgIG9uKGVsLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVGFwU3RhcnQpO1xuICB9XG5cbiAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgb24oZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuICAgIG9uKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG4gIH1cblxuICBzb3J0YWJsZXMucHVzaCh0aGlzLmVsKTsgLy8gUmVzdG9yZSBzb3J0aW5nXG5cbiAgb3B0aW9ucy5zdG9yZSAmJiBvcHRpb25zLnN0b3JlLmdldCAmJiB0aGlzLnNvcnQob3B0aW9ucy5zdG9yZS5nZXQodGhpcykgfHwgW10pOyAvLyBBZGQgYW5pbWF0aW9uIHN0YXRlIG1hbmFnZXJcblxuICBfZXh0ZW5kcyh0aGlzLCBBbmltYXRpb25TdGF0ZU1hbmFnZXIoKSk7XG59XG5cblNvcnRhYmxlLnByb3RvdHlwZSA9XG4vKiogQGxlbmRzIFNvcnRhYmxlLnByb3RvdHlwZSAqL1xue1xuICBjb25zdHJ1Y3RvcjogU29ydGFibGUsXG4gIF9pc091dHNpZGVUaGlzRWw6IGZ1bmN0aW9uIF9pc091dHNpZGVUaGlzRWwodGFyZ2V0KSB7XG4gICAgaWYgKCF0aGlzLmVsLmNvbnRhaW5zKHRhcmdldCkgJiYgdGFyZ2V0ICE9PSB0aGlzLmVsKSB7XG4gICAgICBsYXN0VGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIF9nZXREaXJlY3Rpb246IGZ1bmN0aW9uIF9nZXREaXJlY3Rpb24oZXZ0LCB0YXJnZXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdmdW5jdGlvbicgPyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uLmNhbGwodGhpcywgZXZ0LCB0YXJnZXQsIGRyYWdFbCkgOiB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICB9LFxuICBfb25UYXBTdGFydDogZnVuY3Rpb24gX29uVGFwU3RhcnQoXG4gIC8qKiBFdmVudHxUb3VjaEV2ZW50ICovXG4gIGV2dCkge1xuICAgIGlmICghZXZ0LmNhbmNlbGFibGUpIHJldHVybjtcblxuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIGVsID0gdGhpcy5lbCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgcHJldmVudE9uRmlsdGVyID0gb3B0aW9ucy5wcmV2ZW50T25GaWx0ZXIsXG4gICAgICAgIHR5cGUgPSBldnQudHlwZSxcbiAgICAgICAgdG91Y2ggPSBldnQudG91Y2hlcyAmJiBldnQudG91Y2hlc1swXSB8fCBldnQucG9pbnRlclR5cGUgJiYgZXZ0LnBvaW50ZXJUeXBlID09PSAndG91Y2gnICYmIGV2dCxcbiAgICAgICAgdGFyZ2V0ID0gKHRvdWNoIHx8IGV2dCkudGFyZ2V0LFxuICAgICAgICBvcmlnaW5hbFRhcmdldCA9IGV2dC50YXJnZXQuc2hhZG93Um9vdCAmJiAoZXZ0LnBhdGggJiYgZXZ0LnBhdGhbMF0gfHwgZXZ0LmNvbXBvc2VkUGF0aCAmJiBldnQuY29tcG9zZWRQYXRoKClbMF0pIHx8IHRhcmdldCxcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG5cbiAgICBfc2F2ZUlucHV0Q2hlY2tlZFN0YXRlKGVsKTsgLy8gRG9uJ3QgdHJpZ2dlciBzdGFydCBldmVudCB3aGVuIGFuIGVsZW1lbnQgaXMgYmVlbiBkcmFnZ2VkLCBvdGhlcndpc2UgdGhlIGV2dC5vbGRpbmRleCBhbHdheXMgd3Jvbmcgd2hlbiBzZXQgb3B0aW9uLmdyb3VwLlxuXG5cbiAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9tb3VzZWRvd258cG9pbnRlcmRvd24vLnRlc3QodHlwZSkgJiYgZXZ0LmJ1dHRvbiAhPT0gMCB8fCBvcHRpb25zLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47IC8vIG9ubHkgbGVmdCBidXR0b24gYW5kIGVuYWJsZWRcbiAgICB9IC8vIGNhbmNlbCBkbmQgaWYgb3JpZ2luYWwgdGFyZ2V0IGlzIGNvbnRlbnQgZWRpdGFibGVcblxuXG4gICAgaWYgKG9yaWdpbmFsVGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBTYWZhcmkgaWdub3JlcyBmdXJ0aGVyIGV2ZW50IGhhbmRsaW5nIGFmdGVyIG1vdXNlZG93blxuXG5cbiAgICBpZiAoIXRoaXMubmF0aXZlRHJhZ2dhYmxlICYmIFNhZmFyaSAmJiB0YXJnZXQgJiYgdGFyZ2V0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsLCBmYWxzZSk7XG5cbiAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC5hbmltYXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsYXN0RG93bkVsID09PSB0YXJnZXQpIHtcbiAgICAgIC8vIElnbm9yaW5nIGR1cGxpY2F0ZSBgZG93bmBcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRyYWdnZWQgZWxlbWVudCB3aXRoaW4gaXRzIHBhcmVudFxuXG5cbiAgICBvbGRJbmRleCA9IGluZGV4KHRhcmdldCk7XG4gICAgb2xkRHJhZ2dhYmxlSW5kZXggPSBpbmRleCh0YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlKTsgLy8gQ2hlY2sgZmlsdGVyXG5cbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGZpbHRlci5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCB0aGlzKSkge1xuICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgc29ydGFibGU6IF90aGlzLFxuICAgICAgICAgIHJvb3RFbDogb3JpZ2luYWxUYXJnZXQsXG4gICAgICAgICAgbmFtZTogJ2ZpbHRlcicsXG4gICAgICAgICAgdGFyZ2V0RWw6IHRhcmdldCxcbiAgICAgICAgICB0b0VsOiBlbCxcbiAgICAgICAgICBmcm9tRWw6IGVsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsdWdpbkV2ZW50KCdmaWx0ZXInLCBfdGhpcywge1xuICAgICAgICAgIGV2dDogZXZ0XG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2ZW50T25GaWx0ZXIgJiYgZXZ0LmNhbmNlbGFibGUgJiYgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjsgLy8gY2FuY2VsIGRuZFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZmlsdGVyKSB7XG4gICAgICBmaWx0ZXIgPSBmaWx0ZXIuc3BsaXQoJywnKS5zb21lKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuICAgICAgICBjcml0ZXJpYSA9IGNsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIGNyaXRlcmlhLnRyaW0oKSwgZWwsIGZhbHNlKTtcblxuICAgICAgICBpZiAoY3JpdGVyaWEpIHtcbiAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgICAgICByb290RWw6IGNyaXRlcmlhLFxuICAgICAgICAgICAgbmFtZTogJ2ZpbHRlcicsXG4gICAgICAgICAgICB0YXJnZXRFbDogdGFyZ2V0LFxuICAgICAgICAgICAgZnJvbUVsOiBlbCxcbiAgICAgICAgICAgIHRvRWw6IGVsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBwbHVnaW5FdmVudCgnZmlsdGVyJywgX3RoaXMsIHtcbiAgICAgICAgICAgIGV2dDogZXZ0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgIHByZXZlbnRPbkZpbHRlciAmJiBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuOyAvLyBjYW5jZWwgZG5kXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlICYmICFjbG9zZXN0KG9yaWdpbmFsVGFyZ2V0LCBvcHRpb25zLmhhbmRsZSwgZWwsIGZhbHNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gUHJlcGFyZSBgZHJhZ3N0YXJ0YFxuXG5cbiAgICB0aGlzLl9wcmVwYXJlRHJhZ1N0YXJ0KGV2dCwgdG91Y2gsIHRhcmdldCk7XG4gIH0sXG4gIF9wcmVwYXJlRHJhZ1N0YXJ0OiBmdW5jdGlvbiBfcHJlcGFyZURyYWdTdGFydChcbiAgLyoqIEV2ZW50ICovXG4gIGV2dCxcbiAgLyoqIFRvdWNoICovXG4gIHRvdWNoLFxuICAvKiogSFRNTEVsZW1lbnQgKi9cbiAgdGFyZ2V0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgZWwgPSBfdGhpcy5lbCxcbiAgICAgICAgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnMsXG4gICAgICAgIG93bmVyRG9jdW1lbnQgPSBlbC5vd25lckRvY3VtZW50LFxuICAgICAgICBkcmFnU3RhcnRGbjtcblxuICAgIGlmICh0YXJnZXQgJiYgIWRyYWdFbCAmJiB0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpIHtcbiAgICAgIHZhciBkcmFnUmVjdCA9IGdldFJlY3QodGFyZ2V0KTtcbiAgICAgIHJvb3RFbCA9IGVsO1xuICAgICAgZHJhZ0VsID0gdGFyZ2V0O1xuICAgICAgcGFyZW50RWwgPSBkcmFnRWwucGFyZW50Tm9kZTtcbiAgICAgIG5leHRFbCA9IGRyYWdFbC5uZXh0U2libGluZztcbiAgICAgIGxhc3REb3duRWwgPSB0YXJnZXQ7XG4gICAgICBhY3RpdmVHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG4gICAgICBTb3J0YWJsZS5kcmFnZ2VkID0gZHJhZ0VsO1xuICAgICAgdGFwRXZ0ID0ge1xuICAgICAgICB0YXJnZXQ6IGRyYWdFbCxcbiAgICAgICAgY2xpZW50WDogKHRvdWNoIHx8IGV2dCkuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WTogKHRvdWNoIHx8IGV2dCkuY2xpZW50WVxuICAgICAgfTtcbiAgICAgIHRhcERpc3RhbmNlTGVmdCA9IHRhcEV2dC5jbGllbnRYIC0gZHJhZ1JlY3QubGVmdDtcbiAgICAgIHRhcERpc3RhbmNlVG9wID0gdGFwRXZ0LmNsaWVudFkgLSBkcmFnUmVjdC50b3A7XG4gICAgICB0aGlzLl9sYXN0WCA9ICh0b3VjaCB8fCBldnQpLmNsaWVudFg7XG4gICAgICB0aGlzLl9sYXN0WSA9ICh0b3VjaCB8fCBldnQpLmNsaWVudFk7XG4gICAgICBkcmFnRWwuc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAnYWxsJztcblxuICAgICAgZHJhZ1N0YXJ0Rm4gPSBmdW5jdGlvbiBkcmFnU3RhcnRGbigpIHtcbiAgICAgICAgcGx1Z2luRXZlbnQoJ2RlbGF5RW5kZWQnLCBfdGhpcywge1xuICAgICAgICAgIGV2dDogZXZ0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICAgICAgX3RoaXMuX29uRHJvcCgpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIERlbGF5ZWQgZHJhZyBoYXMgYmVlbiB0cmlnZ2VyZWRcbiAgICAgICAgLy8gd2UgY2FuIHJlLWVuYWJsZSB0aGUgZXZlbnRzOiB0b3VjaG1vdmUvbW91c2Vtb3ZlXG5cblxuICAgICAgICBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzKCk7XG5cbiAgICAgICAgaWYgKCFGaXJlRm94ICYmIF90aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICAgIGRyYWdFbC5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgICB9IC8vIEJpbmQgdGhlIGV2ZW50czogZHJhZ3N0YXJ0L2RyYWdlbmRcblxuXG4gICAgICAgIF90aGlzLl90cmlnZ2VyRHJhZ1N0YXJ0KGV2dCwgdG91Y2gpOyAvLyBEcmFnIHN0YXJ0IGV2ZW50XG5cblxuICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgc29ydGFibGU6IF90aGlzLFxuICAgICAgICAgIG5hbWU6ICdjaG9vc2UnLFxuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICB9KTsgLy8gQ2hvc2VuIGl0ZW1cblxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5jaG9zZW5DbGFzcywgdHJ1ZSk7XG4gICAgICB9OyAvLyBEaXNhYmxlIFwiZHJhZ2dhYmxlXCJcblxuXG4gICAgICBvcHRpb25zLmlnbm9yZS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKGNyaXRlcmlhKSB7XG4gICAgICAgIGZpbmQoZHJhZ0VsLCBjcml0ZXJpYS50cmltKCksIF9kaXNhYmxlRHJhZ2dhYmxlKTtcbiAgICAgIH0pO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ2RyYWdvdmVyJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICAgIG9uKG93bmVyRG9jdW1lbnQsICd0b3VjaG1vdmUnLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fb25Ecm9wKTsgLy8gTWFrZSBkcmFnRWwgZHJhZ2dhYmxlIChtdXN0IGJlIGJlZm9yZSBkZWxheSBmb3IgRmlyZUZveClcblxuICAgICAgaWYgKEZpcmVGb3ggJiYgdGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnRvdWNoU3RhcnRUaHJlc2hvbGQgPSA0O1xuICAgICAgICBkcmFnRWwuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcGx1Z2luRXZlbnQoJ2RlbGF5U3RhcnQnLCB0aGlzLCB7XG4gICAgICAgIGV2dDogZXZ0XG4gICAgICB9KTsgLy8gRGVsYXkgaXMgaW1wb3NzaWJsZSBmb3IgbmF0aXZlIERuRCBpbiBFZGdlIG9yIElFXG5cbiAgICAgIGlmIChvcHRpb25zLmRlbGF5ICYmICghb3B0aW9ucy5kZWxheU9uVG91Y2hPbmx5IHx8IHRvdWNoKSAmJiAoIXRoaXMubmF0aXZlRHJhZ2dhYmxlIHx8ICEoRWRnZSB8fCBJRTExT3JMZXNzKSkpIHtcbiAgICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgICAgICB0aGlzLl9vbkRyb3AoKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBJZiB0aGUgdXNlciBtb3ZlcyB0aGUgcG9pbnRlciBvciBsZXQgZ28gdGhlIGNsaWNrIG9yIHRvdWNoXG4gICAgICAgIC8vIGJlZm9yZSB0aGUgZGVsYXkgaGFzIGJlZW4gcmVhY2hlZDpcbiAgICAgICAgLy8gZGlzYWJsZSB0aGUgZGVsYXllZCBkcmFnXG5cblxuICAgICAgICBvbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICBvbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgIG9uKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCBfdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICAgICAgb24ob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIF90aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICAgICAgICBvcHRpb25zLnN1cHBvcnRQb2ludGVyICYmIG9uKG93bmVyRG9jdW1lbnQsICdwb2ludGVybW92ZScsIF90aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICAgICAgICBfdGhpcy5fZHJhZ1N0YXJ0VGltZXIgPSBzZXRUaW1lb3V0KGRyYWdTdGFydEZuLCBvcHRpb25zLmRlbGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdTdGFydEZuKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBfZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyOiBmdW5jdGlvbiBfZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKFxuICAvKiogVG91Y2hFdmVudHxQb2ludGVyRXZlbnQgKiovXG4gIGUpIHtcbiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuXG4gICAgaWYgKE1hdGgubWF4KE1hdGguYWJzKHRvdWNoLmNsaWVudFggLSB0aGlzLl9sYXN0WCksIE1hdGguYWJzKHRvdWNoLmNsaWVudFkgLSB0aGlzLl9sYXN0WSkpID49IE1hdGguZmxvb3IodGhpcy5vcHRpb25zLnRvdWNoU3RhcnRUaHJlc2hvbGQgLyAodGhpcy5uYXRpdmVEcmFnZ2FibGUgJiYgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSkpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcoKTtcbiAgICB9XG4gIH0sXG4gIF9kaXNhYmxlRGVsYXllZERyYWc6IGZ1bmN0aW9uIF9kaXNhYmxlRGVsYXllZERyYWcoKSB7XG4gICAgZHJhZ0VsICYmIF9kaXNhYmxlRHJhZ2dhYmxlKGRyYWdFbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RyYWdTdGFydFRpbWVyKTtcblxuICAgIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpO1xuICB9LFxuICBfZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzOiBmdW5jdGlvbiBfZGlzYWJsZURlbGF5ZWREcmFnRXZlbnRzKCkge1xuICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuICAgIG9mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9kZWxheWVkRHJhZ1RvdWNoTW92ZUhhbmRsZXIpO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgICBvZmYob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5fZGVsYXllZERyYWdUb3VjaE1vdmVIYW5kbGVyKTtcbiAgfSxcbiAgX3RyaWdnZXJEcmFnU3RhcnQ6IGZ1bmN0aW9uIF90cmlnZ2VyRHJhZ1N0YXJ0KFxuICAvKiogRXZlbnQgKi9cbiAgZXZ0LFxuICAvKiogVG91Y2ggKi9cbiAgdG91Y2gpIHtcbiAgICB0b3VjaCA9IHRvdWNoIHx8IGV2dC5wb2ludGVyVHlwZSA9PSAndG91Y2gnICYmIGV2dDtcblxuICAgIGlmICghdGhpcy5uYXRpdmVEcmFnZ2FibGUgfHwgdG91Y2gpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3VwcG9ydFBvaW50ZXIpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICAgIH0gZWxzZSBpZiAodG91Y2gpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb24oZHJhZ0VsLCAnZHJhZ2VuZCcsIHRoaXMpO1xuICAgICAgb24ocm9vdEVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgICAgIC8vIFRpbWVvdXQgbmVjY2Vzc2FyeSBmb3IgSUU5XG4gICAgICAgIF9uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge31cbiAgfSxcbiAgX2RyYWdTdGFydGVkOiBmdW5jdGlvbiBfZHJhZ1N0YXJ0ZWQoZmFsbGJhY2ssIGV2dCkge1xuXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHJvb3RFbCAmJiBkcmFnRWwpIHtcbiAgICAgIHBsdWdpbkV2ZW50KCdkcmFnU3RhcnRlZCcsIHRoaXMsIHtcbiAgICAgICAgZXZ0OiBldnRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICdkcmFnb3ZlcicsIF9jaGVja091dHNpZGVUYXJnZXRFbCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zOyAvLyBBcHBseSBlZmZlY3RcblxuICAgICAgIWZhbGxiYWNrICYmIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIGZhbHNlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcbiAgICAgIFNvcnRhYmxlLmFjdGl2ZSA9IHRoaXM7XG4gICAgICBmYWxsYmFjayAmJiB0aGlzLl9hcHBlbmRHaG9zdCgpOyAvLyBEcmFnIHN0YXJ0IGV2ZW50XG5cbiAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgIG5hbWU6ICdzdGFydCcsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX251bGxpbmcoKTtcbiAgICB9XG4gIH0sXG4gIF9lbXVsYXRlRHJhZ092ZXI6IGZ1bmN0aW9uIF9lbXVsYXRlRHJhZ092ZXIoKSB7XG4gICAgaWYgKHRvdWNoRXZ0KSB7XG4gICAgICB0aGlzLl9sYXN0WCA9IHRvdWNoRXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLl9sYXN0WSA9IHRvdWNoRXZ0LmNsaWVudFk7XG5cbiAgICAgIF9oaWRlR2hvc3RGb3JUYXJnZXQoKTtcblxuICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSk7XG4gICAgICB2YXIgcGFyZW50ID0gdGFyZ2V0O1xuXG4gICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC5zaGFkb3dSb290KSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5zaGFkb3dSb290LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSk7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHBhcmVudCkgYnJlYWs7XG4gICAgICAgIHBhcmVudCA9IHRhcmdldDtcbiAgICAgIH1cblxuICAgICAgZHJhZ0VsLnBhcmVudE5vZGVbZXhwYW5kb10uX2lzT3V0c2lkZVRoaXNFbCh0YXJnZXQpO1xuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAocGFyZW50W2V4cGFuZG9dKSB7XG4gICAgICAgICAgICB2YXIgaW5zZXJ0ZWQgPSB2b2lkIDA7XG4gICAgICAgICAgICBpbnNlcnRlZCA9IHBhcmVudFtleHBhbmRvXS5fb25EcmFnT3Zlcih7XG4gICAgICAgICAgICAgIGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG4gICAgICAgICAgICAgIGNsaWVudFk6IHRvdWNoRXZ0LmNsaWVudFksXG4gICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgICAgICByb290RWw6IHBhcmVudFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChpbnNlcnRlZCAmJiAhdGhpcy5vcHRpb25zLmRyYWdvdmVyQnViYmxlKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRhcmdldCA9IHBhcmVudDsgLy8gc3RvcmUgbGFzdCBlbGVtZW50XG4gICAgICAgIH1cbiAgICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuICAgICAgICB3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpO1xuICAgICAgfVxuXG4gICAgICBfdW5oaWRlR2hvc3RGb3JUYXJnZXQoKTtcbiAgICB9XG4gIH0sXG4gIF9vblRvdWNoTW92ZTogZnVuY3Rpb24gX29uVG91Y2hNb3ZlKFxuICAvKipUb3VjaEV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgaWYgKHRhcEV2dCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgZmFsbGJhY2tUb2xlcmFuY2UgPSBvcHRpb25zLmZhbGxiYWNrVG9sZXJhbmNlLFxuICAgICAgICAgIGZhbGxiYWNrT2Zmc2V0ID0gb3B0aW9ucy5mYWxsYmFja09mZnNldCxcbiAgICAgICAgICB0b3VjaCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQsXG4gICAgICAgICAgZ2hvc3RNYXRyaXggPSBnaG9zdEVsICYmIG1hdHJpeChnaG9zdEVsLCB0cnVlKSxcbiAgICAgICAgICBzY2FsZVggPSBnaG9zdEVsICYmIGdob3N0TWF0cml4ICYmIGdob3N0TWF0cml4LmEsXG4gICAgICAgICAgc2NhbGVZID0gZ2hvc3RFbCAmJiBnaG9zdE1hdHJpeCAmJiBnaG9zdE1hdHJpeC5kLFxuICAgICAgICAgIHJlbGF0aXZlU2Nyb2xsT2Zmc2V0ID0gUG9zaXRpb25HaG9zdEFic29sdXRlbHkgJiYgZ2hvc3RSZWxhdGl2ZVBhcmVudCAmJiBnZXRSZWxhdGl2ZVNjcm9sbE9mZnNldChnaG9zdFJlbGF0aXZlUGFyZW50KSxcbiAgICAgICAgICBkeCA9ICh0b3VjaC5jbGllbnRYIC0gdGFwRXZ0LmNsaWVudFggKyBmYWxsYmFja09mZnNldC54KSAvIChzY2FsZVggfHwgMSkgKyAocmVsYXRpdmVTY3JvbGxPZmZzZXQgPyByZWxhdGl2ZVNjcm9sbE9mZnNldFswXSAtIGdob3N0UmVsYXRpdmVQYXJlbnRJbml0aWFsU2Nyb2xsWzBdIDogMCkgLyAoc2NhbGVYIHx8IDEpLFxuICAgICAgICAgIGR5ID0gKHRvdWNoLmNsaWVudFkgLSB0YXBFdnQuY2xpZW50WSArIGZhbGxiYWNrT2Zmc2V0LnkpIC8gKHNjYWxlWSB8fCAxKSArIChyZWxhdGl2ZVNjcm9sbE9mZnNldCA/IHJlbGF0aXZlU2Nyb2xsT2Zmc2V0WzFdIC0gZ2hvc3RSZWxhdGl2ZVBhcmVudEluaXRpYWxTY3JvbGxbMV0gOiAwKSAvIChzY2FsZVkgfHwgMSk7IC8vIG9ubHkgc2V0IHRoZSBzdGF0dXMgdG8gZHJhZ2dpbmcsIHdoZW4gd2UgYXJlIGFjdHVhbGx5IGRyYWdnaW5nXG5cbiAgICAgIGlmICghU29ydGFibGUuYWN0aXZlICYmICFhd2FpdGluZ0RyYWdTdGFydGVkKSB7XG4gICAgICAgIGlmIChmYWxsYmFja1RvbGVyYW5jZSAmJiBNYXRoLm1heChNYXRoLmFicyh0b3VjaC5jbGllbnRYIC0gdGhpcy5fbGFzdFgpLCBNYXRoLmFicyh0b3VjaC5jbGllbnRZIC0gdGhpcy5fbGFzdFkpKSA8IGZhbGxiYWNrVG9sZXJhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb25EcmFnU3RhcnQoZXZ0LCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdob3N0RWwpIHtcbiAgICAgICAgaWYgKGdob3N0TWF0cml4KSB7XG4gICAgICAgICAgZ2hvc3RNYXRyaXguZSArPSBkeCAtIChsYXN0RHggfHwgMCk7XG4gICAgICAgICAgZ2hvc3RNYXRyaXguZiArPSBkeSAtIChsYXN0RHkgfHwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2hvc3RNYXRyaXggPSB7XG4gICAgICAgICAgICBhOiAxLFxuICAgICAgICAgICAgYjogMCxcbiAgICAgICAgICAgIGM6IDAsXG4gICAgICAgICAgICBkOiAxLFxuICAgICAgICAgICAgZTogZHgsXG4gICAgICAgICAgICBmOiBkeVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3NzTWF0cml4ID0gXCJtYXRyaXgoXCIuY29uY2F0KGdob3N0TWF0cml4LmEsIFwiLFwiKS5jb25jYXQoZ2hvc3RNYXRyaXguYiwgXCIsXCIpLmNvbmNhdChnaG9zdE1hdHJpeC5jLCBcIixcIikuY29uY2F0KGdob3N0TWF0cml4LmQsIFwiLFwiKS5jb25jYXQoZ2hvc3RNYXRyaXguZSwgXCIsXCIpLmNvbmNhdChnaG9zdE1hdHJpeC5mLCBcIilcIik7XG4gICAgICAgIGNzcyhnaG9zdEVsLCAnd2Via2l0VHJhbnNmb3JtJywgY3NzTWF0cml4KTtcbiAgICAgICAgY3NzKGdob3N0RWwsICdtb3pUcmFuc2Zvcm0nLCBjc3NNYXRyaXgpO1xuICAgICAgICBjc3MoZ2hvc3RFbCwgJ21zVHJhbnNmb3JtJywgY3NzTWF0cml4KTtcbiAgICAgICAgY3NzKGdob3N0RWwsICd0cmFuc2Zvcm0nLCBjc3NNYXRyaXgpO1xuICAgICAgICBsYXN0RHggPSBkeDtcbiAgICAgICAgbGFzdER5ID0gZHk7XG4gICAgICAgIHRvdWNoRXZ0ID0gdG91Y2g7XG4gICAgICB9XG5cbiAgICAgIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcbiAgX2FwcGVuZEdob3N0OiBmdW5jdGlvbiBfYXBwZW5kR2hvc3QoKSB7XG4gICAgLy8gQnVnIGlmIHVzaW5nIHNjYWxlKCk6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2MzcwNThcbiAgICAvLyBOb3QgYmVpbmcgYWRqdXN0ZWQgZm9yXG4gICAgaWYgKCFnaG9zdEVsKSB7XG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5vcHRpb25zLmZhbGxiYWNrT25Cb2R5ID8gZG9jdW1lbnQuYm9keSA6IHJvb3RFbCxcbiAgICAgICAgICByZWN0ID0gZ2V0UmVjdChkcmFnRWwsIHRydWUsIFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5LCB0cnVlLCBjb250YWluZXIpLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7IC8vIFBvc2l0aW9uIGFic29sdXRlbHlcblxuICAgICAgaWYgKFBvc2l0aW9uR2hvc3RBYnNvbHV0ZWx5KSB7XG4gICAgICAgIC8vIEdldCByZWxhdGl2ZWx5IHBvc2l0aW9uZWQgcGFyZW50XG4gICAgICAgIGdob3N0UmVsYXRpdmVQYXJlbnQgPSBjb250YWluZXI7XG5cbiAgICAgICAgd2hpbGUgKGNzcyhnaG9zdFJlbGF0aXZlUGFyZW50LCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycgJiYgY3NzKGdob3N0UmVsYXRpdmVQYXJlbnQsICd0cmFuc2Zvcm0nKSA9PT0gJ25vbmUnICYmIGdob3N0UmVsYXRpdmVQYXJlbnQgIT09IGRvY3VtZW50KSB7XG4gICAgICAgICAgZ2hvc3RSZWxhdGl2ZVBhcmVudCA9IGdob3N0UmVsYXRpdmVQYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnaG9zdFJlbGF0aXZlUGFyZW50ICE9PSBkb2N1bWVudC5ib2R5ICYmIGdob3N0UmVsYXRpdmVQYXJlbnQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgIGlmIChnaG9zdFJlbGF0aXZlUGFyZW50ID09PSBkb2N1bWVudCkgZ2hvc3RSZWxhdGl2ZVBhcmVudCA9IGdldFdpbmRvd1Njcm9sbGluZ0VsZW1lbnQoKTtcbiAgICAgICAgICByZWN0LnRvcCArPSBnaG9zdFJlbGF0aXZlUGFyZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICByZWN0LmxlZnQgKz0gZ2hvc3RSZWxhdGl2ZVBhcmVudC5zY3JvbGxMZWZ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdob3N0UmVsYXRpdmVQYXJlbnQgPSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBnaG9zdFJlbGF0aXZlUGFyZW50SW5pdGlhbFNjcm9sbCA9IGdldFJlbGF0aXZlU2Nyb2xsT2Zmc2V0KGdob3N0UmVsYXRpdmVQYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICBnaG9zdEVsID0gZHJhZ0VsLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuICAgICAgdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5mYWxsYmFja0NsYXNzLCB0cnVlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKGdob3N0RWwsIG9wdGlvbnMuZHJhZ0NsYXNzLCB0cnVlKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAndHJhbnNpdGlvbicsICcnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAndHJhbnNmb3JtJywgJycpO1xuICAgICAgY3NzKGdob3N0RWwsICdib3gtc2l6aW5nJywgJ2JvcmRlci1ib3gnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnbWFyZ2luJywgMCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3RvcCcsIHJlY3QudG9wKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnbGVmdCcsIHJlY3QubGVmdCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ3dpZHRoJywgcmVjdC53aWR0aCk7XG4gICAgICBjc3MoZ2hvc3RFbCwgJ2hlaWdodCcsIHJlY3QuaGVpZ2h0KTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnb3BhY2l0eScsICcwLjgnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAncG9zaXRpb24nLCBQb3NpdGlvbkdob3N0QWJzb2x1dGVseSA/ICdhYnNvbHV0ZScgOiAnZml4ZWQnKTtcbiAgICAgIGNzcyhnaG9zdEVsLCAnekluZGV4JywgJzEwMDAwMCcpO1xuICAgICAgY3NzKGdob3N0RWwsICdwb2ludGVyRXZlbnRzJywgJ25vbmUnKTtcbiAgICAgIFNvcnRhYmxlLmdob3N0ID0gZ2hvc3RFbDtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChnaG9zdEVsKTsgLy8gU2V0IHRyYW5zZm9ybS1vcmlnaW5cblxuICAgICAgY3NzKGdob3N0RWwsICd0cmFuc2Zvcm0tb3JpZ2luJywgdGFwRGlzdGFuY2VMZWZ0IC8gcGFyc2VJbnQoZ2hvc3RFbC5zdHlsZS53aWR0aCkgKiAxMDAgKyAnJSAnICsgdGFwRGlzdGFuY2VUb3AgLyBwYXJzZUludChnaG9zdEVsLnN0eWxlLmhlaWdodCkgKiAxMDAgKyAnJScpO1xuICAgIH1cbiAgfSxcbiAgX29uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBfb25EcmFnU3RhcnQoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0LFxuICAvKipib29sZWFuKi9cbiAgZmFsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGRhdGFUcmFuc2ZlciA9IGV2dC5kYXRhVHJhbnNmZXI7XG4gICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgIHBsdWdpbkV2ZW50KCdkcmFnU3RhcnQnLCB0aGlzLCB7XG4gICAgICBldnQ6IGV2dFxuICAgIH0pO1xuXG4gICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgIHRoaXMuX29uRHJvcCgpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGx1Z2luRXZlbnQoJ3NldHVwQ2xvbmUnLCB0aGlzKTtcblxuICAgIGlmICghU29ydGFibGUuZXZlbnRDYW5jZWxlZCkge1xuICAgICAgY2xvbmVFbCA9IGNsb25lKGRyYWdFbCk7XG4gICAgICBjbG9uZUVsLmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgY2xvbmVFbC5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnO1xuXG4gICAgICB0aGlzLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgdG9nZ2xlQ2xhc3MoY2xvbmVFbCwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7XG4gICAgICBTb3J0YWJsZS5jbG9uZSA9IGNsb25lRWw7XG4gICAgfSAvLyAjMTE0MzogSUZyYW1lIHN1cHBvcnQgd29ya2Fyb3VuZFxuXG5cbiAgICBfdGhpcy5jbG9uZUlkID0gX25leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHBsdWdpbkV2ZW50KCdjbG9uZScsIF90aGlzKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm47XG5cbiAgICAgIGlmICghX3RoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSkge1xuICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgIG5hbWU6ICdjbG9uZSdcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgICFmYWxsYmFjayAmJiB0b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuZHJhZ0NsYXNzLCB0cnVlKTsgLy8gU2V0IHByb3BlciBkcm9wIGV2ZW50c1xuXG4gICAgaWYgKGZhbGxiYWNrKSB7XG4gICAgICBpZ25vcmVOZXh0Q2xpY2sgPSB0cnVlO1xuICAgICAgX3RoaXMuX2xvb3BJZCA9IHNldEludGVydmFsKF90aGlzLl9lbXVsYXRlRHJhZ092ZXIsIDUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVW5kbyB3aGF0IHdhcyBzZXQgaW4gX3ByZXBhcmVEcmFnU3RhcnQgYmVmb3JlIGRyYWcgc3RhcnRlZFxuICAgICAgb2ZmKGRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7XG5cbiAgICAgIGlmIChkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICAgIG9wdGlvbnMuc2V0RGF0YSAmJiBvcHRpb25zLnNldERhdGEuY2FsbChfdGhpcywgZGF0YVRyYW5zZmVyLCBkcmFnRWwpO1xuICAgICAgfVxuXG4gICAgICBvbihkb2N1bWVudCwgJ2Ryb3AnLCBfdGhpcyk7IC8vICMxMjc2IGZpeDpcblxuICAgICAgY3NzKGRyYWdFbCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVaKDApJyk7XG4gICAgfVxuXG4gICAgYXdhaXRpbmdEcmFnU3RhcnRlZCA9IHRydWU7XG4gICAgX3RoaXMuX2RyYWdTdGFydElkID0gX25leHRUaWNrKF90aGlzLl9kcmFnU3RhcnRlZC5iaW5kKF90aGlzLCBmYWxsYmFjaywgZXZ0KSk7XG4gICAgb24oZG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIF90aGlzKTtcbiAgICBtb3ZlZCA9IHRydWU7XG5cbiAgICBpZiAoU2FmYXJpKSB7XG4gICAgICBjc3MoZG9jdW1lbnQuYm9keSwgJ3VzZXItc2VsZWN0JywgJ25vbmUnKTtcbiAgICB9XG4gIH0sXG4gIC8vIFJldHVybnMgdHJ1ZSAtIGlmIG5vIGZ1cnRoZXIgYWN0aW9uIGlzIG5lZWRlZCAoZWl0aGVyIGluc2VydGVkIG9yIGFub3RoZXIgY29uZGl0aW9uKVxuICBfb25EcmFnT3ZlcjogZnVuY3Rpb24gX29uRHJhZ092ZXIoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbCxcbiAgICAgICAgdGFyZ2V0ID0gZXZ0LnRhcmdldCxcbiAgICAgICAgZHJhZ1JlY3QsXG4gICAgICAgIHRhcmdldFJlY3QsXG4gICAgICAgIHJldmVydCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgZ3JvdXAgPSBvcHRpb25zLmdyb3VwLFxuICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IFNvcnRhYmxlLmFjdGl2ZSxcbiAgICAgICAgaXNPd25lciA9IGFjdGl2ZUdyb3VwID09PSBncm91cCxcbiAgICAgICAgY2FuU29ydCA9IG9wdGlvbnMuc29ydCxcbiAgICAgICAgZnJvbVNvcnRhYmxlID0gcHV0U29ydGFibGUgfHwgYWN0aXZlU29ydGFibGUsXG4gICAgICAgIHZlcnRpY2FsLFxuICAgICAgICBfdGhpcyA9IHRoaXMsXG4gICAgICAgIGNvbXBsZXRlZEZpcmVkID0gZmFsc2U7XG5cbiAgICBpZiAoX3NpbGVudCkgcmV0dXJuO1xuXG4gICAgZnVuY3Rpb24gZHJhZ092ZXJFdmVudChuYW1lLCBleHRyYSkge1xuICAgICAgcGx1Z2luRXZlbnQobmFtZSwgX3RoaXMsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBldnQ6IGV2dCxcbiAgICAgICAgaXNPd25lcjogaXNPd25lcixcbiAgICAgICAgYXhpczogdmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnLFxuICAgICAgICByZXZlcnQ6IHJldmVydCxcbiAgICAgICAgZHJhZ1JlY3Q6IGRyYWdSZWN0LFxuICAgICAgICB0YXJnZXRSZWN0OiB0YXJnZXRSZWN0LFxuICAgICAgICBjYW5Tb3J0OiBjYW5Tb3J0LFxuICAgICAgICBmcm9tU29ydGFibGU6IGZyb21Tb3J0YWJsZSxcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIGNvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgICBvbk1vdmU6IGZ1bmN0aW9uIG9uTW92ZSh0YXJnZXQsIGFmdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCBnZXRSZWN0KHRhcmdldCksIGV2dCwgYWZ0ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VkOiBjaGFuZ2VkXG4gICAgICB9LCBleHRyYSkpO1xuICAgIH0gLy8gQ2FwdHVyZSBhbmltYXRpb24gc3RhdGVcblxuXG4gICAgZnVuY3Rpb24gY2FwdHVyZSgpIHtcbiAgICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyQW5pbWF0aW9uQ2FwdHVyZScpO1xuXG4gICAgICBfdGhpcy5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgaWYgKF90aGlzICE9PSBmcm9tU29ydGFibGUpIHtcbiAgICAgICAgZnJvbVNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgICAgfVxuICAgIH0gLy8gUmV0dXJuIGludm9jYXRpb24gd2hlbiBkcmFnRWwgaXMgaW5zZXJ0ZWQgKG9yIGNvbXBsZXRlZClcblxuXG4gICAgZnVuY3Rpb24gY29tcGxldGVkKGluc2VydGlvbikge1xuICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJDb21wbGV0ZWQnLCB7XG4gICAgICAgIGluc2VydGlvbjogaW5zZXJ0aW9uXG4gICAgICB9KTtcblxuICAgICAgaWYgKGluc2VydGlvbikge1xuICAgICAgICAvLyBDbG9uZXMgbXVzdCBiZSBoaWRkZW4gYmVmb3JlIGZvbGRpbmcgYW5pbWF0aW9uIHRvIGNhcHR1cmUgZHJhZ1JlY3RBYnNvbHV0ZSBwcm9wZXJseVxuICAgICAgICBpZiAoaXNPd25lcikge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZS5fc2hvd0Nsb25lKF90aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpcyAhPT0gZnJvbVNvcnRhYmxlKSB7XG4gICAgICAgICAgLy8gU2V0IGdob3N0IGNsYXNzIHRvIG5ldyBzb3J0YWJsZSdzIGdob3N0IGNsYXNzXG4gICAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBwdXRTb3J0YWJsZSA/IHB1dFNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcyA6IGFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgb3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwdXRTb3J0YWJsZSAhPT0gX3RoaXMgJiYgX3RoaXMgIT09IFNvcnRhYmxlLmFjdGl2ZSkge1xuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3RoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMgPT09IFNvcnRhYmxlLmFjdGl2ZSAmJiBwdXRTb3J0YWJsZSkge1xuICAgICAgICAgIHB1dFNvcnRhYmxlID0gbnVsbDtcbiAgICAgICAgfSAvLyBBbmltYXRpb25cblxuXG4gICAgICAgIGlmIChmcm9tU29ydGFibGUgPT09IF90aGlzKSB7XG4gICAgICAgICAgX3RoaXMuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuYW5pbWF0ZUFsbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZHJhZ092ZXJFdmVudCgnZHJhZ092ZXJBbmltYXRpb25Db21wbGV0ZScpO1xuICAgICAgICAgIF90aGlzLl9pZ25vcmVXaGlsZUFuaW1hdGluZyA9IG51bGw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpcyAhPT0gZnJvbVNvcnRhYmxlKSB7XG4gICAgICAgICAgZnJvbVNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcbiAgICAgICAgICBmcm9tU29ydGFibGUuX2lnbm9yZVdoaWxlQW5pbWF0aW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSAvLyBOdWxsIGxhc3RUYXJnZXQgaWYgaXQgaXMgbm90IGluc2lkZSBhIHByZXZpb3VzbHkgc3dhcHBlZCBlbGVtZW50XG5cblxuICAgICAgaWYgKHRhcmdldCA9PT0gZHJhZ0VsICYmICFkcmFnRWwuYW5pbWF0ZWQgfHwgdGFyZ2V0ID09PSBlbCAmJiAhdGFyZ2V0LmFuaW1hdGVkKSB7XG4gICAgICAgIGxhc3RUYXJnZXQgPSBudWxsO1xuICAgICAgfSAvLyBubyBidWJibGluZyBhbmQgbm90IGZhbGxiYWNrXG5cblxuICAgICAgaWYgKCFvcHRpb25zLmRyYWdvdmVyQnViYmxlICYmICFldnQucm9vdEVsICYmIHRhcmdldCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgICAgZHJhZ0VsLnBhcmVudE5vZGVbZXhwYW5kb10uX2lzT3V0c2lkZVRoaXNFbChldnQudGFyZ2V0KTsgLy8gRG8gbm90IGRldGVjdCBmb3IgZW1wdHkgaW5zZXJ0IGlmIGFscmVhZHkgaW5zZXJ0ZWRcblxuXG4gICAgICAgICFpbnNlcnRpb24gJiYgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQoZXZ0KTtcbiAgICAgIH1cblxuICAgICAgIW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbiAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gY29tcGxldGVkRmlyZWQgPSB0cnVlO1xuICAgIH0gLy8gQ2FsbCB3aGVuIGRyYWdFbCBoYXMgYmVlbiBpbnNlcnRlZFxuXG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VkKCkge1xuICAgICAgbmV3SW5kZXggPSBpbmRleChkcmFnRWwpO1xuICAgICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBpbmRleChkcmFnRWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcblxuICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICBzb3J0YWJsZTogX3RoaXMsXG4gICAgICAgIG5hbWU6ICdjaGFuZ2UnLFxuICAgICAgICB0b0VsOiBlbCxcbiAgICAgICAgbmV3SW5kZXg6IG5ld0luZGV4LFxuICAgICAgICBuZXdEcmFnZ2FibGVJbmRleDogbmV3RHJhZ2dhYmxlSW5kZXgsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV2dC5wcmV2ZW50RGVmYXVsdCAhPT0gdm9pZCAwKSB7XG4gICAgICBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB0YXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsLCB0cnVlKTtcbiAgICBkcmFnT3ZlckV2ZW50KCdkcmFnT3ZlcicpO1xuICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm4gY29tcGxldGVkRmlyZWQ7XG5cbiAgICBpZiAoZHJhZ0VsLmNvbnRhaW5zKGV2dC50YXJnZXQpIHx8IHRhcmdldC5hbmltYXRlZCAmJiB0YXJnZXQuYW5pbWF0aW5nWCAmJiB0YXJnZXQuYW5pbWF0aW5nWSB8fCBfdGhpcy5faWdub3JlV2hpbGVBbmltYXRpbmcgPT09IHRhcmdldCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgfVxuXG4gICAgaWdub3JlTmV4dENsaWNrID0gZmFsc2U7XG5cbiAgICBpZiAoYWN0aXZlU29ydGFibGUgJiYgIW9wdGlvbnMuZGlzYWJsZWQgJiYgKGlzT3duZXIgPyBjYW5Tb3J0IHx8IChyZXZlcnQgPSAhcm9vdEVsLmNvbnRhaW5zKGRyYWdFbCkpIC8vIFJldmVydGluZyBpdGVtIGludG8gdGhlIG9yaWdpbmFsIGxpc3RcbiAgICA6IHB1dFNvcnRhYmxlID09PSB0aGlzIHx8ICh0aGlzLmxhc3RQdXRNb2RlID0gYWN0aXZlR3JvdXAuY2hlY2tQdWxsKHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dCkpICYmIGdyb3VwLmNoZWNrUHV0KHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dCkpKSB7XG4gICAgICB2ZXJ0aWNhbCA9IHRoaXMuX2dldERpcmVjdGlvbihldnQsIHRhcmdldCkgPT09ICd2ZXJ0aWNhbCc7XG4gICAgICBkcmFnUmVjdCA9IGdldFJlY3QoZHJhZ0VsKTtcbiAgICAgIGRyYWdPdmVyRXZlbnQoJ2RyYWdPdmVyVmFsaWQnKTtcbiAgICAgIGlmIChTb3J0YWJsZS5ldmVudENhbmNlbGVkKSByZXR1cm4gY29tcGxldGVkRmlyZWQ7XG5cbiAgICAgIGlmIChyZXZlcnQpIHtcbiAgICAgICAgcGFyZW50RWwgPSByb290RWw7IC8vIGFjdHVhbGl6YXRpb25cblxuICAgICAgICBjYXB0dXJlKCk7XG5cbiAgICAgICAgdGhpcy5faGlkZUNsb25lKCk7XG5cbiAgICAgICAgZHJhZ092ZXJFdmVudCgncmV2ZXJ0Jyk7XG5cbiAgICAgICAgaWYgKCFTb3J0YWJsZS5ldmVudENhbmNlbGVkKSB7XG4gICAgICAgICAgaWYgKG5leHRFbCkge1xuICAgICAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShkcmFnRWwsIG5leHRFbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbExhc3RDaGlsZCA9IGxhc3RDaGlsZChlbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgICBpZiAoIWVsTGFzdENoaWxkIHx8IF9naG9zdElzTGFzdChldnQsIHZlcnRpY2FsLCB0aGlzKSAmJiAhZWxMYXN0Q2hpbGQuYW5pbWF0ZWQpIHtcbiAgICAgICAgLy8gSWYgYWxyZWFkeSBhdCBlbmQgb2YgbGlzdDogRG8gbm90IGluc2VydFxuICAgICAgICBpZiAoZWxMYXN0Q2hpbGQgPT09IGRyYWdFbCkge1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICB9IC8vIGFzc2lnbiB0YXJnZXQgb25seSBpZiBjb25kaXRpb24gaXMgdHJ1ZVxuXG5cbiAgICAgICAgaWYgKGVsTGFzdENoaWxkICYmIGVsID09PSBldnQudGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0ID0gZWxMYXN0Q2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0UmVjdCA9IGdldFJlY3QodGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCwgZXZ0LCAhIXRhcmdldCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgY2FwdHVyZSgpO1xuICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgICAgICAgcGFyZW50RWwgPSBlbDsgLy8gYWN0dWFsaXphdGlvblxuXG4gICAgICAgICAgY2hhbmdlZCgpO1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LnBhcmVudE5vZGUgPT09IGVsKSB7XG4gICAgICAgIHRhcmdldFJlY3QgPSBnZXRSZWN0KHRhcmdldCk7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSAwLFxuICAgICAgICAgICAgdGFyZ2V0QmVmb3JlRmlyc3RTd2FwLFxuICAgICAgICAgICAgZGlmZmVyZW50TGV2ZWwgPSBkcmFnRWwucGFyZW50Tm9kZSAhPT0gZWwsXG4gICAgICAgICAgICBkaWZmZXJlbnRSb3dDb2wgPSAhX2RyYWdFbEluUm93Q29sdW1uKGRyYWdFbC5hbmltYXRlZCAmJiBkcmFnRWwudG9SZWN0IHx8IGRyYWdSZWN0LCB0YXJnZXQuYW5pbWF0ZWQgJiYgdGFyZ2V0LnRvUmVjdCB8fCB0YXJnZXRSZWN0LCB2ZXJ0aWNhbCksXG4gICAgICAgICAgICBzaWRlMSA9IHZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsXG4gICAgICAgICAgICBzY3JvbGxlZFBhc3RUb3AgPSBpc1Njcm9sbGVkUGFzdCh0YXJnZXQsICd0b3AnLCAndG9wJykgfHwgaXNTY3JvbGxlZFBhc3QoZHJhZ0VsLCAndG9wJywgJ3RvcCcpLFxuICAgICAgICAgICAgc2Nyb2xsQmVmb3JlID0gc2Nyb2xsZWRQYXN0VG9wID8gc2Nyb2xsZWRQYXN0VG9wLnNjcm9sbFRvcCA6IHZvaWQgMDtcblxuICAgICAgICBpZiAobGFzdFRhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgdGFyZ2V0QmVmb3JlRmlyc3RTd2FwID0gdGFyZ2V0UmVjdFtzaWRlMV07XG4gICAgICAgICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2U7XG4gICAgICAgICAgaXNDaXJjdW1zdGFudGlhbEludmVydCA9ICFkaWZmZXJlbnRSb3dDb2wgJiYgb3B0aW9ucy5pbnZlcnRTd2FwIHx8IGRpZmZlcmVudExldmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0aW9uID0gX2dldFN3YXBEaXJlY3Rpb24oZXZ0LCB0YXJnZXQsIHRhcmdldFJlY3QsIHZlcnRpY2FsLCBkaWZmZXJlbnRSb3dDb2wgPyAxIDogb3B0aW9ucy5zd2FwVGhyZXNob2xkLCBvcHRpb25zLmludmVydGVkU3dhcFRocmVzaG9sZCA9PSBudWxsID8gb3B0aW9ucy5zd2FwVGhyZXNob2xkIDogb3B0aW9ucy5pbnZlcnRlZFN3YXBUaHJlc2hvbGQsIGlzQ2lyY3Vtc3RhbnRpYWxJbnZlcnQsIGxhc3RUYXJnZXQgPT09IHRhcmdldCk7XG4gICAgICAgIHZhciBzaWJsaW5nO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gIT09IDApIHtcbiAgICAgICAgICAvLyBDaGVjayBpZiB0YXJnZXQgaXMgYmVzaWRlIGRyYWdFbCBpbiByZXNwZWN0aXZlIGRpcmVjdGlvbiAoaWdub3JpbmcgaGlkZGVuIGVsZW1lbnRzKVxuICAgICAgICAgIHZhciBkcmFnSW5kZXggPSBpbmRleChkcmFnRWwpO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgZHJhZ0luZGV4IC09IGRpcmVjdGlvbjtcbiAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnRFbC5jaGlsZHJlbltkcmFnSW5kZXhdO1xuICAgICAgICAgIH0gd2hpbGUgKHNpYmxpbmcgJiYgKGNzcyhzaWJsaW5nLCAnZGlzcGxheScpID09PSAnbm9uZScgfHwgc2libGluZyA9PT0gZ2hvc3RFbCkpO1xuICAgICAgICB9IC8vIElmIGRyYWdFbCBpcyBhbHJlYWR5IGJlc2lkZSB0YXJnZXQ6IERvIG5vdCBpbnNlcnRcblxuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDAgfHwgc2libGluZyA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBsYXN0RGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLFxuICAgICAgICAgICAgYWZ0ZXIgPSBmYWxzZTtcbiAgICAgICAgYWZ0ZXIgPSBkaXJlY3Rpb24gPT09IDE7XG5cbiAgICAgICAgdmFyIG1vdmVWZWN0b3IgPSBfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCwgZXZ0LCBhZnRlcik7XG5cbiAgICAgICAgaWYgKG1vdmVWZWN0b3IgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKG1vdmVWZWN0b3IgPT09IDEgfHwgbW92ZVZlY3RvciA9PT0gLTEpIHtcbiAgICAgICAgICAgIGFmdGVyID0gbW92ZVZlY3RvciA9PT0gMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfc2lsZW50ID0gdHJ1ZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KF91bnNpbGVudCwgMzApO1xuICAgICAgICAgIGNhcHR1cmUoKTtcblxuICAgICAgICAgIGlmIChhZnRlciAmJiAhbmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkcmFnRWwsIGFmdGVyID8gbmV4dFNpYmxpbmcgOiB0YXJnZXQpO1xuICAgICAgICAgIH0gLy8gVW5kbyBjaHJvbWUncyBzY3JvbGwgYWRqdXN0bWVudCAoaGFzIG5vIGVmZmVjdCBvbiBvdGhlciBicm93c2VycylcblxuXG4gICAgICAgICAgaWYgKHNjcm9sbGVkUGFzdFRvcCkge1xuICAgICAgICAgICAgc2Nyb2xsQnkoc2Nyb2xsZWRQYXN0VG9wLCAwLCBzY3JvbGxCZWZvcmUgLSBzY3JvbGxlZFBhc3RUb3Auc2Nyb2xsVG9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJlbnRFbCA9IGRyYWdFbC5wYXJlbnROb2RlOyAvLyBhY3R1YWxpemF0aW9uXG4gICAgICAgICAgLy8gbXVzdCBiZSBkb25lIGJlZm9yZSBhbmltYXRpb25cblxuICAgICAgICAgIGlmICh0YXJnZXRCZWZvcmVGaXJzdFN3YXAgIT09IHVuZGVmaW5lZCAmJiAhaXNDaXJjdW1zdGFudGlhbEludmVydCkge1xuICAgICAgICAgICAgdGFyZ2V0TW92ZURpc3RhbmNlID0gTWF0aC5hYnModGFyZ2V0QmVmb3JlRmlyc3RTd2FwIC0gZ2V0UmVjdCh0YXJnZXQpW3NpZGUxXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhbmdlZCgpO1xuICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsLmNvbnRhaW5zKGRyYWdFbCkpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfaWdub3JlV2hpbGVBbmltYXRpbmc6IG51bGwsXG4gIF9vZmZNb3ZlRXZlbnRzOiBmdW5jdGlvbiBfb2ZmTW92ZUV2ZW50cygpIHtcbiAgICBvZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgb2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgIG9mZihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuICAgIG9mZihkb2N1bWVudCwgJ2RyYWdvdmVyJywgbmVhcmVzdEVtcHR5SW5zZXJ0RGV0ZWN0RXZlbnQpO1xuICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIG5lYXJlc3RFbXB0eUluc2VydERldGVjdEV2ZW50KTtcbiAgICBvZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBuZWFyZXN0RW1wdHlJbnNlcnREZXRlY3RFdmVudCk7XG4gIH0sXG4gIF9vZmZVcEV2ZW50czogZnVuY3Rpb24gX29mZlVwRXZlbnRzKCkge1xuICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuICAgIG9mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRHJvcCk7XG4gICAgb2ZmKG93bmVyRG9jdW1lbnQsICdwb2ludGVydXAnLCB0aGlzLl9vbkRyb3ApO1xuICAgIG9mZihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9vbkRyb3ApO1xuICAgIG9mZihkb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgdGhpcyk7XG4gIH0sXG4gIF9vbkRyb3A6IGZ1bmN0aW9uIF9vbkRyb3AoXG4gIC8qKkV2ZW50Ki9cbiAgZXZ0KSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbCxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cbiAgICBuZXdJbmRleCA9IGluZGV4KGRyYWdFbCk7XG4gICAgbmV3RHJhZ2dhYmxlSW5kZXggPSBpbmRleChkcmFnRWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcbiAgICBwbHVnaW5FdmVudCgnZHJvcCcsIHRoaXMsIHtcbiAgICAgIGV2dDogZXZ0XG4gICAgfSk7XG4gICAgcGFyZW50RWwgPSBkcmFnRWwgJiYgZHJhZ0VsLnBhcmVudE5vZGU7IC8vIEdldCBhZ2FpbiBhZnRlciBwbHVnaW4gZXZlbnRcblxuICAgIG5ld0luZGV4ID0gaW5kZXgoZHJhZ0VsKTtcbiAgICBuZXdEcmFnZ2FibGVJbmRleCA9IGluZGV4KGRyYWdFbCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHtcbiAgICAgIHRoaXMuX251bGxpbmcoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0aW5nRHJhZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICBpc0NpcmN1bXN0YW50aWFsSW52ZXJ0ID0gZmFsc2U7XG4gICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gZmFsc2U7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9sb29wSWQpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cbiAgICBfY2FuY2VsTmV4dFRpY2sodGhpcy5jbG9uZUlkKTtcblxuICAgIF9jYW5jZWxOZXh0VGljayh0aGlzLl9kcmFnU3RhcnRJZCk7IC8vIFVuYmluZCBldmVudHNcblxuXG4gICAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICBvZmYoZG9jdW1lbnQsICdkcm9wJywgdGhpcyk7XG4gICAgICBvZmYoZWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG4gICAgfVxuXG4gICAgdGhpcy5fb2ZmTW92ZUV2ZW50cygpO1xuXG4gICAgdGhpcy5fb2ZmVXBFdmVudHMoKTtcblxuICAgIGlmIChTYWZhcmkpIHtcbiAgICAgIGNzcyhkb2N1bWVudC5ib2R5LCAndXNlci1zZWxlY3QnLCAnJyk7XG4gICAgfVxuXG4gICAgY3NzKGRyYWdFbCwgJ3RyYW5zZm9ybScsICcnKTtcblxuICAgIGlmIChldnQpIHtcbiAgICAgIGlmIChtb3ZlZCkge1xuICAgICAgICBldnQuY2FuY2VsYWJsZSAmJiBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgIW9wdGlvbnMuZHJvcEJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIGdob3N0RWwgJiYgZ2hvc3RFbC5wYXJlbnROb2RlICYmIGdob3N0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnaG9zdEVsKTtcblxuICAgICAgaWYgKHJvb3RFbCA9PT0gcGFyZW50RWwgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNsb25lKHMpXG4gICAgICAgIGNsb25lRWwgJiYgY2xvbmVFbC5wYXJlbnROb2RlICYmIGNsb25lRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9uZUVsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRyYWdFbCkge1xuICAgICAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgICBvZmYoZHJhZ0VsLCAnZHJhZ2VuZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2Rpc2FibGVEcmFnZ2FibGUoZHJhZ0VsKTtcblxuICAgICAgICBkcmFnRWwuc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAnJzsgLy8gUmVtb3ZlIGNsYXNzZXNcbiAgICAgICAgLy8gZ2hvc3RDbGFzcyBpcyBhZGRlZCBpbiBkcmFnU3RhcnRlZFxuXG4gICAgICAgIGlmIChtb3ZlZCAmJiAhYXdhaXRpbmdEcmFnU3RhcnRlZCkge1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKGRyYWdFbCwgcHV0U29ydGFibGUgPyBwdXRTb3J0YWJsZS5vcHRpb25zLmdob3N0Q2xhc3MgOiB0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIGZhbHNlKTsgLy8gRHJhZyBzdG9wIGV2ZW50XG5cbiAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgIG5hbWU6ICd1bmNob29zZScsXG4gICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgbmV3SW5kZXg6IG51bGwsXG4gICAgICAgICAgbmV3RHJhZ2dhYmxlSW5kZXg6IG51bGwsXG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyb290RWwgIT09IHBhcmVudEVsKSB7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ID49IDApIHtcbiAgICAgICAgICAgIC8vIEFkZCBldmVudFxuICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICByb290RWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBuYW1lOiAnYWRkJyxcbiAgICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIGZyb21FbDogcm9vdEVsLFxuICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgIH0pOyAvLyBSZW1vdmUgZXZlbnRcblxuXG4gICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgICAgICBuYW1lOiAncmVtb3ZlJyxcbiAgICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgICAgfSk7IC8vIGRyYWcgZnJvbSBvbmUgbGlzdCBhbmQgZHJvcCBpbnRvIGFub3RoZXJcblxuXG4gICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgIHJvb3RFbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIG5hbWU6ICdzb3J0JyxcbiAgICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgIGZyb21FbDogcm9vdEVsLFxuICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgICAgICBuYW1lOiAnc29ydCcsXG4gICAgICAgICAgICAgIHRvRWw6IHBhcmVudEVsLFxuICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHB1dFNvcnRhYmxlICYmIHB1dFNvcnRhYmxlLnNhdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobmV3SW5kZXggIT09IG9sZEluZGV4KSB7XG4gICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAvLyBkcmFnICYgZHJvcCB3aXRoaW4gdGhlIHNhbWUgbGlzdFxuICAgICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgc29ydGFibGU6IHRoaXMsXG4gICAgICAgICAgICAgICAgbmFtZTogJ3VwZGF0ZScsXG4gICAgICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICBzb3J0YWJsZTogdGhpcyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnc29ydCcsXG4gICAgICAgICAgICAgICAgdG9FbDogcGFyZW50RWwsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZ0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChTb3J0YWJsZS5hY3RpdmUpIHtcbiAgICAgICAgICAvKiBqc2hpbnQgZXFudWxsOnRydWUgKi9cbiAgICAgICAgICBpZiAobmV3SW5kZXggPT0gbnVsbCB8fCBuZXdJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIG5ld0luZGV4ID0gb2xkSW5kZXg7XG4gICAgICAgICAgICBuZXdEcmFnZ2FibGVJbmRleCA9IG9sZERyYWdnYWJsZUluZGV4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLFxuICAgICAgICAgICAgbmFtZTogJ2VuZCcsXG4gICAgICAgICAgICB0b0VsOiBwYXJlbnRFbCxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2dFxuICAgICAgICAgIH0pOyAvLyBTYXZlIHNvcnRpbmdcblxuXG4gICAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9udWxsaW5nKCk7XG4gIH0sXG4gIF9udWxsaW5nOiBmdW5jdGlvbiBfbnVsbGluZygpIHtcbiAgICBwbHVnaW5FdmVudCgnbnVsbGluZycsIHRoaXMpO1xuICAgIHJvb3RFbCA9IGRyYWdFbCA9IHBhcmVudEVsID0gZ2hvc3RFbCA9IG5leHRFbCA9IGNsb25lRWwgPSBsYXN0RG93bkVsID0gY2xvbmVIaWRkZW4gPSB0YXBFdnQgPSB0b3VjaEV2dCA9IG1vdmVkID0gbmV3SW5kZXggPSBuZXdEcmFnZ2FibGVJbmRleCA9IG9sZEluZGV4ID0gb2xkRHJhZ2dhYmxlSW5kZXggPSBsYXN0VGFyZ2V0ID0gbGFzdERpcmVjdGlvbiA9IHB1dFNvcnRhYmxlID0gYWN0aXZlR3JvdXAgPSBTb3J0YWJsZS5kcmFnZ2VkID0gU29ydGFibGUuZ2hvc3QgPSBTb3J0YWJsZS5jbG9uZSA9IFNvcnRhYmxlLmFjdGl2ZSA9IG51bGw7XG4gICAgc2F2ZWRJbnB1dENoZWNrZWQuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgIGVsLmNoZWNrZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHNhdmVkSW5wdXRDaGVja2VkLmxlbmd0aCA9IGxhc3REeCA9IGxhc3REeSA9IDA7XG4gIH0sXG4gIGhhbmRsZUV2ZW50OiBmdW5jdGlvbiBoYW5kbGVFdmVudChcbiAgLyoqRXZlbnQqL1xuICBldnQpIHtcbiAgICBzd2l0Y2ggKGV2dC50eXBlKSB7XG4gICAgICBjYXNlICdkcm9wJzpcbiAgICAgIGNhc2UgJ2RyYWdlbmQnOlxuICAgICAgICB0aGlzLl9vbkRyb3AoZXZ0KTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZHJhZ2VudGVyJzpcbiAgICAgIGNhc2UgJ2RyYWdvdmVyJzpcbiAgICAgICAgaWYgKGRyYWdFbCkge1xuICAgICAgICAgIHRoaXMuX29uRHJhZ092ZXIoZXZ0KTtcblxuICAgICAgICAgIF9nbG9iYWxEcmFnT3ZlcihldnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbGVjdHN0YXJ0JzpcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU2VyaWFsaXplcyB0aGUgaXRlbSBpbnRvIGFuIGFycmF5IG9mIHN0cmluZy5cbiAgICogQHJldHVybnMge1N0cmluZ1tdfVxuICAgKi9cbiAgdG9BcnJheTogZnVuY3Rpb24gdG9BcnJheSgpIHtcbiAgICB2YXIgb3JkZXIgPSBbXSxcbiAgICAgICAgZWwsXG4gICAgICAgIGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbixcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIG4gPSBjaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgZWwgPSBjaGlsZHJlbltpXTtcblxuICAgICAgaWYgKGNsb3Nlc3QoZWwsIG9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsLCBmYWxzZSkpIHtcbiAgICAgICAgb3JkZXIucHVzaChlbC5nZXRBdHRyaWJ1dGUob3B0aW9ucy5kYXRhSWRBdHRyKSB8fCBfZ2VuZXJhdGVJZChlbCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcmRlcjtcbiAgfSxcblxuICAvKipcbiAgICogU29ydHMgdGhlIGVsZW1lbnRzIGFjY29yZGluZyB0byB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSAge1N0cmluZ1tdfSAgb3JkZXIgIG9yZGVyIG9mIHRoZSBpdGVtc1xuICAgKi9cbiAgc29ydDogZnVuY3Rpb24gc29ydChvcmRlciwgdXNlQW5pbWF0aW9uKSB7XG4gICAgdmFyIGl0ZW1zID0ge30sXG4gICAgICAgIHJvb3RFbCA9IHRoaXMuZWw7XG4gICAgdGhpcy50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoaWQsIGkpIHtcbiAgICAgIHZhciBlbCA9IHJvb3RFbC5jaGlsZHJlbltpXTtcblxuICAgICAgaWYgKGNsb3Nlc3QoZWwsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHJvb3RFbCwgZmFsc2UpKSB7XG4gICAgICAgIGl0ZW1zW2lkXSA9IGVsO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIHVzZUFuaW1hdGlvbiAmJiB0aGlzLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgIG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAoaXRlbXNbaWRdKSB7XG4gICAgICAgIHJvb3RFbC5yZW1vdmVDaGlsZChpdGVtc1tpZF0pO1xuICAgICAgICByb290RWwuYXBwZW5kQ2hpbGQoaXRlbXNbaWRdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VBbmltYXRpb24gJiYgdGhpcy5hbmltYXRlQWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhdmUgdGhlIGN1cnJlbnQgc29ydGluZ1xuICAgKi9cbiAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHtcbiAgICB2YXIgc3RvcmUgPSB0aGlzLm9wdGlvbnMuc3RvcmU7XG4gICAgc3RvcmUgJiYgc3RvcmUuc2V0ICYmIHN0b3JlLnNldCh0aGlzKTtcbiAgfSxcblxuICAvKipcbiAgICogRm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LCBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciBieSB0ZXN0aW5nIHRoZSBlbGVtZW50IGl0c2VsZiBhbmQgdHJhdmVyc2luZyB1cCB0aHJvdWdoIGl0cyBhbmNlc3RvcnMgaW4gdGhlIERPTSB0cmVlLlxuICAgKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9ICBlbFxuICAgKiBAcGFyYW0gICB7U3RyaW5nfSAgICAgICBbc2VsZWN0b3JdICBkZWZhdWx0OiBgb3B0aW9ucy5kcmFnZ2FibGVgXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxudWxsfVxuICAgKi9cbiAgY2xvc2VzdDogZnVuY3Rpb24gY2xvc2VzdCQxKGVsLCBzZWxlY3Rvcikge1xuICAgIHJldHVybiBjbG9zZXN0KGVsLCBzZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsLCBmYWxzZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldC9nZXQgb3B0aW9uXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtICAgeyp9ICAgICAgW3ZhbHVlXVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIG9wdGlvbjogZnVuY3Rpb24gb3B0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIG9wdGlvbnNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtb2RpZmllZFZhbHVlID0gUGx1Z2luTWFuYWdlci5tb2RpZnlPcHRpb24odGhpcywgbmFtZSwgdmFsdWUpO1xuXG4gICAgICBpZiAodHlwZW9mIG1vZGlmaWVkVmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9wdGlvbnNbbmFtZV0gPSBtb2RpZmllZFZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobmFtZSA9PT0gJ2dyb3VwJykge1xuICAgICAgICBfcHJlcGFyZUdyb3VwKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRGVzdHJveVxuICAgKi9cbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBwbHVnaW5FdmVudCgnZGVzdHJveScsIHRoaXMpO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgZWxbZXhwYW5kb10gPSBudWxsO1xuICAgIG9mZihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuICAgIG9mZihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgICBvZmYoZWwsICdwb2ludGVyZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXG4gICAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICBvZmYoZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuICAgICAgb2ZmKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG4gICAgfSAvLyBSZW1vdmUgZHJhZ2dhYmxlIGF0dHJpYnV0ZXNcblxuXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5xdWVyeVNlbGVjdG9yQWxsKCdbZHJhZ2dhYmxlXScpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZHJhZ2dhYmxlJyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9vbkRyb3AoKTtcblxuICAgIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZ0V2ZW50cygpO1xuXG4gICAgc29ydGFibGVzLnNwbGljZShzb3J0YWJsZXMuaW5kZXhPZih0aGlzLmVsKSwgMSk7XG4gICAgdGhpcy5lbCA9IGVsID0gbnVsbDtcbiAgfSxcbiAgX2hpZGVDbG9uZTogZnVuY3Rpb24gX2hpZGVDbG9uZSgpIHtcbiAgICBpZiAoIWNsb25lSGlkZGVuKSB7XG4gICAgICBwbHVnaW5FdmVudCgnaGlkZUNsb25lJywgdGhpcyk7XG4gICAgICBpZiAoU29ydGFibGUuZXZlbnRDYW5jZWxlZCkgcmV0dXJuO1xuICAgICAgY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJ25vbmUnKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSAmJiBjbG9uZUVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgY2xvbmVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lRWwpO1xuICAgICAgfVxuXG4gICAgICBjbG9uZUhpZGRlbiA9IHRydWU7XG4gICAgfVxuICB9LFxuICBfc2hvd0Nsb25lOiBmdW5jdGlvbiBfc2hvd0Nsb25lKHB1dFNvcnRhYmxlKSB7XG4gICAgaWYgKHB1dFNvcnRhYmxlLmxhc3RQdXRNb2RlICE9PSAnY2xvbmUnKSB7XG4gICAgICB0aGlzLl9oaWRlQ2xvbmUoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjbG9uZUhpZGRlbikge1xuICAgICAgcGx1Z2luRXZlbnQoJ3Nob3dDbG9uZScsIHRoaXMpO1xuICAgICAgaWYgKFNvcnRhYmxlLmV2ZW50Q2FuY2VsZWQpIHJldHVybjsgLy8gc2hvdyBjbG9uZSBhdCBkcmFnRWwgb3Igb3JpZ2luYWwgcG9zaXRpb25cblxuICAgICAgaWYgKGRyYWdFbC5wYXJlbnROb2RlID09IHJvb3RFbCAmJiAhdGhpcy5vcHRpb25zLmdyb3VwLnJldmVydENsb25lKSB7XG4gICAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dEVsKSB7XG4gICAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgbmV4dEVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3RFbC5hcHBlbmRDaGlsZChjbG9uZUVsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ncm91cC5yZXZlcnRDbG9uZSkge1xuICAgICAgICB0aGlzLmFuaW1hdGUoZHJhZ0VsLCBjbG9uZUVsKTtcbiAgICAgIH1cblxuICAgICAgY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJycpO1xuICAgICAgY2xvbmVIaWRkZW4gPSBmYWxzZTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9nbG9iYWxEcmFnT3Zlcihcbi8qKkV2ZW50Ki9cbmV2dCkge1xuICBpZiAoZXZ0LmRhdGFUcmFuc2Zlcikge1xuICAgIGV2dC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgfVxuXG4gIGV2dC5jYW5jZWxhYmxlICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBfb25Nb3ZlKGZyb21FbCwgdG9FbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0RWwsIHRhcmdldFJlY3QsIG9yaWdpbmFsRXZlbnQsIHdpbGxJbnNlcnRBZnRlcikge1xuICB2YXIgZXZ0LFxuICAgICAgc29ydGFibGUgPSBmcm9tRWxbZXhwYW5kb10sXG4gICAgICBvbk1vdmVGbiA9IHNvcnRhYmxlLm9wdGlvbnMub25Nb3ZlLFxuICAgICAgcmV0VmFsOyAvLyBTdXBwb3J0IGZvciBuZXcgQ3VzdG9tRXZlbnQgZmVhdHVyZVxuXG4gIGlmICh3aW5kb3cuQ3VzdG9tRXZlbnQgJiYgIUlFMTFPckxlc3MgJiYgIUVkZ2UpIHtcbiAgICBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ21vdmUnLCB7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2dC5pbml0RXZlbnQoJ21vdmUnLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGV2dC50byA9IHRvRWw7XG4gIGV2dC5mcm9tID0gZnJvbUVsO1xuICBldnQuZHJhZ2dlZCA9IGRyYWdFbDtcbiAgZXZ0LmRyYWdnZWRSZWN0ID0gZHJhZ1JlY3Q7XG4gIGV2dC5yZWxhdGVkID0gdGFyZ2V0RWwgfHwgdG9FbDtcbiAgZXZ0LnJlbGF0ZWRSZWN0ID0gdGFyZ2V0UmVjdCB8fCBnZXRSZWN0KHRvRWwpO1xuICBldnQud2lsbEluc2VydEFmdGVyID0gd2lsbEluc2VydEFmdGVyO1xuICBldnQub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gIGZyb21FbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cbiAgaWYgKG9uTW92ZUZuKSB7XG4gICAgcmV0VmFsID0gb25Nb3ZlRm4uY2FsbChzb3J0YWJsZSwgZXZ0LCBvcmlnaW5hbEV2ZW50KTtcbiAgfVxuXG4gIHJldHVybiByZXRWYWw7XG59XG5cbmZ1bmN0aW9uIF9kaXNhYmxlRHJhZ2dhYmxlKGVsKSB7XG4gIGVsLmRyYWdnYWJsZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBfdW5zaWxlbnQoKSB7XG4gIF9zaWxlbnQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gX2dob3N0SXNMYXN0KGV2dCwgdmVydGljYWwsIHNvcnRhYmxlKSB7XG4gIHZhciByZWN0ID0gZ2V0UmVjdChsYXN0Q2hpbGQoc29ydGFibGUuZWwsIHNvcnRhYmxlLm9wdGlvbnMuZHJhZ2dhYmxlKSk7XG4gIHZhciBzcGFjZXIgPSAxMDtcbiAgcmV0dXJuIHZlcnRpY2FsID8gZXZ0LmNsaWVudFggPiByZWN0LnJpZ2h0ICsgc3BhY2VyIHx8IGV2dC5jbGllbnRYIDw9IHJlY3QucmlnaHQgJiYgZXZ0LmNsaWVudFkgPiByZWN0LmJvdHRvbSAmJiBldnQuY2xpZW50WCA+PSByZWN0LmxlZnQgOiBldnQuY2xpZW50WCA+IHJlY3QucmlnaHQgJiYgZXZ0LmNsaWVudFkgPiByZWN0LnRvcCB8fCBldnQuY2xpZW50WCA8PSByZWN0LnJpZ2h0ICYmIGV2dC5jbGllbnRZID4gcmVjdC5ib3R0b20gKyBzcGFjZXI7XG59XG5cbmZ1bmN0aW9uIF9nZXRTd2FwRGlyZWN0aW9uKGV2dCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCB2ZXJ0aWNhbCwgc3dhcFRocmVzaG9sZCwgaW52ZXJ0ZWRTd2FwVGhyZXNob2xkLCBpbnZlcnRTd2FwLCBpc0xhc3RUYXJnZXQpIHtcbiAgdmFyIG1vdXNlT25BeGlzID0gdmVydGljYWwgPyBldnQuY2xpZW50WSA6IGV2dC5jbGllbnRYLFxuICAgICAgdGFyZ2V0TGVuZ3RoID0gdmVydGljYWwgPyB0YXJnZXRSZWN0LmhlaWdodCA6IHRhcmdldFJlY3Qud2lkdGgsXG4gICAgICB0YXJnZXRTMSA9IHZlcnRpY2FsID8gdGFyZ2V0UmVjdC50b3AgOiB0YXJnZXRSZWN0LmxlZnQsXG4gICAgICB0YXJnZXRTMiA9IHZlcnRpY2FsID8gdGFyZ2V0UmVjdC5ib3R0b20gOiB0YXJnZXRSZWN0LnJpZ2h0LFxuICAgICAgaW52ZXJ0ID0gZmFsc2U7XG5cbiAgaWYgKCFpbnZlcnRTd2FwKSB7XG4gICAgLy8gTmV2ZXIgaW52ZXJ0IG9yIGNyZWF0ZSBkcmFnRWwgc2hhZG93IHdoZW4gdGFyZ2V0IG1vdmVtZW5ldCBjYXVzZXMgbW91c2UgdG8gbW92ZSBwYXN0IHRoZSBlbmQgb2YgcmVndWxhciBzd2FwVGhyZXNob2xkXG4gICAgaWYgKGlzTGFzdFRhcmdldCAmJiB0YXJnZXRNb3ZlRGlzdGFuY2UgPCB0YXJnZXRMZW5ndGggKiBzd2FwVGhyZXNob2xkKSB7XG4gICAgICAvLyBtdWx0aXBsaWVkIG9ubHkgYnkgc3dhcFRocmVzaG9sZCBiZWNhdXNlIG1vdXNlIHdpbGwgYWxyZWFkeSBiZSBpbnNpZGUgdGFyZ2V0IGJ5ICgxIC0gdGhyZXNob2xkKSAqIHRhcmdldExlbmd0aCAvIDJcbiAgICAgIC8vIGNoZWNrIGlmIHBhc3QgZmlyc3QgaW52ZXJ0IHRocmVzaG9sZCBvbiBzaWRlIG9wcG9zaXRlIG9mIGxhc3REaXJlY3Rpb25cbiAgICAgIGlmICghcGFzdEZpcnN0SW52ZXJ0VGhyZXNoICYmIChsYXN0RGlyZWN0aW9uID09PSAxID8gbW91c2VPbkF4aXMgPiB0YXJnZXRTMSArIHRhcmdldExlbmd0aCAqIGludmVydGVkU3dhcFRocmVzaG9sZCAvIDIgOiBtb3VzZU9uQXhpcyA8IHRhcmdldFMyIC0gdGFyZ2V0TGVuZ3RoICogaW52ZXJ0ZWRTd2FwVGhyZXNob2xkIC8gMikpIHtcbiAgICAgICAgLy8gcGFzdCBmaXJzdCBpbnZlcnQgdGhyZXNob2xkLCBkbyBub3QgcmVzdHJpY3QgaW52ZXJ0ZWQgdGhyZXNob2xkIHRvIGRyYWdFbCBzaGFkb3dcbiAgICAgICAgcGFzdEZpcnN0SW52ZXJ0VGhyZXNoID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwYXN0Rmlyc3RJbnZlcnRUaHJlc2gpIHtcbiAgICAgICAgLy8gZHJhZ0VsIHNoYWRvdyAodGFyZ2V0IG1vdmUgZGlzdGFuY2Ugc2hhZG93KVxuICAgICAgICBpZiAobGFzdERpcmVjdGlvbiA9PT0gMSA/IG1vdXNlT25BeGlzIDwgdGFyZ2V0UzEgKyB0YXJnZXRNb3ZlRGlzdGFuY2UgLy8gb3ZlciBkcmFnRWwgc2hhZG93XG4gICAgICAgIDogbW91c2VPbkF4aXMgPiB0YXJnZXRTMiAtIHRhcmdldE1vdmVEaXN0YW5jZSkge1xuICAgICAgICAgIHJldHVybiAtbGFzdERpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52ZXJ0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVndWxhclxuICAgICAgaWYgKG1vdXNlT25BeGlzID4gdGFyZ2V0UzEgKyB0YXJnZXRMZW5ndGggKiAoMSAtIHN3YXBUaHJlc2hvbGQpIC8gMiAmJiBtb3VzZU9uQXhpcyA8IHRhcmdldFMyIC0gdGFyZ2V0TGVuZ3RoICogKDEgLSBzd2FwVGhyZXNob2xkKSAvIDIpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRJbnNlcnREaXJlY3Rpb24odGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbnZlcnQgPSBpbnZlcnQgfHwgaW52ZXJ0U3dhcDtcblxuICBpZiAoaW52ZXJ0KSB7XG4gICAgLy8gSW52ZXJ0IG9mIHJlZ3VsYXJcbiAgICBpZiAobW91c2VPbkF4aXMgPCB0YXJnZXRTMSArIHRhcmdldExlbmd0aCAqIGludmVydGVkU3dhcFRocmVzaG9sZCAvIDIgfHwgbW91c2VPbkF4aXMgPiB0YXJnZXRTMiAtIHRhcmdldExlbmd0aCAqIGludmVydGVkU3dhcFRocmVzaG9sZCAvIDIpIHtcbiAgICAgIHJldHVybiBtb3VzZU9uQXhpcyA+IHRhcmdldFMxICsgdGFyZ2V0TGVuZ3RoIC8gMiA/IDEgOiAtMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cbi8qKlxuICogR2V0cyB0aGUgZGlyZWN0aW9uIGRyYWdFbCBtdXN0IGJlIHN3YXBwZWQgcmVsYXRpdmUgdG8gdGFyZ2V0IGluIG9yZGVyIHRvIG1ha2UgaXRcbiAqIHNlZW0gdGhhdCBkcmFnRWwgaGFzIGJlZW4gXCJpbnNlcnRlZFwiIGludG8gdGhhdCBlbGVtZW50J3MgcG9zaXRpb25cbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSB0YXJnZXQgICAgICAgVGhlIHRhcmdldCB3aG9zZSBwb3NpdGlvbiBkcmFnRWwgaXMgYmVpbmcgaW5zZXJ0ZWQgYXRcbiAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgICAgICAgICAgRGlyZWN0aW9uIGRyYWdFbCBtdXN0IGJlIHN3YXBwZWRcbiAqL1xuXG5cbmZ1bmN0aW9uIF9nZXRJbnNlcnREaXJlY3Rpb24odGFyZ2V0KSB7XG4gIGlmIChpbmRleChkcmFnRWwpIDwgaW5kZXgodGFyZ2V0KSkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAtMTtcbiAgfVxufVxuLyoqXG4gKiBHZW5lcmF0ZSBpZFxuICogQHBhcmFtICAge0hUTUxFbGVtZW50fSBlbFxuICogQHJldHVybnMge1N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBfZ2VuZXJhdGVJZChlbCkge1xuICB2YXIgc3RyID0gZWwudGFnTmFtZSArIGVsLmNsYXNzTmFtZSArIGVsLnNyYyArIGVsLmhyZWYgKyBlbC50ZXh0Q29udGVudCxcbiAgICAgIGkgPSBzdHIubGVuZ3RoLFxuICAgICAgc3VtID0gMDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgc3VtICs9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICB9XG5cbiAgcmV0dXJuIHN1bS50b1N0cmluZygzNik7XG59XG5cbmZ1bmN0aW9uIF9zYXZlSW5wdXRDaGVja2VkU3RhdGUocm9vdCkge1xuICBzYXZlZElucHV0Q2hlY2tlZC5sZW5ndGggPSAwO1xuICB2YXIgaW5wdXRzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtcbiAgdmFyIGlkeCA9IGlucHV0cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGlkeC0tKSB7XG4gICAgdmFyIGVsID0gaW5wdXRzW2lkeF07XG4gICAgZWwuY2hlY2tlZCAmJiBzYXZlZElucHV0Q2hlY2tlZC5wdXNoKGVsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfbmV4dFRpY2soZm4pIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoZm4sIDApO1xufVxuXG5mdW5jdGlvbiBfY2FuY2VsTmV4dFRpY2soaWQpIHtcbiAgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7XG59IC8vIEZpeGVkICM5NzM6XG5cblxuaWYgKGRvY3VtZW50RXhpc3RzKSB7XG4gIG9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmICgoU29ydGFibGUuYWN0aXZlIHx8IGF3YWl0aW5nRHJhZ1N0YXJ0ZWQpICYmIGV2dC5jYW5jZWxhYmxlKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0pO1xufSAvLyBFeHBvcnQgdXRpbHNcblxuXG5Tb3J0YWJsZS51dGlscyA9IHtcbiAgb246IG9uLFxuICBvZmY6IG9mZixcbiAgY3NzOiBjc3MsXG4gIGZpbmQ6IGZpbmQsXG4gIGlzOiBmdW5jdGlvbiBpcyhlbCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gISFjbG9zZXN0KGVsLCBzZWxlY3RvciwgZWwsIGZhbHNlKTtcbiAgfSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRocm90dGxlOiB0aHJvdHRsZSxcbiAgY2xvc2VzdDogY2xvc2VzdCxcbiAgdG9nZ2xlQ2xhc3M6IHRvZ2dsZUNsYXNzLFxuICBjbG9uZTogY2xvbmUsXG4gIGluZGV4OiBpbmRleCxcbiAgbmV4dFRpY2s6IF9uZXh0VGljayxcbiAgY2FuY2VsTmV4dFRpY2s6IF9jYW5jZWxOZXh0VGljayxcbiAgZGV0ZWN0RGlyZWN0aW9uOiBfZGV0ZWN0RGlyZWN0aW9uLFxuICBnZXRDaGlsZDogZ2V0Q2hpbGRcbn07XG4vKipcbiAqIEdldCB0aGUgU29ydGFibGUgaW5zdGFuY2Ugb2YgYW4gZWxlbWVudFxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAqIEByZXR1cm4ge1NvcnRhYmxlfHVuZGVmaW5lZH0gICAgICAgICBUaGUgaW5zdGFuY2Ugb2YgU29ydGFibGVcbiAqL1xuXG5Tb3J0YWJsZS5nZXQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudFtleHBhbmRvXTtcbn07XG4vKipcbiAqIE1vdW50IGEgcGx1Z2luIHRvIFNvcnRhYmxlXG4gKiBAcGFyYW0gIHsuLi5Tb3J0YWJsZVBsdWdpbnxTb3J0YWJsZVBsdWdpbltdfSBwbHVnaW5zICAgICAgIFBsdWdpbnMgYmVpbmcgbW91bnRlZFxuICovXG5cblxuU29ydGFibGUubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwbHVnaW5zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHBsdWdpbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAocGx1Z2luc1swXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHBsdWdpbnMgPSBwbHVnaW5zWzBdO1xuICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgIGlmICghcGx1Z2luLnByb3RvdHlwZSB8fCAhcGx1Z2luLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgdGhyb3cgXCJTb3J0YWJsZTogTW91bnRlZCBwbHVnaW4gbXVzdCBiZSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLCBub3QgXCIuY29uY2F0KHt9LnRvU3RyaW5nLmNhbGwocGx1Z2luKSk7XG4gICAgfVxuXG4gICAgaWYgKHBsdWdpbi51dGlscykgU29ydGFibGUudXRpbHMgPSBfb2JqZWN0U3ByZWFkKHt9LCBTb3J0YWJsZS51dGlscywgcGx1Z2luLnV0aWxzKTtcbiAgICBQbHVnaW5NYW5hZ2VyLm1vdW50KHBsdWdpbik7XG4gIH0pO1xufTtcbi8qKlxuICogQ3JlYXRlIHNvcnRhYmxlIGluc3RhbmNlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAgZWxcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtvcHRpb25zXVxuICovXG5cblxuU29ydGFibGUuY3JlYXRlID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgU29ydGFibGUoZWwsIG9wdGlvbnMpO1xufTsgLy8gRXhwb3J0XG5cblxuU29ydGFibGUudmVyc2lvbiA9IHZlcnNpb247XG5cbnZhciBhdXRvU2Nyb2xscyA9IFtdLFxuICAgIHNjcm9sbEVsLFxuICAgIHNjcm9sbFJvb3RFbCxcbiAgICBzY3JvbGxpbmcgPSBmYWxzZSxcbiAgICBsYXN0QXV0b1Njcm9sbFgsXG4gICAgbGFzdEF1dG9TY3JvbGxZLFxuICAgIHRvdWNoRXZ0JDEsXG4gICAgcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWw7XG5cbmZ1bmN0aW9uIEF1dG9TY3JvbGxQbHVnaW4oKSB7XG4gIGZ1bmN0aW9uIEF1dG9TY3JvbGwoKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgIHNjcm9sbDogdHJ1ZSxcbiAgICAgIHNjcm9sbFNlbnNpdGl2aXR5OiAzMCxcbiAgICAgIHNjcm9sbFNwZWVkOiAxMCxcbiAgICAgIGJ1YmJsZVNjcm9sbDogdHJ1ZVxuICAgIH07IC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuXG4gICAgZm9yICh2YXIgZm4gaW4gdGhpcykge1xuICAgICAgaWYgKGZuLmNoYXJBdCgwKSA9PT0gJ18nICYmIHR5cGVvZiB0aGlzW2ZuXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzW2ZuXSA9IHRoaXNbZm5dLmJpbmQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQXV0b1Njcm9sbC5wcm90b3R5cGUgPSB7XG4gICAgZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uIGRyYWdTdGFydGVkKF9yZWYpIHtcbiAgICAgIHZhciBvcmlnaW5hbEV2ZW50ID0gX3JlZi5vcmlnaW5hbEV2ZW50O1xuXG4gICAgICBpZiAodGhpcy5zb3J0YWJsZS5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgb24oZG9jdW1lbnQsICdkcmFnb3ZlcicsIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdXBwb3J0UG9pbnRlcikge1xuICAgICAgICAgIG9uKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwpO1xuICAgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsRXZlbnQudG91Y2hlcykge1xuICAgICAgICAgIG9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRmFsbGJhY2tBdXRvU2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdPdmVyQ29tcGxldGVkOiBmdW5jdGlvbiBkcmFnT3ZlckNvbXBsZXRlZChfcmVmMikge1xuICAgICAgdmFyIG9yaWdpbmFsRXZlbnQgPSBfcmVmMi5vcmlnaW5hbEV2ZW50O1xuXG4gICAgICAvLyBGb3Igd2hlbiBidWJibGluZyBpcyBjYW5jZWxlZCBhbmQgdXNpbmcgZmFsbGJhY2sgKGZhbGxiYWNrICd0b3VjaG1vdmUnIGFsd2F5cyByZWFjaGVkKVxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ092ZXJCdWJibGUgJiYgIW9yaWdpbmFsRXZlbnQucm9vdEVsKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUF1dG9TY3JvbGwob3JpZ2luYWxFdmVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKCkge1xuICAgICAgaWYgKHRoaXMuc29ydGFibGUubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgIG9mZihkb2N1bWVudCwgJ2RyYWdvdmVyJywgdGhpcy5faGFuZGxlQXV0b1Njcm9sbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmYoZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIG9mZihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICAgIG9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUZhbGxiYWNrQXV0b1Njcm9sbCk7XG4gICAgICB9XG5cbiAgICAgIGNsZWFyUG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwoKTtcbiAgICAgIGNsZWFyQXV0b1Njcm9sbHMoKTtcbiAgICAgIGNhbmNlbFRocm90dGxlKCk7XG4gICAgfSxcbiAgICBudWxsaW5nOiBmdW5jdGlvbiBudWxsaW5nKCkge1xuICAgICAgdG91Y2hFdnQkMSA9IHNjcm9sbFJvb3RFbCA9IHNjcm9sbEVsID0gc2Nyb2xsaW5nID0gcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgPSBsYXN0QXV0b1Njcm9sbFggPSBsYXN0QXV0b1Njcm9sbFkgPSBudWxsO1xuICAgICAgYXV0b1Njcm9sbHMubGVuZ3RoID0gMDtcbiAgICB9LFxuICAgIF9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGw6IGZ1bmN0aW9uIF9oYW5kbGVGYWxsYmFja0F1dG9TY3JvbGwoZXZ0KSB7XG4gICAgICB0aGlzLl9oYW5kbGVBdXRvU2Nyb2xsKGV2dCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBfaGFuZGxlQXV0b1Njcm9sbDogZnVuY3Rpb24gX2hhbmRsZUF1dG9TY3JvbGwoZXZ0LCBmYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHggPSAoZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCkuY2xpZW50WCxcbiAgICAgICAgICB5ID0gKGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQpLmNsaWVudFksXG4gICAgICAgICAgZWxlbSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgICB0b3VjaEV2dCQxID0gZXZ0OyAvLyBJRSBkb2VzIG5vdCBzZWVtIHRvIGhhdmUgbmF0aXZlIGF1dG9zY3JvbGwsXG4gICAgICAvLyBFZGdlJ3MgYXV0b3Njcm9sbCBzZWVtcyB0b28gY29uZGl0aW9uYWwsXG4gICAgICAvLyBNQUNPUyBTYWZhcmkgZG9lcyBub3QgaGF2ZSBhdXRvc2Nyb2xsLFxuICAgICAgLy8gRmlyZWZveCBhbmQgQ2hyb21lIGFyZSBnb29kXG5cbiAgICAgIGlmIChmYWxsYmFjayB8fCBFZGdlIHx8IElFMTFPckxlc3MgfHwgU2FmYXJpKSB7XG4gICAgICAgIGF1dG9TY3JvbGwoZXZ0LCB0aGlzLm9wdGlvbnMsIGVsZW0sIGZhbGxiYWNrKTsgLy8gTGlzdGVuZXIgZm9yIHBvaW50ZXIgZWxlbWVudCBjaGFuZ2VcblxuICAgICAgICB2YXIgb2dFbGVtU2Nyb2xsZXIgPSBnZXRQYXJlbnRBdXRvU2Nyb2xsRWxlbWVudChlbGVtLCB0cnVlKTtcblxuICAgICAgICBpZiAoc2Nyb2xsaW5nICYmICghcG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwgfHwgeCAhPT0gbGFzdEF1dG9TY3JvbGxYIHx8IHkgIT09IGxhc3RBdXRvU2Nyb2xsWSkpIHtcbiAgICAgICAgICBwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCAmJiBjbGVhclBvaW50ZXJFbGVtQ2hhbmdlZEludGVydmFsKCk7IC8vIERldGVjdCBmb3IgcG9pbnRlciBlbGVtIGNoYW5nZSwgZW11bGF0aW5nIG5hdGl2ZSBEbkQgYmVoYXZpb3VyXG5cbiAgICAgICAgICBwb2ludGVyRWxlbUNoYW5nZWRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbGVtID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmIChuZXdFbGVtICE9PSBvZ0VsZW1TY3JvbGxlcikge1xuICAgICAgICAgICAgICBvZ0VsZW1TY3JvbGxlciA9IG5ld0VsZW07XG4gICAgICAgICAgICAgIGNsZWFyQXV0b1Njcm9sbHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXV0b1Njcm9sbChldnQsIF90aGlzLm9wdGlvbnMsIG5ld0VsZW0sIGZhbGxiYWNrKTtcbiAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgbGFzdEF1dG9TY3JvbGxYID0geDtcbiAgICAgICAgICBsYXN0QXV0b1Njcm9sbFkgPSB5O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBEbkQgaXMgZW5hYmxlZCAoYW5kIGJyb3dzZXIgaGFzIGdvb2QgYXV0b3Njcm9sbGluZyksIGZpcnN0IGF1dG9zY3JvbGwgd2lsbCBhbHJlYWR5IHNjcm9sbCwgc28gZ2V0IHBhcmVudCBhdXRvc2Nyb2xsIG9mIGZpcnN0IGF1dG9zY3JvbGxcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYnViYmxlU2Nyb2xsIHx8IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KGVsZW0sIHRydWUpID09PSBnZXRXaW5kb3dTY3JvbGxpbmdFbGVtZW50KCkpIHtcbiAgICAgICAgICBjbGVhckF1dG9TY3JvbGxzKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXV0b1Njcm9sbChldnQsIHRoaXMub3B0aW9ucywgZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoZWxlbSwgZmFsc2UpLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gX2V4dGVuZHMoQXV0b1Njcm9sbCwge1xuICAgIHBsdWdpbk5hbWU6ICdzY3JvbGwnLFxuICAgIGluaXRpYWxpemVCeURlZmF1bHQ6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFyQXV0b1Njcm9sbHMoKSB7XG4gIGF1dG9TY3JvbGxzLmZvckVhY2goZnVuY3Rpb24gKGF1dG9TY3JvbGwpIHtcbiAgICBjbGVhckludGVydmFsKGF1dG9TY3JvbGwucGlkKTtcbiAgfSk7XG4gIGF1dG9TY3JvbGxzID0gW107XG59XG5cbmZ1bmN0aW9uIGNsZWFyUG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwoKSB7XG4gIGNsZWFySW50ZXJ2YWwocG9pbnRlckVsZW1DaGFuZ2VkSW50ZXJ2YWwpO1xufVxuXG52YXIgYXV0b1Njcm9sbCA9IHRocm90dGxlKGZ1bmN0aW9uIChldnQsIG9wdGlvbnMsIHJvb3RFbCwgaXNGYWxsYmFjaykge1xuICAvLyBCdWc6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTUwNTUyMVxuICBpZiAoIW9wdGlvbnMuc2Nyb2xsKSByZXR1cm47XG4gIHZhciB4ID0gKGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQpLmNsaWVudFgsXG4gICAgICB5ID0gKGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0gOiBldnQpLmNsaWVudFksXG4gICAgICBzZW5zID0gb3B0aW9ucy5zY3JvbGxTZW5zaXRpdml0eSxcbiAgICAgIHNwZWVkID0gb3B0aW9ucy5zY3JvbGxTcGVlZCxcbiAgICAgIHdpblNjcm9sbGVyID0gZ2V0V2luZG93U2Nyb2xsaW5nRWxlbWVudCgpO1xuICB2YXIgc2Nyb2xsVGhpc0luc3RhbmNlID0gZmFsc2UsXG4gICAgICBzY3JvbGxDdXN0b21GbjsgLy8gTmV3IHNjcm9sbCByb290LCBzZXQgc2Nyb2xsRWxcblxuICBpZiAoc2Nyb2xsUm9vdEVsICE9PSByb290RWwpIHtcbiAgICBzY3JvbGxSb290RWwgPSByb290RWw7XG4gICAgY2xlYXJBdXRvU2Nyb2xscygpO1xuICAgIHNjcm9sbEVsID0gb3B0aW9ucy5zY3JvbGw7XG4gICAgc2Nyb2xsQ3VzdG9tRm4gPSBvcHRpb25zLnNjcm9sbEZuO1xuXG4gICAgaWYgKHNjcm9sbEVsID09PSB0cnVlKSB7XG4gICAgICBzY3JvbGxFbCA9IGdldFBhcmVudEF1dG9TY3JvbGxFbGVtZW50KHJvb3RFbCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxheWVyc091dCA9IDA7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gc2Nyb2xsRWw7XG5cbiAgZG8ge1xuICAgIHZhciBlbCA9IGN1cnJlbnRQYXJlbnQsXG4gICAgICAgIHJlY3QgPSBnZXRSZWN0KGVsKSxcbiAgICAgICAgdG9wID0gcmVjdC50b3AsXG4gICAgICAgIGJvdHRvbSA9IHJlY3QuYm90dG9tLFxuICAgICAgICBsZWZ0ID0gcmVjdC5sZWZ0LFxuICAgICAgICByaWdodCA9IHJlY3QucmlnaHQsXG4gICAgICAgIHdpZHRoID0gcmVjdC53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQsXG4gICAgICAgIGNhblNjcm9sbFggPSB2b2lkIDAsXG4gICAgICAgIGNhblNjcm9sbFkgPSB2b2lkIDAsXG4gICAgICAgIHNjcm9sbFdpZHRoID0gZWwuc2Nyb2xsV2lkdGgsXG4gICAgICAgIHNjcm9sbEhlaWdodCA9IGVsLnNjcm9sbEhlaWdodCxcbiAgICAgICAgZWxDU1MgPSBjc3MoZWwpLFxuICAgICAgICBzY3JvbGxQb3NYID0gZWwuc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsUG9zWSA9IGVsLnNjcm9sbFRvcDtcblxuICAgIGlmIChlbCA9PT0gd2luU2Nyb2xsZXIpIHtcbiAgICAgIGNhblNjcm9sbFggPSB3aWR0aCA8IHNjcm9sbFdpZHRoICYmIChlbENTUy5vdmVyZmxvd1ggPT09ICdhdXRvJyB8fCBlbENTUy5vdmVyZmxvd1ggPT09ICdzY3JvbGwnIHx8IGVsQ1NTLm92ZXJmbG93WCA9PT0gJ3Zpc2libGUnKTtcbiAgICAgIGNhblNjcm9sbFkgPSBoZWlnaHQgPCBzY3JvbGxIZWlnaHQgJiYgKGVsQ1NTLm92ZXJmbG93WSA9PT0gJ2F1dG8nIHx8IGVsQ1NTLm92ZXJmbG93WSA9PT0gJ3Njcm9sbCcgfHwgZWxDU1Mub3ZlcmZsb3dZID09PSAndmlzaWJsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW5TY3JvbGxYID0gd2lkdGggPCBzY3JvbGxXaWR0aCAmJiAoZWxDU1Mub3ZlcmZsb3dYID09PSAnYXV0bycgfHwgZWxDU1Mub3ZlcmZsb3dYID09PSAnc2Nyb2xsJyk7XG4gICAgICBjYW5TY3JvbGxZID0gaGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0ICYmIChlbENTUy5vdmVyZmxvd1kgPT09ICdhdXRvJyB8fCBlbENTUy5vdmVyZmxvd1kgPT09ICdzY3JvbGwnKTtcbiAgICB9XG5cbiAgICB2YXIgdnggPSBjYW5TY3JvbGxYICYmIChNYXRoLmFicyhyaWdodCAtIHgpIDw9IHNlbnMgJiYgc2Nyb2xsUG9zWCArIHdpZHRoIDwgc2Nyb2xsV2lkdGgpIC0gKE1hdGguYWJzKGxlZnQgLSB4KSA8PSBzZW5zICYmICEhc2Nyb2xsUG9zWCk7XG4gICAgdmFyIHZ5ID0gY2FuU2Nyb2xsWSAmJiAoTWF0aC5hYnMoYm90dG9tIC0geSkgPD0gc2VucyAmJiBzY3JvbGxQb3NZICsgaGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0KSAtIChNYXRoLmFicyh0b3AgLSB5KSA8PSBzZW5zICYmICEhc2Nyb2xsUG9zWSk7XG5cbiAgICBpZiAoIWF1dG9TY3JvbGxzW2xheWVyc091dF0pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxheWVyc091dDsgaSsrKSB7XG4gICAgICAgIGlmICghYXV0b1Njcm9sbHNbaV0pIHtcbiAgICAgICAgICBhdXRvU2Nyb2xsc1tpXSA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF1dG9TY3JvbGxzW2xheWVyc091dF0udnggIT0gdnggfHwgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eSAhPSB2eSB8fCBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLmVsICE9PSBlbCkge1xuICAgICAgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS5lbCA9IGVsO1xuICAgICAgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eCA9IHZ4O1xuICAgICAgYXV0b1Njcm9sbHNbbGF5ZXJzT3V0XS52eSA9IHZ5O1xuICAgICAgY2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnBpZCk7XG5cbiAgICAgIGlmICh2eCAhPSAwIHx8IHZ5ICE9IDApIHtcbiAgICAgICAgc2Nyb2xsVGhpc0luc3RhbmNlID0gdHJ1ZTtcbiAgICAgICAgLyoganNoaW50IGxvb3BmdW5jOnRydWUgKi9cblxuICAgICAgICBhdXRvU2Nyb2xsc1tsYXllcnNPdXRdLnBpZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBlbXVsYXRlIGRyYWcgb3ZlciBkdXJpbmcgYXV0b3Njcm9sbCAoZmFsbGJhY2spLCBlbXVsYXRpbmcgbmF0aXZlIERuRCBiZWhhdmlvdXJcbiAgICAgICAgICBpZiAoaXNGYWxsYmFjayAmJiB0aGlzLmxheWVyID09PSAwKSB7XG4gICAgICAgICAgICBTb3J0YWJsZS5hY3RpdmUuX29uVG91Y2hNb3ZlKHRvdWNoRXZ0JDEpOyAvLyBUbyBtb3ZlIGdob3N0IGlmIGl0IGlzIHBvc2l0aW9uZWQgYWJzb2x1dGVseVxuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNjcm9sbE9mZnNldFkgPSBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eSA/IGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLnZ5ICogc3BlZWQgOiAwO1xuICAgICAgICAgIHZhciBzY3JvbGxPZmZzZXRYID0gYXV0b1Njcm9sbHNbdGhpcy5sYXllcl0udnggPyBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS52eCAqIHNwZWVkIDogMDtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygc2Nyb2xsQ3VzdG9tRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChzY3JvbGxDdXN0b21Gbi5jYWxsKFNvcnRhYmxlLmRyYWdnZWQucGFyZW50Tm9kZVtleHBhbmRvXSwgc2Nyb2xsT2Zmc2V0WCwgc2Nyb2xsT2Zmc2V0WSwgZXZ0LCB0b3VjaEV2dCQxLCBhdXRvU2Nyb2xsc1t0aGlzLmxheWVyXS5lbCkgIT09ICdjb250aW51ZScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNjcm9sbEJ5KGF1dG9TY3JvbGxzW3RoaXMubGF5ZXJdLmVsLCBzY3JvbGxPZmZzZXRYLCBzY3JvbGxPZmZzZXRZKTtcbiAgICAgICAgfS5iaW5kKHtcbiAgICAgICAgICBsYXllcjogbGF5ZXJzT3V0XG4gICAgICAgIH0pLCAyNCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGF5ZXJzT3V0Kys7XG4gIH0gd2hpbGUgKG9wdGlvbnMuYnViYmxlU2Nyb2xsICYmIGN1cnJlbnRQYXJlbnQgIT09IHdpblNjcm9sbGVyICYmIChjdXJyZW50UGFyZW50ID0gZ2V0UGFyZW50QXV0b1Njcm9sbEVsZW1lbnQoY3VycmVudFBhcmVudCwgZmFsc2UpKSk7XG5cbiAgc2Nyb2xsaW5nID0gc2Nyb2xsVGhpc0luc3RhbmNlOyAvLyBpbiBjYXNlIGFub3RoZXIgZnVuY3Rpb24gY2F0Y2hlcyBzY3JvbGxpbmcgYXMgZmFsc2UgaW4gYmV0d2VlbiB3aGVuIGl0IGlzIG5vdFxufSwgMzApO1xuXG52YXIgZHJvcCA9IGZ1bmN0aW9uIGRyb3AoX3JlZikge1xuICB2YXIgb3JpZ2luYWxFdmVudCA9IF9yZWYub3JpZ2luYWxFdmVudCxcbiAgICAgIHB1dFNvcnRhYmxlID0gX3JlZi5wdXRTb3J0YWJsZSxcbiAgICAgIGRyYWdFbCA9IF9yZWYuZHJhZ0VsLFxuICAgICAgYWN0aXZlU29ydGFibGUgPSBfcmVmLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50ID0gX3JlZi5kaXNwYXRjaFNvcnRhYmxlRXZlbnQsXG4gICAgICBoaWRlR2hvc3RGb3JUYXJnZXQgPSBfcmVmLmhpZGVHaG9zdEZvclRhcmdldCxcbiAgICAgIHVuaGlkZUdob3N0Rm9yVGFyZ2V0ID0gX3JlZi51bmhpZGVHaG9zdEZvclRhcmdldDtcbiAgaWYgKCFvcmlnaW5hbEV2ZW50KSByZXR1cm47XG4gIHZhciB0b1NvcnRhYmxlID0gcHV0U29ydGFibGUgfHwgYWN0aXZlU29ydGFibGU7XG4gIGhpZGVHaG9zdEZvclRhcmdldCgpO1xuICB2YXIgdG91Y2ggPSBvcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzICYmIG9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID8gb3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IG9yaWdpbmFsRXZlbnQ7XG4gIHZhciB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICB1bmhpZGVHaG9zdEZvclRhcmdldCgpO1xuXG4gIGlmICh0b1NvcnRhYmxlICYmICF0b1NvcnRhYmxlLmVsLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICBkaXNwYXRjaFNvcnRhYmxlRXZlbnQoJ3NwaWxsJyk7XG4gICAgdGhpcy5vblNwaWxsKHtcbiAgICAgIGRyYWdFbDogZHJhZ0VsLFxuICAgICAgcHV0U29ydGFibGU6IHB1dFNvcnRhYmxlXG4gICAgfSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFJldmVydCgpIHt9XG5cblJldmVydC5wcm90b3R5cGUgPSB7XG4gIHN0YXJ0SW5kZXg6IG51bGwsXG4gIGRyYWdTdGFydDogZnVuY3Rpb24gZHJhZ1N0YXJ0KF9yZWYyKSB7XG4gICAgdmFyIG9sZERyYWdnYWJsZUluZGV4ID0gX3JlZjIub2xkRHJhZ2dhYmxlSW5kZXg7XG4gICAgdGhpcy5zdGFydEluZGV4ID0gb2xkRHJhZ2dhYmxlSW5kZXg7XG4gIH0sXG4gIG9uU3BpbGw6IGZ1bmN0aW9uIG9uU3BpbGwoX3JlZjMpIHtcbiAgICB2YXIgZHJhZ0VsID0gX3JlZjMuZHJhZ0VsLFxuICAgICAgICBwdXRTb3J0YWJsZSA9IF9yZWYzLnB1dFNvcnRhYmxlO1xuICAgIHRoaXMuc29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG5cbiAgICBpZiAocHV0U29ydGFibGUpIHtcbiAgICAgIHB1dFNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgIH1cblxuICAgIHZhciBuZXh0U2libGluZyA9IGdldENoaWxkKHRoaXMuc29ydGFibGUuZWwsIHRoaXMuc3RhcnRJbmRleCwgdGhpcy5vcHRpb25zKTtcblxuICAgIGlmIChuZXh0U2libGluZykge1xuICAgICAgdGhpcy5zb3J0YWJsZS5lbC5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBuZXh0U2libGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc29ydGFibGUuZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcbiAgICB9XG5cbiAgICB0aGlzLnNvcnRhYmxlLmFuaW1hdGVBbGwoKTtcblxuICAgIGlmIChwdXRTb3J0YWJsZSkge1xuICAgICAgcHV0U29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgIH1cbiAgfSxcbiAgZHJvcDogZHJvcFxufTtcblxuX2V4dGVuZHMoUmV2ZXJ0LCB7XG4gIHBsdWdpbk5hbWU6ICdyZXZlcnRPblNwaWxsJ1xufSk7XG5cbmZ1bmN0aW9uIFJlbW92ZSgpIHt9XG5cblJlbW92ZS5wcm90b3R5cGUgPSB7XG4gIG9uU3BpbGw6IGZ1bmN0aW9uIG9uU3BpbGwoX3JlZjQpIHtcbiAgICB2YXIgZHJhZ0VsID0gX3JlZjQuZHJhZ0VsLFxuICAgICAgICBwdXRTb3J0YWJsZSA9IF9yZWY0LnB1dFNvcnRhYmxlO1xuICAgIHZhciBwYXJlbnRTb3J0YWJsZSA9IHB1dFNvcnRhYmxlIHx8IHRoaXMuc29ydGFibGU7XG4gICAgcGFyZW50U29ydGFibGUuY2FwdHVyZUFuaW1hdGlvblN0YXRlKCk7XG4gICAgZHJhZ0VsLnBhcmVudE5vZGUgJiYgZHJhZ0VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZHJhZ0VsKTtcbiAgICBwYXJlbnRTb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gIH0sXG4gIGRyb3A6IGRyb3Bcbn07XG5cbl9leHRlbmRzKFJlbW92ZSwge1xuICBwbHVnaW5OYW1lOiAncmVtb3ZlT25TcGlsbCdcbn0pO1xuXG52YXIgT25TcGlsbCA9IFtSZW1vdmUsIFJldmVydF07XG5cbnZhciBsYXN0U3dhcEVsO1xuXG5mdW5jdGlvbiBTd2FwUGx1Z2luKCkge1xuICBmdW5jdGlvbiBTd2FwKCkge1xuICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICBzd2FwQ2xhc3M6ICdzb3J0YWJsZS1zd2FwLWhpZ2hsaWdodCdcbiAgICB9O1xuICB9XG5cbiAgU3dhcC5wcm90b3R5cGUgPSB7XG4gICAgZHJhZ1N0YXJ0OiBmdW5jdGlvbiBkcmFnU3RhcnQoX3JlZikge1xuICAgICAgdmFyIGRyYWdFbCA9IF9yZWYuZHJhZ0VsO1xuICAgICAgbGFzdFN3YXBFbCA9IGRyYWdFbDtcbiAgICB9LFxuICAgIGRyYWdPdmVyVmFsaWQ6IGZ1bmN0aW9uIGRyYWdPdmVyVmFsaWQoX3JlZjIpIHtcbiAgICAgIHZhciBjb21wbGV0ZWQgPSBfcmVmMi5jb21wbGV0ZWQsXG4gICAgICAgICAgdGFyZ2V0ID0gX3JlZjIudGFyZ2V0LFxuICAgICAgICAgIG9uTW92ZSA9IF9yZWYyLm9uTW92ZSxcbiAgICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IF9yZWYyLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgICAgIGNoYW5nZWQgPSBfcmVmMi5jaGFuZ2VkLFxuICAgICAgICAgIGNhbmNlbCA9IF9yZWYyLmNhbmNlbDtcbiAgICAgIGlmICghYWN0aXZlU29ydGFibGUub3B0aW9ucy5zd2FwKSByZXR1cm47XG4gICAgICB2YXIgZWwgPSB0aGlzLnNvcnRhYmxlLmVsLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICB2YXIgcHJldlN3YXBFbCA9IGxhc3RTd2FwRWw7XG5cbiAgICAgICAgaWYgKG9uTW92ZSh0YXJnZXQpICE9PSBmYWxzZSkge1xuICAgICAgICAgIHRvZ2dsZUNsYXNzKHRhcmdldCwgb3B0aW9ucy5zd2FwQ2xhc3MsIHRydWUpO1xuICAgICAgICAgIGxhc3RTd2FwRWwgPSB0YXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFN3YXBFbCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJldlN3YXBFbCAmJiBwcmV2U3dhcEVsICE9PSBsYXN0U3dhcEVsKSB7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3MocHJldlN3YXBFbCwgb3B0aW9ucy5zd2FwQ2xhc3MsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGFuZ2VkKCk7XG4gICAgICBjb21wbGV0ZWQodHJ1ZSk7XG4gICAgICBjYW5jZWwoKTtcbiAgICB9LFxuICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoX3JlZjMpIHtcbiAgICAgIHZhciBhY3RpdmVTb3J0YWJsZSA9IF9yZWYzLmFjdGl2ZVNvcnRhYmxlLFxuICAgICAgICAgIHB1dFNvcnRhYmxlID0gX3JlZjMucHV0U29ydGFibGUsXG4gICAgICAgICAgZHJhZ0VsID0gX3JlZjMuZHJhZ0VsO1xuICAgICAgdmFyIHRvU29ydGFibGUgPSBwdXRTb3J0YWJsZSB8fCB0aGlzLnNvcnRhYmxlO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICBsYXN0U3dhcEVsICYmIHRvZ2dsZUNsYXNzKGxhc3RTd2FwRWwsIG9wdGlvbnMuc3dhcENsYXNzLCBmYWxzZSk7XG5cbiAgICAgIGlmIChsYXN0U3dhcEVsICYmIChvcHRpb25zLnN3YXAgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUub3B0aW9ucy5zd2FwKSkge1xuICAgICAgICBpZiAoZHJhZ0VsICE9PSBsYXN0U3dhcEVsKSB7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcbiAgICAgICAgICBpZiAodG9Tb3J0YWJsZSAhPT0gYWN0aXZlU29ydGFibGUpIGFjdGl2ZVNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuICAgICAgICAgIHN3YXBOb2RlcyhkcmFnRWwsIGxhc3RTd2FwRWwpO1xuICAgICAgICAgIHRvU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICAgIGlmICh0b1NvcnRhYmxlICE9PSBhY3RpdmVTb3J0YWJsZSkgYWN0aXZlU29ydGFibGUuYW5pbWF0ZUFsbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBudWxsaW5nOiBmdW5jdGlvbiBudWxsaW5nKCkge1xuICAgICAgbGFzdFN3YXBFbCA9IG51bGw7XG4gICAgfVxuICB9O1xuICByZXR1cm4gX2V4dGVuZHMoU3dhcCwge1xuICAgIHBsdWdpbk5hbWU6ICdzd2FwJyxcbiAgICBldmVudFByb3BlcnRpZXM6IGZ1bmN0aW9uIGV2ZW50UHJvcGVydGllcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN3YXBJdGVtOiBsYXN0U3dhcEVsXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHN3YXBOb2RlcyhuMSwgbjIpIHtcbiAgdmFyIHAxID0gbjEucGFyZW50Tm9kZSxcbiAgICAgIHAyID0gbjIucGFyZW50Tm9kZSxcbiAgICAgIGkxLFxuICAgICAgaTI7XG4gIGlmICghcDEgfHwgIXAyIHx8IHAxLmlzRXF1YWxOb2RlKG4yKSB8fCBwMi5pc0VxdWFsTm9kZShuMSkpIHJldHVybjtcbiAgaTEgPSBpbmRleChuMSk7XG4gIGkyID0gaW5kZXgobjIpO1xuXG4gIGlmIChwMS5pc0VxdWFsTm9kZShwMikgJiYgaTEgPCBpMikge1xuICAgIGkyKys7XG4gIH1cblxuICBwMS5pbnNlcnRCZWZvcmUobjIsIHAxLmNoaWxkcmVuW2kxXSk7XG4gIHAyLmluc2VydEJlZm9yZShuMSwgcDIuY2hpbGRyZW5baTJdKTtcbn1cblxudmFyIG11bHRpRHJhZ0VsZW1lbnRzID0gW10sXG4gICAgbXVsdGlEcmFnQ2xvbmVzID0gW10sXG4gICAgbGFzdE11bHRpRHJhZ1NlbGVjdCxcbiAgICAvLyBmb3Igc2VsZWN0aW9uIHdpdGggbW9kaWZpZXIga2V5IGRvd24gKFNISUZUKVxubXVsdGlEcmFnU29ydGFibGUsXG4gICAgaW5pdGlhbEZvbGRpbmcgPSBmYWxzZSxcbiAgICAvLyBJbml0aWFsIG11bHRpLWRyYWcgZm9sZCB3aGVuIGRyYWcgc3RhcnRlZFxuZm9sZGluZyA9IGZhbHNlLFxuICAgIC8vIEZvbGRpbmcgYW55IG90aGVyIHRpbWVcbmRyYWdTdGFydGVkID0gZmFsc2UsXG4gICAgZHJhZ0VsJDEsXG4gICAgY2xvbmVzRnJvbVJlY3QsXG4gICAgY2xvbmVzSGlkZGVuO1xuXG5mdW5jdGlvbiBNdWx0aURyYWdQbHVnaW4oKSB7XG4gIGZ1bmN0aW9uIE11bHRpRHJhZyhzb3J0YWJsZSkge1xuICAgIC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuICAgIGZvciAodmFyIGZuIGluIHRoaXMpIHtcbiAgICAgIGlmIChmbi5jaGFyQXQoMCkgPT09ICdfJyAmJiB0eXBlb2YgdGhpc1tmbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzb3J0YWJsZS5vcHRpb25zLnN1cHBvcnRQb2ludGVyKSB7XG4gICAgICBvbihkb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKTtcbiAgICB9XG5cbiAgICBvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9jaGVja0tleURvd24pO1xuICAgIG9uKGRvY3VtZW50LCAna2V5dXAnLCB0aGlzLl9jaGVja0tleVVwKTtcbiAgICB0aGlzLmRlZmF1bHRzID0ge1xuICAgICAgc2VsZWN0ZWRDbGFzczogJ3NvcnRhYmxlLXNlbGVjdGVkJyxcbiAgICAgIG11bHRpRHJhZ0tleTogbnVsbCxcbiAgICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAnJztcblxuICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoICYmIG11bHRpRHJhZ1NvcnRhYmxlID09PSBzb3J0YWJsZSkge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQsIGkpIHtcbiAgICAgICAgICAgIGRhdGEgKz0gKCFpID8gJycgOiAnLCAnKSArIG11bHRpRHJhZ0VsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGRyYWdFbC50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFUcmFuc2Zlci5zZXREYXRhKCdUZXh0JywgZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIE11bHRpRHJhZy5wcm90b3R5cGUgPSB7XG4gICAgbXVsdGlEcmFnS2V5RG93bjogZmFsc2UsXG4gICAgaXNNdWx0aURyYWc6IGZhbHNlLFxuICAgIGRlbGF5U3RhcnRHbG9iYWw6IGZ1bmN0aW9uIGRlbGF5U3RhcnRHbG9iYWwoX3JlZikge1xuICAgICAgdmFyIGRyYWdnZWQgPSBfcmVmLmRyYWdFbDtcbiAgICAgIGRyYWdFbCQxID0gZHJhZ2dlZDtcbiAgICB9LFxuICAgIGRlbGF5RW5kZWQ6IGZ1bmN0aW9uIGRlbGF5RW5kZWQoKSB7XG4gICAgICB0aGlzLmlzTXVsdGlEcmFnID0gfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpO1xuICAgIH0sXG4gICAgc2V0dXBDbG9uZTogZnVuY3Rpb24gc2V0dXBDbG9uZShfcmVmMikge1xuICAgICAgdmFyIHNvcnRhYmxlID0gX3JlZjIuc29ydGFibGUsXG4gICAgICAgICAgY2FuY2VsID0gX3JlZjIuY2FuY2VsO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzLnB1c2goY2xvbmUobXVsdGlEcmFnRWxlbWVudHNbaV0pKTtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzW2ldLnNvcnRhYmxlSW5kZXggPSBtdWx0aURyYWdFbGVtZW50c1tpXS5zb3J0YWJsZUluZGV4O1xuICAgICAgICBtdWx0aURyYWdDbG9uZXNbaV0uZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIG11bHRpRHJhZ0Nsb25lc1tpXS5zdHlsZVsnd2lsbC1jaGFuZ2UnXSA9ICcnO1xuICAgICAgICB0b2dnbGVDbGFzcyhtdWx0aURyYWdDbG9uZXNbaV0sIHRoaXMub3B0aW9ucy5zZWxlY3RlZENsYXNzLCBmYWxzZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzW2ldID09PSBkcmFnRWwkMSAmJiB0b2dnbGVDbGFzcyhtdWx0aURyYWdDbG9uZXNbaV0sIHRoaXMub3B0aW9ucy5jaG9zZW5DbGFzcywgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBzb3J0YWJsZS5faGlkZUNsb25lKCk7XG5cbiAgICAgIGNhbmNlbCgpO1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKF9yZWYzKSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmMy5zb3J0YWJsZSxcbiAgICAgICAgICByb290RWwgPSBfcmVmMy5yb290RWwsXG4gICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50ID0gX3JlZjMuZGlzcGF0Y2hTb3J0YWJsZUV2ZW50LFxuICAgICAgICAgIGNhbmNlbCA9IF9yZWYzLmNhbmNlbDtcbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZykgcmV0dXJuO1xuXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5yZW1vdmVDbG9uZU9uSGlkZSkge1xuICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoICYmIG11bHRpRHJhZ1NvcnRhYmxlID09PSBzb3J0YWJsZSkge1xuICAgICAgICAgIGluc2VydE11bHRpRHJhZ0Nsb25lcyh0cnVlLCByb290RWwpO1xuICAgICAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCgnY2xvbmUnKTtcbiAgICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd0Nsb25lOiBmdW5jdGlvbiBzaG93Q2xvbmUoX3JlZjQpIHtcbiAgICAgIHZhciBjbG9uZU5vd1Nob3duID0gX3JlZjQuY2xvbmVOb3dTaG93bixcbiAgICAgICAgICByb290RWwgPSBfcmVmNC5yb290RWwsXG4gICAgICAgICAgY2FuY2VsID0gX3JlZjQuY2FuY2VsO1xuICAgICAgaWYgKCF0aGlzLmlzTXVsdGlEcmFnKSByZXR1cm47XG4gICAgICBpbnNlcnRNdWx0aURyYWdDbG9uZXMoZmFsc2UsIHJvb3RFbCk7XG4gICAgICBtdWx0aURyYWdDbG9uZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgICAgY3NzKGNsb25lLCAnZGlzcGxheScsICcnKTtcbiAgICAgIH0pO1xuICAgICAgY2xvbmVOb3dTaG93bigpO1xuICAgICAgY2xvbmVzSGlkZGVuID0gZmFsc2U7XG4gICAgICBjYW5jZWwoKTtcbiAgICB9LFxuICAgIGhpZGVDbG9uZTogZnVuY3Rpb24gaGlkZUNsb25lKF9yZWY1KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmNS5zb3J0YWJsZSxcbiAgICAgICAgICBjbG9uZU5vd0hpZGRlbiA9IF9yZWY1LmNsb25lTm93SGlkZGVuLFxuICAgICAgICAgIGNhbmNlbCA9IF9yZWY1LmNhbmNlbDtcbiAgICAgIGlmICghdGhpcy5pc011bHRpRHJhZykgcmV0dXJuO1xuICAgICAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgIGNzcyhjbG9uZSwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLnJlbW92ZUNsb25lT25IaWRlICYmIGNsb25lLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjbG9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjbG9uZU5vd0hpZGRlbigpO1xuICAgICAgY2xvbmVzSGlkZGVuID0gdHJ1ZTtcbiAgICAgIGNhbmNlbCgpO1xuICAgIH0sXG4gICAgZHJhZ1N0YXJ0R2xvYmFsOiBmdW5jdGlvbiBkcmFnU3RhcnRHbG9iYWwoX3JlZjYpIHtcbiAgICAgIHZhciBzb3J0YWJsZSA9IF9yZWY2LnNvcnRhYmxlO1xuXG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcgJiYgbXVsdGlEcmFnU29ydGFibGUpIHtcbiAgICAgICAgbXVsdGlEcmFnU29ydGFibGUubXVsdGlEcmFnLl9kZXNlbGVjdE11bHRpRHJhZygpO1xuICAgICAgfVxuXG4gICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnQuc29ydGFibGVJbmRleCA9IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgfSk7IC8vIFNvcnQgbXVsdGktZHJhZyBlbGVtZW50c1xuXG4gICAgICBtdWx0aURyYWdFbGVtZW50cyA9IG11bHRpRHJhZ0VsZW1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuc29ydGFibGVJbmRleCAtIGIuc29ydGFibGVJbmRleDtcbiAgICAgIH0pO1xuICAgICAgZHJhZ1N0YXJ0ZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uIGRyYWdTdGFydGVkKF9yZWY3KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHNvcnRhYmxlID0gX3JlZjcuc29ydGFibGU7XG4gICAgICBpZiAoIXRoaXMuaXNNdWx0aURyYWcpIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIC8vIENhcHR1cmUgcmVjdHMsXG4gICAgICAgIC8vIGhpZGUgbXVsdGkgZHJhZyBlbGVtZW50cyAoYnkgcG9zaXRpb25pbmcgdGhlbSBhYnNvbHV0ZSksXG4gICAgICAgIC8vIHNldCBtdWx0aSBkcmFnIGVsZW1lbnRzIHJlY3RzIHRvIGRyYWdSZWN0LFxuICAgICAgICAvLyBzaG93IG11bHRpIGRyYWcgZWxlbWVudHMsXG4gICAgICAgIC8vIGFuaW1hdGUgdG8gcmVjdHMsXG4gICAgICAgIC8vIHVuc2V0IHJlY3RzICYgcmVtb3ZlIGZyb20gRE9NXG4gICAgICAgIHNvcnRhYmxlLmNhcHR1cmVBbmltYXRpb25TdGF0ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgPT09IGRyYWdFbCQxKSByZXR1cm47XG4gICAgICAgICAgICBjc3MobXVsdGlEcmFnRWxlbWVudCwgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGRyYWdSZWN0ID0gZ2V0UmVjdChkcmFnRWwkMSwgZmFsc2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aURyYWdFbGVtZW50ID09PSBkcmFnRWwkMSkgcmV0dXJuO1xuICAgICAgICAgICAgc2V0UmVjdChtdWx0aURyYWdFbGVtZW50LCBkcmFnUmVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9sZGluZyA9IHRydWU7XG4gICAgICAgICAgaW5pdGlhbEZvbGRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNvcnRhYmxlLmFuaW1hdGVBbGwoZnVuY3Rpb24gKCkge1xuICAgICAgICBmb2xkaW5nID0gZmFsc2U7XG4gICAgICAgIGluaXRpYWxGb2xkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKF90aGlzMi5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHVuc2V0UmVjdChtdWx0aURyYWdFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSAvLyBSZW1vdmUgYWxsIGF1eGlsaWFyeSBtdWx0aWRyYWcgaXRlbXMgZnJvbSBlbCwgaWYgc29ydGluZyBlbmFibGVkXG5cblxuICAgICAgICBpZiAoX3RoaXMyLm9wdGlvbnMuc29ydCkge1xuICAgICAgICAgIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZHJhZ092ZXI6IGZ1bmN0aW9uIGRyYWdPdmVyKF9yZWY4KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gX3JlZjgudGFyZ2V0LFxuICAgICAgICAgIGNvbXBsZXRlZCA9IF9yZWY4LmNvbXBsZXRlZCxcbiAgICAgICAgICBjYW5jZWwgPSBfcmVmOC5jYW5jZWw7XG5cbiAgICAgIGlmIChmb2xkaW5nICYmIH5tdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKHRhcmdldCkpIHtcbiAgICAgICAgY29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXZlcnQ6IGZ1bmN0aW9uIHJldmVydChfcmVmOSkge1xuICAgICAgdmFyIGZyb21Tb3J0YWJsZSA9IF9yZWY5LmZyb21Tb3J0YWJsZSxcbiAgICAgICAgICByb290RWwgPSBfcmVmOS5yb290RWwsXG4gICAgICAgICAgc29ydGFibGUgPSBfcmVmOS5zb3J0YWJsZSxcbiAgICAgICAgICBkcmFnUmVjdCA9IF9yZWY5LmRyYWdSZWN0O1xuXG4gICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBTZXR1cCB1bmZvbGQgYW5pbWF0aW9uXG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICBzb3J0YWJsZS5hZGRBbmltYXRpb25TdGF0ZSh7XG4gICAgICAgICAgICB0YXJnZXQ6IG11bHRpRHJhZ0VsZW1lbnQsXG4gICAgICAgICAgICByZWN0OiBmb2xkaW5nID8gZ2V0UmVjdChtdWx0aURyYWdFbGVtZW50KSA6IGRyYWdSZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdW5zZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnQuZnJvbVJlY3QgPSBkcmFnUmVjdDtcbiAgICAgICAgICBmcm9tU29ydGFibGUucmVtb3ZlQW5pbWF0aW9uU3RhdGUobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb2xkaW5nID0gZmFsc2U7XG4gICAgICAgIGluc2VydE11bHRpRHJhZ0VsZW1lbnRzKCF0aGlzLm9wdGlvbnMucmVtb3ZlQ2xvbmVPbkhpZGUsIHJvb3RFbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckNvbXBsZXRlZDogZnVuY3Rpb24gZHJhZ092ZXJDb21wbGV0ZWQoX3JlZjEwKSB7XG4gICAgICB2YXIgc29ydGFibGUgPSBfcmVmMTAuc29ydGFibGUsXG4gICAgICAgICAgaXNPd25lciA9IF9yZWYxMC5pc093bmVyLFxuICAgICAgICAgIGluc2VydGlvbiA9IF9yZWYxMC5pbnNlcnRpb24sXG4gICAgICAgICAgYWN0aXZlU29ydGFibGUgPSBfcmVmMTAuYWN0aXZlU29ydGFibGUsXG4gICAgICAgICAgcGFyZW50RWwgPSBfcmVmMTAucGFyZW50RWwsXG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmMTAucHV0U29ydGFibGU7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgaWYgKGluc2VydGlvbikge1xuICAgICAgICAvLyBDbG9uZXMgbXVzdCBiZSBoaWRkZW4gYmVmb3JlIGZvbGRpbmcgYW5pbWF0aW9uIHRvIGNhcHR1cmUgZHJhZ1JlY3RBYnNvbHV0ZSBwcm9wZXJseVxuICAgICAgICBpZiAoaXNPd25lcikge1xuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9oaWRlQ2xvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluaXRpYWxGb2xkaW5nID0gZmFsc2U7IC8vIElmIGxlYXZpbmcgc29ydDpmYWxzZSByb290LCBvciBhbHJlYWR5IGZvbGRpbmcgLSBGb2xkIHRvIG5ldyBsb2NhdGlvblxuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbiAmJiBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxICYmIChmb2xkaW5nIHx8ICFpc093bmVyICYmICFhY3RpdmVTb3J0YWJsZS5vcHRpb25zLnNvcnQgJiYgIXB1dFNvcnRhYmxlKSkge1xuICAgICAgICAgIC8vIEZvbGQ6IFNldCBhbGwgbXVsdGkgZHJhZyBlbGVtZW50cydzIHJlY3RzIHRvIGRyYWdFbCdzIHJlY3Qgd2hlbiBtdWx0aS1kcmFnIGVsZW1lbnRzIGFyZSBpbnZpc2libGVcbiAgICAgICAgICB2YXIgZHJhZ1JlY3RBYnNvbHV0ZSA9IGdldFJlY3QoZHJhZ0VsJDEsIGZhbHNlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudCA9PT0gZHJhZ0VsJDEpIHJldHVybjtcbiAgICAgICAgICAgIHNldFJlY3QobXVsdGlEcmFnRWxlbWVudCwgZHJhZ1JlY3RBYnNvbHV0ZSk7IC8vIE1vdmUgZWxlbWVudChzKSB0byBlbmQgb2YgcGFyZW50RWwgc28gdGhhdCBpdCBkb2VzIG5vdCBpbnRlcmZlcmUgd2l0aCBtdWx0aS1kcmFnIGNsb25lcyBpbnNlcnRpb24gaWYgdGhleSBhcmUgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIHdoaWxlIGZvbGRpbmcsIGFuZCBzbyB0aGF0IHdlIGNhbiBjYXB0dXJlIHRoZW0gYWdhaW4gYmVjYXVzZSBvbGQgc29ydGFibGUgd2lsbCBubyBsb25nZXIgYmUgZnJvbVNvcnRhYmxlXG5cbiAgICAgICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvbGRpbmcgPSB0cnVlO1xuICAgICAgICB9IC8vIENsb25lcyBtdXN0IGJlIHNob3duIChhbmQgY2hlY2sgdG8gcmVtb3ZlIG11bHRpIGRyYWdzKSBhZnRlciBmb2xkaW5nIHdoZW4gaW50ZXJmZXJpbmcgbXVsdGlEcmFnRWxlbWVudHMgYXJlIG1vdmVkIG91dFxuXG5cbiAgICAgICAgaWYgKCFpc093bmVyKSB7XG4gICAgICAgICAgLy8gT25seSByZW1vdmUgaWYgbm90IGZvbGRpbmcgKGZvbGRpbmcgd2lsbCByZW1vdmUgdGhlbSBhbnl3YXlzKVxuICAgICAgICAgIGlmICghZm9sZGluZykge1xuICAgICAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobXVsdGlEcmFnRWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdmFyIGNsb25lc0hpZGRlbkJlZm9yZSA9IGNsb25lc0hpZGRlbjtcblxuICAgICAgICAgICAgYWN0aXZlU29ydGFibGUuX3Nob3dDbG9uZShzb3J0YWJsZSk7IC8vIFVuZm9sZCBhbmltYXRpb24gZm9yIGNsb25lcyBpZiBzaG93aW5nIGZyb20gaGlkZGVuXG5cblxuICAgICAgICAgICAgaWYgKGFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuYW5pbWF0aW9uICYmICFjbG9uZXNIaWRkZW4gJiYgY2xvbmVzSGlkZGVuQmVmb3JlKSB7XG4gICAgICAgICAgICAgIG11bHRpRHJhZ0Nsb25lcy5mb3JFYWNoKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLmFkZEFuaW1hdGlvblN0YXRlKHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogY2xvbmUsXG4gICAgICAgICAgICAgICAgICByZWN0OiBjbG9uZXNGcm9tUmVjdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNsb25lLmZyb21SZWN0ID0gY2xvbmVzRnJvbVJlY3Q7XG4gICAgICAgICAgICAgICAgY2xvbmUudGhpc0FuaW1hdGlvbkR1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlLl9zaG93Q2xvbmUoc29ydGFibGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZHJhZ092ZXJBbmltYXRpb25DYXB0dXJlOiBmdW5jdGlvbiBkcmFnT3ZlckFuaW1hdGlvbkNhcHR1cmUoX3JlZjExKSB7XG4gICAgICB2YXIgZHJhZ1JlY3QgPSBfcmVmMTEuZHJhZ1JlY3QsXG4gICAgICAgICAgaXNPd25lciA9IF9yZWYxMS5pc093bmVyLFxuICAgICAgICAgIGFjdGl2ZVNvcnRhYmxlID0gX3JlZjExLmFjdGl2ZVNvcnRhYmxlO1xuICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50LnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFjdGl2ZVNvcnRhYmxlLm9wdGlvbnMuYW5pbWF0aW9uICYmICFpc093bmVyICYmIGFjdGl2ZVNvcnRhYmxlLm11bHRpRHJhZy5pc011bHRpRHJhZykge1xuICAgICAgICBjbG9uZXNGcm9tUmVjdCA9IF9leHRlbmRzKHt9LCBkcmFnUmVjdCk7XG4gICAgICAgIHZhciBkcmFnTWF0cml4ID0gbWF0cml4KGRyYWdFbCQxLCB0cnVlKTtcbiAgICAgICAgY2xvbmVzRnJvbVJlY3QudG9wIC09IGRyYWdNYXRyaXguZjtcbiAgICAgICAgY2xvbmVzRnJvbVJlY3QubGVmdCAtPSBkcmFnTWF0cml4LmU7XG4gICAgICB9XG4gICAgfSxcbiAgICBkcmFnT3ZlckFuaW1hdGlvbkNvbXBsZXRlOiBmdW5jdGlvbiBkcmFnT3ZlckFuaW1hdGlvbkNvbXBsZXRlKCkge1xuICAgICAgaWYgKGZvbGRpbmcpIHtcbiAgICAgICAgZm9sZGluZyA9IGZhbHNlO1xuICAgICAgICByZW1vdmVNdWx0aURyYWdFbGVtZW50cygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZHJvcDogZnVuY3Rpb24gZHJvcChfcmVmMTIpIHtcbiAgICAgIHZhciBldnQgPSBfcmVmMTIub3JpZ2luYWxFdmVudCxcbiAgICAgICAgICByb290RWwgPSBfcmVmMTIucm9vdEVsLFxuICAgICAgICAgIHBhcmVudEVsID0gX3JlZjEyLnBhcmVudEVsLFxuICAgICAgICAgIHNvcnRhYmxlID0gX3JlZjEyLnNvcnRhYmxlLFxuICAgICAgICAgIGRpc3BhdGNoU29ydGFibGVFdmVudCA9IF9yZWYxMi5kaXNwYXRjaFNvcnRhYmxlRXZlbnQsXG4gICAgICAgICAgb2xkSW5kZXggPSBfcmVmMTIub2xkSW5kZXgsXG4gICAgICAgICAgcHV0U29ydGFibGUgPSBfcmVmMTIucHV0U29ydGFibGU7XG4gICAgICB2YXIgdG9Tb3J0YWJsZSA9IHB1dFNvcnRhYmxlIHx8IHRoaXMuc29ydGFibGU7XG4gICAgICBpZiAoIWV2dCkgcmV0dXJuO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBwYXJlbnRFbC5jaGlsZHJlbjsgLy8gTXVsdGktZHJhZyBzZWxlY3Rpb25cblxuICAgICAgaWYgKCFkcmFnU3RhcnRlZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5tdWx0aURyYWdLZXkgJiYgIXRoaXMubXVsdGlEcmFnS2V5RG93bikge1xuICAgICAgICAgIHRoaXMuX2Rlc2VsZWN0TXVsdGlEcmFnKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVDbGFzcyhkcmFnRWwkMSwgb3B0aW9ucy5zZWxlY3RlZENsYXNzLCAhfm11bHRpRHJhZ0VsZW1lbnRzLmluZGV4T2YoZHJhZ0VsJDEpKTtcblxuICAgICAgICBpZiAoIX5tdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGRyYWdFbCQxKSkge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnB1c2goZHJhZ0VsJDEpO1xuICAgICAgICAgIGRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICAgICAgcm9vdEVsOiByb290RWwsXG4gICAgICAgICAgICBuYW1lOiAnc2VsZWN0JyxcbiAgICAgICAgICAgIHRhcmdldEVsOiBkcmFnRWwkMSxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgICB9KTsgLy8gTW9kaWZpZXIgYWN0aXZhdGVkLCBzZWxlY3QgZnJvbSBsYXN0IHRvIGRyYWdFbFxuXG4gICAgICAgICAgaWYgKGV2dC5zaGlmdEtleSAmJiBsYXN0TXVsdGlEcmFnU2VsZWN0ICYmIHNvcnRhYmxlLmVsLmNvbnRhaW5zKGxhc3RNdWx0aURyYWdTZWxlY3QpKSB7XG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gaW5kZXgobGFzdE11bHRpRHJhZ1NlbGVjdCksXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gaW5kZXgoZHJhZ0VsJDEpO1xuXG4gICAgICAgICAgICBpZiAofmxhc3RJbmRleCAmJiB+Y3VycmVudEluZGV4ICYmIGxhc3RJbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgIC8vIE11c3QgaW5jbHVkZSBsYXN0TXVsdGlEcmFnU2VsZWN0IChzZWxlY3QgaXQpLCBpbiBjYXNlIG1vZGlmaWVkIHNlbGVjdGlvbiBmcm9tIG5vIHNlbGVjdGlvblxuICAgICAgICAgICAgICAvLyAoYnV0IHByZXZpb3VzIHNlbGVjdGlvbiBleGlzdGVkKVxuICAgICAgICAgICAgICB2YXIgbiwgaTtcblxuICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID4gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICBuID0gY3VycmVudEluZGV4O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgPSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgbiA9IGxhc3RJbmRleCArIDE7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihjaGlsZHJlbltpXSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGNoaWxkcmVuW2ldLCBvcHRpb25zLnNlbGVjdGVkQ2xhc3MsIHRydWUpO1xuICAgICAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgc29ydGFibGU6IHNvcnRhYmxlLFxuICAgICAgICAgICAgICAgICAgcm9vdEVsOiByb290RWwsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldEVsOiBjaGlsZHJlbltpXSxcbiAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZ0OiBldnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0TXVsdGlEcmFnU2VsZWN0ID0gZHJhZ0VsJDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUgPSB0b1NvcnRhYmxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNwbGljZShtdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGRyYWdFbCQxKSwgMSk7XG4gICAgICAgICAgbGFzdE11bHRpRHJhZ1NlbGVjdCA9IG51bGw7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICBzb3J0YWJsZTogc29ydGFibGUsXG4gICAgICAgICAgICByb290RWw6IHJvb3RFbCxcbiAgICAgICAgICAgIG5hbWU6ICdkZXNlbGVjdCcsXG4gICAgICAgICAgICB0YXJnZXRFbDogZHJhZ0VsJDEsXG4gICAgICAgICAgICBvcmlnaW5hbEV2dDogZXZ0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTXVsdGktZHJhZyBkcm9wXG5cblxuICAgICAgaWYgKGRyYWdTdGFydGVkICYmIHRoaXMuaXNNdWx0aURyYWcpIHtcbiAgICAgICAgLy8gRG8gbm90IFwidW5mb2xkXCIgYWZ0ZXIgYXJvdW5kIGRyYWdFbCBpZiByZXZlcnRlZFxuICAgICAgICBpZiAoKHBhcmVudEVsW2V4cGFuZG9dLm9wdGlvbnMuc29ydCB8fCBwYXJlbnRFbCAhPT0gcm9vdEVsKSAmJiBtdWx0aURyYWdFbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdmFyIGRyYWdSZWN0ID0gZ2V0UmVjdChkcmFnRWwkMSksXG4gICAgICAgICAgICAgIG11bHRpRHJhZ0luZGV4ID0gaW5kZXgoZHJhZ0VsJDEsICc6bm90KC4nICsgdGhpcy5vcHRpb25zLnNlbGVjdGVkQ2xhc3MgKyAnKScpO1xuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcgJiYgb3B0aW9ucy5hbmltYXRpb24pIGRyYWdFbCQxLnRoaXNBbmltYXRpb25EdXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5jYXB0dXJlQW5pbWF0aW9uU3RhdGUoKTtcblxuICAgICAgICAgIGlmICghaW5pdGlhbEZvbGRpbmcpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICBkcmFnRWwkMS5mcm9tUmVjdCA9IGRyYWdSZWN0O1xuICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbXVsdGlEcmFnRWxlbWVudC50aGlzQW5pbWF0aW9uRHVyYXRpb24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgIT09IGRyYWdFbCQxKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IGZvbGRpbmcgPyBnZXRSZWN0KG11bHRpRHJhZ0VsZW1lbnQpIDogZHJhZ1JlY3Q7XG4gICAgICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50LmZyb21SZWN0ID0gcmVjdDsgLy8gUHJlcGFyZSB1bmZvbGQgYW5pbWF0aW9uXG5cbiAgICAgICAgICAgICAgICAgIHRvU29ydGFibGUuYWRkQW5pbWF0aW9uU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG11bHRpRHJhZ0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IHJlY3RcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IC8vIE11bHRpIGRyYWcgZWxlbWVudHMgYXJlIG5vdCBuZWNlc3NhcmlseSByZW1vdmVkIGZyb20gdGhlIERPTSBvbiBkcm9wLCBzbyB0byByZWluc2VydFxuICAgICAgICAgICAgLy8gcHJvcGVybHkgdGhleSBtdXN0IGFsbCBiZSByZW1vdmVkXG5cblxuICAgICAgICAgICAgcmVtb3ZlTXVsdGlEcmFnRWxlbWVudHMoKTtcbiAgICAgICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG11bHRpRHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuW211bHRpRHJhZ0luZGV4XSkge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50LCBjaGlsZHJlblttdWx0aURyYWdJbmRleF0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbXVsdGlEcmFnSW5kZXgrKztcbiAgICAgICAgICAgIH0pOyAvLyBJZiBpbml0aWFsIGZvbGRpbmcgaXMgZG9uZSwgdGhlIGVsZW1lbnRzIG1heSBoYXZlIGNoYW5nZWQgcG9zaXRpb24gYmVjYXVzZSB0aGV5IGFyZSBub3dcbiAgICAgICAgICAgIC8vIHVuZm9sZGluZyBhcm91bmQgZHJhZ0VsLCBldmVuIHRob3VnaCBkcmFnRWwgbWF5IG5vdCBoYXZlIGhpcyBpbmRleCBjaGFuZ2VkLCBzbyB1cGRhdGUgZXZlbnRcbiAgICAgICAgICAgIC8vIG11c3QgYmUgZmlyZWQgaGVyZSBhcyBTb3J0YWJsZSB3aWxsIG5vdC5cblxuICAgICAgICAgICAgaWYgKG9sZEluZGV4ID09PSBpbmRleChkcmFnRWwkMSkpIHtcbiAgICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQuc29ydGFibGVJbmRleCAhPT0gaW5kZXgobXVsdGlEcmFnRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hTb3J0YWJsZUV2ZW50KCd1cGRhdGUnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gTXVzdCBiZSBkb25lIGFmdGVyIGNhcHR1cmluZyBpbmRpdmlkdWFsIHJlY3RzIChzY3JvbGwgYmFyKVxuXG5cbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICB1bnNldFJlY3QobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdG9Tb3J0YWJsZS5hbmltYXRlQWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aURyYWdTb3J0YWJsZSA9IHRvU29ydGFibGU7XG4gICAgICB9IC8vIFJlbW92ZSBjbG9uZXMgaWYgbmVjZXNzYXJ5XG5cblxuICAgICAgaWYgKHJvb3RFbCA9PT0gcGFyZW50RWwgfHwgcHV0U29ydGFibGUgJiYgcHV0U29ydGFibGUubGFzdFB1dE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgICAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgICAgY2xvbmUucGFyZW50Tm9kZSAmJiBjbG9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBudWxsaW5nR2xvYmFsOiBmdW5jdGlvbiBudWxsaW5nR2xvYmFsKCkge1xuICAgICAgdGhpcy5pc011bHRpRHJhZyA9IGRyYWdTdGFydGVkID0gZmFsc2U7XG4gICAgICBtdWx0aURyYWdDbG9uZXMubGVuZ3RoID0gMDtcbiAgICB9LFxuICAgIGRlc3Ryb3lHbG9iYWw6IGZ1bmN0aW9uIGRlc3Ryb3lHbG9iYWwoKSB7XG4gICAgICB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZygpO1xuXG4gICAgICBvZmYoZG9jdW1lbnQsICdwb2ludGVydXAnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvZmYoZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fZGVzZWxlY3RNdWx0aURyYWcpO1xuICAgICAgb2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9kZXNlbGVjdE11bHRpRHJhZyk7XG4gICAgICBvZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fY2hlY2tLZXlEb3duKTtcbiAgICAgIG9mZihkb2N1bWVudCwgJ2tleXVwJywgdGhpcy5fY2hlY2tLZXlVcCk7XG4gICAgfSxcbiAgICBfZGVzZWxlY3RNdWx0aURyYWc6IGZ1bmN0aW9uIF9kZXNlbGVjdE11bHRpRHJhZyhldnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZHJhZ1N0YXJ0ZWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZHJhZ1N0YXJ0ZWQpIHJldHVybjsgLy8gT25seSBkZXNlbGVjdCBpZiBzZWxlY3Rpb24gaXMgaW4gdGhpcyBzb3J0YWJsZVxuXG4gICAgICBpZiAobXVsdGlEcmFnU29ydGFibGUgIT09IHRoaXMuc29ydGFibGUpIHJldHVybjsgLy8gT25seSBkZXNlbGVjdCBpZiB0YXJnZXQgaXMgbm90IGl0ZW0gaW4gdGhpcyBzb3J0YWJsZVxuXG4gICAgICBpZiAoZXZ0ICYmIGNsb3Nlc3QoZXZ0LnRhcmdldCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5zb3J0YWJsZS5lbCwgZmFsc2UpKSByZXR1cm47IC8vIE9ubHkgZGVzZWxlY3QgaWYgbGVmdCBjbGlja1xuXG4gICAgICBpZiAoZXZ0ICYmIGV2dC5idXR0b24gIT09IDApIHJldHVybjtcblxuICAgICAgd2hpbGUgKG11bHRpRHJhZ0VsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgZWwgPSBtdWx0aURyYWdFbGVtZW50c1swXTtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoZWwsIHRoaXMub3B0aW9ucy5zZWxlY3RlZENsYXNzLCBmYWxzZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNoaWZ0KCk7XG4gICAgICAgIGRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHNvcnRhYmxlOiB0aGlzLnNvcnRhYmxlLFxuICAgICAgICAgIHJvb3RFbDogdGhpcy5zb3J0YWJsZS5lbCxcbiAgICAgICAgICBuYW1lOiAnZGVzZWxlY3QnLFxuICAgICAgICAgIHRhcmdldEVsOiBlbCxcbiAgICAgICAgICBvcmlnaW5hbEV2dDogZXZ0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2NoZWNrS2V5RG93bjogZnVuY3Rpb24gX2NoZWNrS2V5RG93bihldnQpIHtcbiAgICAgIGlmIChldnQua2V5ID09PSB0aGlzLm9wdGlvbnMubXVsdGlEcmFnS2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGlEcmFnS2V5RG93biA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBfY2hlY2tLZXlVcDogZnVuY3Rpb24gX2NoZWNrS2V5VXAoZXZ0KSB7XG4gICAgICBpZiAoZXZ0LmtleSA9PT0gdGhpcy5vcHRpb25zLm11bHRpRHJhZ0tleSkge1xuICAgICAgICB0aGlzLm11bHRpRHJhZ0tleURvd24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcyhNdWx0aURyYWcsIHtcbiAgICAvLyBTdGF0aWMgbWV0aG9kcyAmIHByb3BlcnRpZXNcbiAgICBwbHVnaW5OYW1lOiAnbXVsdGlEcmFnJyxcbiAgICB1dGlsczoge1xuICAgICAgLyoqXHJcbiAgICAgICAqIFNlbGVjdHMgdGhlIHByb3ZpZGVkIG11bHRpLWRyYWcgaXRlbVxyXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgVGhlIGVsZW1lbnQgdG8gYmUgc2VsZWN0ZWRcclxuICAgICAgICovXG4gICAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChlbCkge1xuICAgICAgICB2YXIgc29ydGFibGUgPSBlbC5wYXJlbnROb2RlW2V4cGFuZG9dO1xuICAgICAgICBpZiAoIXNvcnRhYmxlIHx8ICFzb3J0YWJsZS5vcHRpb25zLm11bHRpRHJhZyB8fCB+bXVsdGlEcmFnRWxlbWVudHMuaW5kZXhPZihlbCkpIHJldHVybjtcblxuICAgICAgICBpZiAobXVsdGlEcmFnU29ydGFibGUgJiYgbXVsdGlEcmFnU29ydGFibGUgIT09IHNvcnRhYmxlKSB7XG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUubXVsdGlEcmFnLl9kZXNlbGVjdE11bHRpRHJhZygpO1xuXG4gICAgICAgICAgbXVsdGlEcmFnU29ydGFibGUgPSBzb3J0YWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKGVsLCBzb3J0YWJsZS5vcHRpb25zLnNlbGVjdGVkQ2xhc3MsIHRydWUpO1xuICAgICAgICBtdWx0aURyYWdFbGVtZW50cy5wdXNoKGVsKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxyXG4gICAgICAgKiBEZXNlbGVjdHMgdGhlIHByb3ZpZGVkIG11bHRpLWRyYWcgaXRlbVxyXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWwgICAgVGhlIGVsZW1lbnQgdG8gYmUgZGVzZWxlY3RlZFxyXG4gICAgICAgKi9cbiAgICAgIGRlc2VsZWN0OiBmdW5jdGlvbiBkZXNlbGVjdChlbCkge1xuICAgICAgICB2YXIgc29ydGFibGUgPSBlbC5wYXJlbnROb2RlW2V4cGFuZG9dLFxuICAgICAgICAgICAgaW5kZXggPSBtdWx0aURyYWdFbGVtZW50cy5pbmRleE9mKGVsKTtcbiAgICAgICAgaWYgKCFzb3J0YWJsZSB8fCAhc29ydGFibGUub3B0aW9ucy5tdWx0aURyYWcgfHwgIX5pbmRleCkgcmV0dXJuO1xuICAgICAgICB0b2dnbGVDbGFzcyhlbCwgc29ydGFibGUub3B0aW9ucy5zZWxlY3RlZENsYXNzLCBmYWxzZSk7XG4gICAgICAgIG11bHRpRHJhZ0VsZW1lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBldmVudFByb3BlcnRpZXM6IGZ1bmN0aW9uIGV2ZW50UHJvcGVydGllcygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgb2xkSW5kaWNpZXMgPSBbXSxcbiAgICAgICAgICBuZXdJbmRpY2llcyA9IFtdO1xuICAgICAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCkge1xuICAgICAgICBvbGRJbmRpY2llcy5wdXNoKHtcbiAgICAgICAgICBtdWx0aURyYWdFbGVtZW50OiBtdWx0aURyYWdFbGVtZW50LFxuICAgICAgICAgIGluZGV4OiBtdWx0aURyYWdFbGVtZW50LnNvcnRhYmxlSW5kZXhcbiAgICAgICAgfSk7IC8vIG11bHRpRHJhZ0VsZW1lbnRzIHdpbGwgYWxyZWFkeSBiZSBzb3J0ZWQgaWYgZm9sZGluZ1xuXG4gICAgICAgIHZhciBuZXdJbmRleDtcblxuICAgICAgICBpZiAoZm9sZGluZyAmJiBtdWx0aURyYWdFbGVtZW50ICE9PSBkcmFnRWwkMSkge1xuICAgICAgICAgIG5ld0luZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZGluZykge1xuICAgICAgICAgIG5ld0luZGV4ID0gaW5kZXgobXVsdGlEcmFnRWxlbWVudCwgJzpub3QoLicgKyBfdGhpczMub3B0aW9ucy5zZWxlY3RlZENsYXNzICsgJyknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGluZGV4KG11bHRpRHJhZ0VsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3SW5kaWNpZXMucHVzaCh7XG4gICAgICAgICAgbXVsdGlEcmFnRWxlbWVudDogbXVsdGlEcmFnRWxlbWVudCxcbiAgICAgICAgICBpbmRleDogbmV3SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBfdG9Db25zdW1hYmxlQXJyYXkobXVsdGlEcmFnRWxlbWVudHMpLFxuICAgICAgICBjbG9uZXM6IFtdLmNvbmNhdChtdWx0aURyYWdDbG9uZXMpLFxuICAgICAgICBvbGRJbmRpY2llczogb2xkSW5kaWNpZXMsXG4gICAgICAgIG5ld0luZGljaWVzOiBuZXdJbmRpY2llc1xuICAgICAgfTtcbiAgICB9LFxuICAgIG9wdGlvbkxpc3RlbmVyczoge1xuICAgICAgbXVsdGlEcmFnS2V5OiBmdW5jdGlvbiBtdWx0aURyYWdLZXkoa2V5KSB7XG4gICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdjdHJsJykge1xuICAgICAgICAgIGtleSA9ICdDb250cm9sJztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGtleSA9IGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHIoMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluc2VydE11bHRpRHJhZ0VsZW1lbnRzKGNsb25lc0luc2VydGVkLCByb290RWwpIHtcbiAgbXVsdGlEcmFnRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAobXVsdGlEcmFnRWxlbWVudCwgaSkge1xuICAgIHZhciB0YXJnZXQgPSByb290RWwuY2hpbGRyZW5bbXVsdGlEcmFnRWxlbWVudC5zb3J0YWJsZUluZGV4ICsgKGNsb25lc0luc2VydGVkID8gTnVtYmVyKGkpIDogMCldO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShtdWx0aURyYWdFbGVtZW50LCB0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290RWwuYXBwZW5kQ2hpbGQobXVsdGlEcmFnRWxlbWVudCk7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxyXG4gKiBJbnNlcnQgbXVsdGktZHJhZyBjbG9uZXNcclxuICogQHBhcmFtICB7W0Jvb2xlYW5dfSBlbGVtZW50c0luc2VydGVkICBXaGV0aGVyIHRoZSBtdWx0aS1kcmFnIGVsZW1lbnRzIGFyZSBpbnNlcnRlZFxyXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gcm9vdEVsXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydE11bHRpRHJhZ0Nsb25lcyhlbGVtZW50c0luc2VydGVkLCByb290RWwpIHtcbiAgbXVsdGlEcmFnQ2xvbmVzLmZvckVhY2goZnVuY3Rpb24gKGNsb25lLCBpKSB7XG4gICAgdmFyIHRhcmdldCA9IHJvb3RFbC5jaGlsZHJlbltjbG9uZS5zb3J0YWJsZUluZGV4ICsgKGVsZW1lbnRzSW5zZXJ0ZWQgPyBOdW1iZXIoaSkgOiAwKV07XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lLCB0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290RWwuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU11bHRpRHJhZ0VsZW1lbnRzKCkge1xuICBtdWx0aURyYWdFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChtdWx0aURyYWdFbGVtZW50KSB7XG4gICAgaWYgKG11bHRpRHJhZ0VsZW1lbnQgPT09IGRyYWdFbCQxKSByZXR1cm47XG4gICAgbXVsdGlEcmFnRWxlbWVudC5wYXJlbnROb2RlICYmIG11bHRpRHJhZ0VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtdWx0aURyYWdFbGVtZW50KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvcnRhYmxlO1xuZXhwb3J0IHsgQXV0b1Njcm9sbFBsdWdpbiBhcyBBdXRvU2Nyb2xsLCBNdWx0aURyYWdQbHVnaW4gYXMgTXVsdGlEcmFnLCBPblNwaWxsLCBTb3J0YWJsZSwgU3dhcFBsdWdpbiBhcyBTd2FwIH07XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhlIFNpbGV4IFBhZ2VUb29sIGNsYXNzIGRpc3BsYXlzIHRoZSBsaXN0IG9mIHBhZ2VzXG4gKiAgICAgYW5kIGxldCB0aGUgdXNlciBpbnRlcmFjdCB3aXRoIHRoZW0uXG4gKiBAc2VlIHNpbGV4Lm1vZGVsLlBhZ2VcbiAqXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlUGFnZSwgcmVtb3ZlUGFnZSwgbW92ZVBhZ2VUbywgZWRpdFBhZ2UgfSBmcm9tICcuLi9wYWdlLXN0b3JlL2Rpc3BhdGNoZXJzJ1xuaW1wb3J0IHsgZ2V0Q3VycmVudFBhZ2UgfSBmcm9tICcuLi9wYWdlLXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQgeyBnZXRQYWdlcywgbW92ZVBhZ2UsIHN1YnNjcmliZVBhZ2VzIH0gZnJvbSAnLi4vcGFnZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldFVpLCBzdWJzY3JpYmVVaSB9IGZyb20gJy4uL3VpLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBrZXlib2FyZEFkZFNob3J0Y3V0IH0gZnJvbSAnLi9NZW51J1xuaW1wb3J0IHsgb3BlblBhZ2UgfSBmcm9tICcuLi91aS1zdG9yZS9kaXNwYXRjaGVycydcbmltcG9ydCB7IHJlbmRlckxpc3QgfSBmcm9tICcuLi91dGlscy9kb20nXG5pbXBvcnQgU29ydGFibGUgZnJvbSAnLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvcnRhYmxlanMvbW9kdWxhci9zb3J0YWJsZS5jb3JlLmVzbS5qcydcblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJIGZvciB0aGUgb3V0c2lkZSB3b3JsZFxuZXhwb3J0IGZ1bmN0aW9uIGluaXRQYWdlVG9vbCgpIHtcbiAgcmV0dXJuIG5ldyBQYWdlVG9vbChnZXRVaUVsZW1lbnRzKCkucGFnZVRvb2wpXG59XG5cbi8qKlxuICogVE9ETzogbWFrZSB0aGlzIG9ubHkgbWV0aG9kcyBhbmQgd3JpdGUgdGVzdHNcbiAqL1xuY2xhc3MgUGFnZVRvb2wge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBzdWJzY3JpYmVQYWdlcygoXywgcGFnZXMpID0+IHRoaXMucmVkcmF3KCkpXG4gICAgc3Vic2NyaWJlVWkoKCkgPT4gdGhpcy5yZWRyYXcoKSlcblxuICAgIC8vIGFkZCBzaG9ydGN1dHMgZm9yIHBhZ2VzXG4gICAgLy8gb24gUENcbiAgICB0aGlzLnBhZ2VTaG9ydGN1dHMoWydGMScsICdGMicsICdGMycsICdGNCcsICdGNScsICdGNicsICdGNycsICdGOCcsICdGOScsICdGMTAnLCAnRjExJywgJ0YxMiddLCB7IG1vZGlmaWVyczogZmFsc2UgfSlcbiAgICAvLyBvbiBtYWMsIGZvciBrZXlib2FyZCB3aXRob3V0IEYqIGtleXNcbiAgICB0aGlzLnBhZ2VTaG9ydGN1dHMoWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcwJ10sIHsgY3RybEtleTogdHJ1ZSB9KVxuICAgIC8vIGluIGNhc2UgeW91IGhhdmUgdG8gcHJlc3MgXCJzaGlmdFwiIHRvIHR5cGUgYSBudW1iZXJcbiAgICB0aGlzLnBhZ2VTaG9ydGN1dHMoWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcwJ10sIHsgY3RybEtleTogdHJ1ZSwgc2hpZnRLZXk6IHRydWUgfSlcblxuICAgIC8vIGxpc3RlbiBmb3IgdGhlIGNsaWNrIG9uIGEgcGFnZVxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2UtZGVsZXRlJykpIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBwYWdlXG4gICAgICAgIHRoaXMucmVtb3ZlUGFnZUF0SW5kZXgoXG4gICAgICAgICAgICB0aGlzLmdldENlbGxJbmRleCgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2UtcHJvcGVydGllcycpKSB7XG4gICAgICAgICAgLy8gcmVuYW1lIHRoZSBwYWdlXG4gICAgICAgICAgdGhpcy5lZGl0UGFnZUF0SW5kZXgoXG4gICAgICAgICAgICAgIHRoaXMuZ2V0Q2VsbEluZGV4KChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50KSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzZWxlY3QgcGFnZVxuICAgICAgICAgIGNvbnN0IGNlbGxJbmRleCA9IHRoaXMuZ2V0Q2VsbEluZGV4KChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudClcbiAgICAgICAgICBpZiAoY2VsbEluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJbmRleChjZWxsSW5kZXgsIHRydWUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB9LCBmYWxzZSlcblxuICAgIGZ1bmN0aW9uIGF0dGFjaChjbGFzc05hbWUsIGNiaykge1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNsYXNzTmFtZSkpXG4gICAgICAuZm9yRWFjaCgoZWwpID0+IGVsLm9uY2xpY2sgPSBjYmspXG4gICAgfVxuICAgIGF0dGFjaCgnLmFkZC1wYWdlJywgKGUpID0+IGNyZWF0ZVBhZ2UoKSlcbiAgICBhdHRhY2goJy5yZW1vdmUtcGFnZScsIChlKSA9PiByZW1vdmVQYWdlKCkpXG4gICAgYXR0YWNoKCcubW92ZS1wYWdlLXVwJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKVxuICAgICAgY29uc3QgaWR4ID0gZ2V0UGFnZXMoKS5pbmRleE9mKGN1cnJlbnRQYWdlKVxuICAgICAgbW92ZVBhZ2VUbyhjdXJyZW50UGFnZSwgaWR4IC0gMSlcbiAgICB9KVxuICAgIGF0dGFjaCgnLm1vdmUtcGFnZS1kb3duJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKVxuICAgICAgY29uc3QgaWR4ID0gZ2V0UGFnZXMoKS5pbmRleE9mKGN1cnJlbnRQYWdlKVxuICAgICAgbW92ZVBhZ2VUbyhjdXJyZW50UGFnZSwgaWR4ICsgMSlcbiAgICB9KVxuICAgIGNvbnN0IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UtdG9vbC1jb250YWluZXInKVxuICAgIFNvcnRhYmxlLmNyZWF0ZShjb250YWluZXIsIHtcbiAgICAgIGdob3N0Q2xhc3M6ICdwYWdlLWdob3N0JyxcbiAgICAgIGFuaW1hdGlvbjogMTUwLFxuICAgICAgaGFuZGxlOiAnLnBhZ2UtaGFuZGxlJyxcbiAgICAgIG9uU29ydDogKGUpID0+IHtcbiAgICAgICAgY29uc3QgcGFnZXMgPSBnZXRQYWdlcygpXG4gICAgICAgIG1vdmVQYWdlKHtwYWdlOiBwYWdlc1tlLm9sZEluZGV4XSwgaWR4OiBlLm5ld0luZGV4fSlcbiAgICAgIH0sXG4gICAgfSlcbiAgfVxuXG4gIHBhZ2VTaG9ydGN1dHMoa2V5czogc3RyaW5nW10sIG9wdGlvbnM6IGFueSkge1xuICAgIGtleXMuZm9yRWFjaCgoa2V5LCBpZHgpID0+IGtleWJvYXJkQWRkU2hvcnRjdXQoe1xuICAgICAgbGFiZWw6ICdHbyB0byBwYWdlICcgKyAoaWR4ICsgMSksXG4gICAgICBrZXksXG4gICAgICBpbnB1dDogdHJ1ZSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSwgKGUpID0+IHtcbiAgICAgIGNvbnN0IHBhZ2UgPSBnZXRQYWdlcygpW2lkeF1cbiAgICAgIGlmIChwYWdlKSBvcGVuUGFnZShwYWdlKVxuICAgIH0pKVxuXG4gIH1cblxuICAvKipcbiAgICogdXNlciB3YW50cyB0byByZW1vdmUgYSBwYWdlXG4gICAqIEBwYXJhbSBpZHggaW5kZXggb2YgdGhlIHBhZ2VcbiAgICovXG4gIHJlbW92ZVBhZ2VBdEluZGV4KGlkeDogbnVtYmVyKSB7XG4gICAgcmVtb3ZlUGFnZShnZXRQYWdlcygpW2lkeF0pXG4gIH1cblxuICAvKipcbiAgICogdXNlciB3YW50cyB0byByZW5hbWUgYSBwYWdlXG4gICAqIEBwYXJhbSBpZHggaW5kZXggb2YgdGhlIHBhZ2VcbiAgICovXG4gIGVkaXRQYWdlQXRJbmRleChpZHg6IG51bWJlcikge1xuICAgIGVkaXRQYWdlKGdldFBhZ2VzKClbaWR4XSlcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXQgdGhlIHNlbGVjdGlvbiBvZiBwYWdlc1xuICAgKiBAcGFyYW0gb3B0X25vdGlmeSAgICBpZiB0cnVlLCB0aGVuIG5vdGlmeSBieSBjYWxsaW5nIHRoZSBvbkNoYW5nZWQgY2FsbGJhY2tcbiAgICovXG4gIHNldFNlbGVjdGVkSW5kZXgoaWR4OiBudW1iZXIsIG9wdF9ub3RpZnk/OiBib29sZWFuKSB7XG4gICAgLy8gbm90aWZ5IHRoZSBjb250cm9sbGVyXG4gICAgaWYgKG9wdF9ub3RpZnkpIHtcbiAgICAgIG9wZW5QYWdlKGdldFBhZ2VzKClbaWR4XSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZ2V0IHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gY2VsbFxuICAgKiBAcGFyYW0gZWxlbWVudCB3aGljaCByZXByZXNlbnRzIHRoZSBjZWxsIGluIHRoZSBkb21cbiAgICovXG4gIGdldENlbGxJbmRleChlbGVtZW50OiBIVE1MRWxlbWVudCk6IG51bWJlciB7XG4gICAgY29uc3QgcGFnZUlkeCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UtaWR4JylcbiAgICBpZiAocGFnZUlkeCkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHBhZ2VJZHgsIDEwKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogcmVmcmVzaCB0aGUgcGFnZXNcbiAgICogZmluZCBhbGwgcGFnZXMgaW4gdGhlIGRvbVxuICAgKi9cbiAgcHJpdmF0ZSByZWRyYXcoKSB7XG4gICAgLy8gcHJlcGFyZSB0aGUgZGF0YSBmb3IgdGhlIHRlbXBsYXRlXG4gICAgLy8gbWFrZSBhbiBhcnJheSB3aXRoIG5hbWUsIGRpc3BsYXlOYW1lLCBsaW5rTmFtZVxuICAgIGNvbnN0IHsgY3VycmVudFBhZ2VJZCB9ID0gZ2V0VWkoKVxuICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IGdldFBhZ2VzKClcbiAgICAgIC5tYXAoKHAsIGlkeCkgPT4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogKHAuaWQgPT09IGN1cnJlbnRQYWdlSWQgPyAnIHVpLXNlbGVjdGVkJyA6ICcnKSArIChwLmNhbkRlbGV0ZSA/ICcgdWktY2FuLWRlbGV0ZScgOiAnIHVpLWNhbi1ub3QtZGVsZXRlJykgKyAocC5jYW5Qcm9wZXJ0aWVzID8gJyB1aS1jYW4tcHJvcGVydGllcycgOiAnIHVpLWNhbi1ub3QtcHJvcGVydGllcycpICsgKHAuY2FuTW92ZSA/ICcgdWktY2FuLW1vdmUnIDogJyB1aS1jYW4tbm90LW1vdmUnKSxcbiAgICAgICAgaWR4LFxuICAgICAgICBzaG9ydGN1dFRleHQ6IHAuaWQgIT09IGN1cnJlbnRQYWdlSWQgJiYgaWR4IDwgOSA/IGBDbGljayB0byBvcGVuIHRoaXMgcGFnZSAoQ3RybCske2lkeCsxfSBvciBGJHtpZHgrMX0pYCA6ICcnLFxuICAgICAgfSwgcCkpXG4gICAgLy8gcmVmcmVzaCB0aGUgbGlzdCB3aXRoIG5ldyBwYWdlc1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS10b29sLWNvbnRhaW5lcicpXG4gICAgY29uc3QgdGVtcGxhdGVIdG1sID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLXRvb2wtdGVtcGxhdGUnKS5pbm5lckhUTUxcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gcmVuZGVyTGlzdCh0ZW1wbGF0ZUh0bWwsIHRlbXBsYXRlRGF0YSlcbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoaXMgY2xhc3MgaXMgYSBjb2xvciBwaWNrZXIgY29tcG9uZW50IHVzZWQgaW4gdGhlIHByb3BlcnRpZXMuXG4gKiBJdCBsZXQgdGhlIHVzZXIgY2hvb3NlIGEgY29sb3Igd2l0aCBhbiBvcGFjaXR5LCBpLmUuIGNvbG9yIGlzIGNzc1xuICogcmdiYShyLGcsYixhKSBvciBubyBjb2xvciBhdCBhbGwsIGkuZS4gdmFsdWUgaXMgYHRyYW5zcGFyZW50YCBJdCB1c2VzIHRoZVxuICogYnJvd3NlcidzY29sb3IgcGlja2VyIGZvciB0aGUgY29sb3JcbiAqL1xuXG5pbXBvcnQgeyBoZXhUb1JnYmEsIHJnYmFUb0FycmF5LCByZ2JhVG9IZXggfSBmcm9tICcuLi91dGlscy9zdHlsZXMnXG5cbmV4cG9ydCBjbGFzcyBDb2xvclBpY2tlciB7XG4gIC8vIHN0b3JlIGZvciBsYXRlciB1c2VcbiAgZWxlbWVudDogSFRNTEVsZW1lbnRcbiAgY2JrOiAoKSA9PiB2b2lkXG4gIGNvbG9yID0gJydcbiAgaXNEaXNhYmxlZCA9IHRydWVcbiAgaXNJbmRldGVybWluYXRlID0gdHJ1ZVxuXG4gIC8vIGluaXQgYnV0dG9uIHdoaWNoIHNob3dzL2hpZGVzIHRoZSBwYWxldGVcbiAgY29sb3JJbnB1dDogSFRNTElucHV0RWxlbWVudFxuXG4gIC8vIGFscGhhXG4gIG9wYWNpdHlJbnB1dDogSFRNTElucHV0RWxlbWVudFxuXG4gIC8vIHRyYW5zcGFyZW5jeVxuICB0cmFuc3BhcmVudENoZWNrYm94OiBIVE1MSW5wdXRFbGVtZW50XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSBjb250YWluZXIgb2YgdGhlIGNvbXBvbmVudCwgaXQgaXMgc3VwcG9zZWQgdG8gaGF2ZSB0aGlzXG4gICAqICAgICBzdHJ1Y3R1cmU6XG4gICAqICAgIC5jb2xvci1lZGl0LWNvbnRhaW5lclxuICAgKiAgICAgIGlucHV0LmNvbG9yLWVkaXQtdGV4dC1pbnB1dCh0eXBlPSdudW1iZXInLCBtaW49JzAnLCBtYXg9JzEwMCcpXG4gICAqICAgICAgaW5wdXQuY29sb3ItZWRpdC1jb2xvci1pbnB1dCh0eXBlPSdjb2xvcicpXG4gICAqICAgICAgaW5wdXQuY29sb3ItZWRpdC10cmFuc3BhcmVudC1jaGVjayh0eXBlPSdjaGVja2JveCcsXG4gICAqIGluZGV0ZXJtaW5hdGU9J3RydWUnKVxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNiazogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmNiayA9IGNia1xuICAgIHRoaXMuY29sb3JJbnB1dCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29sb3ItYnV0dG9uJylcbiAgICB0aGlzLmNvbG9ySW5wdXQub25jaGFuZ2UgPSAoZSkgPT4gdGhpcy5vbkNoYW5nZShlKVxuICAgIHRoaXMuY29sb3JJbnB1dC5vbmlucHV0ID0gKGUpID0+IHRoaXMub25DaGFuZ2UoZSlcbiAgICB0aGlzLm9wYWNpdHlJbnB1dCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29sb3Itb3BhY2l0eS1pbnB1dCcpXG4gICAgdGhpcy5vcGFjaXR5SW5wdXQub25jaGFuZ2UgPSAoZSkgPT4gdGhpcy5vbkNoYW5nZShlKVxuICAgIHRoaXMub3BhY2l0eUlucHV0Lm9uaW5wdXQgPSAoZSkgPT4gdGhpcy5vbkNoYW5nZShlKVxuICAgIHRoaXMudHJhbnNwYXJlbnRDaGVja2JveCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29sb3ItZWRpdC10cmFuc3BhcmVudC1jaGVjaycpXG4gICAgdGhpcy50cmFuc3BhcmVudENoZWNrYm94Lm9uY2hhbmdlID0gKGUpID0+IHRoaXMub25DaGFuZ2UoZSlcbiAgfVxuXG4gIHNldERpc2FibGVkKGlzRGlzYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzRGlzYWJsZWQgPSBpc0Rpc2FibGVkXG4gICAgdGhpcy5yZWRyYXcoKVxuICB9XG5cbiAgc2V0SW5kZXRlcm1pbmF0ZShpc0luZGV0ZXJtaW5hdGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IGlzSW5kZXRlcm1pbmF0ZVxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuXG4gIC8qKlxuICAgKiBzdG9yZSB0aGUgbmV3IGNvbG9yXG4gICAqIEBwYXJhbSBjb2xvciB0aGUgY3NzIGNvbG9yIGFzIGFuIHJnYmEgc3RyaW5nLCBpLmUuIHJnYmEocixnLGIsYSksXG4gICAqICAgICAgICAgICAgICAgICAgICAgIG9yIFwidHJhbnNwYXJlbnRcIlxuICAgKi9cbiAgc2V0Q29sb3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMuY29sb3IgPSBjb2xvclxuICAgIHRoaXMucmVkcmF3KClcbiAgfVxuXG4gIGdldENvbG9yKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgY3VycmVudCBvcGFjaXR5IGFzIGEgbnVtYmVyIGluIHRoZSBbMCwgMV0gaW50ZXJ2YWxcbiAgICovXG4gIGdldE9wYWNpdHkoKTogbnVtYmVyIHtcbiAgICBjb25zdCBvcGFjaXR5UGVyY2VudCA9IHBhcnNlSW50KHRoaXMub3BhY2l0eUlucHV0LnZhbHVlLCAxMClcbiAgICBjb25zdCBvcGFjaXR5ID0gaXNOYU4ob3BhY2l0eVBlcmNlbnQpID8gMSA6IG9wYWNpdHlQZXJjZW50IC8gMTAwXG4gICAgcmV0dXJuIG9wYWNpdHlcbiAgfVxuXG4gIG9uQ2hhbmdlKGU6IEV2ZW50KSB7XG4gICAgLy8gbGV0IHJlZHJhdyB1cGRhdGUgdGhlIHZhbHVlXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKCF0aGlzLnRyYW5zcGFyZW50Q2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgY29uc3Qgb3BhY2l0eSA9IHRoaXMuZ2V0T3BhY2l0eSgpXG4gICAgICBjb25zdCBoZXggPSBNYXRoLnJvdW5kKG9wYWNpdHkgKiAyNTUpLnRvU3RyaW5nKDE2KVxuICAgICAgdGhpcy5jb2xvciA9IGhleFRvUmdiYSh0aGlzLmNvbG9ySW5wdXQudmFsdWUgKyAoaGV4Lmxlbmd0aCA9PT0gMiA/ICcnIDogJzAnKSArIGhleClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb2xvciA9ICd0cmFuc3BhcmVudCdcbiAgICB9XG5cbiAgICAvLyBub3RpZnkgdGhlIG93bmVyXG4gICAgdGhpcy5jYmsoKVxuICB9XG5cbiAgcmVkcmF3KCkge1xuICAgIGlmICh0aGlzLmlzSW5kZXRlcm1pbmF0ZSkge1xuICAgICAgdGhpcy50cmFuc3BhcmVudENoZWNrYm94LmluZGV0ZXJtaW5hdGUgPSB0cnVlXG4gICAgICB0aGlzLm9wYWNpdHlJbnB1dC52YWx1ZSA9ICcnXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudHJhbnNwYXJlbnRDaGVja2JveC5pbmRldGVybWluYXRlID0gZmFsc2VcbiAgICAgIGlmICh0aGlzLmNvbG9yID09PSAndHJhbnNwYXJlbnQnIHx8IHRoaXMuY29sb3IgPT0gbnVsbCB8fCB0aGlzLmNvbG9yID09PSAnJykge1xuICAgICAgICB0aGlzLnRyYW5zcGFyZW50Q2hlY2tib3guY2hlY2tlZCA9IHRydWVcbiAgICAgICAgdGhpcy5jb2xvcklucHV0LmRpc2FibGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLmNvbG9ySW5wdXQuc3R5bGUub3BhY2l0eSA9ICcuMydcbiAgICAgICAgdGhpcy5vcGFjaXR5SW5wdXQuZGlzYWJsZWQgPSB0cnVlXG4gICAgICAgIHRoaXMub3BhY2l0eUlucHV0LnZhbHVlID0gJydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnRDaGVja2JveC5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy5jb2xvcklucHV0LmRpc2FibGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5jb2xvcklucHV0LnN0eWxlLm9wYWNpdHkgPSAnMSdcblxuICAgICAgICAvLyB0aGlzIHdpbGwgbm90IGFjY2VwdCByZ2JhLCBvbmx5IHJnYjpcbiAgICAgICAgY29uc3QgaGV4ID0gcmdiYVRvSGV4KHRoaXMuY29sb3IpXG4gICAgICAgIHRoaXMuY29sb3JJbnB1dC52YWx1ZSA9IGhleC5zdWJzdHJpbmcoMCwgaGV4Lmxlbmd0aCAtIDIpXG4gICAgICAgIHRoaXMub3BhY2l0eUlucHV0LmRpc2FibGVkID0gZmFsc2VcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhcnIgPSByZ2JhVG9BcnJheSh0aGlzLmNvbG9yKVxuICAgICAgICAgIHRoaXMub3BhY2l0eUlucHV0LnZhbHVlID0gKE1hdGgucm91bmQoYXJyWzNdICogMTAwIC8gMjU1KSkudG9TdHJpbmcoKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gcHJvYmFibHkgbm90IGFuIHJnYmEgY29sb3JcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ3RoaXMgY29sb3IgaXMgcHJvYmFibHkgbm90IGFuIHJnYmEgY29sb3InLCB0aGlzLmNvbG9yLCBlKVxuICAgICAgICAgIHRoaXMub3BhY2l0eUlucHV0LnZhbHVlID0gJzEwMCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5pc0Rpc2FibGVkKSB7XG4gICAgICB0aGlzLnRyYW5zcGFyZW50Q2hlY2tib3guZGlzYWJsZWQgPSB0cnVlXG4gICAgICB0aGlzLmNvbG9ySW5wdXQuZGlzYWJsZWQgPSB0cnVlXG4gICAgICB0aGlzLmNvbG9ySW5wdXQuc3R5bGUub3BhY2l0eSA9ICcuMydcbiAgICAgIHRoaXMub3BhY2l0eUlucHV0LmRpc2FibGVkID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRyYW5zcGFyZW50Q2hlY2tib3guZGlzYWJsZWQgPSBmYWxzZVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoaXMgaXMgdGhlIHBhbmUncyBiYXNlIGNsYXNzXG4gKiBQcm9wZXJ0eSBwYW5lcyBkaXNwbGF5ZWQgaW4gdGhlIHByb3BlcnR5IHRvb2wgYm94LlxuICogQ29udHJvbHMgdGhlIHBhcmFtcyBvZiB0aGUgc2VsZWN0ZWQgY29tcG9uZW50LlxuICpcbiAqL1xuXG4vLyBGSVhNRTogZG8gbm90IGZpbmQgbW9kdWxlIG9ubHkgaW4gdmltOiBpbXBvcnQgeyBTZWxlY3RhYmxlU3RhdGUgfSBmcm9tICdkcmFnLWRyb3Atc3RhZ2UtY29tcG9uZW50L3NyYy90cy9UeXBlcyc7XG5pbXBvcnQgeyBFbGVtZW50U3RhdGUgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgYWRkVG9Nb2JpbGVPckRlc2t0b3BTdHlsZSwgZml4U3R5bGVGb3JFbGVtZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvc3R5bGVzJ1xuaW1wb3J0IHsgZ2V0U2VsZWN0ZWRFbGVtZW50cyB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldFNpdGUsIHN1YnNjcmliZVNpdGUsIHVwZGF0ZVNpdGUgfSBmcm9tICcuLi8uLi9zaXRlLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN1YnNjcmliZUVsZW1lbnRzLCB1cGRhdGVFbGVtZW50cyB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXREYXRhIHtcbiAgc2VsZWN0b3I6IHN0cmluZ1xuICBzdHlsZU5hbWU6IHN0cmluZ1xuICBldmVudE5hbWU6IHN0cmluZ1xuICB1bml0OiBzdHJpbmdcbn1cblxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBhbGwgVUkgcGFuZXMgb2YgdGhlIHZpZXcucGFuZSBwYWNrYWdlXG4gKlxuICovXG5leHBvcnQgY2xhc3MgUGFuZUJhc2Uge1xuICBwcm90ZWN0ZWQgcGFnZU5hbWVzOiBzdHJpbmdbXVxuICAvLyBwcm90ZWN0ZWQgY3VycmVudFBhZ2VOYW1lOiBzdHJpbmc7XG4gIHByb3RlY3RlZCBjaGFuZ2UgPSBuZXcgTWFwKClcblxuICAvKipcbiAgICogYmFzZSB1cmwgZm9yIHJlbGF0aXZlL2Fic29sdXRlIHVybHNcbiAgICovXG4gIHByb3RlY3RlZCBiYXNlVXJsID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBlbGVtZW50OiBIVE1MRWxlbWVudCkge31cblxuICAvLyAvKipcbiAgLy8gICogbm90aWZ5IHRoZSBjb250cm9sbGVyIHRoYXQgdGhlIHN0eWxlIGNoYW5nZWRcbiAgLy8gICogQHBhcmFtIHN0eWxlTmFtZSAgIG5vdCBjc3Mgc3R5bGUgYnV0IGNhbWVsIGNhc2VcbiAgLy8gICovXG4gIC8vIHN0eWxlQ2hhbmdlZChzdHlsZU5hbWU6IHN0cmluZywgb3B0X3N0eWxlVmFsdWU/OiBzdHJpbmcsIG9wdF9lbGVtZW50cz86IEhUTUxFbGVtZW50W10pIHtcbiAgLy8gICAvLyBub3RpZnkgdGhlIGNvbnRyb2xsZXJcbiAgLy8gICB0aGlzLmNvbnRyb2xsZXIucHJvcGVydHlUb29sQ29udHJvbGxlci5zdHlsZUNoYW5nZWQoc3R5bGVOYW1lLCBvcHRfc3R5bGVWYWx1ZSwgb3B0X2VsZW1lbnRzKTtcbiAgLy8gfVxuXG4gIC8vIC8qKlxuICAvLyAgKiBub3RpZnkgdGhlIGNvbnRyb2xsZXIgdGhhdCBhIHByb3BlcnR5IGhhcyBjaGFuZ2VkXG4gIC8vICAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgICBwcm9wZXJ0eSBuYW1lLCBlLmcuICdzcmMnXG4gIC8vICAqL1xuICAvLyBwcm9wZXJ0eUNoYW5nZWQocHJvcGVydHlOYW1lOiBzdHJpbmcsIG9wdF9wcm9wZXJ0eVZhbHVlPzogc3RyaW5nLCBvcHRfZWxlbWVudHM/OiBIVE1MRWxlbWVudFtdLCBvcHRfYXBwbHlUb0NvbnRlbnQ/OiBib29sZWFuKSB7XG4gIC8vICAgLy8gbm90aWZ5IHRoZSBjb250cm9sbGVyXG4gIC8vICAgdGhpcy5jb250cm9sbGVyLnByb3BlcnR5VG9vbENvbnRyb2xsZXIucHJvcGVydHlDaGFuZ2VkKHByb3BlcnR5TmFtZSwgb3B0X3Byb3BlcnR5VmFsdWUsIG9wdF9lbGVtZW50cywgb3B0X2FwcGx5VG9Db250ZW50KTtcbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBnZXQgdGhlIGNvbW1vbiBwcm9wZXJ0eSBvZiBhIGdyb3VwIG9mIGVsZW1lbnRzXG4gICAqIEBwYXJhbSBnZXRQcm9wZXJ0eUZ1bmN0aW9uIHRoZSBjYWxsYmFjayB3aGljaCByZXR1cm5zIHRoZSB2YWx1ZSBmb3Igb25lXG4gICAqICAgICBlbGVtZW50XG4gICAqIEByZXR1cm4gPyB7c3RyaW5nfG51bWJlcnxib29sZWFufSB0aGUgdmFsdWUgb3IgbnVsbCBpZiB0aGUgdmFsdWUgaXMgbm90IHRoZVxuICAgKiAgICAgc2FtZSBmb3IgYWxsIGVsZW1lbnRzXG4gICAqIEZJWE1FOiB3ZSBzaG91bGQgdXNlIEFycmF5OjpyZWR1Y2VcbiAgICovXG4gIGdldENvbW1vblByb3BlcnR5PEl0ZW1UeXBlLCBQcm9wVHlwZT4oaXRlbXM6IEl0ZW1UeXBlW10sIGdldFByb3BlcnR5RnVuY3Rpb246IChwMTogSXRlbVR5cGUpID0+IFByb3BUeXBlKTogUHJvcFR5cGUge1xuICAgIGxldCB2YWx1ZSA9IG51bGxcbiAgICBsZXQgaGFzQ29tbW9uVmFsdWU6IGJvb2xlYW4gPSB0cnVlXG4gICAgbGV0IGlzRmlyc3RWYWx1ZSA9IHRydWVcbiAgICBpdGVtcy5mb3JFYWNoKChzdGF0ZSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudFZhbHVlID0gZ2V0UHJvcGVydHlGdW5jdGlvbihzdGF0ZSlcbiAgICAgIGlmIChpc0ZpcnN0VmFsdWUpIHtcbiAgICAgICAgaXNGaXJzdFZhbHVlID0gZmFsc2VcblxuICAgICAgICAvLyBpbml0IHZhbHVlXG4gICAgICAgIHZhbHVlID0gZWxlbWVudFZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIGNvbW1vbiB0eXBlXG4gICAgICAgIGlmIChlbGVtZW50VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgaGFzQ29tbW9uVmFsdWUgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICBpZiAoIWhhc0NvbW1vblZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvKipcbiAgICogcmVmcmVzaCB0aGUgZGlzcGxheWVkIGRhdGFcbiAgICovXG4gIHByb3RlY3RlZCByZWRyYXcoc2VsZWN0ZWRFbGVtZW50czogRWxlbWVudFN0YXRlW10pIHt9XG5cbiAgcHJvdGVjdGVkIG9uSW5wdXRQeENoYW5nZWQoc2VsZWN0b3I6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmNoYW5nZS5oYXMoc2VsZWN0b3IpKSB7XG4gICAgICB0aGlzLmNoYW5nZS5nZXQoc2VsZWN0b3IpLm9uQ2hhbmdlKHZhbHVlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gaW5wdXQgJyArIHNlbGVjdG9yKVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogSW5pdCBhIHNldCBvZiBpbnB1dCB3aXRoIHB4IHVuaXRcbiAgICovXG4gIHByb3RlY3RlZCBjcmVhdGVJbnB1dChpbnB1dHM6IElucHV0RGF0YVtdKSB7XG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0RGF0YSkgPT4ge1xuICAgICAgLy8gZ2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50XG4gICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGlucHV0RGF0YS5zZWxlY3RvcikgYXMgSFRNTElucHV0RWxlbWVudFxuICAgICAgaWYgKCFpbnB1dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGlucHV0ICcgKyBpbnB1dERhdGEuc2VsZWN0b3IpIH1cblxuICAgICAgY29uc3QgY2hhbmdlT2JqID0ge1xuICAgICAgICAvLyBmcmVlejogZmFsc2UsXG4gICAgICAgIG9uQ2hhbmdlOiAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgIC8vIGlmIChjaGFuZ2VPYmouZnJlZXopIHsgcmV0dXJuOyB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09ICdhdXRvJykge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBpbnB1dC52YWx1ZSkgaW5wdXQudmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgaW5wdXQuZGlzYWJsZWQgPSBmYWxzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9ICcnXG4gICAgICAgICAgICBpbnB1dC5kaXNhYmxlZCA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBldmVudFxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihpbnB1dERhdGEuZXZlbnROYW1lLCAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIC8vIGNoYW5nZU9iai5mcmVleiA9IHRydWU7XG4gICAgICAgIGNvbnN0IHZhbCA9IGlucHV0LnZhbHVlID8gaW5wdXQudmFsdWUgKyBpbnB1dERhdGEudW5pdCA6ICcnXG4gICAgICAgIHRoaXMuc3R5bGVDaGFuZ2VkKGlucHV0RGF0YS5zdHlsZU5hbWUsIHZhbClcbiAgICAgICAgLy8gY2hhbmdlT2JqLmZyZWV6ID0gZmFsc2U7XG4gICAgICB9KVxuXG4gICAgICAvLyBzdG9yZSB0aGUgb25DaGFuZ2UgY2FsbGJhY2sgZm9yIHVzZSBpbiBvbklucHV0Q2hhbmdlZFxuICAgICAgdGhpcy5jaGFuZ2Uuc2V0KGlucHV0RGF0YS5zZWxlY3RvciwgY2hhbmdlT2JqKVxuICAgIH0pXG4gIH1cblxuICBwcm90ZWN0ZWQgc3R5bGVDaGFuZ2VkKHN0eWxlTmFtZTogc3RyaW5nLCB2YWw6IHN0cmluZykge1xuICAgIGlmIChzdHlsZU5hbWUgPT09ICd3aWR0aCcpIHtcbiAgICAgIC8vIGhhbmRsZSBzZWN0aW9uIGNvbnRlbnQgd2hpY2ggc2V0IHRoZSBzaXRlIHdpZHRoXG4gICAgICBjb25zdCBzZWN0aW9uQ29udGVudCA9IGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgICAgLmZpbHRlcigoZWwpID0+IGVsLmlzU2VjdGlvbkNvbnRlbnQgJiYgIWdldFVpKCkubW9iaWxlRWRpdG9yKS51bnNoaWZ0KClcblxuICAgICAgaWYgKHNlY3Rpb25Db250ZW50KSB7XG4gICAgICAgIHVwZGF0ZVNpdGUoe1xuICAgICAgICAgIC4uLmdldFNpdGUoKSxcbiAgICAgICAgICB3aWR0aDogcGFyc2VJbnQodmFsKSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVFbGVtZW50cyhnZXRTZWxlY3RlZEVsZW1lbnRzKClcbiAgICAubWFwKChlbCkgPT4ge1xuICAgICAgY29uc3Qgc3R5bGUgPSB7fVxuICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9IHZhbFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZWwsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgLi4uZWwuc3R5bGUsXG4gICAgICAgICAgLi4uYWRkVG9Nb2JpbGVPckRlc2t0b3BTdHlsZShnZXRVaSgpLm1vYmlsZUVkaXRvciwgZWwuc3R5bGUsIGZpeFN0eWxlRm9yRWxlbWVudChlbCwgZWwuaXNTZWN0aW9uQ29udGVudCwgc3R5bGUpKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9KSlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0IGEgY29tYm8gYm94IG9yIHRleHQgaW5wdXRcbiAgICogRklYTUU6IHVzZSBjcmVhdGVJbnB1dCBpbnN0ZWFkIGFzIGluIFByb3BlcnR5UGFuZVxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRJbnB1dChzZWxlY3Rvcjogc3RyaW5nLCBvbkNoYW5nZTogKGU6IEV2ZW50KSA9PiB2b2lkLCBldmVudE5hbWUgPSAnaW5wdXQnKTogSFRNTElucHV0RWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuaW5pdEV2ZW50VGFyZ2V0KHNlbGVjdG9yLCBldmVudE5hbWUsIG9uQ2hhbmdlKVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXQgYSBjb21ibyBib3ggb3IgYSBjaGVjYm94XG4gICAqIEZJWE1FOiB1c2UgY3JlYXRlSW5wdXQgaW5zdGVhZCBhcyBpbiBQcm9wZXJ0eVBhbmVcbiAgICovXG4gIHByb3RlY3RlZCBpbml0Q29tYm9Cb3goc2VsZWN0b3I6IHN0cmluZywgb25DaGFuZ2U6IChlOiBFdmVudCkgPT4gdm9pZCk6IEhUTUxTZWxlY3RFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5pbml0RXZlbnRUYXJnZXQoc2VsZWN0b3IsICdjaGFuZ2UnLCBvbkNoYW5nZSkgYXMgYW55IGFzIEhUTUxTZWxlY3RFbGVtZW50XG4gIH1cblxuICAvKipcbiAgICogSW5pdCBhIGNvbWJvIGJveCBvciBhIGNoZWNib3hcbiAgICovXG4gIHByb3RlY3RlZCBpbml0Q2hlY2tCb3goc2VsZWN0b3I6IHN0cmluZywgb25DaGFuZ2U6IChlOiBFdmVudCkgPT4gdm9pZCk6IEhUTUxJbnB1dEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmluaXRFdmVudFRhcmdldChzZWxlY3RvciwgJ2NoYW5nZScsIG9uQ2hhbmdlKVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXQgYSBjb21ibyBib3ggb3JcbiAgICovXG4gIHByaXZhdGUgaW5pdEV2ZW50VGFyZ2V0KHNlbGVjdG9yOiBzdHJpbmcsIGV2ZW50TmFtZTogc3RyaW5nLCBvbkNoYW5nZTogKGU6IEV2ZW50KSA9PiB2b2lkKTogSFRNTElucHV0RWxlbWVudCB7XG4gICAgLy8gZ2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50XG4gICAgY29uc3QgZXZlbnRUYXJnZXQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgSFRNTElucHV0RWxlbWVudFxuXG4gICAgLy8gYXR0YWNoIGV2ZW50XG4gICAgZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIChlOiBFdmVudCkgPT4ge1xuICAgICAgLy8gbGV0IHJlZHJhdyB1cGRhdGUgdGhlIHZhbHVlXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIC8vIGNhbGwgdGhlIHByb3ZpZGVkIGNhbGxiYWNrXG4gICAgICBvbkNoYW5nZShlKVxuICAgIH0pXG5cbiAgICByZXR1cm4gZXZlbnRUYXJnZXRcbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFByb3BlcnR5IHBhbmUsIGRpc3BsYXllZCBpbiB0aGUgcHJvcGVydHkgdG9vbCBib3guXG4gKiBDb250cm9scyB0aGUgYmFja2dyb3VuZCBwYXJhbXNcbiAqXG4gKi9cbmltcG9ydCB7IENvbG9yUGlja2VyIH0gZnJvbSAnLi4vQ29sb3JQaWNrZXInXG5pbXBvcnQgeyBFbGVtZW50U3RhdGUgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgRmlsZUV4cGxvcmVyIH0gZnJvbSAnLi4vZGlhbG9nL0ZpbGVFeHBsb3JlcidcbmltcG9ydCB7IFBhbmVCYXNlIH0gZnJvbSAnLi9QYW5lQmFzZSdcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL05vdGlmaWNhdGlvbidcbmltcG9ydCB7IFVybCB9IGZyb20gJy4uLy4uL3V0aWxzL1VybCdcbmltcG9ydCB7IGFkZFRvTW9iaWxlT3JEZXNrdG9wU3R5bGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHlsZXMnXG5pbXBvcnQgeyBnZXRCb2R5LCBnZXRTZWxlY3RlZEVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgc3Vic2NyaWJlVWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7XG4gIGdldEVsZW1lbnRzLFxuICBzdWJzY3JpYmVFbGVtZW50cyxcbiAgdXBkYXRlRWxlbWVudHNcbn0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldFVpIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBpc0RpYWxvZ1Zpc2libGUgfSBmcm9tICcuLi8uLi91aS1zdG9yZS91dGlscydcblxuLyoqXG4gKiBvbiBvZiBTaWxleCBFZGl0b3JzIGNsYXNzXG4gKiBsZXQgdXNlciBlZGl0IHN0eWxlIG9mIHNlbGVjdGVkIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBCZ1BhbmUgZXh0ZW5kcyBQYW5lQmFzZSB7XG4gIGNvbG9yUGlja2VyOiBDb2xvclBpY2tlclxuXG4gIC8vIGJnIGltYWdlIGJ1dHRvbnNcbiAgYmdTZWxlY3RCZ0ltYWdlOiBIVE1MRWxlbWVudFxuICBiZ0NsZWFyQmdJbWFnZTogSFRNTEVsZW1lbnRcblxuICAvLyBiZyBpbWFnZSBwcm9wZXJ0aWVzXG4gIGF0dGFjaG1lbnRDb21ib0JveDogSFRNTFNlbGVjdEVsZW1lbnRcbiAgdlBvc2l0aW9uQ29tYm9Cb3g6IEhUTUxTZWxlY3RFbGVtZW50XG4gIGhQb3NpdGlvbkNvbWJvQm94OiBIVE1MU2VsZWN0RWxlbWVudFxuICByZXBlYXRDb21ib0JveDogSFRNTFNlbGVjdEVsZW1lbnRcbiAgc2l6ZUNvbWJvQm94OiBIVE1MU2VsZWN0RWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudClcblxuICAgIC8vIGluaXQgQkcgY29sb3JcbiAgICB0aGlzLmJ1aWxkQmdDb2xvcigpXG5cbiAgICAvLyBpbml0IGJnIGltYWdlXG4gICAgdGhpcy5idWlsZEJnSW1hZ2UoKVxuXG4gICAgc3Vic2NyaWJlVWkoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG5cbiAgICBzdWJzY3JpYmVFbGVtZW50cygoKSA9PiB7XG4gICAgICB0aGlzLnJlZHJhdyhnZXRTZWxlY3RlZEVsZW1lbnRzKCkpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBidWlsZCB0aGUgVUlcbiAgICovXG4gIGJ1aWxkQmdDb2xvcigpIHtcbiAgICB0aGlzLmNvbG9yUGlja2VyID0gbmV3IENvbG9yUGlja2VyKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY29sb3ItZWRpdC1jb250YWluZXInKSwgKCkgPT4gdGhpcy5vbkNvbG9yQ2hhbmdlZCgpKVxuICB9XG5cbiAgLyoqXG4gICAqIGJ1aWxkIHRoZSBVSVxuICAgKi9cbiAgYnVpbGRCZ0ltYWdlKCkge1xuICAgIHRoaXMuYmdTZWxlY3RCZ0ltYWdlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZy1pbWFnZS1idXR0b24nKVxuICAgIHRoaXMuYmdDbGVhckJnSW1hZ2UgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNsZWFyLWJnLWltYWdlLWJ1dHRvbicpXG5cbiAgICAvLyBldmVudCB1c2VyIHdhbnRzIHRvIHVwZGF0ZSB0aGUgYmcgaW1hZ2VcbiAgICB0aGlzLmJnU2VsZWN0QmdJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMub25TZWxlY3RJbWFnZUJ1dHRvbigpLCBmYWxzZSlcblxuICAgIC8vIGV2ZW50IHVzZXIgd2FudHMgdG8gcmVtb3ZlIHRoZSBiZyBpbWFnZVxuICAgIHRoaXMuYmdDbGVhckJnSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLm9uQ2xlYXJJbWFnZUJ1dHRvbigpLCBmYWxzZSlcblxuICAgIC8vIGJnIGltYWdlIHByb3BlcnRpZXNcbiAgICB0aGlzLmF0dGFjaG1lbnRDb21ib0JveCA9IHRoaXMuaW5pdENvbWJvQm94KCcuYmctYXR0YWNobWVudC1jb21iby1ib3gnLCAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnN0eWxlQ2hhbmdlZCgnYmFja2dyb3VuZC1hdHRhY2htZW50JywgKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSlcbiAgICB9KVxuXG4gICAgdGhpcy52UG9zaXRpb25Db21ib0JveCA9IHRoaXMuaW5pdENvbWJvQm94KCcuYmctcG9zaXRpb24tdi1jb21iby1ib3gnLCAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBoUG9zaXRpb24gPSB0aGlzLmhQb3NpdGlvbkNvbWJvQm94LnZhbHVlXG4gICAgICBjb25zdCB2UG9zaXRpb24gPSB0aGlzLnZQb3NpdGlvbkNvbWJvQm94LnZhbHVlXG4gICAgICB0aGlzLnN0eWxlQ2hhbmdlZCgnYmFja2dyb3VuZC1wb3NpdGlvbicsIHZQb3NpdGlvbiArICcgJyArIGhQb3NpdGlvbilcbiAgICB9KVxuXG4gICAgdGhpcy5oUG9zaXRpb25Db21ib0JveCA9IHRoaXMuaW5pdENvbWJvQm94KCcuYmctcG9zaXRpb24taC1jb21iby1ib3gnLCAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBoUG9zaXRpb24gPSB0aGlzLmhQb3NpdGlvbkNvbWJvQm94LnZhbHVlXG4gICAgICBjb25zdCB2UG9zaXRpb24gPSB0aGlzLnZQb3NpdGlvbkNvbWJvQm94LnZhbHVlXG4gICAgICB0aGlzLnN0eWxlQ2hhbmdlZCgnYmFja2dyb3VuZC1wb3NpdGlvbicsIHZQb3NpdGlvbiArICcgJyArIGhQb3NpdGlvbilcbiAgICB9KVxuXG4gICAgdGhpcy5yZXBlYXRDb21ib0JveCA9IHRoaXMuaW5pdENvbWJvQm94KCcuYmctcmVwZWF0LWNvbWJvLWJveCcsIChldmVudDogRXZlbnQpID0+IHtcbiAgICAgIHRoaXMuc3R5bGVDaGFuZ2VkKCdiYWNrZ3JvdW5kLXJlcGVhdCcsIChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpXG4gICAgfSlcblxuICAgIHRoaXMuc2l6ZUNvbWJvQm94ID0gdGhpcy5pbml0Q29tYm9Cb3goJy5iZy1zaXplLWNvbWJvLWJveCcsIChldmVudDogRXZlbnQpID0+IHtcbiAgICAgIHRoaXMuc3R5bGVDaGFuZ2VkKCdiYWNrZ3JvdW5kLXNpemUnLCAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IHRoZSBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSBzdGF0ZXMgdGhlIGVsZW1lbnRzIGN1cnJlbnRseSBzZWxlY3RlZFxuICAgKi9cbiAgcmVkcmF3KHNlbGVjdEVsZW1lbnRzOiBFbGVtZW50U3RhdGVbXSkge1xuICAgIHN1cGVyLnJlZHJhdyhzZWxlY3RFbGVtZW50cylcblxuICAgIGlmIChpc0RpYWxvZ1Zpc2libGUoJ2Rlc2lnbicsICdwcm9wZXJ0aWVzJykpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJydcblxuICAgICAgY29uc3QgbW9iaWxlT3JEZXNrdG9wID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3IgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJ1xuXG4gICAgICAvLyBCRyBjb2xvclxuICAgICAgaWYgKHNlbGVjdEVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5jb2xvclBpY2tlci5zZXREaXNhYmxlZChmYWxzZSlcblxuICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoc2VsZWN0RWxlbWVudHMsIChlbCkgPT4gZWwuc3R5bGVbbW9iaWxlT3JEZXNrdG9wXVsnYmFja2dyb3VuZC1jb2xvciddIHx8ICcnKVxuXG4gICAgICAgIC8vIGluZGV0ZXJtaW5hdGUgc3RhdGVcbiAgICAgICAgdGhpcy5jb2xvclBpY2tlci5zZXRJbmRldGVybWluYXRlKGNvbG9yID09PSBudWxsKVxuXG4gICAgICAgIC8vIGRpc3BsYXkgY29sb3JcbiAgICAgICAgaWYgKGNvbG9yICE9IG51bGwgKSB7XG4gICAgICAgICAgdGhpcy5jb2xvclBpY2tlci5zZXRDb2xvcihjb2xvcilcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb2xvclBpY2tlci5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgfVxuXG4gICAgICAvLyBCRyBpbWFnZVxuICAgICAgY29uc3QgZW5hYmxlQmdDb21wb25lbnRzID0gKGVuYWJsZSkgPT4ge1xuICAgICAgICBpZiAoZW5hYmxlKSB7XG4gICAgICAgICAgdGhpcy5iZ0NsZWFyQmdJbWFnZS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5iZ0NsZWFyQmdJbWFnZS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRhY2htZW50Q29tYm9Cb3guZGlzYWJsZWQgPSAhZW5hYmxlXG4gICAgICAgIHRoaXMudlBvc2l0aW9uQ29tYm9Cb3guZGlzYWJsZWQgPSAhZW5hYmxlXG4gICAgICAgIHRoaXMuaFBvc2l0aW9uQ29tYm9Cb3guZGlzYWJsZWQgPSAhZW5hYmxlXG4gICAgICAgIHRoaXMucmVwZWF0Q29tYm9Cb3guZGlzYWJsZWQgPSAhZW5hYmxlXG4gICAgICAgIHRoaXMuc2l6ZUNvbWJvQm94LmRpc2FibGVkID0gIWVuYWJsZVxuICAgICAgfVxuXG4gICAgICAvLyBiZyBpbWFnZVxuICAgICAgY29uc3QgYmdJbWFnZSA9IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoc2VsZWN0RWxlbWVudHMsIChlbCkgPT4gZWwuc3R5bGVbbW9iaWxlT3JEZXNrdG9wXVsnYmFja2dyb3VuZC1pbWFnZSddKVxuXG4gICAgICBpZiAoYmdJbWFnZSAhPSBudWxsICAmJiBiZ0ltYWdlICE9PSAnbm9uZScgJiYgYmdJbWFnZSAhPT0gJycpIHtcbiAgICAgICAgZW5hYmxlQmdDb21wb25lbnRzKHRydWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmFibGVCZ0NvbXBvbmVudHMoZmFsc2UpXG4gICAgICB9XG5cbiAgICAgIC8vIGJnIGltYWdlIGF0dGFjaG1lbnRcbiAgICAgIGNvbnN0IGJnSW1hZ2VBdHRhY2htZW50ID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShzZWxlY3RFbGVtZW50cywgKGVsKSA9PiBlbC5zdHlsZVttb2JpbGVPckRlc2t0b3BdWydiYWNrZ3JvdW5kLWF0dGFjaG1lbnQnXSlcbiAgICAgIGlmIChiZ0ltYWdlQXR0YWNobWVudCkge1xuICAgICAgICB0aGlzLmF0dGFjaG1lbnRDb21ib0JveC52YWx1ZSA9IGJnSW1hZ2VBdHRhY2htZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmF0dGFjaG1lbnRDb21ib0JveC5zZWxlY3RlZEluZGV4ID0gMFxuICAgICAgfVxuXG4gICAgICAvLyBiZyBpbWFnZSBwb3NpdGlvblxuICAgICAgY29uc3QgYmdJbWFnZVBvc2l0aW9uOiBzdHJpbmcgPSB0aGlzLmdldENvbW1vblByb3BlcnR5KHNlbGVjdEVsZW1lbnRzLCAoZWwpID0+IGVsLnN0eWxlW21vYmlsZU9yRGVza3RvcF1bJ2JhY2tncm91bmQtcG9zaXRpb24nXSlcbiAgICAgIGlmIChiZ0ltYWdlUG9zaXRpb24gJiYgYmdJbWFnZVBvc2l0aW9uICE9PSAnJykge1xuICAgICAgICBjb25zdCBoUG9zaXRpb24gPSBiZ0ltYWdlUG9zaXRpb24uaW5jbHVkZXMoJ2xlZnQnKSA/ICdsZWZ0JyA6IGJnSW1hZ2VQb3NpdGlvbi5pbmNsdWRlcygncmlnaHQnKSA/ICdyaWdodCcgOiBiZ0ltYWdlUG9zaXRpb24uaW5jbHVkZXMoJ2NlbnRlcicpID8gJ2NlbnRlcicgOiAnJ1xuICAgICAgICBjb25zdCB2UG9zaXRpb24gPSBiZ0ltYWdlUG9zaXRpb24uaW5jbHVkZXMoJ3RvcCcpID8gJ3RvcCcgOiBiZ0ltYWdlUG9zaXRpb24uaW5jbHVkZXMoJ2JvdHRvbScpID8gJ2JvdHRvbScgOiBiZ0ltYWdlUG9zaXRpb24uaW5jbHVkZXMoJ2NlbnRlcicpID8gJ2NlbnRlcicgOiAnJ1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgZHJvcCBkb3duIGxpc3RzIHRvIGRpc3BsYXkgdGhlIGJnIGltYWdlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMudlBvc2l0aW9uQ29tYm9Cb3gudmFsdWUgPSB2UG9zaXRpb25cbiAgICAgICAgdGhpcy5oUG9zaXRpb25Db21ib0JveC52YWx1ZSA9IGhQb3NpdGlvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52UG9zaXRpb25Db21ib0JveC5zZWxlY3RlZEluZGV4ID0gMFxuICAgICAgICB0aGlzLmhQb3NpdGlvbkNvbWJvQm94LnNlbGVjdGVkSW5kZXggPSAwXG4gICAgICB9XG5cbiAgICAgIC8vIGJnIGltYWdlIHJlcGVhdFxuICAgICAgY29uc3QgYmdJbWFnZVJlcGVhdCA9IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoc2VsZWN0RWxlbWVudHMsIChlbCkgPT4gZWwuc3R5bGVbbW9iaWxlT3JEZXNrdG9wXVsnYmFja2dyb3VuZC1yZXBlYXQnXSlcblxuICAgICAgaWYgKGJnSW1hZ2VSZXBlYXQpIHtcbiAgICAgICAgdGhpcy5yZXBlYXRDb21ib0JveC52YWx1ZSA9IGJnSW1hZ2VSZXBlYXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVwZWF0Q29tYm9Cb3guc2VsZWN0ZWRJbmRleCA9IDBcbiAgICAgIH1cblxuICAgICAgLy8gYmcgaW1hZ2Ugc2l6ZVxuICAgICAgY29uc3QgYmdJbWFnZVNpemUgPSB0aGlzLmdldENvbW1vblByb3BlcnR5KHNlbGVjdEVsZW1lbnRzLCAoZWwpID0+IGVsLnN0eWxlW21vYmlsZU9yRGVza3RvcF1bJ2JhY2tncm91bmQtc2l6ZSddKVxuXG4gICAgICBpZiAoYmdJbWFnZVNpemUpIHtcbiAgICAgICAgdGhpcy5zaXplQ29tYm9Cb3gudmFsdWUgPSBiZ0ltYWdlU2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaXplQ29tYm9Cb3guc2VsZWN0ZWRJbmRleCA9IDBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlciBoYXMgc2VsZWN0ZWQgYSBjb2xvclxuICAgKi9cbiAgb25Db2xvckNoYW5nZWQoKSB7XG4gICAgaWYgKCh0aGlzLmNvbG9yUGlja2VyLmdldENvbG9yKCkgPT09ICd0cmFuc3BhcmVudCcgfHwgdGhpcy5jb2xvclBpY2tlci5nZXRPcGFjaXR5KCkgIT09IDEpICYmXG4gICAgICAgIGdldFNlbGVjdGVkRWxlbWVudHMoKS5pbmNsdWRlcyhnZXRCb2R5KCkpKSB7XG4gICAgICAvLyBwcmV2ZW50IGEgdHJhbnNwYXJlbnQgYm9keVxuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0eWxlQ2hhbmdlZCgnYmFja2dyb3VuZC1jb2xvcicsIHRoaXMuY29sb3JQaWNrZXIuZ2V0Q29sb3IoKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlciBoYXMgY2xpY2tlZCB0aGUgc2VsZWN0IGltYWdlIGJ1dHRvblxuICAgKi9cbiAgYXN5bmMgb25TZWxlY3RJbWFnZUJ1dHRvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gb3BlbiB0aGUgZmlsZSBicm93c2VyXG4gICAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IEZpbGVFeHBsb3Jlci5nZXRJbnN0YW5jZSgpLm9wZW5GaWxlKEZpbGVFeHBsb3Jlci5JTUFHRV9FWFRFTlNJT05TKVxuICAgICAgaWYgKGZpbGVJbmZvKSB7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgbW9kZWxcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnRzKCkuZmluZCgoZWwpID0+IGVsLnNlbGVjdGVkKVxuXG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlXG4gICAgICAgIHVwZGF0ZUVsZW1lbnRzKFt7XG4gICAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgICBzdHlsZTogYWRkVG9Nb2JpbGVPckRlc2t0b3BTdHlsZShnZXRVaSgpLm1vYmlsZUVkaXRvciwgZWxlbWVudC5zdHlsZSwgeyAnYmFja2dyb3VuZC1pbWFnZSc6IFVybC5hZGRVcmxLZXl3b3JkKGZpbGVJbmZvLmFic1BhdGgpIH0pLFxuICAgICAgICB9XSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgTm90aWZpY2F0aW9uLm5vdGlmeUVycm9yKGBFcnJvcjogSSBjb3VsZCBub3QgbG9hZCB0aGUgaW1hZ2UuIFxcbiR7ZXJyb3IubWVzc2FnZSB8fCAnJ31gKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VyIGhhcyBjbGlja2VkIHRoZSBjbGVhciBpbWFnZSBidXR0b25cbiAgICovXG4gIG9uQ2xlYXJJbWFnZUJ1dHRvbigpIHtcbiAgICB0aGlzLnN0eWxlQ2hhbmdlZCgnYmFja2dyb3VuZC1pbWFnZScsICcnKVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgUHJvcGVydHkgcGFuZSwgZGlzcGxheWVkIGluIHRoZSBwcm9wZXJ0eSB0b29sIGJveC5cbiAqIENvbnRyb2xzIHRoZSBib3JkZXJzIHBhcmFtc1xuICpcbiAqL1xuXG5pbXBvcnQgeyBDb2xvclBpY2tlciB9IGZyb20gJy4uL0NvbG9yUGlja2VyJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IFBhbmVCYXNlIH0gZnJvbSAnLi9QYW5lQmFzZSdcbmltcG9ydCB7IGFkZFRvTW9iaWxlT3JEZXNrdG9wU3R5bGUgfSBmcm9tICcuLi8uLi91dGlscy9zdHlsZXMnXG5pbXBvcnQgeyBnZXRTZWxlY3RlZEVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0VWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN1YnNjcmliZUVsZW1lbnRzLCB1cGRhdGVFbGVtZW50cyB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBzdWJzY3JpYmVVaSB9IGZyb20gJy4uLy4uL3VpLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgaXNEaWFsb2dWaXNpYmxlIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvdXRpbHMnXG5cbi8qKlxuICogb24gb2YgU2lsZXggRWRpdG9ycyBjbGFzc1xuICogbGV0IHVzZXIgZWRpdCBzdHlsZSBvZiBzZWxlY3RlZCBlbGVtZW50c1xuICovXG5leHBvcnQgY2xhc3MgQm9yZGVyUGFuZSBleHRlbmRzIFBhbmVCYXNlIHtcbiAgLyoqXG4gICAqIGlucHV0IGVsZW1lbnRcbiAgICovXG4gIGJvcmRlcldpZHRoSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnRcblxuICAvKipcbiAgICogaW5wdXQgZWxlbWVudFxuICAgKi9cbiAgYm9yZGVyU3R5bGVDb21ib0JveDogSFRNTFNlbGVjdEVsZW1lbnRcblxuICAvKipcbiAgICogaW5wdXQgZWxlbWVudFxuICAgKi9cbiAgYm9yZGVyUmFkaXVzSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnRcblxuICAvKipcbiAgICogY29sb3IgcGlja2VyIGZvciBib3JkZXIgY29sb3JcbiAgICovXG4gIGNvbG9yUGlja2VyOiBDb2xvclBpY2tlclxuXG4gIC8qKlxuICAgKiBpbnB1dCBlbGVtZW50XG4gICAqL1xuICBib3JkZXJQbGFjZW1lbnRDaGVja0JveGVzOiBIVE1MSW5wdXRFbGVtZW50W10gPSBudWxsXG5cbiAgLyoqXG4gICAqIGlucHV0IGVsZW1lbnRcbiAgICovXG4gIGNvcm5lclBsYWNlbWVudENoZWNrQm94ZXM6IEhUTUxJbnB1dEVsZW1lbnRbXSA9IG51bGxcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuXG4gICAgc3VwZXIoZWxlbWVudClcblxuICAgIHRoaXMuY29sb3JQaWNrZXIgPSBuZXcgQ29sb3JQaWNrZXIodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2xvci1lZGl0LWNvbnRhaW5lcicpLCAoKSA9PiB0aGlzLm9uQm9yZGVyQ29sb3JDaGFuZ2VkKCkpXG4gICAgdGhpcy5ib3JkZXJQbGFjZW1lbnRDaGVja0JveGVzID0gW1xuICAgICAgJy5ib3JkZXItcGxhY2VtZW50LWNvbnRhaW5lciAudG9wJyxcbiAgICAgICcuYm9yZGVyLXBsYWNlbWVudC1jb250YWluZXIgLnJpZ2h0JyxcbiAgICAgICcuYm9yZGVyLXBsYWNlbWVudC1jb250YWluZXIgLmJvdHRvbScsXG4gICAgICAnLmJvcmRlci1wbGFjZW1lbnQtY29udGFpbmVyIC5sZWZ0JyxcbiAgICBdLm1hcCgoc2VsZWN0b3IpID0+IHRoaXMuaW5pdENoZWNrQm94KHNlbGVjdG9yLCAoZSkgPT4gdGhpcy5vbkJvcmRlcldpZHRoQ2hhbmdlZCgpKSlcblxuICAgIHRoaXMuY29ybmVyUGxhY2VtZW50Q2hlY2tCb3hlcyA9IFtcbiAgICAgICcuYm9yZGVyLXJhZGl1cy1jb250YWluZXIgLnRvcC1sZWZ0JyxcbiAgICAgICcuYm9yZGVyLXJhZGl1cy1jb250YWluZXIgLnRvcC1yaWdodCcsXG4gICAgICAnLmJvcmRlci1yYWRpdXMtY29udGFpbmVyIC5ib3R0b20tcmlnaHQnLFxuICAgICAgJy5ib3JkZXItcmFkaXVzLWNvbnRhaW5lciAuYm90dG9tLWxlZnQnLFxuICAgIF0ubWFwKChzZWxlY3RvcikgPT4gdGhpcy5pbml0Q2hlY2tCb3goc2VsZWN0b3IsICgpID0+IHRoaXMub25Cb3JkZXJDb3JuZXJDaGFuZ2VkKCkpKVxuXG4gICAgdGhpcy5ib3JkZXJXaWR0aElucHV0ID0gdGhpcy5pbml0SW5wdXQoJy5ib3JkZXItd2lkdGgtaW5wdXQnLCAoZSkgPT4gdGhpcy5vbkJvcmRlcldpZHRoQ2hhbmdlZCgpKVxuICAgIHRoaXMuYm9yZGVyU3R5bGVDb21ib0JveCA9IHRoaXMuaW5pdENvbWJvQm94KCcuYm9yZGVyLXR5cGUtY29tYm8tYm94JywgKGUpID0+IHRoaXMub25Cb3JkZXJTdHlsZUNoYW5nZWQoKSlcbiAgICB0aGlzLmJvcmRlclJhZGl1c0lucHV0ID0gdGhpcy5pbml0SW5wdXQoJy5jb3JuZXItcmFkaXVzLWlucHV0JywgKGUpID0+IHRoaXMub25Cb3JkZXJDb3JuZXJDaGFuZ2VkKCkpXG5cbiAgICBzdWJzY3JpYmVVaSgoKSA9PiB7XG4gICAgICB0aGlzLnJlZHJhdyhnZXRTZWxlY3RlZEVsZW1lbnRzKCkpXG4gICAgfSlcblxuICAgIHN1YnNjcmliZUVsZW1lbnRzKCgpID0+IHtcbiAgICAgIHRoaXMucmVkcmF3KGdldFNlbGVjdGVkRWxlbWVudHMoKSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIHJlZHJhdyB0aGUgcHJvcGVydGllc1xuICAgKi9cbiAgcmVkcmF3KHNlbGVjdGVkRWxlbWVudHM6IEVsZW1lbnRTdGF0ZVtdKSB7XG4gICAgc3VwZXIucmVkcmF3KHNlbGVjdGVkRWxlbWVudHMpXG5cbiAgICBpZiAoaXNEaWFsb2dWaXNpYmxlKCdkZXNpZ24nLCAncHJvcGVydGllcycpKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnXG5cbiAgICAgIGNvbnN0IGlzTW9iaWxlID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3IgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJ1xuXG4gICAgICAvLyBib3JkZXIgd2lkdGgsIHRoaXMgYnVpbGRzIGEgc3RyaW5nIGxpa2UgXCIwcHggMXB4IDJweCAzcHhcIlxuICAgICAgLy8gRklYTUU6IHNob3VsZCBub3QgYnVpbGQgYSBzdHJpbmcgd2hpY2ggaXMgdGhlbiBzcGxpdCBpbiByZWRyYXdCb3JkZXJXaWR0aFxuICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSB0aGlzLmdldENvbW1vblByb3BlcnR5PEVsZW1lbnRTdGF0ZSwgc3RyaW5nPihzZWxlY3RlZEVsZW1lbnRzLCAoZWwpID0+IHtcbiAgICAgICAgY29uc3QgdyA9IGVsLnN0eWxlW2lzTW9iaWxlXVsnYm9yZGVyLXdpZHRoJ11cbiAgICAgICAgaWYgKHcgJiYgdyAhPT0gJycpIHtcbiAgICAgICAgICByZXR1cm4gd1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIGRpc3BsYXkgd2lkdGggb3IgcmVzZXQgYm9yZGVycyBpZiB3aWR0aCBpcyBudWxsXG4gICAgICBpZiAoYm9yZGVyV2lkdGgpIHtcbiAgICAgICAgdGhpcy5yZWRyYXdCb3JkZXJXaWR0aChib3JkZXJXaWR0aClcbiAgICAgICAgdGhpcy5yZWRyYXdCb3JkZXJDb2xvcihzZWxlY3RlZEVsZW1lbnRzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNldEJvcmRlcigpXG4gICAgICB9XG5cbiAgICAgIC8vIGJvcmRlciBzdHlsZVxuICAgICAgY29uc3QgYm9yZGVyU3R5bGUgPSB0aGlzLmdldENvbW1vblByb3BlcnR5KHNlbGVjdGVkRWxlbWVudHMsIChlbCkgPT4gZWwuc3R5bGVbaXNNb2JpbGVdWydib3JkZXItc3R5bGUnXSlcblxuICAgICAgaWYgKGJvcmRlclN0eWxlKSB7XG4gICAgICAgIHRoaXMuYm9yZGVyU3R5bGVDb21ib0JveC52YWx1ZSA9IGJvcmRlclN0eWxlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJvcmRlclN0eWxlQ29tYm9Cb3guc2VsZWN0ZWRJbmRleCA9IDBcbiAgICAgIH1cblxuICAgICAgLy8gYm9yZGVyIHJhZGl1c1xuICAgICAgY29uc3QgYm9yZGVyUmFkaXVzU3RyID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShzZWxlY3RlZEVsZW1lbnRzLCAoZWwpID0+IGVsLnN0eWxlW2lzTW9iaWxlXVsnYm9yZGVyLXJhZGl1cyddKVxuXG4gICAgICBpZiAoYm9yZGVyUmFkaXVzU3RyKSB7XG4gICAgICAgIHRoaXMucmVkcmF3Qm9yZGVyUmFkaXVzKGJvcmRlclJhZGl1c1N0cilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzZXRCb3JkZXJSYWRpdXMoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiByZWRyYXcgYm9yZGVyIGNvbG9yIFVJXG4gICAqL1xuICByZWRyYXdCb3JkZXJDb2xvcihzZWxlY3RlZEVsZW1lbnRzOiBFbGVtZW50U3RhdGVbXSkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3IgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJ1xuXG4gICAgaWYgKHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5jb2xvclBpY2tlci5zZXREaXNhYmxlZChmYWxzZSlcbiAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShzZWxlY3RlZEVsZW1lbnRzLCAoZWwpID0+IGVsLnN0eWxlW2lzTW9iaWxlXVsnYm9yZGVyLWNvbG9yJ10gfHwgJ3JnYmEoMCwwLDAsMSknKVxuXG4gICAgICAvLyBpbmRldGVybWluYXRlIHN0YXRlXG4gICAgICB0aGlzLmNvbG9yUGlja2VyLnNldEluZGV0ZXJtaW5hdGUoY29sb3IgPT0gbnVsbClcblxuICAgICAgLy8gZGlzcGxheSBjb2xvclxuICAgICAgaWYgKGNvbG9yICE9IG51bGwgKSB7XG4gICAgICAgIHRoaXMuY29sb3JQaWNrZXIuc2V0Q29sb3IoY29sb3IpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29sb3JQaWNrZXIuc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IGJvcmRlciByYWRpdXMgVUlcbiAgICovXG4gIHJlZHJhd0JvcmRlclJhZGl1cyhib3JkZXJXaWR0aCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IGJvcmRlcldpZHRoLnNwbGl0KCcgJylcblxuICAgIC8vIGdldCBjb3JuZXIgcmFkaXVzIHZhbHVlLCBnZXQgdGhlIGZpcnN0IG5vbi16ZXJvIHZhbHVlXG4gICAgbGV0IHZhbCA9IHZhbHVlc1swXVxuICAgIGlmICh2YWx1ZXNbMV0gIT0gbnVsbCAgJiYgdmFsID09PSAnMCcgfHwgdmFsID09PSAnMHB4Jykge1xuICAgICAgdmFsID0gdmFsdWVzWzFdXG4gICAgfVxuICAgIGlmICh2YWx1ZXNbMl0gIT0gbnVsbCAgJiYgdmFsID09PSAnMCcgfHwgdmFsID09PSAnMHB4Jykge1xuICAgICAgdmFsID0gdmFsdWVzWzJdXG4gICAgfVxuICAgIGlmICh2YWx1ZXNbM10gIT0gbnVsbCAgJiYgdmFsID09PSAnMCcgfHwgdmFsID09PSAnMHB4Jykge1xuICAgICAgdmFsID0gdmFsdWVzWzNdXG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHVuaXQgd2hlbiBuZWVkZWRcbiAgICBpZiAodmFsICE9IG51bGwgICYmIHZhbCAhPT0gJzAnICYmIHZhbCAhPT0gJzBweCcpIHtcbiAgICAgIHRoaXMuYm9yZGVyUmFkaXVzSW5wdXQudmFsdWUgPSB2YWwuc3Vic3RyKDAsIHZhbC5pbmRleE9mKCdweCcpKVxuXG4gICAgICAvLyBjb3JuZXIgcGxhY2VtZW50XG4gICAgICBsZXQgaWR4XG4gICAgICBjb25zdCBsZW4gPSB0aGlzLmNvcm5lclBsYWNlbWVudENoZWNrQm94ZXMubGVuZ3RoXG4gICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgY2hlY2tCb3ggPSB0aGlzLmNvcm5lclBsYWNlbWVudENoZWNrQm94ZXNbaWR4XVxuICAgICAgICBpZiAodmFsdWVzW2lkeF0gIT09ICcwJyAmJiB2YWx1ZXNbaWR4XSAhPT0gJzBweCcpIHtcbiAgICAgICAgICBjaGVja0JveC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrQm94LmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzZXRCb3JkZXJSYWRpdXMoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiByZWRyYXcgYm9yZGVyIHdpZHRoIFVJXG4gICAqL1xuICByZWRyYXdCb3JkZXJXaWR0aChib3JkZXJXaWR0aCkge1xuICAgIC8vIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdFxuICAgIGNvbnN0IHZhbHVlcyA9IGJvcmRlcldpZHRoLnNwbGl0KCcgJylcblxuICAgIC8vIGdldCB0aGUgZmlyc3Qgbm9uLXplcm8gdmFsdWVcbiAgICBsZXQgdmFsID0gdmFsdWVzWzBdXG4gICAgaWYgKHZhbHVlc1sxXSAhPSBudWxsICAmJiB2YWwgPT09ICcwJyB8fCB2YWwgPT09ICcwcHgnKSB7XG4gICAgICB2YWwgPSB2YWx1ZXNbMV1cbiAgICB9XG4gICAgaWYgKHZhbHVlc1syXSAhPSBudWxsICAmJiB2YWwgPT09ICcwJyB8fCB2YWwgPT09ICcwcHgnKSB7XG4gICAgICB2YWwgPSB2YWx1ZXNbMl1cbiAgICB9XG4gICAgaWYgKHZhbHVlc1szXSAhPSBudWxsICAmJiB2YWwgPT09ICcwJyB8fCB2YWwgPT09ICcwcHgnKSB7XG4gICAgICB2YWwgPSB2YWx1ZXNbM11cbiAgICB9XG5cbiAgICAvLyBpZiB0aGVyZSBpcyBhIG5vbi16ZXJvIHZhbHVlXG4gICAgaWYgKHZhbCAhPT0gJzAnICYmIHZhbCAhPT0gJzBweCcpIHtcbiAgICAgIHRoaXMuYm9yZGVyV2lkdGhJbnB1dC52YWx1ZSA9IHZhbC5zdWJzdHIoMCwgdmFsLmluZGV4T2YoJ3B4JykpXG5cbiAgICAgIC8vIGJvcmRlciBwbGFjZW1lbnRcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMuYm9yZGVyUGxhY2VtZW50Q2hlY2tCb3hlcy5sZW5ndGhcbiAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgY2hlY2tCb3ggPSB0aGlzLmJvcmRlclBsYWNlbWVudENoZWNrQm94ZXNbaWR4XVxuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IGlkeCAmJiB2YWx1ZXNbaWR4XSAhPT0gJzAnICYmXG4gICAgICAgICAgICB2YWx1ZXNbaWR4XSAhPT0gJzBweCcpIHtcbiAgICAgICAgICBjaGVja0JveC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrQm94LmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzZXRCb3JkZXIoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiByZXNldCBVSVxuICAgKi9cbiAgcmVzZXRCb3JkZXJSYWRpdXMoKSB7XG4gICAgdGhpcy5ib3JkZXJSYWRpdXNJbnB1dC52YWx1ZSA9ICcnXG5cbiAgICAvLyBjb3JuZXIgcGxhY2VtZW50XG4gICAgbGV0IGlkeFxuICAgIGNvbnN0IGxlbiA9IHRoaXMuY29ybmVyUGxhY2VtZW50Q2hlY2tCb3hlcy5sZW5ndGhcbiAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgIGNvbnN0IGNoZWNrQm94ID0gdGhpcy5jb3JuZXJQbGFjZW1lbnRDaGVja0JveGVzW2lkeF1cbiAgICAgIGNoZWNrQm94LmNoZWNrZWQgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHJlc2V0IFVJXG4gICAqL1xuICByZXNldEJvcmRlcigpIHtcbiAgICB0aGlzLmJvcmRlcldpZHRoSW5wdXQudmFsdWUgPSAnJ1xuXG4gICAgLy8gYm9yZGVyIHBsYWNlbWVudFxuICAgIGxldCBpZHhcbiAgICBjb25zdCBsZW4gPSB0aGlzLmJvcmRlclBsYWNlbWVudENoZWNrQm94ZXMubGVuZ3RoXG4gICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgICBjb25zdCBjaGVja0JveCA9IHRoaXMuYm9yZGVyUGxhY2VtZW50Q2hlY2tCb3hlc1tpZHhdXG4gICAgICBjaGVja0JveC5jaGVja2VkID0gdHJ1ZVxuICAgIH1cblxuICAgIC8vIGJvcmRlciBjb2xvclxuICAgIHRoaXMuY29sb3JQaWNrZXIuc2V0Q29sb3IoJycpXG4gICAgdGhpcy5jb2xvclBpY2tlci5zZXREaXNhYmxlZCh0cnVlKVxuICB9XG5cbiAgLyoqXG4gICAqIHByb3BlcnR5IGNoYW5nZWRcbiAgICogY2FsbGJhY2sgZm9yIG51bWJlciBpbnB1dHNcbiAgICovXG4gIG9uQm9yZGVyV2lkdGhDaGFuZ2VkKCkge1xuICAgIGlmICh0aGlzLmJvcmRlcldpZHRoSW5wdXQudmFsdWUgJiYgdGhpcy5ib3JkZXJXaWR0aElucHV0LnZhbHVlICE9PSAnJyAmJiB0aGlzLmJvcmRlcldpZHRoSW5wdXQudmFsdWUgIT09ICcwJykge1xuICAgICAgLy8gYm9yZGVyIGNvbG9yXG4gICAgICB0aGlzLmNvbG9yUGlja2VyLnNldERpc2FibGVkKGZhbHNlKVxuICAgICAgaWYgKHRoaXMuY29sb3JQaWNrZXIuZ2V0Q29sb3IoKSA9PSBudWxsIHx8IHRoaXMuY29sb3JQaWNrZXIuZ2V0Q29sb3IoKSA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5jb2xvclBpY2tlci5zZXRDb2xvcigncmdiYSgwLDAsMCwxKScpXG4gICAgICB9XG5cbiAgICAgIC8vIGJvcmRlciBwbGFjZW1lbnRcbiAgICAgIGxldCBib3JkZXJXaWR0aFN0ciA9ICcnXG4gICAgICBsZXQgaWR4XG4gICAgICBjb25zdCBsZW4gPSB0aGlzLmJvcmRlclBsYWNlbWVudENoZWNrQm94ZXMubGVuZ3RoXG4gICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgY2hlY2tCb3ggPSB0aGlzLmJvcmRlclBsYWNlbWVudENoZWNrQm94ZXNbaWR4XVxuICAgICAgICBpZiAoY2hlY2tCb3guY2hlY2tlZCkge1xuICAgICAgICAgIGJvcmRlcldpZHRoU3RyICs9IHRoaXMuYm9yZGVyV2lkdGhJbnB1dC52YWx1ZSArICdweCAnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9yZGVyV2lkdGhTdHIgKz0gJzAgJ1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHJlc2V0IGluZGV0ZXJtaW5hdGUgc3RhdGUgKGJlY2F1c2UgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIHdpbGwgYmVcbiAgICAgIC8vIGNoYW5nZWQgdGhlIHNhbWUgdmFsdWUpXG4gICAgICB0aGlzLmNvbG9yUGlja2VyLnNldEluZGV0ZXJtaW5hdGUoZmFsc2UpXG5cbiAgICAgIGNvbnN0IGJvcmRlclN0eWxlU3RyID0gdGhpcy5ib3JkZXJTdHlsZUNvbWJvQm94LnZhbHVlXG5cbiAgICAgIHVwZGF0ZUVsZW1lbnRzKGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgICAgLm1hcCgoZWwpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZWwsXG4gICAgICAgICAgICBzdHlsZTogYWRkVG9Nb2JpbGVPckRlc2t0b3BTdHlsZShnZXRVaSgpLm1vYmlsZUVkaXRvciwgZWwuc3R5bGUsIHtcbiAgICAgICAgICAgICAgJ2JvcmRlci13aWR0aCc6IGJvcmRlcldpZHRoU3RyLFxuICAgICAgICAgICAgICAnYm9yZGVyLXN0eWxlJzogYm9yZGVyU3R5bGVTdHIsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVFbGVtZW50cyhnZXRTZWxlY3RlZEVsZW1lbnRzKClcbiAgICAgIC5tYXAoKGVsKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZWwsXG4gICAgICAgICAgc3R5bGU6IGFkZFRvTW9iaWxlT3JEZXNrdG9wU3R5bGUoZ2V0VWkoKS5tb2JpbGVFZGl0b3IsIGVsLnN0eWxlLCB7XG4gICAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogJycsXG4gICAgICAgICAgICAnYm9yZGVyLXN0eWxlJzogJycsXG4gICAgICAgICAgfSksXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgICAgdGhpcy5jb2xvclBpY2tlci5zZXREaXNhYmxlZCh0cnVlKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAqIGNhbGxiYWNrIGZvciBudW1iZXIgaW5wdXRzXG4gICAqIGJvcmRlciBzdHlsZVxuICAgKi9cbiAgb25Cb3JkZXJTdHlsZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5zdHlsZUNoYW5nZWQoJ2JvcmRlci1zdHlsZScsIHRoaXMuYm9yZGVyU3R5bGVDb21ib0JveC52YWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAqIGNhbGxiYWNrIGZvciBudW1iZXIgaW5wdXRzXG4gICAqL1xuICBvbkJvcmRlckNvbG9yQ2hhbmdlZCgpIHtcbiAgICB0aGlzLnN0eWxlQ2hhbmdlZCgnYm9yZGVyLWNvbG9yJywgdGhpcy5jb2xvclBpY2tlci5nZXRDb2xvcigpKVxuICB9XG5cbiAgLyoqXG4gICAqIHByb3BlcnR5IGNoYW5nZWRcbiAgICogY2FsbGJhY2sgZm9yIG51bWJlciBpbnB1dHNcbiAgICovXG4gIG9uQm9yZGVyQ29ybmVyQ2hhbmdlZCgpIHtcbiAgICAvLyBjb3JuZXIgcmFkaXVzXG4gICAgaWYgKHRoaXMuYm9yZGVyUmFkaXVzSW5wdXQudmFsdWUgIT0gbnVsbCAgJiZcbiAgICAgICAgdGhpcy5ib3JkZXJSYWRpdXNJbnB1dC52YWx1ZSAhPT0gJycpIHtcbiAgICAgIC8vIGNvcm5lciBwbGFjZW1lbnRcbiAgICAgIGxldCBib3JkZXJXaWR0aFN0ciA9ICcnXG4gICAgICBsZXQgaWR4XG4gICAgICBjb25zdCBsZW4gPSB0aGlzLmNvcm5lclBsYWNlbWVudENoZWNrQm94ZXMubGVuZ3RoXG4gICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgY2hlY2tCb3ggPSB0aGlzLmNvcm5lclBsYWNlbWVudENoZWNrQm94ZXNbaWR4XVxuICAgICAgICBpZiAoY2hlY2tCb3guY2hlY2tlZCkge1xuICAgICAgICAgIGJvcmRlcldpZHRoU3RyICs9IHRoaXMuYm9yZGVyUmFkaXVzSW5wdXQudmFsdWUgKyAncHggJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvcmRlcldpZHRoU3RyICs9ICcwICdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5zdHlsZUNoYW5nZWQoJ2JvcmRlci1yYWRpdXMnLCBib3JkZXJXaWR0aFN0cilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHlsZUNoYW5nZWQoJ2JvcmRlci1yYWRpdXMnLCBudWxsKVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gKGYpID0+ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGQgPSBmKC4uLmFyZ3MpO1xuICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgIHJldHVybiBkO1xufSk7XG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmUgPSAobykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyAmJiBkaXJlY3RpdmVzLmhhcyhvKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMgIT0gbnVsbCAmJlxuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG4vKipcbiAqIFJlcGFyZW50cyBub2Rlcywgc3RhcnRpbmcgZnJvbSBgc3RhcnRgIChpbmNsdXNpdmUpIHRvIGBlbmRgIChleGNsdXNpdmUpLFxuICogaW50byBhbm90aGVyIGNvbnRhaW5lciAoY291bGQgYmUgdGhlIHNhbWUgY29udGFpbmVyKSwgYmVmb3JlIGBiZWZvcmVgLiBJZlxuICogYGJlZm9yZWAgaXMgbnVsbCwgaXQgYXBwZW5kcyB0aGUgbm9kZXMgdG8gdGhlIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlcGFyZW50Tm9kZXMgPSAoY29udGFpbmVyLCBzdGFydCwgZW5kID0gbnVsbCwgYmVmb3JlID0gbnVsbCkgPT4ge1xuICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydC5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzdGFydCwgYmVmb3JlKTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbn07XG4vKipcbiAqIFJlbW92ZXMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSwgZnJvbVxuICogYGNvbnRhaW5lcmAuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVOb2RlcyA9IChjb250YWluZXIsIHN0YXJ0LCBlbmQgPSBudWxsKSA9PiB7XG4gICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0Lm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3RhcnQpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSB7fTtcbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgYSBOb2RlUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB3aXRoIGVtYmVkZGVkIHVuaXF1ZSBrZXkgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGhcbiAqIHBvc3NpYmxlIHRleHQgaW4gdGVtcGxhdGVzLlxuICovXG5leHBvcnQgY29uc3QgbWFya2VyID0gYHt7bGl0LSR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpfX19YDtcbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5leHBvcnQgY29uc3QgbWFya2VyUmVnZXggPSBuZXcgUmVnRXhwKGAke21hcmtlcn18JHtub2RlTWFya2VyfWApO1xuLyoqXG4gKiBTdWZmaXggYXBwZW5kZWQgdG8gYWxsIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcbi8qKlxuICogQW4gdXBkYXRhYmxlIFRlbXBsYXRlIHRoYXQgdHJhY2tzIHRoZSBsb2NhdGlvbiBvZiBkeW5hbWljIHBhcnRzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdCwgZWxlbWVudCkge1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9SZW1vdmUgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWxlbWVudC5jb250ZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIGxhc3QgaW5kZXggYXNzb2NpYXRlZCB3aXRoIGEgcGFydC4gV2UgdHJ5IHRvIGRlbGV0ZVxuICAgICAgICAvLyB1bm5lY2Vzc2FyeSBub2RlcywgYnV0IHdlIG5ldmVyIHdhbnQgdG8gYXNzb2NpYXRlIHR3byBkaWZmZXJlbnQgcGFydHNcbiAgICAgICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgICAgICBsZXQgbGFzdFBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgeyBzdHJpbmdzLCB2YWx1ZXM6IHsgbGVuZ3RoIH0gfSA9IHJlc3VsdDtcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYW1lZE5vZGVNYXAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZXMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIHJldHVybmVkIGluIGRvY3VtZW50IG9yZGVyLlxuICAgICAgICAgICAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBhc3N1bWUgYSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIHBhcnQgaW5kZXggYW5kIGF0dHJpYnV0ZSBpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY291bnQtLSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdGVtcGxhdGUgbGl0ZXJhbCBzZWN0aW9uIGxlYWRpbmcgdXAgdG8gdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBleHByZXNzaW9uIGluIHRoaXMgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdGb3JQYXJ0ID0gc3RyaW5nc1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMoc3RyaW5nRm9yUGFydClbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKSArIGJvdW5kQXR0cmlidXRlU3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IGF0dHJpYnV0ZVZhbHVlLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBzdGF0aWNzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBub2RlLmRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdzID0gZGF0YS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnNlcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBjcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIG1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdLnNsaWNlKDAsIC1ib3VuZEF0dHJpYnV0ZVN1ZmZpeC5sZW5ndGgpICsgbWF0Y2hbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleDogKytpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHRleHQsIHdlIG11c3QgaW5zZXJ0IGEgY29tbWVudCB0byBtYXJrIG91ciBwbGFjZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHRydXN0IGl0IHdpbGwgc3RpY2sgYXJvdW5kIGFmdGVyIGNsb25pbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgcGFydCBmb3IgZWFjaCBtYXRjaCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgbWFya2VyIG5vZGUgdG8gYmUgdGhlIHN0YXJ0Tm9kZSBvZiB0aGUgUGFydCBpZiBhbnkgb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gICogV2UgZG9uJ3QgaGF2ZSBhIHByZXZpb3VzU2libGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyAgKiBUaGUgcHJldmlvdXNTaWJsaW5nIGlzIGFscmVhZHkgdGhlIHN0YXJ0IG9mIGEgcHJldmlvdXMgcGFydFxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiByZW1vdmUgaXQgdG8gc2F2ZSBmdXR1cmUgY29zdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBub2RlLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiAtMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0ZXh0IGJpbmRpbmcgbm9kZXMgYWZ0ZXIgdGhlIHdhbGsgdG8gbm90IGRpc3R1cmIgdGhlIFRyZWVXYWxrZXJcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc3VmZml4KSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aDtcbiAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVQYXJ0QWN0aXZlID0gKHBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuLy8gQWxsb3dzIGBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKWAgdG8gYmUgcmVuYW1lZCBmb3IgYVxuLy8gc21hbGwgbWFudWFsIHNpemUtc2F2aW5ncy5cbmV4cG9ydCBjb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcbi8qKlxuICogVGhpcyByZWdleCBleHRyYWN0cyB0aGUgYXR0cmlidXRlIG5hbWUgcHJlY2VkaW5nIGFuIGF0dHJpYnV0ZS1wb3NpdGlvblxuICogZXhwcmVzc2lvbi4gSXQgZG9lcyB0aGlzIGJ5IG1hdGNoaW5nIHRoZSBzeW50YXggYWxsb3dlZCBmb3IgYXR0cmlidXRlc1xuICogYWdhaW5zdCB0aGUgc3RyaW5nIGxpdGVyYWwgZGlyZWN0bHkgcHJlY2VkaW5nIHRoZSBleHByZXNzaW9uLCBhc3N1bWluZyB0aGF0XG4gKiB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhbiBhdHRyaWJ1dGUtdmFsdWUgcG9zaXRpb24uXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx4MDlcXHgwYVxceDBjXFx4MGRcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjc3BhY2UtY2hhcmFjdGVyc1xuICpcbiAqIFwiXFwwLVxceDFGXFx4N0YtXFx4OUZcIiBhcmUgVW5pY29kZSBjb250cm9sIGNoYXJhY3RlcnMsIHdoaWNoIGluY2x1ZGVzIGV2ZXJ5XG4gKiBzcGFjZSBjaGFyYWN0ZXIgZXhjZXB0IFwiIFwiLlxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIGNvbnRyb2wgY2hhcmFjdGVyLCBzcGFjZSBjaGFyYWN0ZXIsICgnKSxcbiAqICAgIChcIiksIFwiPlwiLCBcIj1cIiwgb3IgXCIvXCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmV4cG9ydCBjb25zdCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4ID0gXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBpc0NFUG9seWZpbGwgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpc1RlbXBsYXRlUGFydEFjdGl2ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiBhIGBUZW1wbGF0ZWAgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIERPTSBhbmQgdXBkYXRlZFxuICogd2l0aCBuZXcgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHByb2Nlc3Nvciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9fcGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Nsb25lKCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgYSBudW1iZXIgb2Ygc3RlcHMgaW4gdGhlIGxpZmVjeWNsZSBvZiBhIHRlbXBsYXRlIGluc3RhbmNlJ3NcbiAgICAgICAgLy8gRE9NIGZyYWdtZW50OlxuICAgICAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgICAgIC8vICAyLiBBZG9wdCAtIGFkb3B0IGludG8gdGhlIG1haW4gZG9jdW1lbnRcbiAgICAgICAgLy8gIDMuIFByb2Nlc3MgLSBmaW5kIHBhcnQgbWFya2VycyBhbmQgY3JlYXRlIHBhcnRzXG4gICAgICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAgICAgLy8gIDUuIFVwZGF0ZSAtIHNldCBub2RlLCBhdHRyaWJ1dGUsIHByb3BlcnR5LCBldGMuLCB2YWx1ZXNcbiAgICAgICAgLy8gIDYuIENvbm5lY3QgLSBjb25uZWN0IHRvIHRoZSBkb2N1bWVudC4gT3B0aW9uYWwgYW5kIG91dHNpZGUgb2YgdGhpc1xuICAgICAgICAvLyAgICAgbWV0aG9kLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBoYXZlIGEgZmV3IGNvbnN0cmFpbnRzIG9uIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBzdGVwczpcbiAgICAgICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgICAgIC8vICAgIHRocm91Z2ggYW55IHByb3BlcnR5IHNldHRlcnMuXG4gICAgICAgIC8vICAqIFdlIHdvdWxkIGxpa2UgdG8gcHJvY2VzcyBiZWZvcmUgdXBncmFkaW5nIHNvIHRoYXQgd2UncmUgc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgICAgICAvLyAgKiBXZSB3YW50IGN1c3RvbSBlbGVtZW50cyB0byB1cGdyYWRlIGV2ZW4gaW4gZGlzY29ubmVjdGVkIGZyYWdtZW50cy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgICAgICAvLyBwcmVmZXIgdGhlIG9yZGVyOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSwgQ29ubmVjdFxuICAgICAgICAvL1xuICAgICAgICAvLyBCdXQgU2FmYXJpIGRvZXMgbm90IGltcGxlbWVudCBDdXN0b21FbGVtZW50UmVnaXN0cnkjdXBncmFkZSwgc28gd2VcbiAgICAgICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgICAgIC8vIHVwZ3JhZGUgZGlzY29ubmVjdGVkIGZyYWdtZW50cy4gU28gd2UgaW5zdGVhZCBzYWNyaWZpY2UgdGhlXG4gICAgICAgIC8vIHByb2Nlc3MtYmVmb3JlLXVwZ3JhZGUgY29uc3RyYWludCwgc2luY2UgaW4gQ3VzdG9tIEVsZW1lbnRzIHYxIGVsZW1lbnRzXG4gICAgICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgICAgICAvLyB3aGVuIGNvLWV4aXN0aW5nIHdpdGggQ0V2MCBlbGVtZW50cyBsaWtlIFBvbHltZXIgMSwgYW5kIHdpdGggcG9seWZpbGxzXG4gICAgICAgIC8vIHRoYXQgZG9uJ3Qgc3RyaWN0bHkgYWRoZXJlIHRvIHRoZSBuby1tb2RpZmljYXRpb24gcnVsZSBiZWNhdXNlIHNoYWRvd1xuICAgICAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgICAgIC8vIGluIHRoZSBsaWdodCBET00uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgICAgIC8vIFVwZGF0ZSwgQ29ubmVjdC4gZG9jdW1lbnQuaW1wb3J0Tm9kZSgpIHBlcmZvcm1zIENsb25lLCBBZG9wdCwgYW5kIFVwZ3JhZGVcbiAgICAgICAgLy8gaW4gb25lIHN0ZXAuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBDdXN0b20gRWxlbWVudHMgdjEgcG9seWZpbGwgc3VwcG9ydHMgdXBncmFkZSgpLCBzbyB0aGUgb3JkZXIgd2hlblxuICAgICAgICAvLyBwb2x5ZmlsbGVkIGlzIHRoZSBtb3JlIGlkZWFsOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSxcbiAgICAgICAgLy8gQ29ubmVjdC5cbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpc0NFUG9seWZpbGwgP1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIDpcbiAgICAgICAgICAgIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQsIHRydWUpO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgICAgIC8vIEVkZ2UgbmVlZHMgYWxsIDQgcGFyYW1ldGVycyBwcmVzZW50OyBJRTExIG5lZWRzIDNyZCBwYXJhbWV0ZXIgdG8gYmUgbnVsbFxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGZyYWdtZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydDtcbiAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgbm9kZXMgYW5kIHBhcnRzIG9mIGEgdGVtcGxhdGVcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgICAgICBpZiAoIWlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgICAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnByb2Nlc3Nvci5oYW5kbGVUZXh0RXhwcmVzc2lvbih0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHBhcnQuaW5zZXJ0QWZ0ZXJOb2RlKG5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKC4uLnRoaXMucHJvY2Vzc29yLmhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKG5vZGUsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtaW5zdGFuY2UuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIE91ciBUcnVzdGVkVHlwZVBvbGljeSBmb3IgSFRNTCB3aGljaCBpcyBkZWNsYXJlZCB1c2luZyB0aGUgaHRtbCB0ZW1wbGF0ZVxuICogdGFnIGZ1bmN0aW9uLlxuICpcbiAqIFRoYXQgSFRNTCBpcyBhIGRldmVsb3Blci1hdXRob3JlZCBjb25zdGFudCwgYW5kIGlzIHBhcnNlZCB3aXRoIGlubmVySFRNTFxuICogYmVmb3JlIGFueSB1bnRydXN0ZWQgZXhwcmVzc2lvbnMgaGF2ZSBiZWVuIG1peGVkIGluLiBUaGVyZWZvciBpdCBpc1xuICogY29uc2lkZXJlZCBzYWZlIGJ5IGNvbnN0cnVjdGlvbi5cbiAqL1xuY29uc3QgcG9saWN5ID0gd2luZG93LnRydXN0ZWRUeXBlcyAmJlxuICAgIHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ2xpdC1odG1sJywgeyBjcmVhdGVIVE1MOiAocykgPT4gcyB9KTtcbmNvbnN0IGNvbW1lbnRNYXJrZXIgPSBgICR7bWFya2VyfSBgO1xuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgYGh0bWxgLCB3aGljaCBob2xkcyBhIFRlbXBsYXRlIGFuZCB0aGUgdmFsdWVzIGZyb21cbiAqIGludGVycG9sYXRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihzdHJpbmdzLCB2YWx1ZXMsIHR5cGUsIHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgb2YgSFRNTCB1c2VkIHRvIGNyZWF0ZSBhIGA8dGVtcGxhdGU+YCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldEhUTUwoKSB7XG4gICAgICAgIGNvbnN0IGwgPSB0aGlzLnN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgbGV0IGlzQ29tbWVudEJpbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnN0cmluZ3NbaV07XG4gICAgICAgICAgICAvLyBGb3IgZWFjaCBiaW5kaW5nIHdlIHdhbnQgdG8gZGV0ZXJtaW5lIHRoZSBraW5kIG9mIG1hcmtlciB0byBpbnNlcnRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIHRlbXBsYXRlIHNvdXJjZSBiZWZvcmUgaXQncyBwYXJzZWQgYnkgdGhlIGJyb3dzZXIncyBIVE1MXG4gICAgICAgICAgICAvLyBwYXJzZXIuIFRoZSBtYXJrZXIgdHlwZSBpcyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIGluIGFuXG4gICAgICAgICAgICAvLyBhdHRyaWJ1dGUsIHRleHQsIG9yIGNvbW1lbnQgcG9zaXRpb24uXG4gICAgICAgICAgICAvLyAgICogRm9yIG5vZGUtcG9zaXRpb24gYmluZGluZ3Mgd2UgaW5zZXJ0IGEgY29tbWVudCB3aXRoIHRoZSBtYXJrZXJcbiAgICAgICAgICAgIC8vICAgICBzZW50aW5lbCBhcyBpdHMgdGV4dCBjb250ZW50LCBsaWtlIDwhLS17e2xpdC1ndWlkfX0tLT4uXG4gICAgICAgICAgICAvLyAgICogRm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIGZvciB0aGVcbiAgICAgICAgICAgIC8vICAgICBmaXJzdCBiaW5kaW5nLCBzbyB0aGF0IHdlIHN1cHBvcnQgdW5xdW90ZWQgYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgICAgICAgICAgLy8gICAgIFN1YnNlcXVlbnQgYmluZGluZ3MgY2FuIHVzZSBhIGNvbW1lbnQgbWFya2VyIGJlY2F1c2UgbXVsdGktYmluZGluZ1xuICAgICAgICAgICAgLy8gICAgIGF0dHJpYnV0ZXMgbXVzdCBiZSBxdW90ZWQuXG4gICAgICAgICAgICAvLyAgICogRm9yIGNvbW1lbnQgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBzbyB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gICAgIGNsb3NlIHRoZSBjb21tZW50LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc291cmNlLCBidXQgaXMgKm5vdCogYW4gSFRNTFxuICAgICAgICAgICAgLy8gcGFyc2VyLiBXZSBkb24ndCBuZWVkIHRvIHRyYWNrIHRoZSB0cmVlIHN0cnVjdHVyZSBvZiB0aGUgSFRNTCwgb25seVxuICAgICAgICAgICAgLy8gd2hldGhlciBhIGJpbmRpbmcgaXMgaW5zaWRlIGEgY29tbWVudCwgYW5kIGlmIG5vdCwgaWYgaXQgYXBwZWFycyB0byBiZVxuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGJpbmRpbmcgaW4gYW4gYXR0cmlidXRlLlxuICAgICAgICAgICAgY29uc3QgY29tbWVudE9wZW4gPSBzLmxhc3RJbmRleE9mKCc8IS0tJyk7XG4gICAgICAgICAgICAvLyBXZSdyZSBpbiBjb21tZW50IHBvc2l0aW9uIGlmIHdlIGhhdmUgYSBjb21tZW50IG9wZW4gd2l0aCBubyBmb2xsb3dpbmdcbiAgICAgICAgICAgIC8vIGNvbW1lbnQgY2xvc2UuIEJlY2F1c2UgPC0tIGNhbiBhcHBlYXIgaW4gYW4gYXR0cmlidXRlIHZhbHVlIHRoZXJlIGNhblxuICAgICAgICAgICAgLy8gYmUgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgICAgICAgaXNDb21tZW50QmluZGluZyA9IChjb21tZW50T3BlbiA+IC0xIHx8IGlzQ29tbWVudEJpbmRpbmcpICYmXG4gICAgICAgICAgICAgICAgcy5pbmRleE9mKCctLT4nLCBjb21tZW50T3BlbiArIDEpID09PSAtMTtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlIHByZWNlZGluZyB0aGVcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24uIFRoaXMgY2FuIG1hdGNoIFwibmFtZT12YWx1ZVwiIGxpa2Ugc3RydWN0dXJlcyBpbiB0ZXh0LFxuICAgICAgICAgICAgLy8gY29tbWVudHMsIGFuZCBhdHRyaWJ1dGUgdmFsdWVzLCBzbyB0aGVyZSBjYW4gYmUgZmFsc2UtcG9zaXRpdmVzLlxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlTWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSdyZSBvbmx5IGluIHRoaXMgYnJhbmNoIGlmIHdlIGRvbid0IGhhdmUgYSBhdHRyaWJ1dGUtbGlrZVxuICAgICAgICAgICAgICAgIC8vIHByZWNlZGluZyBzZXF1ZW5jZS4gRm9yIGNvbW1lbnRzLCB0aGlzIGd1YXJkcyBhZ2FpbnN0IHVudXN1YWxcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgdmFsdWVzIGxpa2UgPGRpdiBmb289XCI8IS0tJHsnYmFyJ31cIj4uIENhc2VzIGxpa2VcbiAgICAgICAgICAgICAgICAvLyA8IS0tIGZvbz0keydiYXInfS0tPiBhcmUgaGFuZGxlZCBjb3JyZWN0bHkgaW4gdGhlIGF0dHJpYnV0ZSBicmFuY2hcbiAgICAgICAgICAgICAgICAvLyBiZWxvdy5cbiAgICAgICAgICAgICAgICBodG1sICs9IHMgKyAoaXNDb21tZW50QmluZGluZyA/IGNvbW1lbnRNYXJrZXIgOiBub2RlTWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZvciBhdHRyaWJ1dGVzIHdlIHVzZSBqdXN0IGEgbWFya2VyIHNlbnRpbmVsLCBhbmQgYWxzbyBhcHBlbmQgYVxuICAgICAgICAgICAgICAgIC8vICRsaXQkIHN1ZmZpeCB0byB0aGUgbmFtZSB0byBvcHQtb3V0IG9mIGF0dHJpYnV0ZS1zcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgICAgICAgICAgLy8gdGhhdCBJRSBhbmQgRWRnZSBkbyBmb3Igc3R5bGUgYW5kIGNlcnRhaW4gU1ZHIGF0dHJpYnV0ZXMuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBzLnN1YnN0cigwLCBhdHRyaWJ1dGVNYXRjaC5pbmRleCkgKyBhdHRyaWJ1dGVNYXRjaFsxXSArXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU1hdGNoWzJdICsgYm91bmRBdHRyaWJ1dGVTdWZmaXggKyBhdHRyaWJ1dGVNYXRjaFszXSArXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBodG1sICs9IHRoaXMuc3RyaW5nc1tsXTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldEhUTUwoKTtcbiAgICAgICAgaWYgKHBvbGljeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHNlY3VyZSBiZWNhdXNlIGB0aGlzLnN0cmluZ3NgIGlzIGEgVGVtcGxhdGVTdHJpbmdzQXJyYXkuXG4gICAgICAgICAgICAvLyBUT0RPOiB2YWxpZGF0ZSB0aGlzIHdoZW5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFycmF5LWlzLXRlbXBsYXRlLW9iamVjdCBpc1xuICAgICAgICAgICAgLy8gaW1wbGVtZW50ZWQuXG4gICAgICAgICAgICB2YWx1ZSA9IHBvbGljeS5jcmVhdGVIVE1MKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCBmb3IgU1ZHIGZyYWdtZW50cy5cbiAqXG4gKiBUaGlzIGNsYXNzIHdyYXBzIEhUTUwgaW4gYW4gYDxzdmc+YCB0YWcgaW4gb3JkZXIgdG8gcGFyc2UgaXRzIGNvbnRlbnRzIGluIHRoZVxuICogU1ZHIG5hbWVzcGFjZSwgdGhlbiBtb2RpZmllcyB0aGUgdGVtcGxhdGUgdG8gcmVtb3ZlIHRoZSBgPHN2Zz5gIHRhZyBzbyB0aGF0XG4gKiBjbG9uZXMgb25seSBjb250YWluZXIgdGhlIG9yaWdpbmFsIGZyYWdtZW50LlxuICovXG5leHBvcnQgY2xhc3MgU1ZHVGVtcGxhdGVSZXN1bHQgZXh0ZW5kcyBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIGA8c3ZnPiR7c3VwZXIuZ2V0SFRNTCgpfTwvc3ZnPmA7XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBzdXBlci5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoc3ZnRWxlbWVudCk7XG4gICAgICAgIHJlcGFyZW50Tm9kZXMoY29udGVudCwgc3ZnRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLXJlc3VsdC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL3BhcnQuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrZXIgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAodmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICEhKHZhbHVlICYmIHZhbHVlW1N5bWJvbC5pdGVyYXRvcl0pO1xufTtcbi8qKlxuICogV3JpdGVzIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gdGhlIERPTSBmb3IgYSBncm91cCBvZiBBdHRyaWJ1dGVQYXJ0cyBib3VuZCB0byBhXG4gKiBzaW5nbGUgYXR0cmlidXRlLiBUaGUgdmFsdWUgaXMgb25seSBzZXQgb25jZSBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0c1xuICogZm9yIGFuIGF0dHJpYnV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnRzW2ldID0gdGhpcy5fY3JlYXRlUGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaW5nbGUgcGFydC4gT3ZlcnJpZGUgdGhpcyB0byBjcmVhdGUgYSBkaWZmZXJudCB0eXBlIG9mIHBhcnQuXG4gICAgICovXG4gICAgX2NyZWF0ZVBhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlUGFydCh0aGlzKTtcbiAgICB9XG4gICAgX2dldFZhbHVlKCkge1xuICAgICAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMucGFydHM7XG4gICAgICAgIC8vIElmIHdlJ3JlIGFzc2lnbmluZyBhbiBhdHRyaWJ1dGUgdmlhIHN5bnRheCBsaWtlOlxuICAgICAgICAvLyAgICBhdHRyPVwiJHtmb299XCIgIG9yICBhdHRyPSR7Zm9vfVxuICAgICAgICAvLyBidXQgbm90XG4gICAgICAgIC8vICAgIGF0dHI9XCIke2Zvb30gJHtiYXJ9XCIgb3IgYXR0cj1cIiR7Zm9vfSBiYXpcIlxuICAgICAgICAvLyB0aGVuIHdlIGRvbid0IHdhbnQgdG8gY29lcmNlIHRoZSBhdHRyaWJ1dGUgdmFsdWUgaW50byBvbmUgbG9uZ1xuICAgICAgICAvLyBzdHJpbmcuIEluc3RlYWQgd2Ugd2FudCB0byBqdXN0IHJldHVybiB0aGUgdmFsdWUgaXRzZWxmIGRpcmVjdGx5LFxuICAgICAgICAvLyBzbyB0aGF0IHNhbml0aXplRE9NVmFsdWUgY2FuIGdldCB0aGUgYWN0dWFsIHZhbHVlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vIFN0cmluZyh2YWx1ZSlcbiAgICAgICAgLy8gVGhlIGV4Y2VwdGlvbiBpcyBpZiB2IGlzIGFuIGFycmF5LCBpbiB3aGljaCBjYXNlIHdlIGRvIHdhbnQgdG8gc21hc2hcbiAgICAgICAgLy8gaXQgdG9nZXRoZXIgaW50byBhIHN0cmluZyB3aXRob3V0IGNhbGxpbmcgU3RyaW5nKCkgb24gdGhlIGFycmF5LlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGFsc28gYWxsb3dzIHRydXN0ZWQgdmFsdWVzICh3aGVuIHVzaW5nIFRydXN0ZWRUeXBlcykgYmVpbmdcbiAgICAgICAgLy8gYXNzaWduZWQgdG8gRE9NIHNpbmtzIHdpdGhvdXQgYmVpbmcgc3RyaW5naWZpZWQgaW4gdGhlIHByb2Nlc3MuXG4gICAgICAgIGlmIChsID09PSAxICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gcGFydHNbMF0udmFsdWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGV4dCArPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2KSB8fCAhaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdCA9PT0gJ3N0cmluZycgPyB0IDogU3RyaW5nKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRleHQgKz0gc3RyaW5nc1tsXTtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoY29tbWl0dGVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29tbWl0dGVyID0gY29tbWl0dGVyO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IG5vQ2hhbmdlICYmICghaXNQcmltaXRpdmUodmFsdWUpIHx8IHZhbHVlICE9PSB0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgbm90IGEgZGlyZWN0aXZlLCBkaXJ0eSB0aGUgY29tbWl0dGVyIHNvIHRoYXQgaXQnbGxcbiAgICAgICAgICAgIC8vIGNhbGwgc2V0QXR0cmlidXRlLiBJZiB0aGUgdmFsdWUgaXMgYSBkaXJlY3RpdmUsIGl0J2xsIGRpcnR5IHRoZVxuICAgICAgICAgICAgLy8gY29tbWl0dGVyIGlmIGl0IGNhbGxzIHNldFZhbHVlKCkuXG4gICAgICAgICAgICBpZiAoIWlzRGlyZWN0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0dGVyLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgICB9XG59XG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGFwcGVuZEludG8oY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIG5vZGUgKGJldHdlZW4gYHJlZmAgYW5kIGByZWZgJ3MgbmV4dFxuICAgICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAgICogc3VjaCBhcyB0aG9zZSB0aGF0IGFwcGVhciBpbiBhIGxpdGVyYWwgc2VjdGlvbiBvZiBhIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXJOb2RlKHJlZikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IHJlZjtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvUGFydChwYXJ0KSB7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgcGFydC5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGluc2VydEFmdGVyUGFydChyZWYpIHtcbiAgICAgICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSByZWYuZW5kTm9kZTtcbiAgICAgICAgcmVmLmVuZE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbm90aGluZztcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrLCB3aWxsIHJlbmRlciB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19pbnNlcnQobm9kZSkge1xuICAgICAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5lbmROb2RlKTtcbiAgICB9XG4gICAgX19jb21taXROb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fX2luc2VydCh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX19jb21taXRUZXh0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnN0YXJ0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgLy8gSWYgYHZhbHVlYCBpc24ndCBhbHJlYWR5IGEgc3RyaW5nLCB3ZSBleHBsaWNpdGx5IGNvbnZlcnQgaXQgaGVyZSBpbiBjYXNlXG4gICAgICAgIC8vIGl0IGNhbid0IGJlIGltcGxpY2l0bHkgY29udmVydGVkIC0gaS5lLiBpdCdzIGEgc3ltYm9sLlxuICAgICAgICBjb25zdCB2YWx1ZUFzU3RyaW5nID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgLyogTm9kZS5URVhUX05PREUgKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHdlIG9ubHkgaGF2ZSBhIHNpbmdsZSB0ZXh0IG5vZGUgYmV0d2VlbiB0aGUgbWFya2Vycywgd2UgY2FuIGp1c3RcbiAgICAgICAgICAgIC8vIHNldCBpdHMgdmFsdWUsIHJhdGhlciB0aGFuIHJlcGxhY2luZyBpdC5cbiAgICAgICAgICAgIC8vIFRPRE8oanVzdGluZmFnbmFuaSk6IENhbiB3ZSBqdXN0IGNoZWNrIGlmIHRoaXMudmFsdWUgaXMgcHJpbWl0aXZlP1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdmFsdWVBc1N0cmluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlQXNTdHJpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLm9wdGlvbnMudGVtcGxhdGVGYWN0b3J5KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlICYmXG4gICAgICAgICAgICB0aGlzLnZhbHVlLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBwcm9wYWdhdGUgdGhlIHRlbXBsYXRlIHByb2Nlc3NvciBmcm9tIHRoZSBUZW1wbGF0ZVJlc3VsdFxuICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSB1c2UgaXRzIHN5bnRheCBleHRlbnNpb24sIGV0Yy4gVGhlIHRlbXBsYXRlIGZhY3RvcnkgY29tZXNcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIHJlbmRlciBmdW5jdGlvbiBvcHRpb25zIHNvIHRoYXQgaXQgY2FuIGNvbnRyb2wgdGVtcGxhdGVcbiAgICAgICAgICAgIC8vIGNhY2hpbmcgYW5kIHByZXByb2Nlc3NpbmcuXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlLCB2YWx1ZS5wcm9jZXNzb3IsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSgpO1xuICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19jb21taXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgICAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAgICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgICAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuICAgICAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAgICAgLy8gaXRlcmFibGUgYW5kIF92YWx1ZSB3aWxsIGNvbnRhaW4gdGhlIE5vZGVQYXJ0cyBmcm9tIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyByZW5kZXIuIElmIF92YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgICAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZXRzIHVzIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgaXRlbXMgd2Ugc3RhbXBlZCBzbyB3ZSBjYW4gY2xlYXIgbGVmdG92ZXJcbiAgICAgICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgICAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGl0ZW1QYXJ0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgaWYgKGl0ZW1QYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0cy5wdXNoKGl0ZW1QYXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0LmFwcGVuZEludG9QYXJ0KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVBhcnQuaW5zZXJ0QWZ0ZXJQYXJ0KGl0ZW1QYXJ0c1twYXJ0SW5kZXggLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcihzdGFydE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgICAgICByZW1vdmVOb2Rlcyh0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlLCBzdGFydE5vZGUubmV4dFNpYmxpbmcsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgYm9vbGVhbiBhdHRyaWJ1dGUsIHJvdWdobHkgYXMgZGVmaW5lZCBpbiB0aGUgSFRNTFxuICogc3BlY2lmaWNhdGlvbi5cbiAqXG4gKiBJZiB0aGUgdmFsdWUgaXMgdHJ1dGh5LCB0aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcHJlc2VudCB3aXRoIGEgdmFsdWUgb2ZcbiAqICcnLiBJZiB0aGUgdmFsdWUgaXMgZmFsc2V5LCB0aGUgYXR0cmlidXRlIGlzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBCb29sZWFuQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc3RyaW5ncy5sZW5ndGggIT09IDIgfHwgc3RyaW5nc1swXSAhPT0gJycgfHwgc3RyaW5nc1sxXSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm9vbGVhbiBhdHRyaWJ1dGVzIGNhbiBvbmx5IGNvbnRhaW4gYSBzaW5nbGUgZXhwcmVzc2lvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxufVxuLyoqXG4gKiBTZXRzIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIFByb3BlcnR5UGFydHMsIHNvIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2VcbiAqIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIGZvciBhIHByb3BlcnR5LlxuICpcbiAqIElmIGFuIGV4cHJlc3Npb24gY29udHJvbHMgdGhlIHdob2xlIHByb3BlcnR5IHZhbHVlLCB0aGVuIHRoZSB2YWx1ZSBpcyBzaW1wbHlcbiAqIGFzc2lnbmVkIHRvIHRoZSBwcm9wZXJ0eSB1bmRlciBjb250cm9sLiBJZiB0aGVyZSBhcmUgc3RyaW5nIGxpdGVyYWxzIG9yXG4gKiBtdWx0aXBsZSBleHByZXNzaW9ucywgdGhlbiB0aGUgc3RyaW5ncyBhcmUgZXhwcmVzc2lvbnMgYXJlIGludGVycG9sYXRlZCBpbnRvXG4gKiBhIHN0cmluZyBmaXJzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5Q29tbWl0dGVyIGV4dGVuZHMgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgICAgICB0aGlzLnNpbmdsZSA9XG4gICAgICAgICAgICAoc3RyaW5ncy5sZW5ndGggPT09IDIgJiYgc3RyaW5nc1swXSA9PT0gJycgJiYgc3RyaW5nc1sxXSA9PT0gJycpO1xuICAgIH1cbiAgICBfY3JlYXRlUGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJ0c1swXS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXSA9IHRoaXMuX2dldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG59XG4vLyBEZXRlY3QgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBzdXBwb3J0LiBJZiB0aGUgYGNhcHR1cmVgIHByb3BlcnR5IGlzIHJlYWRcbi8vIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0LCB0aGVuIG9wdGlvbnMgYXJlIHN1cHBvcnRlZC4gSWYgbm90LCB0aGVuIHRoZSB0aGlyZFxuLy8gYXJndW1lbnQgdG8gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaXMgaW50ZXJwcmV0ZWQgYXMgdGhlIGJvb2xlYW4gY2FwdHVyZVxuLy8gdmFsdWUgc28gd2Ugc2hvdWxkIG9ubHkgcGFzcyB0aGUgYGNhcHR1cmVgIHByb3BlcnR5LlxubGV0IGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xuLy8gV3JhcCBpbnRvIGFuIElJRkUgYmVjYXVzZSBNUyBFZGdlIDw9IHY0MSBkb2VzIG5vdCBzdXBwb3J0IGhhdmluZyB0cnkvY2F0Y2hcbi8vIGJsb2NrcyByaWdodCBpbnRvIHRoZSBib2R5IG9mIGEgbW9kdWxlXG4oKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgICAgICAgICAgICBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9lKSB7XG4gICAgICAgIC8vIGV2ZW50IG9wdGlvbnMgbm90IHN1cHBvcnRlZFxuICAgIH1cbn0pKCk7XG5leHBvcnQgY2xhc3MgRXZlbnRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBldmVudE5hbWUsIGV2ZW50Q29udGV4dCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5ldmVudENvbnRleHQgPSBldmVudENvbnRleHQ7XG4gICAgICAgIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50ID0gKGUpID0+IHRoaXMuaGFuZGxlRXZlbnQoZSk7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID0gbmV3TGlzdGVuZXIgPT0gbnVsbCB8fFxuICAgICAgICAgICAgb2xkTGlzdGVuZXIgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLm9uY2UgIT09IG9sZExpc3RlbmVyLm9uY2UgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT0gb2xkTGlzdGVuZXIucGFzc2l2ZSk7XG4gICAgICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID0gbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZEFkZExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9fb3B0aW9ucyA9IGdldE9wdGlvbnMobmV3TGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBXZSBjb3B5IG9wdGlvbnMgYmVjYXVzZSBvZiB0aGUgaW5jb25zaXN0ZW50IGJlaGF2aW9yIG9mIGJyb3dzZXJzIHdoZW4gcmVhZGluZ1xuLy8gdGhlIHRoaXJkIGFyZ3VtZW50IG9mIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyLiBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBvcHRpb25zXG4vLyBhdCBhbGwuIENocm9tZSA0MSBvbmx5IHJlYWRzIGBjYXB0dXJlYCBpZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0LlxuY29uc3QgZ2V0T3B0aW9ucyA9IChvKSA9PiBvICYmXG4gICAgKGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA/XG4gICAgICAgIHsgY2FwdHVyZTogby5jYXB0dXJlLCBwYXNzaXZlOiBvLnBhc3NpdmUsIG9uY2U6IG8ub25jZSB9IDpcbiAgICAgICAgby5jYXB0dXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyIH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhbiBhdHRyaWJ1dGUtcG9zaXRpb24gYmluZGluZywgZ2l2ZW4gdGhlIGV2ZW50LCBhdHRyaWJ1dGVcbiAgICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgYmluZGluZ1xuICAgICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgICAqICAgZXZlbnQgZm9yIGZ1bGx5LWNvbnRyb2xsZWQgYmluZGluZ3Mgd2l0aCBhIHNpbmdsZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgUHJvcGVydHlDb21taXR0ZXIoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyk7XG4gICAgICAgICAgICByZXR1cm4gY29tbWl0dGVyLnBhcnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJz8nKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBCb29sZWFuQXR0cmlidXRlUGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IEF0dHJpYnV0ZUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhIHRleHQtcG9zaXRpb24gYmluZGluZy5cbiAgICAgKiBAcGFyYW0gdGVtcGxhdGVGYWN0b3J5XG4gICAgICovXG4gICAgaGFuZGxlVGV4dEV4cHJlc3Npb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0KSB7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQocmVzdWx0LnR5cGUpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChyZXN1bHQudHlwZSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgbmV3LCBnZW5lcmF0ZSBhIGtleSBmcm9tIHRoZSBzdHJpbmdzXG4gICAgLy8gVGhpcyBrZXkgaXMgc2hhcmVkIGJldHdlZW4gYWxsIHRlbXBsYXRlcyB3aXRoIGlkZW50aWNhbCBjb250ZW50XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3Qgc2VlbiB0aGlzIGtleSBiZWZvcmUsIGNyZWF0ZSBhIG5ldyBUZW1wbGF0ZVxuICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgICAgIC8vIENhY2hlIHRoZSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICAvLyBDYWNoZSBhbGwgZnV0dXJlIHF1ZXJpZXMgZm9yIHRoaXMgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59XG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1mYWN0b3J5LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgTm9kZVBhcnQgfSBmcm9tICcuL3BhcnRzLmpzJztcbmltcG9ydCB7IHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQgY29uc3QgcGFydHMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBSZW5kZXJzIGEgdGVtcGxhdGUgcmVzdWx0IG9yIG90aGVyIHZhbHVlIHRvIGEgY29udGFpbmVyLlxuICpcbiAqIFRvIHVwZGF0ZSBhIGNvbnRhaW5lciB3aXRoIG5ldyB2YWx1ZXMsIHJlZXZhbHVhdGUgdGhlIHRlbXBsYXRlIGxpdGVyYWwgYW5kXG4gKiBjYWxsIGByZW5kZXJgIHdpdGggdGhlIG5ldyByZXN1bHQuXG4gKlxuICogQHBhcmFtIHJlc3VsdCBBbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBOb2RlUGFydCAtIHR5cGljYWxseSBhIFRlbXBsYXRlUmVzdWx0XG4gKiAgICAgY3JlYXRlZCBieSBldmFsdWF0aW5nIGEgdGVtcGxhdGUgdGFnIGxpa2UgYGh0bWxgIG9yIGBzdmdgLlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBwYXJlbnQgdG8gcmVuZGVyIHRvLiBUaGUgZW50aXJlIGNvbnRlbnRzIGFyZSBlaXRoZXJcbiAqICAgICByZXBsYWNlZCwgb3IgZWZmaWNpZW50bHkgdXBkYXRlZCBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXMgcHJldmlvdXNcbiAqICAgICByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFJlbmRlck9wdGlvbnMgZm9yIHRoZSBlbnRpcmUgcmVuZGVyIHRyZWUgcmVuZGVyZWQgdG8gdGhpc1xuICogICAgIGNvbnRhaW5lci4gUmVuZGVyIG9wdGlvbnMgbXVzdCAqbm90KiBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzIHRvIHRoZSBzYW1lXG4gKiAgICAgY29udGFpbmVyLCBhcyB0aG9zZSBjaGFuZ2VzIHdpbGwgbm90IGVmZmVjdCBwcmV2aW91c2x5IHJlbmRlcmVkIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChyZXN1bHQsIGNvbnRhaW5lciwgb3B0aW9ucykgPT4ge1xuICAgIGxldCBwYXJ0ID0gcGFydHMuZ2V0KGNvbnRhaW5lcik7XG4gICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgcGFydHMuc2V0KGNvbnRhaW5lciwgcGFydCA9IG5ldyBOb2RlUGFydChPYmplY3QuYXNzaWduKHsgdGVtcGxhdGVGYWN0b3J5IH0sIG9wdGlvbnMpKSk7XG4gICAgICAgIHBhcnQuYXBwZW5kSW50byhjb250YWluZXIpO1xuICAgIH1cbiAgICBwYXJ0LnNldFZhbHVlKHJlc3VsdCk7XG4gICAgcGFydC5jb21taXQoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXIuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKlxuICogTWFpbiBsaXQtaHRtbCBtb2R1bGUuXG4gKlxuICogTWFpbiBleHBvcnRzOlxuICpcbiAqIC0gIFtbaHRtbF1dXG4gKiAtICBbW3N2Z11dXG4gKiAtICBbW3JlbmRlcl1dXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmltcG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmV4cG9ydCB7IGRpcmVjdGl2ZSwgaXNEaXJlY3RpdmUgfSBmcm9tICcuL2xpYi9kaXJlY3RpdmUuanMnO1xuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogcmVtb3ZlIGxpbmUgd2hlbiB3ZSBnZXQgTm9kZVBhcnQgbW92aW5nIG1ldGhvZHNcbmV4cG9ydCB7IHJlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzIH0gZnJvbSAnLi9saWIvZG9tLmpzJztcbmV4cG9ydCB7IG5vQ2hhbmdlLCBub3RoaW5nIH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQgeyBBdHRyaWJ1dGVDb21taXR0ZXIsIEF0dHJpYnV0ZVBhcnQsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIGlzSXRlcmFibGUsIGlzUHJpbWl0aXZlLCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXIsIFByb3BlcnR5UGFydCB9IGZyb20gJy4vbGliL3BhcnRzLmpzJztcbmV4cG9ydCB7IHBhcnRzLCByZW5kZXIgfSBmcm9tICcuL2xpYi9yZW5kZXIuanMnO1xuZXhwb3J0IHsgdGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBjcmVhdGVNYXJrZXIsIGlzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuNC4xJyk7XG59XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIEhUTUwgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdodG1sJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBTVkdUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdzdmcnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWh0bWwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgaXNQcmltaXRpdmUgfSBmcm9tICcuLi9saWIvcGFydHMuanMnO1xuaW1wb3J0IHsgZGlyZWN0aXZlLCBOb2RlUGFydCB9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbi8vIEZvciBlYWNoIHBhcnQsIHJlbWVtYmVyIHRoZSB2YWx1ZSB0aGF0IHdhcyBsYXN0IHJlbmRlcmVkIHRvIHRoZSBwYXJ0IGJ5IHRoZVxuLy8gdW5zYWZlSFRNTCBkaXJlY3RpdmUsIGFuZCB0aGUgRG9jdW1lbnRGcmFnbWVudCB0aGF0IHdhcyBsYXN0IHNldCBhcyBhIHZhbHVlLlxuLy8gVGhlIERvY3VtZW50RnJhZ21lbnQgaXMgdXNlZCBhcyBhIHVuaXF1ZSBrZXkgdG8gY2hlY2sgaWYgdGhlIGxhc3QgdmFsdWVcbi8vIHJlbmRlcmVkIHRvIHRoZSBwYXJ0IHdhcyB3aXRoIHVuc2FmZUhUTUwuIElmIG5vdCwgd2UnbGwgYWx3YXlzIHJlLXJlbmRlciB0aGVcbi8vIHZhbHVlIHBhc3NlZCB0byB1bnNhZmVIVE1MLlxuY29uc3QgcHJldmlvdXNWYWx1ZXMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBSZW5kZXJzIHRoZSByZXN1bHQgYXMgSFRNTCwgcmF0aGVyIHRoYW4gdGV4dC5cbiAqXG4gKiBOb3RlLCB0aGlzIGlzIHVuc2FmZSB0byB1c2Ugd2l0aCBhbnkgdXNlci1wcm92aWRlZCBpbnB1dCB0aGF0IGhhc24ndCBiZWVuXG4gKiBzYW5pdGl6ZWQgb3IgZXNjYXBlZCwgYXMgaXQgbWF5IGxlYWQgdG8gY3Jvc3Mtc2l0ZS1zY3JpcHRpbmdcbiAqIHZ1bG5lcmFiaWxpdGllcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUhUTUwgPSBkaXJlY3RpdmUoKHZhbHVlKSA9PiAocGFydCkgPT4ge1xuICAgIGlmICghKHBhcnQgaW5zdGFuY2VvZiBOb2RlUGFydCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnNhZmVIVE1MIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGV4dCBiaW5kaW5ncycpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZXMuZ2V0KHBhcnQpO1xuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSB1bmRlZmluZWQgJiYgaXNQcmltaXRpdmUodmFsdWUpICYmXG4gICAgICAgIHZhbHVlID09PSBwcmV2aW91c1ZhbHVlLnZhbHVlICYmIHBhcnQudmFsdWUgPT09IHByZXZpb3VzVmFsdWUuZnJhZ21lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWU7IC8vIGlubmVySFRNTCBjYXN0cyB0byBzdHJpbmcgaW50ZXJuYWxseVxuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTtcbiAgICBwYXJ0LnNldFZhbHVlKGZyYWdtZW50KTtcbiAgICBwcmV2aW91c1ZhbHVlcy5zZXQocGFydCwgeyB2YWx1ZSwgZnJhZ21lbnQgfSk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuc2FmZS1odG1sLmpzLm1hcCIsImltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQtaHRtbCdcbmltcG9ydCB7dW5zYWZlSFRNTH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC5qcydcblxuaW1wb3J0IHsgQ29tcG9uZW50c0RlZmluaXRpb24gfSBmcm9tICcuLi8uLi9leHRlcm5zJ1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlLCBFbGVtZW50VHlwZSB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBQYW5lQmFzZSB9IGZyb20gJy4vUGFuZUJhc2UnXG5pbXBvcnQgeyBpc0RpYWxvZ1Zpc2libGUgfSBmcm9tICcuLi8uLi91aS1zdG9yZS91dGlscydcbmltcG9ydCB7XG4gIGdldEJvZHksXG4gIGdldFNlbGVjdGVkRWxlbWVudHMsXG4gIGlzQm9keVxufSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQge1xuICBnZXRDb21wb25lbnRzRGVmLFxuICB1cGRhdGVDb21wb25lbnRzLFxuICB1cGRhdGVDb21wb25lbnRzRGVwZW5kZW5jaWVzXG59IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvY29tcG9uZW50J1xuaW1wb3J0IHsgZ2V0VWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZSdcbmltcG9ydCB7IHN1YnNjcmliZUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN1YnNjcmliZVVpIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyB1cGRhdGVFbGVtZW50cyB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUnXG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnRQYW5lIGV4dGVuZHMgUGFuZUJhc2Uge1xuICB0ZW1wbGF0ZSA9IChcbiAgICBjb21wb25lbnRzRGVmOiBDb21wb25lbnRzRGVmaW5pdGlvbixcbiAgICBzZWxlY3RlZDogc3RyaW5nLFxuICAgIGRpc2FibGVkOiBib29sZWFuLFxuICAgIGxpc3RlbmVyOiAoZTogSW5wdXRFdmVudCkgPT4gdm9pZFxuICApID0+IGh0bWxgXG4gICAgPGRpdiB0aXRsZT0ke1xuICAgICAgZGlzYWJsZWQgPyAnQ3VycmVudGx5IGRpc2FibGVkIGJlY2F1c2UgeW91IGhhdmUgc2VsZWN0ZWQgYSBjb250YWluZXInIDogJydcbiAgICB9PlxuICAgICAgPGxhYmVsIGZvcj1cInNlbGVjdC1jb21wb25lbnQtdHlwZVwiPkNvbXBvbmVudCB0eXBlIHNlbGVjdG9yJHtcbiAgICAgICAgZGlzYWJsZWQgPyB1bnNhZmVIVE1MKCcmbmJzcDs8c21hbGw+LSBkaXNhYmxlZCBmb3Igc2VsZWN0aW9uPC9zbWFsbD4nKSA6ICcnXG4gICAgICB9PC9sYWJlbD5cbiAgICAgIDxzZWxlY3QgQGNoYW5nZT0ke2xpc3RlbmVyfSA/ZGlzYWJsZWQ9JHtkaXNhYmxlZH0gaWQ9XCJzZWxlY3QtY29tcG9uZW50LXR5cGVcIj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiID9zZWxlY3RlZD0ke3NlbGVjdGVkPT09Jyd9Pi08L29wdGlvbj5cbiAgICAgICAgJHtcbiAgICAgICAgICB1bnNhZmVIVE1MKFxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoY29tcG9uZW50c0RlZilcbiAgICAgICAgICAgIC5maWx0ZXIoKFtpZCwgZGVmXSkgPT4gIWRlZi5pc1ByaXZhdGUpXG4gICAgICAgICAgICAubWFwKChbaWQsIGRlZl0pID0+IGBcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ke2lkfSR7c2VsZWN0ZWQgPT09IGlkID8gJyBzZWxlY3RlZCcgOiAnJ30+JHtkZWYubmFtZX08L29wdGlvbj5cbiAgICAgICAgICAgIGApXG4gICAgICAgICAgICAuam9pbignJylcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIDwvc2VsZWN0PlxuICAgIDwvZGl2PlxuICBgXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudClcbiAgICBzdWJzY3JpYmVVaSgoKSA9PiB7XG4gICAgICBpZiAoaXNEaWFsb2dWaXNpYmxlKCdwYXJhbXMnLCAncHJvcGVydGllcycpKSB7XG4gICAgICAgIHRoaXMucmVkcmF3KGdldFNlbGVjdGVkRWxlbWVudHMoKSlcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgc3Vic2NyaWJlRWxlbWVudHMoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IHRoZSBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSBzdGF0ZXMgdGhlIGVsZW1lbnRzIGN1cnJlbnRseSBzZWxlY3RlZFxuICAgKi9cbiAgcmVkcmF3KHNlbGVjdEVsZW1lbnRzOiBFbGVtZW50U3RhdGVbXSkge1xuICAgIHN1cGVyLnJlZHJhdyhzZWxlY3RFbGVtZW50cylcbiAgICBjb25zdCBjb21wb25lbnRzRGVmID0gZ2V0Q29tcG9uZW50c0RlZihDb25zdGFudHMuQ09NUE9ORU5UX1RZUEUpXG4gICAgY29uc3QgZmlyc3QgPSBzZWxlY3RFbGVtZW50cy5sZW5ndGggPyBzZWxlY3RFbGVtZW50c1swXS5kYXRhLmNvbXBvbmVudD8udGVtcGxhdGVOYW1lIDogdW5kZWZpbmVkXG4gICAgY29uc3Qgc2FtZSA9IHNlbGVjdEVsZW1lbnRzXG4gICAgICAuZXZlcnkoKGVsKSA9PiBmaXJzdCA9PT0gZWwuZGF0YS5jb21wb25lbnQ/LnRlbXBsYXRlTmFtZSlcbiAgICBjb25zdCBkaXNhYmxlZCA9IHNlbGVjdEVsZW1lbnRzXG4gICAgICAuc29tZSgoZWwpID0+IFtcbiAgICAgICAgRWxlbWVudFR5cGUuQ09OVEFJTkVSLFxuICAgICAgICBFbGVtZW50VHlwZS5TRUNUSU9OXVxuICAgICAgICAuaW5jbHVkZXMoZWwudHlwZSkgfHwgaXNCb2R5KGVsKSlcbiAgICBjb25zdCBzZWxlY3RlZCA9IHNhbWUgJiYgZmlyc3QgPyBmaXJzdCA6ICcnXG4gICAgcmVuZGVyKFxuICAgICAgdGhpcy50ZW1wbGF0ZShjb21wb25lbnRzRGVmLFxuICAgICAgc2VsZWN0ZWQsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIChlKSA9PiB0aGlzLmFwcGx5Q29tcG9uZW50KChlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWUpKVxuICAgICwgdGhpcy5lbGVtZW50KVxuICB9XG5cbiAgYXBwbHlDb21wb25lbnQodGVtcGxhdGVOYW1lKSB7XG4gICAgY29uc3QgYm9keSA9IGdldEJvZHkoKVxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGVkRWxlbWVudHMoKS5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gYm9keSlcbiAgICBpZihzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICBpZih0ZW1wbGF0ZU5hbWUgPT09ICcnKSB7XG4gICAgICAgIHVwZGF0ZUVsZW1lbnRzKFxuICAgICAgICAgIHNlbGVjdGlvblxuICAgICAgICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgICAgICAgLi4uZWwsXG4gICAgICAgICAgICBpbm5lckh0bWw6IGVsLmRhdGEuY29tcG9uZW50LmRhdGEucHJldmlldyB8fCAnJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4uZWwuZGF0YSxcbiAgICAgICAgICAgICAgY29tcG9uZW50OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSlcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlRWxlbWVudHMoXG4gICAgICAgICAgc2VsZWN0aW9uXG4gICAgICAgICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAgICAgICAuLi5lbCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4uZWwuZGF0YSxcbiAgICAgICAgICAgICAgY29tcG9uZW50OiB7XG4gICAgICAgICAgICAgICAgLi4uZWwuZGF0YS5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVOYW1lLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIHByZXZpZXc6IGVsLmlubmVySHRtbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSlcbiAgICAgICAgKVxuICAgICAgICAvLyB1cGRhdGUgc2VsZWN0aW9uIHNpbmNlIGl0IGp1c3QgY2hhbmdlZFxuICAgICAgICBjb25zdCBuZXdTZWxlY3Rpb24gPSBnZXRTZWxlY3RlZEVsZW1lbnRzKCkuZmlsdGVyKChlbCkgPT4gZWwgIT09IGJvZHkpXG4gICAgICAgIC8vIHJlbmRlciBjb21wb25lbnRcbiAgICAgICAgdXBkYXRlQ29tcG9uZW50c0RlcGVuZGVuY2llcygpXG4gICAgICAgIHVwZGF0ZUNvbXBvbmVudHMobmV3U2VsZWN0aW9uKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFByb3BlcnR5IHBhbmUsIGRpc3BsYXllZCBpbiB0aGUgcHJvcGVydHkgdG9vbCBib3guXG4gKiBDb250cm9scyB0aGUgZ2VuZXJhbCBwYXJhbXMgb2YgdGhlIHNlbGVjdGVkIGNvbXBvbmVudFxuICpcbiAqL1xuXG5pbXBvcnQgeyBFbGVtZW50U3RhdGUgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgUGFuZUJhc2UgfSBmcm9tICcuL1BhbmVCYXNlJ1xuaW1wb3J0IHsgaXNEaWFsb2dWaXNpYmxlIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvdXRpbHMnXG5pbXBvcnQgeyBnZXRCb2R5LCBnZXRTZWxlY3RlZEVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0VWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN1YnNjcmliZUVsZW1lbnRzIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcbmltcG9ydCB7IHN1YnNjcmliZVVpIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvaW5kZXgnXG5cbi8qKlxuICogb24gb2YgU2lsZXggRWRpdG9ycyBjbGFzc1xuICogbGV0IHVzZXIgZWRpdCBzdHlsZSBvZiBzZWxlY3RlZCBlbGVtZW50c1xuICovXG5leHBvcnQgY2xhc3MgR2VuZXJhbFN0eWxlUGFuZSBleHRlbmRzIFBhbmVCYXNlIHtcbiAgLyoqXG4gICAqIG9wYWNpdHkgaW5wdXRcbiAgICovXG4gIG9wYWNpdHlJbnB1dDogSFRNTElucHV0RWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG5cbiAgICBzdXBlcihlbGVtZW50KVxuXG4gICAgdGhpcy5vcGFjaXR5SW5wdXQgPSB0aGlzLmluaXRJbnB1dCgnLm9wYWNpdHktaW5wdXQnLCAoZSkgPT4gdGhpcy5vbklucHV0Q2hhbmdlZChlKSlcblxuICAgIHN1YnNjcmliZVVpKCgpID0+IHtcbiAgICAgIHRoaXMucmVkcmF3KGdldFNlbGVjdGVkRWxlbWVudHMoKSlcbiAgICB9KVxuXG4gICAgc3Vic2NyaWJlRWxlbWVudHMoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogVXNlciBoYXMgc2VsZWN0ZWQgYSBjb2xvclxuICAgKi9cbiAgb25JbnB1dENoYW5nZWQoZXZlbnQpIHtcbiAgICBjb25zdCB2YWwgPSAhIXRoaXMub3BhY2l0eUlucHV0LnZhbHVlICYmIHRoaXMub3BhY2l0eUlucHV0LnZhbHVlICE9PSAnJyA/XG4gICAgICBNYXRoLm1heCgwLCAoTWF0aC5taW4oMSwgcGFyc2VGbG9hdCh0aGlzLm9wYWNpdHlJbnB1dC52YWx1ZSkgLyAxMDAuMCkpKVxuICAgICAgOiBudWxsXG4gICAgdGhpcy5zdHlsZUNoYW5nZWQoJ29wYWNpdHknLCB2YWwgPyB2YWwudG9TdHJpbmcoKSA6IG51bGwpXG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IHRoZSBwcm9wZXJ0aWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVkcmF3KHNlbGVjdGVkRWxlbWVudHM6IEVsZW1lbnRTdGF0ZVtdKSB7XG4gICAgc3VwZXIucmVkcmF3KHNlbGVjdGVkRWxlbWVudHMpXG5cbiAgICBpZiAoaXNEaWFsb2dWaXNpYmxlKCdkZXNpZ24nLCAncHJvcGVydGllcycpKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnXG5cblxuICAgICAgY29uc3QgYm9keSA9IGdldEJvZHkoKVxuICAgICAgY29uc3QgZWxlbWVudHNOb0JvZHkgPSBzZWxlY3RlZEVsZW1lbnRzLmZpbHRlcigoZWwpID0+IGVsICE9PSBib2R5KVxuICAgICAgaWYgKGVsZW1lbnRzTm9Cb2R5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gbm90IHN0YWdlIGVsZW1lbnQgb25seVxuICAgICAgICB0aGlzLm9wYWNpdHlJbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJylcblxuICAgICAgICAvLyBnZXQgdGhlIG9wYWNpdHlcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHk8RWxlbWVudFN0YXRlLCBzdHJpbmc+KGVsZW1lbnRzTm9Cb2R5LCAoZWwpID0+IGVsLnN0eWxlW2dldFVpKCkubW9iaWxlRWRpdG9yID8gJ21vYmlsZScgOiAnZGVza3RvcCddLm9wYWNpdHkpXG4gICAgICAgIGlmICh0eXBlb2Ygb3BhY2l0eSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aGlzLm9wYWNpdHlJbnB1dC52YWx1ZSA9ICcnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG9wYWNpdHkgPT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHlJbnB1dC52YWx1ZSA9ICcxMDAnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eUlucHV0LnZhbHVlID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG9wYWNpdHkpICogMTAwKS50b1N0cmluZygpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzdGFnZSBlbGVtZW50IG9ubHlcbiAgICAgICAgdGhpcy5vcGFjaXR5SW5wdXQudmFsdWUgPSAnJ1xuICAgICAgICB0aGlzLm9wYWNpdHlJbnB1dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFByb3BlcnR5IHBhbmUsIGRpc3BsYXllZCBpbiB0aGUgcHJvcGVydHkgdG9vbCBib3guXG4gKiBDb250cm9scyB0aGUgZWxlbWVudCB2aXNpYmlsaXR5IG9uIHRoZSBwYWdlcyxcbiAqICAgYW5kIGFsc28gdGhlIGVsZW1lbnQgXCJsaW5rIHRvIHBhZ2VcIiBwcm9wZXJ0eVxuICpcbiAqL1xuXG5pbXBvcnQgeyBFbGVtZW50U3RhdGUsIEVsZW1lbnRUeXBlLCBMaW5rIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IFBhZ2VTdGF0ZSB9IGZyb20gJy4uLy4uL3BhZ2Utc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBQYW5lQmFzZSB9IGZyb20gJy4vUGFuZUJhc2UnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nXG5pbXBvcnQgeyBhZGRUb1BhZ2UsIHJlbW92ZUZyb21QYWdlIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS9kaXNwYXRjaGVycydcbmltcG9ydCB7XG4gIGdldEJvZHksXG4gIGdldENoaWxkcmVuUmVjdXJzaXZlLFxuICBnZXRTZWxlY3RlZEVsZW1lbnRzLFxuICBub1NlY3Rpb25Db250ZW50XG59IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldEN1cnJlbnRQYWdlIH0gZnJvbSAnLi4vLi4vcGFnZS1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0U2l0ZSB9IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBpc0RpYWxvZ1Zpc2libGUgfSBmcm9tICcuLi8uLi91aS1zdG9yZS91dGlscydcbmltcG9ydCB7IGlzVmlzaWJsZUluUGFnZSB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvdXRpbHMnXG5pbXBvcnQgeyBvcGVuTGlua0RpYWxvZyB9IGZyb20gJy4uL2RpYWxvZy9MaW5rRGlhbG9nJ1xuaW1wb3J0IHsgcmVuZGVyTGlzdCB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbSdcbmltcG9ydCB7IHN1YnNjcmliZUVsZW1lbnRzLCB1cGRhdGVFbGVtZW50cyB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBzdWJzY3JpYmVQYWdlcywgZ2V0UGFnZXMgfSBmcm9tICcuLi8uLi9wYWdlLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgc3Vic2NyaWJlVWksIGdldFVpIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvaW5kZXgnXG5cbi8qKlxuICogb24gb2YgU2lsZXggRWRpdG9ycyBjbGFzc1xuICogbGV0IHVzZXIgZWRpdCBzdHlsZSBvZiBzZWxlY3RlZCBlbGVtZW50c1xuICovXG5leHBvcnQgY2xhc3MgUGFnZVBhbmUgZXh0ZW5kcyBQYW5lQmFzZSB7XG4gIHN0YXRpYyBzZWxlY3RvclRlbXBsYXRlID0gYDxkaXYgY2xhc3M9J3BhZ2UtY29udGFpbmVyJz5cbiAgICA8aW5wdXQgY2xhc3M9J3BhZ2UtY2hlY2sgY2hlY2tib3gnIHR5cGU9J2NoZWNrYm94JyBpZD0ncGFnZS1jaGVjay1pZC17e2lkfX0nIC8+XG4gICAgPGxhYmVsIGNsYXNzPSdwYWdlLWxhYmVsIHhzbWFsbC1mb250JyBmb3I9J3BhZ2UtY2hlY2staWQte3tpZH19JyA+e3tkaXNwbGF5TmFtZX19PC9sYWJlbD5cbiAgPC9kaXY+XG5cdGBcblxuICAvKipcbiAgICogY2hlY2sgYm94IFwidmlldyBvbiBtb2JpbGVcIlxuICAgKi9cbiAgdmlld09uRGV2aWNlRWw6IEhUTUxEaXZFbGVtZW50ID0gbnVsbFxuXG4gIC8qKlxuICAgKiBjaGVjayBib3ggXCJ2aWV3IG9uIGFsbCBwYWdlc1wiXG4gICAqL1xuICB2aWV3T25BbGxQYWdlc0NoZWNrYm94OiBIVE1MSW5wdXRFbGVtZW50ID0gbnVsbFxuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBjaGVja2JveGVzIHVzZWQgdG8gYWRkL3JlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHBhZ2VzXG4gICAqL1xuICBwYWdlQ2hlY2tib3hlczogeyBjaGVja2JveDogSFRNTElucHV0RWxlbWVudCwgcGFnZTogUGFnZVN0YXRlIH1bXSA9IFtdXG5cbiAgLyoqXG4gICAqIGJ1dHRvbiB0byBvcGVuIGxpbmsgZWRpdG9yXG4gICAqL1xuICBsaW5rQnRuOiBIVE1MQnV0dG9uRWxlbWVudCA9IG51bGxcblxuICAvKipcbiAgICogZGlzcGxheSB0aGUgbGlua1xuICAgKi9cbiAgbGlua1N0YXRlRWw6IEhUTUxJbnB1dEVsZW1lbnQgPSBudWxsXG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcblxuICAgIHN1cGVyKGVsZW1lbnQpXG5cbiAgICBzdWJzY3JpYmVQYWdlcygoKSA9PiB7XG4gICAgICB0aGlzLnNldFBhZ2VzKGdldFBhZ2VzKCkpXG4gICAgICB0aGlzLnJlZHJhdyhnZXRTZWxlY3RlZEVsZW1lbnRzKCkpXG4gICAgfSlcblxuICAgIHN1YnNjcmliZVVpKCgpID0+IHtcbiAgICAgIHRoaXMucmVkcmF3KGdldFNlbGVjdGVkRWxlbWVudHMoKSlcbiAgICB9KVxuXG4gICAgc3Vic2NyaWJlRWxlbWVudHMoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG5cbiAgICAvLyBsaW5rXG4gICAgdGhpcy5saW5rU3RhdGVFbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubGluay1zdGF0ZScpIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICB0aGlzLmxpbmtCdG4gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmxpbmstYnV0dG9uJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnRcbiAgICB0aGlzLmxpbmtCdG4ub25jbGljayA9ICgpID0+IHRoaXMuZWRpdExpbmsoKVxuXG4gICAgLy8gV2F0Y2ggZm9yIGZpZWxkIGNoYW5nZXMsIHRvIGRpc3BsYXkgYmVsb3cuXG4gICAgdGhpcy52aWV3T25EZXZpY2VFbCA9ICh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZpZXctb24tbW9iaWxlJykgYXMgSFRNTERpdkVsZW1lbnQpXG4gICAgdGhpcy52aWV3T25EZXZpY2VFbC5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWQ6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZpZXctb24tbW9iaWxlIGlucHV0OmNoZWNrZWQnKVxuICAgICAgY29uc3QgdmFsdWUgPSBzZWxlY3RlZC52YWx1ZVxuICAgICAgY29uc3QgZGVza3RvcCA9IHZhbHVlICE9PSAnbW9iaWxlJ1xuICAgICAgY29uc3QgbW9iaWxlID0gdmFsdWUgIT09ICdkZXNrdG9wJ1xuICAgICAgdXBkYXRlRWxlbWVudHMoZ2V0U2VsZWN0ZWRFbGVtZW50cygpXG4gICAgICAgIC5tYXAoKGVsKSA9PiBub1NlY3Rpb25Db250ZW50KGVsKSlcbiAgICAgICAgLmZpbHRlcigoZWwpID0+IGVsLnZpc2liaWxpdHkuZGVza3RvcCAhPT0gZGVza3RvcCB8fCBlbC52aXNpYmlsaXR5Lm1vYmlsZSAhPT0gbW9iaWxlKVxuICAgICAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgICAgICAuLi5lbCxcbiAgICAgICAgICBzZWxlY3RlZDogZ2V0VWkoKS5tb2JpbGVFZGl0b3IgPyBtb2JpbGUgOiBkZXNrdG9wLFxuICAgICAgICAgIHZpc2liaWxpdHk6IHtcbiAgICAgICAgICAgIGRlc2t0b3AsXG4gICAgICAgICAgICBtb2JpbGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpKVxuICAgIH1cbiAgICB0aGlzLnZpZXdPbkFsbFBhZ2VzQ2hlY2tib3ggPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZpZXctb24tYWxscGFnZXMtY2hlY2snKVxuICAgIHRoaXMudmlld09uQWxsUGFnZXNDaGVja2JveC5vbmNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VOYW1lcyA9IHRoaXMudmlld09uQWxsUGFnZXNDaGVja2JveC5jaGVja2VkID8gW10gOiBbZ2V0Q3VycmVudFBhZ2UoKS5pZF1cbiAgICAgIHVwZGF0ZUVsZW1lbnRzKGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgICAgICAubWFwKChlbCkgPT4gbm9TZWN0aW9uQ29udGVudChlbCkpXG4gICAgICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgICAgIC4uLmVsLFxuICAgICAgICAgIHBhZ2VOYW1lcyxcbiAgICAgICAgfSkpKVxuICAgIH1cbiAgfVxuXG4gIGdldExpbmtFbGVtZW50cyhlbGVtZW50czogRWxlbWVudFN0YXRlW10pIHtcbiAgICBjb25zdCBib2R5ID0gZ2V0Qm9keSgpXG4gICAgcmV0dXJuIGVsZW1lbnRzXG4gICAgICAuZmlsdGVyKChlbCkgPT4gZWwgIT09IGJvZHkgJiYgZWwudHlwZSAhPT0gRWxlbWVudFR5cGUuU0VDVElPTiAmJiAhZWwuaXNTZWN0aW9uQ29udGVudClcbiAgfVxuXG4gIC8qKlxuICAgKiBvcGVuIHRoZSBsaW5rIGVkaXRvciBhbmQgdXBkYXRlIHNlbGVjdGlvbiBsaW5rXG4gICAqL1xuICBlZGl0TGluaygpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZ2V0TGlua0VsZW1lbnRzKGdldFNlbGVjdGVkRWxlbWVudHMoKSlcblxuICAgIC8vIGNvbnN0IGhhc0xpbmsgPSBlbGVtZW50cy5zb21lKChlbCkgPT4gISFlbC5saW5rKVxuICAgIGNvbnN0IG9sZExpbms6IExpbmsgPSBlbGVtZW50c1xuICAgIC5tYXAoKGVsKSA9PiBlbC5saW5rKVxuICAgIC5yZWR1Y2UoKHByZXYsIGN1cikgPT4ge1xuICAgICAgaWYgKHByZXYgJiYgY3VyKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhwcmV2KS5ldmVyeSgoa2V5KSA9PiBwcmV2W2tleV0gPT09IGN1cltrZXldKVxuICAgICAgICAgICAgJiYgT2JqZWN0LmtleXMoY3VyKS5ldmVyeSgoa2V5KSA9PiBwcmV2W2tleV0gPT09IGN1cltrZXldKSkge1xuICAgICAgICAgICAgICAvLyBib3RoIGFyZSBlcXVhbFxuICAgICAgICAgICAgICByZXR1cm4gcHJldlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm90IGVxdWFsXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgLy8gbm8gbGluayBvciBwcmV2aWV3bHkgbm90IGVxdWFsXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0pXG4gICAgdGhpcy5vcGVuTGlua0VkaXRvcihvbGRMaW5rLCAobGluaykgPT4ge1xuICAgICAgdXBkYXRlRWxlbWVudHMoZWxlbWVudHNcbiAgICAgICAgLm1hcCgoZWw6IEVsZW1lbnRTdGF0ZSkgPT4gKHtcbiAgICAgICAgICAuLi5lbCxcbiAgICAgICAgICBsaW5rLFxuICAgICAgICB9KSkpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiByZWZyZXNoIHdpdGggbmV3IHBhZ2VzXG4gICAqIEBwYXJhbSBwYWdlcyAgIHRoZSBuZXcgbGlzdCBvZiBwYWdlc1xuICAgKi9cbiAgc2V0UGFnZXMocGFnZXM6IFBhZ2VTdGF0ZVtdKSB7XG4gICAgLy8gcmVuZGVyIHBhZ2UvdmlzaWJpbGl0eSB0ZW1wbGF0ZVxuICAgIC8vIGluaXQgcGFnZSB0ZW1wbGF0ZVxuICAgIGNvbnN0IHBhZ2VzQ29udGFpbmVyID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlcy1jb250YWluZXInKVxuICAgIHBhZ2VzQ29udGFpbmVyLmlubmVySFRNTCA9IHJlbmRlckxpc3QoUGFnZVBhbmUuc2VsZWN0b3JUZW1wbGF0ZSwgcGFnZXMpXG5cbiAgICAvLyByZXNldCBwYWdlIGNoZWNrYm94ZXNcbiAgICBpZiAodGhpcy5wYWdlQ2hlY2tib3hlcykge1xuICAgICAgdGhpcy5wYWdlQ2hlY2tib3hlcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpdGVtLmNoZWNrYm94LnBhcmVudEVsZW1lbnQgIT0gbnVsbCApIHtcbiAgICAgICAgICBpdGVtLmNoZWNrYm94LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaXRlbS5jaGVja2JveClcbiAgICAgICAgfVxuICAgICAgICBpdGVtLmNoZWNrYm94Lm9uY2hhbmdlID0gbnVsbFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgcGFnZSBjaGVja2JveGVzXG4gICAgY29uc3QgaXRlbXMgPSAoQXJyYXkuZnJvbShwYWdlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcucGFnZS1jb250YWluZXInKSkgYXMgSFRNTEVsZW1lbnRbXSlcbiAgICB0aGlzLnBhZ2VDaGVja2JveGVzID0gaXRlbXMubWFwKChpdGVtLCBpZHgpID0+IHtcbiAgICAgIGNvbnN0IGNoZWNrYm94OiBIVE1MSW5wdXRFbGVtZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcucGFnZS1jaGVjaycpXG4gICAgICBjb25zdCBwYWdlID0gcGFnZXNbaWR4KytdXG4gICAgICBjaGVja2JveC5vbmNoYW5nZSA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuY2hlY2tQYWdlKHBhZ2UsIGNoZWNrYm94KVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIH1cbiAgICAgIHJldHVybiB7Y2hlY2tib3gsIHBhZ2V9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBjYWxsYmFjayBmb3IgY2hlY2tib3hlcyBjbGljayBldmVudFxuICAgKiBjaGFuZ2VzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBjdXJyZW50IGNvbXBvbmVudCBmb3IgdGhlIGdpdmVuIHBhZ2VcbiAgICovXG4gIGNoZWNrUGFnZShwYWdlOiBQYWdlU3RhdGUsIGNoZWNrYm94OiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgLy8gbm90aWZ5IHRoZSB0b29sYm94XG4gICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgIGFkZFRvUGFnZShnZXRTZWxlY3RlZEVsZW1lbnRzKCksIHBhZ2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUZyb21QYWdlKGdldFNlbGVjdGVkRWxlbWVudHMoKSwgcGFnZSlcbiAgICB9XG4gICAgdGhpcy51cGRhdGVTZWxlY3Rpb24oKVxuICB9XG5cbiAgLyoqXG4gICAqIGtlZXAgc2VsZWN0ZWQgb25seSBpZiB2aXNpYmxlIGluIGN1cnJlbnQgcGFnZVxuICAgKi9cbiAgdXBkYXRlU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHsgY3VycmVudFBhZ2VJZCB9ID0gZ2V0VWkoKVxuICAgIHVwZGF0ZUVsZW1lbnRzKGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAgIC4uLmVsLFxuICAgICAgICBzZWxlY3RlZDogaXNWaXNpYmxlSW5QYWdlKGVsLCBjdXJyZW50UGFnZUlkKSxcbiAgICAgIH0pKSlcbiAgfVxuXG4gIC8qKlxuICAgKiByZWRyYXcgdGhlIHByb3BlcnRpZXNcbiAgICovXG4gIHJlZHJhdyhzZWxlY3RlZEVsZW1lbnRzOiBFbGVtZW50U3RhdGVbXSkge1xuICAgIHN1cGVyLnJlZHJhdyhzZWxlY3RlZEVsZW1lbnRzKVxuXG4gICAgaWYgKGlzRGlhbG9nVmlzaWJsZSgnZGVzaWduJywgJ3Byb3BlcnRpZXMnKSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJ1xuXG5cbiAgICAgIGNvbnN0IGJvZHkgPSBnZXRCb2R5KClcbiAgICAgIGNvbnN0IG5vU2VjdGlvbkNvbnRlbnROb0JvZHkgPSBzZWxlY3RlZEVsZW1lbnRzXG4gICAgICAuZmlsdGVyKChlbCkgPT4gZWwgIT09IGJvZHkpXG4gICAgICAubWFwKChlbCkgPT4gbm9TZWN0aW9uQ29udGVudChlbCkpXG5cbiAgICAgIC8vIFZpZXcgb24gbW9iaWxlIGNoZWNrYm94XG4gICAgICBBcnJheS5mcm9tKHRoaXMudmlld09uRGV2aWNlRWwucXVlcnlTZWxlY3RvckFsbCgnLnZpZXctb24tbW9iaWxlIGlucHV0JykpXG4gICAgICAuZm9yRWFjaCgoZWw6IEhUTUxJbnB1dEVsZW1lbnQpID0+IGVsLmRpc2FibGVkID0gIWdldFNpdGUoKS5lbmFibGVNb2JpbGUpXG5cbiAgICAgIGlmIChub1NlY3Rpb25Db250ZW50Tm9Cb2R5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBcInZpZXcgb24gbW9iaWxlXCIgY2hlY2tib3hcbiAgICAgICAgY29uc3QgdmlzaWJpbGl0eSA9IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkobm9TZWN0aW9uQ29udGVudE5vQm9keSwgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQudmlzaWJpbGl0eS5tb2JpbGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnZGVza3RvcCdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LnZpc2liaWxpdHkuZGVza3RvcCkge1xuICAgICAgICAgICAgICByZXR1cm4gJ21vYmlsZSdcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiAnYm90aCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGlmICghIXZpc2liaWxpdHkpIHtcbiAgICAgICAgICBBcnJheS5mcm9tKHRoaXMudmlld09uRGV2aWNlRWwucXVlcnlTZWxlY3RvckFsbCgnLnZpZXctb24tbW9iaWxlIGlucHV0JykpXG4gICAgICAgICAgLmZvckVhY2goKGVsOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBlbC5jaGVja2VkID0gdmlzaWJpbGl0eSA9PT0gZWwudmFsdWVcbiAgICAgICAgICAgIGVsLmluZGV0ZXJtaW5hdGUgPSBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgQXJyYXkuZnJvbSh0aGlzLnZpZXdPbkRldmljZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52aWV3LW9uLW1vYmlsZSBpbnB1dCcpKVxuICAgICAgICAgIC5mb3JFYWNoKChlbDogSFRNTElucHV0RWxlbWVudCkgPT4gZWwuaW5kZXRlcm1pbmF0ZSA9IHRydWUpXG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWZyZXNoIHBhZ2UgY2hlY2tib3hlc1xuICAgICAgICBsZXQgaXNJbk5vUGFnZSA9IHRydWVcbiAgICAgICAgdGhpcy5wYWdlQ2hlY2tib3hlcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgLy8gdGhlcmUgaXMgYSBzZWxlY3Rpb25cbiAgICAgICAgICBpdGVtLmNoZWNrYm94LmRpc2FibGVkID0gZmFsc2VcblxuICAgICAgICAgIC8vIGNvbXB1dGUgY29tbW9uIHBhZ2VzXG4gICAgICAgICAgY29uc3QgcGFnZSA9IGdldFBhZ2VzKCkuZmluZCgocCkgPT4gcC5pZCA9PT0gaXRlbS5wYWdlLmlkKVxuICAgICAgICAgIGNvbnN0IGlzSW5QYWdlID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShub1NlY3Rpb25Db250ZW50Tm9Cb2R5LCAoZWwpID0+IGVsLnBhZ2VOYW1lcy5pbmNsdWRlcyhwYWdlLmlkKSlcblxuICAgICAgICAgIC8vIHNldCB2aXNpYmlsaXR5XG4gICAgICAgICAgaXNJbk5vUGFnZSA9IGlzSW5Ob1BhZ2UgJiYgaXNJblBhZ2UgPT09IGZhbHNlXG4gICAgICAgICAgaWYgKGlzSW5QYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBtdWx0aXBsZSBlbGVtZW50cyBzZWxlY3RlZCB3aXRoIGRpZmZlcmVudCB2YWx1ZXNcbiAgICAgICAgICAgIGl0ZW0uY2hlY2tib3guaW5kZXRlcm1pbmF0ZSA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS5jaGVja2JveC5pbmRldGVybWluYXRlID0gZmFsc2VcbiAgICAgICAgICAgIGl0ZW0uY2hlY2tib3guY2hlY2tlZCA9IGlzSW5QYWdlXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnZpZXdPbkFsbFBhZ2VzQ2hlY2tib3guZGlzYWJsZWQgPSBmYWxzZVxuXG4gICAgICAgIC8vIHRoaXMuY2hlY2tBbGxQYWdlcygpXG4gICAgICAgIGlmIChpc0luTm9QYWdlKSB7XG4gICAgICAgICAgdGhpcy52aWV3T25BbGxQYWdlc0NoZWNrYm94LmNoZWNrZWQgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52aWV3T25BbGxQYWdlc0NoZWNrYm94LmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBib2R5IGVsZW1lbnQgb25seVxuICAgICAgICB0aGlzLnBhZ2VDaGVja2JveGVzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBpdGVtLmNoZWNrYm94LmRpc2FibGVkID0gdHJ1ZVxuICAgICAgICAgIGl0ZW0uY2hlY2tib3guaW5kZXRlcm1pbmF0ZSA9IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy52aWV3T25BbGxQYWdlc0NoZWNrYm94LmRpc2FibGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLnZpZXdPbkFsbFBhZ2VzQ2hlY2tib3guY2hlY2tlZCA9IHRydWVcblxuICAgICAgICBBcnJheVxuICAgICAgICAuZnJvbSh0aGlzLnZpZXdPbkRldmljZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52aWV3LW9uLW1vYmlsZSBpbnB1dCcpKVxuICAgICAgICAuZm9yRWFjaCgoZWw6IEhUTUxJbnB1dEVsZW1lbnQpID0+IGVsLmRpc2FibGVkID0gdHJ1ZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9XG4gICAgY29uc3QgbGlua0VsZW1lbnRzID0gdGhpcy5nZXRMaW5rRWxlbWVudHMoc2VsZWN0ZWRFbGVtZW50cylcbiAgICBpZiAobGlua0VsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHJlZnJlc2ggdGhlIGxpbmsgaW5wdXRzXG4gICAgICAvLyBnZXQgdGhlIGxpbmsgb2YgdGhlIGVsZW1lbnRcbiAgICAgIGNvbnN0IGxpbmsgPSB0aGlzLmdldENvbW1vblByb3BlcnR5PEVsZW1lbnRTdGF0ZSwgTGluaz4obGlua0VsZW1lbnRzLCAoZWwpID0+IGVsLmxpbmspXG4gICAgICB0aGlzLmxpbmtTdGF0ZUVsLnZhbHVlID0gbGluayA/IGxpbmsuaHJlZiA6ICcnXG4gICAgICB0aGlzLmxpbmtTdGF0ZUVsLmRpc2FibGVkID0gZmFsc2VcbiAgICAgIHRoaXMubGlua0J0bi5kaXNhYmxlZCA9IGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGlua0J0bi5kaXNhYmxlZCA9IHRydWVcbiAgICAgIHRoaXMubGlua1N0YXRlRWwuZGlzYWJsZWQgPSB0cnVlXG4gICAgICB0aGlzLmxpbmtTdGF0ZUVsLnZhbHVlID0gJydcbiAgICB9XG4gIH1cblxuICBoYXNMaW5rKGVsOiBFbGVtZW50U3RhdGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISFlbC5saW5rIHx8IGVsLmlubmVySHRtbC5pbmNsdWRlcygnPGEnKVxuICB9XG5cbiAgLyoqXG4gICAqIG9wZW4gdGhlIGxpbmsgZWRpdG9yLCB3aGljaCB1c2VzIE5vdGlmaWNhdGlvblxuICAgKi9cbiAgb3BlbkxpbmtFZGl0b3Iob2xkTGluazogTGluaywgb25DaGFuZ2U6IChsaW5rOiBMaW5rKSA9PiB2b2lkKSB7XG4gICAgLy8gY2hlY2sgaWYgdGhlIHNlbGVjdGlvbiBoYXMgbGlua3MgaW5zaWRlIGl0XG4gICAgaWYgKGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgICAgLnNvbWUoKGVsKSA9PiBlbC5pbm5lckh0bWwuaW5jbHVkZXMoJzxhJykpXG4gICAgICAvLyBjaGVjayB0aGUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICB8fCBnZXRTZWxlY3RlZEVsZW1lbnRzKClcbiAgICAgICAgLm1hcCgoZWwpID0+IGdldENoaWxkcmVuUmVjdXJzaXZlKGVsKSlcbiAgICAgICAgLnNvbWUoKGNoaWxkcmVuKSA9PiBjaGlsZHJlblxuICAgICAgICAgIC5zb21lKChjaGlsZCkgPT4gdGhpcy5oYXNMaW5rKGNoaWxkKSkpKSB7XG4gICAgICAvLyBXYXJuaW5nOiB0aGlzIHNhbWUgZXJyb3IgbWVzc2FnZSBpcyBhbHNvIGluIFRleHRGb3JtYXRCYXIudHNcbiAgICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnTGluayBlcnJvcicsICdJdCBpcyBpbXBvc3NpYmxlIHRvIGFkZCBhIGxpbmsgb24gdGhpcyBlbGVtZW50LCBiZWNhdXNlIHRoZSB0ZXh0IGluc2lkZSB0aGUgZWxlbWVudCBoYXMgbGlua3MuIFBsZWFzZSByZW1vdmUgdGhlIGxpbmtzIGluIHRoZSBlbGVtZW50IGFuZCB0cnkgYWdhaW4uIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vc2lsZXhsYWJzL1NpbGV4L3dpa2kvRXJyb3JzI2xpbmstZXJyb3JcIj5Nb3JlIGluZm8gaGVyZTwvYT4nLCAoKSA9PiB7fSlcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbkxpbmtEaWFsb2coe1xuICAgICAgICBkYXRhOiBvbGRMaW5rLFxuICAgICAgICBjYms6IChuZXdMaW5rOiBMaW5rKSA9PiB7XG4gICAgICAgICAgLy8gbmV3TGluayBpcyB0aGUgc2FtZSBhcyBvbGRMaW5rIHdoZW4gdGhlIHVzZXIgY2FuY2VsZWQgdGhlIGxpbmsgZWRpdG9yXG4gICAgICAgICAgLy8gdGhlcmZvcmUgaXQgaXMgdW5kZWZpbmVkIHdoZW4gdGhlIHNlbGVjdGlvbiBpcyBub3QgYSBsaW5rXG4gICAgICAgICAgLy8gYW5kIGl0IHdpbGwgYmUgdW5kZWZpbmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIFwicmVtb3ZlIGxpbmtcIlxuICAgICAgICAgIG9uQ2hhbmdlKG5ld0xpbmspXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFByb3BlcnR5IHBhbmUsIGRpc3BsYXllZCBpbiB0aGUgcHJvcGVydHkgdG9vbCBib3hcbiAqXG4gKi9cblxuaW1wb3J0IHsgRWxlbWVudFN0YXRlLCBFbGVtZW50VHlwZSB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBQYW5lQmFzZSB9IGZyb20gJy4vUGFuZUJhc2UnXG5pbXBvcnQgeyBpc0RpYWxvZ1Zpc2libGUgfSBmcm9tICcuLi8uLi91aS1zdG9yZS91dGlscydcbmltcG9ydCB7IGdldEJvZHksIGdldFNlbGVjdGVkRWxlbWVudHMgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQgeyBnZXRCb3VuZGluZ0JveCwgZ2V0RWxlbWVudFN0eWxlLCBnZXRFbGVtZW50UmVjdCB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvdXRpbHMnXG5pbXBvcnQgeyBnZXRVaSwgc3Vic2NyaWJlVWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7XG4gIHN1YnNjcmliZUVsZW1lbnRzLFxuICB1cGRhdGVFbGVtZW50c1xufSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgc3Vic2NyaWJlU2l0ZSB9IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvaW5kZXgnXG5cbmNvbnN0IEZsZXhXcmFwU2VsZWN0ID0gJy5mbGV4LXdyYXAtc2VsZWN0J1xuY29uc3QgSnVzdGlmeUNvbnRlbnRTZWxlY3QgPSAnLmp1c3RpZnktY29udGVudC1zZWxlY3QnXG5jb25zdCBBbGlnbkl0ZW1zU2VsZWN0ID0gJy5hbGlnbi1pdGVtcy1zZWxlY3QnXG5jb25zdCBGbGV4RGlyZWN0aW9uU2VsZWN0ID0gJy5mbGV4LWRpcmVjdGlvbi1zZWxlY3QnXG5jb25zdCBEaXNwbGF5U2VsZWN0ID0gJy5kaXNwbGF5LXNlbGVjdCdcbmNvbnN0IFBvc2l0aW9uU2VsZWN0ID0gJy5wb3NpdGlvbi1zZWxlY3QnXG5jb25zdCBQYWRkaW5nTGVmdElucHV0ID0gJy5wYWRkaW5nLWxlZnQtaW5wdXQnXG5jb25zdCBQYWRkaW5nQm90dG9tSW5wdXQgPSAnLnBhZGRpbmctYm90dG9tLWlucHV0J1xuY29uc3QgUGFkZGluZ1JpZ2h0SW5wdXQgPSAnLnBhZGRpbmctcmlnaHQtaW5wdXQnXG5jb25zdCBQYWRkaW5nVG9wSW5wdXQgPSAnLnBhZGRpbmctdG9wLWlucHV0J1xuY29uc3QgTWFyZ2luTGVmdElucHV0ID0gJy5tYXJnaW4tbGVmdC1pbnB1dCdcbmNvbnN0IE1hcmdpbkJvdHRvbUlucHV0ID0gJy5tYXJnaW4tYm90dG9tLWlucHV0J1xuY29uc3QgTWFyZ2luUmlnaHRJbnB1dCA9ICcubWFyZ2luLXJpZ2h0LWlucHV0J1xuY29uc3QgTWFyZ2luVG9wSW5wdXQgPSAnLm1hcmdpbi10b3AtaW5wdXQnXG5jb25zdCBIZWlnaHRJbnB1dCA9ICcuaGVpZ2h0LWlucHV0J1xuY29uc3QgV2lkdGhJbnB1dCA9ICcud2lkdGgtaW5wdXQnXG5jb25zdCBUb3BJbnB1dCA9ICcudG9wLWlucHV0J1xuY29uc3QgTGVmdElucHV0ID0gJy5sZWZ0LWlucHV0J1xuXG5mdW5jdGlvbiByZW1vdmVQeFdpdGhEZWZhdWx0KHZhbDogc3RyaW5nLCBkZWZhdWx0Xzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRfIDogcGFyc2VJbnQodmFsKS50b1N0cmluZygpXG59XG5cbi8qKlxuICogb24gb2YgU2lsZXggRWRpdG9ycyBjbGFzc1xuICogY29uc3QgdXNlciBlZGl0IHN0eWxlIG9mIGNvbXBvbmVudHNcbiAqIEBwYXJhbSBlbGVtZW50ICAgY29udGFpbmVyIHRvIHJlbmRlciB0aGUgVUlcbiAqIEBwYXJhbSBtb2RlbCAgbW9kZWwgY2xhc3Mgd2hpY2ggaG9sZHNcbiAqIHRoZSBtb2RlbCBpbnN0YW5jZXMgLSB2aWV3cyB1c2UgaXQgZm9yIHJlYWRcbiAqIG9wZXJhdGlvbiBvbmx5XG4gKiBAcGFyYW0gY29udHJvbGxlciAgc3RydWN0dXJlIHdoaWNoIGhvbGRzXG4gKiB0aGUgY29udHJvbGxlciBpbnN0YW5jZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFuZSBleHRlbmRzIFBhbmVCYXNlIHtcblxuICB0YWdOYW1lSW5wdXQ6IEhUTUxTZWxlY3RFbGVtZW50XG4gIC8qKlxuICAgKiBVSSBmb3IgYWx0IGFuZCB0aXRsZVxuICAgKiBvbmx5IHVzZWQgZm9yIGltYWdlc1xuICAgKi9cbiAgYWx0SW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnRcblxuICAvKipcbiAgICogVUkgZm9yIGFsdCBhbmQgdGl0bGVcbiAgICovXG4gIHRpdGxlSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnRcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuXG4gICAgc3VwZXIoZWxlbWVudClcblxuICAgIHN1YnNjcmliZVNpdGUoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG5cbiAgICBzdWJzY3JpYmVVaSgoKSA9PiB7XG4gICAgICB0aGlzLnJlZHJhdyhnZXRTZWxlY3RlZEVsZW1lbnRzKCkpXG4gICAgfSlcblxuICAgIHN1YnNjcmliZUVsZW1lbnRzKCgpID0+IHtcbiAgICAgIHRoaXMucmVkcmF3KGdldFNlbGVjdGVkRWxlbWVudHMoKSlcbiAgICB9KVxuXG4gICAgdGhpcy5jcmVhdGVJbnB1dChbXG4gICAgICB7IHNlbGVjdG9yOiBMZWZ0SW5wdXQsIHN0eWxlTmFtZTogJ2xlZnQnLCBldmVudE5hbWU6ICdpbnB1dCcsIHVuaXQ6ICdweCcgfSxcbiAgICAgIHsgc2VsZWN0b3I6IFRvcElucHV0LCBzdHlsZU5hbWU6ICd0b3AnLCBldmVudE5hbWU6ICdpbnB1dCcsIHVuaXQ6ICdweCcgfSxcbiAgICAgIHsgc2VsZWN0b3I6IFdpZHRoSW5wdXQsIHN0eWxlTmFtZTogJ3dpZHRoJywgZXZlbnROYW1lOiAnaW5wdXQnLCB1bml0OiAncHgnIH0sXG4gICAgICB7IHNlbGVjdG9yOiBIZWlnaHRJbnB1dCwgc3R5bGVOYW1lOiAnaGVpZ2h0JywgZXZlbnROYW1lOiAnaW5wdXQnLCB1bml0OiAncHgnIH0sXG4gICAgICB7IHNlbGVjdG9yOiBNYXJnaW5Ub3BJbnB1dCwgc3R5bGVOYW1lOiAnbWFyZ2luLXRvcCcsIGV2ZW50TmFtZTogJ2lucHV0JywgdW5pdDogJ3B4JyB9LFxuICAgICAgeyBzZWxlY3RvcjogTWFyZ2luUmlnaHRJbnB1dCwgc3R5bGVOYW1lOiAnbWFyZ2luLXJpZ2h0JywgZXZlbnROYW1lOiAnaW5wdXQnLCB1bml0OiAncHgnIH0sXG4gICAgICB7IHNlbGVjdG9yOiBNYXJnaW5Cb3R0b21JbnB1dCwgc3R5bGVOYW1lOiAnbWFyZ2luLWJvdHRvbScsIGV2ZW50TmFtZTogJ2lucHV0JywgdW5pdDogJ3B4JyB9LFxuICAgICAgeyBzZWxlY3RvcjogTWFyZ2luTGVmdElucHV0LCBzdHlsZU5hbWU6ICdtYXJnaW4tbGVmdCcsIGV2ZW50TmFtZTogJ2lucHV0JywgdW5pdDogJ3B4JyB9LFxuICAgICAgeyBzZWxlY3RvcjogUGFkZGluZ1RvcElucHV0LCBzdHlsZU5hbWU6ICdwYWRkaW5nLXRvcCcsIGV2ZW50TmFtZTogJ2lucHV0JywgdW5pdDogJ3B4JyB9LFxuICAgICAgeyBzZWxlY3RvcjogUGFkZGluZ1JpZ2h0SW5wdXQsIHN0eWxlTmFtZTogJ3BhZGRpbmctcmlnaHQnLCBldmVudE5hbWU6ICdpbnB1dCcsIHVuaXQ6ICdweCcgfSxcbiAgICAgIHsgc2VsZWN0b3I6IFBhZGRpbmdCb3R0b21JbnB1dCwgc3R5bGVOYW1lOiAncGFkZGluZy1ib3R0b20nLCBldmVudE5hbWU6ICdpbnB1dCcsIHVuaXQ6ICdweCcgfSxcbiAgICAgIHsgc2VsZWN0b3I6IFBhZGRpbmdMZWZ0SW5wdXQsIHN0eWxlTmFtZTogJ3BhZGRpbmctbGVmdCcsIGV2ZW50TmFtZTogJ2lucHV0JywgdW5pdDogJ3B4JyB9LFxuICAgICAgeyBzZWxlY3RvcjogUG9zaXRpb25TZWxlY3QsIHN0eWxlTmFtZTogJ3Bvc2l0aW9uJywgZXZlbnROYW1lOiAnY2hhbmdlJywgdW5pdDogJycgfSxcbiAgICAgIHsgc2VsZWN0b3I6IERpc3BsYXlTZWxlY3QsIHN0eWxlTmFtZTogJ2Rpc3BsYXknLCBldmVudE5hbWU6ICdjaGFuZ2UnLCB1bml0OiAnJyB9LFxuICAgICAgeyBzZWxlY3RvcjogRmxleERpcmVjdGlvblNlbGVjdCwgc3R5bGVOYW1lOiAnZmxleC1kaXJlY3Rpb24nLCBldmVudE5hbWU6ICdjaGFuZ2UnLCB1bml0OiAnJyB9LFxuICAgICAgeyBzZWxlY3RvcjogQWxpZ25JdGVtc1NlbGVjdCwgc3R5bGVOYW1lOiAnYWxpZ24taXRlbXMnLCBldmVudE5hbWU6ICdjaGFuZ2UnLCB1bml0OiAnJyB9LFxuICAgICAgeyBzZWxlY3RvcjogSnVzdGlmeUNvbnRlbnRTZWxlY3QsIHN0eWxlTmFtZTogJ2p1c3RpZnktY29udGVudCcsIGV2ZW50TmFtZTogJ2NoYW5nZScsIHVuaXQ6ICcnIH0sXG4gICAgICB7IHNlbGVjdG9yOiBGbGV4V3JhcFNlbGVjdCwgc3R5bGVOYW1lOiAnZmxleC13cmFwJywgZXZlbnROYW1lOiAnY2hhbmdlJywgdW5pdDogJycgfSxcbiAgICBdKVxuXG4gICAgdGhpcy50YWdOYW1lSW5wdXQgPSB0aGlzLmluaXRDb21ib0JveCgnI3RhZy1uYW1lLWlucHV0JywgKGUpID0+IHRoaXMub25UYWdOYW1lQ2hhbmdlZChlKSlcbiAgICB0aGlzLmFsdElucHV0ID0gdGhpcy5pbml0SW5wdXQoJyNhbHQtaW5wdXQnLCAoZSkgPT4gdGhpcy5vbkFsdENoYW5nZWQoZSkpXG4gICAgdGhpcy50aXRsZUlucHV0ID0gdGhpcy5pbml0SW5wdXQoJyN0aXRsZS1pbnB1dCcsIChlKSA9PiB0aGlzLm9uVGl0bGVDaGFuZ2VkKGUpKVxuICB9XG5cbiAgb25UYWdOYW1lQ2hhbmdlZChlOiBFdmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnRcbiAgICB1cGRhdGVFbGVtZW50cyhnZXRTZWxlY3RlZEVsZW1lbnRzKClcbiAgICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgICAuLi5lbCxcbiAgICAgICAgdGFnTmFtZTogaW5wdXQudmFsdWUsXG4gICAgICB9KSkpXG4gIH1cbiAgLyoqXG4gICAqIGFsdCBjaGFuZ2VkXG4gICAqIGNhbGxiYWNrIGZvciBpbnB1dHNcbiAgICovXG4gIG9uQWx0Q2hhbmdlZChlOiBFdmVudCkge1xuICAgIC8vIGdldCB0aGUgc2VsZWN0ZWQgZWxlbWVudFxuICAgIGNvbnN0IGlucHV0ID0gZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudFxuXG4gICAgLy8gYXBwbHkgdGhlIGNoYW5nZSB0byBhbGwgZWxlbWVudHNcbiAgICB1cGRhdGVFbGVtZW50cyhnZXRTZWxlY3RlZEVsZW1lbnRzKClcbiAgICAgIC5tYXAoKGVsKSA9PiAoe1xuICAgICAgICAuLi5lbCxcbiAgICAgICAgYWx0OiBpbnB1dC52YWx1ZSxcbiAgICAgIH0pKSlcblxuICAgIC8vIHRoaXMuY29udHJvbGxlci5wcm9wZXJ0eVRvb2xDb250cm9sbGVyLnVuZG9DaGVja1BvaW50KClcbiAgfVxuXG4gIC8qKlxuICAgKiB0aXRsZSBjaGFuZ2VkXG4gICAqIGNhbGxiYWNrIGZvciBpbnB1dHNcbiAgICovXG4gIG9uVGl0bGVDaGFuZ2VkKGU6IEV2ZW50KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgLy8gZ2V0IHRoZSBzZWxlY3RlZCBlbGVtZW50XG4gICAgY29uc3QgaW5wdXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50XG5cbiAgICAvLyBhcHBseSB0aGUgY2hhbmdlIHRvIGFsbCBlbGVtZW50c1xuICAgIHVwZGF0ZUVsZW1lbnRzKGdldFNlbGVjdGVkRWxlbWVudHMoKVxuICAgICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAgIC4uLmVsLFxuICAgICAgICB0aXRsZTogaW5wdXQudmFsdWUsXG4gICAgICB9KSkpXG5cbiAgICAvLyB0aGlzLmNvbnRyb2xsZXIucHJvcGVydHlUb29sQ29udHJvbGxlci51bmRvQ2hlY2tQb2ludCgpXG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IHRoZSBwcm9wZXJ0aWVzXG4gICAqL1xuICByZWRyYXcoc2VsZWN0ZWRFbGVtZW50czogRWxlbWVudFN0YXRlW10pIHtcbiAgICBzdXBlci5yZWRyYXcoc2VsZWN0ZWRFbGVtZW50cylcblxuICAgIGlmIChpc0RpYWxvZ1Zpc2libGUoJ2Rlc2lnbicsICdwcm9wZXJ0aWVzJykpIHtcbiAgICAgICh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvc2l0aW9uLWVkaXRvcicpIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJydcbiAgICAgIDsodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW8tZWRpdG9yJykgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnJ1xuXG4gICAgICBjb25zdCBib2R5ID0gZ2V0Qm9keSgpXG4gICAgICBjb25zdCBtb2JpbGUgPSBnZXRVaSgpLm1vYmlsZUVkaXRvclxuXG4gICAgICAvLyB1c2VmdWwgZmlsdGVyc1xuICAgICAgY29uc3QgZWxlbWVudHNOb0JvZHkgPSBzZWxlY3RlZEVsZW1lbnRzXG4gICAgICAgIC5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gYm9keSlcblxuICAgICAgY29uc3QgZWxlbWVudHNOb0JvZHlOb1NlY3Rpb24gPSBlbGVtZW50c05vQm9keVxuICAgICAgICAuZmlsdGVyKChlbCkgPT4gZWwudHlwZSAhPT0gRWxlbWVudFR5cGUuU0VDVElPTilcblxuICAgICAgLy8gdXNlZnVsIHZhbHVlc1xuICAgICAgY29uc3QgZWxlbWVudHNEaXNwbGF5ID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keSwgKGVsZW1lbnQpID0+IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnZGlzcGxheScsIG1vYmlsZSkpXG4gICAgICBjb25zdCBlbGVtZW50c1Bvc2l0aW9uID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keSwgKGVsZW1lbnQpID0+IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nLCBtb2JpbGUpKVxuXG4gICAgICAvLyBib3VuZGluZyBib3hcbiAgICAgIGNvbnN0IGJiID0gZ2V0Qm91bmRpbmdCb3goZWxlbWVudHNOb0JvZHlOb1NlY3Rpb24ubWFwKChlbCkgPT4gZ2V0RWxlbWVudFJlY3QoZWwsIG1vYmlsZSkpKVxuXG4gICAgICBjb25zdCBjb21wdXRlVmFsdWUgPSBuZXcgTWFwKFtcbiAgICAgICAgW0xlZnRJbnB1dCwgKCkgPT4gTWF0aC5yb3VuZChiYi5sZWZ0IHx8IDApLnRvU3RyaW5nKCldLFxuICAgICAgICBbVG9wSW5wdXQsICgpID0+IE1hdGgucm91bmQoYmIudG9wIHx8IDApLnRvU3RyaW5nKCldLFxuICAgICAgICBbV2lkdGhJbnB1dCwgKCkgPT4gTWF0aC5yb3VuZChiYi53aWR0aCB8fCAwKS50b1N0cmluZygpXSxcbiAgICAgICAgW0hlaWdodElucHV0LCAoKSA9PiBNYXRoLnJvdW5kKGJiLmhlaWdodCB8fCAwKS50b1N0cmluZygpXSxcbiAgICAgICAgW01hcmdpblRvcElucHV0LCAoKSA9PiByZW1vdmVQeFdpdGhEZWZhdWx0KHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoZWxlbWVudHNOb0JvZHksIChlbGVtZW50KSA9PiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ21hcmdpbi10b3AnLCBtb2JpbGUpKSwgJycpXSxcbiAgICAgICAgW01hcmdpblJpZ2h0SW5wdXQsICgpID0+IHJlbW92ZVB4V2l0aERlZmF1bHQodGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keSwgKGVsZW1lbnQpID0+IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnbWFyZ2luLXJpZ2h0JywgbW9iaWxlKSksICcnKV0sXG4gICAgICAgIFtNYXJnaW5Cb3R0b21JbnB1dCwgKCkgPT4gcmVtb3ZlUHhXaXRoRGVmYXVsdCh0aGlzLmdldENvbW1vblByb3BlcnR5KGVsZW1lbnRzTm9Cb2R5LCAoZWxlbWVudCkgPT4gZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICdtYXJnaW4tYm90dG9tJywgbW9iaWxlKSksICcnKV0sXG4gICAgICAgIFtNYXJnaW5MZWZ0SW5wdXQsICgpID0+IHJlbW92ZVB4V2l0aERlZmF1bHQodGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keSwgKGVsZW1lbnQpID0+IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnbWFyZ2luLWxlZnQnLCBtb2JpbGUpKSwgJycpXSxcbiAgICAgICAgW1BhZGRpbmdUb3BJbnB1dCwgKCkgPT4gcmVtb3ZlUHhXaXRoRGVmYXVsdCh0aGlzLmdldENvbW1vblByb3BlcnR5KGVsZW1lbnRzTm9Cb2R5LCAoZWxlbWVudCkgPT4gZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICdwYWRkaW5nLXRvcCcsIG1vYmlsZSkpLCAnJyldLFxuICAgICAgICBbUGFkZGluZ1JpZ2h0SW5wdXQsICgpID0+IHJlbW92ZVB4V2l0aERlZmF1bHQodGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keSwgKGVsZW1lbnQpID0+IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAncGFkZGluZy1yaWdodCcsIG1vYmlsZSkpLCAnJyldLFxuICAgICAgICBbUGFkZGluZ0JvdHRvbUlucHV0LCAoKSA9PiByZW1vdmVQeFdpdGhEZWZhdWx0KHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoZWxlbWVudHNOb0JvZHksIChlbGVtZW50KSA9PiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ3BhZGRpbmctYm90dG9tJywgbW9iaWxlKSksICcnKV0sXG4gICAgICAgIFtQYWRkaW5nTGVmdElucHV0LCAoKSA9PiByZW1vdmVQeFdpdGhEZWZhdWx0KHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoZWxlbWVudHNOb0JvZHksIChlbGVtZW50KSA9PiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ3BhZGRpbmctbGVmdCcsIG1vYmlsZSkpLCAnJyldLFxuICAgICAgICBbUG9zaXRpb25TZWxlY3QsICgpID0+IGVsZW1lbnRzUG9zaXRpb25dLFxuICAgICAgICBbRGlzcGxheVNlbGVjdCwgKCkgPT4gZWxlbWVudHNEaXNwbGF5XSxcbiAgICAgICAgW0ZsZXhEaXJlY3Rpb25TZWxlY3QsICgpID0+IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoZWxlbWVudHNOb0JvZHksIChlbGVtZW50KSA9PiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ2ZsZXgtZGlyZWN0aW9uJywgbW9iaWxlKSldLFxuICAgICAgICBbQWxpZ25JdGVtc1NlbGVjdCwgKCkgPT4gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keSwgKGVsZW1lbnQpID0+IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnYWxpZ24taXRlbXMnLCBtb2JpbGUpKV0sXG4gICAgICAgIFtKdXN0aWZ5Q29udGVudFNlbGVjdCwgKCkgPT4gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keSwgKGVsZW1lbnQpID0+IGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCAnanVzdGlmeS1jb250ZW50JywgbW9iaWxlKSldLFxuICAgICAgICBbRmxleFdyYXBTZWxlY3QsICgpID0+IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoZWxlbWVudHNOb0JvZHksIChlbGVtZW50KSA9PiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ2ZsZXgtd3JhcCcsIG1vYmlsZSkpXSxcbiAgICAgIF0pXG5cbiAgICAgIGNvbnN0IHRhZ05hbWUgPSB0aGlzLmdldENvbW1vblByb3BlcnR5KGVsZW1lbnRzTm9Cb2R5LCAoZWxlbWVudCkgPT4gZWxlbWVudC50YWdOYW1lKVxuICAgICAgaWYgKHRhZ05hbWUpIHtcbiAgICAgICAgdGhpcy50YWdOYW1lSW5wdXQudmFsdWUgPSB0YWdOYW1lXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRhZ05hbWVJbnB1dC52YWx1ZSA9ICcnXG4gICAgICB9XG5cbiAgICAgIC8vIGNvbXB1dGUgdmlzaWJpbGl0eVxuICAgICAgaWYgKGVsZW1lbnRzTm9Cb2R5Tm9TZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHNOb0JvZHlOb1NlY3Rpb25Ob1NlY3Rpb25Db250ZW50ID0gZWxlbWVudHNOb0JvZHlOb1NlY3Rpb25cbiAgICAgICAgICAuZmlsdGVyKChlbCkgPT4gIWVsLmlzU2VjdGlvbkNvbnRlbnQpXG5cbiAgICAgICAgICB0aGlzLnRpdGxlSW5wdXQuZGlzYWJsZWQgPSBmYWxzZVxuICAgICAgICBpZiAoIWVsZW1lbnRzTm9Cb2R5Tm9TZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICAgIC8vIG9ubHkgc2VjdGlvbnMgYW5kIGJvZHlcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoV2lkdGhJbnB1dCwgbnVsbClcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoSGVpZ2h0SW5wdXQsIG51bGwpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gb3RoZXIgdGhhbiBzZWN0aW9uc1xuICAgICAgICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChXaWR0aElucHV0LCBjb21wdXRlVmFsdWUuZ2V0KFdpZHRoSW5wdXQpKCkpXG4gICAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKEhlaWdodElucHV0LCBjb21wdXRlVmFsdWUuZ2V0KEhlaWdodElucHV0KSgpKVxuICAgICAgICB9XG4gICAgICAgIC8vIGJvZHkgYW5kIHNlY3Rpb25zIGFuZCBzZWN0aW9uIGNvbnRlbnQgYW5kIHN0YXRpYyBjb250ZW50XG4gICAgICAgIGlmIChlbGVtZW50c1Bvc2l0aW9uID09PSAnc3RhdGljJyB8fCAhZWxlbWVudHNOb0JvZHlOb1NlY3Rpb25Ob1NlY3Rpb25Db250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChUb3BJbnB1dCwgbnVsbClcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoTGVmdElucHV0LCBudWxsKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChUb3BJbnB1dCwgY29tcHV0ZVZhbHVlLmdldChUb3BJbnB1dCkoKSlcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoTGVmdElucHV0LCBjb21wdXRlVmFsdWUuZ2V0KExlZnRJbnB1dCkoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9ubHkgaW1hZ2VzXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzVHlwZSA9IHRoaXMuZ2V0Q29tbW9uUHJvcGVydHkoZWxlbWVudHNOb0JvZHlOb1NlY3Rpb24sIChlbGVtZW50KSA9PiBlbGVtZW50LnR5cGUpXG4gICAgICAgIGlmIChlbGVtZW50c1R5cGUgPT09IEVsZW1lbnRUeXBlLklNQUdFKSB7XG4gICAgICAgICAgdGhpcy5hbHRJbnB1dC5kaXNhYmxlZCA9IGZhbHNlXG4gICAgICAgICAgY29uc3QgYWx0ID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keU5vU2VjdGlvbiwgKGVsKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZWwuYWx0XG4gICAgICAgICAgfSlcbiAgICAgICAgICBpZiAoYWx0KSB7XG4gICAgICAgICAgICB0aGlzLmFsdElucHV0LnZhbHVlID0gYWx0XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWx0SW5wdXQudmFsdWUgPSAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFsdElucHV0LnZhbHVlID0gJydcbiAgICAgICAgICB0aGlzLmFsdElucHV0LmRpc2FibGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm90IGZvciBzZWN0aW9ucyBvciBzZWN0aW9ucyBjb250ZW50XG4gICAgICAgIGNvbnN0IGFsbG93UG9zaXRpb24gPSAhIWVsZW1lbnRzTm9Cb2R5Tm9TZWN0aW9uTm9TZWN0aW9uQ29udGVudC5sZW5ndGhcbiAgICAgICAgaWYgKGFsbG93UG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoUG9zaXRpb25TZWxlY3QsIGVsZW1lbnRzUG9zaXRpb24gfHwgJycpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKFBvc2l0aW9uU2VsZWN0LCBudWxsKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udGFpbmVycyBidXQgbm8gc2VjdGlvbnNcbiAgICAgICAgLy8gVE9ETzogbGV0IHNlY3Rpb25zIGhhbmRsZSBvdGhlciBkaXNwbGF5cyAocmVxdWlyZXMgc2VjdGlvbiBjb250YWluZXJzIHRvIGJlIGZsZXggaXRlbXMpXG4gICAgICAgIGlmIChlbGVtZW50c1R5cGUgPT09IEVsZW1lbnRUeXBlLkNPTlRBSU5FUiAmJiBlbGVtZW50c05vQm9keU5vU2VjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoRGlzcGxheVNlbGVjdCwgZWxlbWVudHNEaXNwbGF5IHx8ICcnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChEaXNwbGF5U2VsZWN0LCBudWxsKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udGFpbmVycyBidXQgbm8gc2VjdGlvbnMgYW5kIGZsZXggb25seVxuICAgICAgICBpZiAoZWxlbWVudHNOb0JvZHlOb1NlY3Rpb24ubGVuZ3RoICYmIGVsZW1lbnRzRGlzcGxheSA9PT0gJ2ZsZXgnKSB7XG4gICAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKEZsZXhEaXJlY3Rpb25TZWxlY3QsIGNvbXB1dGVWYWx1ZS5nZXQoRmxleERpcmVjdGlvblNlbGVjdCkoKSB8fCAnJylcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoQWxpZ25JdGVtc1NlbGVjdCwgY29tcHV0ZVZhbHVlLmdldChBbGlnbkl0ZW1zU2VsZWN0KSgpIHx8ICcnKVxuICAgICAgICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChKdXN0aWZ5Q29udGVudFNlbGVjdCwgY29tcHV0ZVZhbHVlLmdldChKdXN0aWZ5Q29udGVudFNlbGVjdCkoKSB8fCAnJylcbiAgICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoRmxleFdyYXBTZWxlY3QsIGNvbXB1dGVWYWx1ZS5nZXQoRmxleFdyYXBTZWxlY3QpKCkgfHwgJycpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKEZsZXhEaXJlY3Rpb25TZWxlY3QsIG51bGwpXG4gICAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKEFsaWduSXRlbXNTZWxlY3QsIG51bGwpXG4gICAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKEp1c3RpZnlDb250ZW50U2VsZWN0LCBudWxsKVxuICAgICAgICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChGbGV4V3JhcFNlbGVjdCwgbnVsbClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpdGxlXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eShlbGVtZW50c05vQm9keU5vU2VjdGlvbiwgKGVsKSA9PiBlbC50aXRsZSlcbiAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgdGhpcy50aXRsZUlucHV0LnZhbHVlID0gdGl0bGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRpdGxlSW5wdXQudmFsdWUgPSAnJ1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKE1hcmdpblRvcElucHV0LCBjb21wdXRlVmFsdWUuZ2V0KE1hcmdpblRvcElucHV0KSgpKVxuICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoTWFyZ2luTGVmdElucHV0LCBjb21wdXRlVmFsdWUuZ2V0KE1hcmdpbkxlZnRJbnB1dCkoKSlcbiAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKE1hcmdpblJpZ2h0SW5wdXQsIGNvbXB1dGVWYWx1ZS5nZXQoTWFyZ2luUmlnaHRJbnB1dCkoKSlcbiAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKE1hcmdpbkJvdHRvbUlucHV0LCBjb21wdXRlVmFsdWUuZ2V0KE1hcmdpbkJvdHRvbUlucHV0KSgpKVxuICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoUGFkZGluZ1RvcElucHV0LCBjb21wdXRlVmFsdWUuZ2V0KFBhZGRpbmdUb3BJbnB1dCkoKSlcbiAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKFBhZGRpbmdMZWZ0SW5wdXQsIGNvbXB1dGVWYWx1ZS5nZXQoUGFkZGluZ0xlZnRJbnB1dCkoKSlcbiAgICAgICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKFBhZGRpbmdSaWdodElucHV0LCBjb21wdXRlVmFsdWUuZ2V0KFBhZGRpbmdSaWdodElucHV0KSgpKVxuICAgICAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoUGFkZGluZ0JvdHRvbUlucHV0LCBjb21wdXRlVmFsdWUuZ2V0KFBhZGRpbmdCb3R0b21JbnB1dCkoKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvdWxkIG5vdCBmaW5kIGEgYm91bmRpbmcgYm94IG9yIHNlY2xlY3Rpb24gY29udGFpbnMgb25seSB0aGUgYm9keVxuICAgICAgICB0aGlzLmRpc2FibGVEaW1lbnNpb25zKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9zaXRpb24tZWRpdG9yJykgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgIDsodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW8tZWRpdG9yJykgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcblxuICAgIH1cbiAgfVxuICBkaXNhYmxlRGltZW5zaW9ucygpIHtcbiAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoRmxleFdyYXBTZWxlY3QsIG51bGwpXG4gICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKEp1c3RpZnlDb250ZW50U2VsZWN0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChBbGlnbkl0ZW1zU2VsZWN0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChGbGV4RGlyZWN0aW9uU2VsZWN0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChEaXNwbGF5U2VsZWN0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChQb3NpdGlvblNlbGVjdCwgbnVsbClcbiAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoUGFkZGluZ0xlZnRJbnB1dCwgbnVsbClcbiAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoUGFkZGluZ0JvdHRvbUlucHV0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChQYWRkaW5nUmlnaHRJbnB1dCwgbnVsbClcbiAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoUGFkZGluZ1RvcElucHV0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChNYXJnaW5MZWZ0SW5wdXQsIG51bGwpXG4gICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKE1hcmdpbkJvdHRvbUlucHV0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChNYXJnaW5SaWdodElucHV0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChNYXJnaW5Ub3BJbnB1dCwgbnVsbClcbiAgICB0aGlzLm9uSW5wdXRQeENoYW5nZWQoSGVpZ2h0SW5wdXQsIG51bGwpXG4gICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKFdpZHRoSW5wdXQsIG51bGwpXG4gICAgdGhpcy5vbklucHV0UHhDaGFuZ2VkKFRvcElucHV0LCBudWxsKVxuICAgIHRoaXMub25JbnB1dFB4Q2hhbmdlZChMZWZ0SW5wdXQsIG51bGwpXG5cbiAgICB0aGlzLmFsdElucHV0LmRpc2FibGVkID0gdHJ1ZVxuICAgIHRoaXMuYWx0SW5wdXQudmFsdWUgPSAnJ1xuICAgIHRoaXMudGl0bGVJbnB1dC5kaXNhYmxlZCA9IHRydWVcbiAgICB0aGlzLnRpdGxlSW5wdXQudmFsdWUgPSAnJ1xuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgaGVscGVycyB0byBkaXNwYXRjaCBjb21tb24gYWN0aW9ucyBvbiB0aGUgc3RvcmVcbiAqIFRPRE86IDEtIHJlbW92ZSBhbGwgcmVmZXJlbmNlcyB0byB0aGUgc3RvcmUgb3IgZGlzcGF0Y2ggPT4gZXZlcnkgZnVuY3Rpb24gc2hvdWxkIHRha2UgRWxlbWVudFN0YXRlW10gYW5kIHJldHVybiB0aGUgY2hhbmdlcyB0byBiZSBtYWRlIGFzIGFuIEVsZW1lbnRTdGF0ZVtdXG4gKiBUT0RPOiAyLSBtb3ZlIHRoaXMgZmlsZSB0byBhIGNyb3NzIHBsYXRmb3JtIHBhY2thZ2UgKGUuZy4gaW4gc3JjL3RzL2hlbHBlcnMvKVxuICovXG5cbmltcG9ydCB7IFN0eWxlTmFtZSwgU3R5bGVEYXRhLCBTdHlsZURhdGFPYmplY3QsIFBzZXVkb0NsYXNzLCBQc2V1ZG9DbGFzc0RhdGEsIFZpc2liaWxpdHkgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0RWxlbWVudHMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0UHNldWRvQ2xhc3NEYXRhIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IGdldFNpdGUsIHVwZGF0ZVNpdGUgfSBmcm9tICcuL2luZGV4J1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi9zdG9yZS9pbmRleCdcbmltcG9ydCB7IHVwZGF0ZUVsZW1lbnRzIH0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9pbmRleCdcblxuLyoqXG4gKiBzYXZlIGFuIGVtcHR5IHN0eWxlIG9yIHJlc2V0IGEgc3R5bGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdHlsZShkaXNwbGF5TmFtZTogc3RyaW5nLCBjbGFzc05hbWU6IFN0eWxlTmFtZSwgb3B0X2RhdGE/OiBTdHlsZURhdGEsIHNpdGUgPSBnZXRTaXRlKCksIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpIHtcbiAgY29uc3QgbmV3RGF0YSA9ICEhb3B0X2RhdGEgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9wdF9kYXRhKSkgOiAoe1xuICAgIGNsYXNzTmFtZTogJycsXG4gICAgZGlzcGxheU5hbWU6ICcnLFxuICAgIHRlbXBsYXRlTmFtZTogJycsXG4gICAgc3R5bGVzOiB7ZGVza3RvcDoge25vcm1hbDoge319fSxcbiAgfSBhcyBTdHlsZURhdGEpXG4gIC8vIGNoZWNrIHRoYXQgc3R5bGUgZG9lcyBub3QgZXhpc3RcbiAgaWYgKHNpdGUuc3R5bGVzW2NsYXNzTmFtZV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgc3R5bGUgYWxyZWFkeSBleGlzdHMnKVxuICB9IGVsc2Uge1xuICAgIC8vIHJlbmRlciBhbGwgcHNldWRvIGNsYXNzZXMgaW4gYWxsIHZpc2liaWxpdHkgb2JqZWN0XG4gICAgZ2V0UHNldWRvQ2xhc3NEYXRhKG5ld0RhdGEpXG4gICAgLmZvckVhY2goKHBzZXVkb0NsYXNzRGF0YSkgPT4ge1xuICAgICAgY29tcG9uZW50U3R5bGVDaGFuZ2VkKGNsYXNzTmFtZSwgcHNldWRvQ2xhc3NEYXRhLnBzZXVkb0NsYXNzLCBwc2V1ZG9DbGFzc0RhdGEudmlzaWJpbGl0eSwgcHNldWRvQ2xhc3NEYXRhLmRhdGEsIGRpc3BsYXlOYW1lLCBzaXRlLCBkaXNwYXRjaClcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogdXBkYXRlIHRoZSBzdHlsZSBpbiB0aGUgc3RvcmUgKHN0eWxlIG9mIHRoZSBzdHlsZSBlZGl0b3IpXG4gKiBGSVhNRTogdGhpcyBzaG91bGQgYmUgYXQgdGhlIHNpdGUgbGV2ZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudFN0eWxlQ2hhbmdlZChjbGFzc05hbWU6IFN0eWxlTmFtZSwgcHNldWRvQ2xhc3M6IFBzZXVkb0NsYXNzLCB2aXNpYmlsaXR5OiBWaXNpYmlsaXR5LCBvcHRfZGF0YT86IFBzZXVkb0NsYXNzRGF0YSwgb3B0X2Rpc3BsYXlOYW1lPzogc3RyaW5nLCBzaXRlID0gZ2V0U2l0ZSgpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSB7XG4gIC8vIGV4cG9zZSB0aGUgY2xhc3MgbmFtZSBhbmQgcHNldWRvIGNsYXNzIHRvIHRoZSBwcm9kb3R5cGUgdGVtcGxhdGVcbiAgY29uc3QgbmV3RGF0YSA9IHtcbiAgICAuLi5vcHRfZGF0YSxcbiAgICBjbGFzc05hbWUsXG4gICAgcHNldWRvQ2xhc3MsXG4gIH1cblxuICAvLyBzdG9yZSB0aGUgY29tcG9uZW50J3MgZGF0YSBmb3IgbGF0ZXIgZWRpdGlvblxuICBjb25zdCBzdHlsZURhdGEgPSAhIXNpdGUuc3R5bGVzW2NsYXNzTmFtZV0gPyB7XG4gICAgLy8gY2xvbmUgdGhlIGRhdGEgb2JqZWN0XG4gICAgLi4uc2l0ZS5zdHlsZXNbY2xhc3NOYW1lXSxcbiAgfSA6IHtcbiAgICBjbGFzc05hbWUsXG4gICAgdGVtcGxhdGVOYW1lOiAndGV4dCcsXG4gICAgZGlzcGxheU5hbWU6IG9wdF9kaXNwbGF5TmFtZSxcbiAgICBzdHlsZXM6IHt9LFxuICB9IGFzIFN0eWxlRGF0YVxuICBpZiAoIXN0eWxlRGF0YS5zdHlsZXNbdmlzaWJpbGl0eV0pIHtcbiAgICBzdHlsZURhdGEuc3R5bGVzW3Zpc2liaWxpdHldID0ge31cbiAgfVxuICBzdHlsZURhdGEuc3R5bGVzW3Zpc2liaWxpdHldW3BzZXVkb0NsYXNzXSA9IG5ld0RhdGFcblxuICBjb25zdCBzdHlsZTogU3R5bGVEYXRhT2JqZWN0ID0ge1xuICAgIC4uLnNpdGUuc3R5bGVzLFxuICAgIFtjbGFzc05hbWVdOiBzdHlsZURhdGEsXG4gIH1cbiAgdXBkYXRlU2l0ZSh7XG4gICAgLi4uc2l0ZSxcbiAgICBzdHlsZXM6IHN0eWxlLFxuICB9LCBkaXNwYXRjaClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVN0eWxlKGNsYXNzTmFtZTogc3RyaW5nLCBzaXRlID0gZ2V0U2l0ZSgpLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCksIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpIHtcbiAgLy8gY2xvbmUgdGhlIHNpdGUgYW5kIHN0eWxlIG9iamVjdHNcbiAgY29uc3QgbmV3U2l0ZSA9IHtcbiAgICAuLi5zaXRlLFxuICAgIHN0eWxlczoge1xuICAgICAgLi4uc2l0ZS5zdHlsZXMsXG4gICAgfVxuICB9XG5cbiAgLy8gZGVsZXRlIHRoZSBzdHlsZVxuICBkZWxldGUgbmV3U2l0ZS5zdHlsZXNbY2xhc3NOYW1lXVxuXG4gIC8vIHJlbW92ZSBzdHlsZSBmcm9tIGFsbCBlbGVtZW50c1xuICB1cGRhdGVFbGVtZW50cyhlbGVtZW50c1xuICAgIC5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuaW5jbHVkZXMoY2xhc3NOYW1lKSlcbiAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgIC4uLmVsLFxuICAgICAgY2xhc3NMaXN0OiBlbC5jbGFzc0xpc3QuZmlsdGVyKChjKSA9PiBjICE9PSBjbGFzc05hbWUpLFxuICAgIH0pKSwgZGlzcGF0Y2gpXG5cbiAgLy8gdXBkYXRlIHRoZSBzdG9yZVxuICB1cGRhdGVTaXRlKG5ld1NpdGUsIGRpc3BhdGNoKVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSBzdHlsZSBlZGl0b3IgcGFuZSBpcyBkaXNwbGF5ZWQgaW4gdGhlIHByb3BlcnR5IHBhbmVsIG9uIHRoZVxuICogcmlnaHQuIEl0IGlzIGEgcHJvZG90eXBlIGNvbXBvbmVudCB1c2VkIHRvIGVkaXQgdGhlIGNzcyBzdHlsZXNcbiAqXG4gKi9cblxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlLCBFbGVtZW50VHlwZSB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBQYW5lQmFzZSB9IGZyb20gJy4vUGFuZUJhc2UnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nXG5pbXBvcnQge1xuICBTdHlsZURhdGEsXG4gIFN0eWxlRGF0YU9iamVjdCxcbiAgU3R5bGVOYW1lLFxuICBWaXNpYmlsaXR5LFxuICBQc2V1ZG9DbGFzcyxcbiAgVmlzaWJpbGl0eURhdGEsXG4gIFBzZXVkb0NsYXNzRGF0YVxufSBmcm9tICcuLi8uLi9zaXRlLXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgaXNEaWFsb2dWaXNpYmxlIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvdXRpbHMnXG5pbXBvcnQgeyBicm93c2UgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL3V0aWxzJ1xuaW1wb3J0IHsgZ2V0Qm9keSwgZ2V0U2VsZWN0ZWRFbGVtZW50cyB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldENvbXBvbmVudHNEZWYsIG9wZW5TdHlsZUVkaXRvciB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvY29tcG9uZW50J1xuaW1wb3J0IHsgZ2V0Q3VycmVudFBhZ2UgfSBmcm9tICcuLi8uLi9wYWdlLXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQge1xuICBnZXRFbGVtZW50cyxcbiAgc3Vic2NyaWJlRWxlbWVudHMsXG4gIHVwZGF0ZUVsZW1lbnRzXG59IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBnZXRTaXRlIH0gZnJvbSAnLi4vLi4vc2l0ZS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGdldFVpLCBzdWJzY3JpYmVVaSwgdXBkYXRlVWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9pbmRleCdcbmltcG9ydCB7IGluaXRTdHlsZSwgcmVtb3ZlU3R5bGUsIGNvbXBvbmVudFN0eWxlQ2hhbmdlZCB9IGZyb20gJy4uLy4uL3NpdGUtc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uLy4uL3N0b3JlL2luZGV4J1xuXG4vKipcbiAqIEBwYXJhbSBjbGFzc05hbWUsIHRoZSBjc3MgY2xhc3MgdG8gZWRpdCB0aGUgc3R5bGUgZm9yXG4gKiBAcGFyYW0gcHNldWRvQ2xhc3MsIGUuZy4gbm9ybWFsLCA6aG92ZXIsIDo6Zmlyc3QtbGV0dGVyXG4gKiBAcGFyYW0gdmlzaWJpbGl0eSwgZS5nLiBtb2JpbGUgb25seSwgZGVza3RvcCBhbmQgbW9iaWxlLi4uXG4gKi9cbmZ1bmN0aW9uIGVkaXRTdHlsZShjbGFzc05hbWU6IFN0eWxlTmFtZSwgcHNldWRvQ2xhc3M6IFBzZXVkb0NsYXNzLCB2aXNpYmlsaXR5OiBWaXNpYmlsaXR5KSB7XG4gIGNvbnN0IHN0eWxlRGF0YTogU3R5bGVEYXRhID0gZ2V0U2l0ZSgpLnN0eWxlc1tjbGFzc05hbWVdIHx8ICh7c3R5bGVzOiB7fX0gYXMgU3R5bGVEYXRhKVxuICBjb25zdCB2aXNpYmlsaXR5RGF0YTogVmlzaWJpbGl0eURhdGEgPSBzdHlsZURhdGEuc3R5bGVzW3Zpc2liaWxpdHldIHx8IHt9XG4gIGNvbnN0IHBzZXVkb0NsYXNzRGF0YTogUHNldWRvQ2xhc3NEYXRhID0gdmlzaWJpbGl0eURhdGFbcHNldWRvQ2xhc3NdIHx8IHtcbiAgICB0ZW1wbGF0ZU5hbWU6ICd0ZXh0JyxcbiAgICBjbGFzc05hbWUsXG4gICAgcHNldWRvQ2xhc3MsXG4gIH1cbiAgb3BlblN0eWxlRWRpdG9yKHtcbiAgICBkYXRhOiBwc2V1ZG9DbGFzc0RhdGEsXG4gICAgZGF0YVNvdXJjZXM6IHtcbiAgICAgIGNvbXBvbmVudHM6IFt7ZGlzcGxheU5hbWU6ICcnLCBuYW1lOiAnJywgdGVtcGxhdGVOYW1lOiAnJ31dXG4gICAgICAgIC5jb25jYXQoZ2V0U2l0ZSgpLmZvbnRzXG4gICAgICAgICAgLm1hcCgoZm9udCkgPT4gKHtcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGZvbnQuZmFtaWx5LFxuICAgICAgICAgICAgICBuYW1lOiBmb250LmZhbWlseSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVOYW1lOiAnJyxcbiAgICAgICAgICB9KSkpLFxuICAgICAgfSxcbiAgICB0ZW1wbGF0ZU5hbWU6ICd0ZXh0JyxcbiAgICBldmVudHM6IHtcbiAgICAgIG9uQ2hhbmdlOiAobmV3RGF0YSwgaHRtbCkgPT4gY29tcG9uZW50U3R5bGVDaGFuZ2VkKGNsYXNzTmFtZSwgcHNldWRvQ2xhc3MsIHZpc2liaWxpdHksIG5ld0RhdGEpLFxuICAgICAgb25Ccm93c2U6IChlLCB1cmwsIGNiaykgPT4gYnJvd3NlKGUsIGNiayksXG4gICAgfSxcbiAgfSlcbn1cblxuZXhwb3J0IGNsYXNzIFN0eWxlRWRpdG9yUGFuZSBleHRlbmRzIFBhbmVCYXNlIHtcblxuICBzdHlsZUNvbWJvUHJldlZhbHVlOiBTdHlsZU5hbWUgPSAnJ1xuXG4gIC8vIEJ1aWxkIHRoZSBVSVxuICBzdHlsZUNvbWJvOiBhbnlcbiAgcHNldWRvQ2xhc3NDb21ibzogYW55XG4gIG1vYmlsZU9ubHlDaGVja2JveDogYW55XG5cbiAgLy8gc2VsZWN0IGVsZW1lbnRzIHdoaWNoIGhhdmUgdGhpcyBzdHlsZVxuICBzZWxlY3Rpb25Db3VudFRvdGFsOiBhbnlcblxuICAvLyBzZWxlY3Qgb25seSBlbGVtZW50cyBvbiB0aGlzIHBhZ2VcbiAgc2VsZWN0aW9uQ291bnRQYWdlOiBhbnlcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQpXG4gICAgdGhpcy5zdHlsZUNvbWJvID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGFzcy1uYW1lLXN0eWxlLWNvbWJvLWJveCcpXG4gICAgdGhpcy5wc2V1ZG9DbGFzc0NvbWJvID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wc2V1ZG9jbGFzcy1zdHlsZS1jb21iby1ib3gnKVxuICAgIHRoaXMubW9iaWxlT25seUNoZWNrYm94ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aXNpYmlsaXR5LXN0eWxlLWNoZWNrYm94JylcbiAgICB0aGlzLnBzZXVkb0NsYXNzQ29tYm8ub25jaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgZWRpdFN0eWxlKHRoaXMuc3R5bGVDb21iby52YWx1ZSwgdGhpcy5nZXRQc2V1ZG9DbGFzcygpLCB0aGlzLmdldFZpc2liaWxpdHkoKSlcbiAgICAgIGNvbnN0IHN0eWxlRGF0YSA9IChnZXRTaXRlKCkuc3R5bGVzW3RoaXMuc3R5bGVDb21iby52YWx1ZV0gfHwgIHt9IGFzIFN0eWxlRGF0YSlcbiAgICAgIHRoaXMudXBkYXRlVGFnQnV0dG9uQmFyKHN0eWxlRGF0YSlcbiAgICB9XG4gICAgdGhpcy5tb2JpbGVPbmx5Q2hlY2tib3gub25jaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgLy8gc3dpdGNoIHRoZSBtb2JpbGUgZWRpdG9yIG1vZGVcbiAgICAgIHVwZGF0ZVVpKHtcbiAgICAgICAgLi4uZ2V0VWkoKSxcbiAgICAgICAgbW9iaWxlRWRpdG9yOiB0aGlzLm1vYmlsZU9ubHlDaGVja2JveC5jaGVja2VkLFxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5zdHlsZUNvbWJvLm9uY2hhbmdlID0gKGUpID0+IHtcbiAgICAgIHRoaXMuYXBwbHlTdHlsZSh0aGlzLnN0eWxlQ29tYm8udmFsdWUpXG4gICAgfVxuICAgICh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1zdHlsZScpIGFzIEhUTUxFbGVtZW50KS5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIHRoaXMuY3JlYXRlU3R5bGUoKVxuICAgIH1cbiAgICAodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZW1vdmUtc3R5bGUnKSBhcyBIVE1MRWxlbWVudCkub25jbGljayA9IChlKSA9PiB7XG5cbiAgICAgIC8vIGRlbGV0ZSBmcm9tIHN0eWxlcyBsaXN0XG4gICAgICB0aGlzLmRlbGV0ZVN0eWxlKHRoaXMuc3R5bGVDb21iby52YWx1ZSlcbiAgICB9XG5cbiAgICAvLyB1bi1hcHBseSBzdHlsZVxuICAgICh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnVuYXBwbHktc3R5bGUnKSBhcyBIVE1MRWxlbWVudCkub25jbGljayA9IChlKSA9PiB7XG4gICAgICB1cGRhdGVFbGVtZW50cyhnZXRTZWxlY3RlZEVsZW1lbnRzKClcbiAgICAgICAgLm1hcCgoZWwpID0+ICh7XG4gICAgICAgIC4uLmVsLFxuICAgICAgICBjbGFzc0xpc3Q6IGVsLmNsYXNzTGlzdC5maWx0ZXIoKGMpID0+IGMgIT09IHRoaXMuc3R5bGVDb21iby52YWx1ZSksXG4gICAgICB9KSkpXG4gICAgfVxuICAgIHRoaXMuc2VsZWN0aW9uQ291bnRUb3RhbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudG90YWwnKVxuICAgIHRoaXMuc2VsZWN0aW9uQ291bnRUb3RhbC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIHVwZGF0ZUVsZW1lbnRzKGdldEVsZW1lbnRzKClcbiAgICAgICAgLmZpbHRlcigoZWwpID0+IGVsLnNlbGVjdGVkICE9PSAhIWVsLmNsYXNzTGlzdC5maW5kKChjKSA9PiBjID09PSB0aGlzLnN0eWxlQ29tYm8udmFsdWUpKVxuICAgICAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgICAgICAuLi5lbCxcbiAgICAgICAgICBzZWxlY3RlZDogIWVsLnNlbGVjdGVkLFxuICAgICAgICB9KSkpXG4gICAgfVxuICAgIHRoaXMuc2VsZWN0aW9uQ291bnRQYWdlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vbi1wYWdlJylcbiAgICB0aGlzLnNlbGVjdGlvbkNvdW50UGFnZS5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKVxuICAgICAgdXBkYXRlRWxlbWVudHMoZ2V0RWxlbWVudHMoKVxuICAgICAgLmZpbHRlcigoZWwpID0+IGVsLnNlbGVjdGVkICE9PSAhIWVsLmNsYXNzTGlzdC5maW5kKChjKSA9PiBjID09PSB0aGlzLnN0eWxlQ29tYm8udmFsdWUpICYmIChlbC5wYWdlTmFtZXMubGVuZ3RoID09PSAwIHx8ICEhZWwucGFnZU5hbWVzLmZpbmQoKG5hbWUpID0+IG5hbWUgPT09IGN1cnJlbnRQYWdlLmlkKSkpXG4gICAgICAubWFwKChlbCkgPT4gKHtcbiAgICAgICAgLi4uZWwsXG4gICAgICAgIHNlbGVjdGVkOiAhZWwuc2VsZWN0ZWQsXG4gICAgICB9KSkpXG4gICAgfVxuXG4gICAgLy8gZHVwbGljYXRlIGEgc3R5bGVcbiAgICA7KHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZHVwbGljYXRlLXN0eWxlJykgYXMgSFRNTEVsZW1lbnQpLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmR1cGxpY2F0ZVN0eWxlKHRoaXMuc3R5bGVDb21iby52YWx1ZSlcblxuICAgIC8vIHJlc2V0IHN0eWxlOlxuICAgIC8vIHRoaXMubW9kZWwuY29tcG9uZW50LmluaXRTdHlsZSh0aGlzLnN0eWxlQ29tYm8ub3B0aW9uc1t0aGlzLnN0eWxlQ29tYm8uc2VsZWN0ZWRJbmRleF0udGV4dCxcbiAgICAvLyB0aGlzLnN0eWxlQ29tYm8udmFsdWUsIHRoaXMuZ2V0UHNldWRvQ2xhc3MoKSwgdGhpcy5nZXRWaXNpYmlsaXR5KCkpXG4gICAgLy8gcmVuYW1lIHN0eWxlXG4gICAgOyh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtc3R5bGUnKSBhcyBIVE1MRWxlbWVudCkub25jbGljayA9IChlKSA9PiB0aGlzLnJlbmFtZVN0eWxlKHRoaXMuc3R5bGVDb21iby52YWx1ZSlcblxuICAgIHN1YnNjcmliZVVpKCgpID0+IHtcbiAgICAgIHRoaXMucmVkcmF3KGdldFNlbGVjdGVkRWxlbWVudHMoKSlcbiAgICB9KVxuXG4gICAgc3Vic2NyaWJlRWxlbWVudHMoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG4gIH1cblxuICBkdXBsaWNhdGVTdHlsZShzdHlsZU5hbWUpIHtcbiAgICB0aGlzLmNyZWF0ZVN0eWxlKGdldFNpdGUoKS5zdHlsZXNbc3R5bGVOYW1lXSlcbiAgfVxuXG4gIHJlbmFtZVN0eWxlKG9sZENsYXNzTmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKG9sZENsYXNzTmFtZSA9PT0gQ29uc3RhbnRzLkJPRFlfU1RZTEVfQ1NTX0NMQVNTKSB7XG4gICAgICBOb3RpZmljYXRpb24uYWxlcnQoXG4gICAgICAgICdSZW5hbWUgYSBzdHlsZScsXG4gICAgICAgIGBUaGUgc3R5bGUgJyR7Q29uc3RhbnRzLkJPRFlfU1RZTEVfTkFNRX0nIGlzIGEgc3BlY2lhbCBzdHlsZSwgeW91IGNhbiBub3QgcmVuYW1lIGl0LmAsXG4gICAgICAgICgpID0+IHt9KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXRhID0gZ2V0U2l0ZSgpLnN0eWxlc1tvbGRDbGFzc05hbWVdXG4gICAgICB0aGlzLmNyZWF0ZVN0eWxlKGRhdGEsIChuYW1lKSA9PiB0aGlzLmRvUmVuYW1lU3R5bGUob2xkQ2xhc3NOYW1lLCBuYW1lKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogYSBuZXcgc3R5bGUgaGFzIGJlZW4gY3JlYXRlZCwgbm93IHVwZGF0ZSBhbGwgZWxlbWVudHMgYW5kIGRlbGV0ZSB0aGUgb2xkIG9uZVxuICAgKi9cbiAgZG9SZW5hbWVTdHlsZShvbGRDbGFzc05hbWU6IHN0cmluZywgbmFtZTogc3RyaW5nLCBzdHlsZXM6IFN0eWxlRGF0YU9iamVjdCA9IGdldFNpdGUoKS5zdHlsZXMsIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKSwgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHRoaXMuZ2V0Q2xhc3NOYW1lRnJvbUNsYXNzTmFtZShuYW1lKVxuXG4gICAgLy8gdXBkYXRlIHRoZSBzdHlsZSBuYW1lIGluIGFsbCBlbGVtZW50c1xuICAgIHRoaXMuZG9BcHBseVN0eWxlKHRoaXMuZ2V0RWxlbWVudHNXaXRoU3R5bGUob2xkQ2xhc3NOYW1lLCBudWxsLCBlbGVtZW50cyksIGNsYXNzTmFtZSwgc3R5bGVzLCBkaXNwYXRjaClcblxuICAgIC8vIGRlbGV0ZSB0aGUgb2xkIG9uZSBmcm9tIG1vZGVsXG4gICAgcmVtb3ZlU3R5bGUob2xkQ2xhc3NOYW1lKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIGVsZW1lbnRzIHdoaWNoIGhhdmUgYSBnaXZlbiBzdHlsZVxuICAgKiBAY3VycmVudFBhZ2VJZCBpZiBudWxsIGl0IGV4Y2x1ZGVzIHRoZSBlbGVtZW50cyB3aGljaCBhcmUgbm90XG4gICAqICAgICB2aXNpYmxlIGluIHRoZSBjdXJyZW50IHBhZ2VcbiAgICovXG4gIGdldEVsZW1lbnRzV2l0aFN0eWxlKHN0eWxlTmFtZTogU3R5bGVOYW1lLCBjdXJyZW50UGFnZUlkLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCkpOiBFbGVtZW50U3RhdGVbXSB7XG4gICAgaWYgKGN1cnJlbnRQYWdlSWQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50c1xuICAgICAgICAuZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmluY2x1ZGVzKHN0eWxlTmFtZSlcbiAgICAgICAgICAmJiBlbC5wYWdlTmFtZXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgfHwgZWwucGFnZU5hbWVzLmluY2x1ZGVzKGN1cnJlbnRQYWdlSWQpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudHNcbiAgICAgICAgLmZpbHRlcigoZWwpID0+IGVsLmNsYXNzTGlzdC5pbmNsdWRlcyhzdHlsZU5hbWUpKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgdGhlIHZpc2liaWxpdHkgKG1vYmlsZStkZXNrdG9wIG9yIGRlc2t0b3ApIG9mIHRoZSBzdHlsZSBiZWluZyBlZGl0ZWRcbiAgICovXG4gIGdldFZpc2liaWxpdHkoKTogVmlzaWJpbGl0eSB7XG4gICAgcmV0dXJuIENvbnN0YW50cy5TVFlMRV9WSVNJQklMSVRZW2dldFVpKCkubW9iaWxlRWRpdG9yID8gMSA6IDBdXG4gIH1cblxuICAvKipcbiAgICogYXBwbHkgYSBzdHlsZSB0byBhIHNldCBvZiBlbGVtZW50cywgcmVtb3ZlIG9sZCBzdHlsZXNcbiAgICovXG4gIGFwcGx5U3R5bGUobmV3U3R5bGU6IFN0eWxlTmFtZSwgc3R5bGVzOiBTdHlsZURhdGFPYmplY3QgPSBnZXRTaXRlKCkuc3R5bGVzLCBlbGVtZW50cyA9IGdldEVsZW1lbnRzKCksIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2gpIHtcbiAgICBjb25zdCBib2R5ID0gZ2V0Qm9keShlbGVtZW50cylcbiAgICBjb25zdCBub0JvZHkgPSBnZXRTZWxlY3RlZEVsZW1lbnRzKGVsZW1lbnRzKVxuICAgICAgLmZpbHRlcigoZWwpID0+IGVsICE9PSBib2R5KSAvLyByZW1vdmUgYm9keVxuICAgIGlmIChuZXdTdHlsZSA9PT0gQ29uc3RhbnRzLkJPRFlfU1RZTEVfQ1NTX0NMQVNTKSB7XG4gICAgICBOb3RpZmljYXRpb24uYWxlcnQoJ0FwcGx5IGEgc3R5bGUnLCBgXG4gICAgICAgIFRoZSBzdHlsZSAnJHtDb25zdGFudHMuQk9EWV9TVFlMRV9OQU1FfScgaXMgYSBzcGVjaWFsIHN0eWxlLCBpdCBpcyBhbHJlYWR5IGFwcGx5ZWQgdG8gYWxsIGVsZW1lbnRzLlxuICAgICAgYCxcbiAgICAgICgpID0+IHt9KVxuICAgIH0gZWxzZSBpZiAobm9Cb2R5Lmxlbmd0aCkge1xuICAgICAgdGhpcy5kb0FwcGx5U3R5bGUobm9Cb2R5LCBuZXdTdHlsZSwgc3R5bGVzLCBkaXNwYXRjaClcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdBcHBseSBhIHN0eWxlJywgJ0Vycm9yOiB5b3UgbmVlZCB0byBzZWxlY3QgYXQgbGVhc3QgMSBlbGVtZW50IGZvciB0aGlzIGFjdGlvbi4nLCAoKSA9PiB7fSlcbiAgICB9XG4gIH1cblxuICBkb0FwcGx5U3R5bGUoc2VsZWN0aW9uOiBFbGVtZW50U3RhdGVbXSwgc3R5bGVOYW1lOiBzdHJpbmcsIHN0eWxlczogU3R5bGVEYXRhT2JqZWN0ID0gZ2V0U2l0ZSgpLnN0eWxlcywgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaCkge1xuICAgIGNvbnN0IGFsbFN0eWxlc05hbWVzID0gT2JqZWN0LmtleXMoc3R5bGVzKVxuICAgICAgLmZpbHRlcigocykgPT4gcyAhPT0gQ29uc3RhbnRzLkJPRFlfU1RZTEVfQ1NTX0NMQVNTKVxuICAgIHVwZGF0ZUVsZW1lbnRzKHNlbGVjdGlvblxuICAgICAgLm1hcCgoZWwpID0+IGVsLmNsYXNzTGlzdC5pbmNsdWRlcyhzdHlsZU5hbWUpID8gZWwgOiB7XG4gICAgICAgIC4uLmVsLFxuICAgICAgICBjbGFzc0xpc3Q6IGVsXG4gICAgICAgICAgLmNsYXNzTGlzdFxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBzdHlsZXNcbiAgICAgICAgICAgIC5maWx0ZXIoKGMpID0+ICFhbGxTdHlsZXNOYW1lcy5pbmNsdWRlcyhjKSlcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgbmV3IHN0eWxlXG4gICAgICAgICAgICAuY29uY2F0KFtzdHlsZU5hbWVdKSxcbiAgICAgIH0pLCBkaXNwYXRjaClcbiAgfVxuXG4gIC8qKlxuICAgKiByZXRyaWV2ZSB0aGUgc3R5bGVzIGFwcGx5ZWQgdG8gdGhlIHNldCBvZiBlbGVtZW50c1xuICAgKi9cbiAgZ2V0U3R5bGVzKGVsZW1lbnRzOiBFbGVtZW50U3RhdGVbXSk6IFN0eWxlTmFtZVtdIHtcbiAgICBjb25zdCBhbGxTdHlsZXMgPSBnZXRTaXRlKCkuc3R5bGVzXG4gICAgcmV0dXJuIGVsZW1lbnRzXG4gICAgICAubWFwKChlbCkgPT4gZWwuY2xhc3NMaXN0KVxuICAgICAgLy8gQWJvdXQgdGhpcyByZWR1Y2U6XG4gICAgICAvLyBmcm9tIGFycmF5IG9mIGVsZW1lbnRzIHRvIGFycmF5IG9mIGNsYXNzTmFtZXNcbiAgICAgIC8vIG5vIGluaXRpYWwgdmFsdWUgc28gdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIGFycmF5IHdpbGwgYmUgdXNlZCwgaXRcbiAgICAgIC8vIHdpbGwgc3RhcnQgd2l0aCB0aGUgMm5kIGVsZW1lbnQga2VlcCBvbmx5IHRoZSBzdHlsZXMgZGVmaW5lZCBpbiB0aGVcbiAgICAgIC8vIHN0eWxlIGVkaXRvciB0byBhcnJheSBvZiBjbGFzcyBuYW1lcyBpbiBjb21tb24gdG8gYWxsIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICAucmVkdWNlKChwcmV2LCBjbGFzc05hbWVzKSA9PiB7XG4gICAgICAgIHJldHVybiBwcmV2LmZpbHRlcigocHJldkNsYXNzTmFtZSkgPT4gY2xhc3NOYW1lcy5pbmRleE9mKHByZXZDbGFzc05hbWUpID4gLTEpXG4gICAgICB9KVxuICAgICAgLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBPYmplY3Qua2V5cyhhbGxTdHlsZXMpLmZpbmQoKHN0eWxlTmFtZTogc3RyaW5nKSA9PiBzdHlsZU5hbWUgPT09IGNsYXNzTmFtZSkpXG4gIH1cblxuICAvKipcbiAgICogdXBkYXRlIHRoZSBsaXN0IG9mIHN0eWxlc1xuICAgKiBAcGFyYW0gc3R5bGVOYW1lOiBvcHRpb24gdG8gc2VsZWN0LCBvciBudWxsIGZvciBoaWRlIGVkaXRvciBvclxuICAgKiAgICAgYENvbXBvbmVudC5FTVBUWV9TVFlMRV9DTEFTU19OQU1FYCBmb3IgYWRkIGFuIGVtcHR5IHNlbGVjdGlvbiBhbmRcbiAgICogICAgIHNlbGVjdCBpdFxuICAgKi9cbiAgdXBkYXRlU3R5bGVMaXN0KHN0eWxlTmFtZTogU3R5bGVOYW1lKSB7XG4gICAgLy8gcmVzZXQgdGhlIGNvbWJvIGJveFxuICAgIHRoaXMuc3R5bGVDb21iby5pbm5lckhUTUwgPSAnJ1xuXG4gICAgLy8gZ2V0IGFsbCBzdHlsZXMgZm9yIHRoaXMgd2Vic2l0ZVxuICAgIGNvbnN0IGFsbFN0eWxlRGF0YSA9IGdldFNpdGUoKS5zdHlsZXNcblxuICAgIC8vIGFkZCBhbGwgdGhlIGV4aXN0aW5nIHN0eWxlcyB0byB0aGUgZHJvcGRvd24gbGlzdFxuICAgIDsoc3R5bGVOYW1lID09PSBDb25zdGFudHMuRU1QVFlfU1RZTEVfQ0xBU1NfTkFNRSA/IFt7XG4gICAgICBjbGFzc05hbWU6IENvbnN0YW50cy5FTVBUWV9TVFlMRV9DTEFTU19OQU1FLFxuICAgICAgZGlzcGxheU5hbWU6IENvbnN0YW50cy5FTVBUWV9TVFlMRV9ESVNQTEFZX05BTUUsXG4gICAgfV0gOiBbXSlcbiAgICAuY29uY2F0KE9iamVjdC5rZXlzKGFsbFN0eWxlRGF0YSkubWFwKChjbGFzc05hbWUpID0+IGFsbFN0eWxlRGF0YVtjbGFzc05hbWVdKSlcbiAgICAvLyBhcHBlbmQgb3B0aW9ucyB0byB0aGUgZG9tXG4gICAgLm1hcCgob2JqKSA9PiB7XG4gICAgICAvLyBjcmVhdGUgdGhlIGNvbWJvIGJveCBvcHRpb25cbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICBvcHRpb24udmFsdWUgPSBvYmouY2xhc3NOYW1lXG4gICAgICBvcHRpb24uaW5uZXJIVE1MID0gb2JqLmRpc3BsYXlOYW1lXG4gICAgICByZXR1cm4gb3B0aW9uXG4gICAgfSlcbiAgICAuZm9yRWFjaCgob3B0aW9uKSA9PiB0aGlzLnN0eWxlQ29tYm8uYXBwZW5kQ2hpbGQob3B0aW9uKSlcbiAgICBpZiAoc3R5bGVOYW1lICE9IG51bGwgKSB7XG4gICAgICBjb25zdCBzdHlsZU5hbWVOb3ROdWxsID0gKHN0eWxlTmFtZSBhcyBTdHlsZU5hbWUpXG5cbiAgICAgIC8vIHNldCB0aGUgbmV3IHNlbGVjdGlvblxuICAgICAgdGhpcy5zdHlsZUNvbWJvLnZhbHVlID0gKHN0eWxlTmFtZU5vdE51bGwgYXMgc3RyaW5nKVxuXG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbm8tc3R5bGUnKVxuXG4gICAgICAvLyBwb3B1bGF0ZSBjb21ib3NcbiAgICAgIGNvbnN0IHN0eWxlRGF0YSA9IChnZXRTaXRlKCkuc3R5bGVzW3N0eWxlTmFtZU5vdE51bGxdIHx8IHt9IGFzIFN0eWxlRGF0YSlcbiAgICAgIHRoaXMucG9wdWxhdGVQc2V1ZG9DbGFzc0NvbWJvKHN0eWxlRGF0YSlcbiAgICAgIHRoaXMucHNldWRvQ2xhc3NDb21iby5kaXNhYmxlZCA9IGZhbHNlXG5cbiAgICAgIC8vIHN0b3JlIHByZXYgdmFsdWVcbiAgICAgIGlmICh0aGlzLnN0eWxlQ29tYm9QcmV2VmFsdWUgIT09IHN0eWxlTmFtZU5vdE51bGwpIHtcbiAgICAgICAgLy8gcmVzZXQgc3RhdGVcbiAgICAgICAgdGhpcy5wc2V1ZG9DbGFzc0NvbWJvLnNlbGVjdGVkSW5kZXggPSAwXG4gICAgICB9XG4gICAgICB0aGlzLnN0eWxlQ29tYm9QcmV2VmFsdWUgPSBzdHlsZU5hbWVOb3ROdWxsXG5cbiAgICAgIC8vIHN0YXJ0IGVkaXRpbmcgdGhlIHN0eWxlIHdpdGggcHJvZG90eXBlXG4gICAgICBlZGl0U3R5bGUoc3R5bGVOYW1lTm90TnVsbCwgdGhpcy5nZXRQc2V1ZG9DbGFzcygpLCB0aGlzLmdldFZpc2liaWxpdHkoKSlcblxuICAgICAgLy8gdXBkYXRlIHNlbGVjdGlvbiBjb3VudFxuICAgICAgY29uc3QgdG90YWwgPSB0aGlzLmdldEVsZW1lbnRzV2l0aFN0eWxlKHN0eWxlTmFtZU5vdE51bGwsIGdldEN1cnJlbnRQYWdlKCk/LmlkKS5sZW5ndGhcbiAgICAgIGNvbnN0IG9uUGFnZSA9IHRvdGFsID09PSAwID8gMCA6IHRoaXMuZ2V0RWxlbWVudHNXaXRoU3R5bGUoc3R5bGVOYW1lTm90TnVsbCwgbnVsbCkubGVuZ3RoXG4gICAgICB0aGlzLnNlbGVjdGlvbkNvdW50UGFnZS5pbm5lckhUTUwgPSBgJHtvblBhZ2V9IG9uIHRoaXMgcGFnZSAoPHNwYW4+c2VsZWN0PC9zcGFuPiksJm5ic3A7YFxuICAgICAgdGhpcy5zZWxlY3Rpb25Db3VudFRvdGFsLmlubmVySFRNTCA9IGAke3RvdGFsfSB0b3RhbCAoPHNwYW4+c2VsZWN0PC9zcGFuPilgXG5cbiAgICAgIC8vIHVwZGF0ZSB0YWdzIGJ1dHRvbnNcbiAgICAgIHRoaXMudXBkYXRlVGFnQnV0dG9uQmFyKHN0eWxlRGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ25vLXN0eWxlJylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogbWFyayB0YWdzIHB1c2ggYnV0dG9ucyB0byBzaG93IHdoaWNoIHRhZ3MgaGF2ZSBzdHlsZXNcbiAgICovXG4gIHVwZGF0ZVRhZ0J1dHRvbkJhcihzdHlsZURhdGE6IFN0eWxlRGF0YSkge1xuICAgIGNvbnN0IHZpc2liaWxpdHlEYXRhID0gKHN0eWxlRGF0YS5zdHlsZXMgfHwge30pW3RoaXMuZ2V0VmlzaWJpbGl0eSgpXSB8fCB7fVxuICAgIGNvbnN0IHRhZ0RhdGEgPSB2aXNpYmlsaXR5RGF0YVt0aGlzLmdldFBzZXVkb0NsYXNzKCldIHx8IHt9XG4gICAgQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZG90eXBlLW5hbWVdJykpXG4gICAgLmZvckVhY2goKGVsOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgdGFnTmFtZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kb3R5cGUtbmFtZScpXG4gICAgICBjb25zdCBsYWJlbCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1pbml0aWFsLXZhbHVlJykgKyAodGFnRGF0YVt0YWdOYW1lXSA/ICcgKicgOiAnJylcbiAgICAgIGlmIChlbC5pbm5lckhUTUwgIT09IGxhYmVsKSB7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IGxhYmVsXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiB1c2VmdWwgdG8gbWFyayBjb21ibyBlbGVtZW50cyB3aXRoIFwiKlwiIHdoZW4gdGhlcmUgaXMgZGF0YSB0aGVyZVxuICAgKi9cbiAgcG9wdWxhdGVQc2V1ZG9DbGFzc0NvbWJvKHN0eWxlRGF0YTogU3R5bGVEYXRhKSB7XG4gICAgY29uc3QgdmlzaWJpbGl0eURhdGEgPSAoc3R5bGVEYXRhLnN0eWxlcyB8fCB7fSlbdGhpcy5nZXRWaXNpYmlsaXR5KCldXG5cbiAgICAvLyBwb3B1bGF0ZSBwc2V1ZG8gY2xhc3MgY29tYm9cbiAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gdGhpcy5wc2V1ZG9DbGFzc0NvbWJvLnNlbGVjdGVkSW5kZXhcbiAgICB0aGlzLnBzZXVkb0NsYXNzQ29tYm8uaW5uZXJIVE1MID0gJydcblxuICAgIC8vIGdldCB0aGUgbGlzdCBvZiBwc2V1ZG8gY2xhc3NlcyBvdXQgb2YgcHJvZG90eXBlIGRlZmluaXRpb25cbiAgICAvLyB7XCJuYW1lXCI6XCJUZXh0XG4gICAgLy8gc3R5bGVzXCIsXCJwcm9wc1wiOlt7XCJuYW1lXCI6XCJwc2V1ZG9DbGFzc1wiLFwidHlwZVwiOltcIm5vcm1hbFwiLFwiOmhvdmVyXCIsXCI6Zm9jdXMtd2l0aGluXCIsXG4gICAgLy8gLi4uXG4gICAgY29uc3QgY29tcG9uZW50c0RlZiA9IGdldENvbXBvbmVudHNEZWYoQ29uc3RhbnRzLlNUWUxFX1RZUEUpXG4gICAgY29uc3QgcHNldWRvQ2xhc3NlcyA9IGNvbXBvbmVudHNEZWYudGV4dC5wcm9wcy5maW5kKChwcm9wKSA9PiBwcm9wLm5hbWUgPT09ICdwc2V1ZG9DbGFzcycpLnR5cGVcblxuICAgIC8vIGFwcGVuZCBvcHRpb25zIHRvIHRoZSBkb21cbiAgICBwc2V1ZG9DbGFzc2VzXG4gICAgICAgIC5tYXAoKHBzZXVkb0NsYXNzKSA9PiB7XG4gICAgICAgICAgLy8gY3JlYXRlIHRoZSBjb21ibyBib3ggb3B0aW9uc1xuICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgICAgb3B0aW9uLnZhbHVlID0gcHNldWRvQ2xhc3NcbiAgICAgICAgICBvcHRpb24uaW5uZXJIVE1MID0gcHNldWRvQ2xhc3MgK1xuICAgICAgICAgICAgICAoISF2aXNpYmlsaXR5RGF0YSAmJiAhIXZpc2liaWxpdHlEYXRhW3BzZXVkb0NsYXNzXSA/ICcgKicgOiAnJylcbiAgICAgICAgICByZXR1cm4gb3B0aW9uXG4gICAgICAgIH0pXG4gICAgICAgIC5mb3JFYWNoKChvcHRpb24pID0+IHRoaXMucHNldWRvQ2xhc3NDb21iby5hcHBlbmRDaGlsZChvcHRpb24pKVxuXG4gICAgLy8ga2VlcCBzZWxlY3Rpb25cbiAgICB0aGlzLnBzZXVkb0NsYXNzQ29tYm8uc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSW5kZXhcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIG5vcm1hbCBpZiBwc2V1ZG8gY2xhc3MgaXMgJydcbiAgICovXG4gIGdldFBzZXVkb0NsYXNzKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHNldWRvQ2xhc3NDb21iby52YWx1ZSA9PT0gJycgPyAnbm9ybWFsJyA6IHRoaXMucHNldWRvQ2xhc3NDb21iby52YWx1ZVxuICB9XG5cbiAgLyoqXG4gICAqIHV0aWxpdHkgZnVuY3Rpb24gdG8gY3JlYXRlIGEgc3R5bGUgaW4gdGhlIHN0eWxlIGNvbWJvIGJveCBvciBkdXBsaWNhdGUgb25lXG4gICAqL1xuICBjcmVhdGVTdHlsZShvcHRfZGF0YT86IFN0eWxlRGF0YSwgb3B0X2Niaz86ICgocDE/OiBzdHJpbmcpID0+IGFueSkpIHtcbiAgICBjb25zdCBib2R5ID0gZ2V0Qm9keSgpXG4gICAgY29uc3Qgbm9Cb2R5ID0gZ2V0RWxlbWVudHMoKS5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gYm9keSlcbiAgICBpZiAobm9Cb2R5Lmxlbmd0aCA8PSAwKSB7XG4gICAgICBOb3RpZmljYXRpb24uYWxlcnQoJ0NyZWF0ZSBhIHN0eWxlJywgJ0Vycm9yOiB5b3UgbmVlZCB0byBzZWxlY3QgYXQgbGVhc3QgMSBlbGVtZW50IGZvciB0aGlzIGFjdGlvbi4nLCAoKSA9PiB7fSlcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnByb21wdCgnQ3JlYXRlIGEgc3R5bGUnLCAnRW50ZXIgYSBuYW1lIGZvciB5b3VyIHN0eWxlIScsIG9wdF9kYXRhID8gb3B0X2RhdGEuZGlzcGxheU5hbWUgOiAnJywgJ1lvdXIgU3R5bGUnLCAoYWNjZXB0LCBuYW1lKSA9PiB7XG4gICAgICAgIGlmIChhY2NlcHQgJiYgbmFtZSAmJiBuYW1lICE9PSAnJykge1xuICAgICAgICAgIHRoaXMuZG9DcmVhdGVTdHlsZSh7bmFtZSwgb3B0X2RhdGF9KVxuICAgICAgICAgIGlmIChvcHRfY2JrKSB7XG4gICAgICAgICAgICBvcHRfY2JrKG5hbWUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBidWlsZCBhIG5ldyBjc3MgY2xhc3MgbmFtZSBmb3IgdGhlIHN0eWxlXG4gICAqL1xuICBnZXRDbGFzc05hbWVGcm9tQ2xhc3NOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gJ3N0eWxlLScgKyBuYW1lLnJlcGxhY2UoLyAvZywgJy0nKS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICAvKipcbiAgICogY2FsbGVkIGFmdGVyIHByb21wdHMgYW5kIGFsZXJ0c1xuICAgKiB0byBjcmVhdGUgYSBzdHlsZVxuICAgKi9cbiAgZG9DcmVhdGVTdHlsZSh7bmFtZSwgb3B0X2RhdGF9OiB7bmFtZTogc3RyaW5nLCBvcHRfZGF0YT86IFN0eWxlRGF0YX0sIHN0eWxlczogU3R5bGVEYXRhT2JqZWN0ID0gZ2V0U2l0ZSgpLnN0eWxlcywgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpLCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gdGhpcy5nZXRDbGFzc05hbWVGcm9tQ2xhc3NOYW1lKG5hbWUpXG5cbiAgICAvLyBjcmVhdGUgdGhlIG5ldyBzdHlsZVxuICAgIGluaXRTdHlsZShuYW1lLCBjbGFzc05hbWUsIG9wdF9kYXRhKVxuXG4gICAgLy8gYXBwbHkgaXQgdG8gdGhlIHNlbGVjdGlvblxuICAgIHRoaXMuYXBwbHlTdHlsZShjbGFzc05hbWUsIHN0eWxlcywgZWxlbWVudHMsIGRpc3BhdGNoKVxuXG4gICAgLy8gdXBkYXRlIHN0eWxlcyBsaXN0XG4gICAgdGhpcy51cGRhdGVTdHlsZUxpc3QoY2xhc3NOYW1lKVxuICB9XG5cbiAgLyoqXG4gICAqIHV0aWxpdHkgZnVuY3Rpb24gdG8gZGVsZXRlIGEgc3R5bGUgaW4gdGhlIHN0eWxlXG4gICAqIEBwYXJhbSBvcHRfY29uZmlybSwgZGVmYXVsdCBpcyB0cnVlLCBpZiBmYWxzZSBpdCB3aWxsIHNraXAgdXNlclxuICAgKiAgICAgY29uZmlybWF0aW9uIHBvcGluXG4gICAqL1xuICBkZWxldGVTdHlsZShuYW1lOiBzdHJpbmcsIG9wdF9jb25maXJtPzogYm9vbGVhbikge1xuICAgIGlmIChvcHRfY29uZmlybSA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuZG9EZWxldGVTdHlsZShuYW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobmFtZSA9PT0gQ29uc3RhbnRzLkJPRFlfU1RZTEVfQ1NTX0NMQVNTKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnRGVsZXRlIGEgc3R5bGUnLCBgXG4gICAgICAgICAgVGhlIHN0eWxlICcke0NvbnN0YW50cy5CT0RZX1NUWUxFX05BTUV9JyBpcyBhIHNwZWNpYWwgc3R5bGUsIHlvdSBjYW4gbm90IGRlbGV0ZSBpdC5cbiAgICAgICAgYCwgKCkgPT4ge30pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24uY29uZmlybSgnRGVsZXRlIGEgc3R5bGUnLCBgXG4gICAgICAgICAgSSBhbSBhYm91dCB0byBkZWxldGUgdGhlIHN0eWxlIDxiPiR7bmFtZX08L2I+ITxicj48YnI+QXJlIHlvdSBzdXJlP1xuICAgICAgICBgLCAoYWNjZXB0KSA9PiB7XG4gICAgICAgICAgaWYgKGFjY2VwdCkge1xuICAgICAgICAgICAgdGhpcy5kb0RlbGV0ZVN0eWxlKG5hbWUpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiByZWRyYXcgdGhlIHByb3BlcnRpZXNcbiAgICovXG4gIHByb3RlY3RlZCByZWRyYXcoc2VsZWN0ZWRFbGVtZW50czogRWxlbWVudFN0YXRlW10pIHtcbiAgICBzdXBlci5yZWRyYXcoc2VsZWN0ZWRFbGVtZW50cylcblxuICAgIGlmIChpc0RpYWxvZ1Zpc2libGUoJ3N0eWxlJywgJ3Byb3BlcnRpZXMnKSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJ1xuXG5cbiAgICAgIC8vIG1vYmlsZSBtb2RlXG4gICAgICB0aGlzLm1vYmlsZU9ubHlDaGVja2JveC5jaGVja2VkID0gZ2V0VWkoKS5tb2JpbGVFZGl0b3JcblxuICAgICAgLy8gZWRpdCB0aGUgc3R5bGUgb2YgdGhlIHNlbGVjdGlvblxuICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBnZXQgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIHN0eWxlLCBpLmUuIHdoaWNoIHN0eWxlIGFwcGxpZXMgdG8gdGhlbVxuICAgICAgICBjb25zdCBzZWxlY3Rpb25TdHlsZSA9ICgoKSA9PiB7XG4gICAgICAgICAgLy8gZ2V0IHRoZSBjbGFzcyBuYW1lcyBjb21tb24gdG8gdGhlIHNlbGVjdGlvblxuICAgICAgICAgIGNvbnN0IGNsYXNzTmFtZXMgPSB0aGlzLmdldFN0eWxlcyhzZWxlY3RlZEVsZW1lbnRzKVxuXG4gICAgICAgICAgLy8gY2hvb3NlIHRoZSBzdHlsZSB0byBlZGl0XG4gICAgICAgICAgaWYgKGNsYXNzTmFtZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGFzc05hbWVzWzBdXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBDb25zdGFudHMuQk9EWV9TVFlMRV9DU1NfQ0xBU1NcbiAgICAgICAgfSkoKVxuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlTGlzdChzZWxlY3Rpb25TdHlsZSlcblxuICAgICAgICAvLyBzaG93IHRleHQgc3R5bGVzIG9ubHkgd2hlbiBhIHRleHQgYm94IGlzIHNlbGVjdGVkXG4gICAgICAgIGNvbnN0IG9ubHlUZXh0cyA9IHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID4gMFxuICAgICAgICAmJiBzZWxlY3RlZEVsZW1lbnRzLmZpbHRlcigoZWwpID0+IGVsLnR5cGUgIT09IEVsZW1lbnRUeXBlLlRFWFQpLmxlbmd0aCA9PT0gMFxuICAgICAgICBpZiAob25seVRleHRzKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3N0eWxlLWVkaXRvci1ub3RleHQnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzdHlsZS1lZGl0b3Itbm90ZXh0JylcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRklYTUU6IG5vIG5lZWQgdG8gcmVjcmVhdGUgdGhlIHdob2xlIHN0eWxlIGxpc3QgZXZlcnkgdGltZSB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIGNoYW5nZXNcbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZUxpc3QoQ29uc3RhbnRzLkJPRFlfU1RZTEVfQ1NTX0NMQVNTKVxuICAgICAgICAvLyBzaG93IHRoZSB0ZXh0IHN0eWxlcyBpbiB0aGUgY2FzZSBvZiBcImFsbCBzdHlsZVwiIHNvIHRoYXQgdGhlIHVzZXIgY2FuIGVkaXQgdGV4dCBzdHlsZXMsIGV2ZW4gd2hlbiBubyB0ZXh0IGJveCBpcyBzZWxlY3RlZFxuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc3R5bGUtZWRpdG9yLW5vdGV4dCcpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIHV0aWxpdHkgZnVuY3Rpb24gdG8gZGVsZXRlIGEgc3R5bGUgaW4gdGhlIHN0eWxlXG4gICAqL1xuICBwcml2YXRlIGRvRGVsZXRlU3R5bGUobmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gdGhpcy5zdHlsZUNvbWJvLnF1ZXJ5U2VsZWN0b3IoJ29wdGlvblt2YWx1ZT1cIicgKyBuYW1lICsgJ1wiXScpXG5cbiAgICAvLyByZW1vdmUgZnJvbSBtb2RlbFxuICAgIHJlbW92ZVN0eWxlKG9wdGlvbi52YWx1ZSlcblxuICAgIC8vIHVwZGF0ZSBzdHlsZXMgbGlzdFxuICAgIHRoaXMuc3R5bGVDb21iby5yZW1vdmVDaGlsZChvcHRpb24pXG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBQcm9wZXJ0eSBwYW5lLCBkaXNwbGF5ZWQgaW4gdGhlIHByb3BlcnR5IHRvb2wgYm94LlxuICogQ29udHJvbHMgdGhlIGdlbmVyYWwgcGFyYW1zIG9mIHRoZSBzZWxlY3RlZCBjb21wb25lbnRcbiAqXG4gKi9cbmltcG9ydCB0YWdzSW5wdXQgZnJvbSAndGFncy1pbnB1dCdcblxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgRWxlbWVudFN0YXRlLCBBdHRyIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IFBhbmVCYXNlIH0gZnJvbSAnLi9QYW5lQmFzZSdcbmltcG9ydCB7IGdldFNlbGVjdGVkRWxlbWVudHMgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2ZpbHRlcnMnXG5pbXBvcnQgeyBpc0RpYWxvZ1Zpc2libGUgfSBmcm9tICcuLi8uLi91aS1zdG9yZS91dGlscydcbmltcG9ydCB7IHNldEF0dHJpYnV0ZXMsIHNldENsYXNzTmFtZSB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvZGlzcGF0Y2hlcnMnXG5pbXBvcnQgeyBzdWJzY3JpYmVFbGVtZW50cyB9IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBzdWJzY3JpYmVVaSB9IGZyb20gJy4uLy4uL3VpLXN0b3JlL2luZGV4J1xuXG4vKipcbiAqIG9uIG9mIFNpbGV4IEVkaXRvcnMgY2xhc3NcbiAqIGxldCB1c2VyIGVkaXQgc3R5bGUgb2Ygc2VsZWN0ZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFN0eWxlUGFuZSBleHRlbmRzIFBhbmVCYXNlIHtcbiAgLyoqXG4gICAqIGNzcyBjbGFzcyB0YWdzLWlucHV0IGNvbXBvbmVudFxuICAgKi9cbiAgY3NzQ2xhc3Nlc1RhZ3NJbnB1dDogYW55XG4gIGh0bWxBdHRySW5wdXQ6IGFueVxuXG4gIC8qKlxuICAgKiBwcmV2ZW50IGxvb3BzIGFuZCBzdGFnZSByZXNldCB3aGlsZSB1cGRhdGluZyB0aGUgdmFsdWUgZnJvbSBzdG9yZVxuICAgKi9cbiAgaUFtQ2hhbmdpbmcgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG5cbiAgICBzdXBlcihlbGVtZW50KVxuXG4gICAgY29uc3QgY3NzQ2xhc3Nlc0lucHV0ID0gdGhpcy5pbml0SW5wdXQoJy5zdHlsZS1jc3MtY2xhc3Nlcy1pbnB1dCcsICgpID0+IHRoaXMub25JbnB1dENoYW5nZWQoKSwgJ2JsdXInKVxuICAgIHRhZ3NJbnB1dChjc3NDbGFzc2VzSW5wdXQpXG4gICAgdGhpcy5jc3NDbGFzc2VzVGFnc0lucHV0ID0gY3NzQ2xhc3Nlc0lucHV0Lm5leHRFbGVtZW50U2libGluZ1xuICAgIHRoaXMuY3NzQ2xhc3Nlc1RhZ3NJbnB1dC5jbGFzc0xpc3QuYWRkKCdzaWxleC1pbnB1dCcpXG4gICAgLy8gYWRkIGEgbGlzdGVuZXIgZm9yIHRoZSBkZWxldGUgZXZlbnRcbiAgICB0aGlzLmluaXRDb21ib0JveCgnLnN0eWxlLWNzcy1jbGFzc2VzLWlucHV0JywgKCkgPT4gdGhpcy5vbklucHV0Q2hhbmdlZCgpKVxuXG4gICAgLy8gSFRNTCBhdHRyaWJ1dGUgaW5wdXRcbiAgICB0aGlzLmh0bWxBdHRySW5wdXQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN0eWxlLWNzcy1hdHRyLWlucHV0JylcbiAgICB0aGlzLmluaXRJbnB1dCgnLnN0eWxlLWNzcy1hdHRyLWlucHV0JywgKCkgPT4gdGhpcy5vbklucHV0Q2hhbmdlZCgpKVxuXG4gICAgc3Vic2NyaWJlVWkoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG5cbiAgICBzdWJzY3JpYmVFbGVtZW50cygoKSA9PiB7XG4gICAgICB0aGlzLnJlZHJhdyhnZXRTZWxlY3RlZEVsZW1lbnRzKCkpXG4gICAgfSlcbiAgfVxuXG4gIGdldENsYXNzZXNUYWdzKCkge1xuICAgIHJldHVybiB0aGlzLmNzc0NsYXNzZXNUYWdzSW5wdXQuZ2V0VmFsdWUoKS5zcGxpdCgnLCcpLmpvaW4oJyAnKVxuICB9XG5cbiAgc2V0Q2xhc3Nlc1RhZ3MoY3NzQ2xhc3Nlczogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuaUFtQ2hhbmdpbmcpIHJldHVyblxuICAgIGlmICh0aGlzLmdldENsYXNzZXNUYWdzKCkgIT09IGNzc0NsYXNzZXMpIHtcbiAgICAgIHRoaXMuaUFtQ2hhbmdpbmcgPSB0cnVlXG4gICAgICB0aGlzLmNzc0NsYXNzZXNUYWdzSW5wdXQuc2V0VmFsdWUoY3NzQ2xhc3Nlc1xuICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAuZmlsdGVyKChjbGFzc05hbWU6IHN0cmluZykgPT4gIUNvbnN0YW50cy5TSUxFWF9DTEFTU19OQU1FUy5pbmNsdWRlcyhjbGFzc05hbWUpKVxuICAgICAgICAuam9pbignLCcpKVxuICAgICAgdGhpcy5pQW1DaGFuZ2luZyA9IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZXIgaGFzIHNlbGVjdGVkIGEgY29sb3JcbiAgICovXG4gIG9uSW5wdXRDaGFuZ2VkKCkge1xuICAgIGlmICh0aGlzLmlBbUNoYW5naW5nKSByZXR1cm5cbiAgICB0aGlzLmlBbUNoYW5naW5nID0gdHJ1ZVxuXG4gICAgLy8gc3RvcmUgdGhlIGN1cnJlbnQgdmFsdWUgYXMgaXQgbWF5IGJlIG92ZXJyaWRlbiB3aGVuIGNzcyBjbGFzc2VzIGFyZSB1cGRhdGVkXG4gICAgY29uc3QgYXR0ciA9IHRoaXMuc3RyaW5nVG9BdHRyKHRoaXMuaHRtbEF0dHJJbnB1dC52YWx1ZSlcblxuICAgIC8vIENTUyBjbGFzc2VzXG4gICAgaWYgKHRoaXMuY3NzQ2xhc3Nlc1RhZ3NJbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ29mZicpKSB7XG4gICAgICB0aGlzLnNldENsYXNzZXNUYWdzKCcnKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmaWx0ZXJlZENsYXNzZXMgPSBnZXRTZWxlY3RlZEVsZW1lbnRzKClbMF0uY2xhc3NMaXN0XG4gICAgICAgIC5maWx0ZXIoKGNsYXNzTmFtZTogc3RyaW5nKSA9PiBDb25zdGFudHMuU0lMRVhfQ0xBU1NfTkFNRVMuaW5jbHVkZXMoY2xhc3NOYW1lKSlcbiAgICAgIHNldENsYXNzTmFtZSh0aGlzLmdldENsYXNzZXNUYWdzKCkgKyAnICcgKyBmaWx0ZXJlZENsYXNzZXMpXG4gICAgfVxuXG4gICAgLy8gSFRNTCBhdHRyaWJ1dGVzXG4gICAgc2V0QXR0cmlidXRlcyhhdHRyKVxuXG4gICAgdGhpcy5pQW1DaGFuZ2luZyA9IGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IHRoZSBwcm9wZXJ0aWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVkcmF3KHNlbGVjdGVkRWxlbWVudHM6IEVsZW1lbnRTdGF0ZVtdKSB7XG4gICAgaWYgKHRoaXMuaUFtQ2hhbmdpbmcpIHJldHVyblxuICAgIHN1cGVyLnJlZHJhdyhzZWxlY3RlZEVsZW1lbnRzKVxuXG4gICAgaWYgKGlzRGlhbG9nVmlzaWJsZSgnZGVzaWduJywgJ3Byb3BlcnRpZXMnKSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJ1xuXG4gICAgICAvLyBlZGl0IGNsYXNzZXMgb25seSBpZiB0aGVyZSBpcyAxIGVsZW1lbnRcbiAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXNUYWdzSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmJylcbiAgICAgICAgdGhpcy5zZXRDbGFzc2VzVGFncyhzZWxlY3RlZEVsZW1lbnRzWzBdLmNsYXNzTGlzdC5qb2luKCcgJykpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXNUYWdzSW5wdXQuY2xhc3NMaXN0LmFkZCgnb2ZmJylcbiAgICAgICAgdGhpcy5zZXRDbGFzc2VzVGFncygnJylcbiAgICAgIH1cblxuICAgICAgLy8gSFRNTCBhdHRyaWJ1dGVzXG4gICAgICBjb25zdCBhdHRyID0gdGhpcy5nZXRDb21tb25Qcm9wZXJ0eTxFbGVtZW50U3RhdGUsIHN0cmluZz4oc2VsZWN0ZWRFbGVtZW50cywgKGVsKSA9PiB0aGlzLmF0dHJUb1N0cmluZyhlbC5hdHRyKSlcbiAgICAgIGlmIChhdHRyID09IG51bGwgfHwgYXR0ciAhPT0gdGhpcy5hdHRyVG9TdHJpbmcodGhpcy5zdHJpbmdUb0F0dHIodGhpcy5odG1sQXR0cklucHV0LnZhbHVlKSkpIHtcbiAgICAgICAgdGhpcy5odG1sQXR0cklucHV0LnZhbHVlID0gYXR0ciB8fCAnJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgfVxuICBhdHRyVG9TdHJpbmcoYXR0cjogQXR0cik6IHN0cmluZyB7XG4gICAgaWYoYXR0ciA9PSBudWxsKSByZXR1cm4gJydcblxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhhdHRyKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSkpXG4gICAgLm1hcCgoW25hbWUsIHZhbF0pID0+IG5hbWUgKyAodmFsICE9IG51bGwgPyBgPVwiJHt2YWx9XCJgIDogJycpKVxuICAgIC5qb2luKCcgJylcbiAgfVxuICBzdHJpbmdUb0F0dHIodGV4dDogc3RyaW5nKTogQXR0ciB7XG4gICAgaWYodGV4dCA9PSBudWxsKSByZXR1cm4ge31cblxuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB0ZXh0Lm1hdGNoKC9cXGIoW2EteixBLVosXFwtLDpdKykoPVwiKC4qPylcIik/L2cpXG4gICAgaWYgKGF0dHJpYnV0ZXMgPT0gbnVsbCkgcmV0dXJuIHt9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7fVxuICAgIGF0dHJpYnV0ZXMuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgY29uc3QgW25hbWUsIHZhbF0gPSBhLnNwbGl0KCc9JylcbiAgICAgIGlmICh2YWwgPT0gbnVsbCkgcmVzdWx0W25hbWVdID0gbnVsbFxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHVucXVvdGVkID0gdmFsLnJlcGxhY2UoL15cIiguKylcIiQvLCckMScpXG4gICAgICAgIHJlc3VsdFtuYW1lXSA9IHVucXVvdGVkXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuIiwiaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdC1odG1sJ1xuXG5pbXBvcnQgeyBDb21wb25lbnRzRGVmaW5pdGlvbiB9IGZyb20gJy4uLy4uL2V4dGVybnMnXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMnXG5pbXBvcnQgeyBFbGVtZW50U3RhdGUsIEVsZW1lbnRUeXBlIH0gZnJvbSAnLi4vLi4vZWxlbWVudC1zdG9yZS90eXBlcydcbmltcG9ydCB7IFBhbmVCYXNlIH0gZnJvbSAnLi9QYW5lQmFzZSdcbmltcG9ydCB7XG4gIGdldEJvZHksXG4gIGdldENoaWxkcmVuLFxuICBnZXRTZWxlY3RlZEVsZW1lbnRzXG59IGZyb20gJy4uLy4uL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldENvbXBvbmVudHNEZWYgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2NvbXBvbmVudCdcbmltcG9ydCB7IGdldEN1cnJlbnRQYWdlIH0gZnJvbSAnLi4vLi4vcGFnZS1zdG9yZS9maWx0ZXJzJ1xuaW1wb3J0IHsgZ2V0RWxlbWVudHMgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlJ1xuaW1wb3J0IHsgaXNEaWFsb2dWaXNpYmxlIH0gZnJvbSAnLi4vLi4vdWktc3RvcmUvdXRpbHMnXG5pbXBvcnQgeyBpc1Zpc2libGVJblBhZ2UgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL3V0aWxzJ1xuaW1wb3J0IHsgc2VsZWN0RWxlbWVudHMgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2Rpc3BhdGNoZXJzJ1xuaW1wb3J0IHsgc3Vic2NyaWJlRWxlbWVudHMgfSBmcm9tICcuLi8uLi9lbGVtZW50LXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgc3Vic2NyaWJlVWkgfSBmcm9tICcuLi8uLi91aS1zdG9yZS9pbmRleCdcblxuY29uc3QgRUxFTUVOVF9JQ09OUyA9IHtcbiAgW0VsZW1lbnRUeXBlLkNPTlRBSU5FUl06ICdjb250YWluZXInLFxuICBbRWxlbWVudFR5cGUuU0VDVElPTl06ICdmYS1pbnZlcnNlIGZhLWZ3IGZhLWxpc3QtYWx0JyxcbiAgW0VsZW1lbnRUeXBlLklNQUdFXTogJ2ltYWdlJyxcbiAgW0VsZW1lbnRUeXBlLlRFWFRdOiAndGV4dCcsXG4gIFtFbGVtZW50VHlwZS5IVE1MXTogJ2ZhLWludmVyc2UgZmEtY29kZScsXG4gIFtDb25zdGFudHMuQ09NUE9ORU5UX1RZUEVdOiAnZmEtaW52ZXJzZSBmYS1zcXVhcmUnLFxuICBib2R5OiAnYm9keScsXG59XG5leHBvcnQgY2xhc3MgVHJlZVBhbmUgZXh0ZW5kcyBQYW5lQmFzZSB7XG4gIHRlbXBsYXRlID0gKFxuICAgIGNvbXBvbmVudHNEZWY6IENvbXBvbmVudHNEZWZpbml0aW9uLFxuICAgIHJvb3Q6IEVsZW1lbnRTdGF0ZSxcbiAgICBlbGVtZW50czogRWxlbWVudFN0YXRlW10sXG4gICAgbGlzdGVuZXI6IChlOiBFbGVtZW50U3RhdGUpID0+IHZvaWRcbiAgKSA9PiByb290ID8gaHRtbGBcbiAgICA8ZGV0YWlscyBzdHlsZT1cInBhZGRpbmc6IDVweCAxNXB4OyAke2dldEN1cnJlbnRQYWdlKCkgJiYgaXNWaXNpYmxlSW5QYWdlKHJvb3QsIGdldEN1cnJlbnRQYWdlKCkuaWQpID8gJycgOiAnb3BhY2l0eTogLjU7J31cIiBrZXk9JHtyb290LmlkfSBvcGVuPlxuICAgICAgPHN1bW1hcnkgY2xhc3M9XCIke3Jvb3Quc2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJyd9JHtyb290LmNoaWxkcmVuLmxlbmd0aCA/ICcnIDogJyBoaWRlLWRldGFpbHMtbWFya2VyJ31cIiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic21hbGwtaWNvbiBpY29uICR7RUxFTUVOVF9JQ09OU1tyb290LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2JvZHknID8gJ2JvZHknIDogcm9vdC5kYXRhLmNvbXBvbmVudCA/IENvbnN0YW50cy5DT01QT05FTlRfVFlQRSA6IHJvb3QudHlwZV19XCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBAY2xpY2s9JHsoZSkgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIocm9vdClcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfX0gc3R5bGU9XCJcbiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgXCI+XG4gICAgICAgICAgJHtyb290LnRhZ05hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eXFx3LywgKGMpID0+IGMudG9VcHBlckNhc2UoKSl9JHtyb290LmNsYXNzTGlzdC5sZW5ndGggPyAnLicgOiAnJ30ke3Jvb3QuY2xhc3NMaXN0LmpvaW4oJy4nKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zdW1tYXJ5PlxuICAgICAgJHtcbiAgICAgICAgZ2V0Q2hpbGRyZW4ocm9vdCwgZWxlbWVudHMpXG4gICAgICAgIC5tYXAoKGVsKSA9PiB0aGlzLnRlbXBsYXRlKGNvbXBvbmVudHNEZWYsIGVsLCBlbGVtZW50cywgbGlzdGVuZXIpKVxuICAgICAgfVxuICAgIDwvZGV0YWlscz5cbiAgYCA6ICcnIC8vIHJvb3QgaXMgdW5kZWZpbmVkIHdoZW4gb3BlbmluZyBhIHdlYnNpdGVcbiAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBzdXBlcihlbGVtZW50KVxuICAgIHN1YnNjcmliZVVpKCgpID0+IHtcbiAgICAgIGlmIChpc0RpYWxvZ1Zpc2libGUoJ3RyZWUtZWRpdG9yJywgJ3Byb3BlcnRpZXMnKSkge1xuICAgICAgICB0aGlzLnJlZHJhdyhnZXRTZWxlY3RlZEVsZW1lbnRzKCkpXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgc3Vic2NyaWJlRWxlbWVudHMoKCkgPT4ge1xuICAgICAgdGhpcy5yZWRyYXcoZ2V0U2VsZWN0ZWRFbGVtZW50cygpKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogcmVkcmF3IHRoZSBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSBzdGF0ZXMgdGhlIGVsZW1lbnRzIGN1cnJlbnRseSBzZWxlY3RlZFxuICAgKi9cbiAgcmVkcmF3KHNlbGVjdGVkRWxlbWVudHM6IEVsZW1lbnRTdGF0ZVtdKSB7XG4gICAgc3VwZXIucmVkcmF3KHNlbGVjdGVkRWxlbWVudHMpXG4gICAgY29uc3QgY29tcG9uZW50c0RlZiA9IGdldENvbXBvbmVudHNEZWYoQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFKVxuICAgIGNvbnN0IGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKVxuICAgIHJlbmRlcihcbiAgICAgIHRoaXMudGVtcGxhdGUoXG4gICAgICAgIGNvbXBvbmVudHNEZWYsXG4gICAgICAgIGdldEJvZHkoZWxlbWVudHMpLFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgKGVsKSA9PiBzZWxlY3RFbGVtZW50cyhbZWxdKSxcbiAgICAgIClcbiAgICAsIHRoaXMuZWxlbWVudClcbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgcHJvcGVydHkgcGFuZXMsXG4gKiB3aGljaCBkaXNwbGF5IHRoZSBzZWxlY3Rpb24gcHJvcGVydGllcyBpbiB0aGUgcHJvcGVydHkgdG9vbCBib3guXG4gKlxuICovXG5cbmltcG9ydCB7IEJnUGFuZSB9IGZyb20gJy4vcGFuZS9CZ1BhbmUnXG5pbXBvcnQgeyBCb3JkZXJQYW5lIH0gZnJvbSAnLi9wYW5lL0JvcmRlclBhbmUnXG5pbXBvcnQgeyBDb21wb25lbnRQYW5lIH0gZnJvbSAnLi9wYW5lL0NvbXBvbmVudFBhbmUnXG5pbXBvcnQgeyBFbGVtZW50U3RhdGUgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL3R5cGVzJ1xuaW1wb3J0IHsgR2VuZXJhbFN0eWxlUGFuZSB9IGZyb20gJy4vcGFuZS9HZW5lcmFsU3R5bGVQYW5lJ1xuaW1wb3J0IHsgUGFnZVBhbmUgfSBmcm9tICcuL3BhbmUvUGFnZVBhbmUnXG5pbXBvcnQgeyBQcm9wZXJ0eVBhbmUgfSBmcm9tICcuL3BhbmUvUHJvcGVydHlQYW5lJ1xuaW1wb3J0IHsgU3R5bGVFZGl0b3JQYW5lIH0gZnJvbSAnLi9wYW5lL1N0eWxlRWRpdG9yUGFuZSdcbmltcG9ydCB7IFN0eWxlUGFuZSB9IGZyb20gJy4vcGFuZS9TdHlsZVBhbmUnXG5pbXBvcnQgeyBUcmVlUGFuZSB9IGZyb20gJy4vcGFuZS9UcmVlUGFuZSdcbmltcG9ydCB7IGJyb3dzZSwgZWRpdExpbmsgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL3V0aWxzJ1xuaW1wb3J0IHsgZ2V0U2VsZWN0ZWRFbGVtZW50cyB9IGZyb20gJy4uL2VsZW1lbnQtc3RvcmUvZmlsdGVycydcbmltcG9ydCB7IGdldFNpdGUgfSBmcm9tICcuLi9zaXRlLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWksIHN1YnNjcmliZVVpIH0gZnJvbSAnLi4vdWktc3RvcmUvaW5kZXgnXG5pbXBvcnQgeyBnZXRVaUVsZW1lbnRzIH0gZnJvbSAnLi4vdWktc3RvcmUvVWlFbGVtZW50cydcbmltcG9ydCB7IGdldFZpc2libGVEaWFsb2dzIH0gZnJvbSAnLi4vdWktc3RvcmUvdXRpbHMnXG5pbXBvcnQge1xuICBpc0NvbXBvbmVudCxcbiAgb3BlbkNvbXBvbmVudEVkaXRvcixcbiAgcmVzZXRDb21wb25lbnRFZGl0b3Jcbn0gZnJvbSAnLi4vZWxlbWVudC1zdG9yZS9jb21wb25lbnQnXG5pbXBvcnQgeyBzdWJzY3JpYmVFbGVtZW50cywgdXBkYXRlRWxlbWVudHMgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgdGFiYmVkIH0gZnJvbSAnLi90YWJiZWQnXG5pbXBvcnQgeyB1cGRhdGVVaSB9IGZyb20gJy4uL3VpLXN0b3JlJ1xuXG4vLyBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIHRoZSBVSVxuY29uc3QgZWxlbWVudCA9IGdldFVpRWxlbWVudHMoKS5wcm9wZXJ0eVRvb2xcblxuLy8gaW5pdCBvbmNlIHRvIGNyZWF0ZSBhbGwgcGFuZXMgYW5kIGF0dGFjaCBldmVudHMgdG8gdGhlIFVJXG5sZXQgaW5pdERvbmUgPSBmYWxzZVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRQcm9wZXJ0eVRvb2woKSB7XG4gIC8vIHNldFRpbWVvdXQgdG8gbGV0IHNpbXBsZWJhciBsaWIgaW5pdGlhbGl6ZVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZighaW5pdERvbmUpIGJ1aWxkVWkoKVxuICAgIGluaXREb25lID0gdHJ1ZVxuICB9LCAwKVxufVxuXG4vKipcbiAqIGJ1aWxkIHRoZSBVSVxuICovXG5mdW5jdGlvbiBidWlsZFVpKCkge1xuICBjb25zdCBiZ1BhbmUgPSBuZXcgQmdQYW5lKGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tncm91bmQtZWRpdG9yJykpXG4gIGNvbnN0IGJvcmRlclBhbmUgPSBuZXcgQm9yZGVyUGFuZShlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3JkZXItZWRpdG9yJykpXG4gIGNvbnN0IGNvbXBvbmVudFBhbmUgPSBuZXcgQ29tcG9uZW50UGFuZShlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21wb25lbnQtZ2VuZXJpYy1lZGl0b3InKSlcbiAgY29uc3QgcHJvcGVydHlQYW5lID0gbmV3IFByb3BlcnR5UGFuZShlbGVtZW50KVxuICBjb25zdCBwYWdlUGFuZSA9IG5ldyBQYWdlUGFuZShlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWVkaXRvcicpKVxuICBjb25zdCBnZW5lcmFsU3R5bGVQYW5lID0gbmV3IEdlbmVyYWxTdHlsZVBhbmUoZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2VuZXJhbC1lZGl0b3InKSlcbiAgY29uc3Qgc3R5bGVQYW5lID0gbmV3IFN0eWxlUGFuZShlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdHlsZS1lZGl0b3InKSlcblxuICAvLyBTdHlsZSBlZGl0b3JcbiAgY29uc3Qgc3R5bGVFZGl0b3JNZW51ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZG90eXBlLXN0eWxlLWVkaXRvcicpIGFzIEhUTUxFbGVtZW50XG4gIGNvbnN0IHN0eWxlRWRpdG9yUGFuZSA9IG5ldyBTdHlsZUVkaXRvclBhbmUoc3R5bGVFZGl0b3JNZW51KVxuXG4gIC8vIGV4cGFuZGFibGVzXG4gIGNvbnN0IGV4cGFuZGFibGVzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXhwYW5kYWJsZSBsZWdlbmQnKVxuICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBleHBhbmRhYmxlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgY29uc3QgZWw6IEhUTUxFbGVtZW50ID0gZXhwYW5kYWJsZXNbaWR4XSBhcyBIVE1MRWxlbWVudFxuICAgIGNvbnN0IGxzS2V5ID0gJ3NpbGV4LWV4cGFuZC1wcm9wZXJ0eS0nICsgaWR4XG4gICAgY29uc3QgaXNFeHBhbmQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obHNLZXkpID09PSAndHJ1ZSdcbiAgICBpZiAoaXNFeHBhbmQpIHtcbiAgICAgIHRvZ2dsZVBhbmVsKGVsKVxuICAgIH1cbiAgICBlbC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgIHRvZ2dsZVBhbmVsKGVsKVxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGxzS2V5LCAoZWwucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpLnRvU3RyaW5nKCkpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgdGFiQ29udGFpbmVyOiBIVE1MRWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnRhYnMgLnNpbXBsZWJhci1jb250ZW50JylcbiAgdGFiYmVkKHRhYkNvbnRhaW5lciwgJ3Byb3BlcnRpZXMnKVxuXG4gIC8vIGRpc3BsYXkgY29tcG9uZW50IHdoZW4gcG9zc2libGVcbiAgc3Vic2NyaWJlRWxlbWVudHMoKCkgPT4gdXBkYXRlQ29tcG9uZW50VG9vbCgpKVxuICBzdWJzY3JpYmVVaSgoKSA9PiB1cGRhdGVDb21wb25lbnRUb29sKCkpXG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgLy8gYWRkaXRpb25hbCBwYW5lc1xuICAgIC8vIFRPRE86IGFsbCBwYW5lcyBzaG91bGQgYmUgY3JlYXRlZCBsaWtlIHRoaXNcbiAgICBjb25zdCB1aSA9IGdldFVpKClcbiAgICB1cGRhdGVVaSh7XG4gICAgICAuLi51aSxcbiAgICAgIGRpYWxvZ3M6IHVpLmRpYWxvZ3MuY29uY2F0KHtcbiAgICAgICAgaWQ6ICd0cmVlLWVkaXRvcicsXG4gICAgICAgIHR5cGU6ICdwcm9wZXJ0aWVzJyxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdmYSBmYS1sZyBmYS1saXN0JyxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfSlcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJylcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZWRpdG9yLWNvbnRhaW5lcicsICd0cmVlLWVkaXRvci1jb250YWluZXInKVxuICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoY29udGFpbmVyKVxuICAgIG5ldyBUcmVlUGFuZShjb250YWluZXIpXG4gIH0sIDEwMClcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50VG9vbCgpIHtcbiAgY29uc3QgY29tcG9uZW50RWRpdG9yTWVudSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnByb2RvdHlwZS1jb21wb25lbnQtZWRpdG9yJykgYXMgSFRNTEVsZW1lbnRcbiAgY29uc3Qgc2VsZWN0ZWRDb21wb25lbnRzID0gZ2V0U2VsZWN0ZWRFbGVtZW50cygpLmZpbHRlcigoZSkgPT4gaXNDb21wb25lbnQoZSkpXG4gIGNvbnN0IFtjdXJyZW50VG9vbGJveF0gPSBnZXRWaXNpYmxlRGlhbG9ncygncHJvcGVydGllcycpXG5cbiAgaWYgKGN1cnJlbnRUb29sYm94Py5pZCA9PT0gJ3BhcmFtcycgJiYgc2VsZWN0ZWRDb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIGVkaXRDb21wb25lbnQoc2VsZWN0ZWRDb21wb25lbnRzWzBdKVxuICAgIGNvbXBvbmVudEVkaXRvck1lbnUuc3R5bGUuZGlzcGxheSA9ICcnXG4gIH0gZWxzZSB7XG4gICAgY29tcG9uZW50RWRpdG9yTWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgcmVzZXRDb21wb25lbnRFZGl0b3IoKVxuICB9XG59XG5cbi8qKlxuICogdG9nZ2xlIGEgcHJvcGVydHkgcGFuZWxcbiAqIFRPRE86IHVzZSBkZXRhaWxzIHRhZyBpbnN0ZWFkIG9mIGNzcyBjbGFzc2VzXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZVBhbmVsKGVsOiBIVE1MRWxlbWVudCkge1xuICAoZWwucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LnRvZ2dsZSgnZXhwYW5kZWQnKVxuICBjb25zdCBjYXJldCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5mYS1pbnZlcnNlJylcbiAgaWYgKGNhcmV0KSB7XG4gICAgY2FyZXQuY2xhc3NMaXN0LnRvZ2dsZSgnZmEtY2FyZXQtcmlnaHQnKVxuICAgIGNhcmV0LmNsYXNzTGlzdC50b2dnbGUoJ2ZhLWNhcmV0LWRvd24nKVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnQsIHRoZSBjb21wb25lbnQgdG8gZWRpdFxuICovXG5mdW5jdGlvbiBlZGl0Q29tcG9uZW50KGNvbXBvbmVudDogRWxlbWVudFN0YXRlKSB7XG4gIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LmRhdGEuY29tcG9uZW50KSB7XG4gICAgY29uc3QgY29tcG9uZW50RGF0YSA9IGNvbXBvbmVudC5kYXRhLmNvbXBvbmVudFxuICAgIG9wZW5Db21wb25lbnRFZGl0b3Ioe1xuICAgICAgZGF0YTogY29tcG9uZW50RGF0YS5kYXRhLFxuICAgICAgZGF0YVNvdXJjZXM6IGdldFNpdGUoKS5kYXRhU291cmNlcyxcbiAgICAgIHRlbXBsYXRlTmFtZTogY29tcG9uZW50RGF0YS50ZW1wbGF0ZU5hbWUsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgb25DaGFuZ2U6IChuZXdEYXRhLCBodG1sKSA9PiB7XG4gICAgICAgICAgLy8gc3RvcmUgdGhlIGNvbXBvbmVudCdzIGRhdGEgZm9yIGxhdGVyIGVkaXRpb25cbiAgICAgICAgICB1cGRhdGVFbGVtZW50cyhbe1xuICAgICAgICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAuLi5jb21wb25lbnQuZGF0YSxcbiAgICAgICAgICAgICAgY29tcG9uZW50OiB7XG4gICAgICAgICAgICAgICAgLi4uY29tcG9uZW50LmRhdGEuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmNvbXBvbmVudC5kYXRhLmNvbXBvbmVudC5kYXRhLFxuICAgICAgICAgICAgICAgICAgLi4ubmV3RGF0YSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlubmVySHRtbDogaHRtbCxcbiAgICAgICAgICB9XSlcblxuICAgICAgICB9LFxuICAgICAgICBvbkJyb3dzZTogKGUsIHVybCwgY2JrKSA9PiBicm93c2UoZSwgY2JrKSxcbiAgICAgICAgb25FZGl0TGluazogKGUsIGxpbmssIGNiaykgPT4gZWRpdExpbmsoZSwgbGluaywgY2JrKSxcbiAgICAgIH1cbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJlc2V0Q29tcG9uZW50RWRpdG9yKClcbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNpbGV4IHdvcmtzcGFjZSBpcyBpbiBjaGFyZ2Ugb2YgaW5pdGlhbGl6YXRpb24gb2ZcbiAqICAgdGhlIG1haW4gVUkgZWxlbWVudHMuXG4gKiBJdCByZWZyZXNoZXMgdGhlIHZpZXcgd2hlbiB0aGUgd2luZG93IHNpemUgY2hhbmdlc1xuICovXG5cbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgVXJsIH0gZnJvbSAnLi4vdXRpbHMvVXJsJ1xuaW1wb3J0IHsgZ2V0UHJvcGVydHlTcGxpdHRlciB9IGZyb20gJy4vUHJvcFNwbGl0dGVyJ1xuaW1wb3J0IHsgZ2V0U2l0ZUlGcmFtZSB9IGZyb20gJy4vU2l0ZUZyYW1lJ1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4uL3VpLXN0b3JlL1VpRWxlbWVudHMnXG5pbXBvcnQgeyBpbml0QnJlYWRDcnVtYnMgfSBmcm9tICcuL0JyZWFkQ3J1bWJzJ1xuaW1wb3J0IHsgaW5pdENvbnRleHRNZW51IH0gZnJvbSAnLi9Db250ZXh0TWVudSdcbmltcG9ydCB7IGluaXRNZW51IH0gZnJvbSAnLi9NZW51J1xuaW1wb3J0IHsgaW5pdFBhZ2VUb29sIH0gZnJvbSAnLi9QYWdlVG9vbCdcbmltcG9ydCB7IGluaXRQcm9kb3R5cGUgfSBmcm9tICcuLi9lbGVtZW50LXN0b3JlL2NvbXBvbmVudCdcbmltcG9ydCB7IGluaXRQcm9wZXJ0eVRvb2wgfSBmcm9tICcuL1Byb3BlcnR5VG9vbCdcbmltcG9ydCB7IGlzRGlydHkgfSBmcm9tICcuLi9kaXJ0eSdcbmltcG9ydCB7IG9wZW5SZWNlbnQgfSBmcm9tICcuLi9maWxlJ1xuXG4vKipcbiAqIGNyZWF0ZSB0aGUgd29ya3NwYWNlLCBzdGFydCBsaXN0ZW5pbmcgdG8gd2luZG93IGV2ZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV29ya3NwYWNlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIC8vIGNyZWF0aW9uIG9mIHRoZSB2aWV3IGluc3RhbmNlc1xuICBpbml0TWVudSgpXG4gIGluaXRDb250ZXh0TWVudSgpXG4gIGluaXRCcmVhZENydW1icygpXG4gIGluaXRQYWdlVG9vbCgpXG4gIGluaXRQcm9wZXJ0eVRvb2woKVxuXG4gIC8vIGluaXQgc3R5bGUgZWRpdG9yIGFuZCBjb21wb25lbnQgZWRpdG9yXG4gIGluaXRQcm9kb3R5cGUoKVxuXG4gIC8vIC8vIGNvZGUgZWRpdG9ycyBuZWVkIHRvIHN0YXJ0IGxpc3RlbmluZyB0byBzdG9yZVxuICAvLyAvLyB3YXMgZG9uZSBpbiB0aGUgV29ya3NwYWNlIGNvbXBvbmVudCBidXQgdGhlIGxhdGVyIHRoZSBiZXR0ZXJcbiAgLy8gaW5pdENzc0VkaXRvcigpXG4gIC8vIGluaXRKc0VkaXRvcigpXG4gIC8vIGluaXRIdG1sRWRpdG9yKClcblxuICAvLyBhZGQgc3BsaXR0ZXJzXG4gIGNvbnN0IHVpRWxlbWVudHMgPSBnZXRVaUVsZW1lbnRzKClcbiAgY29uc3QgcHJvcFNwbGl0dGVyID0gZ2V0UHJvcGVydHlTcGxpdHRlcigpXG4gIHByb3BTcGxpdHRlci5hZGRMZWZ0KHVpRWxlbWVudHMuY29udGV4dE1lbnUpXG4gIHByb3BTcGxpdHRlci5hZGRMZWZ0KHVpRWxlbWVudHMuYnJlYWRDcnVtYnMpXG4gIHByb3BTcGxpdHRlci5hZGRMZWZ0KGdldFNpdGVJRnJhbWUoKS5wYXJlbnRFbGVtZW50KVxuICBwcm9wU3BsaXR0ZXIuYWRkUmlnaHQodWlFbGVtZW50cy5wcm9wZXJ0eVRvb2wpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0U2luZ2xlU2l0ZU1vZGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gaGlkZSBtZW51IGl0ZW1zXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdzaW5nbGUtc2l0ZS1tb2RlJylcbiAgICAvLyBvcGVuIHRoZSB3ZWJzaXRlIGZyb20gdXJsXG4gICAgY29uc3QgcGFyYW1zID0gVXJsLmdldFVybFBhcmFtcygpXG4gICAgY29uc3QgeyBwYXRoLCBzZXJ2aWNlIH06IHsgcGF0aDogc3RyaW5nLCBzZXJ2aWNlOiBzdHJpbmcgfSA9IHBhcmFtc1xuICAgIGlmIChwYXRoICYmIHNlcnZpY2UpIHtcbiAgICAgIG9wZW5SZWNlbnQoe1xuICAgICAgICBwYXRoLFxuICAgICAgICBzZXJ2aWNlLFxuICAgICAgICBhYnNQYXRoOiBgL2NlLyR7c2VydmljZX0vZ2V0JHtwYXRofWAsXG4gICAgICAgIG5hbWU6IHBhdGguc3BsaXQoJy8nKS5wb3AoKSxcbiAgICAgICAgbWltZTogJycsXG4gICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgLy8gdXJsOiBgJHtVcmwuZ2V0Um9vdFVybCgpfS9jZS8ke3BhcmFtcy5zZXJ2aWNlfS9nZXQke3BhcmFtcy5wYXRofWAsXG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLmFsZXJ0KCdPcGVuIGEgZmlsZScsIGBcbiAgICAgICAgICBDb3VsZCBub3Qgb3BlbiB0aGUgZmlsZSAke3BhcmFtcy5wYXRofS48YnIgLz48YnIgLz5cbiAgICAgICAgICBZb3UgbmVlZCB0byBzcGVjaWZ5IHdoaWNoIHdlYnNpdGUgSSBhbSBzdXBwb3NlZCB0byBvcGVuIHdpdGggdGhlIHZhcmlhYmxlcyBcInBhdGhcIiBhbmQgXCJzZXJ2aWNlXCIgaW4gdGhlIFVSTC4gUGxlYXNlIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vc2lsZXhsYWJzL1NpbGV4L3dpa2kvU2luZ2xlLXNpdGUtbW9kZVwiIHRhcmdldD1cIl9ibGFua1wiPmNoZWNrIHRoaXMgZG9jdW1lbnQ8L2E+IG9yIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vc2lsZXhsYWJzL1NpbGV4L2lzc3Vlc1wiIHRhcmdldD1cIl9ibGFua1wiPmdldCBpbiB0b3VjaCBpbiBTaWxleCBmb3J1bXNcIjwvYT5cbiAgICAgIGAsXG4gICAgICAoKSA9PiB7fSlcbiAgICAgIHJlamVjdCgpXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIGhhbmRsZSB0aGUgXCJwcmV2ZW50IGxlYXZlIHBhZ2VcIiBtZWNoYW5pc21cbiAqIGxpc3RlbiBmb3IgdGhlIHVubG9hZCBldmVudCBhbmQgd2FybiB0aGUgdXNlclxuICogcHJldmVudCBxdWl0IG9ubHkgd2hlbiB0aGUgY3VycmVudCB3ZWJzaXRlIGlzIGRpcnR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50UXVpdCgpIHtcbiAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gKCkgPT4ge1xuICAgIGlmIChpc0RpcnR5KCkpIHtcbiAgICAgIHJldHVybiAnWW91IGhhdmUgdW5zYXZlZCBtb2RpZmljYXRpb25zLCBhcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgbWU/J1xuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuSWZXaW5kb3dUb29TbWFsbCgpIHtcbiAgLy8gaGVpZ2h0IG11c3QgYmUgZW5vdWdoIHRvIHZpZXcgdGhlIHNldHRpbmdzIHBhbm5lbFxuICAvLyB3aWR0aCBpcyBqdXN0IGFyYml0cmFyeVxuICBjb25zdCB3aW5TaXplV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgY29uc3Qgd2luU2l6ZUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgY29uc3QgbWluV2luU2l6ZVdpZHRoID0gOTUwXG4gIGNvbnN0IG1pbldpblNpemVIZWlnaHQgPSA2MzBcbiAgaWYgKHdpblNpemVIZWlnaHQgPCBtaW5XaW5TaXplSGVpZ2h0IHx8IHdpblNpemVXaWR0aCA8IG1pbldpblNpemVXaWR0aCkge1xuICAgIE5vdGlmaWNhdGlvbi5hbGVydCgnV2FybmluZycsXG4gICAgICAgIGBZb3VyIHdpbmRvdyBpcyB2ZXJ5IHNtYWxsICgke3dpblNpemVXaWR0aH14JHtcbiAgICAgICAgICAgIHdpblNpemVIZWlnaHR9KSBhbmQgU2lsZXggbWF5IG5vdCBkaXNwbGF5IGNvcnJlY3RseS48YnI+PGJyPkNvbnNpZGVyZSBtYXhpbWl6aW5nIHRoZSB3aW5kb3cgb3IgdXNlIGEgYmlnZ2VyIHNjcmVlbiB0byB1c2UgU2lsZXggYXQgaXRzIGJlc3QuIEEgd2luZG93IHNpemUgb2YgJHtcbiAgICAgICAgICAgIG1pbldpblNpemVXaWR0aH14JHtcbiAgICAgICAgICAgIG1pbldpblNpemVIZWlnaHR9IGlzIGNvbnNpZGVyZWQgdG8gYmUgYSBhY2NlcHRhYmxlLmAsXG4gICAgICAgICgpID0+IHt9KVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIERlZmluZXMgdGhlIGVudHJ5IHBvaW50IG9mIFNpbGV4IGNsaWVudCBzaWRlIGFwcGxpY2F0aW9uXG4gKlxuICovXG5cbmltcG9ydCAnc2ltcGxlYmFyJ1xuaW1wb3J0IHsgZGV0ZWN0IH0gZnJvbSAnZGV0ZWN0LWJyb3dzZXInXG5cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vQ2xpZW50Q29uZmlnJ1xuaW1wb3J0IHsgTE9BRElORyB9IGZyb20gJy4vdWktc3RvcmUvdHlwZXMnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvTm90aWZpY2F0aW9uJ1xuaW1wb3J0IHsgY3JlYXRlV29ya3NwYWNlLCBpbml0U2luZ2xlU2l0ZU1vZGUsIHByZXZlbnRRdWl0LCB3YXJuSWZXaW5kb3dUb29TbWFsbCB9IGZyb20gJy4vY29tcG9uZW50cy9Xb3Jrc3BhY2UnXG5pbXBvcnQgeyBnZXRVaSwgdXBkYXRlVWkgfSBmcm9tICcuL3VpLXN0b3JlL2luZGV4J1xuaW1wb3J0IHsgZ2V0VWlFbGVtZW50cyB9IGZyb20gJy4vdWktc3RvcmUvVWlFbGVtZW50cydcbmltcG9ydCB7IGluaXRPYnNlcnZlcnMgfSBmcm9tICcuL3N0b3JlL29ic2VydmVyJ1xuaW1wb3J0IHsgb3BlbkRhc2hib2FyZFRvTG9hZEFXZWJzaXRlIH0gZnJvbSAnLi9maWxlJ1xuaW1wb3J0IHsgcmVzZXREaXJ0eSB9IGZyb20gJy4vZGlydHknXG5cbmxldCBpbml0RG9uZSA9IGZhbHNlXG5cbi8vIGNhbGxlZCB3aGVuIFNpbGV4IGhhcyBzdGFydGVkXG4vLyBoaWRlIGxvYWRpbmcgYW5kIHNob3cgdGhlIFVJXG4vLyBub3QgY2FsbGVkIHdoZW4gc2luZ2xlIHNpdGUgbW9kZVxuZnVuY3Rpb24gYWZ0ZXJJbml0KCkge1xuICB1cGRhdGVVaSh7XG4gICAgLi4uZ2V0VWkoKSxcbiAgICBsb2FkaW5nOiBMT0FESU5HLk5PTkUsXG4gIH0pXG4gIHJlc2V0RGlydHkoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHsgY29uc29sZS53YXJuKCdjYWxsaW5nIHdpbmRvdy5zaWxleC5pbml0KCkgaXMgZGVwcmVjYXRlZCcpIH1cblxuLy8gc3RhcnQgU2lsZXgsIGNhbGxlZCBmcm9tIGhvc3QgSFRNTCBwYWdlIHdpdGggd2luZG93LnNpbGV4LnN0YXJ0KClcbmV4cG9ydCBmdW5jdGlvbiBzdGFydCgpIHtcbiAgLy8gbWFrZSBzdXJlIFNpbGV4IGlzIGluc3RhbmNpYXRlZCBvbmx5IG9uY2VcbiAgaWYgKGluaXREb25lKSB0aHJvdyBuZXcgRXJyb3IoJ1NpbGV4IGhhcyBhbHJlYWR5IGJlZW4gaW5zdGFuY2lhdGVkJylcbiAgaW5pdERvbmUgPSB0cnVlXG5cbiAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgIGNvbnNvbGUud2FybignU2lsZXggc3RhcnRpbmcgaW4gZGVidWcgbW9kZS4nKVxuICB9XG5cbiAgLy8gd2FybmluZyB3aGVuIG5vdCBmZiBvciBjaHJvbWVcbiAgY29uc3QgYnJvd3NlciA9IGRldGVjdCgpXG4gIGNvbnN0IGlzRmlyZWZveCA9IGJyb3dzZXIgJiYgYnJvd3Nlci5uYW1lID09PSAnZmlyZWZveCdcbiAgY29uc3QgaXNDaHJvbWUgPSBicm93c2VyICYmIGJyb3dzZXIubmFtZSA9PT0gJ2Nocm9tZSdcblxuICBpZiAoIWlzRmlyZWZveCAmJiAhaXNDaHJvbWUpIHtcbiAgICBOb3RpZmljYXRpb24uYWxlcnQoJ1dhcm5pbmcnLFxuICAgICAgYFlvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkIHlldC5cbiAgICAgIDxicj48YnI+XG4gICAgICBDb25zaWRlcmUgdXNpbmcgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1vemlsbGEub3JnL2ZpcmVmb3gvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+RmlyZWZveDwvYT5cbiAgICAgIG9yIDxhIGhyZWY9XCJodHRwczovL3d3dy5nb29nbGUuY29tL2Nocm9tZS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5jaHJvbWU8L2E+LlxuICAgICAgPGJyPjxicj5cbiAgICAgIDxzbWFsbD5Ob3RlOiBJIGJlbGlldmUgeW91IHVzZSAkeyBicm93c2VyID8gYnJvd3Nlci5uYW1lIDogJ1Vua25vd24nIH08L3NtYWxsPlxuICAgICAgYCxcbiAgICAgICgpID0+IHt9KVxuICB9XG5cbiAgLy8gY3JlYXRlIGFsbCB0aGUgY29tcG9uZW50cyBvZiBTaWxleCBhcHBcbiAgY3JlYXRlV29ya3NwYWNlKGdldFVpRWxlbWVudHMoKS53b3Jrc3BhY2UpXG5cbiAgLy8gc3RhcnQgb2JzZXJ2ZXJzXG4gIGluaXRPYnNlcnZlcnMoKVxuXG4gIC8vIHRoZSBidWlsZCB0eXBlXG4gIGlmICghY29uZmlnLmRlYnVnKSB7XG4gICAgLy8gd2FybiB3aGVuIGNsb3Npbmcgd2luZG93IGlmIGNoYW5nZXMgYXJlIG5vdCBzYXZlZCB5ZXRcbiAgICBwcmV2ZW50UXVpdCgpXG5cbiAgICAvLyB3YXJuaW5nIHNtYWxsIHNjcmVlbiBzaXplXG4gICAgd2FybklmV2luZG93VG9vU21hbGwoKVxuICB9XG5cbiAgLy8gYXBwbGljYXRpb24gc3RhcnQsIG9wZW4gYSBmaWxlXG4gIGlmIChjb25maWcuc2luZ2xlU2l0ZU1vZGUpIHtcbiAgICByZXNldERpcnR5KClcbiAgICBpbml0U2luZ2xlU2l0ZU1vZGUoKVxuICB9IGVsc2Uge1xuICAgIG9wZW5EYXNoYm9hcmRUb0xvYWRBV2Vic2l0ZSgoKSA9PiBhZnRlckluaXQoKSwgKCkgPT4gYWZ0ZXJJbml0KCkpXG4gIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyg0MTI1KTtcbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18uaG1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUgPSBPYmplY3QuY3JlYXRlKG1vZHVsZSk7XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgJ2V4cG9ydHMnLCB7XG5cdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRzZXQ6ICgpID0+IHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignRVMgTW9kdWxlcyBtYXkgbm90IGFzc2lnbiBtb2R1bGUuZXhwb3J0cyBvciBleHBvcnRzLiosIFVzZSBFU00gZXhwb3J0IHN5bnRheCwgaW5zdGVhZDogJyArIG1vZHVsZS5pZCk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiXSwic291cmNlUm9vdCI6IiJ9